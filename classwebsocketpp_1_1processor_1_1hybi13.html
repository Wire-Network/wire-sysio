<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: websocketpp::processor::hybi13&lt; config &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classwebsocketpp_1_1processor_1_1hybi13.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classwebsocketpp_1_1processor_1_1hybi13-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">websocketpp::processor::hybi13&lt; config &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Processor for Hybi version 13 (RFC6455)  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for websocketpp::processor::hybi13&lt; config &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13__inherit__graph.png" border="0" usemap="#awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_inherit__map" id="awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_inherit__map">
<area shape="rect" title="Processor for Hybi version 13 (RFC6455)" alt="" coords="5,94,169,135"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi08.html" title="Processor for Hybi Draft version 08." alt="" coords="5,183,169,223"/>
<area shape="poly" title=" " alt="" coords="90,150,90,182,84,182,84,150"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1processor.html" title="WebSocket protocol processor abstract base class." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="90,62,90,94,84,94,84,62"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi07.html" title="Processor for Hybi Draft version 07." alt="" coords="5,271,169,312"/>
<area shape="poly" title=" " alt="" coords="90,239,90,271,84,271,84,239"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for websocketpp::processor::hybi13&lt; config &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13__coll__graph.png" border="0" usemap="#awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_coll__map" id="awebsocketpp_1_1processor_1_1hybi13_3_01config_01_4_coll__map">
<area shape="rect" title="Processor for Hybi version 13 (RFC6455)" alt="" coords="708,187,871,227"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1processor.html" title="WebSocket protocol processor abstract base class." alt="" coords="376,5,539,46"/>
<area shape="poly" title=" " alt="" coords="555,33,621,50,654,63,685,79,716,103,742,132,779,185,775,188,738,135,712,107,683,84,652,68,620,55,554,38"/>
<area shape="rect" title=" " alt="" coords="69,88,126,113"/>
<area shape="poly" title=" " alt="" coords="141,97,239,97,375,104,530,123,609,138,685,158,749,184,747,189,683,163,608,143,529,128,375,110,239,103,141,102"/>
<area shape="poly" title=" " alt="" coords="141,89,375,40,376,45,142,94"/>
<area shape="rect" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html" title=" " alt="" coords="376,212,539,268"/>
<area shape="poly" title=" " alt="" coords="141,114,385,209,383,214,139,119"/>
<area shape="rect" href="structwebsocketpp_1_1frame_1_1basic__header.html" title="The constant size component of a WebSocket frame header." alt="" coords="388,148,527,189"/>
<area shape="poly" title=" " alt="" coords="542,175,708,195,707,200,542,181"/>
<area shape="poly" title=" " alt="" coords="555,246,618,246,684,240,738,225,739,230,684,245,619,252,555,251"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html" title="Provides streaming UTF8 validation functionality." alt="" coords="5,220,190,261"/>
<area shape="poly" title=" " alt="" coords="205,238,375,238,375,243,205,243"/>
<area shape="rect" href="structwebsocketpp_1_1frame_1_1extended__header.html" title="The variable size component of a WebSocket frame header." alt="" coords="388,292,527,333"/>
<area shape="poly" title=" " alt="" coords="542,301,612,288,683,268,723,248,759,226,762,230,726,253,685,272,613,294,543,306"/>
<area shape="rect" href="structstate.html" title=" " alt="" coords="432,378,482,404"/>
<area shape="poly" title=" " alt="" coords="497,383,586,361,636,343,683,318,710,297,735,273,772,226,777,229,739,276,714,301,685,323,638,348,587,366,498,388"/>
<area shape="rect" href="structyh__connector.html" title=" " alt="" coords="740,424,839,449"/>
<area shape="poly" title=" " alt="" coords="498,393,684,418,740,426,739,431,684,423,498,399"/>
<area shape="rect" title=" " alt="" coords="75,378,120,404"/>
<area shape="poly" title=" " alt="" coords="136,388,432,388,432,394,136,394"/>
<area shape="poly" title=" " alt="" coords="725,445,647,447,562,438,519,424,482,407,484,402,521,419,564,433,647,442,725,440"/>
<area shape="rect" title=" " alt="" coords="70,448,125,473"/>
<area shape="poly" title=" " alt="" coords="139,450,351,409,431,393,432,398,352,414,140,455"/>
<area shape="poly" title=" " alt="" coords="140,458,372,459,527,455,684,447,739,441,740,446,684,452,527,461,372,464,140,464"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a998518d18c6fb3298e54d4c39962bf46" id="r_a998518d18c6fb3298e54d4c39962bf46"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">processor</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a998518d18c6fb3298e54d4c39962bf46">base</a></td></tr>
<tr class="separator:a998518d18c6fb3298e54d4c39962bf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147c343bb3f7380a9fa7d9463dfb4815" id="r_a147c343bb3f7380a9fa7d9463dfb4815"><td class="memItemLeft" align="right" valign="top">typedef config::request_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a></td></tr>
<tr class="separator:a147c343bb3f7380a9fa7d9463dfb4815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6cd4bee87b00b2d97506aaa5de4a666" id="r_aa6cd4bee87b00b2d97506aaa5de4a666"><td class="memItemLeft" align="right" valign="top">typedef config::response_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a></td></tr>
<tr class="separator:aa6cd4bee87b00b2d97506aaa5de4a666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7470e64efd663c512ff63ce2b51b84e8" id="r_a7470e64efd663c512ff63ce2b51b84e8"><td class="memItemLeft" align="right" valign="top">typedef config::message_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7470e64efd663c512ff63ce2b51b84e8">message_type</a></td></tr>
<tr class="separator:a7470e64efd663c512ff63ce2b51b84e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cdc2fb13fc9ab8554e0cbaae6f2b4d" id="r_a42cdc2fb13fc9ab8554e0cbaae6f2b4d"><td class="memItemLeft" align="right" valign="top">typedef message_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td></tr>
<tr class="separator:a42cdc2fb13fc9ab8554e0cbaae6f2b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5794ccbbdae4bed3def2f630583cfcb2" id="r_a5794ccbbdae4bed3def2f630583cfcb2"><td class="memItemLeft" align="right" valign="top">typedef config::con_msg_manager_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5794ccbbdae4bed3def2f630583cfcb2">msg_manager_type</a></td></tr>
<tr class="separator:a5794ccbbdae4bed3def2f630583cfcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec46adaa77bf99e7060b3a0a135df948" id="r_aec46adaa77bf99e7060b3a0a135df948"><td class="memItemLeft" align="right" valign="top">typedef msg_manager_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec46adaa77bf99e7060b3a0a135df948">msg_manager_ptr</a></td></tr>
<tr class="separator:aec46adaa77bf99e7060b3a0a135df948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d308ef0f426a6d7ca24ba8702ab4588" id="r_a9d308ef0f426a6d7ca24ba8702ab4588"><td class="memItemLeft" align="right" valign="top">typedef config::rng_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d308ef0f426a6d7ca24ba8702ab4588">rng_type</a></td></tr>
<tr class="separator:a9d308ef0f426a6d7ca24ba8702ab4588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f117355cb9a19e13bf7134f88e1f89" id="r_af4f117355cb9a19e13bf7134f88e1f89"><td class="memItemLeft" align="right" valign="top">typedef config::permessage_deflate_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4f117355cb9a19e13bf7134f88e1f89">permessage_deflate_type</a></td></tr>
<tr class="separator:af4f117355cb9a19e13bf7134f88e1f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64318651ea4374d57111a754b15d93e" id="r_ab64318651ea4374d57111a754b15d93e"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; lib::error_code, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a></td></tr>
<tr class="separator:ab64318651ea4374d57111a754b15d93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classwebsocketpp_1_1processor_1_1processor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_classwebsocketpp_1_1processor_1_1processor')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">websocketpp::processor::processor&lt; config &gt;</a></td></tr>
<tr class="memitem:a21b9316fbb38a4490cf473a1f0c10edc inherit pub_types_classwebsocketpp_1_1processor_1_1processor" id="r_a21b9316fbb38a4490cf473a1f0c10edc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">processor</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a21b9316fbb38a4490cf473a1f0c10edc">type</a></td></tr>
<tr class="separator:a21b9316fbb38a4490cf473a1f0c10edc inherit pub_types_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d1a063e89720096f33d4b888d2fb677 inherit pub_types_classwebsocketpp_1_1processor_1_1processor" id="r_a7d1a063e89720096f33d4b888d2fb677"><td class="memItemLeft" align="right" valign="top">typedef config::request_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a7d1a063e89720096f33d4b888d2fb677">request_type</a></td></tr>
<tr class="separator:a7d1a063e89720096f33d4b888d2fb677 inherit pub_types_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a4d76dd00032f8843374be6fa214b1 inherit pub_types_classwebsocketpp_1_1processor_1_1processor" id="r_ac9a4d76dd00032f8843374be6fa214b1"><td class="memItemLeft" align="right" valign="top">typedef config::response_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ac9a4d76dd00032f8843374be6fa214b1">response_type</a></td></tr>
<tr class="separator:ac9a4d76dd00032f8843374be6fa214b1 inherit pub_types_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7946fc516a2001f5ffb5cb3fa1fbcbc inherit pub_types_classwebsocketpp_1_1processor_1_1processor" id="r_aa7946fc516a2001f5ffb5cb3fa1fbcbc"><td class="memItemLeft" align="right" valign="top">typedef config::message_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a></td></tr>
<tr class="separator:aa7946fc516a2001f5ffb5cb3fa1fbcbc inherit pub_types_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee76e1fc767ad43222e2224dbc33a6d6 inherit pub_types_classwebsocketpp_1_1processor_1_1processor" id="r_aee76e1fc767ad43222e2224dbc33a6d6"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; lib::error_code, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aee76e1fc767ad43222e2224dbc33a6d6">err_str_pair</a></td></tr>
<tr class="separator:aee76e1fc767ad43222e2224dbc33a6d6 inherit pub_types_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af07830f45e2733bd75db70fe951416cf" id="r_af07830f45e2733bd75db70fe951416cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af07830f45e2733bd75db70fe951416cf">hybi13</a> (bool secure, bool p_is_server, <a class="el" href="#aec46adaa77bf99e7060b3a0a135df948">msg_manager_ptr</a> manager, <a class="el" href="#a9d308ef0f426a6d7ca24ba8702ab4588">rng_type</a> &amp;rng)</td></tr>
<tr class="separator:af07830f45e2733bd75db70fe951416cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe89fa6418643711130ce3417451738b" id="r_afe89fa6418643711130ce3417451738b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe89fa6418643711130ce3417451738b">get_version</a> () const</td></tr>
<tr class="memdesc:afe89fa6418643711130ce3417451738b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the protocol version of this processor.  <br /></td></tr>
<tr class="separator:afe89fa6418643711130ce3417451738b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ad6f16537a2d6c389c56f6cfaf3c57" id="r_af6ad6f16537a2d6c389c56f6cfaf3c57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6ad6f16537a2d6c389c56f6cfaf3c57">has_permessage_deflate</a> () const</td></tr>
<tr class="separator:af6ad6f16537a2d6c389c56f6cfaf3c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee995e6a4a29a800ce3b031885814ed1" id="r_aee995e6a4a29a800ce3b031885814ed1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee995e6a4a29a800ce3b031885814ed1">negotiate_extensions</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;request)</td></tr>
<tr class="memdesc:aee995e6a4a29a800ce3b031885814ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes extensions based on the Sec-WebSocket-Extensions header.  <br /></td></tr>
<tr class="separator:aee995e6a4a29a800ce3b031885814ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b01c6303142aa151cf9bf1fe9ccb6e3" id="r_a5b01c6303142aa151cf9bf1fe9ccb6e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b01c6303142aa151cf9bf1fe9ccb6e3">negotiate_extensions</a> (<a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> const &amp;response)</td></tr>
<tr class="memdesc:a5b01c6303142aa151cf9bf1fe9ccb6e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes extensions based on the Sec-WebSocket-Extensions header.  <br /></td></tr>
<tr class="separator:a5b01c6303142aa151cf9bf1fe9ccb6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bba499a185aa0219c2389532a332393" id="r_a2bba499a185aa0219c2389532a332393"><td class="memTemplParams" colspan="2">template&lt;typename header_type &gt; </td></tr>
<tr class="memitem:a2bba499a185aa0219c2389532a332393"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2bba499a185aa0219c2389532a332393">negotiate_extensions_helper</a> (header_type const &amp;header)</td></tr>
<tr class="memdesc:a2bba499a185aa0219c2389532a332393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extension negotiation helper function.  <br /></td></tr>
<tr class="separator:a2bba499a185aa0219c2389532a332393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17a224a602ebcda5e481d8c249cf37c" id="r_af17a224a602ebcda5e481d8c249cf37c"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af17a224a602ebcda5e481d8c249cf37c">validate_handshake</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;<a class="el" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>) const</td></tr>
<tr class="memdesc:af17a224a602ebcda5e481d8c249cf37c"><td class="mdescLeft">&#160;</td><td class="mdescRight">validate a WebSocket handshake request for this version  <br /></td></tr>
<tr class="separator:af17a224a602ebcda5e481d8c249cf37c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa527ee3ece912ef818a207fce5261383" id="r_aa527ee3ece912ef818a207fce5261383"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa527ee3ece912ef818a207fce5261383">process_handshake</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;request, std::string const &amp;subprotocol, <a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> &amp;response) const</td></tr>
<tr class="memdesc:aa527ee3ece912ef818a207fce5261383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the appropriate response for this websocket request.  <br /></td></tr>
<tr class="separator:aa527ee3ece912ef818a207fce5261383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587360571f5bb11b7d0c39b69566bf38" id="r_a587360571f5bb11b7d0c39b69566bf38"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a587360571f5bb11b7d0c39b69566bf38">client_handshake_request</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> &amp;req, <a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a> <a class="el" href="classwebsocketpp_1_1uri.html">uri</a>, std::vector&lt; std::string &gt; const &amp;subprotocols) const</td></tr>
<tr class="memdesc:a587360571f5bb11b7d0c39b69566bf38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill in a set of request headers for a client connection request.  <br /></td></tr>
<tr class="separator:a587360571f5bb11b7d0c39b69566bf38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3cea2f1526b4982e0836c5705584a8" id="r_a8b3cea2f1526b4982e0836c5705584a8"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b3cea2f1526b4982e0836c5705584a8">validate_server_handshake_response</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;req, <a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> &amp;res) const</td></tr>
<tr class="memdesc:a8b3cea2f1526b4982e0836c5705584a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the server's response to an outgoing handshake request.  <br /></td></tr>
<tr class="separator:a8b3cea2f1526b4982e0836c5705584a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1055402f24f2977c8141eab25b5ee26" id="r_ab1055402f24f2977c8141eab25b5ee26"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1055402f24f2977c8141eab25b5ee26">get_raw</a> (<a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> const &amp;res) const</td></tr>
<tr class="memdesc:ab1055402f24f2977c8141eab25b5ee26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a completed response, get the raw bytes to put on the wire.  <br /></td></tr>
<tr class="separator:ab1055402f24f2977c8141eab25b5ee26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7d6e203cbc4d76bbebcc69f1b01ab0" id="r_a9d7d6e203cbc4d76bbebcc69f1b01ab0"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d7d6e203cbc4d76bbebcc69f1b01ab0">get_origin</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;<a class="el" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>) const</td></tr>
<tr class="memdesc:a9d7d6e203cbc4d76bbebcc69f1b01ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the value of the header containing the CORS origin.  <br /></td></tr>
<tr class="separator:a9d7d6e203cbc4d76bbebcc69f1b01ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3b0e51df97cd7c8dcde00fb3003a34" id="r_a3d3b0e51df97cd7c8dcde00fb3003a34"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d3b0e51df97cd7c8dcde00fb3003a34">extract_subprotocols</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;req, std::vector&lt; std::string &gt; &amp;subprotocol_list)</td></tr>
<tr class="memdesc:a3d3b0e51df97cd7c8dcde00fb3003a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts requested subprotocols from a handshake request.  <br /></td></tr>
<tr class="separator:a3d3b0e51df97cd7c8dcde00fb3003a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ae173c8cdef4e78c472a46200df8d0" id="r_a49ae173c8cdef4e78c472a46200df8d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49ae173c8cdef4e78c472a46200df8d0">get_uri</a> (<a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;request) const</td></tr>
<tr class="memdesc:a49ae173c8cdef4e78c472a46200df8d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts client uri from a handshake request.  <br /></td></tr>
<tr class="separator:a49ae173c8cdef4e78c472a46200df8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5e3234a0067c7f14fe0ceb4e647659" id="r_a5c5e3234a0067c7f14fe0ceb4e647659"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c5e3234a0067c7f14fe0ceb4e647659">consume</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="el" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a5c5e3234a0067c7f14fe0ceb4e647659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process new websocket connection bytes.  <br /></td></tr>
<tr class="separator:a5c5e3234a0067c7f14fe0ceb4e647659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906398e2c23370de53d4f3572657ad05" id="r_a906398e2c23370de53d4f3572657ad05"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a906398e2c23370de53d4f3572657ad05">finalize_message</a> ()</td></tr>
<tr class="memdesc:a906398e2c23370de53d4f3572657ad05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform any finalization actions on an incoming message.  <br /></td></tr>
<tr class="separator:a906398e2c23370de53d4f3572657ad05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052dd867709539c0a3f70eb271da70ca" id="r_a052dd867709539c0a3f70eb271da70ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a052dd867709539c0a3f70eb271da70ca">reset_headers</a> ()</td></tr>
<tr class="separator:a052dd867709539c0a3f70eb271da70ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e73b14cac728a873c8b5c0bc82ed03" id="r_af0e73b14cac728a873c8b5c0bc82ed03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0e73b14cac728a873c8b5c0bc82ed03">ready</a> () const</td></tr>
<tr class="memdesc:af0e73b14cac728a873c8b5c0bc82ed03"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> whether or not the processor has a message ready.  <br /></td></tr>
<tr class="separator:af0e73b14cac728a873c8b5c0bc82ed03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe09bba8cbe2821ef5c7cf3fd9573cd" id="r_a8fe09bba8cbe2821ef5c7cf3fd9573cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fe09bba8cbe2821ef5c7cf3fd9573cd">get_message</a> ()</td></tr>
<tr class="memdesc:a8fe09bba8cbe2821ef5c7cf3fd9573cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the most recently processed message.  <br /></td></tr>
<tr class="separator:a8fe09bba8cbe2821ef5c7cf3fd9573cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f95f4d45deb00fab39d1fe4441256be" id="r_a6f95f4d45deb00fab39d1fe4441256be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f95f4d45deb00fab39d1fe4441256be">get_error</a> () const</td></tr>
<tr class="memdesc:a6f95f4d45deb00fab39d1fe4441256be"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> whether or not the processor is in a fatal error state.  <br /></td></tr>
<tr class="separator:a6f95f4d45deb00fab39d1fe4441256be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7fbb706a341f7d125c27e7ef001d92" id="r_a0e7fbb706a341f7d125c27e7ef001d92"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e7fbb706a341f7d125c27e7ef001d92">get_bytes_needed</a> () const</td></tr>
<tr class="separator:a0e7fbb706a341f7d125c27e7ef001d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f4833d66eb51e37a956f434895b3ab" id="r_a72f4833d66eb51e37a956f434895b3ab"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72f4833d66eb51e37a956f434895b3ab">prepare_data_frame</a> (<a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> in, <a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> out)</td></tr>
<tr class="memdesc:a72f4833d66eb51e37a956f434895b3ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a user data message for writing.  <br /></td></tr>
<tr class="separator:a72f4833d66eb51e37a956f434895b3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d06bc30c10cd1947c9a7b3051f8961" id="r_a38d06bc30c10cd1947c9a7b3051f8961"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38d06bc30c10cd1947c9a7b3051f8961">prepare_ping</a> (std::string const &amp;in, <a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> out) const</td></tr>
<tr class="memdesc:a38d06bc30c10cd1947c9a7b3051f8961"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get URI.  <br /></td></tr>
<tr class="separator:a38d06bc30c10cd1947c9a7b3051f8961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ca972653c126e7c6a05c529b394321" id="r_ab5ca972653c126e7c6a05c529b394321"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5ca972653c126e7c6a05c529b394321">prepare_pong</a> (std::string const &amp;in, <a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> out) const</td></tr>
<tr class="separator:ab5ca972653c126e7c6a05c529b394321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbb98af828463c5ef80429a7ade715d" id="r_a8cbb98af828463c5ef80429a7ade715d"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cbb98af828463c5ef80429a7ade715d">prepare_close</a> (<a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> code, std::string const &amp;reason, <a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> out) const</td></tr>
<tr class="separator:a8cbb98af828463c5ef80429a7ade715d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classwebsocketpp_1_1processor_1_1processor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classwebsocketpp_1_1processor_1_1processor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">websocketpp::processor::processor&lt; config &gt;</a></td></tr>
<tr class="memitem:a7313d1efc0cccc44451c4acabc0e7256 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_a7313d1efc0cccc44451c4acabc0e7256"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a7313d1efc0cccc44451c4acabc0e7256">processor</a> (bool secure, bool p_is_server)</td></tr>
<tr class="separator:a7313d1efc0cccc44451c4acabc0e7256 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f5fc4da52c89b9d1b1ea1318d2101d inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_af0f5fc4da52c89b9d1b1ea1318d2101d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#af0f5fc4da52c89b9d1b1ea1318d2101d">~processor</a> ()</td></tr>
<tr class="separator:af0f5fc4da52c89b9d1b1ea1318d2101d inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6eea6e4c97065030ed9106613d47f9 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_ade6eea6e4c97065030ed9106613d47f9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ade6eea6e4c97065030ed9106613d47f9">get_max_message_size</a> () const</td></tr>
<tr class="memdesc:ade6eea6e4c97065030ed9106613d47f9 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum message size.  <br /></td></tr>
<tr class="separator:ade6eea6e4c97065030ed9106613d47f9 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad412d33b168539dfbfa1d7e89908c5d1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_ad412d33b168539dfbfa1d7e89908c5d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ad412d33b168539dfbfa1d7e89908c5d1">set_max_message_size</a> (size_t new_value)</td></tr>
<tr class="memdesc:ad412d33b168539dfbfa1d7e89908c5d1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum message size.  <br /></td></tr>
<tr class="separator:ad412d33b168539dfbfa1d7e89908c5d1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadfe0d42b76757aba603d9cc06c9ffd1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_aadfe0d42b76757aba603d9cc06c9ffd1"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aadfe0d42b76757aba603d9cc06c9ffd1">has_permessage_compress</a> () const</td></tr>
<tr class="memdesc:aadfe0d42b76757aba603d9cc06c9ffd1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not the permessage_compress extension is implemented.  <br /></td></tr>
<tr class="separator:aadfe0d42b76757aba603d9cc06c9ffd1 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1345763249867d742390aa8e2076cb70 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_a1345763249867d742390aa8e2076cb70"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a1345763249867d742390aa8e2076cb70">prepare_data_frame</a> (<a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a> in, <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a> out)=0</td></tr>
<tr class="memdesc:a1345763249867d742390aa8e2076cb70 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a data message for writing.  <br /></td></tr>
<tr class="separator:a1345763249867d742390aa8e2076cb70 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3f34ae169c9b5e588cf268e310d6e2 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_aae3f34ae169c9b5e588cf268e310d6e2"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aae3f34ae169c9b5e588cf268e310d6e2">prepare_ping</a> (std::string const &amp;in, <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a> out) const =0</td></tr>
<tr class="memdesc:aae3f34ae169c9b5e588cf268e310d6e2 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a ping frame.  <br /></td></tr>
<tr class="separator:aae3f34ae169c9b5e588cf268e310d6e2 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8206bfe447a461d0e30a969b0af859 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_afc8206bfe447a461d0e30a969b0af859"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#afc8206bfe447a461d0e30a969b0af859">prepare_pong</a> (std::string const &amp;in, <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a> out) const =0</td></tr>
<tr class="memdesc:afc8206bfe447a461d0e30a969b0af859 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a pong frame.  <br /></td></tr>
<tr class="separator:afc8206bfe447a461d0e30a969b0af859 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189c400df6f5e325291794cb62053911 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor" id="r_a189c400df6f5e325291794cb62053911"><td class="memItemLeft" align="right" valign="top">virtual lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a189c400df6f5e325291794cb62053911">prepare_close</a> (<a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> code, std::string const &amp;reason, <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aa7946fc516a2001f5ffb5cb3fa1fbcbc">message_ptr</a> out) const =0</td></tr>
<tr class="memdesc:a189c400df6f5e325291794cb62053911 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a close frame.  <br /></td></tr>
<tr class="separator:a189c400df6f5e325291794cb62053911 inherit pub_methods_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a56fee5ffbb0b5c2c0708be2338e0740d" id="r_a56fee5ffbb0b5c2c0708be2338e0740d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740d">state</a> { <br />
&#160;&#160;<a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be">HEADER_BASIC</a> = 0
, <a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5">HEADER_EXTENDED</a> = 1
, <a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04">EXTENSION</a> = 2
, <a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">APPLICATION</a> = 3
, <br />
&#160;&#160;<a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">READY</a> = 4
, <a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617">FATAL_ERROR</a> = 5
<br />
 }</td></tr>
<tr class="separator:a56fee5ffbb0b5c2c0708be2338e0740d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:afe3d2731a39faebab5f927a13e26fb8c" id="r_afe3d2731a39faebab5f927a13e26fb8c"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe3d2731a39faebab5f927a13e26fb8c">process_handshake_key</a> (std::string &amp;key) const</td></tr>
<tr class="memdesc:afe3d2731a39faebab5f927a13e26fb8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a client handshake key into a server response key in place.  <br /></td></tr>
<tr class="separator:afe3d2731a39faebab5f927a13e26fb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737c86ee2ec91709052e69f22083afb9" id="r_a737c86ee2ec91709052e69f22083afb9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a737c86ee2ec91709052e69f22083afb9">copy_basic_header_bytes</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *<a class="el" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>)</td></tr>
<tr class="memdesc:a737c86ee2ec91709052e69f22083afb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads bytes from buf into m_basic_header.  <br /></td></tr>
<tr class="separator:a737c86ee2ec91709052e69f22083afb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fbd0b0670ab1c345ddbb4db76f6a0b" id="r_a79fbd0b0670ab1c345ddbb4db76f6a0b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79fbd0b0670ab1c345ddbb4db76f6a0b">copy_extended_header_bytes</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *<a class="el" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>)</td></tr>
<tr class="memdesc:a79fbd0b0670ab1c345ddbb4db76f6a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads bytes from buf into m_extended_header.  <br /></td></tr>
<tr class="separator:a79fbd0b0670ab1c345ddbb4db76f6a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7eece3f48840535f41b625061fa7867" id="r_aa7eece3f48840535f41b625061fa7867"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7eece3f48840535f41b625061fa7867">process_payload_bytes</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="el" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:aa7eece3f48840535f41b625061fa7867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads bytes from buf into message payload.  <br /></td></tr>
<tr class="separator:aa7eece3f48840535f41b625061fa7867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c549a5e2766288fb625c03e507cc9ad" id="r_a0c549a5e2766288fb625c03e507cc9ad"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c549a5e2766288fb625c03e507cc9ad">validate_incoming_basic_header</a> (<a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a> const &amp;h, bool is_server, bool new_msg) const</td></tr>
<tr class="memdesc:a0c549a5e2766288fb625c03e507cc9ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate an incoming basic header.  <br /></td></tr>
<tr class="separator:a0c549a5e2766288fb625c03e507cc9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8565136bb0820e9a8914dfc5fdb753" id="r_aee8565136bb0820e9a8914dfc5fdb753"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee8565136bb0820e9a8914dfc5fdb753">validate_incoming_extended_header</a> (<a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a> h, <a class="el" href="structwebsocketpp_1_1frame_1_1extended__header.html">frame::extended_header</a> e) const</td></tr>
<tr class="memdesc:aee8565136bb0820e9a8914dfc5fdb753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate an incoming extended header.  <br /></td></tr>
<tr class="separator:aee8565136bb0820e9a8914dfc5fdb753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888318b2773af49d458313a96a817a7a" id="r_a888318b2773af49d458313a96a817a7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a888318b2773af49d458313a96a817a7a">masked_copy</a> (std::string const &amp;i, std::string &amp;o, <a class="el" href="namespacewebsocketpp_1_1frame.html#a8bdac8ec44c78c027fcf55aa3bad3f86">frame::masking_key_type</a> key) const</td></tr>
<tr class="memdesc:a888318b2773af49d458313a96a817a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy and mask/unmask in one operation.  <br /></td></tr>
<tr class="separator:a888318b2773af49d458313a96a817a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa8f27959beeeef73997a80c2560663" id="r_a5aa8f27959beeeef73997a80c2560663"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aa8f27959beeeef73997a80c2560663">prepare_control</a> (<a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="el" href="unionop.html">op</a>, std::string const &amp;payload, <a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> out) const</td></tr>
<tr class="memdesc:a5aa8f27959beeeef73997a80c2560663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic prepare control frame with opcode and payload.  <br /></td></tr>
<tr class="separator:a5aa8f27959beeeef73997a80c2560663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa1b5aeeb8c4be9460854b1eb972a1563" id="r_aa1b5aeeb8c4be9460854b1eb972a1563"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a></td></tr>
<tr class="separator:aa1b5aeeb8c4be9460854b1eb972a1563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023029768eda304f37698bf63aaa7fdc" id="r_a023029768eda304f37698bf63aaa7fdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aec46adaa77bf99e7060b3a0a135df948">msg_manager_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a023029768eda304f37698bf63aaa7fdc">m_msg_manager</a></td></tr>
<tr class="separator:a023029768eda304f37698bf63aaa7fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e31d9b2d955fbdbd2a05ce325f06326" id="r_a6e31d9b2d955fbdbd2a05ce325f06326"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a></td></tr>
<tr class="separator:a6e31d9b2d955fbdbd2a05ce325f06326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd9db5f39ff7ca0796c456b83b74887" id="r_a4fd9db5f39ff7ca0796c456b83b74887"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fd9db5f39ff7ca0796c456b83b74887">m_cursor</a></td></tr>
<tr class="separator:a4fd9db5f39ff7ca0796c456b83b74887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ace361da2e05291aeb029956f20aee3" id="r_a7ace361da2e05291aeb029956f20aee3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a></td></tr>
<tr class="separator:a7ace361da2e05291aeb029956f20aee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684c7ab5a31c2becad136063e0cd48a9" id="r_a684c7ab5a31c2becad136063e0cd48a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a684c7ab5a31c2becad136063e0cd48a9">m_control_msg</a></td></tr>
<tr class="separator:a684c7ab5a31c2becad136063e0cd48a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1554b49e53c61931e6912bec35c815" id="r_a2a1554b49e53c61931e6912bec35c815"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a></td></tr>
<tr class="separator:a2a1554b49e53c61931e6912bec35c815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d11d41110cd4b4e746a55ecd9faaaf1" id="r_a7d11d41110cd4b4e746a55ecd9faaaf1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structwebsocketpp_1_1frame_1_1extended__header.html">frame::extended_header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a></td></tr>
<tr class="separator:a7d11d41110cd4b4e746a55ecd9faaaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6ee5afc8a635c0a410f678bda8ea84" id="r_a3e6ee5afc8a635c0a410f678bda8ea84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9d308ef0f426a6d7ca24ba8702ab4588">rng_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e6ee5afc8a635c0a410f678bda8ea84">m_rng</a></td></tr>
<tr class="separator:a3e6ee5afc8a635c0a410f678bda8ea84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4660c14a2a241a2439fb3aa497ab5886" id="r_a4660c14a2a241a2439fb3aa497ab5886"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740d">state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a></td></tr>
<tr class="separator:a4660c14a2a241a2439fb3aa497ab5886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9103ac43ba28b3b3e5cedf519b1c67c5" id="r_a9103ac43ba28b3b3e5cedf519b1c67c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#af4f117355cb9a19e13bf7134f88e1f89">permessage_deflate_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a></td></tr>
<tr class="separator:a9103ac43ba28b3b3e5cedf519b1c67c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classwebsocketpp_1_1processor_1_1processor"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classwebsocketpp_1_1processor_1_1processor')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">websocketpp::processor::processor&lt; config &gt;</a></td></tr>
<tr class="memitem:aebab411b1ca4d8ab32ee8c13afcf9274 inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor" id="r_aebab411b1ca4d8ab32ee8c13afcf9274"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aebab411b1ca4d8ab32ee8c13afcf9274">m_secure</a></td></tr>
<tr class="separator:aebab411b1ca4d8ab32ee8c13afcf9274 inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584edc3698f98e6eb85ab280f491ac9d inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor" id="r_a584edc3698f98e6eb85ab280f491ac9d"><td class="memItemLeft" align="right" valign="top">bool const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">m_server</a></td></tr>
<tr class="separator:a584edc3698f98e6eb85ab280f491ac9d inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74984af956fccae7e045743cf8ac23b4 inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor" id="r_a74984af956fccae7e045743cf8ac23b4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a74984af956fccae7e045743cf8ac23b4">m_max_message_size</a></td></tr>
<tr class="separator:a74984af956fccae7e045743cf8ac23b4 inherit pro_attribs_classwebsocketpp_1_1processor_1_1processor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename <a class="el" href="classconfig.html">config</a>&gt;<br />
class websocketpp::processor::hybi13&lt; config &gt;</div>
<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00054">54</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a998518d18c6fb3298e54d4c39962bf46" name="a998518d18c6fb3298e54d4c39962bf46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998518d18c6fb3298e54d4c39962bf46">&#9670;&#160;</a></span>base</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">processor</a>&lt;<a class="el" href="classconfig.html">config</a>&gt; <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::base</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00056">56</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="ab64318651ea4374d57111a754b15d93e" name="ab64318651ea4374d57111a754b15d93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64318651ea4374d57111a754b15d93e">&#9670;&#160;</a></span>err_str_pair</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;lib::error_code,std::string&gt; <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::err_str_pair</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00070">70</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a42cdc2fb13fc9ab8554e0cbaae6f2b4d" name="a42cdc2fb13fc9ab8554e0cbaae6f2b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">&#9670;&#160;</a></span>message_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">message_type::ptr <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;<a class="el" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">::message_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00062">62</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a7470e64efd663c512ff63ce2b51b84e8" name="a7470e64efd663c512ff63ce2b51b84e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7470e64efd663c512ff63ce2b51b84e8">&#9670;&#160;</a></span>message_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::message_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::message_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00061">61</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="aec46adaa77bf99e7060b3a0a135df948" name="aec46adaa77bf99e7060b3a0a135df948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec46adaa77bf99e7060b3a0a135df948">&#9670;&#160;</a></span>msg_manager_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">msg_manager_type::ptr <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::msg_manager_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00065">65</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a5794ccbbdae4bed3def2f630583cfcb2" name="a5794ccbbdae4bed3def2f630583cfcb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5794ccbbdae4bed3def2f630583cfcb2">&#9670;&#160;</a></span>msg_manager_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::con_msg_manager_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::msg_manager_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00064">64</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="af4f117355cb9a19e13bf7134f88e1f89" name="af4f117355cb9a19e13bf7134f88e1f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f117355cb9a19e13bf7134f88e1f89">&#9670;&#160;</a></span>permessage_deflate_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::permessage_deflate_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::permessage_deflate_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00068">68</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a147c343bb3f7380a9fa7d9463dfb4815" name="a147c343bb3f7380a9fa7d9463dfb4815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147c343bb3f7380a9fa7d9463dfb4815">&#9670;&#160;</a></span>request_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::request_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::request_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00058">58</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="aa6cd4bee87b00b2d97506aaa5de4a666" name="aa6cd4bee87b00b2d97506aaa5de4a666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6cd4bee87b00b2d97506aaa5de4a666">&#9670;&#160;</a></span>response_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::response_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::response_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00059">59</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a9d308ef0f426a6d7ca24ba8702ab4588" name="a9d308ef0f426a6d7ca24ba8702ab4588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d308ef0f426a6d7ca24ba8702ab4588">&#9670;&#160;</a></span>rng_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::rng_type <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::rng_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00066">66</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a56fee5ffbb0b5c2c0708be2338e0740d" name="a56fee5ffbb0b5c2c0708be2338e0740d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56fee5ffbb0b5c2c0708be2338e0740d">&#9670;&#160;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740d">websocketpp::processor::hybi13::state</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be" name="a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be"></a>HEADER_BASIC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5" name="a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5"></a>HEADER_EXTENDED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04" name="a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04"></a>EXTENSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c" name="a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c"></a>APPLICATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a" name="a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a"></a>READY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617" name="a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617"></a>FATAL_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00997">997</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  997</span>               {</div>
<div class="line"><span class="lineno">  998</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be">HEADER_BASIC</a> = 0,</div>
<div class="line"><span class="lineno">  999</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5">HEADER_EXTENDED</a> = 1,</div>
<div class="line"><span class="lineno"> 1000</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04">EXTENSION</a> = 2,</div>
<div class="line"><span class="lineno"> 1001</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">APPLICATION</a> = 3,</div>
<div class="line"><span class="lineno"> 1002</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">READY</a> = 4,</div>
<div class="line"><span class="lineno"> 1003</span>        <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617">FATAL_ERROR</a> = 5</div>
<div class="line"><span class="lineno"> 1004</span>    };</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617">websocketpp::processor::hybi13::FATAL_ERROR</a></div><div class="ttdeci">@ FATAL_ERROR</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01004">hybi13.hpp:1003</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be">websocketpp::processor::hybi13::HEADER_BASIC</a></div><div class="ttdeci">@ HEADER_BASIC</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00998">hybi13.hpp:998</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">websocketpp::processor::hybi13::READY</a></div><div class="ttdeci">@ READY</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01002">hybi13.hpp:1002</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04">websocketpp::processor::hybi13::EXTENSION</a></div><div class="ttdeci">@ EXTENSION</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01000">hybi13.hpp:1000</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5">websocketpp::processor::hybi13::HEADER_EXTENDED</a></div><div class="ttdeci">@ HEADER_EXTENDED</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00999">hybi13.hpp:999</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c"><div class="ttname"><a href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">websocketpp::processor::hybi13::APPLICATION</a></div><div class="ttdeci">@ APPLICATION</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01001">hybi13.hpp:1001</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af07830f45e2733bd75db70fe951416cf" name="af07830f45e2733bd75db70fe951416cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af07830f45e2733bd75db70fe951416cf">&#9670;&#160;</a></span>hybi13()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::hybi13 </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>secure</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>p_is_server</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aec46adaa77bf99e7060b3a0a135df948">msg_manager_ptr</a></td>          <td class="paramname"><span class="paramname"><em>manager</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a9d308ef0f426a6d7ca24ba8702ab4588">rng_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rng</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00072">72</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>      : processor&lt;config&gt;(secure, p_is_server)</div>
<div class="line"><span class="lineno">   74</span>      , <a class="code hl_variable" href="#a023029768eda304f37698bf63aaa7fdc">m_msg_manager</a>(manager)</div>
<div class="line"><span class="lineno">   75</span>      , <a class="code hl_variable" href="#a3e6ee5afc8a635c0a410f678bda8ea84">m_rng</a>(rng)</div>
<div class="line"><span class="lineno">   76</span>    {</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_function" href="#a052dd867709539c0a3f70eb271da70ca">reset_headers</a>();</div>
<div class="line"><span class="lineno">   78</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a023029768eda304f37698bf63aaa7fdc"><div class="ttname"><a href="#a023029768eda304f37698bf63aaa7fdc">websocketpp::processor::hybi13::m_msg_manager</a></div><div class="ttdeci">msg_manager_ptr m_msg_manager</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01025">hybi13.hpp:1025</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a052dd867709539c0a3f70eb271da70ca"><div class="ttname"><a href="#a052dd867709539c0a3f70eb271da70ca">websocketpp::processor::hybi13::reset_headers</a></div><div class="ttdeci">void reset_headers()</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00526">hybi13.hpp:526</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a3e6ee5afc8a635c0a410f678bda8ea84"><div class="ttname"><a href="#a3e6ee5afc8a635c0a410f678bda8ea84">websocketpp::processor::hybi13::m_rng</a></div><div class="ttdeci">rng_type &amp; m_rng</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01044">hybi13.hpp:1044</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,169,46"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a052dd867709539c0a3f70eb271da70ca" title=" " alt="" coords="217,5,380,46"/>
<area shape="poly" title=" " alt="" coords="169,23,201,23,201,28,169,28"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a587360571f5bb11b7d0c39b69566bf38" name="a587360571f5bb11b7d0c39b69566bf38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a587360571f5bb11b7d0c39b69566bf38">&#9670;&#160;</a></span>client_handshake_request()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::client_handshake_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a></td>          <td class="paramname"><span class="paramname"><em>uri</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>subprotocols</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">req</td><td>Set of headers to fill in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>The uri being connected to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subprotocols</td><td>The list of subprotocols to request </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ab5bc7b8f480ee28049f44232115bcaab">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00215">215</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>    {</div>
<div class="line"><span class="lineno">  218</span>        req.set_method(<span class="stringliteral">&quot;GET&quot;</span>);</div>
<div class="line"><span class="lineno">  219</span>        req.set_uri(uri-&gt;get_resource());</div>
<div class="line"><span class="lineno">  220</span>        req.set_version(<span class="stringliteral">&quot;HTTP/1.1&quot;</span>);</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        req.append_header(<span class="stringliteral">&quot;Upgrade&quot;</span>,<span class="stringliteral">&quot;websocket&quot;</span>);</div>
<div class="line"><span class="lineno">  223</span>        req.append_header(<span class="stringliteral">&quot;Connection&quot;</span>,<span class="stringliteral">&quot;Upgrade&quot;</span>);</div>
<div class="line"><span class="lineno">  224</span>        req.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Version&quot;</span>,<span class="stringliteral">&quot;13&quot;</span>);</div>
<div class="line"><span class="lineno">  225</span>        req.replace_header(<span class="stringliteral">&quot;Host&quot;</span>,uri-&gt;get_host_port());</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> (!subprotocols.empty()) {</div>
<div class="line"><span class="lineno">  228</span>            std::ostringstream result;</div>
<div class="line"><span class="lineno">  229</span>            std::vector&lt;std::string&gt;::const_iterator it = subprotocols.begin();</div>
<div class="line"><span class="lineno">  230</span>            result &lt;&lt; *it++;</div>
<div class="line"><span class="lineno">  231</span>            <span class="keywordflow">while</span> (it != subprotocols.end()) {</div>
<div class="line"><span class="lineno">  232</span>                result &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; *it++;</div>
<div class="line"><span class="lineno">  233</span>            }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>            req.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Protocol&quot;</span>,result.str());</div>
<div class="line"><span class="lineno">  236</span>        }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        <span class="comment">// Generate handshake key</span></div>
<div class="line"><span class="lineno">  239</span>        frame::uint32_converter conv;</div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> raw_key[16];</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><span class="lineno">  243</span>            conv.i = <a class="code hl_variable" href="#a3e6ee5afc8a635c0a410f678bda8ea84">m_rng</a>();</div>
<div class="line"><span class="lineno">  244</span>            std::copy(conv.c,conv.c+4,&amp;raw_key[i*4]);</div>
<div class="line"><span class="lineno">  245</span>        }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>        req.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Key&quot;</span>,<a class="code hl_function" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8">base64_encode</a>(raw_key, 16));</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_implemented()) {</div>
<div class="line"><span class="lineno">  250</span>            std::string offer = <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.generate_offer();</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">if</span> (!offer.empty()) {</div>
<div class="line"><span class="lineno">  252</span>                req.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Extensions&quot;</span>,offer);</div>
<div class="line"><span class="lineno">  253</span>            }</div>
<div class="line"><span class="lineno">  254</span>        }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  257</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a9103ac43ba28b3b3e5cedf519b1c67c5"><div class="ttname"><a href="#a9103ac43ba28b3b3e5cedf519b1c67c5">websocketpp::processor::hybi13::m_permessage_deflate</a></div><div class="ttdeci">permessage_deflate_type m_permessage_deflate</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01050">hybi13.hpp:1050</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_html_aff36d40583424a2c879df02219133af8"><div class="ttname"><a href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8">websocketpp::base64_encode</a></div><div class="ttdeci">std::string base64_encode(unsigned char const *input, size_t len)</div><div class="ttdoc">Encode a char buffer into a base64 string.</div><div class="ttdef"><b>Definition</b> <a href="vendor_2websocketpp_2websocketpp_2base64_2base64_8hpp_source.html#l00066">base64.hpp:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38_cgraph">
<area shape="rect" title="Fill in a set of request headers for a client connection request." alt="" coords="5,63,182,119"/>
<area shape="rect" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8" title="Encode a char buffer into a base64 string." alt="" coords="230,5,378,46"/>
<area shape="poly" title=" " alt="" coords="182,61,221,49,222,54,183,66"/>
<area shape="rect" href="classwebsocketpp_1_1uri.html#adf24841d8eef4d7cd8e9687ce23dc5d4" title=" " alt="" coords="231,71,377,111"/>
<area shape="poly" title=" " alt="" coords="182,88,215,88,215,94,182,94"/>
<area shape="rect" href="classwebsocketpp_1_1uri.html#a2e05b160973cfd8c0d5d47faf89202ae" title=" " alt="" coords="231,136,377,177"/>
<area shape="poly" title=" " alt="" coords="183,116,222,128,221,133,182,121"/>
</map>
</div>

</div>
</div>
<a id="a5c5e3234a0067c7f14fe0ceb4e647659" name="a5c5e3234a0067c7f14fe0ceb4e647659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5e3234a0067c7f14fe0ceb4e647659">&#9670;&#160;</a></span>consume()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::consume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Hybi 13 data streams represent a series of variable length frames. Each frame is made up of a series of fixed length fields. The lengths of later fields are contained in earlier fields. The first field length is fixed by the spec.</p>
<p>This processor represents a state machine that keeps track of what field is presently being read and how many more bytes are needed to complete it</p>
<p>Read two header bytes Extract full frame length. Read extra header bytes Validate frame header (including extension validate) Read extension data into extension message state object Read payload data into payload</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Input buffer</td></tr>
    <tr><td class="paramname">len</td><td>Length of input buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes processed or zero on error </dd></dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a14cb7ee9cd5fa60353ba198f1d3d06c5">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00360">360</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>                                                                  {</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = 0;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        ec = lib::error_code();</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>        <span class="comment">//std::cout &lt;&lt; &quot;consume: &quot; &lt;&lt; utility::to_hex(buf,len) &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        <span class="comment">// Loop while we don&#39;t have a message ready and we still have bytes</span></div>
<div class="line"><span class="lineno">  368</span>        <span class="comment">// left to process.</span></div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">while</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> != <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">READY</a> &amp;&amp; <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> != <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617">FATAL_ERROR</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  370</span>               (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> &lt; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> || <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> == 0))</div>
<div class="line"><span class="lineno">  371</span>        {</div>
<div class="line"><span class="lineno">  372</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be">HEADER_BASIC</a>) {</div>
<div class="line"><span class="lineno">  373</span>                <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> += this-&gt;<a class="code hl_function" href="#a737c86ee2ec91709052e69f22083afb9">copy_basic_header_bytes</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>+p,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  376</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  377</span>                }</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>                ec = this-&gt;<a class="code hl_function" href="#a0c549a5e2766288fb625c03e507cc9ad">validate_incoming_basic_header</a>(</div>
<div class="line"><span class="lineno">  380</span>                    <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>, <a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">base::m_server</a>, !<a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a></div>
<div class="line"><span class="lineno">  381</span>                );</div>
<div class="line"><span class="lineno">  382</span>                <span class="keywordflow">if</span> (ec) {<span class="keywordflow">break</span>;}</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>                <span class="comment">// extract full header size and adjust consume state accordingly</span></div>
<div class="line"><span class="lineno">  385</span>                <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> = <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5">HEADER_EXTENDED</a>;</div>
<div class="line"><span class="lineno">  386</span>                <a class="code hl_variable" href="#a4fd9db5f39ff7ca0796c456b83b74887">m_cursor</a> = 0;</div>
<div class="line"><span class="lineno">  387</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01">frame::get_header_len</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>) -</div>
<div class="line"><span class="lineno">  388</span>                    frame::BASIC_HEADER_LENGTH;</div>
<div class="line"><span class="lineno">  389</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5">HEADER_EXTENDED</a>) {</div>
<div class="line"><span class="lineno">  390</span>                <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> += this-&gt;<a class="code hl_function" href="#a79fbd0b0670ab1c345ddbb4db76f6a0b">copy_extended_header_bytes</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>+p,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  393</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  394</span>                }</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>                ec = <a class="code hl_function" href="#aee8565136bb0820e9a8914dfc5fdb753">validate_incoming_extended_header</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>,<a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>);</div>
<div class="line"><span class="lineno">  397</span>                <span class="keywordflow">if</span> (ec){<span class="keywordflow">break</span>;}</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>                <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> = <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">APPLICATION</a>;</div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a2ca0b9ba6077f201997da543d45b067f">get_payload_size</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>,<a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>));</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>                <span class="comment">// check if this frame is the start of a new message and set up</span></div>
<div class="line"><span class="lineno">  403</span>                <span class="comment">// the appropriate message metadata.</span></div>
<div class="line"><span class="lineno">  404</span>                <a class="code hl_enumeration" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="code hl_union" href="unionop.html">op</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661">frame::get_opcode</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>);</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>                <span class="comment">// TODO: get_message failure conditions</span></div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>)) {</div>
<div class="line"><span class="lineno">  409</span>                    <a class="code hl_variable" href="#a684c7ab5a31c2becad136063e0cd48a9">m_control_msg</a> = msg_metadata(</div>
<div class="line"><span class="lineno">  410</span>                        <a class="code hl_variable" href="#a023029768eda304f37698bf63aaa7fdc">m_msg_manager</a>-&gt;get_message(<a class="code hl_union" href="unionop.html">op</a>,<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>),</div>
<div class="line"><span class="lineno">  411</span>                        <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#aed7edd146ce3aa5b87adc9fcc5fcb10f">frame::get_masking_key</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>,<a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>)</div>
<div class="line"><span class="lineno">  412</span>                    );</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>                    <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a> = &amp;<a class="code hl_variable" href="#a684c7ab5a31c2becad136063e0cd48a9">m_control_msg</a>;</div>
<div class="line"><span class="lineno">  415</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  416</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>) {</div>
<div class="line"><span class="lineno">  417</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> &gt; <a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a74984af956fccae7e045743cf8ac23b4">base::m_max_message_size</a>) {</div>
<div class="line"><span class="lineno">  418</span>                            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2">error::message_too_big</a>);</div>
<div class="line"><span class="lineno">  419</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  420</span>                        }</div>
<div class="line"><span class="lineno">  421</span>                        </div>
<div class="line"><span class="lineno">  422</span>                        <a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a> = msg_metadata(</div>
<div class="line"><span class="lineno">  423</span>                            <a class="code hl_variable" href="#a023029768eda304f37698bf63aaa7fdc">m_msg_manager</a>-&gt;get_message(<a class="code hl_union" href="unionop.html">op</a>,<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>),</div>
<div class="line"><span class="lineno">  424</span>                            <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#aed7edd146ce3aa5b87adc9fcc5fcb10f">frame::get_masking_key</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>,<a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>)</div>
<div class="line"><span class="lineno">  425</span>                        );</div>
<div class="line"><span class="lineno">  426</span>                        </div>
<div class="line"><span class="lineno">  427</span>                        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()) {</div>
<div class="line"><span class="lineno">  428</span>                            <a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;set_compressed(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a90556de9dd71c1f063153b791abeb81c">frame::get_rsv1</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>));</div>
<div class="line"><span class="lineno">  429</span>                        }</div>
<div class="line"><span class="lineno">  430</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  431</span>                        <span class="comment">// Fetch the underlying payload buffer from the data message we</span></div>
<div class="line"><span class="lineno">  432</span>                        <span class="comment">// are writing into.</span></div>
<div class="line"><span class="lineno">  433</span>                        std::string &amp; out = <a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  434</span>                        </div>
<div class="line"><span class="lineno">  435</span>                        <span class="keywordflow">if</span> (out.size() + <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> &gt; <a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a74984af956fccae7e045743cf8ac23b4">base::m_max_message_size</a>) {</div>
<div class="line"><span class="lineno">  436</span>                            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2">error::message_too_big</a>);</div>
<div class="line"><span class="lineno">  437</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  438</span>                        }</div>
<div class="line"><span class="lineno">  439</span>                        </div>
<div class="line"><span class="lineno">  440</span>                        <span class="comment">// Each frame starts a new masking key. All other state</span></div>
<div class="line"><span class="lineno">  441</span>                        <span class="comment">// remains between frames.</span></div>
<div class="line"><span class="lineno">  442</span>                        <a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a4c0cf4af697b0a12396ca5570a888ec1">prepared_key</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#af80eee705eb39fb533cf4ab3d7a6d3bb">prepare_masking_key</a>(</div>
<div class="line"><span class="lineno">  443</span>                            <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#aed7edd146ce3aa5b87adc9fcc5fcb10f">frame::get_masking_key</a>(</div>
<div class="line"><span class="lineno">  444</span>                                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>,</div>
<div class="line"><span class="lineno">  445</span>                                <a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a></div>
<div class="line"><span class="lineno">  446</span>                            )</div>
<div class="line"><span class="lineno">  447</span>                        );</div>
<div class="line"><span class="lineno">  448</span>                        </div>
<div class="line"><span class="lineno">  449</span>                        out.reserve(out.size() + <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>);</div>
<div class="line"><span class="lineno">  450</span>                    }</div>
<div class="line"><span class="lineno">  451</span>                    <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a> = &amp;<a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>;</div>
<div class="line"><span class="lineno">  452</span>                }</div>
<div class="line"><span class="lineno">  453</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04">EXTENSION</a>) {</div>
<div class="line"><span class="lineno">  454</span>                <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> = <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">APPLICATION</a>;</div>
<div class="line"><span class="lineno">  455</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c">APPLICATION</a>) {</div>
<div class="line"><span class="lineno">  456</span>                <span class="keywordtype">size_t</span> bytes_to_process = (std::min)(<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>                <span class="keywordflow">if</span> (bytes_to_process &gt; 0) {</div>
<div class="line"><span class="lineno">  459</span>                    <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> += this-&gt;<a class="code hl_function" href="#aa7eece3f48840535f41b625061fa7867">process_payload_bytes</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>+p,bytes_to_process,ec);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>                    <span class="keywordflow">if</span> (ec) {<span class="keywordflow">break</span>;}</div>
<div class="line"><span class="lineno">  462</span>                }</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  465</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  466</span>                }</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>                <span class="comment">// If this was the last frame in the message set the ready flag.</span></div>
<div class="line"><span class="lineno">  469</span>                <span class="comment">// Otherwise, reset processor state to read additional frames.</span></div>
<div class="line"><span class="lineno">  470</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a66b39e273681d8509128e420cfaef6b0">frame::get_fin</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>)) {</div>
<div class="line"><span class="lineno">  471</span>                    ec = <a class="code hl_function" href="#a906398e2c23370de53d4f3572657ad05">finalize_message</a>();</div>
<div class="line"><span class="lineno">  472</span>                    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  473</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  474</span>                    }</div>
<div class="line"><span class="lineno">  475</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  476</span>                    this-&gt;<a class="code hl_function" href="#a052dd867709539c0a3f70eb271da70ca">reset_headers</a>();</div>
<div class="line"><span class="lineno">  477</span>                }</div>
<div class="line"><span class="lineno">  478</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  479</span>                <span class="comment">// shouldn&#39;t be here</span></div>
<div class="line"><span class="lineno">  480</span>                ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a">error::general</a>);</div>
<div class="line"><span class="lineno">  481</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  482</span>            }</div>
<div class="line"><span class="lineno">  483</span>        }</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><span class="lineno">  486</span>    }</div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a0c549a5e2766288fb625c03e507cc9ad"><div class="ttname"><a href="#a0c549a5e2766288fb625c03e507cc9ad">websocketpp::processor::hybi13::validate_incoming_basic_header</a></div><div class="ttdeci">lib::error_code validate_incoming_basic_header(frame::basic_header const &amp;h, bool is_server, bool new_msg) const</div><div class="ttdoc">Validate an incoming basic header.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00826">hybi13.hpp:826</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a2a1554b49e53c61931e6912bec35c815"><div class="ttname"><a href="#a2a1554b49e53c61931e6912bec35c815">websocketpp::processor::hybi13::m_current_msg</a></div><div class="ttdeci">msg_metadata * m_current_msg</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01039">hybi13.hpp:1039</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a4660c14a2a241a2439fb3aa497ab5886"><div class="ttname"><a href="#a4660c14a2a241a2439fb3aa497ab5886">websocketpp::processor::hybi13::m_state</a></div><div class="ttdeci">state m_state</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01047">hybi13.hpp:1047</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a4fd9db5f39ff7ca0796c456b83b74887"><div class="ttname"><a href="#a4fd9db5f39ff7ca0796c456b83b74887">websocketpp::processor::hybi13::m_cursor</a></div><div class="ttdeci">size_t m_cursor</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01031">hybi13.hpp:1031</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a684c7ab5a31c2becad136063e0cd48a9"><div class="ttname"><a href="#a684c7ab5a31c2becad136063e0cd48a9">websocketpp::processor::hybi13::m_control_msg</a></div><div class="ttdeci">msg_metadata m_control_msg</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01036">hybi13.hpp:1036</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a6e31d9b2d955fbdbd2a05ce325f06326"><div class="ttname"><a href="#a6e31d9b2d955fbdbd2a05ce325f06326">websocketpp::processor::hybi13::m_bytes_needed</a></div><div class="ttdeci">size_t m_bytes_needed</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01028">hybi13.hpp:1028</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a737c86ee2ec91709052e69f22083afb9"><div class="ttname"><a href="#a737c86ee2ec91709052e69f22083afb9">websocketpp::processor::hybi13::copy_basic_header_bytes</a></div><div class="ttdeci">size_t copy_basic_header_bytes(uint8_t const *buf, size_t len)</div><div class="ttdoc">Reads bytes from buf into m_basic_header.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00722">hybi13.hpp:722</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a79fbd0b0670ab1c345ddbb4db76f6a0b"><div class="ttname"><a href="#a79fbd0b0670ab1c345ddbb4db76f6a0b">websocketpp::processor::hybi13::copy_extended_header_bytes</a></div><div class="ttdeci">size_t copy_extended_header_bytes(uint8_t const *buf, size_t len)</div><div class="ttdoc">Reads bytes from buf into m_extended_header.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00754">hybi13.hpp:754</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a7ace361da2e05291aeb029956f20aee3"><div class="ttname"><a href="#a7ace361da2e05291aeb029956f20aee3">websocketpp::processor::hybi13::m_data_msg</a></div><div class="ttdeci">msg_metadata m_data_msg</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01034">hybi13.hpp:1034</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a7d11d41110cd4b4e746a55ecd9faaaf1"><div class="ttname"><a href="#a7d11d41110cd4b4e746a55ecd9faaaf1">websocketpp::processor::hybi13::m_extended_header</a></div><div class="ttdeci">frame::extended_header m_extended_header</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01042">hybi13.hpp:1042</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a906398e2c23370de53d4f3572657ad05"><div class="ttname"><a href="#a906398e2c23370de53d4f3572657ad05">websocketpp::processor::hybi13::finalize_message</a></div><div class="ttdeci">lib::error_code finalize_message()</div><div class="ttdoc">Perform any finalization actions on an incoming message.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00496">hybi13.hpp:496</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_aa1b5aeeb8c4be9460854b1eb972a1563"><div class="ttname"><a href="#aa1b5aeeb8c4be9460854b1eb972a1563">websocketpp::processor::hybi13::m_basic_header</a></div><div class="ttdeci">frame::basic_header m_basic_header</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01022">hybi13.hpp:1022</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_aa7eece3f48840535f41b625061fa7867"><div class="ttname"><a href="#aa7eece3f48840535f41b625061fa7867">websocketpp::processor::hybi13::process_payload_bytes</a></div><div class="ttdeci">size_t process_payload_bytes(uint8_t *buf, size_t len, lib::error_code &amp;ec)</div><div class="ttdoc">Reads bytes from buf into message payload.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00777">hybi13.hpp:777</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_aee8565136bb0820e9a8914dfc5fdb753"><div class="ttname"><a href="#aee8565136bb0820e9a8914dfc5fdb753">websocketpp::processor::hybi13::validate_incoming_extended_header</a></div><div class="ttdeci">lib::error_code validate_incoming_extended_header(frame::basic_header h, frame::extended_header e) const</div><div class="ttdoc">Validate an incoming extended header.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00904">hybi13.hpp:904</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1processor_html_a584edc3698f98e6eb85ab280f491ac9d"><div class="ttname"><a href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">websocketpp::processor::processor::m_server</a></div><div class="ttdeci">bool const m_server</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00400">processor.hpp:400</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1processor_html_a74984af956fccae7e045743cf8ac23b4"><div class="ttname"><a href="classwebsocketpp_1_1processor_1_1processor.html#a74984af956fccae7e045743cf8ac23b4">websocketpp::processor::processor::m_max_message_size</a></div><div class="ttdeci">size_t m_max_message_size</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00401">processor.hpp:401</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_aa5e7f94a35f8fb59a925fa01636f08ad"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">websocketpp::frame::opcode::is_control</a></div><div class="ttdeci">bool is_control(value v)</div><div class="ttdoc">Check if an opcode is for a control frame.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00139">frame.hpp:139</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5e"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">websocketpp::frame::opcode::value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00077">frame.hpp:77</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a235192baaf86f38158dc33f178c04661"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661">websocketpp::frame::get_opcode</a></div><div class="ttdeci">opcode::value get_opcode(basic_header const &amp;h)</div><div class="ttdoc">Extract opcode from basic header.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00393">frame.hpp:393</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a2ca0b9ba6077f201997da543d45b067f"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a2ca0b9ba6077f201997da543d45b067f">websocketpp::frame::get_payload_size</a></div><div class="ttdeci">uint64_t get_payload_size(basic_header const &amp;, extended_header const &amp;)</div><div class="ttdoc">Extract the full payload size field from a WebSocket header.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00573">frame.hpp:573</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a66b39e273681d8509128e420cfaef6b0"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a66b39e273681d8509128e420cfaef6b0">websocketpp::frame::get_fin</a></div><div class="ttdeci">bool get_fin(basic_header const &amp;h)</div><div class="ttdoc">Check whether the frame's FIN bit is set.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00321">frame.hpp:321</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a90556de9dd71c1f063153b791abeb81c"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a90556de9dd71c1f063153b791abeb81c">websocketpp::frame::get_rsv1</a></div><div class="ttdeci">bool get_rsv1(basic_header const &amp;h)</div><div class="ttdoc">check whether the frame's RSV1 bit is set</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00339">frame.hpp:339</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_abd4f23c906cc48fb3b34603fd4284b01"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01">websocketpp::frame::get_header_len</a></div><div class="ttdeci">size_t get_header_len(basic_header const &amp;)</div><div class="ttdoc">Calculates the full length of the header based on the first bytes.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00445">frame.hpp:445</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_aed7edd146ce3aa5b87adc9fcc5fcb10f"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#aed7edd146ce3aa5b87adc9fcc5fcb10f">websocketpp::frame::get_masking_key</a></div><div class="ttdeci">masking_key_type get_masking_key(basic_header const &amp;, extended_header const &amp;)</div><div class="ttdoc">Extract the masking key from a frame header.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00516">frame.hpp:516</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_af80eee705eb39fb533cf4ab3d7a6d3bb"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#af80eee705eb39fb533cf4ab3d7a6d3bb">websocketpp::frame::prepare_masking_key</a></div><div class="ttdeci">size_t prepare_masking_key(masking_key_type const &amp;key)</div><div class="ttdoc">Extract a masking key into a value the size of a machine word.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00595">frame.hpp:595</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a">websocketpp::processor::error::general</a></div><div class="ttdeci">@ general</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00069">base.hpp:69</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2">websocketpp::processor::error::message_too_big</a></div><div class="ttdeci">@ message_too_big</div><div class="ttdoc">Processor encountered a message that was too large.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00078">base.hpp:78</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_html_a49e276abf3be14de45a9111cb13e3d81"><div class="ttname"><a href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">websocketpp::processor::hybi13::msg_metadata::msg_ptr</a></div><div class="ttdeci">message_ptr msg_ptr</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01016">hybi13.hpp:1016</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_html_a4c0cf4af697b0a12396ca5570a888ec1"><div class="ttname"><a href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a4c0cf4af697b0a12396ca5570a888ec1">websocketpp::processor::hybi13::msg_metadata::prepared_key</a></div><div class="ttdeci">size_t prepared_key</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01017">hybi13.hpp:1017</a></div></div>
<div class="ttc" id="aunionop_html"><div class="ttname"><a href="unionop.html">op</a></div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8h_source.html#l00098">yubihsm_pkcs11.h:98</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04771">yubihsm_pkcs11.c:4771</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a855e99b645b13e7905d074d02fe0bff5"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a></div><div class="ttdeci">uint8_t buf[2048]</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04770">yubihsm_pkcs11.c:4770</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659_cgraph">
<area shape="rect" title="Process new websocket connection bytes." alt="" coords="5,372,169,413"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a737c86ee2ec91709052e69f22083afb9" title="Reads bytes from buf into m_basic_header." alt="" coords="217,5,443,46"/>
<area shape="poly" title=" " alt="" coords="87,371,96,310,117,225,134,179,155,134,182,92,215,56,218,53,221,57,219,60,186,96,160,137,138,181,122,226,101,311,93,372"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a79fbd0b0670ab1c345ddbb4db76f6a0b" title="Reads bytes from buf into m_extended_header." alt="" coords="248,70,412,126"/>
<area shape="poly" title=" " alt="" coords="91,371,105,323,129,260,165,194,188,163,215,136,233,123,236,127,218,140,192,166,170,197,134,263,110,325,96,372"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a906398e2c23370de53d4f3572657ad05" title="Perform any finalization actions on an incoming message." alt="" coords="242,149,418,190"/>
<area shape="poly" title=" " alt="" coords="95,370,113,335,139,291,173,246,215,206,233,195,235,200,218,210,177,249,144,294,118,338,100,373"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661" title="Extract opcode from basic header." alt="" coords="514,77,653,118"/>
<area shape="poly" title=" " alt="" coords="99,370,145,310,178,277,215,250,248,235,277,228,331,227,384,224,411,216,441,200,457,183,465,166,473,147,489,129,498,123,501,127,493,133,478,150,470,168,462,186,445,204,413,221,385,229,331,232,278,233,249,240,218,255,181,281,149,313,103,373"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a66b39e273681d8509128e420cfaef6b0" title="Check whether the frame&#39;s FIN bit is set." alt="" coords="514,273,653,314"/>
<area shape="poly" title=" " alt="" coords="168,369,216,358,498,305,499,310,217,363,170,374"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="260,635,400,675"/>
<area shape="poly" title=" " alt="" coords="100,412,145,493,179,542,219,586,244,607,272,625,269,629,241,611,215,590,175,545,141,496,95,414"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#aed7edd146ce3aa5b87adc9fcc5fcb10f" title="Extract the masking key from a frame header." alt="" coords="260,780,400,821"/>
<area shape="poly" title=" " alt="" coords="93,413,102,477,122,567,139,615,160,664,186,710,219,750,248,772,245,777,215,754,182,713,155,666,134,617,117,568,96,478,87,414"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a90556de9dd71c1f063153b791abeb81c" title="check whether the frame&#39;s RSV1 bit is set" alt="" coords="514,339,653,379"/>
<area shape="poly" title=" " alt="" coords="169,384,498,362,499,367,169,390"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="514,715,653,755"/>
<area shape="poly" title=" " alt="" coords="105,411,152,468,184,500,218,527,250,546,279,558,333,571,386,585,414,599,445,621,461,640,469,659,477,676,493,694,507,705,504,709,489,698,473,679,465,661,457,643,441,625,412,604,384,590,331,576,277,563,247,551,215,532,180,504,148,472,101,415"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#aa7eece3f48840535f41b625061fa7867" title="Reads bytes from buf into message payload." alt="" coords="224,264,436,305"/>
<area shape="poly" title=" " alt="" coords="122,369,216,321,247,308,249,313,218,325,124,374"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a052dd867709539c0a3f70eb271da70ca" title=" " alt="" coords="248,700,412,741"/>
<area shape="poly" title=" " alt="" coords="94,412,105,467,127,541,144,580,164,618,189,654,218,685,236,697,233,701,215,689,185,657,160,621,139,582,122,542,100,468,89,413"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a0c549a5e2766288fb625c03e507cc9ad" title="Validate an incoming basic header." alt="" coords="240,462,420,518"/>
<area shape="poly" title=" " alt="" coords="141,411,245,453,243,458,139,416"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#aee8565136bb0820e9a8914dfc5fdb753" title="Validate an incoming extended header." alt="" coords="240,895,420,951"/>
<area shape="poly" title=" " alt="" coords="93,413,102,486,123,594,139,654,161,715,187,775,219,831,243,859,271,884,267,888,239,863,214,834,182,778,156,717,134,656,118,595,97,487,87,413"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a89deb3bdfd8b94da908b806e543491ba" title="Return whether the input sequence ended on a valid utf8 codepoint." alt="" coords="491,12,675,53"/>
<area shape="poly" title=" " alt="" coords="417,149,441,136,457,119,465,101,473,82,489,64,497,58,500,63,493,68,477,85,470,103,462,122,445,140,420,154"/>
<area shape="poly" title=" " alt="" coords="404,146,442,135,498,119,499,124,444,140,405,151"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="514,780,653,821"/>
<area shape="poly" title=" " alt="" coords="401,664,424,673,445,686,462,706,470,726,477,746,493,765,501,771,498,776,489,769,472,749,465,728,457,709,441,690,421,678,399,669"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="498,845,669,886"/>
<area shape="poly" title=" " alt="" coords="401,662,424,672,445,686,459,705,467,723,470,760,473,795,480,813,493,831,496,834,493,838,489,834,475,815,468,797,465,760,462,724,455,707,441,690,422,676,399,667"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="746,857,885,898"/>
<area shape="poly" title=" " alt="" coords="670,867,731,871,730,876,669,873"/>
<area shape="poly" title=" " alt="" coords="400,798,498,798,498,803,400,803"/>
<area shape="poly" title=" " alt="" coords="400,816,488,838,486,844,399,821"/>
<area shape="poly" title=" " alt="" coords="352,303,400,365,425,406,445,449,459,496,462,540,455,617,453,653,455,689,468,726,493,765,502,774,499,778,489,769,463,728,450,690,447,653,450,616,457,540,454,497,441,451,420,408,395,368,348,307"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a3e0ba89b475df758d84dab352a76c3b3" title="Circular byte aligned mask/unmask." alt="" coords="514,208,653,249"/>
<area shape="poly" title=" " alt="" coords="424,261,498,244,499,250,425,266"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a2cde6cad6f1a0f66674010848ec80fba" title="Advance validator state with input from an iterator pair." alt="" coords="491,143,675,183"/>
<area shape="poly" title=" " alt="" coords="406,261,442,243,456,232,465,219,474,207,489,194,499,188,502,193,493,199,478,211,469,223,460,235,444,248,409,266"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a76bf120d54d47d760eb8bd803572b004" title="circularly shifts the supplied prepared masking key by offset bytes" alt="" coords="735,208,896,249"/>
<area shape="poly" title=" " alt="" coords="653,226,720,226,720,231,653,231"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#a321373761665b77eaf5d78ff5e535941" title=" " alt="" coords="956,208,1101,249"/>
<area shape="poly" title=" " alt="" coords="896,226,940,226,940,231,896,231"/>
<area shape="rect" href="namespacewebsocketpp_1_1utf8__validator.html#ae6dab1acad72af0396e2448394a07d98" title="Decode the next byte of a UTF8 sequence." alt="" coords="723,143,908,183"/>
<area shape="poly" title=" " alt="" coords="676,160,707,160,707,166,676,166"/>
<area shape="poly" title=" " alt="" coords="351,460,396,396,441,315,450,288,454,263,456,218,462,175,472,153,489,129,498,121,502,125,493,133,476,155,467,176,461,218,460,264,455,289,445,317,401,398,356,463"/>
<area shape="poly" title=" " alt="" coords="350,460,408,393,447,357,490,325,499,319,502,324,492,329,451,361,412,397,354,464"/>
<area shape="poly" title=" " alt="" coords="362,516,405,563,445,622,455,643,460,663,464,699,471,731,479,748,493,765,502,773,499,777,489,769,475,751,466,733,459,699,455,664,450,645,441,624,401,567,358,520"/>
<area shape="poly" title=" " alt="" coords="393,516,420,534,445,556,461,582,468,606,475,629,493,650,516,666,538,674,581,678,626,680,651,687,677,701,716,733,750,771,798,843,794,846,746,774,712,737,674,705,649,692,625,686,581,683,537,679,514,670,489,654,470,631,463,608,456,584,441,559,417,538,390,520"/>
<area shape="poly" title=" " alt="" coords="371,459,427,424,490,390,504,383,507,388,492,395,429,429,374,464"/>
<area shape="poly" title=" " alt="" coords="404,516,426,531,445,549,458,569,465,588,469,624,473,659,480,677,493,695,503,704,500,708,489,698,475,679,468,661,463,625,460,589,453,571,441,553,422,535,401,520"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a531509bc14ee0a6641662b17d5670460" title="check whether the frame&#39;s RSV2 bit is set" alt="" coords="514,535,653,575"/>
<area shape="poly" title=" " alt="" coords="421,510,499,531,498,536,419,515"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4dc0cc35b38986b9b56120ef297dd795" title="check whether the frame&#39;s RSV3 bit is set" alt="" coords="514,600,653,641"/>
<area shape="poly" title=" " alt="" coords="388,516,445,549,468,568,492,585,505,591,503,596,490,589,465,572,441,553,385,520"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a6f451ade60e2cca4caac58347643443a" title="Check if an opcode is invalid." alt="" coords="514,404,653,445"/>
<area shape="poly" title=" " alt="" coords="419,464,498,443,499,449,421,469"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a9890345367f4c8bdf565d62e00afbc61" title="Check if an opcode is reserved." alt="" coords="514,469,653,510"/>
<area shape="poly" title=" " alt="" coords="420,487,498,487,498,492,420,492"/>
<area shape="poly" title=" " alt="" coords="420,916,675,895,730,888,731,893,676,900,420,921"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ca0b9ba6077f201997da543d45b067f" title="Extract the full payload size field from a WebSocket header." alt="" coords="514,960,653,1001"/>
<area shape="poly" title=" " alt="" coords="420,941,499,959,497,964,419,946"/>
<area shape="poly" title=" " alt="" coords="633,957,674,939,755,902,757,907,676,944,635,962"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a5ae0cc87ac44bb78c5dc41983c43a0c4" title="Extract the extended size field from an extended header." alt="" coords="746,1012,885,1053"/>
<area shape="poly" title=" " alt="" coords="654,993,731,1011,730,1016,653,999"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ac55b672bcd3baf4c5a074816f6eb035b" title="Extract the jumbo size field from an extended header." alt="" coords="746,947,885,987"/>
<area shape="poly" title=" " alt="" coords="653,974,730,969,730,975,654,979"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#ae2011914840da1dcbcac7266213a8709" title="Convert 64 bit value to host byte order." alt="" coords="956,947,1101,987"/>
<area shape="poly" title=" " alt="" coords="886,964,940,964,940,970,886,970"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#ab3e62ef8d23c6e35b1d726fa1fa1c537" title="Convert 64 bit value to network byte order." alt="" coords="1149,947,1294,987"/>
<area shape="poly" title=" " alt="" coords="1101,964,1133,964,1133,970,1101,970"/>
</map>
</div>

</div>
</div>
<a id="a737c86ee2ec91709052e69f22083afb9" name="a737c86ee2ec91709052e69f22083afb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a737c86ee2ec91709052e69f22083afb9">&#9670;&#160;</a></span>copy_basic_header_bytes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::copy_basic_header_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00722">722</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  722</span>                                                                    {</div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> == 0 || <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> == 0) {</div>
<div class="line"><span class="lineno">  724</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  725</span>        }</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> &gt; 1) {</div>
<div class="line"><span class="lineno">  728</span>            <span class="comment">// have at least two bytes</span></div>
<div class="line"><span class="lineno">  729</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> == 2) {</div>
<div class="line"><span class="lineno">  730</span>                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a9dcac77e651c455cf3aed687dbd87d7e">b0</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[0];</div>
<div class="line"><span class="lineno">  731</span>                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a631a0cbf798d7996a4de1d62f03cc470">b1</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[1];</div>
<div class="line"><span class="lineno">  732</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> -= 2;</div>
<div class="line"><span class="lineno">  733</span>                <span class="keywordflow">return</span> 2;</div>
<div class="line"><span class="lineno">  734</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  735</span>                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a631a0cbf798d7996a4de1d62f03cc470">b1</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[0];</div>
<div class="line"><span class="lineno">  736</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>--;</div>
<div class="line"><span class="lineno">  737</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  738</span>            }</div>
<div class="line"><span class="lineno">  739</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  740</span>            <span class="comment">// have exactly one byte</span></div>
<div class="line"><span class="lineno">  741</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> == 2) {</div>
<div class="line"><span class="lineno">  742</span>                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a9dcac77e651c455cf3aed687dbd87d7e">b0</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[0];</div>
<div class="line"><span class="lineno">  743</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>--;</div>
<div class="line"><span class="lineno">  744</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  745</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  746</span>                <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a631a0cbf798d7996a4de1d62f03cc470">b1</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[0];</div>
<div class="line"><span class="lineno">  747</span>                <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>--;</div>
<div class="line"><span class="lineno">  748</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  749</span>            }</div>
<div class="line"><span class="lineno">  750</span>        }</div>
<div class="line"><span class="lineno">  751</span>    }</div>
<div class="ttc" id="astructwebsocketpp_1_1frame_1_1basic__header_html_a631a0cbf798d7996a4de1d62f03cc470"><div class="ttname"><a href="structwebsocketpp_1_1frame_1_1basic__header.html#a631a0cbf798d7996a4de1d62f03cc470">websocketpp::frame::basic_header::b1</a></div><div class="ttdeci">uint8_t b1</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00231">frame.hpp:231</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1frame_1_1basic__header_html_a9dcac77e651c455cf3aed687dbd87d7e"><div class="ttname"><a href="structwebsocketpp_1_1frame_1_1basic__header.html#a9dcac77e651c455cf3aed687dbd87d7e">websocketpp::frame::basic_header::b0</a></div><div class="ttdeci">uint8_t b0</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00230">frame.hpp:230</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9_icgraph">
<area shape="rect" title="Reads bytes from buf into m_basic_header." alt="" coords="217,5,443,46"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="201,28,169,28,169,23,201,23"/>
</map>
</div>

</div>
</div>
<a id="a79fbd0b0670ab1c345ddbb4db76f6a0b" name="a79fbd0b0670ab1c345ddbb4db76f6a0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fbd0b0670ab1c345ddbb4db76f6a0b">&#9670;&#160;</a></span>copy_extended_header_bytes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::copy_extended_header_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00754">754</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  754</span>                                                                       {</div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordtype">size_t</span> bytes_to_read = (std::min)(<a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>        std::copy(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>+bytes_to_read,<a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1extended__header.html#a64507c32b568d0894b2bf3a2513debd1">bytes</a>+<a class="code hl_variable" href="#a4fd9db5f39ff7ca0796c456b83b74887">m_cursor</a>);</div>
<div class="line"><span class="lineno">  758</span>        <a class="code hl_variable" href="#a4fd9db5f39ff7ca0796c456b83b74887">m_cursor</a> += bytes_to_read;</div>
<div class="line"><span class="lineno">  759</span>        <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> -= bytes_to_read;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">return</span> bytes_to_read;</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="ttc" id="astructwebsocketpp_1_1frame_1_1extended__header_html_a64507c32b568d0894b2bf3a2513debd1"><div class="ttname"><a href="structwebsocketpp_1_1frame_1_1extended__header.html#a64507c32b568d0894b2bf3a2513debd1">websocketpp::frame::extended_header::bytes</a></div><div class="ttdeci">uint8_t bytes[MAX_EXTENDED_HEADER_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00258">frame.hpp:258</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b_icgraph">
<area shape="rect" title="Reads bytes from buf into m_extended_header." alt="" coords="217,5,380,61"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,13,169,54"/>
<area shape="poly" title=" " alt="" coords="201,36,169,36,169,30,201,30"/>
</map>
</div>

</div>
</div>
<a id="a3d3b0e51df97cd7c8dcde00fb3003a34" name="a3d3b0e51df97cd7c8dcde00fb3003a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3b0e51df97cd7c8dcde00fb3003a34">&#9670;&#160;</a></span>extract_subprotocols()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::extract_subprotocols </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>subprotocol_list</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extracts a list of all subprotocols that the client has requested in the given opening handshake request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">req</td><td>The request to extract from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subprotocol_list</td><td><a class="el" href="struct_a.html">A</a> reference to a vector of strings to store the results in. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#abec64a667b46855187d821abcb7a5247">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00310">310</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>    {</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> (!req.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Protocol&quot;</span>).empty()) {</div>
<div class="line"><span class="lineno">  314</span>            http::parameter_list <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>             <span class="keywordflow">if</span> (!req.get_header_as_plist(<span class="stringliteral">&quot;Sec-WebSocket-Protocol&quot;</span>,<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>)) {</div>
<div class="line"><span class="lineno">  317</span>                 http::parameter_list::const_iterator it;</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>                 <span class="keywordflow">for</span> (it = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.begin(); it != <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.end(); ++it) {</div>
<div class="line"><span class="lineno">  320</span>                     subprotocol_list.push_back(it-&gt;first);</div>
<div class="line"><span class="lineno">  321</span>                 }</div>
<div class="line"><span class="lineno">  322</span>             } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  323</span>                 <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a826cd67f60ca8687720833cea17777ac">error::subprotocol_parse_error</a>);</div>
<div class="line"><span class="lineno">  324</span>             }</div>
<div class="line"><span class="lineno">  325</span>        }</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a826cd67f60ca8687720833cea17777ac"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a826cd67f60ca8687720833cea17777ac">websocketpp::processor::error::subprotocol_parse_error</a></div><div class="ttdeci">@ subprotocol_parse_error</div><div class="ttdoc">Error parsing subprotocols.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00147">base.hpp:147</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_afc5fc4548656f87cfee89994c95bec9c"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">websocketpp::processor::error::make_error_code</a></div><div class="ttdeci">lib::error_code make_error_code(error::processor_errors e)</div><div class="ttdoc">Create an error code with the given value and the processor category.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00244">base.hpp:244</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34_cgraph">
<area shape="rect" title="Extracts requested subprotocols from a handshake request." alt="" coords="5,13,202,54"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c" title="Create an error code with the given value and the processor category." alt="" coords="250,13,413,54"/>
<area shape="poly" title=" " alt="" coords="202,30,234,30,234,36,202,36"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor_1_1error.html#a05888e4f40358343536893ef37f855a7" title="Get a reference to a static copy of the processor error category." alt="" coords="461,5,624,61"/>
<area shape="poly" title=" " alt="" coords="413,30,445,30,445,36,413,36"/>
</map>
</div>

</div>
</div>
<a id="a906398e2c23370de53d4f3572657ad05" name="a906398e2c23370de53d4f3572657ad05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a906398e2c23370de53d4f3572657ad05">&#9670;&#160;</a></span>finalize_message()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::finalize_message </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after the full message is received. Provides the opportunity for extensions to complete any data post processing as well as final <a class="el" href="struct_u_t_f8.html" title="UTF-8 encoding.">UTF8</a> validation checks for text messages.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> code indicating errors, if any </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00496">496</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  496</span>                                     {</div>
<div class="line"><span class="lineno">  497</span>        std::string &amp; out = <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>        <span class="comment">// if the frame is compressed, append the compression</span></div>
<div class="line"><span class="lineno">  500</span>        <span class="comment">// trailer and flush the compression buffer.</span></div>
<div class="line"><span class="lineno">  501</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()</div>
<div class="line"><span class="lineno">  502</span>            &amp;&amp; <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_compressed())</div>
<div class="line"><span class="lineno">  503</span>        {</div>
<div class="line"><span class="lineno">  504</span>            <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> trailer[4] = {0x00, 0x00, 0xff, 0xff};</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>            <span class="comment">// Decompress current buffer into the message buffer</span></div>
<div class="line"><span class="lineno">  507</span>            lib::error_code ec;</div>
<div class="line"><span class="lineno">  508</span>            ec = <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.decompress(trailer,4,out);</div>
<div class="line"><span class="lineno">  509</span>            <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  510</span>                <span class="keywordflow">return</span> ec;</div>
<div class="line"><span class="lineno">  511</span>            }</div>
<div class="line"><span class="lineno">  512</span>        }</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>        <span class="comment">// ensure that text messages end on a valid UTF8 code point</span></div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661">frame::get_opcode</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>) == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72">frame::opcode::TEXT</a>) {</div>
<div class="line"><span class="lineno">  516</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a283c8d119c2c9f2543a2247b465c9416">validator</a>.<a class="code hl_function" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a89deb3bdfd8b94da908b806e543491ba">complete</a>()) {</div>
<div class="line"><span class="lineno">  517</span>                <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a">error::invalid_utf8</a>);</div>
<div class="line"><span class="lineno">  518</span>            }</div>
<div class="line"><span class="lineno">  519</span>        }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>        <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> = <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">READY</a>;</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  524</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1utf8__validator_1_1validator_html_a89deb3bdfd8b94da908b806e543491ba"><div class="ttname"><a href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a89deb3bdfd8b94da908b806e543491ba">websocketpp::utf8_validator::validator::complete</a></div><div class="ttdeci">bool complete()</div><div class="ttdoc">Return whether the input sequence ended on a valid utf8 codepoint.</div><div class="ttdef"><b>Definition</b> <a href="utf8__validator_8hpp_source.html#l00124">utf8_validator.hpp:124</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72">websocketpp::frame::opcode::TEXT</a></div><div class="ttdeci">@ TEXT</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00096">frame.hpp:96</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a">websocketpp::processor::error::invalid_utf8</a></div><div class="ttdeci">@ invalid_utf8</div><div class="ttdoc">Invalid UTF-8 encoding.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00114">base.hpp:114</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_html_a283c8d119c2c9f2543a2247b465c9416"><div class="ttname"><a href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a283c8d119c2c9f2543a2247b465c9416">websocketpp::processor::hybi13::msg_metadata::validator</a></div><div class="ttdeci">utf8_validator::validator validator</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l01018">hybi13.hpp:1018</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_cgraph">
<area shape="rect" title="Perform any finalization actions on an incoming message." alt="" coords="5,39,182,79"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a89deb3bdfd8b94da908b806e543491ba" title="Return whether the input sequence ended on a valid utf8 codepoint." alt="" coords="230,5,414,46"/>
<area shape="poly" title=" " alt="" coords="182,43,214,39,214,44,182,49"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661" title="Extract opcode from basic header." alt="" coords="252,71,392,111"/>
<area shape="poly" title=" " alt="" coords="182,69,237,77,237,82,182,74"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_icgraph">
<area shape="rect" title="Perform any finalization actions on an incoming message." alt="" coords="217,5,393,46"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="201,28,169,28,169,23,201,23"/>
</map>
</div>

</div>
</div>
<a id="a0e7fbb706a341f7d125c27e7ef001d92" name="a0e7fbb706a341f7d125c27e7ef001d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7fbb706a341f7d125c27e7ef001d92">&#9670;&#160;</a></span>get_bytes_needed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_bytes_needed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the number of bytes presently needed by the processor This value may be used as a hint to the transport layer as to how many bytes to wait for before running consume again. </p>

<p>Reimplemented from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a141bc4565dc27e047df1251f117543b4">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00568">568</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  568</span>                                    {</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a>;</div>
<div class="line"><span class="lineno">  570</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f95f4d45deb00fab39d1fe4441256be" name="a6f95f4d45deb00fab39d1fe4441256be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f95f4d45deb00fab39d1fe4441256be">&#9670;&#160;</a></span>get_error()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ac3767ec87d3d538c429156295edd5144">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00564">564</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  564</span>                           {</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617">FATAL_ERROR</a>;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fe09bba8cbe2821ef5c7cf3fd9573cd" name="a8fe09bba8cbe2821ef5c7cf3fd9573cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe09bba8cbe2821ef5c7cf3fd9573cd">&#9670;&#160;</a></span>get_message()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_message </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves a shared pointer to the recently completed message if there is one. If <a class="el" href="#af0e73b14cac728a873c8b5c0bc82ed03" title="Test whether or not the processor has a message ready.">ready()</a> returns true then there is a message available. Retrieving the message with get_message will reset the state of ready. As such, each new message may be retrieved only once. Calling get_message when there is no message available will result in a null pointer being returned.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> pointer to the most recently processed message or a null shared pointer. </dd></dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#afb9477aa9e49a7dca59d684277b66932">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00545">545</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  545</span>                              {</div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#af0e73b14cac728a873c8b5c0bc82ed03">ready</a>()) {</div>
<div class="line"><span class="lineno">  547</span>            <span class="keywordflow">return</span> <a class="code hl_typedef" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a>();</div>
<div class="line"><span class="lineno">  548</span>        }</div>
<div class="line"><span class="lineno">  549</span>        <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>;</div>
<div class="line"><span class="lineno">  550</span>        <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>.reset();</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>-&gt;get_opcode())) {</div>
<div class="line"><span class="lineno">  553</span>            <a class="code hl_variable" href="#a684c7ab5a31c2becad136063e0cd48a9">m_control_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>.reset();</div>
<div class="line"><span class="lineno">  554</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  555</span>            <a class="code hl_variable" href="#a7ace361da2e05291aeb029956f20aee3">m_data_msg</a>.<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>.reset();</div>
<div class="line"><span class="lineno">  556</span>        }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>        this-&gt;<a class="code hl_function" href="#a052dd867709539c0a3f70eb271da70ca">reset_headers</a>();</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  561</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a42cdc2fb13fc9ab8554e0cbaae6f2b4d"><div class="ttname"><a href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">websocketpp::processor::hybi13::message_ptr</a></div><div class="ttdeci">message_type::ptr message_ptr</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00062">hybi13.hpp:62</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_af0e73b14cac728a873c8b5c0bc82ed03"><div class="ttname"><a href="#af0e73b14cac728a873c8b5c0bc82ed03">websocketpp::processor::hybi13::ready</a></div><div class="ttdeci">bool ready() const</div><div class="ttdoc">Test whether or not the processor has a message ready.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00541">hybi13.hpp:541</a></div></div>
<div class="ttc" id="adebug__client_8cpp_html_a08398c4d31a4dc3e42d1b9a9ef64c6ad"><div class="ttname"><a href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a></div><div class="ttdeci">websocketpp::config::asio_tls_client::message_type::ptr message_ptr</div><div class="ttdef"><b>Definition</b> <a href="debug__client_8cpp_source.html#l00046">debug_client.cpp:46</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a3d854b6efad16a16e4d7b4539d4fc71f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a></div><div class="ttdeci">CK_RV ret</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00973">yubihsm_pkcs11.c:973</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd_cgraph">
<area shape="rect" title="Retrieves the most recently processed message." alt="" coords="5,71,169,111"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="229,5,368,46"/>
<area shape="poly" title=" " alt="" coords="154,68,215,49,216,54,156,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#af0e73b14cac728a873c8b5c0bc82ed03" title="Test whether or not the processor has a message ready." alt="" coords="217,71,380,111"/>
<area shape="poly" title=" " alt="" coords="169,88,201,88,201,94,169,94"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a052dd867709539c0a3f70eb271da70ca" title=" " alt="" coords="217,136,380,177"/>
<area shape="poly" title=" " alt="" coords="156,109,216,128,215,133,154,114"/>
</map>
</div>

</div>
</div>
<a id="a9d7d6e203cbc4d76bbebcc69f1b01ab0" name="a9d7d6e203cbc4d76bbebcc69f1b01ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d7d6e203cbc4d76bbebcc69f1b01ab0">&#9670;&#160;</a></span>get_origin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_origin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#adbcf94ab5ac6d27d3dc5143701ac2e8a">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00306">306</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  306</span>                                                               {</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.get_header(<span class="stringliteral">&quot;Origin&quot;</span>);</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="ttc" id="abn_8cpp_html_af0a5201ca8846f05f25435b41d7f39f7"><div class="ttname"><a href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a></div><div class="ttdeci">const mie::Vuint &amp; r</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00028">bn.cpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1055402f24f2977c8141eab25b5ee26" name="ab1055402f24f2977c8141eab25b5ee26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1055402f24f2977c8141eab25b5ee26">&#9670;&#160;</a></span>get_raw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_raw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a55ed343fecfcce5f312a2d0bc52c507e">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00302">302</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  302</span>                                                       {</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">return</span> res.raw();</div>
<div class="line"><span class="lineno">  304</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a49ae173c8cdef4e78c472a46200df8d0" name="a49ae173c8cdef4e78c472a46200df8d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ae173c8cdef4e78c472a46200df8d0">&#9670;&#160;</a></span>get_uri()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a8c47ebd7cbf55544b8bc4178dd97a140">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00329">329</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  329</span>                                                        {</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce">get_uri_from_host</a>(request,(<a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#aebab411b1ca4d8ab32ee8c13afcf9274">base::m_secure</a> ? <span class="stringliteral">&quot;wss&quot;</span> : <span class="stringliteral">&quot;ws&quot;</span>));</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1processor_html_aebab411b1ca4d8ab32ee8c13afcf9274"><div class="ttname"><a href="classwebsocketpp_1_1processor_1_1processor.html#aebab411b1ca4d8ab32ee8c13afcf9274">websocketpp::processor::processor::m_secure</a></div><div class="ttdeci">bool const m_secure</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00399">processor.hpp:399</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_html_a5fa80687521dc24678e773fc3e71e0ce"><div class="ttname"><a href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce">websocketpp::processor::get_uri_from_host</a></div><div class="ttdeci">uri_ptr get_uri_from_host(request_type &amp;request, std::string scheme)</div><div class="ttdoc">Extract a URI ptr from the host header of the request.</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00136">processor.hpp:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0_cgraph">
<area shape="rect" title="Extracts client uri from a handshake request." alt="" coords="5,5,169,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce" title="Extract a URI ptr from the host header of the request." alt="" coords="217,5,380,46"/>
<area shape="poly" title=" " alt="" coords="169,23,201,23,201,28,169,28"/>
</map>
</div>

</div>
</div>
<a id="afe89fa6418643711130ce3417451738b" name="afe89fa6418643711130ce3417451738b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe89fa6418643711130ce3417451738b">&#9670;&#160;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_version </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a53427f90f89cf215060ceb3ce7a06c2d">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00080">80</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                            {</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> 13;</div>
<div class="line"><span class="lineno">   82</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af6ad6f16537a2d6c389c56f6cfaf3c57" name="af6ad6f16537a2d6c389c56f6cfaf3c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ad6f16537a2d6c389c56f6cfaf3c57">&#9670;&#160;</a></span>has_permessage_deflate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::has_permessage_deflate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00084">84</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>                                        {</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_implemented();</div>
<div class="line"><span class="lineno">   86</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a888318b2773af49d458313a96a817a7a" name="a888318b2773af49d458313a96a817a7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888318b2773af49d458313a96a817a7a">&#9670;&#160;</a></span>masked_copy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::masked_copy </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>o</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1frame.html#a8bdac8ec44c78c027fcf55aa3bad3f86">frame::masking_key_type</a></td>          <td class="paramname"><span class="paramname"><em>key</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads input from one string and writes unmasked output to another.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>The input string. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">o</td><td>The output string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>The masking key to use for masking/unmasking </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00939">939</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  941</span>    {</div>
<div class="line"><span class="lineno">  942</span>        <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a">frame::byte_mask</a>(i.begin(),i.end(),o.begin(),key);</div>
<div class="line"><span class="lineno">  943</span>        <span class="comment">// TODO: SIMD masking</span></div>
<div class="line"><span class="lineno">  944</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a417650d76aa2433163942d6a13334a6a"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a">websocketpp::frame::byte_mask</a></div><div class="ttdeci">void byte_mask(input_iter b, input_iter e, output_iter o, masking_key_type const &amp;key, size_t key_offset=0)</div><div class="ttdoc">Byte by byte mask/unmask.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00642">frame.hpp:642</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_cgraph">
<area shape="rect" title="Copy and mask/unmask in one operation." alt="" coords="5,5,169,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="217,5,356,46"/>
<area shape="poly" title=" " alt="" coords="169,23,201,23,201,28,169,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_icgraph">
<area shape="rect" title="Copy and mask/unmask in one operation." alt="" coords="455,104,618,145"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5aa8f27959beeeef73997a80c2560663" title="Generic prepare control frame with opcode and payload." alt="" coords="230,71,394,111"/>
<area shape="poly" title=" " alt="" coords="439,113,394,106,395,101,440,107"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a72f4833d66eb51e37a956f434895b3ab" title="Prepare a user data message for writing." alt="" coords="217,136,407,177"/>
<area shape="poly" title=" " alt="" coords="440,141,408,145,407,140,439,135"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a8cbb98af828463c5ef80429a7ade715d" title=" " alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="224,68,159,49,160,44,226,63"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a38d06bc30c10cd1947c9a7b3051f8961" title="Get URI." alt="" coords="5,71,169,111"/>
<area shape="poly" title=" " alt="" coords="214,94,169,94,169,88,214,88"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#ab5ca972653c126e7c6a05c529b394321" title=" " alt="" coords="5,136,169,177"/>
<area shape="poly" title=" " alt="" coords="226,119,160,138,159,133,224,114"/>
</map>
</div>

</div>
</div>
<a id="aee995e6a4a29a800ce3b031885814ed1" name="aee995e6a4a29a800ce3b031885814ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee995e6a4a29a800ce3b031885814ed1">&#9670;&#160;</a></span>negotiate_extensions() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::negotiate_extensions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads the Sec-WebSocket-Extensions header and determines if any of the requested extensions are supported by this processor. If they are their settings data is initialized and an extension string to send to the is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The request or response headers to look at. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#aad69873505ba59f4ddf53e864f32bb80">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00088">88</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>                                                                    {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a2bba499a185aa0219c2389532a332393">negotiate_extensions_helper</a>(request);</div>
<div class="line"><span class="lineno">   90</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a2bba499a185aa0219c2389532a332393"><div class="ttname"><a href="#a2bba499a185aa0219c2389532a332393">websocketpp::processor::hybi13::negotiate_extensions_helper</a></div><div class="ttdeci">err_str_pair negotiate_extensions_helper(header_type const &amp;header)</div><div class="ttdoc">Extension negotiation helper function.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00102">hybi13.hpp:102</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_cgraph">
<area shape="rect" title="Initializes extensions based on the Sec&#45;WebSocket&#45;Extensions header." alt="" coords="5,13,204,54"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a2bba499a185aa0219c2389532a332393" title="Extension negotiation helper function." alt="" coords="252,5,450,61"/>
<area shape="poly" title=" " alt="" coords="204,30,236,30,236,36,204,36"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="498,20,616,46"/>
<area shape="poly" title=" " alt="" coords="450,30,482,30,482,36,450,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_icgraph">
<area shape="rect" title="Initializes extensions based on the Sec&#45;WebSocket&#45;Extensions header." alt="" coords="250,47,448,88"/>
<area shape="rect" href="hybi13_8cpp.html#af2a6ac7de0cbf2ab3f42fad11589bb88" title=" " alt="" coords="5,5,202,31"/>
<area shape="poly" title=" " alt="" coords="234,47,170,34,172,29,235,42"/>
<area shape="rect" href="hybi13_8cpp.html#a8572ea5938c89238763c7978435f0fed" title=" " alt="" coords="5,55,202,80"/>
<area shape="poly" title=" " alt="" coords="234,70,202,70,202,65,234,65"/>
<area shape="rect" href="hybi13_8cpp.html#af031866649c220df69ea97f6d3c2569e" title=" " alt="" coords="5,104,202,130"/>
<area shape="poly" title=" " alt="" coords="235,93,172,106,170,101,234,88"/>
</map>
</div>

</div>
</div>
<a id="a5b01c6303142aa151cf9bf1fe9ccb6e3" name="a5b01c6303142aa151cf9bf1fe9ccb6e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b01c6303142aa151cf9bf1fe9ccb6e3">&#9670;&#160;</a></span>negotiate_extensions() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::negotiate_extensions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reads the Sec-WebSocket-Extensions header and determines if any of the requested extensions were accepted by the server. If they are their settings data is initialized. If they are not a list of required extensions (if any) is returned. This list may be sent back to the server as a part of the 1010/Extension required close code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>The request or response headers to look at. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a236ab7829e607fa58cc94c219a1a680c">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00092">92</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>                                                                      {</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a2bba499a185aa0219c2389532a332393">negotiate_extensions_helper</a>(response);</div>
<div class="line"><span class="lineno">   94</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3_cgraph">
<area shape="rect" title="Initializes extensions based on the Sec&#45;WebSocket&#45;Extensions header." alt="" coords="5,13,204,54"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a2bba499a185aa0219c2389532a332393" title="Extension negotiation helper function." alt="" coords="252,5,450,61"/>
<area shape="poly" title=" " alt="" coords="204,30,236,30,236,36,204,36"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="498,20,616,46"/>
<area shape="poly" title=" " alt="" coords="450,30,482,30,482,36,450,36"/>
</map>
</div>

</div>
</div>
<a id="a2bba499a185aa0219c2389532a332393" name="a2bba499a185aa0219c2389532a332393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bba499a185aa0219c2389532a332393">&#9670;&#160;</a></span>negotiate_extensions_helper()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<div class="memtemplate">
template&lt;typename header_type &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::negotiate_extensions_helper </td>
          <td>(</td>
          <td class="paramtype">header_type const &amp;</td>          <td class="paramname"><span class="paramname"><em>header</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This exists mostly because the code for requests and responses is identical and I can't have virtual template methods. </p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00102">102</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>                                                                         {</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_typedef" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>        <span class="comment">// Respect blanket disabling of all extensions and don&#39;t even parse</span></div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">// the extension header</span></div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">if</span> (!config::enable_extensions) {</div>
<div class="line"><span class="lineno">  108</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a529dc9b46308d321bd52d8ced4e566e1">error::extensions_disabled</a>);</div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  110</span>        }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        http::parameter_list <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordtype">bool</span> error = header.get_header_as_plist(<span class="stringliteral">&quot;Sec-WebSocket-Extensions&quot;</span>,<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> (error) {</div>
<div class="line"><span class="lineno">  117</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a595ba53f29be3b66c51ad41bd94ee29c">error::extension_parse_error</a>);</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  119</span>        }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <span class="comment">// If there are no extensions parsed then we are done!</span></div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.<a class="code hl_function" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8">size</a>() == 0) {</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  124</span>        }</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        http::parameter_list::const_iterator it;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_implemented()) {</div>
<div class="line"><span class="lineno">  129</span>            <a class="code hl_typedef" href="#ab64318651ea4374d57111a754b15d93e">err_str_pair</a> neg_ret;</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">for</span> (it = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.begin(); it != <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.end(); ++it) {</div>
<div class="line"><span class="lineno">  131</span>                <span class="comment">// look through each extension, if the key is permessage-deflate</span></div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;permessage-deflate&quot;</span>) {</div>
<div class="line"><span class="lineno">  133</span>                    <span class="comment">// if we have already successfully negotiated this extension</span></div>
<div class="line"><span class="lineno">  134</span>                    <span class="comment">// then skip any other requests to negotiate the same one</span></div>
<div class="line"><span class="lineno">  135</span>                    <span class="comment">// with different parameters </span></div>
<div class="line"><span class="lineno">  136</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()) {</div>
<div class="line"><span class="lineno">  137</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  138</span>                    }</div>
<div class="line"><span class="lineno">  139</span>                    </div>
<div class="line"><span class="lineno">  140</span>                    </div>
<div class="line"><span class="lineno">  141</span>                    neg_ret = <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.negotiate(it-&gt;second);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>                    <span class="keywordflow">if</span> (neg_ret.first) {</div>
<div class="line"><span class="lineno">  144</span>                        <span class="comment">// Figure out if this is an error that should halt all</span></div>
<div class="line"><span class="lineno">  145</span>                        <span class="comment">// extension negotiations or simply cause negotiation of</span></div>
<div class="line"><span class="lineno">  146</span>                        <span class="comment">// this specific extension to fail.</span></div>
<div class="line"><span class="lineno">  147</span>                        <span class="comment">//std::cout &lt;&lt; &quot;permessage-compress negotiation failed: &quot;</span></div>
<div class="line"><span class="lineno">  148</span>                        <span class="comment">//          &lt;&lt; neg_ret.first.message() &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  149</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  150</span>                        <span class="comment">// Note: this list will need commas if WebSocket++ ever</span></div>
<div class="line"><span class="lineno">  151</span>                        <span class="comment">// supports more than one extension</span></div>
<div class="line"><span class="lineno">  152</span>                        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.second += neg_ret.second;</div>
<div class="line"><span class="lineno">  153</span>                        <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.init(<a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">base::m_server</a>);</div>
<div class="line"><span class="lineno">  154</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  155</span>                    }</div>
<div class="line"><span class="lineno">  156</span>                }</div>
<div class="line"><span class="lineno">  157</span>            }</div>
<div class="line"><span class="lineno">  158</span>        }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_ab64318651ea4374d57111a754b15d93e"><div class="ttname"><a href="#ab64318651ea4374d57111a754b15d93e">websocketpp::processor::hybi13::err_str_pair</a></div><div class="ttdeci">std::pair&lt; lib::error_code, std::string &gt; err_str_pair</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00070">hybi13.hpp:70</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a529dc9b46308d321bd52d8ced4e566e1"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a529dc9b46308d321bd52d8ced4e566e1">websocketpp::processor::error::extensions_disabled</a></div><div class="ttdeci">@ extensions_disabled</div><div class="ttdoc">Extension related operation was ignored because extensions are disabled.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00153">base.hpp:153</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a595ba53f29be3b66c51ad41bd94ee29c"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a595ba53f29be3b66c51ad41bd94ee29c">websocketpp::processor::error::extension_parse_error</a></div><div class="ttdeci">@ extension_parse_error</div><div class="ttdoc">Error parsing extensions.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00150">base.hpp:150</a></div></div>
<div class="ttc" id="astructmie_1_1_vuint_t_html_a1be409ac9e110dc4b60234ce37cbf0c8"><div class="ttname"><a href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8">mie::VuintT::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition</b> <a href="zm_8h_source.html#l00519">zm.h:519</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_cgraph">
<area shape="rect" title="Extension negotiation helper function." alt="" coords="5,5,204,61"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="252,20,370,46"/>
<area shape="poly" title=" " alt="" coords="204,30,236,30,236,36,204,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_icgraph">
<area shape="rect" title="Extension negotiation helper function." alt="" coords="496,73,694,129"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#aee995e6a4a29a800ce3b031885814ed1" title="Initializes extensions based on the Sec&#45;WebSocket&#45;Extensions header." alt="" coords="250,47,448,88"/>
<area shape="poly" title=" " alt="" coords="480,88,448,84,449,78,481,83"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5b01c6303142aa151cf9bf1fe9ccb6e3" title="Initializes extensions based on the Sec&#45;WebSocket&#45;Extensions header." alt="" coords="250,112,448,153"/>
<area shape="poly" title=" " alt="" coords="481,118,449,123,448,117,480,113"/>
<area shape="rect" href="hybi13_8cpp.html#af2a6ac7de0cbf2ab3f42fad11589bb88" title=" " alt="" coords="5,5,202,31"/>
<area shape="poly" title=" " alt="" coords="234,47,170,34,172,29,235,42"/>
<area shape="rect" href="hybi13_8cpp.html#a8572ea5938c89238763c7978435f0fed" title=" " alt="" coords="5,55,202,80"/>
<area shape="poly" title=" " alt="" coords="234,70,202,70,202,65,234,65"/>
<area shape="rect" href="hybi13_8cpp.html#af031866649c220df69ea97f6d3c2569e" title=" " alt="" coords="5,104,202,130"/>
<area shape="poly" title=" " alt="" coords="235,93,172,106,170,101,234,88"/>
</map>
</div>

</div>
</div>
<a id="a8cbb98af828463c5ef80429a7ade715d" name="a8cbb98af828463c5ef80429a7ade715d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbb98af828463c5ef80429a7ade715d">&#9670;&#160;</a></span>prepare_close()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::prepare_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>reason</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00674">674</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  676</span>    {</div>
<div class="line"><span class="lineno">  677</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1close_1_1status.html#af26a61f8a8c3247cf656349f96ea3008">close::status::reserved</a>(code)) {</div>
<div class="line"><span class="lineno">  678</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a57b405ca9c92135c21f4507722503b16">error::reserved_close_code</a>);</div>
<div class="line"><span class="lineno">  679</span>        }</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1close_1_1status.html#ad024f852889be28eadcec8209fdf9bc8">close::status::invalid</a>(code) &amp;&amp; code != close::status::no_status) {</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a3837b50a5121318129a6d1049196ab33">error::invalid_close_code</a>);</div>
<div class="line"><span class="lineno">  683</span>        }</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>        <span class="keywordflow">if</span> (code == close::status::no_status &amp;&amp; reason.size() &gt; 0) {</div>
<div class="line"><span class="lineno">  686</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2ebe84ac88fa4a93dd142d2e1ee2bbee">error::reason_requires_code</a>);</div>
<div class="line"><span class="lineno">  687</span>        }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">if</span> (reason.size() &gt; frame:: limits::payload_size_basic-2) {</div>
<div class="line"><span class="lineno">  690</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71">error::control_too_big</a>);</div>
<div class="line"><span class="lineno">  691</span>        }</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>        std::string payload;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">if</span> (code != close::status::no_status) {</div>
<div class="line"><span class="lineno">  696</span>            close::code_converter val;</div>
<div class="line"><span class="lineno">  697</span>            val.i = htons(code);</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>            payload.resize(reason.size()+2);</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>            payload[0] = val.c[0];</div>
<div class="line"><span class="lineno">  702</span>            payload[1] = val.c[1];</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>            std::copy(reason.begin(),reason.end(),payload.begin()+2);</div>
<div class="line"><span class="lineno">  705</span>        }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="#a5aa8f27959beeeef73997a80c2560663">prepare_control</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5eafc878334b78f2baf96d5dbf9e9652066">frame::opcode::CLOSE</a>,payload,out);</div>
<div class="line"><span class="lineno">  708</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a5aa8f27959beeeef73997a80c2560663"><div class="ttname"><a href="#a5aa8f27959beeeef73997a80c2560663">websocketpp::processor::hybi13::prepare_control</a></div><div class="ttdeci">lib::error_code prepare_control(frame::opcode::value op, std::string const &amp;payload, message_ptr out) const</div><div class="ttdoc">Generic prepare control frame with opcode and payload.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00955">hybi13.hpp:955</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1close_1_1status_html_ad024f852889be28eadcec8209fdf9bc8"><div class="ttname"><a href="namespacewebsocketpp_1_1close_1_1status.html#ad024f852889be28eadcec8209fdf9bc8">websocketpp::close::status::invalid</a></div><div class="ttdeci">bool invalid(value code)</div><div class="ttdoc">Test whether a close code is invalid on the wire.</div><div class="ttdef"><b>Definition</b> <a href="close_8hpp_source.html#l00194">close.hpp:194</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1close_1_1status_html_af26a61f8a8c3247cf656349f96ea3008"><div class="ttname"><a href="namespacewebsocketpp_1_1close_1_1status.html#af26a61f8a8c3247cf656349f96ea3008">websocketpp::close::status::reserved</a></div><div class="ttdeci">bool reserved(value code)</div><div class="ttdoc">Test whether a close code is in a reserved range.</div><div class="ttdef"><b>Definition</b> <a href="close_8hpp_source.html#l00179">close.hpp:179</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5eafc878334b78f2baf96d5dbf9e9652066"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5eafc878334b78f2baf96d5dbf9e9652066">websocketpp::frame::opcode::CLOSE</a></div><div class="ttdeci">@ CLOSE</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00103">frame.hpp:103</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71">websocketpp::processor::error::control_too_big</a></div><div class="ttdeci">@ control_too_big</div><div class="ttdoc">Control frame too large.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00090">base.hpp:90</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a2ebe84ac88fa4a93dd142d2e1ee2bbee"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2ebe84ac88fa4a93dd142d2e1ee2bbee">websocketpp::processor::error::reason_requires_code</a></div><div class="ttdeci">@ reason_requires_code</div><div class="ttdoc">Using a reason requires a close code.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00144">base.hpp:144</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a3837b50a5121318129a6d1049196ab33"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a3837b50a5121318129a6d1049196ab33">websocketpp::processor::error::invalid_close_code</a></div><div class="ttdeci">@ invalid_close_code</div><div class="ttdoc">Invalid close code used.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00141">base.hpp:141</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a57b405ca9c92135c21f4507722503b16"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a57b405ca9c92135c21f4507722503b16">websocketpp::processor::error::reserved_close_code</a></div><div class="ttdeci">@ reserved_close_code</div><div class="ttdoc">Reserved close code used.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00138">base.hpp:138</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,169,111"/>
<area shape="rect" href="namespacewebsocketpp_1_1close_1_1status.html#ad024f852889be28eadcec8209fdf9bc8" title="Test whether a close code is invalid on the wire." alt="" coords="230,5,368,46"/>
<area shape="poly" title=" " alt="" coords="154,68,215,49,217,54,156,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5aa8f27959beeeef73997a80c2560663" title="Generic prepare control frame with opcode and payload." alt="" coords="217,71,381,111"/>
<area shape="poly" title=" " alt="" coords="169,88,201,88,201,94,169,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1close_1_1status.html#af26a61f8a8c3247cf656349f96ea3008" title="Test whether a close code is in a reserved range." alt="" coords="230,136,368,177"/>
<area shape="poly" title=" " alt="" coords="156,109,217,128,215,133,154,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="441,5,580,46"/>
<area shape="poly" title=" " alt="" coords="366,68,427,49,429,54,368,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a888318b2773af49d458313a96a817a7a" title="Copy and mask/unmask in one operation." alt="" coords="429,71,592,111"/>
<area shape="poly" title=" " alt="" coords="382,88,413,88,413,94,382,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4" title="Generate a properly sized contiguous string that encodes a full frame header." alt="" coords="441,136,580,177"/>
<area shape="poly" title=" " alt="" coords="368,109,429,128,427,133,366,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="640,71,780,111"/>
<area shape="poly" title=" " alt="" coords="593,88,625,88,625,94,593,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="640,136,780,177"/>
<area shape="poly" title=" " alt="" coords="581,154,625,154,625,159,581,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="844,103,983,143"/>
<area shape="poly" title=" " alt="" coords="779,142,828,134,829,140,780,148"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="828,168,999,209"/>
<area shape="poly" title=" " alt="" coords="780,165,813,170,812,175,779,170"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="1047,168,1186,209"/>
<area shape="poly" title=" " alt="" coords="999,186,1032,186,1032,191,999,191"/>
</map>
</div>

</div>
</div>
<a id="a5aa8f27959beeeef73997a80c2560663" name="a5aa8f27959beeeef73997a80c2560663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa8f27959beeeef73997a80c2560663">&#9670;&#160;</a></span>prepare_control()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::prepare_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a></td>          <td class="paramname"><span class="paramname"><em>op</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal control frame building method. Handles validation, masking, etc</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>The control opcode to use </td></tr>
    <tr><td class="paramname">payload</td><td>The payload to use </td></tr>
    <tr><td class="paramname">out</td><td>The message buffer to store the prepared frame in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code, zero on success, non-zero on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00955">955</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  957</span>    {</div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">if</span> (!out) {</div>
<div class="line"><span class="lineno">  959</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da">error::invalid_arguments</a>);</div>
<div class="line"><span class="lineno">  960</span>        }</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>)) {</div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc">error::invalid_opcode</a>);</div>
<div class="line"><span class="lineno">  964</span>        }</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>        <span class="keywordflow">if</span> (payload.size() &gt; frame::limits::payload_size_basic) {</div>
<div class="line"><span class="lineno">  967</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71">error::control_too_big</a>);</div>
<div class="line"><span class="lineno">  968</span>        }</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>        <a class="code hl_typedef" href="namespacewebsocketpp_1_1frame.html#a8bdac8ec44c78c027fcf55aa3bad3f86">frame::masking_key_type</a> <a class="code hl_variable" href="yubico__otp_8c.html#a9246c20bb98ad2b4c60313c053c70f08">key</a>;</div>
<div class="line"><span class="lineno">  971</span>        <span class="keywordtype">bool</span> masked = !<a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">base::m_server</a>;</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>        frame::basic_header h(<a class="code hl_union" href="unionop.html">op</a>,payload.size(),<span class="keyword">true</span>,masked);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>        std::string &amp; o = out-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  976</span>        o.resize(payload.size());</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>        <span class="keywordflow">if</span> (masked) {</div>
<div class="line"><span class="lineno">  979</span>            <span class="comment">// Generate masking key.</span></div>
<div class="line"><span class="lineno">  980</span>            key.i = <a class="code hl_variable" href="#a3e6ee5afc8a635c0a410f678bda8ea84">m_rng</a>();</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>            frame::extended_header e(payload.size(),key.i);</div>
<div class="line"><span class="lineno">  983</span>            out-&gt;set_header(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4">frame::prepare_header</a>(h,e));</div>
<div class="line"><span class="lineno">  984</span>            this-&gt;<a class="code hl_function" href="#a888318b2773af49d458313a96a817a7a">masked_copy</a>(payload,o,key);</div>
<div class="line"><span class="lineno">  985</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  986</span>            frame::extended_header e(payload.size());</div>
<div class="line"><span class="lineno">  987</span>            out-&gt;set_header(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4">frame::prepare_header</a>(h,e));</div>
<div class="line"><span class="lineno">  988</span>            std::copy(payload.begin(),payload.end(),o.begin());</div>
<div class="line"><span class="lineno">  989</span>        }</div>
<div class="line"><span class="lineno">  990</span>    </div>
<div class="line"><span class="lineno">  991</span>        out-&gt;set_opcode(<a class="code hl_union" href="unionop.html">op</a>);</div>
<div class="line"><span class="lineno">  992</span>        out-&gt;set_prepared(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  995</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_a888318b2773af49d458313a96a817a7a"><div class="ttname"><a href="#a888318b2773af49d458313a96a817a7a">websocketpp::processor::hybi13::masked_copy</a></div><div class="ttdeci">void masked_copy(std::string const &amp;i, std::string &amp;o, frame::masking_key_type key) const</div><div class="ttdoc">Copy and mask/unmask in one operation.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00939">hybi13.hpp:939</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a8bdac8ec44c78c027fcf55aa3bad3f86"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a8bdac8ec44c78c027fcf55aa3bad3f86">websocketpp::frame::masking_key_type</a></div><div class="ttdeci">uint32_converter masking_key_type</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00186">frame.hpp:186</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_ae63c3e01399a6787ed09b710853344a4"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4">websocketpp::frame::prepare_header</a></div><div class="ttdeci">std::string prepare_header(const basic_header &amp;h, const extended_header &amp;e)</div><div class="ttdoc">Generate a properly sized contiguous string that encodes a full frame header.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00489">frame.hpp:489</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc">websocketpp::processor::error::invalid_opcode</a></div><div class="ttdeci">@ invalid_opcode</div><div class="ttdoc">Opcode was invalid for requested operation.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00087">base.hpp:87</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da">websocketpp::processor::error::invalid_arguments</a></div><div class="ttdeci">@ invalid_arguments</div><div class="ttdoc">The processor method was called with invalid arguments.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00084">base.hpp:84</a></div></div>
<div class="ttc" id="ayubico__otp_8c_html_a9246c20bb98ad2b4c60313c053c70f08"><div class="ttname"><a href="yubico__otp_8c.html#a9246c20bb98ad2b4c60313c053c70f08">key</a></div><div class="ttdeci">uint8_t key[16]</div><div class="ttdef"><b>Definition</b> <a href="yubico__otp_8c_source.html#l00041">yubico_otp.c:41</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_cgraph">
<area shape="rect" title="Generic prepare control frame with opcode and payload." alt="" coords="5,71,170,111"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="230,5,369,46"/>
<area shape="poly" title=" " alt="" coords="155,68,216,49,217,54,156,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a888318b2773af49d458313a96a817a7a" title="Copy and mask/unmask in one operation." alt="" coords="218,71,381,111"/>
<area shape="poly" title=" " alt="" coords="170,88,202,88,202,94,170,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4" title="Generate a properly sized contiguous string that encodes a full frame header." alt="" coords="230,136,369,177"/>
<area shape="poly" title=" " alt="" coords="156,109,217,128,216,133,155,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="429,71,568,111"/>
<area shape="poly" title=" " alt="" coords="381,88,413,88,413,94,381,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="429,136,568,177"/>
<area shape="poly" title=" " alt="" coords="369,154,414,154,414,159,369,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="632,103,772,143"/>
<area shape="poly" title=" " alt="" coords="568,142,617,134,618,140,569,148"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="616,168,788,209"/>
<area shape="poly" title=" " alt="" coords="569,165,601,170,600,175,568,170"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="836,168,975,209"/>
<area shape="poly" title=" " alt="" coords="788,186,820,186,820,191,788,191"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_icgraph">
<area shape="rect" title="Generic prepare control frame with opcode and payload." alt="" coords="217,71,381,111"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a8cbb98af828463c5ef80429a7ade715d" title=" " alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="216,68,155,49,156,44,217,63"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a38d06bc30c10cd1947c9a7b3051f8961" title="Get URI." alt="" coords="5,71,169,111"/>
<area shape="poly" title=" " alt="" coords="201,94,169,94,169,88,201,88"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#ab5ca972653c126e7c6a05c529b394321" title=" " alt="" coords="5,136,169,177"/>
<area shape="poly" title=" " alt="" coords="217,119,156,138,155,133,216,114"/>
</map>
</div>

</div>
</div>
<a id="a72f4833d66eb51e37a956f434895b3ab" name="a72f4833d66eb51e37a956f434895b3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f4833d66eb51e37a956f434895b3ab">&#9670;&#160;</a></span>prepare_data_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::prepare_data_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs validation, masking, compression, etc. will return an error if there was an error, otherwise msg will be ready to be written</p>
<p>TODO: tests</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>An unprepared message to prepare </td></tr>
    <tr><td class="paramname">out</td><td><a class="el" href="struct_a.html">A</a> message to be overwritten with the prepared message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00583">583</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  584</span>    {</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">if</span> (!in || !out) {</div>
<div class="line"><span class="lineno">  586</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da">error::invalid_arguments</a>);</div>
<div class="line"><span class="lineno">  587</span>        }</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>        <a class="code hl_enumeration" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="code hl_union" href="unionop.html">op</a> = in-&gt;get_opcode();</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        <span class="comment">// validate opcode: only regular data frames</span></div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>)) {</div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc">error::invalid_opcode</a>);</div>
<div class="line"><span class="lineno">  594</span>        }</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>        std::string&amp; i = in-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  597</span>        std::string&amp; o = out-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="comment">// validate payload utf8</span></div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">if</span> (<a class="code hl_union" href="unionop.html">op</a> == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72">frame::opcode::TEXT</a> &amp;&amp; !<a class="code hl_function" href="namespacewebsocketpp_1_1utf8__validator.html#ad088137c6f18e6844e20496d8782c835">utf8_validator::validate</a>(i)) {</div>
<div class="line"><span class="lineno">  601</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5aa221afa85916caeaac59c6a73e59168e">error::invalid_payload</a>);</div>
<div class="line"><span class="lineno">  602</span>        }</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>        <a class="code hl_typedef" href="namespacewebsocketpp_1_1frame.html#a8bdac8ec44c78c027fcf55aa3bad3f86">frame::masking_key_type</a> <a class="code hl_variable" href="yubico__otp_8c.html#a9246c20bb98ad2b4c60313c053c70f08">key</a>;</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordtype">bool</span> masked = !<a class="code hl_variable" href="classwebsocketpp_1_1processor_1_1processor.html#a584edc3698f98e6eb85ab280f491ac9d">base::m_server</a>;</div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordtype">bool</span> compressed = <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()</div>
<div class="line"><span class="lineno">  607</span>                          &amp;&amp; in-&gt;get_compressed();</div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordtype">bool</span> fin = in-&gt;get_fin();</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">if</span> (masked) {</div>
<div class="line"><span class="lineno">  611</span>            <span class="comment">// Generate masking key.</span></div>
<div class="line"><span class="lineno">  612</span>            key.i = <a class="code hl_variable" href="#a3e6ee5afc8a635c0a410f678bda8ea84">m_rng</a>();</div>
<div class="line"><span class="lineno">  613</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  614</span>            key.i = 0;</div>
<div class="line"><span class="lineno">  615</span>        }</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>        <span class="comment">// prepare payload</span></div>
<div class="line"><span class="lineno">  618</span>        <span class="keywordflow">if</span> (compressed) {</div>
<div class="line"><span class="lineno">  619</span>            <span class="comment">// compress and store in o after header.</span></div>
<div class="line"><span class="lineno">  620</span>            <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.compress(i,o);</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">if</span> (o.size() &lt; 4) {</div>
<div class="line"><span class="lineno">  623</span>                <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a">error::general</a>);</div>
<div class="line"><span class="lineno">  624</span>            }</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>            <span class="comment">// Strip trailing 4 0x00 0x00 0xff 0xff bytes before writing to the</span></div>
<div class="line"><span class="lineno">  627</span>            <span class="comment">// wire</span></div>
<div class="line"><span class="lineno">  628</span>            o.resize(o.size()-4);</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>            <span class="comment">// mask in place if necessary</span></div>
<div class="line"><span class="lineno">  631</span>            <span class="keywordflow">if</span> (masked) {</div>
<div class="line"><span class="lineno">  632</span>                this-&gt;<a class="code hl_function" href="#a888318b2773af49d458313a96a817a7a">masked_copy</a>(o,o,key);</div>
<div class="line"><span class="lineno">  633</span>            }</div>
<div class="line"><span class="lineno">  634</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  635</span>            <span class="comment">// no compression, just copy data into the output buffer</span></div>
<div class="line"><span class="lineno">  636</span>            o.resize(i.size());</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>            <span class="comment">// if we are masked, have the masking function write to the output</span></div>
<div class="line"><span class="lineno">  639</span>            <span class="comment">// buffer directly to avoid another copy. If not masked, copy</span></div>
<div class="line"><span class="lineno">  640</span>            <span class="comment">// directly without masking.</span></div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">if</span> (masked) {</div>
<div class="line"><span class="lineno">  642</span>                this-&gt;<a class="code hl_function" href="#a888318b2773af49d458313a96a817a7a">masked_copy</a>(i,o,key);</div>
<div class="line"><span class="lineno">  643</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  644</span>                std::copy(i.begin(),i.end(),o.begin());</div>
<div class="line"><span class="lineno">  645</span>            }</div>
<div class="line"><span class="lineno">  646</span>        }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>        <span class="comment">// generate header</span></div>
<div class="line"><span class="lineno">  649</span>        frame::basic_header h(<a class="code hl_union" href="unionop.html">op</a>,o.size(),fin,masked,compressed);</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">if</span> (masked) {</div>
<div class="line"><span class="lineno">  652</span>            frame::extended_header e(o.size(),key.i);</div>
<div class="line"><span class="lineno">  653</span>            out-&gt;set_header(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4">frame::prepare_header</a>(h,e));</div>
<div class="line"><span class="lineno">  654</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  655</span>            frame::extended_header e(o.size());</div>
<div class="line"><span class="lineno">  656</span>            out-&gt;set_header(<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4">frame::prepare_header</a>(h,e));</div>
<div class="line"><span class="lineno">  657</span>        }</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>        out-&gt;set_prepared(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  660</span>        out-&gt;set_opcode(<a class="code hl_union" href="unionop.html">op</a>);</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  663</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5aa221afa85916caeaac59c6a73e59168e"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5aa221afa85916caeaac59c6a73e59168e">websocketpp::processor::error::invalid_payload</a></div><div class="ttdeci">@ invalid_payload</div><div class="ttdoc">Processor encountered invalid payload data.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00081">base.hpp:81</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1utf8__validator_html_ad088137c6f18e6844e20496d8782c835"><div class="ttname"><a href="namespacewebsocketpp_1_1utf8__validator.html#ad088137c6f18e6844e20496d8782c835">websocketpp::utf8_validator::validate</a></div><div class="ttdeci">bool validate(std::string const &amp;s)</div><div class="ttdoc">Validate a UTF8 string.</div><div class="ttdef"><b>Definition</b> <a href="utf8__validator_8hpp_source.html#l00143">utf8_validator.hpp:143</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab_cgraph">
<area shape="rect" title="Prepare a user data message for writing." alt="" coords="5,104,196,145"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="266,5,406,46"/>
<area shape="poly" title=" " alt="" coords="144,101,243,57,260,49,262,54,245,61,146,106"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a888318b2773af49d458313a96a817a7a" title="Copy and mask/unmask in one operation." alt="" coords="254,71,418,111"/>
<area shape="poly" title=" " alt="" coords="196,108,238,102,239,107,197,113"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4" title="Generate a properly sized contiguous string that encodes a full frame header." alt="" coords="266,136,406,177"/>
<area shape="poly" title=" " alt="" coords="196,135,251,142,250,147,196,140"/>
<area shape="rect" href="namespacewebsocketpp_1_1utf8__validator.html#ad088137c6f18e6844e20496d8782c835" title="Validate a UTF8 string." alt="" coords="244,201,428,242"/>
<area shape="poly" title=" " alt="" coords="147,143,245,186,262,193,261,198,243,191,144,147"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="498,71,638,111"/>
<area shape="poly" title=" " alt="" coords="418,88,483,88,483,94,418,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="498,136,638,177"/>
<area shape="poly" title=" " alt="" coords="406,154,483,154,483,159,406,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="731,104,870,145"/>
<area shape="poly" title=" " alt="" coords="638,144,715,133,716,139,639,149"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="715,169,886,210"/>
<area shape="poly" title=" " alt="" coords="639,164,700,173,699,178,638,169"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="941,169,1080,210"/>
<area shape="poly" title=" " alt="" coords="887,187,925,187,925,192,887,192"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a89deb3bdfd8b94da908b806e543491ba" title="Return whether the input sequence ended on a valid utf8 codepoint." alt="" coords="476,201,660,242"/>
<area shape="poly" title=" " alt="" coords="429,219,460,219,460,224,429,224"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a2cde6cad6f1a0f66674010848ec80fba" title="Advance validator state with input from an iterator pair." alt="" coords="476,267,660,307"/>
<area shape="poly" title=" " alt="" coords="411,240,479,259,478,264,410,245"/>
<area shape="rect" href="namespacewebsocketpp_1_1utf8__validator.html#ae6dab1acad72af0396e2448394a07d98" title="Decode the next byte of a UTF8 sequence." alt="" coords="708,267,893,307"/>
<area shape="poly" title=" " alt="" coords="661,284,692,284,692,290,661,290"/>
</map>
</div>

</div>
</div>
<a id="a38d06bc30c10cd1947c9a7b3051f8961" name="a38d06bc30c10cd1947c9a7b3051f8961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d06bc30c10cd1947c9a7b3051f8961">&#9670;&#160;</a></span>prepare_ping()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::prepare_ping </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00666">666</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  666</span>                                                                            {</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="#a5aa8f27959beeeef73997a80c2560663">prepare_control</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea384ec7a09356db47fdf1646f954aa208">frame::opcode::PING</a>,in,out);</div>
<div class="line"><span class="lineno">  668</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5ea384ec7a09356db47fdf1646f954aa208"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea384ec7a09356db47fdf1646f954aa208">websocketpp::frame::opcode::PING</a></div><div class="ttdeci">@ PING</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00104">frame.hpp:104</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961_cgraph">
<area shape="rect" title="Get URI." alt="" coords="5,71,169,111"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5aa8f27959beeeef73997a80c2560663" title="Generic prepare control frame with opcode and payload." alt="" coords="217,71,381,111"/>
<area shape="poly" title=" " alt="" coords="169,88,201,88,201,94,169,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="441,5,580,46"/>
<area shape="poly" title=" " alt="" coords="366,68,427,49,429,54,368,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a888318b2773af49d458313a96a817a7a" title="Copy and mask/unmask in one operation." alt="" coords="429,71,592,111"/>
<area shape="poly" title=" " alt="" coords="382,88,413,88,413,94,382,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4" title="Generate a properly sized contiguous string that encodes a full frame header." alt="" coords="441,136,580,177"/>
<area shape="poly" title=" " alt="" coords="368,109,429,128,427,133,366,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="640,71,780,111"/>
<area shape="poly" title=" " alt="" coords="593,88,625,88,625,94,593,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="640,136,780,177"/>
<area shape="poly" title=" " alt="" coords="581,154,625,154,625,159,581,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="844,103,983,143"/>
<area shape="poly" title=" " alt="" coords="779,142,828,134,829,140,780,148"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="828,168,999,209"/>
<area shape="poly" title=" " alt="" coords="780,165,813,170,812,175,779,170"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="1047,168,1186,209"/>
<area shape="poly" title=" " alt="" coords="999,186,1032,186,1032,191,999,191"/>
</map>
</div>

</div>
</div>
<a id="ab5ca972653c126e7c6a05c529b394321" name="ab5ca972653c126e7c6a05c529b394321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ca972653c126e7c6a05c529b394321">&#9670;&#160;</a></span>prepare_pong()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::prepare_pong </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a42cdc2fb13fc9ab8554e0cbaae6f2b4d">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00670">670</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>                                                                            {</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="#a5aa8f27959beeeef73997a80c2560663">prepare_control</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea8674aa04d991121443c8f063e7144284">frame::opcode::PONG</a>,in,out);</div>
<div class="line"><span class="lineno">  672</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5ea8674aa04d991121443c8f063e7144284"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea8674aa04d991121443c8f063e7144284">websocketpp::frame::opcode::PONG</a></div><div class="ttdeci">@ PONG</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00105">frame.hpp:105</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,169,111"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5aa8f27959beeeef73997a80c2560663" title="Generic prepare control frame with opcode and payload." alt="" coords="217,71,381,111"/>
<area shape="poly" title=" " alt="" coords="169,88,201,88,201,94,169,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="441,5,580,46"/>
<area shape="poly" title=" " alt="" coords="366,68,427,49,429,54,368,73"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a888318b2773af49d458313a96a817a7a" title="Copy and mask/unmask in one operation." alt="" coords="429,71,592,111"/>
<area shape="poly" title=" " alt="" coords="382,88,413,88,413,94,382,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ae63c3e01399a6787ed09b710853344a4" title="Generate a properly sized contiguous string that encodes a full frame header." alt="" coords="441,136,580,177"/>
<area shape="poly" title=" " alt="" coords="368,109,429,128,427,133,366,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a417650d76aa2433163942d6a13334a6a" title="Byte by byte mask/unmask." alt="" coords="640,71,780,111"/>
<area shape="poly" title=" " alt="" coords="593,88,625,88,625,94,593,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#abd4f23c906cc48fb3b34603fd4284b01" title="Calculates the full length of the header based on the first bytes." alt="" coords="640,136,780,177"/>
<area shape="poly" title=" " alt="" coords="581,154,625,154,625,159,581,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="844,103,983,143"/>
<area shape="poly" title=" " alt="" coords="779,142,828,134,829,140,780,148"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a001d6c5e538d5eb1ef5ddc21aeb61ee3" title="Calculate the offset location of the masking key within the extended header." alt="" coords="828,168,999,209"/>
<area shape="poly" title=" " alt="" coords="780,165,813,170,812,175,779,170"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="1047,168,1186,209"/>
<area shape="poly" title=" " alt="" coords="999,186,1032,186,1032,191,999,191"/>
</map>
</div>

</div>
</div>
<a id="aa527ee3ece912ef818a207fce5261383" name="aa527ee3ece912ef818a207fce5261383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa527ee3ece912ef818a207fce5261383">&#9670;&#160;</a></span>process_handshake()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::process_handshake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>subprotocol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>res</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The request to process</td></tr>
    <tr><td class="paramname">subprotocol</td><td>The subprotocol in use</td></tr>
    <tr><td class="paramname">res</td><td>The response to store the processed response in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code, 0 on success, non-zero for other errors </dd></dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a64caf3ebac5333112f48eec496ec2a47">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00187">187</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>    {</div>
<div class="line"><span class="lineno">  190</span>        std::string server_key = request.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Key&quot;</span>);</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>        lib::error_code ec = <a class="code hl_function" href="#afe3d2731a39faebab5f927a13e26fb8c">process_handshake_key</a>(server_key);</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">return</span> ec;</div>
<div class="line"><span class="lineno">  196</span>        }</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        response.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Accept&quot;</span>,server_key);</div>
<div class="line"><span class="lineno">  199</span>        response.append_header(<span class="stringliteral">&quot;Upgrade&quot;</span>,constants::upgrade_token);</div>
<div class="line"><span class="lineno">  200</span>        response.append_header(<span class="stringliteral">&quot;Connection&quot;</span>,constants::connection_token);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">if</span> (!subprotocol.empty()) {</div>
<div class="line"><span class="lineno">  203</span>            response.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Protocol&quot;</span>,subprotocol);</div>
<div class="line"><span class="lineno">  204</span>        }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1processor_1_1hybi13_html_afe3d2731a39faebab5f927a13e26fb8c"><div class="ttname"><a href="#afe3d2731a39faebab5f927a13e26fb8c">websocketpp::processor::hybi13::process_handshake_key</a></div><div class="ttdeci">lib::error_code process_handshake_key(std::string &amp;key) const</div><div class="ttdoc">Convert a client handshake key into a server response key in place.</div><div class="ttdef"><b>Definition</b> <a href="hybi13_8hpp_source.html#l00711">hybi13.hpp:711</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383_cgraph">
<area shape="rect" title="Calculate the appropriate response for this websocket request." alt="" coords="5,35,197,75"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#afe3d2731a39faebab5f927a13e26fb8c" title="Convert a client handshake key into a server response key in place." alt="" coords="245,35,464,75"/>
<area shape="poly" title=" " alt="" coords="197,52,229,52,229,58,197,58"/>
<area shape="rect" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8" title="Encode a char buffer into a base64 string." alt="" coords="521,5,669,46"/>
<area shape="poly" title=" " alt="" coords="464,39,505,34,505,39,465,44"/>
<area shape="rect" href="namespacewebsocketpp_1_1sha1.html#ad75335df7a69d69b3fb8fef3f4594812" title="Calculate a SHA1 hash." alt="" coords="512,70,678,96"/>
<area shape="poly" title=" " alt="" coords="465,65,497,69,496,74,464,70"/>
</map>
</div>

</div>
</div>
<a id="afe3d2731a39faebab5f927a13e26fb8c" name="afe3d2731a39faebab5f927a13e26fb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3d2731a39faebab5f927a13e26fb8c">&#9670;&#160;</a></span>process_handshake_key()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::process_handshake_key </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00711">711</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  711</span>                                                               {</div>
<div class="line"><span class="lineno">  712</span>        key.append(constants::handshake_guid);</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> message_digest[20];</div>
<div class="line"><span class="lineno">  715</span>        <a class="code hl_function" href="namespacewebsocketpp_1_1sha1.html#ad75335df7a69d69b3fb8fef3f4594812">sha1::calc</a>(key.c_str(),key.length(),message_digest);</div>
<div class="line"><span class="lineno">  716</span>        key = <a class="code hl_function" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8">base64_encode</a>(message_digest,20);</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  719</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1sha1_html_ad75335df7a69d69b3fb8fef3f4594812"><div class="ttname"><a href="namespacewebsocketpp_1_1sha1.html#ad75335df7a69d69b3fb8fef3f4594812">websocketpp::sha1::calc</a></div><div class="ttdeci">void calc(void const *src, size_t bytelength, unsigned char *hash)</div><div class="ttdoc">Calculate a SHA1 hash.</div><div class="ttdef"><b>Definition</b> <a href="vendor_2websocketpp_2websocketpp_2sha1_2sha1_8hpp_source.html#l00127">sha1.hpp:127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_cgraph">
<area shape="rect" title="Convert a client handshake key into a server response key in place." alt="" coords="5,35,225,75"/>
<area shape="rect" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8" title="Encode a char buffer into a base64 string." alt="" coords="282,5,430,46"/>
<area shape="poly" title=" " alt="" coords="225,39,265,34,266,39,226,44"/>
<area shape="rect" href="namespacewebsocketpp_1_1sha1.html#ad75335df7a69d69b3fb8fef3f4594812" title="Calculate a SHA1 hash." alt="" coords="273,70,439,96"/>
<area shape="poly" title=" " alt="" coords="226,65,257,69,257,74,225,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_icgraph">
<area shape="rect" title="Convert a client handshake key into a server response key in place." alt="" coords="245,41,464,82"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#aa527ee3ece912ef818a207fce5261383" title="Calculate the appropriate response for this websocket request." alt="" coords="5,5,197,46"/>
<area shape="poly" title=" " alt="" coords="229,47,197,42,198,37,229,41"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a8b3cea2f1526b4982e0836c5705584a8" title="Validate the server&#39;s response to an outgoing handshake request." alt="" coords="19,70,183,126"/>
<area shape="poly" title=" " alt="" coords="230,82,184,89,183,83,229,77"/>
</map>
</div>

</div>
</div>
<a id="aa7eece3f48840535f41b625061fa7867" name="aa7eece3f48840535f41b625061fa7867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7eece3f48840535f41b625061fa7867">&#9670;&#160;</a></span>process_payload_bytes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::process_payload_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function performs unmasking and uncompression, validates the decoded bytes, and writes them to the appropriate message buffer.</p>
<p>This member function will use the input buffer as stratch space for its work. The raw input bytes will not be preserved. This applies only to the bytes actually needed. At most min(m_bytes_needed,len) will be processed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Input/working buffer </td></tr>
    <tr><td class="paramname">len</td><td>Length of buf </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes processed or zero in case of an error </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00777">777</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  778</span>    {</div>
<div class="line"><span class="lineno">  779</span>        <span class="comment">// unmask if masked</span></div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2">frame::get_masked</a>(<a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>)) {</div>
<div class="line"><span class="lineno">  781</span>            <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a4c0cf4af697b0a12396ca5570a888ec1">prepared_key</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a3e0ba89b475df758d84dab352a76c3b3">frame::byte_mask_circ</a>(</div>
<div class="line"><span class="lineno">  782</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a4c0cf4af697b0a12396ca5570a888ec1">prepared_key</a>);</div>
<div class="line"><span class="lineno">  783</span>            <span class="comment">// TODO: SIMD masking</span></div>
<div class="line"><span class="lineno">  784</span>        }</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>        std::string &amp; out = <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_raw_payload();</div>
<div class="line"><span class="lineno">  787</span>        <span class="keywordtype">size_t</span> offset = out.size();</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>        <span class="comment">// decompress message if needed.</span></div>
<div class="line"><span class="lineno">  790</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()</div>
<div class="line"><span class="lineno">  791</span>            &amp;&amp; <a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_compressed())</div>
<div class="line"><span class="lineno">  792</span>        {</div>
<div class="line"><span class="lineno">  793</span>            <span class="comment">// Decompress current buffer into the message buffer</span></div>
<div class="line"><span class="lineno">  794</span>            ec = <a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.decompress(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>,out);</div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  796</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  797</span>            }</div>
<div class="line"><span class="lineno">  798</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  799</span>            <span class="comment">// No compression, straight copy</span></div>
<div class="line"><span class="lineno">  800</span>            out.append(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>),<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div>
<div class="line"><span class="lineno">  801</span>        }</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>        <span class="comment">// validate unmasked, decompressed values</span></div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a49e276abf3be14de45a9111cb13e3d81">msg_ptr</a>-&gt;get_opcode() == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72">frame::opcode::TEXT</a>) {</div>
<div class="line"><span class="lineno">  805</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a2a1554b49e53c61931e6912bec35c815">m_current_msg</a>-&gt;<a class="code hl_variable" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html#a283c8d119c2c9f2543a2247b465c9416">validator</a>.<a class="code hl_function" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a2cde6cad6f1a0f66674010848ec80fba">decode</a>(out.begin()+offset,out.end())) {</div>
<div class="line"><span class="lineno">  806</span>                ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a">error::invalid_utf8</a>);</div>
<div class="line"><span class="lineno">  807</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  808</span>            }</div>
<div class="line"><span class="lineno">  809</span>        }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>        <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> -= <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div>
<div class="line"><span class="lineno">  812</span> </div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1utf8__validator_1_1validator_html_a2cde6cad6f1a0f66674010848ec80fba"><div class="ttname"><a href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a2cde6cad6f1a0f66674010848ec80fba">websocketpp::utf8_validator::validator::decode</a></div><div class="ttdeci">bool decode(iterator_type begin, iterator_type end)</div><div class="ttdoc">Advance validator state with input from an iterator pair.</div><div class="ttdef"><b>Definition</b> <a href="utf8__validator_8hpp_source.html#l00105">utf8_validator.hpp:105</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a3e0ba89b475df758d84dab352a76c3b3"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a3e0ba89b475df758d84dab352a76c3b3">websocketpp::frame::byte_mask_circ</a></div><div class="ttdeci">size_t byte_mask_circ(uint8_t *input, uint8_t *output, size_t length, size_t prepared_key)</div><div class="ttdoc">Circular byte aligned mask/unmask.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00827">frame.hpp:827</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a4e8cf8ae88a7a8fdb2b3ea86623d01d2"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2">websocketpp::frame::get_masked</a></div><div class="ttdeci">bool get_masked(basic_header const &amp;h)</div><div class="ttdoc">check whether the frame is masked</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00402">frame.hpp:402</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_cgraph">
<area shape="rect" title="Reads bytes from buf into message payload." alt="" coords="5,71,218,111"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a3e0ba89b475df758d84dab352a76c3b3" title="Circular byte aligned mask/unmask." alt="" coords="288,5,428,46"/>
<area shape="poly" title=" " alt="" coords="190,67,273,45,274,51,192,73"/>
<area shape="rect" href="classwebsocketpp_1_1utf8__validator_1_1validator.html#a2cde6cad6f1a0f66674010848ec80fba" title="Advance validator state with input from an iterator pair." alt="" coords="266,71,450,111"/>
<area shape="poly" title=" " alt="" coords="218,88,250,88,250,94,218,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="288,136,428,177"/>
<area shape="poly" title=" " alt="" coords="192,109,274,131,273,137,190,115"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a76bf120d54d47d760eb8bd803572b004" title="circularly shifts the supplied prepared masking key by offset bytes" alt="" coords="510,5,670,46"/>
<area shape="poly" title=" " alt="" coords="428,23,494,23,494,28,428,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#a321373761665b77eaf5d78ff5e535941" title=" " alt="" coords="730,5,876,46"/>
<area shape="poly" title=" " alt="" coords="671,23,715,23,715,28,671,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1utf8__validator.html#ae6dab1acad72af0396e2448394a07d98" title="Decode the next byte of a UTF8 sequence." alt="" coords="498,71,682,111"/>
<area shape="poly" title=" " alt="" coords="451,88,482,88,482,94,451,94"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_icgraph">
<area shape="rect" title="Reads bytes from buf into message payload." alt="" coords="217,5,429,46"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="201,28,169,28,169,23,201,23"/>
</map>
</div>

</div>
</div>
<a id="af0e73b14cac728a873c8b5c0bc82ed03" name="af0e73b14cac728a873c8b5c0bc82ed03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e73b14cac728a873c8b5c0bc82ed03">&#9670;&#160;</a></span>ready()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::ready </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a623344489598696c98cecebb03c18333">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00541">541</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  541</span>                       {</div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">return</span> (<a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> == <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a">READY</a>);</div>
<div class="line"><span class="lineno">  543</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03_icgraph">
<area shape="rect" title="Test whether or not the processor has a message ready." alt="" coords="217,5,380,46"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a8fe09bba8cbe2821ef5c7cf3fd9573cd" title="Retrieves the most recently processed message." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="201,28,169,28,169,23,201,23"/>
</map>
</div>

</div>
</div>
<a id="a052dd867709539c0a3f70eb271da70ca" name="a052dd867709539c0a3f70eb271da70ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052dd867709539c0a3f70eb271da70ca">&#9670;&#160;</a></span>reset_headers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::reset_headers </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00526">526</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  526</span>                         {</div>
<div class="line"><span class="lineno">  527</span>        <a class="code hl_variable" href="#a4660c14a2a241a2439fb3aa497ab5886">m_state</a> = <a class="code hl_enumvalue" href="#a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be">HEADER_BASIC</a>;</div>
<div class="line"><span class="lineno">  528</span>        <a class="code hl_variable" href="#a6e31d9b2d955fbdbd2a05ce325f06326">m_bytes_needed</a> = frame::BASIC_HEADER_LENGTH;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a9dcac77e651c455cf3aed687dbd87d7e">b0</a> = 0x00;</div>
<div class="line"><span class="lineno">  531</span>        <a class="code hl_variable" href="#aa1b5aeeb8c4be9460854b1eb972a1563">m_basic_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1basic__header.html#a631a0cbf798d7996a4de1d62f03cc470">b1</a> = 0x00;</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        std::fill_n(</div>
<div class="line"><span class="lineno">  534</span>            <a class="code hl_variable" href="#a7d11d41110cd4b4e746a55ecd9faaaf1">m_extended_header</a>.<a class="code hl_variable" href="structwebsocketpp_1_1frame_1_1extended__header.html#a64507c32b568d0894b2bf3a2513debd1">bytes</a>,</div>
<div class="line"><span class="lineno">  535</span>            frame::MAX_EXTENDED_HEADER_LENGTH,</div>
<div class="line"><span class="lineno">  536</span>            0x00</div>
<div class="line"><span class="lineno">  537</span>        );</div>
<div class="line"><span class="lineno">  538</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca_icgraph">
<area shape="rect" title=" " alt="" coords="217,71,380,111"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,5,169,46"/>
<area shape="poly" title=" " alt="" coords="215,68,155,49,156,44,217,63"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a8fe09bba8cbe2821ef5c7cf3fd9573cd" title="Retrieves the most recently processed message." alt="" coords="5,71,169,111"/>
<area shape="poly" title=" " alt="" coords="201,94,169,94,169,88,201,88"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#af07830f45e2733bd75db70fe951416cf" title=" " alt="" coords="5,136,169,177"/>
<area shape="poly" title=" " alt="" coords="217,119,156,138,155,133,215,114"/>
</map>
</div>

</div>
</div>
<a id="af17a224a602ebcda5e481d8c249cf37c" name="af17a224a602ebcda5e481d8c249cf37c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af17a224a602ebcda5e481d8c249cf37c">&#9670;&#160;</a></span>validate_handshake()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::validate_handshake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The WebSocket handshake request to validate. is_websocket_handshake(request) must be true and get_websocket_version(request) must equal this-&gt;<a class="el" href="#afe89fa6418643711130ce3417451738b" title="Get the protocol version of this processor.">get_version()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> status code, 0 on success, non-zero for specific sorts of failure </dd></dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#a8828f7d91c534309deb966b783eb1f8e">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00163">163</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>                                                                   {</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.get_method() != <span class="stringliteral">&quot;GET&quot;</span>) {</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2490b8f8de563854741a3475c2eaee40">error::invalid_http_method</a>);</div>
<div class="line"><span class="lineno">  166</span>        }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.get_version() != <span class="stringliteral">&quot;HTTP/1.1&quot;</span>) {</div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ac1a30a2007cfa754da78a486e2a22103">error::invalid_http_version</a>);</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="comment">// required headers</span></div>
<div class="line"><span class="lineno">  173</span>        <span class="comment">// Host is required by HTTP/1.1</span></div>
<div class="line"><span class="lineno">  174</span>        <span class="comment">// Connection is required by is_websocket_handshake</span></div>
<div class="line"><span class="lineno">  175</span>        <span class="comment">// Upgrade is required by is_websocket_handshake</span></div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Key&quot;</span>).empty()) {</div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d">error::missing_required_header</a>);</div>
<div class="line"><span class="lineno">  178</span>        }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d">websocketpp::processor::error::missing_required_header</a></div><div class="ttdeci">@ missing_required_header</div><div class="ttdoc">Missing Required Header.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00129">base.hpp:129</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a2490b8f8de563854741a3475c2eaee40"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2490b8f8de563854741a3475c2eaee40">websocketpp::processor::error::invalid_http_method</a></div><div class="ttdeci">@ invalid_http_method</div><div class="ttdoc">Invalid HTTP method.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00120">base.hpp:120</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ac1a30a2007cfa754da78a486e2a22103"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ac1a30a2007cfa754da78a486e2a22103">websocketpp::processor::error::invalid_http_version</a></div><div class="ttdeci">@ invalid_http_version</div><div class="ttdoc">Invalid HTTP version.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00123">base.hpp:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c549a5e2766288fb625c03e507cc9ad" name="a0c549a5e2766288fb625c03e507cc9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c549a5e2766288fb625c03e507cc9ad">&#9670;&#160;</a></span>validate_incoming_basic_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::validate_incoming_basic_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_server</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>new_msg</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validates an incoming <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html" title="Processor for Hybi version 13 (RFC6455)">hybi13</a> basic header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The basic header to validate </td></tr>
    <tr><td class="paramname">is_server</td><td>Whether or not the endpoint that received this frame is a server. </td></tr>
    <tr><td class="paramname">new_msg</td><td>Whether or not this is the first frame of the message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or a non-zero error code on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00826">826</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  828</span>    {</div>
<div class="line"><span class="lineno">  829</span>        <a class="code hl_enumeration" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="code hl_union" href="unionop.html">op</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661">frame::get_opcode</a>(h);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>        <span class="comment">// Check control frame size limit</span></div>
<div class="line"><span class="lineno">  832</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  833</span>            <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15">frame::get_basic_size</a>(h) &gt; frame::limits::payload_size_basic)</div>
<div class="line"><span class="lineno">  834</span>        {</div>
<div class="line"><span class="lineno">  835</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71">error::control_too_big</a>);</div>
<div class="line"><span class="lineno">  836</span>        }</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>        <span class="comment">// Check that RSV bits are clear</span></div>
<div class="line"><span class="lineno">  839</span>        <span class="comment">// The only RSV bits allowed are rsv1 if the permessage_compress</span></div>
<div class="line"><span class="lineno">  840</span>        <span class="comment">// extension is enabled for this connection and the message is not</span></div>
<div class="line"><span class="lineno">  841</span>        <span class="comment">// a control message.</span></div>
<div class="line"><span class="lineno">  842</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  843</span>        <span class="comment">// TODO: unit tests for this</span></div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a90556de9dd71c1f063153b791abeb81c">frame::get_rsv1</a>(h) &amp;&amp; (!<a class="code hl_variable" href="#a9103ac43ba28b3b3e5cedf519b1c67c5">m_permessage_deflate</a>.is_enabled()</div>
<div class="line"><span class="lineno">  845</span>                || <a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>)))</div>
<div class="line"><span class="lineno">  846</span>        {</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1">error::invalid_rsv_bit</a>);</div>
<div class="line"><span class="lineno">  848</span>        }</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a531509bc14ee0a6641662b17d5670460">frame::get_rsv2</a>(h) || <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a4dc0cc35b38986b9b56120ef297dd795">frame::get_rsv3</a>(h)) {</div>
<div class="line"><span class="lineno">  851</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1">error::invalid_rsv_bit</a>);</div>
<div class="line"><span class="lineno">  852</span>        }</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>        <span class="comment">// Check for reserved opcodes</span></div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a9890345367f4c8bdf565d62e00afbc61">frame::opcode::reserved</a>(<a class="code hl_union" href="unionop.html">op</a>)) {</div>
<div class="line"><span class="lineno">  856</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc">error::invalid_opcode</a>);</div>
<div class="line"><span class="lineno">  857</span>        }</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>        <span class="comment">// Check for invalid opcodes</span></div>
<div class="line"><span class="lineno">  860</span>        <span class="comment">// TODO: unit tests for this?</span></div>
<div class="line"><span class="lineno">  861</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a6f451ade60e2cca4caac58347643443a">frame::opcode::invalid</a>(<a class="code hl_union" href="unionop.html">op</a>)) {</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc">error::invalid_opcode</a>);</div>
<div class="line"><span class="lineno">  863</span>        }</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>        <span class="comment">// Check for fragmented control message</span></div>
<div class="line"><span class="lineno">  866</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>) &amp;&amp; !<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a66b39e273681d8509128e420cfaef6b0">frame::get_fin</a>(h)) {</div>
<div class="line"><span class="lineno">  867</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ade117cb717f8722d226a2f7d4ad4d633">error::fragmented_control</a>);</div>
<div class="line"><span class="lineno">  868</span>        }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>        <span class="comment">// Check for continuation without an active message</span></div>
<div class="line"><span class="lineno">  871</span>        <span class="keywordflow">if</span> (new_msg &amp;&amp; <a class="code hl_union" href="unionop.html">op</a> == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d">frame::opcode::CONTINUATION</a>) {</div>
<div class="line"><span class="lineno">  872</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658">error::invalid_continuation</a>);</div>
<div class="line"><span class="lineno">  873</span>        }</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>        <span class="comment">// Check for new data frame when expecting continuation</span></div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">if</span> (!new_msg &amp;&amp; !<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">frame::opcode::is_control</a>(<a class="code hl_union" href="unionop.html">op</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  877</span>            <a class="code hl_union" href="unionop.html">op</a> != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d">frame::opcode::CONTINUATION</a>)</div>
<div class="line"><span class="lineno">  878</span>        {</div>
<div class="line"><span class="lineno">  879</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658">error::invalid_continuation</a>);</div>
<div class="line"><span class="lineno">  880</span>        }</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>        <span class="comment">// Servers should reject any unmasked frames from clients.</span></div>
<div class="line"><span class="lineno">  883</span>        <span class="comment">// Clients should reject any masked frames from servers.</span></div>
<div class="line"><span class="lineno">  884</span>        <span class="keywordflow">if</span> (is_server &amp;&amp; !<a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2">frame::get_masked</a>(h)) {</div>
<div class="line"><span class="lineno">  885</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a3846b5f6faad1b747b0ed8fd17ba2001">error::masking_required</a>);</div>
<div class="line"><span class="lineno">  886</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!is_server &amp;&amp; <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2">frame::get_masked</a>(h)) {</div>
<div class="line"><span class="lineno">  887</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a5bdeb11b8137ed6865c188f563afc335">error::masking_forbidden</a>);</div>
<div class="line"><span class="lineno">  888</span>        }</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  891</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_a6f451ade60e2cca4caac58347643443a"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#a6f451ade60e2cca4caac58347643443a">websocketpp::frame::opcode::invalid</a></div><div class="ttdeci">bool invalid(value v)</div><div class="ttdoc">Check if an opcode is invalid.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00130">frame.hpp:130</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_a9890345367f4c8bdf565d62e00afbc61"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#a9890345367f4c8bdf565d62e00afbc61">websocketpp::frame::opcode::reserved</a></div><div class="ttdeci">bool reserved(value v)</div><div class="ttdoc">Check if an opcode is reserved.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00118">frame.hpp:118</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d">websocketpp::frame::opcode::CONTINUATION</a></div><div class="ttdeci">@ CONTINUATION</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00095">frame.hpp:95</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a2ceb63e6a2fe19964d13363ba2bb9e15"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15">websocketpp::frame::get_basic_size</a></div><div class="ttdeci">uint8_t get_basic_size(basic_header const &amp;)</div><div class="ttdoc">Extracts the raw payload length specified in the basic header.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00431">frame.hpp:431</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a4dc0cc35b38986b9b56120ef297dd795"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a4dc0cc35b38986b9b56120ef297dd795">websocketpp::frame::get_rsv3</a></div><div class="ttdeci">bool get_rsv3(basic_header const &amp;h)</div><div class="ttdoc">check whether the frame's RSV3 bit is set</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00375">frame.hpp:375</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_html_a531509bc14ee0a6641662b17d5670460"><div class="ttname"><a href="namespacewebsocketpp_1_1frame.html#a531509bc14ee0a6641662b17d5670460">websocketpp::frame::get_rsv2</a></div><div class="ttdeci">bool get_rsv2(basic_header const &amp;h)</div><div class="ttdoc">check whether the frame's RSV2 bit is set</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00357">frame.hpp:357</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1">websocketpp::processor::error::invalid_rsv_bit</a></div><div class="ttdeci">@ invalid_rsv_bit</div><div class="ttdoc">Illegal use of reserved bit.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00093">base.hpp:93</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a3846b5f6faad1b747b0ed8fd17ba2001"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a3846b5f6faad1b747b0ed8fd17ba2001">websocketpp::processor::error::masking_required</a></div><div class="ttdeci">@ masking_required</div><div class="ttdoc">Clients may not send unmasked frames.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00102">base.hpp:102</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a5bdeb11b8137ed6865c188f563afc335"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a5bdeb11b8137ed6865c188f563afc335">websocketpp::processor::error::masking_forbidden</a></div><div class="ttdeci">@ masking_forbidden</div><div class="ttdoc">Servers may not send masked frames.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00105">base.hpp:105</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658">websocketpp::processor::error::invalid_continuation</a></div><div class="ttdeci">@ invalid_continuation</div><div class="ttdoc">Continuation without message.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00099">base.hpp:99</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5ade117cb717f8722d226a2f7d4ad4d633"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5ade117cb717f8722d226a2f7d4ad4d633">websocketpp::processor::error::fragmented_control</a></div><div class="ttdeci">@ fragmented_control</div><div class="ttdoc">Fragmented control message.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00096">base.hpp:96</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_cgraph">
<area shape="rect" title="Validate an incoming basic header." alt="" coords="5,292,185,348"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="233,5,372,46"/>
<area shape="poly" title=" " alt="" coords="102,291,119,242,146,180,183,115,206,85,231,57,235,53,239,57,235,61,210,88,188,118,151,183,124,244,107,293"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a66b39e273681d8509128e420cfaef6b0" title="Check whether the frame&#39;s FIN bit is set." alt="" coords="233,71,372,111"/>
<area shape="poly" title=" " alt="" coords="108,291,156,209,191,163,231,122,236,118,240,122,234,126,195,167,160,212,112,293"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4e8cf8ae88a7a8fdb2b3ea86623d01d2" title="check whether the frame is masked" alt="" coords="233,136,372,177"/>
<area shape="poly" title=" " alt="" coords="119,290,168,240,231,188,239,183,242,187,234,192,172,244,123,294"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a235192baaf86f38158dc33f178c04661" title="Extract opcode from basic header." alt="" coords="233,201,372,242"/>
<area shape="poly" title=" " alt="" coords="154,290,243,247,246,251,156,294"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a90556de9dd71c1f063153b791abeb81c" title="check whether the frame&#39;s RSV1 bit is set" alt="" coords="233,267,372,307"/>
<area shape="poly" title=" " alt="" coords="184,303,217,298,218,303,185,309"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a531509bc14ee0a6641662b17d5670460" title="check whether the frame&#39;s RSV2 bit is set" alt="" coords="233,332,372,373"/>
<area shape="poly" title=" " alt="" coords="185,332,218,337,217,342,185,337"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a4dc0cc35b38986b9b56120ef297dd795" title="check whether the frame&#39;s RSV3 bit is set" alt="" coords="233,397,372,438"/>
<area shape="poly" title=" " alt="" coords="157,346,245,388,242,393,155,351"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a6f451ade60e2cca4caac58347643443a" title="Check if an opcode is invalid." alt="" coords="233,463,372,503"/>
<area shape="poly" title=" " alt="" coords="123,347,172,397,234,448,242,452,239,457,231,452,169,401,119,351"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad" title="Check if an opcode is for a control frame." alt="" coords="233,528,372,569"/>
<area shape="poly" title=" " alt="" coords="112,347,160,428,195,473,234,513,240,517,236,521,231,517,191,476,156,431,108,350"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame_1_1opcode.html#a9890345367f4c8bdf565d62e00afbc61" title="Check if an opcode is reserved." alt="" coords="233,593,372,634"/>
<area shape="poly" title=" " alt="" coords="107,348,124,396,151,457,188,521,210,551,235,578,239,582,235,586,231,582,206,555,183,524,146,460,119,398,102,349"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_icgraph">
<area shape="rect" title="Validate an incoming basic header." alt="" coords="217,5,396,61"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,13,169,54"/>
<area shape="poly" title=" " alt="" coords="201,36,169,36,169,30,201,30"/>
</map>
</div>

</div>
</div>
<a id="aee8565136bb0820e9a8914dfc5fdb753" name="aee8565136bb0820e9a8914dfc5fdb753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee8565136bb0820e9a8914dfc5fdb753">&#9670;&#160;</a></span>validate_incoming_extended_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::validate_incoming_extended_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structwebsocketpp_1_1frame_1_1extended__header.html">frame::extended_header</a></td>          <td class="paramname"><span class="paramname"><em>e</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validates an incoming <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html" title="Processor for Hybi version 13 (RFC6455)">hybi13</a> full header.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo</a></b></dt><dd>unit test for the &gt;32 bit frames on 32 bit systems case</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The basic header to validate </td></tr>
    <tr><td class="paramname">e</td><td>The extended header to validate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error_code, non-zero values indicate why the validation failed </dd></dl>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00904">904</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  906</span>    {</div>
<div class="line"><span class="lineno">  907</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> basic_size = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15">frame::get_basic_size</a>(h);</div>
<div class="line"><span class="lineno">  908</span>        <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> payload_size = <a class="code hl_function" href="namespacewebsocketpp_1_1frame.html#a2ca0b9ba6077f201997da543d45b067f">frame::get_payload_size</a>(h,e);</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>        <span class="comment">// Check for non-minimally encoded payloads</span></div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">if</span> (basic_size == frame::payload_size_code_16bit &amp;&amp;</div>
<div class="line"><span class="lineno">  912</span>            payload_size &lt;= frame::limits::payload_size_basic)</div>
<div class="line"><span class="lineno">  913</span>        {</div>
<div class="line"><span class="lineno">  914</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf">error::non_minimal_encoding</a>);</div>
<div class="line"><span class="lineno">  915</span>        }</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>        <span class="keywordflow">if</span> (basic_size == frame::payload_size_code_64bit &amp;&amp;</div>
<div class="line"><span class="lineno">  918</span>            payload_size &lt;= frame::limits::payload_size_extended)</div>
<div class="line"><span class="lineno">  919</span>        {</div>
<div class="line"><span class="lineno">  920</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf">error::non_minimal_encoding</a>);</div>
<div class="line"><span class="lineno">  921</span>        }</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>        <span class="comment">// Check for &gt;32bit frames on 32 bit systems</span></div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) == 4 &amp;&amp; (payload_size &gt;&gt; 32)) {</div>
<div class="line"><span class="lineno">  925</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a812035a236affc596d41288c8f664ee5">error::requires_64bit</a>);</div>
<div class="line"><span class="lineno">  926</span>        }</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  929</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a812035a236affc596d41288c8f664ee5"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a812035a236affc596d41288c8f664ee5">websocketpp::processor::error::requires_64bit</a></div><div class="ttdeci">@ requires_64bit</div><div class="ttdoc">Not supported on 32 bit systems.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00111">base.hpp:111</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf">websocketpp::processor::error::non_minimal_encoding</a></div><div class="ttdeci">@ non_minimal_encoding</div><div class="ttdoc">Payload length not minimally encoded.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00108">base.hpp:108</a></div></div>
<div class="ttc" id="astdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00136">stdint.h:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_cgraph">
<area shape="rect" title="Validate an incoming extended header." alt="" coords="5,31,185,87"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ceb63e6a2fe19964d13363ba2bb9e15" title="Extracts the raw payload length specified in the basic header." alt="" coords="420,5,559,46"/>
<area shape="poly" title=" " alt="" coords="185,49,405,30,405,35,186,54"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a2ca0b9ba6077f201997da543d45b067f" title="Extract the full payload size field from a WebSocket header." alt="" coords="233,67,372,107"/>
<area shape="poly" title=" " alt="" coords="185,68,217,73,216,78,185,74"/>
<area shape="poly" title=" " alt="" coords="366,64,410,49,412,54,368,69"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#a5ae0cc87ac44bb78c5dc41983c43a0c4" title="Extract the extended size field from an extended header." alt="" coords="420,71,559,111"/>
<area shape="poly" title=" " alt="" coords="372,86,405,87,404,92,372,91"/>
<area shape="rect" href="namespacewebsocketpp_1_1frame.html#ac55b672bcd3baf4c5a074816f6eb035b" title="Extract the jumbo size field from an extended header." alt="" coords="420,136,559,177"/>
<area shape="poly" title=" " alt="" coords="361,105,420,128,418,133,359,110"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#ae2011914840da1dcbcac7266213a8709" title="Convert 64 bit value to host byte order." alt="" coords="607,136,753,177"/>
<area shape="poly" title=" " alt="" coords="560,154,592,154,592,159,560,159"/>
<area shape="rect" href="namespacewebsocketpp_1_1lib_1_1net.html#ab3e62ef8d23c6e35b1d726fa1fa1c537" title="Convert 64 bit value to network byte order." alt="" coords="801,136,946,177"/>
<area shape="poly" title=" " alt="" coords="753,154,785,154,785,159,753,159"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_icgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_icgraph">
<area shape="rect" title="Validate an incoming extended header." alt="" coords="217,5,396,61"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#a5c5e3234a0067c7f14fe0ceb4e647659" title="Process new websocket connection bytes." alt="" coords="5,13,169,54"/>
<area shape="poly" title=" " alt="" coords="201,36,169,36,169,30,201,30"/>
</map>
</div>

</div>
</div>
<a id="a8b3cea2f1526b4982e0836c5705584a8" name="a8b3cea2f1526b4982e0836c5705584a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3cea2f1526b4982e0836c5705584a8">&#9670;&#160;</a></span>validate_server_handshake_response()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::validate_server_handshake_response </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a147c343bb3f7380a9fa7d9463dfb4815">request_type</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa6cd4bee87b00b2d97506aaa5de4a666">response_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>res</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The original request sent </td></tr>
    <tr><td class="paramname">res</td><td>The reponse to generate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code, 0 on success, non-zero for other errors </dd></dl>

<p>Implements <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html#ab1228fa9350d9646379888ad528fd4c4">websocketpp::processor::processor&lt; config &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l00265">265</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  267</span>    {</div>
<div class="line"><span class="lineno">  268</span>        <span class="comment">// A valid response has an HTTP 101 switching protocols code</span></div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">if</span> (res.get_status_code() != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc">http::status_code::switching_protocols</a>) {</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a97235028937f2e70216b725b8c265a64">error::invalid_http_status</a>);</div>
<div class="line"><span class="lineno">  271</span>        }</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="comment">// And the upgrade token in an upgrade header</span></div>
<div class="line"><span class="lineno">  274</span>        std::string <span class="keyword">const</span> &amp; upgrade_header = res.get_header(<span class="stringliteral">&quot;Upgrade&quot;</span>);</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568">utility::ci_find_substr</a>(upgrade_header, constants::upgrade_token,</div>
<div class="line"><span class="lineno">  276</span>            <span class="keyword">sizeof</span>(constants::upgrade_token)-1) == upgrade_header.end())</div>
<div class="line"><span class="lineno">  277</span>        {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d">error::missing_required_header</a>);</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>        <span class="comment">// And the websocket token in the connection header</span></div>
<div class="line"><span class="lineno">  282</span>        std::string <span class="keyword">const</span> &amp; con_header = res.get_header(<span class="stringliteral">&quot;Connection&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568">utility::ci_find_substr</a>(con_header, constants::connection_token,</div>
<div class="line"><span class="lineno">  284</span>            <span class="keyword">sizeof</span>(constants::connection_token)-1) == con_header.end())</div>
<div class="line"><span class="lineno">  285</span>        {</div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d">error::missing_required_header</a>);</div>
<div class="line"><span class="lineno">  287</span>        }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>        <span class="comment">// And has a valid Sec-WebSocket-Accept value</span></div>
<div class="line"><span class="lineno">  290</span>        std::string key = req.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Key&quot;</span>);</div>
<div class="line"><span class="lineno">  291</span>        lib::error_code ec = <a class="code hl_function" href="#afe3d2731a39faebab5f927a13e26fb8c">process_handshake_key</a>(key);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">if</span> (ec || key != res.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Accept&quot;</span>)) {</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d">error::missing_required_header</a>);</div>
<div class="line"><span class="lineno">  295</span>        }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="comment">// check extensions</span></div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  300</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc">websocketpp::http::status_code::switching_protocols</a></div><div class="ttdeci">@ switching_protocols</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00126">constants.hpp:126</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a97235028937f2e70216b725b8c265a64"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a97235028937f2e70216b725b8c265a64">websocketpp::processor::error::invalid_http_status</a></div><div class="ttdeci">@ invalid_http_status</div><div class="ttdoc">Invalid HTTP status.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00126">base.hpp:126</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1utility_html_a484f1287b93cf58cc6514e46eed41568"><div class="ttname"><a href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568">websocketpp::utility::ci_find_substr</a></div><div class="ttdeci">T::const_iterator ci_find_substr(T const &amp;haystack, T const &amp;needle, std::locale const &amp;loc=std::locale())</div><div class="ttdoc">Find substring (case insensitive)</div><div class="ttdef"><b>Definition</b> <a href="utilities_8hpp_source.html#l00103">utilities.hpp:103</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8_cgraph" id="aclasswebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8_cgraph">
<area shape="rect" title="Validate the server&#39;s response to an outgoing handshake request." alt="" coords="5,63,169,119"/>
<area shape="rect" href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568" title="Find substring (case insensitive)" alt="" coords="258,5,395,46"/>
<area shape="poly" title=" " alt="" coords="168,66,242,46,243,51,170,71"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c" title="Create an error code with the given value and the processor category." alt="" coords="245,71,408,111"/>
<area shape="poly" title=" " alt="" coords="169,88,229,88,229,94,169,94"/>
<area shape="rect" href="classwebsocketpp_1_1processor_1_1hybi13.html#afe3d2731a39faebab5f927a13e26fb8c" title="Convert a client handshake key into a server response key in place." alt="" coords="217,139,436,179"/>
<area shape="poly" title=" " alt="" coords="170,112,238,131,237,136,168,117"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor_1_1error.html#a05888e4f40358343536893ef37f855a7" title="Get a reference to a static copy of the processor error category." alt="" coords="486,59,649,115"/>
<area shape="poly" title=" " alt="" coords="408,87,470,86,470,91,408,92"/>
<area shape="rect" href="namespacewebsocketpp.html#aff36d40583424a2c879df02219133af8" title="Encode a char buffer into a base64 string." alt="" coords="493,139,641,179"/>
<area shape="poly" title=" " alt="" coords="437,156,477,156,477,162,437,162"/>
<area shape="rect" href="namespacewebsocketpp_1_1sha1.html#ad75335df7a69d69b3fb8fef3f4594812" title="Calculate a SHA1 hash." alt="" coords="484,204,650,229"/>
<area shape="poly" title=" " alt="" coords="415,177,496,197,494,202,414,183"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa1b5aeeb8c4be9460854b1eb972a1563" name="aa1b5aeeb8c4be9460854b1eb972a1563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b5aeeb8c4be9460854b1eb972a1563">&#9670;&#160;</a></span>m_basic_header</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocketpp_1_1frame_1_1basic__header.html">frame::basic_header</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_basic_header</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01022">1022</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a6e31d9b2d955fbdbd2a05ce325f06326" name="a6e31d9b2d955fbdbd2a05ce325f06326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e31d9b2d955fbdbd2a05ce325f06326">&#9670;&#160;</a></span>m_bytes_needed</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_bytes_needed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01028">1028</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a684c7ab5a31c2becad136063e0cd48a9" name="a684c7ab5a31c2becad136063e0cd48a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684c7ab5a31c2becad136063e0cd48a9">&#9670;&#160;</a></span>m_control_msg</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_control_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01036">1036</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a2a1554b49e53c61931e6912bec35c815" name="a2a1554b49e53c61931e6912bec35c815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a1554b49e53c61931e6912bec35c815">&#9670;&#160;</a></span>m_current_msg</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a>* <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_current_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01039">1039</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a4fd9db5f39ff7ca0796c456b83b74887" name="a4fd9db5f39ff7ca0796c456b83b74887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd9db5f39ff7ca0796c456b83b74887">&#9670;&#160;</a></span>m_cursor</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_cursor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01031">1031</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a7ace361da2e05291aeb029956f20aee3" name="a7ace361da2e05291aeb029956f20aee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ace361da2e05291aeb029956f20aee3">&#9670;&#160;</a></span>m_data_msg</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata.html">msg_metadata</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_data_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01034">1034</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a7d11d41110cd4b4e746a55ecd9faaaf1" name="a7d11d41110cd4b4e746a55ecd9faaaf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d11d41110cd4b4e746a55ecd9faaaf1">&#9670;&#160;</a></span>m_extended_header</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structwebsocketpp_1_1frame_1_1extended__header.html">frame::extended_header</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_extended_header</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01042">1042</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a023029768eda304f37698bf63aaa7fdc" name="a023029768eda304f37698bf63aaa7fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023029768eda304f37698bf63aaa7fdc">&#9670;&#160;</a></span>m_msg_manager</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aec46adaa77bf99e7060b3a0a135df948">msg_manager_ptr</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_msg_manager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01025">1025</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a9103ac43ba28b3b3e5cedf519b1c67c5" name="a9103ac43ba28b3b3e5cedf519b1c67c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9103ac43ba28b3b3e5cedf519b1c67c5">&#9670;&#160;</a></span>m_permessage_deflate</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#af4f117355cb9a19e13bf7134f88e1f89">permessage_deflate_type</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_permessage_deflate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01050">1050</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a3e6ee5afc8a635c0a410f678bda8ea84" name="a3e6ee5afc8a635c0a410f678bda8ea84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6ee5afc8a635c0a410f678bda8ea84">&#9670;&#160;</a></span>m_rng</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9d308ef0f426a6d7ca24ba8702ab4588">rng_type</a>&amp; <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_rng</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01044">1044</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<a id="a4660c14a2a241a2439fb3aa497ab5886" name="a4660c14a2a241a2439fb3aa497ab5886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4660c14a2a241a2439fb3aa497ab5886">&#9670;&#160;</a></span>m_state</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a56fee5ffbb0b5c2c0708be2338e0740d">state</a> <a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">websocketpp::processor::hybi13</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::m_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="hybi13_8hpp_source.html#l01047">1047</a> of file <a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>libraries/fc/vendor/websocketpp/websocketpp/processors/<a class="el" href="hybi13_8hpp_source.html">hybi13.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewebsocketpp.html">websocketpp</a></li><li class="navelem"><a class="el" href="namespacewebsocketpp_1_1processor.html">processor</a></li><li class="navelem"><a class="el" href="classwebsocketpp_1_1processor_1_1hybi13.html">hybi13</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
