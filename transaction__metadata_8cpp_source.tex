\doxysection{transaction\+\_\+metadata.\+cpp}
\hypertarget{transaction__metadata_8cpp_source}{}\label{transaction__metadata_8cpp_source}\index{libraries/chain/transaction\_metadata.cpp@{libraries/chain/transaction\_metadata.cpp}}
\mbox{\hyperlink{transaction__metadata_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{transaction__metadata_8hpp}{sysio/chain/transaction\_metadata.hpp}}>}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{thread__utils_8hpp}{sysio/chain/thread\_utils.hpp}}>}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <boost/asio/thread\_pool.hpp>}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00005}00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesysio}{sysio}}\ \{\ \textcolor{keyword}{namespace\ }chain\ \{}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00007}\mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a122861328470aa67ebf9ac5cb798755d}{00007}}\ \mbox{\hyperlink{namespacesysio_1_1chain_a036ea97f093bf3270bd2c9a097cbcaba}{recover\_keys\_future}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a122861328470aa67ebf9ac5cb798755d}{transaction\_metadata::start\_recover\_keys}}(\ \mbox{\hyperlink{namespacesysio_1_1chain_a7041c0316bd294d0866609ab3e0cc7a7}{packed\_transaction\_ptr}}\ trx,}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00008}00008\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::io\_context\&\ thread\_pool,}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00009}00009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1chain_1_1chain__id__type}{chain\_id\_type}}\&\ chain\_id,}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00010}00010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1microseconds}{fc::microseconds}}\ time\_limit,}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00011}00011\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a841053d8fa06ceea3cb8096625f053ed}{trx\_type}}\ t,}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00012}00012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ max\_variable\_sig\_size\ )}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00013}00013\ \{}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00014}00014\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesysio_1_1chain_a7c89dacf49f9737b2395006400c5a26c}{async\_thread\_pool}}(\ thread\_pool,\ [trx\{std::move(trx)\},\ chain\_id,\ time\_limit,\ t,\ max\_variable\_sig\_size]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00015}00015\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ deadline\ =\ time\_limit\ ==\ \mbox{\hyperlink{classfc_1_1microseconds_afc3eb0bfd792c7b1cda062e559e30c2e}{fc::microseconds::maximum}}()\ ?}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00016}00016\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point_aeccf1b70aa34b132c5269313b8a50573}{fc::time\_point::maximum}}()\ :\ \mbox{\hyperlink{classfc_1_1time__point_aa164ff1268a16d4b32afcff181f6100e}{fc::time\_point::now}}()\ +\ time\_limit;}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00017}00017\ \ \ \ \ \ \ \ \ \ check\_variable\_sig\_size(\ trx,\ max\_variable\_sig\_size\ );}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00018}00018\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1chain_1_1signed__transaction}{signed\_transaction}}\&\ trn\ =\ trx-\/>get\_signed\_transaction();}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00019}00019\ \ \ \ \ \ \ \ \ \ flat\_set<public\_key\_type>\ recovered\_pub\_keys;}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1microseconds}{fc::microseconds}}\ cpu\_usage\ =\ trn.\mbox{\hyperlink{structsysio_1_1chain_1_1signed__transaction_a356cfae139eb47ec0146b6f4c2aca051}{get\_signature\_keys}}(\ chain\_id,\ deadline,\ recovered\_pub\_keys\ );}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_shared<transaction\_metadata>(\ private\_type(),\ std::move(\ trx\ ),\ cpu\_usage,\ std::move(\ recovered\_pub\_keys\ ),}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00022}00022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t==\mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a841053d8fa06ceea3cb8096625f053edacd1fed5e3277af3a9210b25059d86ff9}{trx\_type::implicit}},\ t==\mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a841053d8fa06ceea3cb8096625f053eda638a6d925c422c868b28b9562498ea1d}{trx\_type::scheduled}},\ t==\mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a841053d8fa06ceea3cb8096625f053edabefe72871b2de8f4f0e20108517e31fe}{trx\_type::read\_only}});}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00023}00023\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00024}00024\ \ \ \ );}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00025}00025\ \}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00027}\mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_ad6304cea0db3be84ac16bb5ca39e05b2}{00027}}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_ad6304cea0db3be84ac16bb5ca39e05b2}{transaction\_metadata::get\_estimated\_size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00028}00028\ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{sizeof}(*this)\ +\ \_recovered\_pub\_keys.size()\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespacesysio_1_1chain_a0628a11f388cd2e43b1ccc1260a1042f}{public\_key\_type}})\ +\ \mbox{\hyperlink{classsysio_1_1chain_1_1transaction__metadata_a4d9d851e1126d59b5edb2c45e17d3c34}{packed\_trx}}()-\/>get\_estimated\_size();}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00029}00029\ \}}
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{transaction__metadata_8cpp_source_l00031}00031\ \}\ \}\ \textcolor{comment}{//\ sysio::chain}}

\end{DoxyCode}
