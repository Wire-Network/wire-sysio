<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: libraries/fc/include/fc/crypto/webauthn_json/example/schemavalidator/schemavalidator.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('schemavalidator_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">schemavalidator.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="en_8h_source.html">rapidjson/error/en.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filereadstream_8h_source.html">rapidjson/filereadstream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="schema_8h_source.html">rapidjson/schema.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stringbuffer_8h_source.html">rapidjson/stringbuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="prettywriter_8h_source.html">rapidjson/prettywriter.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for schemavalidator.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="schemavalidator_8cpp__incl.png" border="0" usemap="#alibraries_2fc_2include_2fc_2crypto_2webauthn__json_2example_2schemavalidator_2schemavalidator_8cpp" alt=""/></div>
<map name="alibraries_2fc_2include_2fc_2crypto_2webauthn__json_2example_2schemavalidator_2schemavalidator_8cpp" id="alibraries_2fc_2include_2fc_2crypto_2webauthn__json_2example_2schemavalidator_2schemavalidator_8cpp">
<area shape="rect" title=" " alt="" coords="1098,5,1272,76"/>
<area shape="rect" href="en_8h.html" title=" " alt="" coords="5,271,138,297"/>
<area shape="poly" title=" " alt="" coords="1098,57,909,86,687,127,527,163,370,203,128,269,126,264,368,198,526,158,686,121,908,80,1098,51"/>
<area shape="rect" href="filereadstream_8h.html" title=" " alt="" coords="1429,124,1599,150"/>
<area shape="poly" title=" " alt="" coords="1273,64,1458,117,1456,122,1271,69"/>
<area shape="rect" href="schema_8h.html" title=" " alt="" coords="1118,124,1252,150"/>
<area shape="poly" title=" " alt="" coords="1188,76,1188,108,1182,108,1182,76"/>
<area shape="rect" href="stringbuffer_8h.html" title=" " alt="" coords="1319,419,1416,444"/>
<area shape="poly" title=" " alt="" coords="1273,71,1316,94,1355,125,1371,143,1383,163,1391,185,1394,209,1394,286,1388,350,1377,404,1372,403,1383,349,1389,285,1389,209,1386,186,1378,165,1366,146,1351,129,1313,99,1271,76"/>
<area shape="rect" href="prettywriter_8h.html" title=" " alt="" coords="698,124,850,150"/>
<area shape="poly" title=" " alt="" coords="1098,64,843,123,841,117,1097,59"/>
<area shape="rect" href="error_8h.html" title=" " alt="" coords="80,419,138,444"/>
<area shape="poly" title=" " alt="" coords="77,297,105,403,99,404,72,298"/>
<area shape="rect" href="rapidjson_8h.html" title="common definitions and configuration" alt="" coords="623,713,720,739"/>
<area shape="poly" title=" " alt="" coords="116,443,137,486,174,547,225,611,255,639,289,663,314,674,347,684,432,699,608,718,608,723,432,705,346,689,312,679,286,668,252,643,221,615,170,550,133,489,111,446"/>
<area shape="rect" title=" " alt="" coords="558,787,617,813"/>
<area shape="poly" title=" " alt="" coords="659,742,615,779,612,775,656,738"/>
<area shape="rect" title=" " alt="" coords="641,787,702,813"/>
<area shape="poly" title=" " alt="" coords="674,739,674,771,669,771,669,739"/>
<area shape="rect" title=" " alt="" coords="726,787,790,813"/>
<area shape="poly" title=" " alt="" coords="688,737,734,775,730,779,685,742"/>
<area shape="rect" href="stream_8h.html" title=" " alt="" coords="1086,566,1158,592"/>
<area shape="poly" title=" " alt="" coords="1507,152,1475,207,1461,244,1455,283,1455,359,1449,415,1441,437,1430,457,1396,490,1347,520,1304,540,1258,555,1174,574,1173,568,1256,550,1302,535,1345,516,1393,486,1425,454,1436,435,1444,414,1450,359,1450,283,1456,242,1470,204,1503,149"/>
<area shape="rect" title=" " alt="" coords="1490,198,1546,223"/>
<area shape="poly" title=" " alt="" coords="1517,150,1519,182,1514,182,1512,150"/>
<area shape="poly" title=" " alt="" coords="1111,594,1066,631,1036,651,1003,668,934,692,862,708,794,718,735,724,735,719,793,713,861,703,932,686,1001,663,1033,647,1063,627,1108,590"/>
<area shape="rect" href="encodings_8h.html" title=" " alt="" coords="899,640,990,665"/>
<area shape="poly" title=" " alt="" coords="1093,595,990,636,988,631,1091,590"/>
<area shape="poly" title=" " alt="" coords="900,668,733,712,732,706,898,663"/>
<area shape="rect" href="document_8h.html" title=" " alt="" coords="932,271,1022,297"/>
<area shape="poly" title=" " alt="" coords="1187,150,1182,186,1174,207,1161,225,1134,247,1102,263,1069,274,1037,280,1036,275,1068,268,1100,258,1131,243,1158,222,1169,205,1177,185,1182,149"/>
<area shape="rect" href="pointer_8h.html" title=" " alt="" coords="942,198,1012,223"/>
<area shape="poly" title=" " alt="" coords="1150,153,1027,195,1026,190,1149,148"/>
<area shape="poly" title=" " alt="" coords="1194,149,1354,404,1350,407,1190,151"/>
<area shape="rect" title=" " alt="" coords="1090,198,1147,223"/>
<area shape="poly" title=" " alt="" coords="1176,152,1142,188,1138,184,1172,148"/>
<area shape="rect" href="regex_8h.html" title=" " alt="" coords="1490,419,1600,444"/>
<area shape="poly" title=" " alt="" coords="1201,148,1520,407,1517,411,1198,152"/>
<area shape="rect" href="reader_8h.html" title=" " alt="" coords="943,345,1010,371"/>
<area shape="poly" title=" " alt="" coords="980,297,980,329,974,329,974,297"/>
<area shape="rect" href="encodedstream_8h.html" title=" " alt="" coords="1072,419,1194,444"/>
<area shape="poly" title=" " alt="" coords="1023,293,1068,312,1090,326,1110,343,1126,372,1133,403,1128,404,1121,374,1105,347,1087,330,1066,317,1021,298"/>
<area shape="rect" href="memorystream_8h.html" title=" " alt="" coords="1185,492,1304,518"/>
<area shape="poly" title=" " alt="" coords="1023,295,1078,314,1134,343,1176,375,1208,417,1226,447,1238,477,1233,479,1221,450,1204,420,1172,379,1131,347,1076,319,1021,300"/>
<area shape="rect" href="meta_8h.html" title=" " alt="" coords="332,419,440,444"/>
<area shape="poly" title=" " alt="" coords="932,291,702,309,579,325,529,336,493,347,468,360,445,376,408,410,405,406,442,372,465,356,490,343,528,331,578,320,702,303,931,285"/>
<area shape="rect" title=" " alt="" coords="571,566,623,592"/>
<area shape="poly" title=" " alt="" coords="932,296,871,312,797,336,721,372,685,395,652,421,629,450,614,485,605,520,601,551,595,550,600,519,609,483,624,447,648,417,682,390,718,367,795,331,870,306,931,291"/>
<area shape="rect" href="strfunc_8h.html" title=" " alt="" coords="879,419,997,444"/>
<area shape="poly" title=" " alt="" coords="966,299,948,320,934,346,930,375,933,403,928,404,925,375,929,344,944,317,962,296"/>
<area shape="rect" title=" " alt="" coords="213,419,258,444"/>
<area shape="poly" title=" " alt="" coords="932,289,841,293,720,303,583,320,446,348,351,379,273,414,271,409,349,374,444,342,582,315,719,297,841,288,931,284"/>
<area shape="rect" title=" " alt="" coords="1034,345,1096,371"/>
<area shape="poly" title=" " alt="" coords="993,295,1040,333,1037,337,990,300"/>
<area shape="poly" title=" " alt="" coords="943,364,639,384,201,421,153,427,152,422,201,416,638,379,943,359"/>
<area shape="poly" title=" " alt="" coords="987,369,1108,552,1104,554,982,372"/>
<area shape="rect" href="allocators_8h.html" title=" " alt="" coords="1450,566,1538,592"/>
<area shape="poly" title=" " alt="" coords="1011,365,1207,416,1282,450,1354,488,1465,555,1462,560,1352,493,1280,455,1205,421,1010,370"/>
<area shape="poly" title=" " alt="" coords="1004,369,1094,409,1091,414,1002,374"/>
<area shape="poly" title=" " alt="" coords="943,365,741,385,456,421,455,416,740,380,943,360"/>
<area shape="rect" href="stack_8h.html" title=" " alt="" coords="1582,492,1692,518"/>
<area shape="poly" title=" " alt="" coords="1011,366,1022,368,1144,373,1347,377,1453,381,1546,388,1618,400,1642,407,1657,417,1665,432,1666,448,1655,480,1650,479,1661,448,1660,433,1654,420,1640,412,1617,405,1546,394,1452,386,1347,382,1144,378,1022,373,1010,371"/>
<area shape="rect" href="strtod_8h.html" title=" " alt="" coords="693,419,804,444"/>
<area shape="poly" title=" " alt="" coords="943,372,803,416,802,411,942,367"/>
<area shape="poly" title=" " alt="" coords="943,365,802,384,730,400,702,410,682,421,654,450,632,485,616,521,606,552,601,550,611,519,627,482,649,447,679,417,700,405,729,395,801,379,943,360"/>
<area shape="poly" title=" " alt="" coords="1450,592,1044,668,736,718,735,713,1043,663,1449,586"/>
<area shape="poly" title=" " alt="" coords="1135,445,1127,551,1121,550,1129,444"/>
<area shape="poly" title=" " alt="" coords="1153,443,1214,481,1212,486,1150,447"/>
<area shape="poly" title=" " alt="" coords="1225,521,1157,560,1154,556,1223,516"/>
<area shape="poly" title=" " alt="" coords="379,446,362,479,358,499,362,517,385,553,413,586,446,614,481,639,554,679,618,705,616,710,551,684,478,644,442,619,409,589,380,556,357,519,353,499,357,478,374,444"/>
<area shape="poly" title=" " alt="" coords="1614,521,1533,561,1531,556,1611,516"/>
<area shape="rect" href="swap_8h.html" title=" " alt="" coords="1450,640,1514,665"/>
<area shape="poly" title=" " alt="" coords="1627,520,1552,594,1510,631,1506,627,1548,590,1623,516"/>
<area shape="rect" title=" " alt="" coords="1613,566,1677,592"/>
<area shape="poly" title=" " alt="" coords="1641,518,1644,550,1639,551,1636,519"/>
<area shape="poly" title=" " alt="" coords="1450,659,735,722,735,717,1450,654"/>
<area shape="rect" href="ieee754_8h.html" title=" " alt="" coords="372,492,449,518"/>
<area shape="poly" title=" " alt="" coords="694,447,465,494,463,489,692,441"/>
<area shape="rect" href="biginteger_8h.html" title=" " alt="" coords="730,640,818,665"/>
<area shape="poly" title=" " alt="" coords="753,444,774,624,768,625,748,445"/>
<area shape="rect" href="diyfp_8h.html" title=" " alt="" coords="473,492,534,518"/>
<area shape="poly" title=" " alt="" coords="708,447,549,493,548,488,706,442"/>
<area shape="poly" title=" " alt="" coords="738,447,622,557,618,553,735,443"/>
<area shape="rect" href="pow10_8h.html" title=" " alt="" coords="636,640,707,665"/>
<area shape="poly" title=" " alt="" coords="747,445,683,626,678,625,742,444"/>
<area shape="rect" title=" " alt="" coords="811,492,870,518"/>
<area shape="poly" title=" " alt="" coords="766,443,815,481,812,485,763,447"/>
<area shape="poly" title=" " alt="" coords="425,516,496,580,593,663,644,702,641,706,590,667,492,584,421,520"/>
<area shape="poly" title=" " alt="" coords="758,668,703,706,700,702,755,664"/>
<area shape="poly" title=" " alt="" coords="513,517,560,590,608,650,652,700,648,703,604,654,556,593,508,520"/>
<area shape="poly" title=" " alt="" coords="521,516,571,554,568,559,518,521"/>
<area shape="poly" title=" " alt="" coords="674,666,674,698,669,698,669,666"/>
<area shape="poly" title=" " alt="" coords="957,443,1022,490,1099,554,1096,558,1019,494,954,447"/>
<area shape="rect" title=" " alt="" coords="945,492,1008,518"/>
<area shape="poly" title=" " alt="" coords="947,443,965,477,961,480,942,446"/>
<area shape="poly" title=" " alt="" coords="980,224,980,256,974,256,974,224"/>
<area shape="rect" href="itoa_8h.html" title=" " alt="" coords="198,492,297,518"/>
<area shape="poly" title=" " alt="" coords="942,219,841,235,697,262,530,299,363,348,312,360,270,369,235,385,219,399,203,420,199,435,202,450,224,480,220,483,197,452,193,435,198,417,215,396,232,380,269,364,311,355,361,342,529,294,696,257,840,230,941,214"/>
<area shape="poly" title=" " alt="" coords="251,518,257,548,268,588,288,629,301,648,317,663,338,675,368,685,445,702,531,712,608,719,608,724,530,718,444,707,367,691,336,680,314,667,297,651,283,632,263,590,251,549,246,519"/>
<area shape="poly" title=" " alt="" coords="1366,446,1349,482,1336,503,1319,520,1284,542,1246,557,1174,575,1173,570,1245,552,1282,537,1315,516,1332,499,1345,480,1361,444"/>
<area shape="poly" title=" " alt="" coords="1414,442,1577,485,1576,490,1413,447"/>
<area shape="poly" title=" " alt="" coords="1532,447,1481,483,1448,503,1413,520,1350,542,1286,557,1174,575,1173,570,1285,552,1348,537,1410,516,1445,499,1478,479,1529,443"/>
<area shape="poly" title=" " alt="" coords="1543,446,1506,552,1501,550,1538,444"/>
<area shape="poly" title=" " alt="" coords="1562,443,1611,481,1608,485,1559,447"/>
<area shape="rect" href="writer_8h.html" title=" " alt="" coords="504,345,567,371"/>
<area shape="poly" title=" " alt="" coords="763,152,561,336,558,333,759,148"/>
<area shape="poly" title=" " alt="" coords="568,358,618,363,682,373,751,390,818,416,854,440,877,465,900,491,934,516,1004,546,1071,565,1070,570,1002,551,932,520,896,495,873,469,851,444,816,421,749,395,681,378,617,368,567,363"/>
<area shape="poly" title=" " alt="" coords="511,374,426,414,424,409,509,369"/>
<area shape="poly" title=" " alt="" coords="568,358,1148,383,1465,401,1568,409,1613,416,1625,429,1632,445,1639,476,1634,478,1627,447,1620,432,1610,421,1568,414,1464,406,1148,389,567,363"/>
<area shape="poly" title=" " alt="" coords="568,362,864,414,863,420,567,367"/>
<area shape="poly" title=" " alt="" coords="504,369,277,421,274,422,272,417,276,416,503,363"/>
<area shape="poly" title=" " alt="" coords="504,365,418,381,369,398,322,421,289,449,265,481,261,478,286,446,319,416,366,393,417,376,503,360"/>
<area shape="poly" title=" " alt="" coords="568,359,1304,422,1304,427,567,365"/>
<area shape="rect" href="dtoa_8h.html" title=" " alt="" coords="464,419,567,444"/>
<area shape="poly" title=" " alt="" coords="535,372,526,404,520,403,530,370"/>
<area shape="poly" title=" " alt="" coords="499,447,442,486,439,481,496,443"/>
<area shape="poly" title=" " alt="" coords="516,445,511,477,505,476,511,444"/>
<area shape="poly" title=" " alt="" coords="471,447,308,490,307,485,469,442"/>
</map>
</div>
</div>
<p><a href="schemavalidator_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *<a class="el" href="hello__driver_8cpp.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="schemavalidator_8cpp_source.html#l00013">13</a> of file <a class="el" href="schemavalidator_8cpp_source.html">schemavalidator.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                 {</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordflow">if</span> (argc != 2) {</div>
<div class="line"><span class="lineno">   15</span>        fprintf(stderr, <span class="stringliteral">&quot;Usage: schemavalidator schema.json &lt; input.json\n&quot;</span>);</div>
<div class="line"><span class="lineno">   16</span>        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">   17</span>    }</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    <span class="comment">// Read a JSON schema from file into Document</span></div>
<div class="line"><span class="lineno">   20</span>    <a class="code hl_class" href="class_generic_document.html">Document</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>;</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordtype">char</span> buffer[4096];</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>    {</div>
<div class="line"><span class="lineno">   24</span>        FILE *fp = fopen(<a class="code hl_variable" href="hello__driver_8cpp.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1], <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordflow">if</span> (!fp) {</div>
<div class="line"><span class="lineno">   26</span>            <a class="code hl_function" href="namespace_log.html#a83926634a3916d0927abca4aca58a60a">printf</a>(<span class="stringliteral">&quot;Schema file &#39;%s&#39; not found\n&quot;</span>, <a class="code hl_variable" href="hello__driver_8cpp.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><span class="lineno">   27</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   28</span>        }</div>
<div class="line"><span class="lineno">   29</span>        <a class="code hl_class" href="class_file_read_stream.html">FileReadStream</a> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a15900ed04e2e3994c89596ee26c4462b">fs</a>(fp, buffer, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><span class="lineno">   30</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.ParseStream(fs);</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.HasParseError()) {</div>
<div class="line"><span class="lineno">   32</span>            fprintf(stderr, <span class="stringliteral">&quot;Schema file &#39;%s&#39; is not a valid JSON\n&quot;</span>, <a class="code hl_variable" href="hello__driver_8cpp.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>[1]);</div>
<div class="line"><span class="lineno">   33</span>            fprintf(stderr, <span class="stringliteral">&quot;Error(offset %u): %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">   34</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.GetErrorOffset()),</div>
<div class="line"><span class="lineno">   35</span>                <a class="code hl_function" href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#ga28835eb93d2c3c07bbea13515eb31415">GetParseError_En</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.GetParseError()));</div>
<div class="line"><span class="lineno">   36</span>            fclose(fp);</div>
<div class="line"><span class="lineno">   37</span>            <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">   38</span>        }</div>
<div class="line"><span class="lineno">   39</span>        fclose(fp);</div>
<div class="line"><span class="lineno">   40</span>    }</div>
<div class="line"><span class="lineno">   41</span>    </div>
<div class="line"><span class="lineno">   42</span>    <span class="comment">// Then convert the Document into SchemaDocument</span></div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_class" href="class_generic_schema_document.html">SchemaDocument</a> sd(d);</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">// Use reader to parse the JSON in stdin, and forward SAX events to validator</span></div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_class" href="class_generic_schema_validator.html">SchemaValidator</a> validator(sd);</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_class" href="class_generic_reader.html">Reader</a> reader;</div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_class" href="class_file_read_stream.html">FileReadStream</a> is(stdin, buffer, <span class="keyword">sizeof</span>(buffer));</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (!reader.<a class="code hl_function" href="class_generic_reader.html#a0c450620d14ff1824e58bb7bd9b42099">Parse</a>(is, validator) &amp;&amp; reader.<a class="code hl_function" href="class_generic_reader.html#a937bf90919f50e1c370b312cee5833e8">GetParseErrorCode</a>() != <a class="code hl_enumvalue" href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6">kParseErrorTermination</a>) {</div>
<div class="line"><span class="lineno">   50</span>        <span class="comment">// Schema validator error would cause kParseErrorTermination, which will handle it in next step.</span></div>
<div class="line"><span class="lineno">   51</span>        fprintf(stderr, <span class="stringliteral">&quot;Input is not a valid JSON\n&quot;</span>);</div>
<div class="line"><span class="lineno">   52</span>        fprintf(stderr, <span class="stringliteral">&quot;Error(offset %u): %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">   53</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(reader.<a class="code hl_function" href="class_generic_reader.html#ae9008523ccd06d839a57335835cb4091">GetErrorOffset</a>()),</div>
<div class="line"><span class="lineno">   54</span>            <a class="code hl_function" href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#ga28835eb93d2c3c07bbea13515eb31415">GetParseError_En</a>(reader.<a class="code hl_function" href="class_generic_reader.html#a937bf90919f50e1c370b312cee5833e8">GetParseErrorCode</a>()));</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// Check the validation result</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">if</span> (validator.IsValid()) {</div>
<div class="line"><span class="lineno">   59</span>        <a class="code hl_function" href="namespace_log.html#a83926634a3916d0927abca4aca58a60a">printf</a>(<span class="stringliteral">&quot;Input JSON is valid.\n&quot;</span>);</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   63</span>        <a class="code hl_function" href="namespace_log.html#a83926634a3916d0927abca4aca58a60a">printf</a>(<span class="stringliteral">&quot;Input JSON is invalid.\n&quot;</span>);</div>
<div class="line"><span class="lineno">   64</span>        <a class="code hl_class" href="class_generic_string_buffer.html">StringBuffer</a> sb;</div>
<div class="line"><span class="lineno">   65</span>        validator.GetInvalidSchemaPointer().StringifyUriFragment(sb);</div>
<div class="line"><span class="lineno">   66</span>        fprintf(stderr, <span class="stringliteral">&quot;Invalid schema: %s\n&quot;</span>, sb.<a class="code hl_function" href="class_generic_string_buffer.html#a42079865bab1deb930c6cff7d491c719">GetString</a>());</div>
<div class="line"><span class="lineno">   67</span>        fprintf(stderr, <span class="stringliteral">&quot;Invalid keyword: %s\n&quot;</span>, validator.GetInvalidSchemaKeyword());</div>
<div class="line"><span class="lineno">   68</span>        sb.<a class="code hl_function" href="class_generic_string_buffer.html#a42f15c959046d899cb74c3120a6995f9">Clear</a>();</div>
<div class="line"><span class="lineno">   69</span>        validator.GetInvalidDocumentPointer().StringifyUriFragment(sb);</div>
<div class="line"><span class="lineno">   70</span>        fprintf(stderr, <span class="stringliteral">&quot;Invalid document: %s\n&quot;</span>, sb.<a class="code hl_function" href="class_generic_string_buffer.html#a42079865bab1deb930c6cff7d491c719">GetString</a>());</div>
<div class="line"><span class="lineno">   71</span>        <span class="comment">// Detailed violation report is available as a JSON value</span></div>
<div class="line"><span class="lineno">   72</span>        sb.<a class="code hl_function" href="class_generic_string_buffer.html#a42f15c959046d899cb74c3120a6995f9">Clear</a>();</div>
<div class="line"><span class="lineno">   73</span>        <a class="code hl_class" href="class_pretty_writer.html">PrettyWriter&lt;StringBuffer&gt;</a> w(sb);</div>
<div class="line"><span class="lineno">   74</span>        validator.GetError().Accept(w);</div>
<div class="line"><span class="lineno">   75</span>        fprintf(stderr, <span class="stringliteral">&quot;Error report:\n%s\n&quot;</span>, sb.<a class="code hl_function" href="class_generic_string_buffer.html#a42079865bab1deb930c6cff7d491c719">GetString</a>());</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line"><span class="lineno">   77</span>    }</div>
<div class="line"><span class="lineno">   78</span>}</div>
<div class="ttc" id="aclass_file_read_stream_html"><div class="ttname"><a href="class_file_read_stream.html">FileReadStream</a></div><div class="ttdoc">File byte stream for input using fread().</div><div class="ttdef"><b>Definition</b> <a href="filereadstream_8h_source.html#l00034">filereadstream.h:34</a></div></div>
<div class="ttc" id="aclass_generic_document_html"><div class="ttname"><a href="class_generic_document.html">GenericDocument&lt; UTF8&lt;&gt; &gt;</a></div></div>
<div class="ttc" id="aclass_generic_reader_html"><div class="ttname"><a href="class_generic_reader.html">GenericReader&lt; UTF8&lt; char &gt;, UTF8&lt; char &gt;, CrtAllocator &gt;</a></div></div>
<div class="ttc" id="aclass_generic_reader_html_a0c450620d14ff1824e58bb7bd9b42099"><div class="ttname"><a href="class_generic_reader.html#a0c450620d14ff1824e58bb7bd9b42099">GenericReader::Parse</a></div><div class="ttdeci">ParseResult Parse(InputStream &amp;is, Handler &amp;handler)</div><div class="ttdoc">Parse JSON text.</div><div class="ttdef"><b>Definition</b> <a href="reader_8h_source.html#l00557">reader.h:557</a></div></div>
<div class="ttc" id="aclass_generic_reader_html_a937bf90919f50e1c370b312cee5833e8"><div class="ttname"><a href="class_generic_reader.html#a937bf90919f50e1c370b312cee5833e8">GenericReader::GetParseErrorCode</a></div><div class="ttdeci">ParseErrorCode GetParseErrorCode() const</div><div class="ttdoc">Get the ParseErrorCode of last parsing.</div><div class="ttdef"><b>Definition</b> <a href="reader_8h_source.html#l00683">reader.h:683</a></div></div>
<div class="ttc" id="aclass_generic_reader_html_ae9008523ccd06d839a57335835cb4091"><div class="ttname"><a href="class_generic_reader.html#ae9008523ccd06d839a57335835cb4091">GenericReader::GetErrorOffset</a></div><div class="ttdeci">size_t GetErrorOffset() const</div><div class="ttdoc">Get the position of last parsing error in input, 0 otherwise.</div><div class="ttdef"><b>Definition</b> <a href="reader_8h_source.html#l00686">reader.h:686</a></div></div>
<div class="ttc" id="aclass_generic_schema_document_html"><div class="ttname"><a href="class_generic_schema_document.html">GenericSchemaDocument</a></div><div class="ttdoc">JSON schema document.</div><div class="ttdef"><b>Definition</b> <a href="schema_8h_source.html#l01501">schema.h:1501</a></div></div>
<div class="ttc" id="aclass_generic_schema_validator_html"><div class="ttname"><a href="class_generic_schema_validator.html">GenericSchemaValidator</a></div><div class="ttdoc">JSON Schema Validator.</div><div class="ttdef"><b>Definition</b> <a href="schema_8h_source.html#l01763">schema.h:1767</a></div></div>
<div class="ttc" id="aclass_generic_string_buffer_html"><div class="ttname"><a href="class_generic_string_buffer.html">GenericStringBuffer&lt; UTF8&lt; char &gt;, CrtAllocator &gt;</a></div></div>
<div class="ttc" id="aclass_generic_string_buffer_html_a42079865bab1deb930c6cff7d491c719"><div class="ttname"><a href="class_generic_string_buffer.html#a42079865bab1deb930c6cff7d491c719">GenericStringBuffer::GetString</a></div><div class="ttdeci">const Ch * GetString() const</div><div class="ttdef"><b>Definition</b> <a href="stringbuffer_8h_source.html#l00073">stringbuffer.h:73</a></div></div>
<div class="ttc" id="aclass_generic_string_buffer_html_a42f15c959046d899cb74c3120a6995f9"><div class="ttname"><a href="class_generic_string_buffer.html#a42f15c959046d899cb74c3120a6995f9">GenericStringBuffer::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition</b> <a href="stringbuffer_8h_source.html#l00060">stringbuffer.h:60</a></div></div>
<div class="ttc" id="aclass_pretty_writer_html"><div class="ttname"><a href="class_pretty_writer.html">PrettyWriter</a></div><div class="ttdoc">Writer with indentation and spacing.</div><div class="ttdef"><b>Definition</b> <a href="prettywriter_8h_source.html#l00048">prettywriter.h:48</a></div></div>
<div class="ttc" id="agroup___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_html_ga28835eb93d2c3c07bbea13515eb31415"><div class="ttname"><a href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#ga28835eb93d2c3c07bbea13515eb31415">GetParseError_En</a></div><div class="ttdeci">RAPIDJSON_NAMESPACE_BEGIN const RAPIDJSON_ERROR_CHARTYPE * GetParseError_En(ParseErrorCode parseErrorCode)</div><div class="ttdoc">Maps error code of parsing into error message.</div><div class="ttdef"><b>Definition</b> <a href="en_8h_source.html#l00036">en.h:36</a></div></div>
<div class="ttc" id="agroup___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_html_gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6"><div class="ttname"><a href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#gga8d4b32dfc45840bca189ade2bbcb6ba7a6fed2d9a15f88540a1ba785f0de2cbe6">kParseErrorTermination</a></div><div class="ttdeci">@ kParseErrorTermination</div><div class="ttdoc">Parsing was terminated.</div><div class="ttdef"><b>Definition</b> <a href="error_8h_source.html#l00088">error.h:88</a></div></div>
<div class="ttc" id="ahello__driver_8cpp_html_af2efa898e9eed6fe6715279cb1ec35b0"><div class="ttname"><a href="hello__driver_8cpp.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition</b> <a href="hello__driver_8cpp_source.html#l00052">hello_driver.cpp:52</a></div></div>
<div class="ttc" id="anamespace_log_html_a83926634a3916d0927abca4aca58a60a"><div class="ttname"><a href="namespace_log.html#a83926634a3916d0927abca4aca58a60a">Log::printf</a></div><div class="ttdeci">LOGGING_API void printf(Category category, const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="_logging_8cpp_source.html#l00030">Logging.cpp:30</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a15900ed04e2e3994c89596ee26c4462b"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a15900ed04e2e3994c89596ee26c4462b">Xbyak::util::fs</a></div><div class="ttdeci">static const Segment fs(Segment::fs)</div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a107648633008a7f2d872b4b3d98c2f96"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a></div><div class="ttdeci">CK_ULONG d</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l01238">yubihsm_pkcs11.c:1238</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="schemavalidator_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#aschemavalidator_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="aschemavalidator_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="aschemavalidator_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title=" " alt="" coords="5,324,55,349"/>
<area shape="rect" href="class_generic_string_buffer.html#a42f15c959046d899cb74c3120a6995f9" title=" " alt="" coords="150,5,286,46"/>
<area shape="poly" title=" " alt="" coords="30,323,53,186,74,109,87,78,101,57,117,44,135,35,137,40,120,49,105,61,91,81,79,111,59,188,36,324"/>
<area shape="rect" href="class_generic_schema_validator.html#a21c0ad159e91398d222bab4d91d4c5dd" title="Gets the error object." alt="" coords="136,71,300,111"/>
<area shape="poly" title=" " alt="" coords="29,323,33,284,43,229,64,172,81,145,101,121,120,107,123,112,104,125,85,148,69,174,48,231,38,284,34,323"/>
<area shape="rect" href="class_generic_reader.html#ae9008523ccd06d839a57335835cb4091" title="Get the position of last parsing error in input, 0 otherwise." alt="" coords="117,136,318,161"/>
<area shape="poly" title=" " alt="" coords="30,322,37,291,49,250,70,208,84,188,101,172,107,167,110,171,104,176,88,192,74,211,54,252,42,293,36,323"/>
<area shape="rect" href="class_generic_schema_validator.html#ac10a88c4dc138bbdbe2afd041658a3b0" title="Gets the JSON pointer pointed to the invalid value." alt="" coords="123,185,312,226"/>
<area shape="poly" title=" " alt="" coords="35,322,60,280,79,257,101,237,110,231,113,235,104,241,82,261,64,283,40,325"/>
<area shape="rect" href="class_generic_schema_validator.html#ab5980d72c786b81ab907526fdf4172f3" title="Gets the keyword of invalid schema." alt="" coords="124,251,312,291"/>
<area shape="poly" title=" " alt="" coords="54,322,102,302,124,294,126,299,104,307,56,327"/>
<area shape="rect" href="class_generic_schema_validator.html#a5b8f2d5c466b2a362e2e4c3bcfbfc5a8" title="Gets the JSON pointer pointed to the invalid schema." alt="" coords="129,316,306,357"/>
<area shape="poly" title=" " alt="" coords="55,334,113,334,113,339,55,339"/>
<area shape="rect" href="group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s.html#ga28835eb93d2c3c07bbea13515eb31415" title="Maps error code of parsing into error message." alt="" coords="154,381,282,406"/>
<area shape="poly" title=" " alt="" coords="56,346,104,366,140,376,138,381,102,371,54,351"/>
<area shape="rect" href="class_generic_reader.html#a937bf90919f50e1c370b312cee5833e8" title="Get the ParseErrorCode of last parsing." alt="" coords="103,430,333,456"/>
<area shape="poly" title=" " alt="" coords="41,348,66,383,84,401,104,417,113,421,110,426,101,421,80,405,62,386,37,351"/>
<area shape="rect" href="class_generic_string_buffer.html#a42079865bab1deb930c6cff7d491c719" title=" " alt="" coords="150,480,286,521"/>
<area shape="poly" title=" " alt="" coords="37,348,59,406,78,438,104,466,137,484,134,489,101,470,74,442,54,408,32,350"/>
<area shape="rect" href="class_generic_schema_validator.html#a8ebda4da3d8b1fc41e57f15dd62e8f19" title="Checks whether the current state is valid." alt="" coords="136,545,300,586"/>
<area shape="poly" title=" " alt="" coords="35,349,39,385,51,434,71,486,86,510,104,530,123,544,120,548,101,534,82,513,67,488,45,436,34,386,30,350"/>
<area shape="rect" href="class_generic_reader.html#a0c450620d14ff1824e58bb7bd9b42099" title="Parse JSON text." alt="" coords="143,614,293,640"/>
<area shape="poly" title=" " alt="" coords="33,349,34,396,42,462,51,498,63,534,81,567,104,596,129,612,126,617,101,600,77,570,59,536,45,500,37,463,29,396,28,349"/>
<area shape="rect" href="struct_parse_result.html#afbe762766ac21b2aae266105f1dfa643" title="Get the error offset, if IsError(), 0 otherwise." alt="" coords="396,136,533,161"/>
<area shape="poly" title=" " alt="" coords="319,146,380,146,380,151,319,151"/>
<area shape="rect" href="struct_parse_result.html#a2aae3c2f42b31cc2409ee1e03bc4852e" title="Get the error code." alt="" coords="398,410,530,436"/>
<area shape="poly" title=" " alt="" coords="333,431,382,427,383,432,334,436"/>
<area shape="rect" href="class_generic_string_buffer.html#a0038e53ba03c271bc4cbbac403ec4de4" title=" " alt="" coords="381,484,547,509"/>
<area shape="poly" title=" " alt="" coords="286,497,366,495,366,501,286,502"/>
<area shape="rect" href="class_generic_string_buffer.html#a80af78c43da93126a940a40d1889278a" title=" " alt="" coords="396,557,532,598"/>
<area shape="poly" title=" " alt="" coords="287,517,334,531,389,549,388,554,332,536,285,522"/>
<area shape="poly" title=" " alt="" coords="432,485,426,475,429,465,443,459,464,457,488,460,500,466,497,471,486,465,464,462,444,464,433,469,431,474,436,482"/>
<area shape="poly" title=" " alt="" coords="428,557,426,547,432,538,445,533,464,531,485,533,498,539,495,544,484,538,464,536,446,538,435,543,431,548,433,556"/>
<area shape="rect" href="struct_parse_result.html#a88b6d44f052a19e6436ae6aadc2c40b4" title="Reset error code." alt="" coords="398,622,530,648"/>
<area shape="poly" title=" " alt="" coords="294,627,383,630,382,635,294,632"/>
<area shape="rect" href="struct_parse_result.html#aa81b4a7b776b77216cb752385203a8c1" title="Update error code and offset." alt="" coords="595,622,717,648"/>
<area shape="poly" title=" " alt="" coords="531,632,580,632,580,638,531,638"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_428556e0652617aa37d2f7d8bcaf7fdf.html">libraries</a></li><li class="navelem"><a class="el" href="dir_71436f1774b2d89f0b80ac9efd482f1f.html">fc</a></li><li class="navelem"><a class="el" href="dir_1431050b0e4f5733824757857f181f14.html">include</a></li><li class="navelem"><a class="el" href="dir_1dc8e0864a43da844a3d20ee8b9a38bc.html">fc</a></li><li class="navelem"><a class="el" href="dir_0bc120e725ec51129fa80c7656a3cb04.html">crypto</a></li><li class="navelem"><a class="el" href="dir_8a7e0172b631c27128b695ca9b4a5723.html">webauthn_json</a></li><li class="navelem"><a class="el" href="dir_eabf336f91fa0abeb3483e79bd4d39e5.html">example</a></li><li class="navelem"><a class="el" href="dir_4424075a74e10331a18a2f4234a9b575.html">schemavalidator</a></li><li class="navelem"><a class="el" href="schemavalidator_8cpp.html">schemavalidator.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
