<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: chainbase::pinnable_mapped_file Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classchainbase_1_1pinnable__mapped__file.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classchainbase_1_1pinnable__mapped__file-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">chainbase::pinnable_mapped_file Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7fe6684b11f441d2e971fe65166d7d5f" id="r_a7fe6684b11f441d2e971fe65166d7d5f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5f">map_mode</a> { <a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">mapped</a>
, <a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27">heap</a>
, <a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8">locked</a>
 }</td></tr>
<tr class="separator:a7fe6684b11f441d2e971fe65166d7d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a550aa643b3bd7335e48afd94f1089d2b" id="r_a550aa643b3bd7335e48afd94f1089d2b"><td class="memItemLeft" align="right" valign="top">typedef bip::managed_mapped_file::segment_manager&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a></td></tr>
<tr class="separator:a550aa643b3bd7335e48afd94f1089d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3f5524555ffab24ef09cba1fea5908d" id="r_af3f5524555ffab24ef09cba1fea5908d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3f5524555ffab24ef09cba1fea5908d">pinnable_mapped_file</a> (const bfs::path &amp;dir, bool writable, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> shared_file_size, bool allow_dirty, <a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5f">map_mode</a> mode)</td></tr>
<tr class="separator:af3f5524555ffab24ef09cba1fea5908d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca214bb376d395b00705556f9c02f58" id="r_acca214bb376d395b00705556f9c02f58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acca214bb376d395b00705556f9c02f58">pinnable_mapped_file</a> (<a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&amp;o)</td></tr>
<tr class="separator:acca214bb376d395b00705556f9c02f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e9bfcddcf4ac57b613d07120d7fa8d" id="r_a66e9bfcddcf4ac57b613d07120d7fa8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66e9bfcddcf4ac57b613d07120d7fa8d">operator=</a> (<a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&amp;)</td></tr>
<tr class="separator:a66e9bfcddcf4ac57b613d07120d7fa8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e420dc6073d929ce68a9ef2ae75553" id="r_a79e420dc6073d929ce68a9ef2ae75553"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79e420dc6073d929ce68a9ef2ae75553">pinnable_mapped_file</a> (const <a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;)=delete</td></tr>
<tr class="separator:a79e420dc6073d929ce68a9ef2ae75553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71286aaf0728de4c44cfe909684c9579" id="r_a71286aaf0728de4c44cfe909684c9579"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71286aaf0728de4c44cfe909684c9579">operator=</a> (const <a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;)=delete</td></tr>
<tr class="separator:a71286aaf0728de4c44cfe909684c9579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa394bb719ec7f967b5479dfe98870b" id="r_afaa394bb719ec7f967b5479dfe98870b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afaa394bb719ec7f967b5479dfe98870b">~pinnable_mapped_file</a> ()</td></tr>
<tr class="separator:afaa394bb719ec7f967b5479dfe98870b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29dccb9bf52ef5c409fc1316fc99325a" id="r_a29dccb9bf52ef5c409fc1316fc99325a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29dccb9bf52ef5c409fc1316fc99325a">get_segment_manager</a> () const</td></tr>
<tr class="separator:a29dccb9bf52ef5c409fc1316fc99325a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8hpp_source.html#l00040">40</a> of file <a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a550aa643b3bd7335e48afd94f1089d2b" name="a550aa643b3bd7335e48afd94f1089d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a550aa643b3bd7335e48afd94f1089d2b">&#9670;&#160;</a></span>segment_manager</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bip::managed_mapped_file::segment_manager <a class="el" href="#a550aa643b3bd7335e48afd94f1089d2b">chainbase::pinnable_mapped_file::segment_manager</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8hpp_source.html#l00042">42</a> of file <a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a7fe6684b11f441d2e971fe65166d7d5f" name="a7fe6684b11f441d2e971fe65166d7d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe6684b11f441d2e971fe65166d7d5f">&#9670;&#160;</a></span>map_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5f">chainbase::pinnable_mapped_file::map_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7" name="a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7"></a>mapped&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27" name="a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27"></a>heap&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8" name="a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8"></a>locked&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8hpp_source.html#l00044">44</a> of file <a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>                    {</div>
<div class="line"><span class="lineno">   45</span>         <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">mapped</a>,</div>
<div class="line"><span class="lineno">   46</span>         <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27">heap</a>,</div>
<div class="line"><span class="lineno">   47</span>         <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8">locked</a></div>
<div class="line"><span class="lineno">   48</span>      };</div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7"><div class="ttname"><a href="#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">chainbase::pinnable_mapped_file::mapped</a></div><div class="ttdeci">@ mapped</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00045">pinnable_mapped_file.hpp:45</a></div></div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27"><div class="ttname"><a href="#a7fe6684b11f441d2e971fe65166d7d5fa79d37d9e763679dc5f43e08613760d27">chainbase::pinnable_mapped_file::heap</a></div><div class="ttdeci">@ heap</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00046">pinnable_mapped_file.hpp:46</a></div></div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8"><div class="ttname"><a href="#a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8">chainbase::pinnable_mapped_file::locked</a></div><div class="ttdeci">@ locked</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00048">pinnable_mapped_file.hpp:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af3f5524555ffab24ef09cba1fea5908d" name="af3f5524555ffab24ef09cba1fea5908d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f5524555ffab24ef09cba1fea5908d">&#9670;&#160;</a></span>pinnable_mapped_file() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chainbase::pinnable_mapped_file::pinnable_mapped_file </td>
          <td>(</td>
          <td class="paramtype">const bfs::path &amp;</td>          <td class="paramname"><span class="paramname"><em>dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>writable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>shared_file_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>allow_dirty</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a7fe6684b11f441d2e971fe65166d7d5f">map_mode</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8cpp_source.html#l00053">53</a> of file <a class="el" href="pinnable__mapped__file_8cpp_source.html">pinnable_mapped_file.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>                                                                                                                                        :</div>
<div class="line"><span class="lineno">   54</span>   _data_file_path(bfs::absolute(dir/<span class="stringliteral">&quot;shared_memory.bin&quot;</span>)),</div>
<div class="line"><span class="lineno">   55</span>   _database_name(dir.filename().string()),</div>
<div class="line"><span class="lineno">   56</span>   _writable(writable)</div>
<div class="line"><span class="lineno">   57</span>{</div>
<div class="line"><span class="lineno">   58</span>   <span class="keywordflow">if</span>(shared_file_size % _db_size_multiple_requirement) {</div>
<div class="line"><span class="lineno">   59</span>      std::string what_str(<span class="stringliteral">&quot;Database must be mulitple of &quot;</span> + std::to_string(_db_size_multiple_requirement) + <span class="stringliteral">&quot; bytes&quot;</span>);</div>
<div class="line"><span class="lineno">   60</span>      BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a879ce3cfde213e7781b0af14bc8f5882">db_error_code::bad_size</a>), what_str));</div>
<div class="line"><span class="lineno">   61</span>   }</div>
<div class="line"><span class="lineno">   62</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno">   63</span>   <span class="keywordflow">if</span>(mode != <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">mapped</a>)</div>
<div class="line"><span class="lineno">   64</span>      BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ad93329bc939212e26c7aa54ff55b9738">db_error_code::unsupported_win32_mode</a>)));</div>
<div class="line"><span class="lineno">   65</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   66</span>   <span class="keywordflow">if</span>(!_writable &amp;&amp; !bfs::exists(_data_file_path)){</div>
<div class="line"><span class="lineno">   67</span>      std::string what_str(<span class="stringliteral">&quot;database file not found at &quot;</span> + _data_file_path.string());</div>
<div class="line"><span class="lineno">   68</span>      BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a38fedd2f0ecf76dcc0d1757f8d45ab41">db_error_code::not_found</a>), what_str));</div>
<div class="line"><span class="lineno">   69</span>   }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>   bfs::create_directories(dir);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>   <span class="keywordflow">if</span>(bfs::exists(_data_file_path)) {</div>
<div class="line"><span class="lineno">   74</span>      <span class="keywordtype">char</span> header[<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>];</div>
<div class="line"><span class="lineno">   75</span>      std::ifstream hs(_data_file_path.generic_string(), std::ifstream::binary);</div>
<div class="line"><span class="lineno">   76</span>      hs.read(header, <a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>);</div>
<div class="line"><span class="lineno">   77</span>      <span class="keywordflow">if</span>(hs.fail())</div>
<div class="line"><span class="lineno">   78</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a337ee0b30f7db83f8837cbb7fb17e4c2">db_error_code::bad_header</a>)));</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>      db_header* dbheader = <span class="keyword">reinterpret_cast&lt;</span>db_header*<span class="keyword">&gt;</span>(header);</div>
<div class="line"><span class="lineno">   81</span>      <span class="keywordflow">if</span>(dbheader-&gt;id != <a class="code hl_variable" href="namespacechainbase.html#a390fbf5c3ed14d5389ea5ee4f92eb1b6">header_id</a>) {</div>
<div class="line"><span class="lineno">   82</span>         std::string what_str(<span class="stringliteral">&quot;\&quot;&quot;</span> + _database_name + <span class="stringliteral">&quot;\&quot; database format not compatible with this version of chainbase.&quot;</span>);</div>
<div class="line"><span class="lineno">   83</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a6bfa63b7b57c5c68e76f9f172d60146d">db_error_code::incorrect_db_version</a>), what_str));</div>
<div class="line"><span class="lineno">   84</span>      }</div>
<div class="line"><span class="lineno">   85</span>      <span class="keywordflow">if</span>(!allow_dirty &amp;&amp; dbheader-&gt;dirty) {</div>
<div class="line"><span class="lineno">   86</span>         std::string what_str(<span class="stringliteral">&quot;\&quot;&quot;</span> + _database_name + <span class="stringliteral">&quot;\&quot; database dirty flag set&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a8251c5ee6c4498d42adb2b1a0aa286af">db_error_code::dirty</a>)));</div>
<div class="line"><span class="lineno">   88</span>      }</div>
<div class="line"><span class="lineno">   89</span>      <span class="keywordflow">if</span>(dbheader-&gt;dbenviron != <a class="code hl_function" href="environment_8hpp.html#a962d8de627af2d0ded4f7f8ec45bd6b1">environment</a>()) {</div>
<div class="line"><span class="lineno">   90</span>         std::cerr &lt;&lt; <span class="stringliteral">&quot;CHAINBASE: \&quot;&quot;</span> &lt;&lt; _database_name &lt;&lt; <span class="stringliteral">&quot;\&quot; database was created with a chainbase from a different environment&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   91</span>         std::cerr &lt;&lt; <span class="stringliteral">&quot;Current compiler environment:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   92</span>         std::cerr &lt;&lt; <a class="code hl_function" href="environment_8hpp.html#a962d8de627af2d0ded4f7f8ec45bd6b1">environment</a>();</div>
<div class="line"><span class="lineno">   93</span>         std::cerr &lt;&lt; <span class="stringliteral">&quot;DB created with compiler environment:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   94</span>         std::cerr &lt;&lt; dbheader-&gt;dbenviron;</div>
<div class="line"><span class="lineno">   95</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a5930c2c995a1d73d95f81298c603a1f6">db_error_code::incompatible</a>)));</div>
<div class="line"><span class="lineno">   96</span>      }</div>
<div class="line"><span class="lineno">   97</span>   }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>   <a class="code hl_typedef" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a>* file_mapped_segment_manager = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  100</span>   <span class="keywordflow">if</span>(!bfs::exists(_data_file_path)) {</div>
<div class="line"><span class="lineno">  101</span>      std::ofstream ofs(_data_file_path.generic_string(), std::ofstream::trunc);</div>
<div class="line"><span class="lineno">  102</span>      <span class="comment">//win32 impl of bfs::resize_file() doesn&#39;t like the file being open</span></div>
<div class="line"><span class="lineno">  103</span>      ofs.close();</div>
<div class="line"><span class="lineno">  104</span>      bfs::resize_file(_data_file_path, shared_file_size);</div>
<div class="line"><span class="lineno">  105</span>      _file_mapping = bip::file_mapping(_data_file_path.generic_string().c_str(), bip::read_write);</div>
<div class="line"><span class="lineno">  106</span>      _file_mapped_region = bip::mapped_region(_file_mapping, bip::read_write);</div>
<div class="line"><span class="lineno">  107</span>      file_mapped_segment_manager = <span class="keyword">new</span> ((<span class="keywordtype">char</span>*)_file_mapped_region.get_address()+<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>) <a class="code hl_typedef" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a>(shared_file_size-<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>);</div>
<div class="line"><span class="lineno">  108</span>      <span class="keyword">new</span> (_file_mapped_region.get_address()) db_header;</div>
<div class="line"><span class="lineno">  109</span>   }</div>
<div class="line"><span class="lineno">  110</span>   <span class="keywordflow">else</span> <span class="keywordflow">if</span>(_writable) {</div>
<div class="line"><span class="lineno">  111</span>         <span class="keyword">auto</span> existing_file_size = bfs::file_size(_data_file_path);</div>
<div class="line"><span class="lineno">  112</span>         <span class="keywordtype">size_t</span> grow = 0;</div>
<div class="line"><span class="lineno">  113</span>         <span class="keywordflow">if</span>(shared_file_size &gt; existing_file_size) {</div>
<div class="line"><span class="lineno">  114</span>            grow = shared_file_size - existing_file_size;</div>
<div class="line"><span class="lineno">  115</span>            bfs::resize_file(_data_file_path, shared_file_size);</div>
<div class="line"><span class="lineno">  116</span>         }</div>
<div class="line"><span class="lineno">  117</span>         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(shared_file_size &lt; existing_file_size) {</div>
<div class="line"><span class="lineno">  118</span>             std::cerr &lt;&lt; <span class="stringliteral">&quot;CHAINBASE: \&quot;&quot;</span> &lt;&lt; _database_name &lt;&lt; <span class="stringliteral">&quot;\&quot; requested size of &quot;</span> &lt;&lt; shared_file_size &lt;&lt; <span class="stringliteral">&quot; is less than &quot;</span></div>
<div class="line"><span class="lineno">  119</span>                <span class="stringliteral">&quot;existing size of &quot;</span> &lt;&lt; existing_file_size &lt;&lt; <span class="stringliteral">&quot;. This database will not be shrunk and will &quot;</span></div>
<div class="line"><span class="lineno">  120</span>                <span class="stringliteral">&quot;remain at &quot;</span> &lt;&lt; existing_file_size &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  121</span>         }</div>
<div class="line"><span class="lineno">  122</span>         _file_mapping = bip::file_mapping(_data_file_path.generic_string().c_str(), bip::read_write);</div>
<div class="line"><span class="lineno">  123</span>         _file_mapped_region = bip::mapped_region(_file_mapping, bip::read_write);</div>
<div class="line"><span class="lineno">  124</span>         file_mapped_segment_manager = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a>*<span class="keyword">&gt;</span>((<span class="keywordtype">char</span>*)_file_mapped_region.get_address()+<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>);</div>
<div class="line"><span class="lineno">  125</span>         <span class="keywordflow">if</span>(grow)</div>
<div class="line"><span class="lineno">  126</span>            file_mapped_segment_manager-&gt;grow(grow);</div>
<div class="line"><span class="lineno">  127</span>   }</div>
<div class="line"><span class="lineno">  128</span>   <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  129</span>         _file_mapping = bip::file_mapping(_data_file_path.generic_string().c_str(), bip::read_only);</div>
<div class="line"><span class="lineno">  130</span>         _file_mapped_region = bip::mapped_region(_file_mapping, bip::read_only);</div>
<div class="line"><span class="lineno">  131</span>         file_mapped_segment_manager = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a>*<span class="keyword">&gt;</span>((<span class="keywordtype">char</span>*)_file_mapped_region.get_address()+<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>);</div>
<div class="line"><span class="lineno">  132</span>   }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>   <span class="keywordflow">if</span>(_writable) {</div>
<div class="line"><span class="lineno">  135</span>      <span class="comment">//remove meta file created in earlier versions</span></div>
<div class="line"><span class="lineno">  136</span>      boost::system::error_code ec;</div>
<div class="line"><span class="lineno">  137</span>      bfs::remove(bfs::absolute(dir/<span class="stringliteral">&quot;shared_memory.meta&quot;</span>), ec);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>      _mapped_file_lock = bip::file_lock(_data_file_path.generic_string().c_str());</div>
<div class="line"><span class="lineno">  140</span>      <span class="keywordflow">if</span>(!_mapped_file_lock.try_lock())</div>
<div class="line"><span class="lineno">  141</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ad55e98bcfae349c5f8896278142b755c">db_error_code::no_access</a>)));</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>      set_mapped_file_db_dirty(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  144</span>   }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>   <span class="keywordflow">if</span>(mode == <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">mapped</a>) {</div>
<div class="line"><span class="lineno">  147</span>      _segment_manager = file_mapped_segment_manager;</div>
<div class="line"><span class="lineno">  148</span>   }</div>
<div class="line"><span class="lineno">  149</span>   <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  150</span>      boost::asio::io_service sig_ios;</div>
<div class="line"><span class="lineno">  151</span>      boost::asio::signal_set sig_set(sig_ios, SIGINT, SIGTERM);</div>
<div class="line"><span class="lineno">  152</span><span class="preprocessor">#ifdef SIGPIPE</span></div>
<div class="line"><span class="lineno">  153</span>      sig_set.add(SIGPIPE);</div>
<div class="line"><span class="lineno">  154</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  155</span>      sig_set.async_wait([](<span class="keyword">const</span> boost::system::error_code&amp;, <span class="keywordtype">int</span>) {</div>
<div class="line"><span class="lineno">  156</span>         BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ac065ca1b36da471ff7499ebeed558fb6">db_error_code::aborted</a>)));</div>
<div class="line"><span class="lineno">  157</span>      });</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  160</span>         setup_non_file_mapping();</div>
<div class="line"><span class="lineno">  161</span>         load_database_file(sig_ios);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  164</span>         <span class="keywordflow">if</span>(mode == <a class="code hl_enumvalue" href="#a7fe6684b11f441d2e971fe65166d7d5fae7ae9465d4fba7a1863b28855ec055e8">locked</a>) {</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">if</span>(mlock(_non_file_mapped_mapping, _non_file_mapped_mapping_size)) {</div>
<div class="line"><span class="lineno">  166</span>               std::string what_str(<span class="stringliteral">&quot;Failed to mlock database \&quot;&quot;</span> + _database_name + <span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  167</span>               BOOST_THROW_EXCEPTION(std::system_error(<a class="code hl_function" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">make_error_code</a>(<a class="code hl_enumvalue" href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a4672b7d7aeb6cc7e8c973ef5e0fbc698">db_error_code::no_mlock</a>), what_str));</div>
<div class="line"><span class="lineno">  168</span>            }</div>
<div class="line"><span class="lineno">  169</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;CHAINBASE: Database \&quot;&quot;</span> &lt;&lt; _database_name &lt;&lt; <span class="stringliteral">&quot;\&quot; has been successfully locked in memory&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  170</span>         }</div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>         _file_mapped_region = bip::mapped_region();</div>
<div class="line"><span class="lineno">  174</span>      }</div>
<div class="line"><span class="lineno">  175</span>      <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><span class="lineno">  176</span>         <span class="keywordflow">if</span>(_writable)</div>
<div class="line"><span class="lineno">  177</span>            set_mapped_file_db_dirty(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  178</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  179</span>      }</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>      _segment_manager = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a>*<span class="keyword">&gt;</span>((<span class="keywordtype">char</span>*)_non_file_mapped_mapping+<a class="code hl_variable" href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">header_size</a>);</div>
<div class="line"><span class="lineno">  182</span>   }</div>
<div class="line"><span class="lineno">  183</span>}</div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a550aa643b3bd7335e48afd94f1089d2b"><div class="ttname"><a href="#a550aa643b3bd7335e48afd94f1089d2b">chainbase::pinnable_mapped_file::segment_manager</a></div><div class="ttdeci">bip::managed_mapped_file::segment_manager segment_manager</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00042">pinnable_mapped_file.hpp:42</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a962d8de627af2d0ded4f7f8ec45bd6b1"><div class="ttname"><a href="environment_8hpp.html#a962d8de627af2d0ded4f7f8ec45bd6b1">environment</a></div><div class="ttdeci">environment()</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00000">environment.hpp:0</a></div></div>
<div class="ttc" id="anamespacechainbase_html_a0e543f894d75318b5f34a661e9b6b7c8"><div class="ttname"><a href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8">chainbase::make_error_code</a></div><div class="ttdeci">std::error_code make_error_code(db_error_code e) noexcept</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00030">pinnable_mapped_file.hpp:30</a></div></div>
<div class="ttc" id="anamespacechainbase_html_a3553db3334a3279bf83b5951ab9be322"><div class="ttname"><a href="namespacechainbase.html#a3553db3334a3279bf83b5951ab9be322">chainbase::header_size</a></div><div class="ttdeci">constexpr size_t header_size</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00007">environment.hpp:7</a></div></div>
<div class="ttc" id="anamespacechainbase_html_a390fbf5c3ed14d5389ea5ee4f92eb1b6"><div class="ttname"><a href="namespacechainbase.html#a390fbf5c3ed14d5389ea5ee4f92eb1b6">chainbase::header_id</a></div><div class="ttdeci">constexpr uint64_t header_id</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00008">environment.hpp:8</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a337ee0b30f7db83f8837cbb7fb17e4c2"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a337ee0b30f7db83f8837cbb7fb17e4c2">chainbase::bad_header</a></div><div class="ttdeci">@ bad_header</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00022">pinnable_mapped_file.hpp:22</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a38fedd2f0ecf76dcc0d1757f8d45ab41"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a38fedd2f0ecf76dcc0d1757f8d45ab41">chainbase::not_found</a></div><div class="ttdeci">@ not_found</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00019">pinnable_mapped_file.hpp:19</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a4672b7d7aeb6cc7e8c973ef5e0fbc698"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a4672b7d7aeb6cc7e8c973ef5e0fbc698">chainbase::no_mlock</a></div><div class="ttdeci">@ no_mlock</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00026">pinnable_mapped_file.hpp:25</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a5930c2c995a1d73d95f81298c603a1f6"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a5930c2c995a1d73d95f81298c603a1f6">chainbase::incompatible</a></div><div class="ttdeci">@ incompatible</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00017">pinnable_mapped_file.hpp:17</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a6bfa63b7b57c5c68e76f9f172d60146d"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a6bfa63b7b57c5c68e76f9f172d60146d">chainbase::incorrect_db_version</a></div><div class="ttdeci">@ incorrect_db_version</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00018">pinnable_mapped_file.hpp:18</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a8251c5ee6c4498d42adb2b1a0aa286af"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a8251c5ee6c4498d42adb2b1a0aa286af">chainbase::dirty</a></div><div class="ttdeci">@ dirty</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00016">pinnable_mapped_file.hpp:16</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3a879ce3cfde213e7781b0af14bc8f5882"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3a879ce3cfde213e7781b0af14bc8f5882">chainbase::bad_size</a></div><div class="ttdeci">@ bad_size</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00020">pinnable_mapped_file.hpp:20</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3ac065ca1b36da471ff7499ebeed558fb6"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ac065ca1b36da471ff7499ebeed558fb6">chainbase::aborted</a></div><div class="ttdeci">@ aborted</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00024">pinnable_mapped_file.hpp:24</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3ad55e98bcfae349c5f8896278142b755c"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ad55e98bcfae349c5f8896278142b755c">chainbase::no_access</a></div><div class="ttdeci">@ no_access</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00023">pinnable_mapped_file.hpp:23</a></div></div>
<div class="ttc" id="anamespacechainbase_html_abb4bd31323d8b6ab74b536e87de8aca3ad93329bc939212e26c7aa54ff55b9738"><div class="ttname"><a href="namespacechainbase.html#abb4bd31323d8b6ab74b536e87de8aca3ad93329bc939212e26c7aa54ff55b9738">chainbase::unsupported_win32_mode</a></div><div class="ttdeci">@ unsupported_win32_mode</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00021">pinnable_mapped_file.hpp:21</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classchainbase_1_1pinnable__mapped__file_af3f5524555ffab24ef09cba1fea5908d_cgraph.png" border="0" usemap="#aclasschainbase_1_1pinnable__mapped__file_af3f5524555ffab24ef09cba1fea5908d_cgraph" alt=""/></div>
<map name="aclasschainbase_1_1pinnable__mapped__file_af3f5524555ffab24ef09cba1fea5908d_cgraph" id="aclasschainbase_1_1pinnable__mapped__file_af3f5524555ffab24ef09cba1fea5908d_cgraph">
<area shape="rect" title=" " alt="" coords="5,16,160,71"/>
<area shape="rect" href="environment_8hpp.html#a962d8de627af2d0ded4f7f8ec45bd6b1" title=" " alt="" coords="256,5,348,31"/>
<area shape="poly" title=" " alt="" coords="160,32,240,23,240,28,161,37"/>
<area shape="rect" href="namespacechainbase.html#a0e543f894d75318b5f34a661e9b6b7c8" title=" " alt="" coords="208,55,396,80"/>
<area shape="poly" title=" " alt="" coords="161,49,192,53,192,58,160,55"/>
<area shape="rect" href="namespacechainbase.html#ae09d7fc4436a627f73b16fde609ddb91" title=" " alt="" coords="444,47,591,88"/>
<area shape="poly" title=" " alt="" coords="397,65,428,65,428,70,397,70"/>
</map>
</div>

</div>
</div>
<a id="acca214bb376d395b00705556f9c02f58" name="acca214bb376d395b00705556f9c02f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca214bb376d395b00705556f9c02f58">&#9670;&#160;</a></span>pinnable_mapped_file() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chainbase::pinnable_mapped_file::pinnable_mapped_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>o</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8cpp_source.html#l00284">284</a> of file <a class="el" href="pinnable__mapped__file_8cpp_source.html">pinnable_mapped_file.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  284</span>                                                                   :</div>
<div class="line"><span class="lineno">  285</span>   _mapped_file_lock(std::move(o._mapped_file_lock)),</div>
<div class="line"><span class="lineno">  286</span>   _data_file_path(std::move(o._data_file_path)),</div>
<div class="line"><span class="lineno">  287</span>   _database_name(std::move(o._database_name)),</div>
<div class="line"><span class="lineno">  288</span>   _file_mapped_region(std::move(o._file_mapped_region))</div>
<div class="line"><span class="lineno">  289</span>{</div>
<div class="line"><span class="lineno">  290</span>   _segment_manager = o._segment_manager;</div>
<div class="line"><span class="lineno">  291</span>   _writable = o._writable;</div>
<div class="line"><span class="lineno">  292</span>   _non_file_mapped_mapping = o._non_file_mapped_mapping;</div>
<div class="line"><span class="lineno">  293</span>   o._non_file_mapped_mapping = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  294</span>   o._writable = <span class="keyword">false</span>; <span class="comment">//prevent dtor from doing anything interesting</span></div>
<div class="line"><span class="lineno">  295</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79e420dc6073d929ce68a9ef2ae75553" name="a79e420dc6073d929ce68a9ef2ae75553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e420dc6073d929ce68a9ef2ae75553">&#9670;&#160;</a></span>pinnable_mapped_file() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">chainbase::pinnable_mapped_file::pinnable_mapped_file </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afaa394bb719ec7f967b5479dfe98870b" name="afaa394bb719ec7f967b5479dfe98870b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaa394bb719ec7f967b5479dfe98870b">&#9670;&#160;</a></span>~pinnable_mapped_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chainbase::pinnable_mapped_file::~pinnable_mapped_file </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8cpp_source.html#l00310">310</a> of file <a class="el" href="pinnable__mapped__file_8cpp_source.html">pinnable_mapped_file.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>                                            {</div>
<div class="line"><span class="lineno">  311</span>   <span class="keywordflow">if</span>(_writable) {</div>
<div class="line"><span class="lineno">  312</span>      <span class="keywordflow">if</span>(_non_file_mapped_mapping) { <span class="comment">//in heap or locked mode</span></div>
<div class="line"><span class="lineno">  313</span>         _file_mapped_region = bip::mapped_region(_file_mapping, bip::read_write);</div>
<div class="line"><span class="lineno">  314</span>         save_database_file();</div>
<div class="line"><span class="lineno">  315</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  316</span>         <span class="keywordflow">if</span>(munmap(_non_file_mapped_mapping, _non_file_mapped_mapping_size))</div>
<div class="line"><span class="lineno">  317</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;CHAINBASE: ERROR: unmapping failed: &quot;</span> &lt;&lt; strerror(errno) &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  318</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  319</span>      }</div>
<div class="line"><span class="lineno">  320</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  321</span>         <span class="keywordflow">if</span>(_file_mapped_region.flush(0, 0, <span class="keyword">false</span>) == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  322</span>            std::cerr &lt;&lt; <span class="stringliteral">&quot;CHAINBASE: ERROR: syncing buffers failed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  323</span>      set_mapped_file_db_dirty(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  324</span>   }</div>
<div class="line"><span class="lineno">  325</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a29dccb9bf52ef5c409fc1316fc99325a" name="a29dccb9bf52ef5c409fc1316fc99325a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29dccb9bf52ef5c409fc1316fc99325a">&#9670;&#160;</a></span>get_segment_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a550aa643b3bd7335e48afd94f1089d2b">segment_manager</a> * chainbase::pinnable_mapped_file::get_segment_manager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8hpp_source.html#l00057">57</a> of file <a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{ <span class="keywordflow">return</span> _segment_manager;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classchainbase_1_1pinnable__mapped__file_a29dccb9bf52ef5c409fc1316fc99325a_icgraph.png" border="0" usemap="#aclasschainbase_1_1pinnable__mapped__file_a29dccb9bf52ef5c409fc1316fc99325a_icgraph" alt=""/></div>
<map name="aclasschainbase_1_1pinnable__mapped__file_a29dccb9bf52ef5c409fc1316fc99325a_icgraph" id="aclasschainbase_1_1pinnable__mapped__file_a29dccb9bf52ef5c409fc1316fc99325a_icgraph">
<area shape="rect" title=" " alt="" coords="1874,648,2055,704"/>
<area shape="rect" href="classchainbase_1_1database.html#a43a85f8b7d728b69dbf7a9d69c9ebc1c" title=" " alt="" coords="1675,531,1816,571"/>
<area shape="poly" title=" " alt="" coords="1900,643,1781,574,1784,570,1902,638"/>
<area shape="rect" href="classchainbase_1_1database.html#a63a87fe56634ee1e93511a894b98e40d" title=" " alt="" coords="1675,623,1816,663"/>
<area shape="poly" title=" " alt="" coords="1859,663,1816,656,1817,651,1859,658"/>
<area shape="rect" href="classchainbase_1_1database.html#a64133afb9e0ae374eeab86bd1d4db08b" title=" " alt="" coords="1665,688,1826,729"/>
<area shape="poly" title=" " alt="" coords="1859,694,1827,699,1826,694,1859,689"/>
<area shape="rect" href="classchainbase_1_1database.html#a50525f9d37dd23fb33307990aa839e06" title=" " alt="" coords="1665,753,1826,794"/>
<area shape="poly" title=" " alt="" coords="1892,713,1827,743,1798,755,1796,750,1825,738,1889,709"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__set_3_01_index_01_4.html#a9343bd54a796aed207082c067c3bb5a0" title=" " alt="" coords="1429,447,1608,487"/>
<area shape="poly" title=" " alt="" coords="1681,527,1616,501,1584,490,1586,485,1618,497,1683,522"/>
<area shape="rect" href="test_8cpp.html#a17ad3362b7befd62662dc155abc23919" title=" " alt="" coords="1420,512,1617,537"/>
<area shape="poly" title=" " alt="" coords="1659,544,1617,539,1617,533,1659,538"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1fba60b779aae78110279aeda9aae351" title=" " alt="" coords="1429,561,1608,602"/>
<area shape="poly" title=" " alt="" coords="1660,565,1608,572,1608,567,1659,560"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#af7edc9d3783d21f8f736cf864482bdea" title=" " alt="" coords="1208,397,1343,438"/>
<area shape="poly" title=" " alt="" coords="1428,557,1419,552,1381,526,1345,495,1292,440,1296,437,1349,491,1384,521,1422,547,1430,552"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca" title=" " alt="" coords="1209,561,1341,602"/>
<area shape="poly" title=" " alt="" coords="1414,584,1342,584,1342,579,1414,579"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a3fad525eaa1221febd10c786e9dbaaf0" title=" " alt="" coords="980,5,1115,46"/>
<area shape="poly" title=" " alt="" coords="1266,382,1253,315,1227,230,1209,184,1187,140,1160,98,1128,61,1112,49,1116,44,1132,57,1164,95,1191,137,1214,182,1232,228,1258,314,1272,381"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a4bc45ee8335f6a9c99bfb044b07f7719" title=" " alt="" coords="980,71,1115,111"/>
<area shape="poly" title=" " alt="" coords="1263,383,1246,327,1218,259,1179,188,1155,156,1128,126,1111,114,1114,110,1132,122,1160,152,1184,185,1223,257,1251,326,1268,381"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a1cbd6f5fc5407a94f5f7b811559cd4f8" title=" " alt="" coords="980,136,1115,177"/>
<area shape="poly" title=" " alt="" coords="1258,384,1237,341,1209,289,1172,237,1128,192,1110,179,1113,175,1132,188,1176,234,1213,287,1242,338,1262,382"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a95257d0bdd37cb42fc3165ea1da98b93" title=" " alt="" coords="980,201,1115,242"/>
<area shape="poly" title=" " alt="" coords="1250,386,1198,322,1165,287,1128,257,1107,245,1110,240,1132,253,1169,283,1202,318,1254,383"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a934fa5023a748e09f2396f0e15717024" title=" " alt="" coords="980,267,1115,307"/>
<area shape="poly" title=" " alt="" coords="1233,390,1184,356,1129,323,1103,310,1105,305,1131,318,1187,352,1236,386"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a096f06629ea18d76bab94b524b056fa2" title=" " alt="" coords="980,332,1115,373"/>
<area shape="poly" title=" " alt="" coords="1192,397,1115,374,1116,369,1193,391"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#ae6248366957999d23ec595271f91ba5e" title=" " alt="" coords="980,397,1115,438"/>
<area shape="poly" title=" " alt="" coords="1192,420,1115,420,1115,415,1192,415"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#ae1a7cc9d4def2eb719d95680e5da6e43" title=" " alt="" coords="980,463,1115,503"/>
<area shape="poly" title=" " alt="" coords="1193,444,1116,466,1115,461,1192,439"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#aec628f7d49e3600f9863554c5d7c9036" title=" " alt="" coords="980,528,1115,569"/>
<area shape="poly" title=" " alt="" coords="1236,450,1187,484,1131,517,1105,530,1103,525,1129,513,1184,479,1233,445"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a3eb533660c9e2e024d5dfb3f72a9f884" title=" " alt="" coords="980,593,1115,634"/>
<area shape="poly" title=" " alt="" coords="1254,452,1202,517,1169,552,1132,583,1110,595,1107,591,1128,578,1165,548,1198,514,1250,449"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#aa94514bfa2c9891911d4bf3d03da3cc8" title=" " alt="" coords="980,659,1115,699"/>
<area shape="poly" title=" " alt="" coords="1250,452,1216,498,1180,551,1167,578,1160,602,1151,624,1132,648,1114,660,1111,656,1128,644,1146,621,1155,600,1162,576,1176,548,1211,495,1246,449"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#abc8727b39ac2db73bed6613f22307daf" title=" " alt="" coords="980,724,1115,765"/>
<area shape="poly" title=" " alt="" coords="1248,452,1213,497,1180,551,1171,574,1166,596,1163,635,1157,673,1147,692,1132,713,1117,725,1113,721,1128,709,1143,690,1151,671,1158,634,1161,595,1166,573,1176,548,1208,494,1243,449"/>
<area shape="rect" href="grow__shrink_8cpp.html#a035ef6e4811c03e6a0770283b0d3ef7a" title=" " alt="" coords="1422,630,1615,656"/>
<area shape="poly" title=" " alt="" coords="1659,646,1615,646,1615,640,1659,640"/>
<area shape="rect" href="classsysio_1_1db__size__api__plugin.html#a0eebb0648f8aae6c451a320dbe24143c" title=" " alt="" coords="1454,688,1583,729"/>
<area shape="poly" title=" " alt="" coords="1649,711,1584,711,1584,706,1649,706"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7b2f18a21e18a1bdc6837a567bb259eb" title=" " alt="" coords="1426,920,1611,961"/>
<area shape="poly" title=" " alt="" coords="1673,739,1666,744,1621,787,1583,836,1553,883,1532,921,1528,918,1548,881,1579,833,1617,784,1663,740,1670,734"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a16975bb6b23c3e9ffaf7590006e81439" title=" " alt="" coords="1199,724,1351,765"/>
<area shape="poly" title=" " alt="" coords="1494,909,1442,844,1408,810,1371,780,1348,768,1351,763,1374,775,1412,806,1446,840,1498,906"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a90ac1d5081d727041b7bef384771fda9" title=" " alt="" coords="1199,789,1351,830"/>
<area shape="poly" title=" " alt="" coords="1477,913,1428,878,1371,845,1343,833,1345,828,1374,841,1431,874,1480,908"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a35b9a3485ef36e6456483f4307e9ad53" title=" " alt="" coords="1199,855,1351,895"/>
<area shape="poly" title=" " alt="" coords="1425,918,1351,898,1352,893,1426,913"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aade04f20db1bea1fbc9aa22a90cf87c0" title=" " alt="" coords="1178,920,1372,961"/>
<area shape="poly" title=" " alt="" coords="1411,943,1373,943,1373,938,1411,938"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a31c23187243554bdb6b54bb31bdb4bcd" title=" " alt="" coords="1199,985,1351,1026"/>
<area shape="poly" title=" " alt="" coords="1426,968,1352,988,1351,983,1425,963"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="1191,1051,1359,1091"/>
<area shape="poly" title=" " alt="" coords="1480,972,1431,1007,1374,1040,1345,1052,1343,1048,1371,1035,1428,1002,1477,968"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ad1d4d35a6c82209259dd126a886477e4" title=" " alt="" coords="1199,1116,1351,1157"/>
<area shape="poly" title=" " alt="" coords="1498,975,1446,1040,1412,1075,1374,1105,1351,1118,1348,1113,1371,1101,1408,1071,1442,1037,1494,972"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#afe40d1beedb5ec60de7e8d6575ba68ee" title=" " alt="" coords="742,1147,894,1187"/>
<area shape="poly" title=" " alt="" coords="1509,977,1491,1023,1463,1078,1424,1130,1401,1152,1374,1171,1313,1197,1248,1214,1182,1222,1115,1223,1051,1219,991,1211,890,1191,892,1185,992,1206,1052,1214,1116,1218,1181,1216,1247,1208,1311,1192,1371,1166,1397,1148,1421,1127,1459,1075,1486,1021,1504,975"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a336a35581aedb4308f8fc7f4eb44f152" title=" " alt="" coords="972,789,1123,830"/>
<area shape="poly" title=" " alt="" coords="1188,772,1122,791,1120,786,1187,767"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a230c88a6ed7efbc3588a043fe4915bd9" title=" " alt="" coords="14,797,205,838"/>
<area shape="poly" title=" " alt="" coords="956,813,205,820,205,814,956,808"/>
<area shape="poly" title=" " alt="" coords="1184,812,1123,812,1123,807,1184,807"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a2347f0637a0b2f1b2a16851aa4c3ef12" title=" " alt="" coords="965,911,1130,967"/>
<area shape="poly" title=" " alt="" coords="1188,983,1130,966,1131,961,1190,978"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a7de28b674848c3de56118793193d3b49" title=" " alt="" coords="719,991,917,1031"/>
<area shape="poly" title=" " alt="" coords="1184,1009,917,1013,917,1007,1184,1004"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a708986322e03db824e4bad41ca213260" title=" " alt="" coords="721,847,915,887"/>
<area shape="poly" title=" " alt="" coords="949,911,885,891,886,885,951,906"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#af3690d3cd99a828ada60fcf3decad39b" title=" " alt="" coords="732,911,904,967"/>
<area shape="poly" title=" " alt="" coords="949,942,904,942,904,936,949,936"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a7db63178eda240d671fc6ae4e46bf01e" title=" " alt="" coords="520,919,671,959"/>
<area shape="poly" title=" " alt="" coords="740,895,662,921,660,916,738,890"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#ad8895b72aaf8928b54665684ffdb9405" title=" " alt="" coords="262,887,472,927"/>
<area shape="poly" title=" " alt="" coords="504,929,472,924,473,919,505,924"/>
<area shape="poly" title=" " alt="" coords="291,884,170,841,171,836,292,879"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a9ce89d0c80f40aeb7df69c5a49beff5a" title=" " alt="" coords="24,879,195,919"/>
<area shape="poly" title=" " alt="" coords="246,906,195,904,196,899,246,901"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#ab57089953b20f4eac5adc247b73040ec" title=" " alt="" coords="5,944,214,985"/>
<area shape="poly" title=" " alt="" coords="258,934,205,946,203,941,257,929"/>
<area shape="poly" title=" " alt="" coords="717,942,672,942,672,936,717,936"/>
<area shape="poly" title=" " alt="" coords="738,988,660,962,662,957,740,983"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="971,1053,1124,1094"/>
<area shape="poly" title=" " alt="" coords="1176,1075,1124,1075,1124,1070,1176,1069"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="742,1056,894,1097"/>
<area shape="poly" title=" " alt="" coords="955,1077,895,1078,894,1073,955,1072"/>
<area shape="poly" title=" " alt="" coords="759,1141,718,1110,682,1072,650,1031,606,961,611,958,655,1028,686,1069,721,1106,762,1136"/>
</map>
</div>

</div>
</div>
<a id="a71286aaf0728de4c44cfe909684c9579" name="a71286aaf0728de4c44cfe909684c9579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71286aaf0728de4c44cfe909684c9579">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp; chainbase::pinnable_mapped_file::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a66e9bfcddcf4ac57b613d07120d7fa8d" name="a66e9bfcddcf4ac57b613d07120d7fa8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e9bfcddcf4ac57b613d07120d7fa8d">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp; chainbase::pinnable_mapped_file::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>o</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="pinnable__mapped__file_8cpp_source.html#l00297">297</a> of file <a class="el" href="pinnable__mapped__file_8cpp_source.html">pinnable_mapped_file.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  297</span>                                                                              {</div>
<div class="line"><span class="lineno">  298</span>   _mapped_file_lock = std::move(o._mapped_file_lock);</div>
<div class="line"><span class="lineno">  299</span>   _data_file_path = std::move(o._data_file_path);</div>
<div class="line"><span class="lineno">  300</span>   _database_name = std::move(o._database_name);</div>
<div class="line"><span class="lineno">  301</span>   _file_mapped_region = std::move(o._file_mapped_region);</div>
<div class="line"><span class="lineno">  302</span>   _non_file_mapped_mapping = o._non_file_mapped_mapping;</div>
<div class="line"><span class="lineno">  303</span>   o._non_file_mapped_mapping = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  304</span>   _segment_manager = o._segment_manager;</div>
<div class="line"><span class="lineno">  305</span>   _writable = o._writable;</div>
<div class="line"><span class="lineno">  306</span>   o._writable = <span class="keyword">false</span>; <span class="comment">//prevent dtor from doing anything interesting</span></div>
<div class="line"><span class="lineno">  307</span>   <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  308</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/chainbase/include/chainbase/<a class="el" href="pinnable__mapped__file_8hpp_source.html">pinnable_mapped_file.hpp</a></li>
<li>libraries/chainbase/src/<a class="el" href="pinnable__mapped__file_8cpp_source.html">pinnable_mapped_file.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacechainbase.html">chainbase</a></li><li class="navelem"><a class="el" href="classchainbase_1_1pinnable__mapped__file.html">pinnable_mapped_file</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
