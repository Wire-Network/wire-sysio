<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::authorization_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1chain_1_1authorization__manager.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classsysio_1_1chain_1_1authorization__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::authorization_manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="authorization__manager_8hpp_source.html">authorization_manager.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:add79267df1f466480b18703845327a78" id="r_add79267df1f466480b18703845327a78"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add79267df1f466480b18703845327a78">permission_id_type</a> = <a class="el" href="structchainbase_1_1object.html#a7c6a0efb95ee67d538a976cfa5be9df9">permission_object::id_type</a></td></tr>
<tr class="separator:add79267df1f466480b18703845327a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a00571cdbafaf86b7de83655d89229280" id="r_a00571cdbafaf86b7de83655d89229280"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00571cdbafaf86b7de83655d89229280">authorization_manager</a> (<a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a> &amp;c, <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;d)</td></tr>
<tr class="separator:a00571cdbafaf86b7de83655d89229280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a112c1fae696fe6f53103076e9afa5a16" id="r_a112c1fae696fe6f53103076e9afa5a16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a112c1fae696fe6f53103076e9afa5a16">add_indices</a> ()</td></tr>
<tr class="separator:a112c1fae696fe6f53103076e9afa5a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cfd5f70c12c10a9939e7bf6b3a52e4" id="r_a27cfd5f70c12c10a9939e7bf6b3a52e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27cfd5f70c12c10a9939e7bf6b3a52e4">initialize_database</a> ()</td></tr>
<tr class="separator:a27cfd5f70c12c10a9939e7bf6b3a52e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e23281d4ccfdddcc761c83e14a4080" id="r_a24e23281d4ccfdddcc761c83e14a4080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24e23281d4ccfdddcc761c83e14a4080">add_to_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;snapshot) const</td></tr>
<tr class="separator:a24e23281d4ccfdddcc761c83e14a4080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4d84d47bcd9069ab0c8d8f9f9ac5f3" id="r_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3">read_from_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;snapshot)</td></tr>
<tr class="separator:a7a4d84d47bcd9069ab0c8d8f9f9ac5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac57733c5aa05c1c78a023a80b2f447f" id="r_aac57733c5aa05c1c78a023a80b2f447f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac57733c5aa05c1c78a023a80b2f447f">create_permission</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> account, <a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a> <a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="#add79267df1f466480b18703845327a78">permission_id_type</a> parent, const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;auth, <a class="el" href="classfc_1_1time__point.html">time_point</a> initial_creation_time=<a class="el" href="classfc_1_1time__point.html">time_point</a>())</td></tr>
<tr class="separator:aac57733c5aa05c1c78a023a80b2f447f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258e0daa2cd72440bfe34a2aa92c9104" id="r_a258e0daa2cd72440bfe34a2aa92c9104"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a258e0daa2cd72440bfe34a2aa92c9104">create_permission</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> account, <a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a> <a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="#add79267df1f466480b18703845327a78">permission_id_type</a> parent, <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;&amp;auth, <a class="el" href="classfc_1_1time__point.html">time_point</a> initial_creation_time=<a class="el" href="classfc_1_1time__point.html">time_point</a>())</td></tr>
<tr class="separator:a258e0daa2cd72440bfe34a2aa92c9104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf01ddda4cd475bf2530ad1d28c72dfb" id="r_abf01ddda4cd475bf2530ad1d28c72dfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf01ddda4cd475bf2530ad1d28c72dfb">modify_permission</a> (const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;permission, const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;auth)</td></tr>
<tr class="separator:abf01ddda4cd475bf2530ad1d28c72dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c889c94c63b7c53a5b4919738d6166b" id="r_a9c889c94c63b7c53a5b4919738d6166b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c889c94c63b7c53a5b4919738d6166b">remove_permission</a> (const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;permission)</td></tr>
<tr class="separator:a9c889c94c63b7c53a5b4919738d6166b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6755c0b39298b2933eb4e74649a36442" id="r_a6755c0b39298b2933eb4e74649a36442"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6755c0b39298b2933eb4e74649a36442">update_permission_usage</a> (const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;permission)</td></tr>
<tr class="separator:a6755c0b39298b2933eb4e74649a36442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0909c7f81928fd8ffc4269861d12ad3f" id="r_a0909c7f81928fd8ffc4269861d12ad3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0909c7f81928fd8ffc4269861d12ad3f">get_permission_last_used</a> (const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;permission) const</td></tr>
<tr class="separator:a0909c7f81928fd8ffc4269861d12ad3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0acfec50b75044030d082d1aa3fbf5c" id="r_ab0acfec50b75044030d082d1aa3fbf5c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0acfec50b75044030d082d1aa3fbf5c">find_permission</a> (const <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &amp;level) const</td></tr>
<tr class="separator:ab0acfec50b75044030d082d1aa3fbf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96924f6aca32a602e24d991d12278a69" id="r_a96924f6aca32a602e24d991d12278a69"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a> (const <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &amp;level) const</td></tr>
<tr class="separator:a96924f6aca32a602e24d991d12278a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6193726fcf21c9b75f460696a67b6839" id="r_a6193726fcf21c9b75f460696a67b6839"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6193726fcf21c9b75f460696a67b6839">lookup_minimum_permission</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> authorizer_account, <a class="el" href="namespacesysio_1_1chain.html#a58379f7b40727cd3645e0f5a9b24e653">scope_name</a> code_account, <a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a> type) const</td></tr>
<tr class="memdesc:a6193726fcf21c9b75f460696a67b6839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the lowest authority level required for authorizer_account to authorize a message of the specified type.  <br /></td></tr>
<tr class="separator:a6193726fcf21c9b75f460696a67b6839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8566f4407e33eb1e4029455e4feae2f1" id="r_a8566f4407e33eb1e4029455e4feae2f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8566f4407e33eb1e4029455e4feae2f1">check_authorization</a> (const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="structsysio_1_1chain_1_1action.html">action</a> &gt; &amp;actions, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;provided_keys, const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;provided_permissions=flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt;(), <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> provided_delay=<a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0), const std::function&lt; void()&gt; &amp;checktime=std::function&lt; void()&gt;(), bool allow_unused_keys=false, bool check_but_dont_fail=false, const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;satisfied_authorizations=flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt;()) const</td></tr>
<tr class="memdesc:a8566f4407e33eb1e4029455e4feae2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check authorizations of a vector of actions with provided keys, permission levels, and delay.  <br /></td></tr>
<tr class="separator:a8566f4407e33eb1e4029455e4feae2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6cf6c813f4a578fddc10cf24aa396a" id="r_a9f6cf6c813f4a578fddc10cf24aa396a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f6cf6c813f4a578fddc10cf24aa396a">check_authorization</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> account, <a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a> permission, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;provided_keys, const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;provided_permissions=flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt;(), <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> provided_delay=<a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0), const std::function&lt; void()&gt; &amp;checktime=std::function&lt; void()&gt;(), bool allow_unused_keys=false) const</td></tr>
<tr class="memdesc:a9f6cf6c813f4a578fddc10cf24aa396a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check authorizations of a permission with provided keys, permission levels, and delay.  <br /></td></tr>
<tr class="separator:a9f6cf6c813f4a578fddc10cf24aa396a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e69cb344bd39871d1c92993a491e95" id="r_ac1e69cb344bd39871d1c92993a491e95"><td class="memItemLeft" align="right" valign="top">flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1e69cb344bd39871d1c92993a491e95">get_required_keys</a> (const <a class="el" href="structsysio_1_1chain_1_1transaction.html">transaction</a> &amp;trx, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;candidate_keys, <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> provided_delay=<a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0)) const</td></tr>
<tr class="separator:ac1e69cb344bd39871d1c92993a491e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a1e4aa0f280bcaa3057bc2970063f74b8" id="r_a1e4aa0f280bcaa3057bc2970063f74b8"><td class="memItemLeft" align="right" valign="top">static std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e4aa0f280bcaa3057bc2970063f74b8">_noop_checktime</a> {&amp;<a class="el" href="namespacesysio_1_1chain.html#a057ec53a1f8d23b2fb89de6c19b41c32">noop_checktime</a>}</td></tr>
<tr class="separator:a1e4aa0f280bcaa3057bc2970063f74b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="authorization__manager_8hpp_source.html#l00019">19</a> of file <a class="el" href="authorization__manager_8hpp_source.html">authorization_manager.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="add79267df1f466480b18703845327a78" name="add79267df1f466480b18703845327a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add79267df1f466480b18703845327a78">&#9670;&#160;</a></span>permission_id_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#add79267df1f466480b18703845327a78">sysio::chain::authorization_manager::permission_id_type</a> = <a class="el" href="structchainbase_1_1object.html#a7c6a0efb95ee67d538a976cfa5be9df9">permission_object::id_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8hpp_source.html#l00021">21</a> of file <a class="el" href="authorization__manager_8hpp_source.html">authorization_manager.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a00571cdbafaf86b7de83655d89229280" name="a00571cdbafaf86b7de83655d89229280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00571cdbafaf86b7de83655d89229280">&#9670;&#160;</a></span>authorization_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::authorization_manager::authorization_manager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00024">24</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>   :_control(c),_db(d){}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a112c1fae696fe6f53103076e9afa5a16" name="a112c1fae696fe6f53103076e9afa5a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a112c1fae696fe6f53103076e9afa5a16">&#9670;&#160;</a></span>add_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::add_indices </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00027">27</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>                                           {</div>
<div class="line"><span class="lineno">   28</span>      authorization_index_set::add_indices(_db);</div>
<div class="line"><span class="lineno">   29</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a112c1fae696fe6f53103076e9afa5a16_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a112c1fae696fe6f53103076e9afa5a16_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a112c1fae696fe6f53103076e9afa5a16_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a112c1fae696fe6f53103076e9afa5a16_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,379,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac7dedae4e6f8bcbd20e69d1e5551e378" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a24e23281d4ccfdddcc761c83e14a4080" name="a24e23281d4ccfdddcc761c83e14a4080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e23281d4ccfdddcc761c83e14a4080">&#9670;&#160;</a></span>add_to_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::add_to_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00096">96</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>                                                                                          {</div>
<div class="line"><span class="lineno">   97</span>      authorization_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">   98</span>         <span class="keyword">using </span>section_t = <span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>         <span class="comment">// skip the permission_usage_index as its inlined with permission_index</span></div>
<div class="line"><span class="lineno">  101</span>         <span class="keywordflow">if</span> (std::is_same&lt;section_t, permission_usage_object&gt;::value) {</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  103</span>         }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>         snapshot-&gt;write_section&lt;section_t&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ){</div>
<div class="line"><span class="lineno">  106</span>            <span class="keyword">decltype</span>(utils)::walk(_db, [<span class="keyword">this</span>, &amp;section]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">  107</span>               section.add_row(row, _db);</div>
<div class="line"><span class="lineno">  108</span>            });</div>
<div class="line"><span class="lineno">  109</span>         });</div>
<div class="line"><span class="lineno">  110</span>      });</div>
<div class="line"><span class="lineno">  111</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a24e23281d4ccfdddcc761c83e14a4080_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a24e23281d4ccfdddcc761c83e14a4080_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a24e23281d4ccfdddcc761c83e14a4080_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a24e23281d4ccfdddcc761c83e14a4080_icgraph">
<area shape="rect" title=" " alt="" coords="661,5,847,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="454,5,613,46"/>
<area shape="poly" title=" " alt="" coords="646,28,614,28,614,23,646,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="206,5,406,46"/>
<area shape="poly" title=" " alt="" coords="438,28,406,28,406,23,438,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a9f6cf6c813f4a578fddc10cf24aa396a" name="a9f6cf6c813f4a578fddc10cf24aa396a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6cf6c813f4a578fddc10cf24aa396a">&#9670;&#160;</a></span>check_authorization() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::check_authorization </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a></td>          <td class="paramname"><span class="paramname"><em>permission</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>provided_keys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>provided_permissions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">flat_set&lt;<a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a>&gt;()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>provided_delay</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0)</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void()&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>checktime</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::function&lt;void()&gt;()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>allow_unused_keys</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">account</td><td>- the account owner of the permission </td></tr>
    <tr><td class="paramname">permission</td><td>- the permission name to check for authorization </td></tr>
    <tr><td class="paramname">provided_keys</td><td>- a set of public keys </td></tr>
    <tr><td class="paramname">provided_permissions</td><td>- the set of permissions which can be considered satisfied (empty permission name acts as wildcard) </td></tr>
    <tr><td class="paramname">provided_delay</td><td>- the delay considered to be satisfied for the authorization check </td></tr>
    <tr><td class="paramname">checktime</td><td>- the function that can be called to track CPU usage and time during the process of checking authorization </td></tr>
    <tr><td class="paramname">allow_unused_keys</td><td>- true if method does not require all keys to be used </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00575">575</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  583</span>   {</div>
<div class="line"><span class="lineno">  584</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; checktime = ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(_checktime) ? _checktime : <a class="code hl_variable" href="#a1e4aa0f280bcaa3057bc2970063f74b8">_noop_checktime</a> );</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>      <span class="keyword">auto</span> delay_max_limit = <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>( _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().<a class="code hl_variable" href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">configuration</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#ad98015ab0842f0258be2df72e7ace5e3">max_transaction_delay</a> );</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>      <span class="keyword">auto</span> checker = <a class="code hl_function" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b">make_auth_checker</a>( [&amp;](<span class="keyword">const</span> permission_level&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>){ <span class="keywordflow">return</span> <a class="code hl_function" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>).auth; },</div>
<div class="line"><span class="lineno">  589</span>                                        _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().configuration.max_authority_depth,</div>
<div class="line"><span class="lineno">  590</span>                                        provided_keys,</div>
<div class="line"><span class="lineno">  591</span>                                        provided_permissions,</div>
<div class="line"><span class="lineno">  592</span>                                        ( provided_delay &gt;= delay_max_limit ) ? <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a>() : provided_delay,</div>
<div class="line"><span class="lineno">  593</span>                                        checktime</div>
<div class="line"><span class="lineno">  594</span>                                      );</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( checker.satisfied({account, permission}), unsatisfied_authorization,</div>
<div class="line"><span class="lineno">  597</span>                  <span class="stringliteral">&quot;permission &#39;${auth}&#39; was not satisfied under a provided delay of ${provided_delay} ms, &quot;</span></div>
<div class="line"><span class="lineno">  598</span>                  <span class="stringliteral">&quot;provided permissions ${provided_permissions}, provided keys ${provided_keys}, &quot;</span></div>
<div class="line"><span class="lineno">  599</span>                  <span class="stringliteral">&quot;and a delay max limit of ${delay_max_limit_ms} ms&quot;</span>,</div>
<div class="line"><span class="lineno">  600</span>                  (<span class="stringliteral">&quot;auth&quot;</span>, permission_level{account, permission})</div>
<div class="line"><span class="lineno">  601</span>                  (<span class="stringliteral">&quot;provided_delay&quot;</span>, provided_delay.<a class="code hl_function" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">count</a>()/1000)</div>
<div class="line"><span class="lineno">  602</span>                  (<span class="stringliteral">&quot;provided_permissions&quot;</span>, provided_permissions)</div>
<div class="line"><span class="lineno">  603</span>                  (<span class="stringliteral">&quot;provided_keys&quot;</span>, provided_keys)</div>
<div class="line"><span class="lineno">  604</span>                  (<span class="stringliteral">&quot;delay_max_limit_ms&quot;</span>, delay_max_limit.count()/1000)</div>
<div class="line"><span class="lineno">  605</span>                );</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>      <span class="keywordflow">if</span>( !allow_unused_keys ) {</div>
<div class="line"><span class="lineno">  608</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( checker.all_keys_used(), tx_irrelevant_sig,</div>
<div class="line"><span class="lineno">  609</span>                     <span class="stringliteral">&quot;irrelevant keys provided: ${keys}&quot;</span>,</div>
<div class="line"><span class="lineno">  610</span>                     (<span class="stringliteral">&quot;keys&quot;</span>, checker.unused_keys()) );</div>
<div class="line"><span class="lineno">  611</span>      }</div>
<div class="line"><span class="lineno">  612</span>   }</div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html_a20fba59ec7e1f50c6b8f2c9443cc9b92"><div class="ttname"><a href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">fc::microseconds::count</a></div><div class="ttdeci">constexpr int64_t count() const</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00026">time.hpp:26</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html_afc3eb0bfd792c7b1cda062e559e30c2e"><div class="ttname"><a href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a></div><div class="ttdeci">static constexpr microseconds maximum()</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00014">time.hpp:14</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a1e4aa0f280bcaa3057bc2970063f74b8"><div class="ttname"><a href="#a1e4aa0f280bcaa3057bc2970063f74b8">sysio::chain::authorization_manager::_noop_checktime</a></div><div class="ttdeci">static std::function&lt; void()&gt; _noop_checktime</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8hpp_source.html#l00116">authorization_manager.hpp:116</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a96924f6aca32a602e24d991d12278a69"><div class="ttname"><a href="#a96924f6aca32a602e24d991d12278a69">sysio::chain::authorization_manager::get_permission</a></div><div class="ttdeci">const permission_object &amp; get_permission(const permission_level &amp;level) const</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00257">authorization_manager.cpp:257</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a0bb11e832a05b6437c79bf81758b1b7d"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">sysio::chain::controller::get_global_properties</a></div><div class="ttdeci">const global_property_object &amp; get_global_properties() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03062">controller.cpp:3062</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1global__property__object_html_a7f149fcf87034217c899838eb4430496"><div class="ttname"><a href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">sysio::chain::global_property_object::configuration</a></div><div class="ttdeci">chain_config configuration</div><div class="ttdef"><b>Definition</b> <a href="global__property__object_8hpp_source.html#l00071">global_property_object.hpp:71</a></div></div>
<div class="ttc" id="anamespacefc_html_a9623b8cae3f48bbed6aa1fc2afe9b174"><div class="ttname"><a href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a></div><div class="ttdeci">constexpr microseconds seconds(int64_t s)</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00032">time.hpp:32</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a9935b13f160accddca2509476a2cad8b"><div class="ttname"><a href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b">sysio::chain::make_auth_checker</a></div><div class="ttdeci">auto make_auth_checker(PermissionToAuthorityFunc &amp;&amp;pta, uint16_t recursion_depth_limit, const flat_set&lt; public_key_type &gt; &amp;provided_keys, const flat_set&lt; permission_level &gt; &amp;provided_permissions=flat_set&lt; permission_level &gt;(), fc::microseconds provided_delay=fc::microseconds(0), const std::function&lt; void()&gt; &amp;_checktime=std::function&lt; void()&gt;())</div><div class="ttdoc">authority_checker</div><div class="ttdef"><b>Definition</b> <a href="authority__checker_8hpp_source.html#l00259">authority_checker.hpp:259</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_ad98015ab0842f0258be2df72e7ace5e3"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#ad98015ab0842f0258be2df72e7ace5e3">sysio::chain::chain_config_v0::max_transaction_delay</a></div><div class="ttdeci">uint32_t max_transaction_delay</div><div class="ttdoc">the maximum number of seconds that can be imposed as a delay requirement by authorization checks</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00055">chain_config.hpp:55</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a9f6cf6c813f4a578fddc10cf24aa396a_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a9f6cf6c813f4a578fddc10cf24aa396a_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a9f6cf6c813f4a578fddc10cf24aa396a_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a9f6cf6c813f4a578fddc10cf24aa396a_cgraph">
<area shape="rect" title="Check authorizations of a permission with provided keys, permission levels, and delay." alt="" coords="5,154,208,194"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="268,5,430,31"/>
<area shape="poly" title=" " alt="" coords="124,151,178,96,215,67,254,41,269,34,271,39,257,46,218,71,182,100,128,155"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="273,55,425,96"/>
<area shape="poly" title=" " alt="" coords="152,151,255,106,273,99,275,104,257,111,154,156"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="262,120,436,161"/>
<area shape="poly" title=" " alt="" coords="208,158,246,152,247,158,208,163"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b" title="authority_checker" alt="" coords="283,186,414,226"/>
<area shape="poly" title=" " alt="" coords="208,185,268,193,267,198,208,190"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="256,251,442,276"/>
<area shape="poly" title=" " alt="" coords="153,193,257,236,280,243,279,248,255,241,151,198"/>
<area shape="rect" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174" title=" " alt="" coords="304,300,394,326"/>
<area shape="poly" title=" " alt="" coords="131,193,185,240,220,265,257,286,290,299,288,304,255,291,217,270,182,244,127,197"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="512,128,679,154"/>
<area shape="poly" title=" " alt="" coords="436,138,496,138,496,144,436,144"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="748,120,890,161"/>
<area shape="poly" title=" " alt="" coords="679,147,733,147,733,152,679,152"/>
<area shape="poly" title=" " alt="" coords="748,135,694,135,695,129,748,130"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="938,150,1079,190"/>
<area shape="poly" title=" " alt="" coords="890,149,923,154,922,160,889,154"/>
<area shape="poly" title=" " alt="" coords="938,175,890,175,819,178,748,175,662,160,663,155,749,170,819,173,890,170,937,169"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a057ec53a1f8d23b2fb89de6c19b41c32" title=" " alt="" coords="532,186,659,226"/>
<area shape="poly" title=" " alt="" coords="415,204,516,204,516,209,415,209"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="490,251,700,276"/>
<area shape="poly" title=" " alt="" coords="443,261,475,261,475,266,443,266"/>
</map>
</div>

</div>
</div>
<a id="a8566f4407e33eb1e4029455e4feae2f1" name="a8566f4407e33eb1e4029455e4feae2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8566f4407e33eb1e4029455e4feae2f1">&#9670;&#160;</a></span>check_authorization() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::check_authorization </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="structsysio_1_1chain_1_1action.html">action</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>actions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>provided_keys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>provided_permissions</em></span><span class="paramdefsep"> = </span><span class="paramdefval">flat_set&lt;<a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a>&gt;()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>provided_delay</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0)</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void()&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>checktime</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::function&lt;void()&gt;()</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>allow_unused_keys</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>check_but_dont_fail</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>satisfied_authorizations</em></span><span class="paramdefsep"> = </span><span class="paramdefval">flat_set&lt;<a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a>&gt;()</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actions</td><td>- the actions to check authorization across </td></tr>
    <tr><td class="paramname">provided_keys</td><td>- the set of public keys which have authorized the transaction </td></tr>
    <tr><td class="paramname">provided_permissions</td><td>- the set of permissions which have authorized the transaction (empty permission name acts as wildcard) </td></tr>
    <tr><td class="paramname">provided_delay</td><td>- the delay satisfied by the transaction </td></tr>
    <tr><td class="paramname">checktime</td><td>- the function that can be called to track CPU usage and time during the process of checking authorization </td></tr>
    <tr><td class="paramname">allow_unused_keys</td><td>- true if method should not assert on unused keys </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00471">471</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  480</span>   {</div>
<div class="line"><span class="lineno">  481</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; checktime = ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(_checktime) ? _checktime : <a class="code hl_variable" href="#a1e4aa0f280bcaa3057bc2970063f74b8">_noop_checktime</a> );</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>      <span class="keyword">auto</span> delay_max_limit = <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>( _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().<a class="code hl_variable" href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">configuration</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#ad98015ab0842f0258be2df72e7ace5e3">max_transaction_delay</a> );</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>      <span class="keyword">auto</span> effective_provided_delay =  (provided_delay &gt;= delay_max_limit) ? <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a>() : provided_delay;</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>      <span class="keyword">auto</span> checker = <a class="code hl_function" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b">make_auth_checker</a>( [&amp;](<span class="keyword">const</span> permission_level&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>){ <span class="keywordflow">return</span> <a class="code hl_function" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>).auth; },</div>
<div class="line"><span class="lineno">  488</span>                                        _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().configuration.max_authority_depth,</div>
<div class="line"><span class="lineno">  489</span>                                        provided_keys,</div>
<div class="line"><span class="lineno">  490</span>                                        provided_permissions,</div>
<div class="line"><span class="lineno">  491</span>                                        effective_provided_delay,</div>
<div class="line"><span class="lineno">  492</span>                                        checktime</div>
<div class="line"><span class="lineno">  493</span>                                      );</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>      map&lt;permission_level, fc::microseconds&gt; permissions_to_satisfy;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>      <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; act : actions ) {</div>
<div class="line"><span class="lineno">  498</span>         <span class="keywordtype">bool</span> special_case = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  499</span>         <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> delay = effective_provided_delay;</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>         <span class="keywordflow">if</span>( act.account == config::system_account_name ) {</div>
<div class="line"><span class="lineno">  502</span>            special_case = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">if</span>( act.name == <a class="code hl_function" href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814">updateauth::get_name</a>() ) {</div>
<div class="line"><span class="lineno">  505</span>               check_updateauth_authorization( act.data_as&lt;updateauth&gt;(), act.authorization );</div>
<div class="line"><span class="lineno">  506</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( act.name == <a class="code hl_function" href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d">deleteauth::get_name</a>() ) {</div>
<div class="line"><span class="lineno">  507</span>               check_deleteauth_authorization( act.data_as&lt;deleteauth&gt;(), act.authorization );</div>
<div class="line"><span class="lineno">  508</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( act.name == <a class="code hl_function" href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b">linkauth::get_name</a>() ) {</div>
<div class="line"><span class="lineno">  509</span>               check_linkauth_authorization( act.data_as&lt;linkauth&gt;(), act.authorization );</div>
<div class="line"><span class="lineno">  510</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( act.name == <a class="code hl_function" href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327">unlinkauth::get_name</a>() ) {</div>
<div class="line"><span class="lineno">  511</span>               check_unlinkauth_authorization( act.data_as&lt;unlinkauth&gt;(), act.authorization );</div>
<div class="line"><span class="lineno">  512</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( act.name ==  <a class="code hl_function" href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f">canceldelay::get_name</a>() ) {</div>
<div class="line"><span class="lineno">  513</span>               delay = std::max( delay, check_canceldelay_authorization(act.data_as&lt;canceldelay&gt;(), act.authorization) );</div>
<div class="line"><span class="lineno">  514</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  515</span>               special_case = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  516</span>            }</div>
<div class="line"><span class="lineno">  517</span>         }</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; declared_auth : act.authorization ) {</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>            checktime();</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">if</span>( !special_case ) {</div>
<div class="line"><span class="lineno">  524</span>               <span class="keyword">auto</span> min_permission_name = <a class="code hl_function" href="#a6193726fcf21c9b75f460696a67b6839">lookup_minimum_permission</a>(declared_auth.actor, act.account, act.name);</div>
<div class="line"><span class="lineno">  525</span>               <span class="keywordflow">if</span>( min_permission_name ) { <span class="comment">// since special cases were already handled, it should only be false if the permission is sysio.any</span></div>
<div class="line"><span class="lineno">  526</span>                  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; min_permission = <a class="code hl_function" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a>({declared_auth.actor, *min_permission_name});</div>
<div class="line"><span class="lineno">  527</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a>(declared_auth).satisfies( min_permission,</div>
<div class="line"><span class="lineno">  528</span>                                                                       _db.<a class="code hl_function" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">get_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4e24a1668746342d40487d1019880986">permission_index</a>&gt;().indices() ),</div>
<div class="line"><span class="lineno">  529</span>                              irrelevant_auth_exception,</div>
<div class="line"><span class="lineno">  530</span>                              <span class="stringliteral">&quot;action declares irrelevant authority &#39;${auth}&#39;; minimum authority is ${min}&quot;</span>,</div>
<div class="line"><span class="lineno">  531</span>                              (<span class="stringliteral">&quot;auth&quot;</span>, declared_auth)(<span class="stringliteral">&quot;min&quot;</span>, permission_level{min_permission.owner, min_permission.name}) );</div>
<div class="line"><span class="lineno">  532</span>               }</div>
<div class="line"><span class="lineno">  533</span>            }</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>            <span class="keywordflow">if</span>( satisfied_authorizations.find( declared_auth ) == satisfied_authorizations.end() ) {</div>
<div class="line"><span class="lineno">  536</span>               <span class="keyword">auto</span> res = permissions_to_satisfy.emplace( declared_auth, delay );</div>
<div class="line"><span class="lineno">  537</span>               <span class="keywordflow">if</span>( !res.second &amp;&amp; res.first-&gt;second &gt; delay) { <span class="comment">// if the declared_auth was already in the map and with a higher delay</span></div>
<div class="line"><span class="lineno">  538</span>                  res.first-&gt;second = <a class="code hl_function" href="integration_8cpp.html#a6e9635897de7740b7389a391f613626b">delay</a>;</div>
<div class="line"><span class="lineno">  539</span>               }</div>
<div class="line"><span class="lineno">  540</span>            }</div>
<div class="line"><span class="lineno">  541</span>         }</div>
<div class="line"><span class="lineno">  542</span>      }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>      <span class="comment">// Now verify that all the declared authorizations are satisfied:</span></div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>      <span class="comment">// Although this can be made parallel (especially for input transactions) with the optimistic assumption that the</span></div>
<div class="line"><span class="lineno">  547</span>      <span class="comment">// CPU limit is not reached, because of the CPU limit the protocol must officially specify a sequential algorithm</span></div>
<div class="line"><span class="lineno">  548</span>      <span class="comment">// for checking the set of declared authorizations.</span></div>
<div class="line"><span class="lineno">  549</span>      <span class="comment">// The permission_levels are traversed in ascending order, which is:</span></div>
<div class="line"><span class="lineno">  550</span>      <span class="comment">// ascending order of the actor name with ties broken by ascending order of the permission name.</span></div>
<div class="line"><span class="lineno">  551</span>      <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> : permissions_to_satisfy ) {</div>
<div class="line"><span class="lineno">  552</span>         checktime(); <span class="comment">// TODO: this should eventually move into authority_checker instead</span></div>
<div class="line"><span class="lineno">  553</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( checker.satisfied( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.first, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.second ) || check_but_dont_fail, unsatisfied_authorization,</div>
<div class="line"><span class="lineno">  554</span>                     <span class="stringliteral">&quot;transaction declares authority &#39;${auth}&#39;, &quot;</span></div>
<div class="line"><span class="lineno">  555</span>                     <span class="stringliteral">&quot;but does not have signatures for it under a provided delay of ${provided_delay} ms, &quot;</span></div>
<div class="line"><span class="lineno">  556</span>                     <span class="stringliteral">&quot;provided permissions ${provided_permissions}, provided keys ${provided_keys}, &quot;</span></div>
<div class="line"><span class="lineno">  557</span>                     <span class="stringliteral">&quot;and a delay max limit of ${delay_max_limit_ms} ms&quot;</span>,</div>
<div class="line"><span class="lineno">  558</span>                     (<span class="stringliteral">&quot;auth&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.first)</div>
<div class="line"><span class="lineno">  559</span>                     (<span class="stringliteral">&quot;provided_delay&quot;</span>, provided_delay.<a class="code hl_function" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">count</a>()/1000)</div>
<div class="line"><span class="lineno">  560</span>                     (<span class="stringliteral">&quot;provided_permissions&quot;</span>, provided_permissions)</div>
<div class="line"><span class="lineno">  561</span>                     (<span class="stringliteral">&quot;provided_keys&quot;</span>, provided_keys)</div>
<div class="line"><span class="lineno">  562</span>                     (<span class="stringliteral">&quot;delay_max_limit_ms&quot;</span>, delay_max_limit.count()/1000)</div>
<div class="line"><span class="lineno">  563</span>                   );</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>      }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>      <span class="keywordflow">if</span>( !allow_unused_keys  || check_but_dont_fail) {</div>
<div class="line"><span class="lineno">  568</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( checker.all_keys_used(), tx_irrelevant_sig,</div>
<div class="line"><span class="lineno">  569</span>                     <span class="stringliteral">&quot;transaction bears irrelevant signatures from these keys: ${keys}&quot;</span>,</div>
<div class="line"><span class="lineno">  570</span>                     (<span class="stringliteral">&quot;keys&quot;</span>, checker.unused_keys()) );</div>
<div class="line"><span class="lineno">  571</span>      }</div>
<div class="line"><span class="lineno">  572</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a4d5297635dcf70be481d9b600da9bc13"><div class="ttname"><a href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">chainbase::database::get_index</a></div><div class="ttdeci">const generic_index&lt; MultiIndexType &gt; &amp; get_index() const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00425">chainbase.hpp:425</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html"><div class="ttname"><a href="classfc_1_1microseconds.html">fc::microseconds</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00011">time.hpp:11</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a6193726fcf21c9b75f460696a67b6839"><div class="ttname"><a href="#a6193726fcf21c9b75f460696a67b6839">sysio::chain::authorization_manager::lookup_minimum_permission</a></div><div class="ttdeci">std::optional&lt; permission_name &gt; lookup_minimum_permission(account_name authorizer_account, scope_name code_account, action_name type) const</div><div class="ttdoc">Find the lowest authority level required for authorizer_account to authorize a message of the specifi...</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00286">authorization_manager.cpp:286</a></div></div>
<div class="ttc" id="aintegration_8cpp_html_a6e9635897de7740b7389a391f613626b"><div class="ttname"><a href="integration_8cpp.html#a6e9635897de7740b7389a391f613626b">delay</a></div><div class="ttdeci">void delay(websocketpp::connection_hdl, long duration)</div><div class="ttdef"><b>Definition</b> <a href="integration_8cpp_source.html#l00318">integration.cpp:318</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4e24a1668746342d40487d1019880986"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4e24a1668746342d40487d1019880986">sysio::chain::permission_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; permission_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt;, ordered_unique&lt; tag&lt; by_parent &gt;, composite_key&lt; permission_object, member&lt; permission_object, permission_object::id_type, &amp;permission_object::parent &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt; &gt;, ordered_unique&lt; tag&lt; by_owner &gt;, composite_key&lt; permission_object, member&lt; permission_object, account_name, &amp;permission_object::owner &gt;, member&lt; permission_object, permission_name, &amp;permission_object::name &gt; &gt; &gt;, ordered_unique&lt; tag&lt; by_name &gt;, composite_key&lt; permission_object, member&lt; permission_object, permission_name, &amp;permission_object::name &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt; &gt; &gt; &gt; permission_index</div><div class="ttdef"><b>Definition</b> <a href="permission__object_8hpp_source.html#l00086">permission_object.hpp:86</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1canceldelay_html_a23c3d201f9917509b74001716daf254f"><div class="ttname"><a href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f">sysio::chain::canceldelay::get_name</a></div><div class="ttdeci">static action_name get_name()</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00134">contract_types.hpp:134</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1deleteauth_html_add712cbf63b55d0e2db2b874dca6576d"><div class="ttname"><a href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d">sysio::chain::deleteauth::get_name</a></div><div class="ttdeci">static action_name get_name()</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00082">contract_types.hpp:82</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1linkauth_html_a41eafdd131f5b3c8a8b7688449986f2b"><div class="ttname"><a href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b">sysio::chain::linkauth::get_name</a></div><div class="ttdeci">static action_name get_name()</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00102">contract_types.hpp:102</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1unlinkauth_html_a438dbc3c8575ab1f129c0fdd5c074327"><div class="ttname"><a href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327">sysio::chain::unlinkauth::get_name</a></div><div class="ttdeci">static action_name get_name()</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00121">contract_types.hpp:121</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1updateauth_html_afc31c0680242885924f64fc347780814"><div class="ttname"><a href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814">sysio::chain::updateauth::get_name</a></div><div class="ttdeci">static action_name get_name()</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00064">contract_types.hpp:64</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_cgraph">
<area shape="rect" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="5,376,208,417"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="268,5,430,31"/>
<area shape="poly" title=" " alt="" coords="108,375,119,310,144,220,163,171,187,123,217,79,254,40,257,37,261,42,257,44,221,82,192,126,168,173,149,221,124,311,113,376"/>
<area shape="rect" href="integration_8cpp.html#a6e9635897de7740b7389a391f613626b" title=" " alt="" coords="323,55,375,80"/>
<area shape="poly" title=" " alt="" coords="109,376,123,319,151,242,170,201,193,161,221,123,254,91,279,76,306,69,308,74,281,81,257,95,225,127,198,164,174,203,155,244,129,320,114,377"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="273,104,425,145"/>
<area shape="poly" title=" " alt="" coords="113,375,131,330,161,272,202,210,227,181,254,156,261,151,264,155,257,160,231,185,206,213,166,274,136,332,118,377"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="278,170,420,210"/>
<area shape="poly" title=" " alt="" coords="118,375,171,301,210,258,254,221,263,216,266,220,257,226,214,262,176,304,122,378"/>
<area shape="rect" href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f" title=" " alt="" coords="511,292,679,333"/>
<area shape="poly" title=" " alt="" coords="207,374,255,365,495,325,496,330,256,370,208,379"/>
<area shape="rect" href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d" title=" " alt="" coords="516,359,675,400"/>
<area shape="poly" title=" " alt="" coords="208,388,256,386,500,379,500,384,256,391,208,394"/>
<area shape="rect" href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b" title=" " alt="" coords="523,426,667,466"/>
<area shape="poly" title=" " alt="" coords="141,415,194,444,256,466,321,476,388,476,451,471,508,463,509,468,452,477,388,482,321,481,255,471,191,449,138,420"/>
<area shape="rect" href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327" title=" " alt="" coords="516,494,674,534"/>
<area shape="poly" title=" " alt="" coords="136,415,190,451,222,469,256,482,318,498,382,508,501,515,500,520,382,513,317,503,255,487,220,473,187,456,133,420"/>
<area shape="rect" href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814" title=" " alt="" coords="514,566,677,606"/>
<area shape="poly" title=" " alt="" coords="128,416,182,468,218,496,257,518,317,542,380,559,442,571,498,578,498,583,441,576,379,564,315,547,255,523,215,500,179,472,124,420"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="262,235,436,276"/>
<area shape="poly" title=" " alt="" coords="132,374,187,334,254,292,278,280,280,285,257,296,190,338,136,378"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a6193726fcf21c9b75f460696a67b6839" title="Find the lowest authority level required for authorizer_account to authorize a message of the specifi..." alt="" coords="257,401,441,457"/>
<area shape="poly" title=" " alt="" coords="208,408,242,412,241,417,208,413"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b" title="authority_checker" alt="" coords="283,632,414,673"/>
<area shape="poly" title=" " alt="" coords="119,417,140,457,170,509,210,564,257,612,273,623,270,627,254,616,206,567,165,512,135,460,115,419"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="256,697,442,723"/>
<area shape="poly" title=" " alt="" coords="115,417,130,471,158,543,177,581,199,618,226,653,257,683,264,687,260,692,254,687,222,656,195,621,172,583,153,545,125,472,110,418"/>
<area shape="rect" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174" title=" " alt="" coords="304,747,394,772"/>
<area shape="poly" title=" " alt="" coords="113,417,125,479,151,565,170,611,193,656,223,697,257,733,273,743,290,750,288,755,270,748,254,738,218,701,189,659,165,613,146,567,120,481,108,418"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="512,228,679,254"/>
<area shape="poly" title=" " alt="" coords="421,202,515,222,513,227,419,207"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="748,220,890,261"/>
<area shape="poly" title=" " alt="" coords="679,247,733,247,733,252,679,252"/>
<area shape="poly" title=" " alt="" coords="747,227,700,218,560,203,435,196,435,190,561,198,701,213,748,221"/>
<area shape="poly" title=" " alt="" coords="748,235,694,235,695,229,748,230"/>
<area shape="poly" title=" " alt="" coords="436,248,496,244,496,249,437,253"/>
<area shape="poly" title=" " alt="" coords="392,398,438,371,489,345,509,337,511,342,491,350,441,376,395,403"/>
<area shape="poly" title=" " alt="" coords="441,408,500,396,501,401,442,413"/>
<area shape="poly" title=" " alt="" coords="442,433,507,437,507,443,441,438"/>
<area shape="poly" title=" " alt="" coords="431,455,491,476,520,486,518,491,489,481,429,460"/>
<area shape="poly" title=" " alt="" coords="380,455,430,500,491,544,517,557,514,562,489,548,426,504,376,459"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a057ec53a1f8d23b2fb89de6c19b41c32" title=" " alt="" coords="532,632,659,673"/>
<area shape="poly" title=" " alt="" coords="415,650,516,650,516,656,415,656"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="490,697,700,723"/>
<area shape="poly" title=" " alt="" coords="443,708,475,708,475,713,443,713"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a8566f4407e33eb1e4029455e4feae2f1_icgraph">
<area shape="rect" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="1685,91,1887,131"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#a95ccf1ed89aab0118938c309fbf91d1f" title=" " alt="" coords="1463,25,1626,66"/>
<area shape="poly" title=" " alt="" coords="1693,89,1622,69,1623,64,1694,84"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1465,91,1624,131"/>
<area shape="poly" title=" " alt="" coords="1669,114,1624,114,1624,108,1669,108"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#ac09c8f3118154bb22b0bd50526e138fa" title=" " alt="" coords="1452,155,1637,211"/>
<area shape="poly" title=" " alt="" coords="1702,139,1638,158,1637,153,1700,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1449,112,1251,111,1204,112,1204,107,1251,106,1449,106"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,120,1404,161"/>
<area shape="poly" title=" " alt="" coords="1450,126,1405,133,1404,127,1449,121"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
<area shape="poly" title=" " alt="" coords="1235,130,1203,126,1204,120,1236,125"/>
</map>
</div>

</div>
</div>
<a id="a258e0daa2cd72440bfe34a2aa92c9104" name="a258e0daa2cd72440bfe34a2aa92c9104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258e0daa2cd72440bfe34a2aa92c9104">&#9670;&#160;</a></span>create_permission() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp; sysio::chain::authorization_manager::create_permission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#add79267df1f466480b18703845327a78">permission_id_type</a></td>          <td class="paramname"><span class="paramname"><em>parent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>auth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">time_point</a></td>          <td class="paramname"><span class="paramname"><em>initial_creation_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classfc_1_1time__point.html">time_point</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00168">168</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>   {</div>
<div class="line"><span class="lineno">  175</span>      <span class="keywordflow">for</span>(<span class="keyword">const</span> key_weight&amp; k: auth.keys)</div>
<div class="line"><span class="lineno">  176</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(k.key.which() &lt; _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;protocol_state_object&gt;().num_supported_key_types, unactivated_key_type,</div>
<div class="line"><span class="lineno">  177</span>           <span class="stringliteral">&quot;Unactivated key type used when creating permission&quot;</span>);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>      <span class="keyword">auto</span> creation_time = initial_creation_time;</div>
<div class="line"><span class="lineno">  180</span>      <span class="keywordflow">if</span>( creation_time == <a class="code hl_typedef" href="namespacesystem__contracts_1_1testing_1_1test__contracts_1_1blockinfo__tester.html#a28ca3704afa6ea443dd4a095daaedb3a">time_point</a>() ) {</div>
<div class="line"><span class="lineno">  181</span>         creation_time = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>();</div>
<div class="line"><span class="lineno">  182</span>      }</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; perm_usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;permission_usage_object&gt;([&amp;](<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>) {</div>
<div class="line"><span class="lineno">  185</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.last_used = creation_time;</div>
<div class="line"><span class="lineno">  186</span>      });</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; perm = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;permission_object&gt;([&amp;](<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>) {</div>
<div class="line"><span class="lineno">  189</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.usage_id     = perm_usage.id;</div>
<div class="line"><span class="lineno">  190</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.parent       = parent;</div>
<div class="line"><span class="lineno">  191</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.owner        = account;</div>
<div class="line"><span class="lineno">  192</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.name         = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>;</div>
<div class="line"><span class="lineno">  193</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.last_updated = creation_time;</div>
<div class="line"><span class="lineno">  194</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.auth         = std::move(auth);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  197</span>            dm_logger-&gt;on_create_permission(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  198</span>         }</div>
<div class="line"><span class="lineno">  199</span>      });</div>
<div class="line"><span class="lineno">  200</span>      <span class="keywordflow">return</span> perm;</div>
<div class="line"><span class="lineno">  201</span>   }</div>
<div class="ttc" id="acatch__reporter__console_8cpp_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="catch__reporter__console_8cpp_source.html#l00186">catch_reporter_console.cpp:186</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_adc8f336b33d7013d1b0400399b16c5a7"><div class="ttname"><a href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">chainbase::database::create</a></div><div class="ttdeci">const ObjectType &amp; create(Constructor &amp;&amp;con)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00519">chainbase.hpp:519</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_afcfe00f81a526c1376d4f51197dd3a9a"><div class="ttname"><a href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">chainbase::database::get</a></div><div class="ttdeci">const ObjectType &amp; get(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00477">chainbase.hpp:477</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a4f6404b355a3a4bf7fb60c92e85443d1"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">sysio::chain::controller::get_deep_mind_logger</a></div><div class="ttdeci">deep_mind_handler * get_deep_mind_logger() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03460">controller.cpp:3460</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_abb1d81f96986df3bce46bd37caaf6a69"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">sysio::chain::controller::pending_block_time</a></div><div class="ttdeci">time_point pending_block_time() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03000">controller.cpp:3000</a></div></div>
<div class="ttc" id="anamespacesystem__contracts_1_1testing_1_1test__contracts_1_1blockinfo__tester_html_a28ca3704afa6ea443dd4a095daaedb3a"><div class="ttname"><a href="namespacesystem__contracts_1_1testing_1_1test__contracts_1_1blockinfo__tester.html#a28ca3704afa6ea443dd4a095daaedb3a">system_contracts::testing::test_contracts::blockinfo_tester::time_point</a></div><div class="ttdeci">sysio::time_point time_point</div><div class="ttdef"><b>Definition</b> <a href="blockinfo__tester_8hpp_source.html#l00030">blockinfo_tester.hpp:30</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a258e0daa2cd72440bfe34a2aa92c9104_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a258e0daa2cd72440bfe34a2aa92c9104_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a258e0daa2cd72440bfe34a2aa92c9104_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a258e0daa2cd72440bfe34a2aa92c9104_cgraph">
<area shape="rect" title=" " alt="" coords="5,120,198,161"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="255,5,396,46"/>
<area shape="poly" title=" " alt="" coords="140,117,244,62,267,51,269,55,247,67,143,122"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="642,42,810,68"/>
<area shape="poly" title=" " alt="" coords="189,117,245,106,449,78,627,60,627,65,449,83,246,111,190,122"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="246,120,405,161"/>
<area shape="poly" title=" " alt="" coords="198,138,230,138,230,143,198,143"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="249,185,402,226"/>
<area shape="poly" title=" " alt="" coords="174,159,239,178,238,183,173,164"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="266,251,384,291"/>
<area shape="poly" title=" " alt="" coords="131,159,184,196,247,235,259,241,256,246,244,240,181,201,128,163"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="453,5,594,46"/>
<area shape="poly" title=" " alt="" coords="396,23,437,23,437,28,396,28"/>
<area shape="poly" title=" " alt="" coords="595,33,627,38,626,43,594,39"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="858,35,999,75"/>
<area shape="poly" title=" " alt="" coords="810,61,842,61,842,67,810,67"/>
<area shape="poly" title=" " alt="" coords="857,49,825,49,825,43,857,44"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1047,64,1188,105"/>
<area shape="poly" title=" " alt="" coords="1000,63,1032,68,1032,74,999,69"/>
<area shape="poly" title=" " alt="" coords="1047,89,999,90,928,93,857,90,785,75,786,70,858,84,928,87,999,84,1047,84"/>
</map>
</div>

</div>
</div>
<a id="aac57733c5aa05c1c78a023a80b2f447f" name="aac57733c5aa05c1c78a023a80b2f447f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac57733c5aa05c1c78a023a80b2f447f">&#9670;&#160;</a></span>create_permission() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp; sysio::chain::authorization_manager::create_permission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#add79267df1f466480b18703845327a78">permission_id_type</a></td>          <td class="paramname"><span class="paramname"><em>parent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>auth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">time_point</a></td>          <td class="paramname"><span class="paramname"><em>initial_creation_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classfc_1_1time__point.html">time_point</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00133">133</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>   {</div>
<div class="line"><span class="lineno">  140</span>      <span class="keywordflow">for</span>(<span class="keyword">const</span> key_weight&amp; k: auth.keys)</div>
<div class="line"><span class="lineno">  141</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(k.key.which() &lt; _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;protocol_state_object&gt;().num_supported_key_types, unactivated_key_type,</div>
<div class="line"><span class="lineno">  142</span>           <span class="stringliteral">&quot;Unactivated key type used when creating permission&quot;</span>);</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>      <span class="keyword">auto</span> creation_time = initial_creation_time;</div>
<div class="line"><span class="lineno">  145</span>      <span class="keywordflow">if</span>( creation_time == <a class="code hl_typedef" href="namespacesystem__contracts_1_1testing_1_1test__contracts_1_1blockinfo__tester.html#a28ca3704afa6ea443dd4a095daaedb3a">time_point</a>() ) {</div>
<div class="line"><span class="lineno">  146</span>         creation_time = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>();</div>
<div class="line"><span class="lineno">  147</span>      }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; perm_usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;permission_usage_object&gt;([&amp;](<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>) {</div>
<div class="line"><span class="lineno">  150</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.last_used = creation_time;</div>
<div class="line"><span class="lineno">  151</span>      });</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; perm = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;permission_object&gt;([&amp;](<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>) {</div>
<div class="line"><span class="lineno">  154</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.usage_id     = perm_usage.id;</div>
<div class="line"><span class="lineno">  155</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.parent       = parent;</div>
<div class="line"><span class="lineno">  156</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.owner        = account;</div>
<div class="line"><span class="lineno">  157</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.name         = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>;</div>
<div class="line"><span class="lineno">  158</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.last_updated = creation_time;</div>
<div class="line"><span class="lineno">  159</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.auth         = auth;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  162</span>            dm_logger-&gt;on_create_permission(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno">  163</span>         }</div>
<div class="line"><span class="lineno">  164</span>      });</div>
<div class="line"><span class="lineno">  165</span>      <span class="keywordflow">return</span> perm;</div>
<div class="line"><span class="lineno">  166</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_cgraph">
<area shape="rect" title=" " alt="" coords="5,120,198,161"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="255,5,396,46"/>
<area shape="poly" title=" " alt="" coords="140,117,244,62,267,51,269,55,247,67,143,122"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="642,42,810,68"/>
<area shape="poly" title=" " alt="" coords="189,117,245,106,449,78,627,60,627,65,449,83,246,111,190,122"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="246,120,405,161"/>
<area shape="poly" title=" " alt="" coords="198,138,230,138,230,143,198,143"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="249,185,402,226"/>
<area shape="poly" title=" " alt="" coords="174,159,239,178,238,183,173,164"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="266,251,384,291"/>
<area shape="poly" title=" " alt="" coords="131,159,184,196,247,235,259,241,256,246,244,240,181,201,128,163"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="453,5,594,46"/>
<area shape="poly" title=" " alt="" coords="396,23,437,23,437,28,396,28"/>
<area shape="poly" title=" " alt="" coords="595,33,627,38,626,43,594,39"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="858,35,999,75"/>
<area shape="poly" title=" " alt="" coords="810,61,842,61,842,67,810,67"/>
<area shape="poly" title=" " alt="" coords="857,49,825,49,825,43,857,44"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1047,64,1188,105"/>
<area shape="poly" title=" " alt="" coords="1000,63,1032,68,1032,74,999,69"/>
<area shape="poly" title=" " alt="" coords="1047,89,999,90,928,93,857,90,785,75,786,70,858,84,928,87,999,84,1047,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_aac57733c5aa05c1c78a023a80b2f447f_icgraph">
<area shape="rect" title=" " alt="" coords="921,35,1113,75"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="681,5,873,46"/>
<area shape="poly" title=" " alt="" coords="905,44,873,40,874,35,905,39"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,35,633,75"/>
<area shape="poly" title=" " alt="" coords="905,60,873,60,681,60,634,60,634,54,681,55,873,55,905,55"/>
<area shape="poly" title=" " alt="" coords="666,43,634,47,633,42,665,37"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,35,418,75"/>
<area shape="poly" title=" " alt="" coords="450,58,418,58,418,52,450,52"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,35,158,75"/>
<area shape="poly" title=" " alt="" coords="190,58,158,58,158,52,190,52"/>
</map>
</div>

</div>
</div>
<a id="ab0acfec50b75044030d082d1aa3fbf5c" name="ab0acfec50b75044030d082d1aa3fbf5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0acfec50b75044030d082d1aa3fbf5c">&#9670;&#160;</a></span>find_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> * sysio::chain::authorization_manager::find_permission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00251">251</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  252</span>   { <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  253</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.actor.empty() &amp;&amp; !<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.permission.empty(), invalid_permission, <span class="stringliteral">&quot;Invalid permission&quot;</span> );</div>
<div class="line"><span class="lineno">  254</span>      <span class="keywordflow">return</span> _db.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;permission_object, by_owner&gt;( boost::make_tuple(<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.actor,<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.permission) );</div>
<div class="line"><span class="lineno">  255</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>( chain::permission_query_exception, <span class="stringliteral">&quot;Failed to retrieve permission: ${level}&quot;</span>, (<span class="stringliteral">&quot;level&quot;</span>, level) ) }</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a43bd817895cb757183fcecafc6ae7dc1"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a></div><div class="ttdeci">#define SYS_RETHROW_EXCEPTIONS(exception_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00021">exceptions.hpp:21</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_aa5a2ca0da0092693ac49b36b7ec6817a"><div class="ttname"><a href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">chainbase::database::find</a></div><div class="ttdeci">const ObjectType * find(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00458">chainbase.hpp:458</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1log_html_a12d4d17939f102db8c9183d400a41960"><div class="ttname"><a href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">websocketpp::log::level</a></div><div class="ttdeci">uint32_t level</div><div class="ttdoc">Type of a channel package.</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00037">levels.hpp:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,183,46"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="231,5,372,46"/>
<area shape="poly" title=" " alt="" coords="183,23,215,23,215,28,183,28"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="609,13,777,38"/>
<area shape="poly" title=" " alt="" coords="373,30,594,31,593,36,373,35"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="420,75,561,115"/>
<area shape="poly" title=" " alt="" coords="360,44,420,66,418,71,358,49"/>
<area shape="poly" title=" " alt="" coords="609,21,388,21,388,15,609,15"/>
<area shape="poly" title=" " alt="" coords="552,71,637,42,639,47,553,77"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_ab0acfec50b75044030d082d1aa3fbf5c_icgraph">
<area shape="rect" title=" " alt="" coords="216,5,393,46"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#a95ccf1ed89aab0118938c309fbf91d1f" title=" " alt="" coords="5,5,168,46"/>
<area shape="poly" title=" " alt="" coords="200,28,168,28,168,23,200,23"/>
</map>
</div>

</div>
</div>
<a id="a96924f6aca32a602e24d991d12278a69" name="a96924f6aca32a602e24d991d12278a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96924f6aca32a602e24d991d12278a69">&#9670;&#160;</a></span>get_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp; sysio::chain::authorization_manager::get_permission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1permission__level.html">permission_level</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00257">257</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>   { <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  259</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.actor.empty() &amp;&amp; !<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.permission.empty(), invalid_permission, <span class="stringliteral">&quot;Invalid permission&quot;</span> );</div>
<div class="line"><span class="lineno">  260</span>      <span class="keywordflow">return</span> _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;permission_object, by_owner&gt;( boost::make_tuple(<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.actor,<a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">level</a>.permission) );</div>
<div class="line"><span class="lineno">  261</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>( chain::permission_query_exception, <span class="stringliteral">&quot;Failed to retrieve permission: ${level}&quot;</span>, (<span class="stringliteral">&quot;level&quot;</span>, level) ) }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,180,46"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="228,13,395,38"/>
<area shape="poly" title=" " alt="" coords="180,23,212,23,212,28,180,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="443,5,584,46"/>
<area shape="poly" title=" " alt="" coords="396,32,427,32,427,37,396,37"/>
<area shape="poly" title=" " alt="" coords="443,20,411,19,411,14,443,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="632,35,774,75"/>
<area shape="poly" title=" " alt="" coords="585,34,618,39,617,44,584,39"/>
<area shape="poly" title=" " alt="" coords="632,60,584,60,513,63,443,60,371,46,372,41,443,55,513,58,584,55,632,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a96924f6aca32a602e24d991d12278a69_icgraph">
<area shape="rect" title=" " alt="" coords="1962,120,2137,161"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a9f6cf6c813f4a578fddc10cf24aa396a" title="Check authorizations of a permission with provided keys, permission levels, and delay." alt="" coords="1712,5,1914,46"/>
<area shape="poly" title=" " alt="" coords="2001,114,1913,67,1872,49,1874,44,1915,62,2003,109"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="1712,185,1914,226"/>
<area shape="poly" title=" " alt="" coords="1960,168,1890,187,1889,182,1958,163"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#ac1e69cb344bd39871d1c92993a491e95" title=" " alt="" coords="1717,120,1909,161"/>
<area shape="poly" title=" " alt="" coords="1947,143,1910,143,1910,138,1947,138"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="1730,283,1897,323"/>
<area shape="poly" title=" " alt="" coords="2010,172,1916,240,1849,284,1846,280,1913,235,2007,168"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a69d180992926a229a5e3573ea09d762f" title=" " alt="" coords="1476,26,1640,82"/>
<area shape="poly" title=" " alt="" coords="1950,119,1914,111,1769,86,1640,67,1640,62,1769,80,1915,106,1951,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#a95ccf1ed89aab0118938c309fbf91d1f" title=" " alt="" coords="1477,185,1639,226"/>
<area shape="poly" title=" " alt="" coords="1696,208,1639,208,1639,203,1696,203"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1478,251,1638,291"/>
<area shape="poly" title=" " alt="" coords="1717,233,1639,253,1637,248,1716,228"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#ac09c8f3118154bb22b0bd50526e138fa" title=" " alt="" coords="1465,106,1650,162"/>
<area shape="poly" title=" " alt="" coords="1723,183,1650,162,1651,157,1725,178"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,223,1203,263"/>
<area shape="poly" title=" " alt="" coords="1463,268,1204,251,1204,245,1463,262"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,193,1404,234"/>
<area shape="poly" title=" " alt="" coords="1462,250,1404,235,1405,230,1463,245"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,193,1003,234"/>
<area shape="poly" title=" " alt="" coords="1035,232,1003,227,1004,222,1036,227"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,251,803,291"/>
<area shape="poly" title=" " alt="" coords="1036,252,803,268,803,262,1035,246"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,308,574,349"/>
<area shape="poly" title=" " alt="" coords="1036,263,1004,270,904,289,803,306,684,318,575,326,575,321,683,313,802,300,903,284,1002,264,1035,258"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,136,789,177"/>
<area shape="poly" title=" " alt="" coords="835,192,788,179,790,174,836,187"/>
<area shape="poly" title=" " alt="" coords="836,241,792,253,791,247,835,235"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,193,566,234"/>
<area shape="poly" title=" " alt="" coords="835,216,567,216,567,211,835,211"/>
<area shape="poly" title=" " alt="" coords="804,153,901,160,953,167,1004,179,1052,198,1094,220,1092,225,1050,203,1002,184,952,173,901,165,804,158"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,280,158,321"/>
<area shape="poly" title=" " alt="" coords="607,279,158,299,158,294,607,273"/>
<area shape="poly" title=" " alt="" coords="616,249,566,236,568,231,617,244"/>
<area shape="poly" title=" " alt="" coords="617,298,572,310,571,305,616,293"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,308,358,349"/>
<area shape="poly" title=" " alt="" coords="391,331,359,331,359,326,391,326"/>
<area shape="poly" title=" " alt="" coords="190,318,158,314,158,308,190,313"/>
<area shape="poly" title=" " alt="" coords="1236,230,1204,234,1203,229,1235,224"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="1452,316,1664,357"/>
<area shape="poly" title=" " alt="" coords="1715,319,1665,325,1664,320,1714,313"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="1251,316,1404,357"/>
<area shape="poly" title=" " alt="" coords="1436,339,1404,339,1404,334,1436,334"/>
<area shape="poly" title=" " alt="" coords="1464,90,1453,96,1422,119,1392,146,1347,195,1344,191,1389,142,1418,115,1450,91,1461,85"/>
</map>
</div>

</div>
</div>
<a id="a0909c7f81928fd8ffc4269861d12ad3f" name="a0909c7f81928fd8ffc4269861d12ad3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0909c7f81928fd8ffc4269861d12ad3f">&#9670;&#160;</a></span>get_permission_last_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a> sysio::chain::authorization_manager::get_permission_last_used </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>permission</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00247">247</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>                                                                                                          {</div>
<div class="line"><span class="lineno">  248</span>      <span class="keywordflow">return</span> _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;permission_usage_object, by_id&gt;( permission.usage_id ).last_used;</div>
<div class="line"><span class="lineno">  249</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a0909c7f81928fd8ffc4269861d12ad3f_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a0909c7f81928fd8ffc4269861d12ad3f_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a0909c7f81928fd8ffc4269861d12ad3f_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a0909c7f81928fd8ffc4269861d12ad3f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,180,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="228,20,395,46"/>
<area shape="poly" title=" " alt="" coords="180,30,212,30,212,36,180,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="443,13,584,54"/>
<area shape="poly" title=" " alt="" coords="396,39,427,39,427,45,396,45"/>
<area shape="poly" title=" " alt="" coords="443,27,411,27,411,22,443,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="632,42,774,83"/>
<area shape="poly" title=" " alt="" coords="585,41,618,47,617,52,584,47"/>
<area shape="poly" title=" " alt="" coords="632,67,584,68,513,71,443,68,371,53,372,48,443,63,513,66,584,63,632,62"/>
</map>
</div>

</div>
</div>
<a id="ac1e69cb344bd39871d1c92993a491e95" name="ac1e69cb344bd39871d1c92993a491e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e69cb344bd39871d1c92993a491e95">&#9670;&#160;</a></span>get_required_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; sysio::chain::authorization_manager::get_required_keys </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1transaction.html">transaction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>candidate_keys</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>provided_delay</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>(0)</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00614">614</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  618</span>   {</div>
<div class="line"><span class="lineno">  619</span>      <span class="keyword">auto</span> checker = <a class="code hl_function" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b">make_auth_checker</a>( [&amp;](<span class="keyword">const</span> permission_level&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>){ <span class="keywordflow">return</span> <a class="code hl_function" href="#a96924f6aca32a602e24d991d12278a69">get_permission</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>).auth; },</div>
<div class="line"><span class="lineno">  620</span>                                        _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().configuration.max_authority_depth,</div>
<div class="line"><span class="lineno">  621</span>                                        candidate_keys,</div>
<div class="line"><span class="lineno">  622</span>                                        {},</div>
<div class="line"><span class="lineno">  623</span>                                        provided_delay,</div>
<div class="line"><span class="lineno">  624</span>                                        <a class="code hl_variable" href="#a1e4aa0f280bcaa3057bc2970063f74b8">_noop_checktime</a></div>
<div class="line"><span class="lineno">  625</span>                                      );</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; act : trx.actions ) {</div>
<div class="line"><span class="lineno">  628</span>         <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; declared_auth : act.authorization) {</div>
<div class="line"><span class="lineno">  629</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( checker.satisfied(declared_auth), unsatisfied_authorization,</div>
<div class="line"><span class="lineno">  630</span>                        <span class="stringliteral">&quot;transaction declares authority &#39;${auth}&#39;, but does not have signatures for it.&quot;</span>,</div>
<div class="line"><span class="lineno">  631</span>                        (<span class="stringliteral">&quot;auth&quot;</span>, declared_auth) );</div>
<div class="line"><span class="lineno">  632</span>         }</div>
<div class="line"><span class="lineno">  633</span>      }</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>      <span class="keywordflow">return</span> checker.used_keys();</div>
<div class="line"><span class="lineno">  636</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_ac1e69cb344bd39871d1c92993a491e95_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_ac1e69cb344bd39871d1c92993a491e95_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_ac1e69cb344bd39871d1c92993a491e95_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_ac1e69cb344bd39871d1c92993a491e95_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,198,111"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="257,5,409,46"/>
<area shape="poly" title=" " alt="" coords="175,68,243,48,244,53,177,73"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="246,71,420,111"/>
<area shape="poly" title=" " alt="" coords="198,88,230,88,230,94,198,94"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b" title="authority_checker" alt="" coords="267,136,398,177"/>
<area shape="poly" title=" " alt="" coords="177,109,253,131,251,136,175,114"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="468,78,635,104"/>
<area shape="poly" title=" " alt="" coords="420,88,452,88,452,94,420,94"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="683,71,825,111"/>
<area shape="poly" title=" " alt="" coords="636,97,668,97,668,103,636,103"/>
<area shape="poly" title=" " alt="" coords="683,85,651,85,651,79,683,80"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="873,100,1014,141"/>
<area shape="poly" title=" " alt="" coords="825,99,858,104,857,110,824,105"/>
<area shape="poly" title=" " alt="" coords="873,125,825,126,754,129,683,126,611,111,612,106,684,120,754,123,825,120,872,120"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a057ec53a1f8d23b2fb89de6c19b41c32" title=" " alt="" coords="488,136,615,177"/>
<area shape="poly" title=" " alt="" coords="399,154,472,154,472,159,399,159"/>
</map>
</div>

</div>
</div>
<a id="a27cfd5f70c12c10a9939e7bf6b3a52e4" name="a27cfd5f70c12c10a9939e7bf6b3a52e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cfd5f70c12c10a9939e7bf6b3a52e4">&#9670;&#160;</a></span>initialize_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::initialize_database </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>reserve perm 0 (used else where)</p>

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00031">31</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>                                                   {</div>
<div class="line"><span class="lineno">   32</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;permission_object&gt;([](<span class="keyword">auto</span>&amp;){}); </div>
<div class="line"><span class="lineno">   33</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,199,46"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="247,5,388,46"/>
<area shape="poly" title=" " alt="" coords="199,23,231,23,231,28,199,28"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="436,5,577,46"/>
<area shape="poly" title=" " alt="" coords="388,23,421,23,421,28,388,28"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="625,13,793,38"/>
<area shape="poly" title=" " alt="" coords="578,23,610,23,610,28,578,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="841,5,982,46"/>
<area shape="poly" title=" " alt="" coords="793,32,825,32,825,37,793,37"/>
<area shape="poly" title=" " alt="" coords="840,20,808,19,808,14,840,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1030,35,1171,75"/>
<area shape="poly" title=" " alt="" coords="983,34,1015,39,1015,44,982,39"/>
<area shape="poly" title=" " alt="" coords="1030,60,982,60,911,63,840,60,768,46,769,41,841,55,911,58,982,55,1030,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a27cfd5f70c12c10a9939e7bf6b3a52e4_icgraph">
<area shape="rect" title=" " alt="" coords="681,5,875,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,5,633,46"/>
<area shape="poly" title=" " alt="" coords="666,28,634,28,634,23,666,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,5,418,46"/>
<area shape="poly" title=" " alt="" coords="450,28,418,28,418,23,450,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a6193726fcf21c9b75f460696a67b6839" name="a6193726fcf21c9b75f460696a67b6839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6193726fcf21c9b75f460696a67b6839">&#9670;&#160;</a></span>lookup_minimum_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="namespacesysio_1_1chain.html#aacc541763fed17ee490b6ac42b7bb77a">permission_name</a> &gt; sysio::chain::authorization_manager::lookup_minimum_permission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>authorizer_account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a58379f7b40727cd3645e0f5a9b24e653">scope_name</a></td>          <td class="paramname"><span class="paramname"><em>code_account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a></td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">authorizer_account</td><td>The account authorizing the message </td></tr>
    <tr><td class="paramname">code_account</td><td>The account which publishes the contract that handles the message </td></tr>
    <tr><td class="paramname">type</td><td>The type of message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00286">286</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  290</span>   {</div>
<div class="line"><span class="lineno">  291</span>      <span class="comment">// Special case native actions cannot be linked to a minimum permission, so there is no need to check.</span></div>
<div class="line"><span class="lineno">  292</span>      <span class="keywordflow">if</span>( scope == config::system_account_name ) {</div>
<div class="line"><span class="lineno">  293</span>          <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( act_name != <a class="code hl_function" href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814">updateauth::get_name</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  294</span>                     act_name != <a class="code hl_function" href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d">deleteauth::get_name</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  295</span>                     act_name != <a class="code hl_function" href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b">linkauth::get_name</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  296</span>                     act_name != <a class="code hl_function" href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327">unlinkauth::get_name</a>() &amp;&amp;</div>
<div class="line"><span class="lineno">  297</span>                     act_name != <a class="code hl_function" href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f">canceldelay::get_name</a>(),</div>
<div class="line"><span class="lineno">  298</span>                     unlinkable_min_permission_action,</div>
<div class="line"><span class="lineno">  299</span>                     <span class="stringliteral">&quot;cannot call lookup_minimum_permission on native actions that are not allowed to be linked to minimum permissions&quot;</span> );</div>
<div class="line"><span class="lineno">  300</span>      }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  303</span>         std::optional&lt;permission_name&gt; linked_permission = lookup_linked_permission(authorizer_account, scope, act_name);</div>
<div class="line"><span class="lineno">  304</span>         <span class="keywordflow">if</span>( !linked_permission )</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">return</span> config::active_name;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>         <span class="keywordflow">if</span>( *linked_permission == config::sysio_any_name )</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">return</span> std::optional&lt;permission_name&gt;();</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>         <span class="keywordflow">return</span> linked_permission;</div>
<div class="line"><span class="lineno">  311</span>      } <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>((authorizer_account)(scope)(act_name))</div>
<div class="line"><span class="lineno">  312</span>   }</div>
<div class="ttc" id="aexception_8hpp_html_a094902280cad82ad6529ebbd12a697eb"><div class="ttname"><a href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a></div><div class="ttdeci">#define FC_CAPTURE_AND_RETHROW(...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00523">exception.hpp:523</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_cgraph">
<area shape="rect" title="Find the lowest authority level required for authorizer_account to authorize a message of the specifi..." alt="" coords="5,128,190,184"/>
<area shape="rect" href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f" title=" " alt="" coords="238,5,406,46"/>
<area shape="poly" title=" " alt="" coords="133,126,181,91,236,57,249,50,251,55,239,61,184,95,136,130"/>
<area shape="rect" href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d" title=" " alt="" coords="242,71,402,111"/>
<area shape="poly" title=" " alt="" coords="190,127,234,114,236,119,191,132"/>
<area shape="rect" href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b" title=" " alt="" coords="250,136,394,177"/>
<area shape="poly" title=" " alt="" coords="190,154,234,154,234,159,190,159"/>
<area shape="rect" href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327" title=" " alt="" coords="243,201,401,242"/>
<area shape="poly" title=" " alt="" coords="191,181,236,194,234,199,190,186"/>
<area shape="rect" href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814" title=" " alt="" coords="240,267,404,307"/>
<area shape="poly" title=" " alt="" coords="136,183,184,217,239,251,251,258,249,262,236,256,181,222,133,187"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a6193726fcf21c9b75f460696a67b6839_icgraph">
<area shape="rect" title="Find the lowest authority level required for authorizer_account to authorize a message of the specifi..." alt="" coords="1935,83,2120,139"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="1685,91,1887,131"/>
<area shape="poly" title=" " alt="" coords="1920,114,1888,114,1888,108,1920,108"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#a95ccf1ed89aab0118938c309fbf91d1f" title=" " alt="" coords="1463,25,1626,66"/>
<area shape="poly" title=" " alt="" coords="1693,89,1622,69,1623,64,1694,84"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1465,91,1624,131"/>
<area shape="poly" title=" " alt="" coords="1669,114,1624,114,1624,108,1669,108"/>
<area shape="rect" href="classsysio_1_1chain_1_1apply__context.html#ac09c8f3118154bb22b0bd50526e138fa" title=" " alt="" coords="1452,155,1637,211"/>
<area shape="poly" title=" " alt="" coords="1702,139,1638,158,1637,153,1700,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1449,112,1251,111,1204,112,1204,107,1251,106,1449,106"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,120,1404,161"/>
<area shape="poly" title=" " alt="" coords="1450,126,1405,133,1404,127,1449,121"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
<area shape="poly" title=" " alt="" coords="1235,130,1203,126,1204,120,1236,125"/>
</map>
</div>

</div>
</div>
<a id="abf01ddda4cd475bf2530ad1d28c72dfb" name="abf01ddda4cd475bf2530ad1d28c72dfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf01ddda4cd475bf2530ad1d28c72dfb">&#9670;&#160;</a></span>modify_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::modify_permission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>permission</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>auth</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00203">203</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span>                                                                                                             {</div>
<div class="line"><span class="lineno">  204</span>      <span class="keywordflow">for</span>(<span class="keyword">const</span> key_weight&amp; k: auth.keys)</div>
<div class="line"><span class="lineno">  205</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(k.key.which() &lt; _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;protocol_state_object&gt;().num_supported_key_types, unactivated_key_type,</div>
<div class="line"><span class="lineno">  206</span>           <span class="stringliteral">&quot;Unactivated key type used when modifying permission&quot;</span>);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( permission, [&amp;](permission_object&amp; po) {</div>
<div class="line"><span class="lineno">  209</span>         <span class="keyword">auto</span> dm_logger = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">get_deep_mind_logger</a>();</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>         std::optional&lt;permission_object&gt; old_permission;</div>
<div class="line"><span class="lineno">  212</span>         <span class="keywordflow">if</span> (dm_logger) {</div>
<div class="line"><span class="lineno">  213</span>            old_permission = po;</div>
<div class="line"><span class="lineno">  214</span>         }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>         po.auth = auth;</div>
<div class="line"><span class="lineno">  217</span>         po.last_updated = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>();</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  220</span>            dm_logger-&gt;on_modify_permission(*old_permission, po);</div>
<div class="line"><span class="lineno">  221</span>         }</div>
<div class="line"><span class="lineno">  222</span>      });</div>
<div class="line"><span class="lineno">  223</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a9ebc006075e8fc2e84357a0e068b58d4"><div class="ttname"><a href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">chainbase::database::modify</a></div><div class="ttdeci">void modify(const ObjectType &amp;obj, Modifier &amp;&amp;m)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00503">chainbase.hpp:503</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_abf01ddda4cd475bf2530ad1d28c72dfb_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_abf01ddda4cd475bf2530ad1d28c72dfb_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_abf01ddda4cd475bf2530ad1d28c72dfb_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_abf01ddda4cd475bf2530ad1d28c72dfb_cgraph">
<area shape="rect" title=" " alt="" coords="5,103,201,144"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="645,49,813,75"/>
<area shape="poly" title=" " alt="" coords="124,101,177,59,211,39,248,24,305,11,364,4,423,3,481,7,587,22,671,42,670,47,586,28,480,12,423,8,364,9,306,16,249,29,214,44,180,63,128,105"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="249,38,408,79"/>
<area shape="poly" title=" " alt="" coords="175,100,240,81,242,86,176,105"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="258,103,399,144"/>
<area shape="poly" title=" " alt="" coords="201,121,242,121,242,126,201,126"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="252,169,404,209"/>
<area shape="poly" title=" " alt="" coords="176,142,242,161,240,166,175,147"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="269,234,388,275"/>
<area shape="poly" title=" " alt="" coords="133,142,186,180,250,219,262,225,259,229,247,223,183,184,130,146"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="861,42,1002,83"/>
<area shape="poly" title=" " alt="" coords="813,69,845,69,845,74,813,74"/>
<area shape="poly" title=" " alt="" coords="860,56,828,56,828,51,860,51"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1050,71,1191,112"/>
<area shape="poly" title=" " alt="" coords="1003,71,1035,76,1035,81,1002,76"/>
<area shape="poly" title=" " alt="" coords="1050,96,1002,97,931,100,860,97,788,82,789,77,861,92,931,95,1002,92,1050,91"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="456,70,597,111"/>
<area shape="poly" title=" " alt="" coords="399,109,440,102,441,107,400,114"/>
<area shape="poly" title=" " alt="" coords="597,78,629,73,630,79,598,83"/>
</map>
</div>

</div>
</div>
<a id="a7a4d84d47bcd9069ab0c8d8f9f9ac5f3" name="a7a4d84d47bcd9069ab0c8d8f9f9ac5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3">&#9670;&#160;</a></span>read_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::read_from_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00113">113</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  113</span>                                                                                       {</div>
<div class="line"><span class="lineno">  114</span>      authorization_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">  115</span>         <span class="keyword">using </span>section_t = <span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>         <span class="comment">// skip the permission_usage_index as its inlined with permission_index</span></div>
<div class="line"><span class="lineno">  118</span>         <span class="keywordflow">if</span> (std::is_same&lt;section_t, permission_usage_object&gt;::value) {</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  120</span>         }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>         snapshot-&gt;read_section&lt;section_t&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ) {</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordtype">bool</span> more = !section.empty();</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">while</span>(more) {</div>
<div class="line"><span class="lineno">  125</span>               <span class="keyword">decltype</span>(utils)::create(_db, [<span class="keyword">this</span>, &amp;section, &amp;more]( <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">  126</span>                  more = section.read_row(row, _db);</div>
<div class="line"><span class="lineno">  127</span>               });</div>
<div class="line"><span class="lineno">  128</span>            }</div>
<div class="line"><span class="lineno">  129</span>         });</div>
<div class="line"><span class="lineno">  130</span>      });</div>
<div class="line"><span class="lineno">  131</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3_icgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3_icgraph">
<area shape="rect" title=" " alt="" coords="432,5,636,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a247c87d241e707c5e482c3d6d8872a7f" title=" " alt="" coords="206,5,384,46"/>
<area shape="poly" title=" " alt="" coords="416,28,384,28,384,23,416,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a9c889c94c63b7c53a5b4919738d6166b" name="a9c889c94c63b7c53a5b4919738d6166b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c889c94c63b7c53a5b4919738d6166b">&#9670;&#160;</a></span>remove_permission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::remove_permission </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>permission</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00225">225</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>                                                                                      {</div>
<div class="line"><span class="lineno">  226</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; index = _db.template <a class="code hl_function" href="namespacefc.html#ae009b19d1fecf5979996e9f326cd98c3">get_index&lt;permission_index, by_parent&gt;</a>();</div>
<div class="line"><span class="lineno">  227</span>      <span class="keyword">auto</span> range = index.equal_range(permission.id);</div>
<div class="line"><span class="lineno">  228</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( range.first == range.second, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a764b50974b9b72a0e233e72176913d6b">action_validate_exception</a>,</div>
<div class="line"><span class="lineno">  229</span>                  <span class="stringliteral">&quot;Cannot remove a permission which has children. Remove the children first.&quot;</span>);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">get_mutable_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad2f4ad05ff8f6e64102bf097f596589e">permission_usage_index</a>&gt;().remove_object( permission.usage_id._id );</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  234</span>         dm_logger-&gt;on_remove_permission(permission);</div>
<div class="line"><span class="lineno">  235</span>      }</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b">remove</a>( permission );</div>
<div class="line"><span class="lineno">  238</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_ac6bb29708e4fdfb6899028e3c351fe0b"><div class="ttname"><a href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b">chainbase::database::remove</a></div><div class="ttdeci">void remove(const ObjectType &amp;obj)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00511">chainbase.hpp:511</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_afaea057692a8bbbf3f506b64c60308b6"><div class="ttname"><a href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">chainbase::database::get_mutable_index</a></div><div class="ttdeci">generic_index&lt; MultiIndexType &gt; &amp; get_mutable_index()</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00447">chainbase.hpp:447</a></div></div>
<div class="ttc" id="anamespacefc_html_ae009b19d1fecf5979996e9f326cd98c3"><div class="ttname"><a href="namespacefc.html#ae009b19d1fecf5979996e9f326cd98c3">fc::get_index</a></div><div class="ttdeci">constexpr std::size_t get_index()</div><div class="ttdef"><b>Definition</b> <a href="static__variant_8hpp_source.html#l00033">static_variant.hpp:33</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a764b50974b9b72a0e233e72176913d6b"><div class="ttname"><a href="namespacesysio_1_1chain.html#a764b50974b9b72a0e233e72176913d6b">sysio::chain::action_validate_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed Transaction exceeded transient resource limit action_validate_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00284">exceptions.hpp:284</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ad2f4ad05ff8f6e64102bf097f596589e"><div class="ttname"><a href="namespacesysio_1_1chain.html#ad2f4ad05ff8f6e64102bf097f596589e">sysio::chain::permission_usage_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; permission_usage_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; permission_usage_object, permission_usage_object::id_type, &amp;permission_usage_object::id &gt; &gt; &gt; &gt; permission_usage_index</div><div class="ttdef"><b>Definition</b> <a href="permission__object_8hpp_source.html#l00017">permission_object.hpp:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a9c889c94c63b7c53a5b4919738d6166b_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a9c889c94c63b7c53a5b4919738d6166b_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a9c889c94c63b7c53a5b4919738d6166b_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a9c889c94c63b7c53a5b4919738d6166b_cgraph">
<area shape="rect" title=" " alt="" coords="5,112,205,153"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="253,5,412,46"/>
<area shape="poly" title=" " alt="" coords="144,109,252,55,263,50,265,55,254,60,146,114"/>
<area shape="rect" href="namespacefc.html#ae009b19d1fecf5979996e9f326cd98c3" title=" " alt="" coords="284,94,380,120"/>
<area shape="poly" title=" " alt="" coords="205,119,268,111,269,117,205,124"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="460,167,601,207"/>
<area shape="poly" title=" " alt="" coords="205,142,445,173,444,179,205,148"/>
<area shape="rect" href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b" title=" " alt="" coords="262,195,403,235"/>
<area shape="poly" title=" " alt="" coords="164,151,260,186,259,191,162,156"/>
<area shape="poly" title=" " alt="" coords="299,95,293,86,297,76,310,70,332,68,357,70,369,77,367,82,355,75,332,73,311,75,300,80,298,85,303,92"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="649,174,817,200"/>
<area shape="poly" title=" " alt="" coords="602,184,634,184,634,190,602,190"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="865,167,1006,207"/>
<area shape="poly" title=" " alt="" coords="817,193,849,193,849,199,817,199"/>
<area shape="poly" title=" " alt="" coords="864,181,832,181,832,175,864,176"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1054,196,1195,237"/>
<area shape="poly" title=" " alt="" coords="1007,195,1039,200,1039,206,1006,201"/>
<area shape="poly" title=" " alt="" coords="1054,221,1006,222,935,225,864,222,792,207,793,202,865,216,935,219,1006,216,1054,216"/>
<area shape="poly" title=" " alt="" coords="403,202,444,196,445,202,404,208"/>
</map>
</div>

</div>
</div>
<a id="a6755c0b39298b2933eb4e74649a36442" name="a6755c0b39298b2933eb4e74649a36442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6755c0b39298b2933eb4e74649a36442">&#9670;&#160;</a></span>update_permission_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::authorization_manager::update_permission_usage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>permission</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8cpp_source.html#l00240">240</a> of file <a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>                                                                                            {</div>
<div class="line"><span class="lineno">  241</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; puo = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;permission_usage_object, by_id&gt;( permission.usage_id );</div>
<div class="line"><span class="lineno">  242</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( puo, [&amp;](permission_usage_object&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>) {</div>
<div class="line"><span class="lineno">  243</span>         <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.last_used = _control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>();</div>
<div class="line"><span class="lineno">  244</span>      });</div>
<div class="line"><span class="lineno">  245</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1authorization__manager_a6755c0b39298b2933eb4e74649a36442_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1authorization__manager_a6755c0b39298b2933eb4e74649a36442_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1authorization__manager_a6755c0b39298b2933eb4e74649a36442_cgraph" id="aclasssysio_1_1chain_1_1authorization__manager_a6755c0b39298b2933eb4e74649a36442_cgraph">
<area shape="rect" title=" " alt="" coords="5,33,243,74"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="680,13,848,38"/>
<area shape="poly" title=" " alt="" coords="217,30,290,19,390,13,490,11,665,16,665,22,490,16,390,18,291,24,218,35"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="296,33,438,74"/>
<area shape="poly" title=" " alt="" coords="243,51,281,51,281,56,243,56"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="291,99,443,139"/>
<area shape="poly" title=" " alt="" coords="203,72,277,92,275,97,201,77"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="896,5,1037,46"/>
<area shape="poly" title=" " alt="" coords="848,32,880,32,880,37,848,37"/>
<area shape="poly" title=" " alt="" coords="895,20,863,19,863,14,895,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1085,35,1226,75"/>
<area shape="poly" title=" " alt="" coords="1038,34,1070,39,1070,44,1037,39"/>
<area shape="poly" title=" " alt="" coords="1085,60,1037,60,966,63,895,60,823,46,824,41,896,55,966,58,1037,55,1085,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="491,33,632,74"/>
<area shape="poly" title=" " alt="" coords="438,51,476,51,476,56,438,56"/>
<area shape="poly" title=" " alt="" coords="632,41,664,37,665,42,633,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1e4aa0f280bcaa3057bc2970063f74b8" name="a1e4aa0f280bcaa3057bc2970063f74b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4aa0f280bcaa3057bc2970063f74b8">&#9670;&#160;</a></span>_noop_checktime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt; void()&gt; sysio::chain::authorization_manager::_noop_checktime {&amp;<a class="el" href="namespacesysio_1_1chain.html#a057ec53a1f8d23b2fb89de6c19b41c32">noop_checktime</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="authorization__manager_8hpp_source.html#l00116">116</a> of file <a class="el" href="authorization__manager_8hpp_source.html">authorization_manager.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/chain/include/sysio/chain/<a class="el" href="authorization__manager_8hpp_source.html">authorization_manager.hpp</a></li>
<li>libraries/chain/<a class="el" href="authorization__manager_8cpp_source.html">authorization_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="classsysio_1_1chain_1_1authorization__manager.html">authorization_manager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
