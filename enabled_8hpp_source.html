<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: libraries/fc/vendor/websocketpp/websocketpp/extensions/permessage_deflate/enabled.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('enabled_8hpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">enabled.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="enabled_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright (c) 2015, Peter Thorson. All rights reserved.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *       notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> *       documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> *     * Neither the name of the WebSocket++ Project nor the</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> *       names of its contributors may be used to endorse or promote products</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *       derived from this software without specific prior written permission.</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> *</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"> * ARE DISCLAIMED. IN NO EVENT SHALL PETER THORSON BE LIABLE FOR ANY</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment"> * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment"> *</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment"> */</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#ifndef WEBSOCKETPP_PROCESSOR_EXTENSION_PERMESSAGEDEFLATE_HPP</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#define WEBSOCKETPP_PROCESSOR_EXTENSION_PERMESSAGEDEFLATE_HPP</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="cpp11_8hpp.html">websocketpp/common/cpp11.hpp</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="fc_2vendor_2websocketpp_2websocketpp_2common_2memory_8hpp.html">websocketpp/common/memory.hpp</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;<a class="code" href="platforms_8hpp.html">websocketpp/common/platforms.hpp</a>&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;<a class="code" href="system__error_8hpp.html">websocketpp/common/system_error.hpp</a>&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &lt;<a class="code" href="error_8hpp.html">websocketpp/error.hpp</a>&gt;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;<a class="code" href="extension_8hpp.html">websocketpp/extensions/extension.hpp</a>&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;zlib.h&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacewebsocketpp.html">websocketpp</a> {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">namespace </span><a class="code hl_function" href="namespacesysio_1_1chain.html#a3b7a4ae836eef24dfcacdc86f5b1cb3f">extensions</a> {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="keyword">namespace </span>permessage_deflate {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="foldopen" id="foldopen00090" data-start="{" data-end="}">
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html">   90</a></span><span class="keyword">namespace </span>error {</div>
<div class="foldopen" id="foldopen00091" data-start="{" data-end="};">
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">   91</a></span><span class="keyword">enum</span> <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">value</a> {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaea6d6b0b77348e739b118910c74b1ee0">   93</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaea6d6b0b77348e739b118910c74b1ee0">general</a> = 1,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">   96</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">invalid_attributes</a>,</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">   99</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">invalid_attribute_value</a>,</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">  102</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">invalid_mode</a>,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea07d85052b0885acaa098a7fe3d8f7bee">  105</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea07d85052b0885acaa098a7fe3d8f7bee">unsupported_attributes</a>,</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">  108</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">invalid_max_window_bits</a>,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">  111</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">zlib_error</a>,</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">  114</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">uninitialized</a>,</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>};</div>
</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="foldopen" id="foldopen00118" data-start="{" data-end="};">
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html">  118</a></span><span class="keyword">class </span><a class="code hl_class" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html">category</a> : <span class="keyword">public</span> lib::error_category {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a9c0026b8e71ac960bbe48f58df71dac7">  120</a></span>    <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a9c0026b8e71ac960bbe48f58df71dac7">category</a>() {}</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="foldopen" id="foldopen00122" data-start="{" data-end="}">
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#ab0ca6bac6a00169d6e2a55f88e2c63be">  122</a></span>    <span class="keywordtype">char</span> <span class="keyword">const</span> * <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#ab0ca6bac6a00169d6e2a55f88e2c63be">name</a>() const <a class="code hl_define" href="cpp11_8hpp.html#aa19747404a5f2fe9c9eb9e9d2e48f26c">_WEBSOCKETPP_NOEXCEPT_TOKEN_</a> {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;websocketpp.extension.permessage-deflate&quot;</span>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    }</div>
</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="foldopen" id="foldopen00126" data-start="{" data-end="}">
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a1c1ff476766b3f9bb115a92ec809c01e">  126</a></span>    std::string <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a1c1ff476766b3f9bb115a92ec809c01e">message</a>(<span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">value</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">switch</span>(<a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">value</a>) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaea6d6b0b77348e739b118910c74b1ee0">general</a>:</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Generic permessage-compress error&quot;</span>;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">invalid_attributes</a>:</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid extension attributes&quot;</span>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">invalid_attribute_value</a>:</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid extension attribute value&quot;</span>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">invalid_mode</a>:</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid permessage-deflate negotiation mode&quot;</span>;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea07d85052b0885acaa098a7fe3d8f7bee">unsupported_attributes</a>:</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unsupported extension attributes&quot;</span>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">invalid_max_window_bits</a>:</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid value for max_window_bits&quot;</span>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">zlib_error</a>:</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;A zlib function returned an error&quot;</span>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">uninitialized</a>:</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Deflate extension must be initialized before use&quot;</span>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown permessage-compress error&quot;</span>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        }</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    }</div>
</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>};</div>
</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="foldopen" id="foldopen00151" data-start="{" data-end="}">
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e">  151</a></span><span class="keyword">inline</span> lib::error_category <span class="keyword">const</span> &amp; <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e">get_category</a>() {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="keyword">static</span> <a class="code hl_class" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html">category</a> instance;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordflow">return</span> instance;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="foldopen" id="foldopen00157" data-start="{" data-end="}">
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">  157</a></span><span class="keyword">inline</span> lib::error_code <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">make_error_code</a>(<a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">error::value</a> e) {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">return</span> lib::error_code(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(e), <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e">get_category</a>());</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>}</div>
</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>} <span class="comment">// namespace error</span></div>
</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>} <span class="comment">// namespace permessage_deflate</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>} <span class="comment">// namespace extensions</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>} <span class="comment">// namespace websocketpp</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><a class="code hl_define" href="system__error_8hpp.html#ae2dd63f161e522979fa3fa8863bc7542">_WEBSOCKETPP_ERROR_CODE_ENUM_NS_START_</a></div>
<div class="foldopen" id="foldopen00167" data-start="{" data-end="};">
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="structis__error__code__enum_3_01websocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1value_01_4.html">  167</a></span><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span>is_error_code_enum</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    &lt;<a class="code hl_namespace" href="namespacewebsocketpp.html">websocketpp</a>::extensions::permessage_deflate::error::value&gt;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>{</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="structis__error__code__enum_3_01websocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1value_01_4.html#a1ceffb56a9c084320554bdf454b3b88f">  170</a></span>    <span class="keyword">static</span> <span class="keywordtype">bool</span> <span class="keyword">const</span> <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>};</div>
</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><a class="code hl_define" href="system__error_8hpp.html#a56fda676cd6c004a29bc79ae5ef78395">_WEBSOCKETPP_ERROR_CODE_ENUM_NS_END_</a></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacewebsocketpp.html">websocketpp</a> {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="keyword">namespace </span>extensions {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="keyword">namespace </span>permessage_deflate {</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> default_server_max_window_bits = 15;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> min_server_max_window_bits = 8;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> max_server_max_window_bits = 15;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> default_client_max_window_bits = 15;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> min_client_max_window_bits = 8;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="keyword">static</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> max_client_max_window_bits = 15;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="foldopen" id="foldopen00191" data-start="{" data-end="}">
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html">  191</a></span><span class="keyword">namespace </span>mode {</div>
<div class="foldopen" id="foldopen00192" data-start="{" data-end="};">
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">  192</a></span><span class="keyword">enum</span> <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">value</a> {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">  194</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">accept</a> = 1,</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4">  196</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4">decline</a>,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374">  198</a></span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374">largest</a>,</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af">smallest</a></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af">  201</a></span>};</div>
</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>} <span class="comment">// namespace mode</span></div>
</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> config&gt;</div>
<div class="foldopen" id="foldopen00205" data-start="{" data-end="};">
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">  205</a></span><span class="keyword">class </span><a class="code hl_class" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">enabled</a> {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00207" data-start="{" data-end="}">
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3f0008a567db57dd73f3233ebe54086f">  207</a></span>    <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3f0008a567db57dd73f3233ebe54086f">enabled</a>()</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>      : m_enabled(false)</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>      , m_server_no_context_takeover(false)</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>      , m_client_no_context_takeover(false)</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>      , m_server_max_window_bits(15)</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>      , m_client_max_window_bits(15)</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>      , m_server_max_window_bits_mode(mode::accept)</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>      , m_client_max_window_bits_mode(mode::accept)</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>      , m_initialized(false)</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>      , m_compress_buffer_size(16384)</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        m_dstate.zalloc = Z_NULL;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        m_dstate.zfree = Z_NULL;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        m_dstate.opaque = Z_NULL;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        m_istate.zalloc = Z_NULL;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        m_istate.zfree = Z_NULL;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        m_istate.opaque = Z_NULL;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        m_istate.avail_in = 0;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        m_istate.next_in = Z_NULL;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="foldopen" id="foldopen00229" data-start="{" data-end="}">
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa0c3a9af501b48f3cf946a84aa8a88bb">  229</a></span>    <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa0c3a9af501b48f3cf946a84aa8a88bb">~enabled</a>() {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = deflateEnd(&amp;m_dstate);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <span class="comment">//std::cout &lt;&lt; &quot;error cleaning up zlib compression state&quot;</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <span class="comment">//          &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflateEnd(&amp;m_istate);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            <span class="comment">//std::cout &lt;&lt; &quot;error cleaning up zlib decompression state&quot;</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <span class="comment">//          &lt;&lt; std::endl;</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        }</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    }</div>
</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="}">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a0d842cb0cd2add8016e739dfcd675ba0">  260</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a0d842cb0cd2add8016e739dfcd675ba0">init</a>(<span class="keywordtype">bool</span> is_server) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> deflate_bits;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> inflate_bits;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="keywordflow">if</span> (is_server) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>            deflate_bits = m_server_max_window_bits;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            inflate_bits = m_client_max_window_bits;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            deflate_bits = m_client_max_window_bits;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            inflate_bits = m_server_max_window_bits;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = deflateInit2(</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            &amp;m_dstate,</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>            Z_DEFAULT_COMPRESSION,</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            Z_DEFLATED,</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            -1*deflate_bits,</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            4, <span class="comment">// memory level 1-9</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            Z_DEFAULT_STRATEGY</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        );</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflateInit2(</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            &amp;m_istate,</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            -1*inflate_bits</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span> </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        m_compress_buffer.reset(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[m_compress_buffer_size]);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">if</span> ((m_server_no_context_takeover &amp;&amp; is_server) ||</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            (m_client_no_context_takeover &amp;&amp; !is_server))</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            m_flush = Z_FULL_FLUSH;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            m_flush = Z_SYNC_FLUSH;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        m_initialized = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    }</div>
</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="foldopen" id="foldopen00312" data-start="{" data-end="}">
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a76a196b1428865e739fe99e951f03e68">  312</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a76a196b1428865e739fe99e951f03e68">is_implemented</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    }</div>
</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="foldopen" id="foldopen00323" data-start="{" data-end="}">
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5190a82b1571a94704cef6959ed78ce2">  323</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5190a82b1571a94704cef6959ed78ce2">is_enabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <span class="keywordflow">return</span> m_enabled;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    }</div>
</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="foldopen" id="foldopen00348" data-start="{" data-end="}">
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a9275c22cfd6782ef72a722168d663d8b">  348</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a9275c22cfd6782ef72a722168d663d8b">enable_server_no_context_takeover</a>() {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        m_server_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="foldopen" id="foldopen00367" data-start="{" data-end="}">
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a21e8e0200cab9dd276842ce9ecbd6639">  367</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a21e8e0200cab9dd276842ce9ecbd6639">enable_client_no_context_takeover</a>() {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        m_client_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    }</div>
</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="foldopen" id="foldopen00393" data-start="{" data-end="}">
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#ac2f1bd776c26b4d54afaceded1841394">  393</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#ac2f1bd776c26b4d54afaceded1841394">set_server_max_window_bits</a>(<a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits, <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> mode) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        <span class="keywordflow">if</span> (bits &lt; min_server_max_window_bits || bits &gt; max_server_max_window_bits) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">error::invalid_max_window_bits</a>);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        }</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        m_server_max_window_bits = bits;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        m_server_max_window_bits_mode = mode;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    }</div>
</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="foldopen" id="foldopen00424" data-start="{" data-end="}">
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5bfcf29752865c0e9c8e8092ee21b5af">  424</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5bfcf29752865c0e9c8e8092ee21b5af">set_client_max_window_bits</a>(<a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits, <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> mode) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        <span class="keywordflow">if</span> (bits &lt; min_client_max_window_bits || bits &gt; max_client_max_window_bits) {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">error::invalid_max_window_bits</a>);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        m_client_max_window_bits = bits;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>        m_client_max_window_bits_mode = mode;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    }</div>
</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="foldopen" id="foldopen00441" data-start="{" data-end="}">
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#adc342a368792f5beee8dddbbc5981846">  441</a></span>    std::string <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#adc342a368792f5beee8dddbbc5981846">generate_offer</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="comment">// TODO: this should be dynamically generated based on user settings</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;permessage-deflate; client_no_context_takeover; client_max_window_bits&quot;</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    }</div>
</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="foldopen" id="foldopen00454" data-start="{" data-end="}">
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#acf45724e34c174a0b8a5166192f659de">  454</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#acf45724e34c174a0b8a5166192f659de">validate_offer</a>(http::attribute_list <span class="keyword">const</span> &amp;) {</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    }</div>
</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="foldopen" id="foldopen00467" data-start="{" data-end="}">
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa05eda4f6a0231c13708445480181ff4">  467</a></span>    <a class="code hl_typedef" href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">err_str_pair</a> <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa05eda4f6a0231c13708445480181ff4">negotiate</a>(http::attribute_list <span class="keyword">const</span> &amp; offer) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        <a class="code hl_typedef" href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">err_str_pair</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span> </div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        http::attribute_list::const_iterator it;</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        <span class="keywordflow">for</span> (it = offer.begin(); it != offer.end(); ++it) {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;server_no_context_takeover&quot;</span>) {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>                negotiate_server_no_context_takeover(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;client_no_context_takeover&quot;</span>) {</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                negotiate_client_no_context_takeover(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;server_max_window_bits&quot;</span>) {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                negotiate_server_max_window_bits(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;client_max_window_bits&quot;</span>) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                negotiate_client_max_window_bits(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">error::invalid_attributes</a>);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first) {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            }</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        }</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first == lib::error_code()) {</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>            m_enabled = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.second = generate_response();</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        }</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    }</div>
</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="foldopen" id="foldopen00506" data-start="{" data-end="}">
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3002ea83fbc0066f9ecf23b4be082365">  506</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3002ea83fbc0066f9ecf23b4be082365">compress</a>(std::string <span class="keyword">const</span> &amp; in, std::string &amp; out) {</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">error::uninitialized</a>);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="keywordtype">size_t</span> output;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        <span class="keywordflow">if</span> (in.empty()) {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[6] = {0x02, 0x00, 0x00, 0x00, 0xff, 0xff};</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            out.append((<span class="keywordtype">char</span> *)(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>),6);</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>        }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        m_dstate.avail_in = in.size();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        m_dstate.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)(<span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(in.data()));</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <span class="comment">// Output to local buffer</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            m_dstate.avail_out = m_compress_buffer_size;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>            m_dstate.next_out = m_compress_buffer.get();</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>            deflate(&amp;m_dstate, m_flush);</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span> </div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            output = m_compress_buffer_size - m_dstate.avail_out;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            out.append((<span class="keywordtype">char</span> *)(m_compress_buffer.get()),output);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        } <span class="keywordflow">while</span> (m_dstate.avail_out == 0);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="foldopen" id="foldopen00544" data-start="{" data-end="}">
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno"><a class="line" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a55efd7772443eaf07435042a146cc5f7">  544</a></span>    lib::error_code <a class="code hl_function" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a55efd7772443eaf07435042a146cc5f7">decompress</a>(<a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <span class="keyword">const</span> * <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, <span class="keywordtype">size_t</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, std::string &amp;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        out)</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">error::uninitialized</a>);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        }</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span> </div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        m_istate.avail_in = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        m_istate.next_in = <span class="keyword">const_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>);</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>            m_istate.avail_out = m_compress_buffer_size;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>            m_istate.next_out = m_compress_buffer.get();</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflate(&amp;m_istate, Z_SYNC_FLUSH);</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_NEED_DICT || <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_DATA_ERROR || <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_MEM_ERROR) {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            out.append(</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(m_compress_buffer.get()),</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                m_compress_buffer_size - m_istate.avail_out</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            );</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        } <span class="keywordflow">while</span> (m_istate.avail_out == 0);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>    }</div>
</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    std::string generate_response() {</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        std::string <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = <span class="stringliteral">&quot;permessage-deflate&quot;</span>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <span class="keywordflow">if</span> (m_server_no_context_takeover) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> += <span class="stringliteral">&quot;; server_no_context_takeover&quot;</span>;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        }</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span> </div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordflow">if</span> (m_client_no_context_takeover) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> += <span class="stringliteral">&quot;; client_no_context_takeover&quot;</span>;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="keywordflow">if</span> (m_server_max_window_bits &lt; default_server_max_window_bits) {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; int(m_server_max_window_bits);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> += <span class="stringliteral">&quot;; server_max_window_bits=&quot;</span>+<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        <span class="keywordflow">if</span> (m_client_max_window_bits &lt; default_client_max_window_bits) {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; int(m_client_max_window_bits);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> += <span class="stringliteral">&quot;; client_max_window_bits=&quot;</span>+<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str();</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>    }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="keywordtype">void</span> negotiate_server_no_context_takeover(std::string <span class="keyword">const</span> &amp; <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        lib::error_code &amp; ec)</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.empty()) {</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">error::invalid_attribute_value</a>);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>        }</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        m_server_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    }</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <span class="keywordtype">void</span> negotiate_client_no_context_takeover(std::string <span class="keyword">const</span> &amp; <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        lib::error_code &amp; ec)</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keywordflow">if</span> (!<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.empty()) {</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">error::invalid_attribute_value</a>);</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        m_client_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <span class="keywordtype">void</span> negotiate_server_max_window_bits(std::string <span class="keyword">const</span> &amp; <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        lib::error_code &amp; ec)</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    {</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits = <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>(atoi(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.c_str()));</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span> </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        <span class="keywordflow">if</span> (bits &lt; min_server_max_window_bits || bits &gt; max_server_max_window_bits) {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">error::invalid_attribute_value</a>);</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>            m_server_max_window_bits = default_server_max_window_bits;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">switch</span> (m_server_max_window_bits_mode) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4">mode::decline</a>:</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                m_server_max_window_bits = default_server_max_window_bits;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">mode::accept</a>:</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                m_server_max_window_bits = bits;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374">mode::largest</a>:</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                m_server_max_window_bits = std::min(bits,m_server_max_window_bits);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af">mode::smallest</a>:</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                m_server_max_window_bits = min_server_max_window_bits;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">error::invalid_mode</a>);</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                m_server_max_window_bits = default_server_max_window_bits;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    }</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>    <span class="keywordtype">void</span> negotiate_client_max_window_bits(std::string <span class="keyword">const</span> &amp; <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            lib::error_code &amp; ec)</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    {</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits = <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>(atoi(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.c_str()));</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.empty()) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            bits = default_client_max_window_bits;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bits &lt; min_client_max_window_bits ||</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                   bits &gt; max_client_max_window_bits)</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">error::invalid_attribute_value</a>);</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>            m_client_max_window_bits = default_client_max_window_bits;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <span class="keywordflow">switch</span> (m_client_max_window_bits_mode) {</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4">mode::decline</a>:</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>                m_client_max_window_bits = default_client_max_window_bits;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">mode::accept</a>:</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                m_client_max_window_bits = bits;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374">mode::largest</a>:</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>                m_client_max_window_bits = std::min(bits,m_client_max_window_bits);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af">mode::smallest</a>:</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                m_client_max_window_bits = min_client_max_window_bits;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>                ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">error::invalid_mode</a>);</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                m_client_max_window_bits = default_client_max_window_bits;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    }</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span> </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordtype">bool</span> m_enabled;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    <span class="keywordtype">bool</span> m_server_no_context_takeover;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <span class="keywordtype">bool</span> m_client_no_context_takeover;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> m_server_max_window_bits;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> m_client_max_window_bits;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> m_server_max_window_bits_mode;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <a class="code hl_enumeration" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> m_client_max_window_bits_mode;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <span class="keywordtype">bool</span> m_initialized;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keywordtype">int</span> m_flush;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <span class="keywordtype">size_t</span> m_compress_buffer_size;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    <a class="code hl_typedef" href="namespacewebsocketpp_1_1lib.html#a0021504e0fcd9438c7531506ccd95d94">lib::unique_ptr_uchar_array</a> m_compress_buffer;</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    z_stream m_dstate;</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    z_stream m_istate;</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>};</div>
</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>} <span class="comment">// namespace permessage_deflate</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>} <span class="comment">// namespace extensions</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>} <span class="comment">// namespace websocketpp</span></div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span><span class="preprocessor">#endif </span><span class="comment">// WEBSOCKETPP_PROCESSOR_EXTENSION_PERMESSAGEDEFLATE_HPP</span></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a></div><div class="ttdef"><b>Definition</b> <a href="#l00205">enabled.hpp:205</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a0d842cb0cd2add8016e739dfcd675ba0"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a0d842cb0cd2add8016e739dfcd675ba0">websocketpp::extensions::permessage_deflate::enabled::init</a></div><div class="ttdeci">lib::error_code init(bool is_server)</div><div class="ttdoc">Initialize zlib state.</div><div class="ttdef"><b>Definition</b> <a href="#l00260">enabled.hpp:260</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a21e8e0200cab9dd276842ce9ecbd6639"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a21e8e0200cab9dd276842ce9ecbd6639">websocketpp::extensions::permessage_deflate::enabled::enable_client_no_context_takeover</a></div><div class="ttdeci">void enable_client_no_context_takeover()</div><div class="ttdoc">Reset client's outgoing LZ77 sliding window for each new message.</div><div class="ttdef"><b>Definition</b> <a href="#l00367">enabled.hpp:367</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a3002ea83fbc0066f9ecf23b4be082365"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3002ea83fbc0066f9ecf23b4be082365">websocketpp::extensions::permessage_deflate::enabled::compress</a></div><div class="ttdeci">lib::error_code compress(std::string const &amp;in, std::string &amp;out)</div><div class="ttdoc">Compress bytes.</div><div class="ttdef"><b>Definition</b> <a href="#l00506">enabled.hpp:506</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a3f0008a567db57dd73f3233ebe54086f"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a3f0008a567db57dd73f3233ebe54086f">websocketpp::extensions::permessage_deflate::enabled::enabled</a></div><div class="ttdeci">enabled()</div><div class="ttdef"><b>Definition</b> <a href="#l00207">enabled.hpp:207</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a5190a82b1571a94704cef6959ed78ce2"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5190a82b1571a94704cef6959ed78ce2">websocketpp::extensions::permessage_deflate::enabled::is_enabled</a></div><div class="ttdeci">bool is_enabled() const</div><div class="ttdoc">Test if the extension was negotiated for this connection.</div><div class="ttdef"><b>Definition</b> <a href="#l00323">enabled.hpp:323</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a55efd7772443eaf07435042a146cc5f7"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a55efd7772443eaf07435042a146cc5f7">websocketpp::extensions::permessage_deflate::enabled::decompress</a></div><div class="ttdeci">lib::error_code decompress(uint8_t const *buf, size_t len, std::string &amp;out)</div><div class="ttdoc">Decompress bytes.</div><div class="ttdef"><b>Definition</b> <a href="#l00544">enabled.hpp:544</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a5bfcf29752865c0e9c8e8092ee21b5af"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a5bfcf29752865c0e9c8e8092ee21b5af">websocketpp::extensions::permessage_deflate::enabled::set_client_max_window_bits</a></div><div class="ttdeci">lib::error_code set_client_max_window_bits(uint8_t bits, mode::value mode)</div><div class="ttdoc">Limit client LZ77 sliding window size.</div><div class="ttdef"><b>Definition</b> <a href="#l00424">enabled.hpp:424</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a76a196b1428865e739fe99e951f03e68"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a76a196b1428865e739fe99e951f03e68">websocketpp::extensions::permessage_deflate::enabled::is_implemented</a></div><div class="ttdeci">bool is_implemented() const</div><div class="ttdoc">Test if this object implements the permessage-deflate specification.</div><div class="ttdef"><b>Definition</b> <a href="#l00312">enabled.hpp:312</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_a9275c22cfd6782ef72a722168d663d8b"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#a9275c22cfd6782ef72a722168d663d8b">websocketpp::extensions::permessage_deflate::enabled::enable_server_no_context_takeover</a></div><div class="ttdeci">void enable_server_no_context_takeover()</div><div class="ttdoc">Reset server's outgoing LZ77 sliding window for each new message.</div><div class="ttdef"><b>Definition</b> <a href="#l00348">enabled.hpp:348</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_aa05eda4f6a0231c13708445480181ff4"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa05eda4f6a0231c13708445480181ff4">websocketpp::extensions::permessage_deflate::enabled::negotiate</a></div><div class="ttdeci">err_str_pair negotiate(http::attribute_list const &amp;offer)</div><div class="ttdoc">Negotiate extension.</div><div class="ttdef"><b>Definition</b> <a href="#l00467">enabled.hpp:467</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_aa0c3a9af501b48f3cf946a84aa8a88bb"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#aa0c3a9af501b48f3cf946a84aa8a88bb">websocketpp::extensions::permessage_deflate::enabled::~enabled</a></div><div class="ttdeci">~enabled()</div><div class="ttdef"><b>Definition</b> <a href="#l00229">enabled.hpp:229</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_ac2f1bd776c26b4d54afaceded1841394"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#ac2f1bd776c26b4d54afaceded1841394">websocketpp::extensions::permessage_deflate::enabled::set_server_max_window_bits</a></div><div class="ttdeci">lib::error_code set_server_max_window_bits(uint8_t bits, mode::value mode)</div><div class="ttdoc">Limit server LZ77 sliding window size.</div><div class="ttdef"><b>Definition</b> <a href="#l00393">enabled.hpp:393</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_acf45724e34c174a0b8a5166192f659de"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#acf45724e34c174a0b8a5166192f659de">websocketpp::extensions::permessage_deflate::enabled::validate_offer</a></div><div class="ttdeci">lib::error_code validate_offer(http::attribute_list const &amp;)</div><div class="ttdoc">Validate extension response.</div><div class="ttdef"><b>Definition</b> <a href="#l00454">enabled.hpp:454</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_html_adc342a368792f5beee8dddbbc5981846"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html#adc342a368792f5beee8dddbbc5981846">websocketpp::extensions::permessage_deflate::enabled::generate_offer</a></div><div class="ttdeci">std::string generate_offer() const</div><div class="ttdoc">Generate extension offer.</div><div class="ttdef"><b>Definition</b> <a href="#l00441">enabled.hpp:441</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category_html"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html">websocketpp::extensions::permessage_deflate::error::category</a></div><div class="ttdoc">Permessage-deflate error category.</div><div class="ttdef"><b>Definition</b> <a href="#l00118">enabled.hpp:118</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category_html_a1c1ff476766b3f9bb115a92ec809c01e"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a1c1ff476766b3f9bb115a92ec809c01e">websocketpp::extensions::permessage_deflate::error::category::message</a></div><div class="ttdeci">std::string message(int value) const</div><div class="ttdef"><b>Definition</b> <a href="#l00126">enabled.hpp:126</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category_html_a9c0026b8e71ac960bbe48f58df71dac7"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#a9c0026b8e71ac960bbe48f58df71dac7">websocketpp::extensions::permessage_deflate::error::category::category</a></div><div class="ttdeci">category()</div><div class="ttdef"><b>Definition</b> <a href="#l00120">enabled.hpp:120</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category_html_ab0ca6bac6a00169d6e2a55f88e2c63be"><div class="ttname"><a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_1_1category.html#ab0ca6bac6a00169d6e2a55f88e2c63be">websocketpp::extensions::permessage_deflate::error::category::name</a></div><div class="ttdeci">char const * name() const _WEBSOCKETPP_NOEXCEPT_TOKEN_</div><div class="ttdef"><b>Definition</b> <a href="#l00122">enabled.hpp:122</a></div></div>
<div class="ttc" id="acpp11_8hpp_html"><div class="ttname"><a href="cpp11_8hpp.html">cpp11.hpp</a></div></div>
<div class="ttc" id="acpp11_8hpp_html_aa19747404a5f2fe9c9eb9e9d2e48f26c"><div class="ttname"><a href="cpp11_8hpp.html#aa19747404a5f2fe9c9eb9e9d2e48f26c">_WEBSOCKETPP_NOEXCEPT_TOKEN_</a></div><div class="ttdeci">#define _WEBSOCKETPP_NOEXCEPT_TOKEN_</div><div class="ttdef"><b>Definition</b> <a href="cpp11_8hpp_source.html#l00113">cpp11.hpp:113</a></div></div>
<div class="ttc" id="aerror_8hpp_html"><div class="ttname"><a href="error_8hpp.html">error.hpp</a></div></div>
<div class="ttc" id="aextension_8hpp_html"><div class="ttname"><a href="extension_8hpp.html">extension.hpp</a></div></div>
<div class="ttc" id="afc_2vendor_2websocketpp_2websocketpp_2common_2memory_8hpp_html"><div class="ttname"><a href="fc_2vendor_2websocketpp_2websocketpp_2common_2memory_8hpp.html">memory.hpp</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a3b7a4ae836eef24dfcacdc86f5b1cb3f"><div class="ttname"><a href="namespacesysio_1_1chain.html#a3b7a4ae836eef24dfcacdc86f5b1cb3f">sysio::chain::extensions</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed extensions(invalid block)&quot; ) FC_DECLARE_DERIVED_EXCEPTION( tx_resource_exhaustion</div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54e"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54e">websocketpp::extensions::permessage_deflate::error::value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition</b> <a href="#l00091">enabled.hpp:91</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea07d85052b0885acaa098a7fe3d8f7bee"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea07d85052b0885acaa098a7fe3d8f7bee">websocketpp::extensions::permessage_deflate::error::unsupported_attributes</a></div><div class="ttdeci">@ unsupported_attributes</div><div class="ttdoc">Unsupported extension attributes.</div><div class="ttdef"><b>Definition</b> <a href="#l00105">enabled.hpp:105</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">websocketpp::extensions::permessage_deflate::error::invalid_max_window_bits</a></div><div class="ttdeci">@ invalid_max_window_bits</div><div class="ttdoc">Invalid value for max_window_bits.</div><div class="ttdef"><b>Definition</b> <a href="#l00108">enabled.hpp:108</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea5554d2f18722ee4c2a4c58bf7ffae079">websocketpp::extensions::permessage_deflate::error::invalid_attribute_value</a></div><div class="ttdeci">@ invalid_attribute_value</div><div class="ttdoc">Invalid extension attribute value.</div><div class="ttdef"><b>Definition</b> <a href="#l00099">enabled.hpp:99</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">websocketpp::extensions::permessage_deflate::error::zlib_error</a></div><div class="ttdeci">@ zlib_error</div><div class="ttdoc">ZLib Error.</div><div class="ttdef"><b>Definition</b> <a href="#l00111">enabled.hpp:111</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">websocketpp::extensions::permessage_deflate::error::uninitialized</a></div><div class="ttdeci">@ uninitialized</div><div class="ttdoc">Uninitialized.</div><div class="ttdef"><b>Definition</b> <a href="#l00114">enabled.hpp:114</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">websocketpp::extensions::permessage_deflate::error::invalid_attributes</a></div><div class="ttdeci">@ invalid_attributes</div><div class="ttdoc">Invalid extension attributes.</div><div class="ttdef"><b>Definition</b> <a href="#l00096">enabled.hpp:96</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eaea6d6b0b77348e739b118910c74b1ee0"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaea6d6b0b77348e739b118910c74b1ee0">websocketpp::extensions::permessage_deflate::error::general</a></div><div class="ttdeci">@ general</div><div class="ttdoc">Catch all.</div><div class="ttdef"><b>Definition</b> <a href="#l00093">enabled.hpp:93</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eafc842b4166ec4bf89c14154581fa2a63">websocketpp::extensions::permessage_deflate::error::invalid_mode</a></div><div class="ttdeci">@ invalid_mode</div><div class="ttdoc">Invalid megotiation mode.</div><div class="ttdef"><b>Definition</b> <a href="#l00102">enabled.hpp:102</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a45fc3d9ab800d9017c8c501d33e7df7e"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e">websocketpp::extensions::permessage_deflate::error::get_category</a></div><div class="ttdeci">lib::error_category const &amp; get_category()</div><div class="ttdoc">Get a reference to a static copy of the permessage-deflate error category.</div><div class="ttdef"><b>Definition</b> <a href="#l00151">enabled.hpp:151</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a9e955844ce4acf0ade5425c98af861ce"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">websocketpp::extensions::permessage_deflate::error::make_error_code</a></div><div class="ttdeci">lib::error_code make_error_code(error::value e)</div><div class="ttdoc">Create an error code in the permessage-deflate category.</div><div class="ttdef"><b>Definition</b> <a href="#l00157">enabled.hpp:157</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">websocketpp::extensions::permessage_deflate::mode::value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition</b> <a href="#l00192">enabled.hpp:192</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">websocketpp::extensions::permessage_deflate::mode::accept</a></div><div class="ttdeci">@ accept</div><div class="ttdoc">Accept any value the remote endpoint offers.</div><div class="ttdef"><b>Definition</b> <a href="#l00194">enabled.hpp:194</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ae726aa33271e359a9256338cc23881af">websocketpp::extensions::permessage_deflate::mode::smallest</a></div><div class="ttdeci">@ smallest</div><div class="ttdoc">Use the smallest value common to both offers.</div><div class="ttdef"><b>Definition</b> <a href="#l00201">enabled.hpp:200</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af2f3ee153c2edcb52b23191ff6ff4374">websocketpp::extensions::permessage_deflate::mode::largest</a></div><div class="ttdeci">@ largest</div><div class="ttdoc">Use the largest value common to both offers.</div><div class="ttdef"><b>Definition</b> <a href="#l00198">enabled.hpp:198</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120af37f3279b22c67273d84c30811f4d3a4">websocketpp::extensions::permessage_deflate::mode::decline</a></div><div class="ttdeci">@ decline</div><div class="ttdoc">Decline any value the remote endpoint offers. Insist on defaults.</div><div class="ttdef"><b>Definition</b> <a href="#l00196">enabled.hpp:196</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1lib_html_a0021504e0fcd9438c7531506ccd95d94"><div class="ttname"><a href="namespacewebsocketpp_1_1lib.html#a0021504e0fcd9438c7531506ccd95d94">websocketpp::lib::unique_ptr_uchar_array</a></div><div class="ttdeci">boost::scoped_array&lt; unsigned char &gt; unique_ptr_uchar_array</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2common_2memory_8hpp_source.html#l00083">memory.hpp:83</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_html"><div class="ttname"><a href="namespacewebsocketpp.html">websocketpp</a></div><div class="ttdoc">Namespace for the WebSocket++ project.</div><div class="ttdef"><b>Definition</b> <a href="vendor_2websocketpp_2websocketpp_2base64_2base64_8hpp_source.html#l00041">base64.hpp:41</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_html_abecf95d53c9387716b157daae84441f3"><div class="ttname"><a href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">websocketpp::err_str_pair</a></div><div class="ttdeci">std::pair&lt; lib::error_code, std::string &gt; err_str_pair</div><div class="ttdoc">Combination error code / string type for returning two values.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00041">error.hpp:41</a></div></div>
<div class="ttc" id="apkcs11_8h_html_a32aff7c6c4cd253fdf6563677afab5ce"><div class="ttname"><a href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a></div><div class="ttdeci">#define value</div><div class="ttdef"><b>Definition</b> <a href="pkcs11_8h_source.html#l00157">pkcs11.h:157</a></div></div>
<div class="ttc" id="aplatforms_8hpp_html"><div class="ttname"><a href="platforms_8hpp.html">platforms.hpp</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="asystem__error_8hpp_html"><div class="ttname"><a href="system__error_8hpp.html">system_error.hpp</a></div></div>
<div class="ttc" id="asystem__error_8hpp_html_a56fda676cd6c004a29bc79ae5ef78395"><div class="ttname"><a href="system__error_8hpp.html#a56fda676cd6c004a29bc79ae5ef78395">_WEBSOCKETPP_ERROR_CODE_ENUM_NS_END_</a></div><div class="ttdeci">#define _WEBSOCKETPP_ERROR_CODE_ENUM_NS_END_</div><div class="ttdef"><b>Definition</b> <a href="system__error_8hpp_source.html#l00078">system_error.hpp:78</a></div></div>
<div class="ttc" id="asystem__error_8hpp_html_ae2dd63f161e522979fa3fa8863bc7542"><div class="ttname"><a href="system__error_8hpp.html#ae2dd63f161e522979fa3fa8863bc7542">_WEBSOCKETPP_ERROR_CODE_ENUM_NS_START_</a></div><div class="ttdeci">#define _WEBSOCKETPP_ERROR_CODE_ENUM_NS_START_</div><div class="ttdef"><b>Definition</b> <a href="system__error_8hpp_source.html#l00077">system_error.hpp:77</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a3d854b6efad16a16e4d7b4539d4fc71f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a></div><div class="ttdeci">CK_RV ret</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00973">yubihsm_pkcs11.c:973</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04771">yubihsm_pkcs11.c:4771</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a855e99b645b13e7905d074d02fe0bff5"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a></div><div class="ttdeci">uint8_t buf[2048]</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04770">yubihsm_pkcs11.c:4770</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_428556e0652617aa37d2f7d8bcaf7fdf.html">libraries</a></li><li class="navelem"><a class="el" href="dir_71436f1774b2d89f0b80ac9efd482f1f.html">fc</a></li><li class="navelem"><a class="el" href="dir_bd1606fa285b071e367443474bfb9a35.html">vendor</a></li><li class="navelem"><a class="el" href="dir_32b6a3cab02f33dca927e42f01b659d3.html">websocketpp</a></li><li class="navelem"><a class="el" href="dir_330b89cc1fd7115e074e81214dc1943a.html">websocketpp</a></li><li class="navelem"><a class="el" href="dir_8f9a4fe76bb7681ac6cfdea1f490d2e8.html">extensions</a></li><li class="navelem"><a class="el" href="dir_f585964ec2b4026ebe90574d769feecb.html">permessage_deflate</a></li><li class="navelem"><a class="el" href="enabled_8hpp.html">enabled.hpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
