\doxysection{resource\+\_\+limits\+\_\+private.\+hpp}
\hypertarget{resource__limits__private_8hpp_source}{}\label{resource__limits__private_8hpp_source}\index{libraries/chain/include/sysio/chain/resource\_limits\_private.hpp@{libraries/chain/include/sysio/chain/resource\_limits\_private.hpp}}
\mbox{\hyperlink{resource__limits__private_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2types_8hpp}{sysio/chain/types.hpp}}>}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2config_8hpp}{sysio/chain/config.hpp}}>}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp}{sysio/chain/exceptions.hpp}}>}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{resource__limits_8hpp}{sysio/chain/resource\_limits.hpp}}>}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{multi__index__includes_8hpp}{multi\_index\_includes.hpp}}"{}}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00010}00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesysio}{sysio}}\ \{\ \textcolor{keyword}{namespace\ }chain\ \{\ \textcolor{keyword}{namespace\ }resource\_limits\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00012}00012\ \ \ \ \textcolor{keyword}{namespace\ }impl\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00013}00013\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00014}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a4b7474bf36737d614cdfe51ed0ca0b6a}{00014}}\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1ratio}{ratio<T>}}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a4b7474bf36737d614cdfe51ed0ca0b6a}{make\_ratio}}(\mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ n,\ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ d)\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00015}00015\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1ratio}{ratio<T>}}\{n,\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a107648633008a7f2d872b4b3d98c2f96}{d}}\};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00016}00016\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00018}00018\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00019}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_acfd4c065875ba908f6727196d39e16b9}{00019}}\ \ \ \ \ \ \ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_acfd4c065875ba908f6727196d39e16b9}{operator*\ }}(\mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1ratio}{ratio<T>}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}})\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.numerator\ ==\ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}(0)\ ||\ std::numeric\_limits<T>::max()\ /\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.numerator\ >=\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Usage\ exceeds\ maximum\ value\ representable\ after\ extending\ for\ precision"{}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}}\ *\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.numerator)\ /\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.denominator;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00022}00022\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00024}00024\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Un\textcolor{keywordtype}{signed}IntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00025}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a27299c32ef2c573ed173bd68edd2cd21}{00025}}\ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ UnsignedIntType\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a27299c32ef2c573ed173bd68edd2cd21}{integer\_divide\_ceil}}(UnsignedIntType\ num,\ UnsignedIntType\ den\ )\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (num\ /\ den)\ +\ ((num\ \%\ den)\ >\ 0\ ?\ 1\ :\ 0);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00027}00027\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00030}00030\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ LesserIntType,\ \textcolor{keyword}{typename}\ GreaterIntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00031}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ae2e0ef4a6a93115ddc3dad838446c2e4}{00031}}\ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ae2e0ef4a6a93115ddc3dad838446c2e4}{is\_valid\_downgrade\_cast}}\ =}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00032}00032\ \ \ \ \ \ \ \ \ \ std::is\_integral<LesserIntType>::value\ \&\&\ \ \textcolor{comment}{//\ remove\ overloads\ where\ type\ is\ not\ integral}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00033}00033\ \ \ \ \ \ \ \ \ \ std::is\_integral<GreaterIntType>::value\ \&\&\ \textcolor{comment}{//\ remove\ overloads\ where\ type\ is\ not\ integral}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00034}00034\ \ \ \ \ \ \ \ \ \ (std::numeric\_limits<LesserIntType>::max()\ <=\ std::numeric\_limits<GreaterIntType>::max());\ \textcolor{comment}{//\ remove\ overloads\ which\ are\ upgrades\ not\ downgrades}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00039}00039\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ LesserIntType,\ \textcolor{keyword}{typename}\ GreaterIntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00040}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{00040}}\ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{downgrade\_cast}}(GreaterIntType\ val)\ -\/>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00041}00041\ \ \ \ \ \ \ \ \ \ std::enable\_if\_t<is\_valid\_downgrade\_cast<LesserIntType,GreaterIntType>\ \&\&\ std::is\_signed<LesserIntType>::value\ ==\ std::is\_signed<GreaterIntType>::value,\ LesserIntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00042}00042\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ GreaterIntType\ max\ =\ std::numeric\_limits<LesserIntType>::max();}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ GreaterIntType\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}}\ =\ std::numeric\_limits<LesserIntType>::min();}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ val\ >=\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}}\ \&\&\ val\ <=\ max,\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Casting\ a\ higher\ bit\ integer\ value\ \$\{v\}\ to\ a\ lower\ bit\ integer\ value\ which\ cannot\ contain\ the\ value,\ valid\ range\ is\ [\$\{min\},\ \$\{max\}]"{}},\ (\textcolor{stringliteral}{"{}v"{}},\ val)(\textcolor{stringliteral}{"{}min"{}},\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}})(\textcolor{stringliteral}{"{}max"{}},max)\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ LesserIntType(val);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00047}00047\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00052}00052\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ LesserIntType,\ \textcolor{keyword}{typename}\ GreaterIntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00053}00053\ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{downgrade\_cast}}(GreaterIntType\ val)\ -\/>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00054}00054\ \ \ \ \ \ \ \ \ \ std::enable\_if\_t<is\_valid\_downgrade\_cast<LesserIntType,GreaterIntType>\ \&\&\ std::is\_signed<LesserIntType>::value\ !=\ std::is\_signed<GreaterIntType>::value,\ LesserIntType>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00055}00055\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ GreaterIntType\ max\ =\ std::numeric\_limits<LesserIntType>::max();}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ GreaterIntType\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ val\ >=\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}}\ \&\&\ val\ <=\ max,\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Casting\ a\ higher\ bit\ integer\ value\ \$\{v\}\ to\ a\ lower\ bit\ integer\ value\ which\ cannot\ contain\ the\ value,\ valid\ range\ is\ [\$\{min\},\ \$\{max\}]"{}},\ (\textcolor{stringliteral}{"{}v"{}},\ val)(\textcolor{stringliteral}{"{}min"{}},\ \mbox{\hyperlink{namespacefc_aa3ea11c18de71ec23b19c3cc571fb8ff}{min}})(\textcolor{stringliteral}{"{}max"{}},max)\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ LesserIntType(val);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00060}00060\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00068}00068\ \ \ \ \ \ \ \textcolor{keyword}{template}<u\textcolor{keywordtype}{int}64\_t\ Precision\ =\ config::rate\_limiting\_precision>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00069}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{00069}}\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{exponential\_moving\_average\_accumulator}}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00070}00070\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ Precision\ >\ 0,\ \textcolor{stringliteral}{"{}Precision\ must\ be\ positive"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00072}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a6dc9da0aa8c3397fd6308480fd6dae0c}{00072}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a6dc9da0aa8c3397fd6308480fd6dae0c}{max\_raw\_value}}\ =\ std::numeric\_limits<uint64\_t>::max()\ /\ Precision;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00073}00073\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00074}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a212c4355a9c491bda7141cade7f1722e}{00074}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a212c4355a9c491bda7141cade7f1722e}{exponential\_moving\_average\_accumulator}}()}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00075}00075\ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}}(0)}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00076}00076\ \ \ \ \ \ \ \ \ \ ,\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}(0)}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00077}00077\ \ \ \ \ \ \ \ \ \ ,\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}}(0)}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00081}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{00081}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}};\ \ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00082}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{00082}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}};\ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00083}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{00083}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}};\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00088}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_ac565af684cfacb1625e39084e88ec742}{00088}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_ac565af684cfacb1625e39084e88ec742}{average}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a27299c32ef2c573ed173bd68edd2cd21}{integer\_divide\_ceil}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}},\ Precision);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00092}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_aa0e71fca059e77ca32875a373e446f67}{00092}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_aa0e71fca059e77ca32875a373e446f67}{add}}(\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ units,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ ordinal,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ window\_size\ \textcolor{comment}{/*\ must\ be\ positive\ */}\ )}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ some\ numerical\ limits\ before\ doing\ any\ state\ mutations}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(units\ <=\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a6dc9da0aa8c3397fd6308480fd6dae0c}{max\_raw\_value}},\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Usage\ exceeds\ maximum\ value\ representable\ after\ extending\ for\ precision"{}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}})>::max()\ -\/\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}}\ >=\ units,\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Overflow\ in\ tracked\ usage\ when\ adding\ usage!"{}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ value\_ex\_contrib\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{downgrade\_cast<uint64\_t>}}(\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a27299c32ef2c573ed173bd68edd2cd21}{integer\_divide\_ceil}}((\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})units\ *\ Precision,\ (\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})window\_size));}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(std::numeric\_limits<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}})>::max()\ -\/\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}\ >=\ value\_ex\_contrib,\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Overflow\ in\ accumulated\ value\ when\ adding\ usage!"{}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}}\ !=\ ordinal\ )\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ ordinal\ >\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}},\ resource\_limit\_exception,\ \textcolor{stringliteral}{"{}new\ ordinal\ cannot\ be\ less\ than\ the\ previous\ ordinal"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}}\ +\ window\_size\ >\ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})ordinal\ )\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ delta\ =\ ordinal\ -\/\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}};\ \textcolor{comment}{//\ clearly\ 0\ <\ delta\ <\ window\_size}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ decay\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a4b7474bf36737d614cdfe51ed0ca0b6a}{make\_ratio}}(}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})window\_size\ -\/\ delta,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})window\_size}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}\ =\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}\ *\ decay;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a71318b93d001293944aa2edb7413e30f}{last\_ordinal}}\ =\ ordinal;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}}\ =\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_ac565af684cfacb1625e39084e88ec742}{average}}();}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a10942e33869aa60d5b644aa3da2e366b}{consumed}}\ +=\ units;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator_a287aeeff9e2c62aae2ea1f2860e50a32}{value\_ex}}\ +=\ value\_ex\_contrib;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00122}00122\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00130}00130\ \ \ \ \ \ \ \textcolor{keyword}{template}<u\textcolor{keywordtype}{int}64\_t\ Precision\ =\ config::rate\_limiting\_precision>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00131}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator}{00131}}\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator}{exponential\_decay\_accumulator}}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00132}00132\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ Precision\ >\ 0,\ \textcolor{stringliteral}{"{}Precision\ must\ be\ positive"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00134}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a5853db2ead9b6da0026f63f37c2ab773}{00134}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a5853db2ead9b6da0026f63f37c2ab773}{max\_raw\_value}}\ =\ std::numeric\_limits<uint64\_t>::max()\ /\ Precision;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00136}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ad8ef18f8642540e432d886c1d3424900}{00136}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ad8ef18f8642540e432d886c1d3424900}{exponential\_decay\_accumulator}}()}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00137}00137\ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}}(0)}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00138}00138\ \ \ \ \ \ \ \ \ \ ,\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}}(0)}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00142}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{00142}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}};\ \ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00143}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{00143}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}};\ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00148}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_abc4ee547b6c671caa718c2a761be9ebb}{00148}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_abc4ee547b6c671caa718c2a761be9ebb}{value\_ex\_at}}(\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ ordinal,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ window\_size\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}}\ <\ ordinal\ )\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}}\ +\ window\_size\ >\ (\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}})ordinal\ )\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ delta\ =\ ordinal\ -\/\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}};\ \textcolor{comment}{//\ clearly\ 0\ <\ delta\ <\ window\_size}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ decay\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a4b7474bf36737d614cdfe51ed0ca0b6a}{make\_ratio}}(}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})window\_size\ -\/\ delta,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})window\_size}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00156}00156\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{downgrade\_cast<uint64\_t>}}((\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}}\ *\ decay);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00165}00165\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00169}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a810496e2ab1c59b8967e8e961ab3403a}{00169}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a810496e2ab1c59b8967e8e961ab3403a}{value\_at}}(\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ ordinal,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ window\_size\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_a27299c32ef2c573ed173bd68edd2cd21}{integer\_divide\_ceil}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_abc4ee547b6c671caa718c2a761be9ebb}{value\_ex\_at}}(ordinal,\ window\_size),\ Precision);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00173}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a7c43f1116b19642adb82bf15209b7e7d}{00173}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a7c43f1116b19642adb82bf15209b7e7d}{add}}(\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ units,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ ordinal,\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ window\_size\ \textcolor{comment}{/*\ must\ be\ positive\ */}\ )}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ some\ numerical\ limits\ before\ doing\ any\ state\ mutations}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(units\ <=\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a5853db2ead9b6da0026f63f37c2ab773}{max\_raw\_value}},\ rate\_limiting\_state\_inconsistent,\ \textcolor{stringliteral}{"{}Usage\ exceeds\ maximum\ value\ representable\ after\ extending\ for\ precision"{}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00177}00177\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}}\ units\_ex\ =\ (\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})units\ *\ Precision;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}}\ <\ ordinal)\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}}\ =\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_abc4ee547b6c671caa718c2a761be9ebb}{value\_ex\_at}}(ordinal,\ window\_size);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_ac1674713f09b049d00bd85e6d69d72ed}{last\_ordinal}}\ =\ ordinal;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ saturate\ the\ value}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}}\ new\_value\_ex\ =\ std::min<uint128\_t>(units\_ex\ +\ (\mbox{\hyperlink{namespacesysio_1_1chain_a896515137d9a7844105786ee3a6b1d47}{uint128\_t}})\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}},\ std::numeric\_limits<uint64\_t>::max());}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__decay__accumulator_a9023975ba262a9e80958f7d3ac0f2252}{value\_ex}}\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_1_1impl_ad13603146ccf93edbdb851067320dd6e}{downgrade\_cast<uint64\_t>}}(new\_value\_ex);}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00188}00188\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00189}00189\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00191}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a52b51399935db8e58d8757c7b51b3f3d}{00191}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{usage\_accumulator}}\ =\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{impl::exponential\_moving\_average\_accumulator<>}};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00197}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{00197}}\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structchainbase_1_1object}{chainbase::object}}<resource\_limits\_object\_type,\ resource\_limits\_object>\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00199}00199\ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2types_8hpp_a4f726ee00eb9bbf2574c06492926cf73}{OBJECT\_CTOR}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00201}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a738fed7f5b438c447b79f203679837db}{00201}}\ \ \ \ \ \ \ \mbox{\hyperlink{classchainbase_1_1oid}{id\_type}}\ \textcolor{keywordtype}{id};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00202}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a406a648c8480204e81501d3065914627}{00202}}\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1name}{account\_name}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a406a648c8480204e81501d3065914627}{owner}};\ \textcolor{comment}{//<\ owner\ should\ not\ be\ changed\ within\ a\ chainbase\ modifier\ lambda}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00203}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a744e55bc07b8d47261d4b00f738d6d47}{00203}}\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a744e55bc07b8d47261d4b00f738d6d47}{pending}}\ =\ false;\ \textcolor{comment}{//<\ pending\ should\ not\ be\ changed\ within\ a\ chainbase\ modifier\ lambda}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00205}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a9eaec91376588de2dd82766e23750f87}{00205}}\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a9eaec91376588de2dd82766e23750f87}{net\_weight}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00206}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_aaeaa8f4c3c9e4cd8c823ecb22cc3f982}{00206}}\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_aaeaa8f4c3c9e4cd8c823ecb22cc3f982}{cpu\_weight}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00207}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a7e7945f847d9e441e69f938921270836}{00207}}\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a7e7945f847d9e441e69f938921270836}{ram\_bytes}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00209}00209\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00211}00211\ \ \ \ struct\ by\_owner;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00212}00212\ \ \ \ struct\ by\_dirty;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00214}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a46a650001834ee5948b425f2e83cf948}{00214}}\ \ \ \ using\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a46a650001834ee5948b425f2e83cf948}{resource\_limits\_index}}\ =\ \mbox{\hyperlink{namespacechainbase}{chainbase}}::shared\_multi\_index\_container<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00215}00215\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}},}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00216}00216\ \ \ \ \ \ \ indexed\_by<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00217}00217\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_id>,\ member<\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}}::\mbox{\hyperlink{structchainbase_1_1object_a7c6a0efb95ee67d538a976cfa5be9df9}{id\_type}},\ \&\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}}::\textcolor{keywordtype}{id}>>,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00218}00218\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_owner>,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ composite\_key<\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}},}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BOOST\_MULTI\_INDEX\_MEMBER(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}},\ \textcolor{keywordtype}{bool},\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a744e55bc07b8d47261d4b00f738d6d47}{pending}}),}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BOOST\_MULTI\_INDEX\_MEMBER(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{resource\_limits\_object}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1name}{account\_name}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a406a648c8480204e81501d3065914627}{owner}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00224}00224\ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00225}00225\ \ \ \ >;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00226}00226\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00227}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{00227}}\ \ \ \ struct\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}}\ :\ public\ \mbox{\hyperlink{namespacechainbase}{chainbase}}::\textcolor{keywordtype}{object}<\mbox{\hyperlink{namespacesysio_1_1chain_a2d924ca9891de9b9edf3ccb582ec7591a2c74d0baaa29659b4e6338fe79f259d8}{resource\_usage\_object\_type}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}}>\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00228}00228\ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2types_8hpp_a4f726ee00eb9bbf2574c06492926cf73}{OBJECT\_CTOR}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00229}00229\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00230}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object_a54a4b692b180a24c20f84551f71f7ccc}{00230}}\ \ \ \ \ \ \ \mbox{\hyperlink{classchainbase_1_1oid}{id\_type}}\ \textcolor{keywordtype}{id};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00231}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object_a204f813356bb4788b694de3db9b452e6}{00231}}\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1name}{account\_name}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a406a648c8480204e81501d3065914627}{owner}};\ \textcolor{comment}{//<\ owner\ should\ not\ be\ changed\ within\ a\ chainbase\ modifier\ lambda}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00232}00232\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00233}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object_a914b548f6d183d8441c8e6e08200d789}{00233}}\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{usage\_accumulator}}\ \ \ \ \ \ \ \ net\_usage;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00234}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object_a2650e5b392b80b5d32877d5b4252ccc7}{00234}}\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{usage\_accumulator}}\ \ \ \ \ \ \ \ cpu\_usage;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00235}00235\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00236}\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object_a8e1468d42ffd1234662093a1d1e93e73}{00236}}\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ram\_usage\ =\ 0;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00237}00237\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00239}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a0b3297439198d69fd3b3bb4cb9eefa6d}{00239}}\ \ \ \ using\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a0b3297439198d69fd3b3bb4cb9eefa6d}{resource\_usage\_index}}\ =\ \mbox{\hyperlink{namespacechainbase}{chainbase}}::shared\_multi\_index\_container<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00240}00240\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}},}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00241}00241\ \ \ \ \ \ \ indexed\_by<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00242}00242\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_id>,\ member<\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}}::\mbox{\hyperlink{structchainbase_1_1object_a7c6a0efb95ee67d538a976cfa5be9df9}{id\_type}},\ \&\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}}::\textcolor{keywordtype}{id}>>,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00243}00243\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_owner>,\ member<\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}},\ \mbox{\hyperlink{structsysio_1_1chain_1_1name}{account\_name}},\ \&\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{resource\_usage\_object}}::\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a406a648c8480204e81501d3065914627}{owner}}>\ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00244}00244\ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00245}00245\ \ \ \ >;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00247}\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{00247}}\ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a5c230edcb923568000cb7982cf84dfce}{class}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}}\ :\ public\ \mbox{\hyperlink{namespacechainbase}{chainbase}}::\textcolor{keywordtype}{object}<\mbox{\hyperlink{namespacesysio_1_1chain_a2d924ca9891de9b9edf3ccb582ec7591a77935d1242c0b15ab42f7f826e1ede58}{resource\_limits\_config\_object\_type}},\ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}}>\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00248}00248\ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2types_8hpp_a4f726ee00eb9bbf2574c06492926cf73}{OBJECT\_CTOR}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00249}00249\ \ \ \ \ \ \ \mbox{\hyperlink{classchainbase_1_1oid}{id\_type}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object_a738fed7f5b438c447b79f203679837db}{id}};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00250}00250\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00251}00251\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ config::block\_interval\_ms\ >\ 0,\ \textcolor{stringliteral}{"{}config::block\_interval\_ms\ must\ be\ positive"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00252}00252\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ config::block\_cpu\_usage\_average\_window\_ms\ >=\ config::block\_interval\_ms,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}config::block\_cpu\_usage\_average\_window\_ms\ cannot\ be\ less\ than\ config::block\_interval\_ms"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00254}00254\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(\ config::block\_size\_average\_window\_ms\ >=\ config::block\_interval\_ms,}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}config::block\_size\_average\_window\_ms\ cannot\ be\ less\ than\ config::block\_interval\_ms"{}}\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00256}00256\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00257}00257\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00258}00258\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters}{elastic\_limit\_parameters}}\ cpu\_limit\_parameters\ =\ \{\mbox{\hyperlink{chain_2include_2sysio_2chain_2config_8hpp_a0b4bacb63f31764f50a185f320551fbc}{SYS\_PERCENT}}(config::default\_max\_block\_cpu\_usage,\ config::default\_target\_block\_cpu\_usage\_pct),\ config::default\_max\_block\_cpu\_usage,\ config::block\_cpu\_usage\_average\_window\_ms\ /\ config::block\_interval\_ms,\ 1000,\ \{99,\ 100\},\ \{1000,\ 999\}\};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00259}00259\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters}{elastic\_limit\_parameters}}\ net\_limit\_parameters\ =\ \{\mbox{\hyperlink{chain_2include_2sysio_2chain_2config_8hpp_a0b4bacb63f31764f50a185f320551fbc}{SYS\_PERCENT}}(config::default\_max\_block\_net\_usage,\ config::default\_target\_block\_net\_usage\_pct),\ config::default\_max\_block\_net\_usage,\ config::block\_size\_average\_window\_ms\ /\ config::block\_interval\_ms,\ 1000,\ \{99,\ 100\},\ \{1000,\ 999\}\};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00261}00261\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ account\_cpu\_usage\_average\_window\ =\ config::account\_cpu\_usage\_average\_window\_ms\ /\ config::block\_interval\_ms;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00262}00262\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ account\_net\_usage\_average\_window\ =\ config::account\_net\_usage\_average\_window\_ms\ /\ config::block\_interval\_ms;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00263}00263\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00264}00264\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00265}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_af0e92e61b12c4eb0ff352f44ca9fbe09}{00265}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_af0e92e61b12c4eb0ff352f44ca9fbe09}{resource\_limits\_config\_index}}\ =\ \mbox{\hyperlink{namespacechainbase_aba1e047495dcaa4e0d32ff25b8705f1f}{chainbase::shared\_multi\_index\_container}}<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00266}00266\ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}},}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00267}00267\ \ \ \ \ \ \ indexed\_by<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_id>,\ member<resource\_limits\_config\_object,\ resource\_limits\_config\_object::id\_type,\ \&resource\_limits\_config\_object::id>>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00269}00269\ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00270}00270\ \ \ \ >;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00271}00271\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00272}\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{00272}}\ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{resource\_limits\_state\_object}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structchainbase_1_1object}{chainbase::object}}<resource\_limits\_state\_object\_type,\ resource\_limits\_state\_object>\ \{}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00273}00273\ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2types_8hpp_a4f726ee00eb9bbf2574c06492926cf73}{OBJECT\_CTOR}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{resource\_limits\_state\_object}});}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00274}00274\ \ \ \ \ \ \ \mbox{\hyperlink{classchainbase_1_1oid}{id\_type}}\ \mbox{\hyperlink{code__cache_8cpp_aa0efefe21f4700d78692edc823e763be}{id}};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00275}00275\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00279}00279\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{usage\_accumulator}}\ average\_block\_net\_usage;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00280}00280\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00284}00284\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{usage\_accumulator}}\ average\_block\_cpu\_usage;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00285}00285\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00286}00286\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ update\_virtual\_net\_limit(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}}\&\ cfg\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00287}00287\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ update\_virtual\_cpu\_limit(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{resource\_limits\_config\_object}}\&\ cfg\ );}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00288}00288\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00289}00289\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ pending\_net\_usage\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00290}00290\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ pending\_cpu\_usage\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00291}00291\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00292}00292\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ total\_net\_weight\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00293}00293\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ total\_cpu\_weight\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00294}00294\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ total\_ram\_bytes\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00295}00295\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00311}00311\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ virtual\_net\_limit\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00312}00312\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00316}00316\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ virtual\_cpu\_limit\ =\ 0ULL;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00317}00317\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00318}00318\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00319}00319\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00320}\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_ac8c3fe48e6c4c00d12cb2f55913798ca}{00320}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_ac8c3fe48e6c4c00d12cb2f55913798ca}{resource\_limits\_state\_index}}\ =\ \mbox{\hyperlink{namespacechainbase_aba1e047495dcaa4e0d32ff25b8705f1f}{chainbase::shared\_multi\_index\_container}}<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00321}00321\ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{resource\_limits\_state\_object}},}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00322}00322\ \ \ \ \ \ \ indexed\_by<}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00323}00323\ \ \ \ \ \ \ \ \ \ ordered\_unique<tag<by\_id>,\ member<resource\_limits\_state\_object,\ resource\_limits\_state\_object::id\_type,\ \&resource\_limits\_state\_object::id>>}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00324}00324\ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00325}00325\ \ \ \ >;}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00326}00326\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00327}00327\ \}\ \}\ \}\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00328}00328\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00329}00329\ \mbox{\hyperlink{chainbase_8hpp_a789572f90cbf8d6a0c1909c170298a1a}{CHAINBASE\_SET\_INDEX\_TYPE}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{sysio::chain::resource\_limits::resource\_limits\_object}},\ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a46a650001834ee5948b425f2e83cf948}{sysio::chain::resource\_limits::resource\_limits\_index}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00330}00330\ \mbox{\hyperlink{chainbase_8hpp_a789572f90cbf8d6a0c1909c170298a1a}{CHAINBASE\_SET\_INDEX\_TYPE}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{sysio::chain::resource\_limits::resource\_usage\_object}},\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_a0b3297439198d69fd3b3bb4cb9eefa6d}{sysio::chain::resource\_limits::resource\_usage\_index}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00331}00331\ \mbox{\hyperlink{chainbase_8hpp_a789572f90cbf8d6a0c1909c170298a1a}{CHAINBASE\_SET\_INDEX\_TYPE}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{sysio::chain::resource\_limits::resource\_limits\_config\_object}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_af0e92e61b12c4eb0ff352f44ca9fbe09}{sysio::chain::resource\_limits::resource\_limits\_config\_index}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00332}00332\ \mbox{\hyperlink{chainbase_8hpp_a789572f90cbf8d6a0c1909c170298a1a}{CHAINBASE\_SET\_INDEX\_TYPE}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{sysio::chain::resource\_limits::resource\_limits\_state\_object}},\ \ \mbox{\hyperlink{namespacesysio_1_1chain_1_1resource__limits_ac8c3fe48e6c4c00d12cb2f55913798ca}{sysio::chain::resource\_limits::resource\_limits\_state\_index}})}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00333}00333\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00334}00334\ \mbox{\hyperlink{reflect_8hpp_a2ace850e636b1ca0b18fe3177e413d99}{FC\_REFLECT}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1impl_1_1exponential__moving__average__accumulator}{sysio::chain::resource\_limits::usage\_accumulator}},\ (last\_ordinal)(value\_ex)(consumed))}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00335}00335\ }
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00336}00336\ \textcolor{comment}{//\ @ignore\ pending}}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00337}00337\ \mbox{\hyperlink{reflect_8hpp_a2ace850e636b1ca0b18fe3177e413d99}{FC\_REFLECT}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__limits__object}{sysio::chain::resource\_limits::resource\_limits\_object}},\ (owner)(net\_weight)(cpu\_weight)(ram\_bytes))}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00338}00338\ \mbox{\hyperlink{reflect_8hpp_a2ace850e636b1ca0b18fe3177e413d99}{FC\_REFLECT}}(\mbox{\hyperlink{structsysio_1_1chain_1_1resource__limits_1_1resource__usage__object}{sysio::chain::resource\_limits::resource\_usage\_object}},\ \ (owner)(net\_usage)(cpu\_usage)(ram\_usage))}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00339}00339\ \mbox{\hyperlink{reflect_8hpp_a2ace850e636b1ca0b18fe3177e413d99}{FC\_REFLECT}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__config__object}{sysio::chain::resource\_limits::resource\_limits\_config\_object}},\ (cpu\_limit\_parameters)(net\_limit\_parameters)(account\_cpu\_usage\_average\_window)(account\_net\_usage\_average\_window))}
\DoxyCodeLine{\Hypertarget{resource__limits__private_8hpp_source_l00340}00340\ \mbox{\hyperlink{reflect_8hpp_a2ace850e636b1ca0b18fe3177e413d99}{FC\_REFLECT}}(\mbox{\hyperlink{classsysio_1_1chain_1_1resource__limits_1_1resource__limits__state__object}{sysio::chain::resource\_limits::resource\_limits\_state\_object}},\ (average\_block\_net\_usage)(average\_block\_cpu\_usage)(pending\_net\_usage)(pending\_cpu\_usage)(total\_net\_weight)(total\_cpu\_weight)(total\_ram\_bytes)(virtual\_net\_limit)(virtual\_cpu\_limit))}

\end{DoxyCode}
