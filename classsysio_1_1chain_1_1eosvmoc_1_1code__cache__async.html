<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::eosvmoc::code_cache_async Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::eosvmoc::code_cache_async Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="code__cache_8hpp_source.html">code_cache.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sysio::chain::eosvmoc::code_cache_async:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async__inherit__graph.png" border="0" usemap="#asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_inherit__map" alt="Inheritance graph"/></div>
<map name="asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_inherit__map" id="asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_inherit__map">
<area shape="rect" title=" " alt="" coords="5,94,158,135"/>
<area shape="rect" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="84,62,84,94,79,94,79,62"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for sysio::chain::eosvmoc::code_cache_async:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async__coll__graph.png" border="0" usemap="#asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_coll__map" id="asysio_1_1chain_1_1eosvmoc_1_1code__cache__async_coll__map">
<area shape="rect" title=" " alt="" coords="61,199,214,240"/>
<area shape="rect" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html" title=" " alt="" coords="61,109,214,150"/>
<area shape="poly" title=" " alt="" coords="140,165,140,199,135,199,135,165"/>
<area shape="rect" href="classchainbase_1_1database.html" title=" " alt="" coords="5,5,147,31"/>
<area shape="poly" title=" " alt="" coords="93,43,129,107,124,110,88,46"/>
<area shape="rect" title=" " alt="" coords="170,5,227,31"/>
<area shape="poly" title=" " alt="" coords="187,46,151,110,146,107,182,43"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5e9f17c574c6388b10a05dcedea7fde" id="r_ab5e9f17c574c6388b10a05dcedea7fde"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5e9f17c574c6388b10a05dcedea7fde">code_cache_async</a> (const bfs::path data_dir, const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a> &amp;eosvmoc_config, const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;db)</td></tr>
<tr class="separator:ab5e9f17c574c6388b10a05dcedea7fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8076b08d9220abbf0a2ec7f717d5925" id="r_ab8076b08d9220abbf0a2ec7f717d5925"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8076b08d9220abbf0a2ec7f717d5925">~code_cache_async</a> ()</td></tr>
<tr class="separator:ab8076b08d9220abbf0a2ec7f717d5925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6565ec4ecff75fbdbf99ab37604c2b0" id="r_ae6565ec4ecff75fbdbf99ab37604c2b0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6565ec4ecff75fbdbf99ab37604c2b0">get_descriptor_for_code</a> (const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;code_id, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;vm_version)</td></tr>
<tr class="separator:ae6565ec4ecff75fbdbf99ab37604c2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html">sysio::chain::eosvmoc::code_cache_base</a></td></tr>
<tr class="memitem:ab31065b1fab5b6d5910d1cae71bb15cf inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_ab31065b1fab5b6d5910d1cae71bb15cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ab31065b1fab5b6d5910d1cae71bb15cf">code_cache_base</a> (const bfs::path data_dir, const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a> &amp;eosvmoc_config, const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;db)</td></tr>
<tr class="separator:ab31065b1fab5b6d5910d1cae71bb15cf inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04c389f3eef6d9860d507ce690a4781 inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_ac04c389f3eef6d9860d507ce690a4781"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ac04c389f3eef6d9860d507ce690a4781">~code_cache_base</a> ()</td></tr>
<tr class="separator:ac04c389f3eef6d9860d507ce690a4781 inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77b7e524be52fdfab8d5faef376b4db inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_ad77b7e524be52fdfab8d5faef376b4db"><td class="memItemLeft" align="right" valign="top">const int &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ad77b7e524be52fdfab8d5faef376b4db">fd</a> () const</td></tr>
<tr class="separator:ad77b7e524be52fdfab8d5faef376b4db inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898c78da95cb62a1fc2fbdb197f2836d inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a898c78da95cb62a1fc2fbdb197f2836d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a898c78da95cb62a1fc2fbdb197f2836d">free_code</a> (const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;code_id, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;vm_version)</td></tr>
<tr class="separator:a898c78da95cb62a1fc2fbdb197f2836d inherit pub_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_types_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html">sysio::chain::eosvmoc::code_cache_base</a></td></tr>
<tr class="memitem:a30f70ce315e8da4166face9c8b4ea5e5 inherit pro_types_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a30f70ce315e8da4166face9c8b4ea5e5"><td class="memItemLeft" align="right" valign="top">typedef boost::multi_index_container&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a>, indexed_by&lt; sequenced&lt;&gt;, hashed_unique&lt; tag&lt; by_hash &gt;, composite_key&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a>, member&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a>, <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html#ada2be2602cbf3bad4ae32cfed797abde">code_descriptor::code_hash</a> &gt;, member&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a>, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html#aea83d482172d4dedadbc9dd54e9a5a29">code_descriptor::vm_version</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a30f70ce315e8da4166face9c8b4ea5e5">code_cache_index</a></td></tr>
<tr class="separator:a30f70ce315e8da4166face9c8b4ea5e5 inherit pro_types_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html">sysio::chain::eosvmoc::code_cache_base</a></td></tr>
<tr class="memitem:a249bdb27d2796f53a728b85a2889db44 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a249bdb27d2796f53a728b85a2889db44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a249bdb27d2796f53a728b85a2889db44">check_eviction_threshold</a> (size_t free_bytes)</td></tr>
<tr class="separator:a249bdb27d2796f53a728b85a2889db44 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543e8301b86cc0682a715686279dc1c3 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a543e8301b86cc0682a715686279dc1c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a543e8301b86cc0682a715686279dc1c3">run_eviction_round</a> ()</td></tr>
<tr class="separator:a543e8301b86cc0682a715686279dc1c3 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9933307339971ede770f460277491587 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a9933307339971ede770f460277491587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a9933307339971ede770f460277491587">set_on_disk_region_dirty</a> (bool)</td></tr>
<tr class="separator:a9933307339971ede770f460277491587 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06095b550460307a8e11b2b8a1083230 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a06095b550460307a8e11b2b8a1083230"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; </td></tr>
<tr class="memitem:a06095b550460307a8e11b2b8a1083230 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a06095b550460307a8e11b2b8a1083230">serialize_cache_index</a> (<a class="el" href="classfc_1_1datastream.html">fc::datastream</a>&lt; <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; &amp;ds)</td></tr>
<tr class="separator:a06095b550460307a8e11b2b8a1083230 inherit pro_methods_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html">sysio::chain::eosvmoc::code_cache_base</a></td></tr>
<tr class="memitem:adb969be895a25820aa4e599304dfa252 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_adb969be895a25820aa4e599304dfa252"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a30f70ce315e8da4166face9c8b4ea5e5">code_cache_index</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a></td></tr>
<tr class="separator:adb969be895a25820aa4e599304dfa252 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e0e5b63b94e48e35baacc15644b0b7 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_ad7e0e5b63b94e48e35baacc15644b0b7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ad7e0e5b63b94e48e35baacc15644b0b7">_db</a></td></tr>
<tr class="separator:ad7e0e5b63b94e48e35baacc15644b0b7 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf29e52e658f8089958c93ae87402ac inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_abbf29e52e658f8089958c93ae87402ac"><td class="memItemLeft" align="right" valign="top">bfs::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#abbf29e52e658f8089958c93ae87402ac">_cache_file_path</a></td></tr>
<tr class="separator:abbf29e52e658f8089958c93ae87402ac inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee1ae29b4dc9f8f3cb0b86f32998dc4 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_aaee1ae29b4dc9f8f3cb0b86f32998dc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#aaee1ae29b4dc9f8f3cb0b86f32998dc4">_cache_fd</a></td></tr>
<tr class="separator:aaee1ae29b4dc9f8f3cb0b86f32998dc4 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccb3fc4fe49eb154ea915ee8b350f70 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_acccb3fc4fe49eb154ea915ee8b350f70"><td class="memItemLeft" align="right" valign="top">io_context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#acccb3fc4fe49eb154ea915ee8b350f70">_ctx</a></td></tr>
<tr class="separator:acccb3fc4fe49eb154ea915ee8b350f70 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea07bb510f7b82ecfb324bca6225728 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a1ea07bb510f7b82ecfb324bca6225728"><td class="memItemLeft" align="right" valign="top">local::datagram_protocol::socket&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a1ea07bb510f7b82ecfb324bca6225728">_compile_monitor_write_socket</a> {<a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#acccb3fc4fe49eb154ea915ee8b350f70">_ctx</a>}</td></tr>
<tr class="separator:a1ea07bb510f7b82ecfb324bca6225728 inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3422663ea869e784bf6b6e72cb43f96b inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a3422663ea869e784bf6b6e72cb43f96b"><td class="memItemLeft" align="right" valign="top">local::datagram_protocol::socket&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a3422663ea869e784bf6b6e72cb43f96b">_compile_monitor_read_socket</a> {<a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#acccb3fc4fe49eb154ea915ee8b350f70">_ctx</a>}</td></tr>
<tr class="separator:a3422663ea869e784bf6b6e72cb43f96b inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c50f4deb837180fa47026465c55d8a inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a44c50f4deb837180fa47026465c55d8a"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__tuple.html">code_tuple</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a></td></tr>
<tr class="separator:a44c50f4deb837180fa47026465c55d8a inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9d3065fa9328cb776d6c68b0c9ef1f inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_a6f9d3065fa9328cb776d6c68b0c9ef1f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__tuple.html">code_tuple</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a></td></tr>
<tr class="separator:a6f9d3065fa9328cb776d6c68b0c9ef1f inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4b8115d88fae51bcaf70a15bd3db3bc inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base" id="r_aa4b8115d88fae51bcaf70a15bd3db3bc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#aa4b8115d88fae51bcaf70a15bd3db3bc">_free_bytes_eviction_threshold</a></td></tr>
<tr class="separator:aa4b8115d88fae51bcaf70a15bd3db3bc inherit pro_attribs_classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="code__cache_8hpp_source.html#l00089">89</a> of file <a class="el" href="code__cache_8hpp_source.html">code_cache.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab5e9f17c574c6388b10a05dcedea7fde" name="ab5e9f17c574c6388b10a05dcedea7fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e9f17c574c6388b10a05dcedea7fde">&#9670;&#160;</a></span>code_cache_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::eosvmoc::code_cache_async::code_cache_async </td>
          <td>(</td>
          <td class="paramtype">const bfs::path</td>          <td class="paramname"><span class="paramname"><em>data_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>eosvmoc_config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>db</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="code__cache_8cpp_source.html#l00042">42</a> of file <a class="el" href="code__cache_8cpp_source.html">code_cache.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                                                                                                           :</div>
<div class="line"><span class="lineno">   43</span>   <a class="code hl_function" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ab31065b1fab5b6d5910d1cae71bb15cf">code_cache_base</a>(data_dir, eosvmoc_config, db),</div>
<div class="line"><span class="lineno">   44</span>   _result_queue(eosvmoc_config.threads * 2),</div>
<div class="line"><span class="lineno">   45</span>   _threads(eosvmoc_config.threads)</div>
<div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>   <a class="code hl_define" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>(_threads, <span class="stringliteral">&quot;SYS VM OC requires at least 1 compile thread&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>   wait_on_compile_monitor_message();</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>   _monitor_reply_thread = std::thread([<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">   52</span>      <a class="code hl_function" href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595">fc::set_os_thread_name</a>(<span class="stringliteral">&quot;oc-monitor&quot;</span>);</div>
<div class="line"><span class="lineno">   53</span>      <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#acccb3fc4fe49eb154ea915ee8b350f70">_ctx</a>.run();</div>
<div class="line"><span class="lineno">   54</span>   });</div>
<div class="line"><span class="lineno">   55</span>}</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_ab31065b1fab5b6d5910d1cae71bb15cf"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ab31065b1fab5b6d5910d1cae71bb15cf">sysio::chain::eosvmoc::code_cache_base::code_cache_base</a></div><div class="ttdeci">code_cache_base(const bfs::path data_dir, const eosvmoc::config &amp;eosvmoc_config, const chainbase::database &amp;db)</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8cpp_source.html#l00205">code_cache.cpp:205</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_acccb3fc4fe49eb154ea915ee8b350f70"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#acccb3fc4fe49eb154ea915ee8b350f70">sysio::chain::eosvmoc::code_cache_base::_ctx</a></div><div class="ttdeci">io_context _ctx</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00070">code_cache.hpp:70</a></div></div>
<div class="ttc" id="aexception_8hpp_html_abed525eeff3ae581be7e4e2fcd3b7bf4"><div class="ttname"><a href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a></div><div class="ttdeci">#define FC_ASSERT(TEST,...)</div><div class="ttdoc">Checks a condition and throws an assert_exception if the test is FALSE.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00362">exception.hpp:362</a></div></div>
<div class="ttc" id="anamespacefc_html_ab58a7f71e88d7d4d5761bbd24837c595"><div class="ttname"><a href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595">fc::set_os_thread_name</a></div><div class="ttdeci">void set_os_thread_name(const string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="logger__config_8cpp_source.html#l00136">logger_config.cpp:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ab5e9f17c574c6388b10a05dcedea7fde_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ab5e9f17c574c6388b10a05dcedea7fde_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ab5e9f17c574c6388b10a05dcedea7fde_cgraph" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ab5e9f17c574c6388b10a05dcedea7fde_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,183,61"/>
<area shape="rect" href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595" title=" " alt="" coords="231,20,392,46"/>
<area shape="poly" title=" " alt="" coords="183,30,215,30,215,36,183,36"/>
</map>
</div>

</div>
</div>
<a id="ab8076b08d9220abbf0a2ec7f717d5925" name="ab8076b08d9220abbf0a2ec7f717d5925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8076b08d9220abbf0a2ec7f717d5925">&#9670;&#160;</a></span>~code_cache_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::eosvmoc::code_cache_async::~code_cache_async </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="code__cache_8cpp_source.html#l00057">57</a> of file <a class="el" href="code__cache_8cpp_source.html">code_cache.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                                    {</div>
<div class="line"><span class="lineno">   58</span>   <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a1ea07bb510f7b82ecfb324bca6225728">_compile_monitor_write_socket</a>.shutdown(local::datagram_protocol::socket::shutdown_send);</div>
<div class="line"><span class="lineno">   59</span>   _monitor_reply_thread.join();</div>
<div class="line"><span class="lineno">   60</span>   consume_compile_thread_queue();</div>
<div class="line"><span class="lineno">   61</span>}</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_a1ea07bb510f7b82ecfb324bca6225728"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a1ea07bb510f7b82ecfb324bca6225728">sysio::chain::eosvmoc::code_cache_base::_compile_monitor_write_socket</a></div><div class="ttdeci">local::datagram_protocol::socket _compile_monitor_write_socket</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00071">code_cache.hpp:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae6565ec4ecff75fbdbf99ab37604c2b0" name="ae6565ec4ecff75fbdbf99ab37604c2b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6565ec4ecff75fbdbf99ab37604c2b0">&#9670;&#160;</a></span>get_descriptor_for_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1code__descriptor.html">code_descriptor</a> *const sysio::chain::eosvmoc::code_cache_async::get_descriptor_for_code </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>code_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vm_version</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="code__cache_8cpp_source.html#l00109">109</a> of file <a class="el" href="code__cache_8cpp_source.html">code_cache.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>                                                                                                                            {</div>
<div class="line"><span class="lineno">  110</span>   <span class="comment">//if there are any outstanding compiles, process the result queue now</span></div>
<div class="line"><span class="lineno">  111</span>   <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.size()) {</div>
<div class="line"><span class="lineno">  112</span>      <span class="keyword">auto</span> [count_processed, bytes_remaining] = consume_compile_thread_queue();</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">if</span>(count_processed)</div>
<div class="line"><span class="lineno">  115</span>         <a class="code hl_function" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a249bdb27d2796f53a728b85a2889db44">check_eviction_threshold</a>(bytes_remaining);</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>      <span class="keywordflow">while</span>(count_processed &amp;&amp; <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.size()) {</div>
<div class="line"><span class="lineno">  118</span>         <span class="keyword">auto</span> nextup = <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.begin();</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>         <span class="comment">//it&#39;s not clear this check is required: if apply() was called for code then it existed in the code_index; and then</span></div>
<div class="line"><span class="lineno">  121</span>         <span class="comment">// if we got notification of it no longer existing we would have removed it from queued_compiles</span></div>
<div class="line"><span class="lineno">  122</span>         <span class="keyword">const</span> code_object* <span class="keyword">const</span> codeobject = <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ad7e0e5b63b94e48e35baacc15644b0b7">_db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;code_object,by_code_hash&gt;(boost::make_tuple(nextup-&gt;code_id, 0, nextup-&gt;vm_version));</div>
<div class="line"><span class="lineno">  123</span>         <span class="keywordflow">if</span>(codeobject) {</div>
<div class="line"><span class="lineno">  124</span>            <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.emplace(*nextup, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  125</span>            std::vector&lt;wrapped_fd&gt; fds_to_pass;</div>
<div class="line"><span class="lineno">  126</span>            fds_to_pass.emplace_back(<a class="code hl_function" href="namespacesysio_1_1chain_1_1eosvmoc.html#afe4909c18643f64d0c67a83885aefd90">memfd_for_bytearray</a>(codeobject-&gt;code));</div>
<div class="line"><span class="lineno">  127</span>            <a class="code hl_define" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>(<a class="code hl_function" href="namespacesysio_1_1chain_1_1eosvmoc.html#a8715d32fd2e6a4a668578ca0d946b58b">write_message_with_fds</a>(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a1ea07bb510f7b82ecfb324bca6225728">_compile_monitor_write_socket</a>, compile_wasm_message{ *nextup }, fds_to_pass), <span class="stringliteral">&quot;SYS VM failed to communicate to OOP manager&quot;</span>);</div>
<div class="line"><span class="lineno">  128</span>            --count_processed;</div>
<div class="line"><span class="lineno">  129</span>         }</div>
<div class="line"><span class="lineno">  130</span>         <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.erase(nextup);</div>
<div class="line"><span class="lineno">  131</span>      }</div>
<div class="line"><span class="lineno">  132</span>   }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>   <span class="comment">//check for entry in cache</span></div>
<div class="line"><span class="lineno">  135</span>   code_cache_index::index&lt;by_hash&gt;::type::iterator it = <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a>.get&lt;by_hash&gt;().<a class="code hl_function" href="namespace_intrinsics.html#a7b30616029cc015f330ebf338c3fb454">find</a>(boost::make_tuple(code_id, vm_version));</div>
<div class="line"><span class="lineno">  136</span>   <span class="keywordflow">if</span>(it != <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a>.get&lt;by_hash&gt;().end()) {</div>
<div class="line"><span class="lineno">  137</span>      <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a>.relocate(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a>.begin(), <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">_cache_index</a>.project&lt;0&gt;(it));</div>
<div class="line"><span class="lineno">  138</span>      <span class="keywordflow">return</span> &amp;*it;</div>
<div class="line"><span class="lineno">  139</span>   }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>   <span class="keyword">const</span> code_tuple ct = code_tuple{code_id, vm_version};</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>   <span class="keywordflow">if</span>(_blacklist.find(ct) != _blacklist.end())</div>
<div class="line"><span class="lineno">  144</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  145</span>   <span class="keywordflow">if</span>(<span class="keyword">auto</span> it = <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.find(ct); it != <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.end()) {</div>
<div class="line"><span class="lineno">  146</span>      it-&gt;second = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  147</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  148</span>   }</div>
<div class="line"><span class="lineno">  149</span>   <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.find(ct) != <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.end())</div>
<div class="line"><span class="lineno">  150</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>   <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.size() &gt;= _threads) {</div>
<div class="line"><span class="lineno">  153</span>      <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">_queued_compiles</a>.emplace(ct);</div>
<div class="line"><span class="lineno">  154</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  155</span>   }</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>   <span class="keyword">const</span> code_object* <span class="keyword">const</span> codeobject = <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ad7e0e5b63b94e48e35baacc15644b0b7">_db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;code_object,by_code_hash&gt;(boost::make_tuple(code_id, 0, vm_version));</div>
<div class="line"><span class="lineno">  158</span>   <span class="keywordflow">if</span>(!codeobject) <span class="comment">//should be impossible right?</span></div>
<div class="line"><span class="lineno">  159</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>   <a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">_outstanding_compiles_and_poison</a>.emplace(ct, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  162</span>   std::vector&lt;wrapped_fd&gt; fds_to_pass;</div>
<div class="line"><span class="lineno">  163</span>   fds_to_pass.emplace_back(<a class="code hl_function" href="namespacesysio_1_1chain_1_1eosvmoc.html#afe4909c18643f64d0c67a83885aefd90">memfd_for_bytearray</a>(codeobject-&gt;code));</div>
<div class="line"><span class="lineno">  164</span>   <a class="code hl_function" href="namespacesysio_1_1chain_1_1eosvmoc.html#a8715d32fd2e6a4a668578ca0d946b58b">write_message_with_fds</a>(<a class="code hl_variable" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a1ea07bb510f7b82ecfb324bca6225728">_compile_monitor_write_socket</a>, compile_wasm_message{ ct }, fds_to_pass);</div>
<div class="line"><span class="lineno">  165</span>   <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  166</span>}</div>
<div class="ttc" id="aclasschainbase_1_1database_html_aa5a2ca0da0092693ac49b36b7ec6817a"><div class="ttname"><a href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">chainbase::database::find</a></div><div class="ttdeci">const ObjectType * find(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00458">chainbase.hpp:458</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_a249bdb27d2796f53a728b85a2889db44"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a249bdb27d2796f53a728b85a2889db44">sysio::chain::eosvmoc::code_cache_base::check_eviction_threshold</a></div><div class="ttdeci">void check_eviction_threshold(size_t free_bytes)</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8cpp_source.html#l00380">code_cache.cpp:380</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_a44c50f4deb837180fa47026465c55d8a"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a44c50f4deb837180fa47026465c55d8a">sysio::chain::eosvmoc::code_cache_base::_queued_compiles</a></div><div class="ttdeci">std::unordered_set&lt; code_tuple &gt; _queued_compiles</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00076">code_cache.hpp:76</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_a6f9d3065fa9328cb776d6c68b0c9ef1f"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a6f9d3065fa9328cb776d6c68b0c9ef1f">sysio::chain::eosvmoc::code_cache_base::_outstanding_compiles_and_poison</a></div><div class="ttdeci">std::unordered_map&lt; code_tuple, bool &gt; _outstanding_compiles_and_poison</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00077">code_cache.hpp:77</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_ad7e0e5b63b94e48e35baacc15644b0b7"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#ad7e0e5b63b94e48e35baacc15644b0b7">sysio::chain::eosvmoc::code_cache_base::_db</a></div><div class="ttdeci">const chainbase::database &amp; _db</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00065">code_cache.hpp:65</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__base_html_adb969be895a25820aa4e599304dfa252"><div class="ttname"><a href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#adb969be895a25820aa4e599304dfa252">sysio::chain::eosvmoc::code_cache_base::_cache_index</a></div><div class="ttdeci">code_cache_index _cache_index</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8hpp_source.html#l00063">code_cache.hpp:63</a></div></div>
<div class="ttc" id="anamespace_intrinsics_html_a7b30616029cc015f330ebf338c3fb454"><div class="ttname"><a href="namespace_intrinsics.html#a7b30616029cc015f330ebf338c3fb454">Intrinsics::find</a></div><div class="ttdeci">RUNTIME_API Runtime::ObjectInstance * find(const std::string &amp;name, const IR::ObjectType &amp;type)</div><div class="ttdef"><b>Definition</b> <a href="_intrinsics_8cpp_source.html#l00048">Intrinsics.cpp:48</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1eosvmoc_html_a8715d32fd2e6a4a668578ca0d946b58b"><div class="ttname"><a href="namespacesysio_1_1chain_1_1eosvmoc.html#a8715d32fd2e6a4a668578ca0d946b58b">sysio::chain::eosvmoc::write_message_with_fds</a></div><div class="ttdeci">bool write_message_with_fds(boost::asio::local::datagram_protocol::socket &amp;s, const eosvmoc_message &amp;message, const std::vector&lt; wrapped_fd &gt; &amp;fds=std::vector&lt; wrapped_fd &gt;())</div><div class="ttdef"><b>Definition</b> <a href="ipc__helpers_8cpp_source.html#l00064">ipc_helpers.cpp:64</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1eosvmoc_html_afe4909c18643f64d0c67a83885aefd90"><div class="ttname"><a href="namespacesysio_1_1chain_1_1eosvmoc.html#afe4909c18643f64d0c67a83885aefd90">sysio::chain::eosvmoc::memfd_for_bytearray</a></div><div class="ttdeci">wrapped_fd memfd_for_bytearray(const T &amp;bytes)</div><div class="ttdef"><b>Definition</b> <a href="ipc__helpers_8hpp_source.html#l00056">ipc_helpers.hpp:56</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ae6565ec4ecff75fbdbf99ab37604c2b0_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ae6565ec4ecff75fbdbf99ab37604c2b0_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ae6565ec4ecff75fbdbf99ab37604c2b0_cgraph" id="aclasssysio_1_1chain_1_1eosvmoc_1_1code__cache__async_ae6565ec4ecff75fbdbf99ab37604c2b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,103,173,158"/>
<area shape="rect" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a249bdb27d2796f53a728b85a2889db44" title=" " alt="" coords="221,5,398,61"/>
<area shape="poly" title=" " alt="" coords="153,100,230,65,232,70,155,105"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1eosvmoc.html#a8715d32fd2e6a4a668578ca0d946b58b" title=" " alt="" coords="654,46,828,87"/>
<area shape="poly" title=" " alt="" coords="173,120,639,74,639,79,173,125"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="239,141,380,182"/>
<area shape="poly" title=" " alt="" coords="174,140,224,147,223,152,173,145"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1eosvmoc.html#afe4909c18643f64d0c67a83885aefd90" title=" " alt="" coords="233,237,386,278"/>
<area shape="poly" title=" " alt="" coords="141,157,260,226,258,231,138,161"/>
<area shape="rect" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__base.html#a543e8301b86cc0682a715686279dc1c3" title=" " alt="" coords="446,5,606,61"/>
<area shape="poly" title=" " alt="" coords="398,30,430,30,430,36,398,36"/>
<area shape="poly" title=" " alt="" coords="607,43,639,48,639,53,606,48"/>
<area shape="poly" title=" " alt="" coords="700,46,698,36,705,27,719,22,741,20,764,22,778,28,776,33,763,27,741,25,721,27,708,31,704,37,706,45"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="657,148,825,174"/>
<area shape="poly" title=" " alt="" coords="381,165,642,166,642,172,381,171"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="456,210,597,251"/>
<area shape="poly" title=" " alt="" coords="376,180,447,202,445,208,375,185"/>
<area shape="poly" title=" " alt="" coords="657,157,396,156,396,151,657,151"/>
<area shape="poly" title=" " alt="" coords="591,207,683,177,685,182,593,212"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="490,275,562,301"/>
<area shape="poly" title=" " alt="" coords="386,265,475,278,474,283,385,271"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/chain/include/sysio/chain/webassembly/sys-vm-oc/<a class="el" href="code__cache_8hpp_source.html">code_cache.hpp</a></li>
<li>libraries/chain/webassembly/runtimes/sys-vm-oc/<a class="el" href="code__cache_8cpp_source.html">code_cache.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain_1_1eosvmoc.html">eosvmoc</a></li><li class="navelem"><a class="el" href="classsysio_1_1chain_1_1eosvmoc_1_1code__cache__async.html">code_cache_async</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
