\doxysection{LLVMJIT.\+h}
\hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source}{}\label{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source}\index{libraries/wasm-\/jit/Source/Runtime/LLVMJIT.h@{libraries/wasm-\/jit/Source/Runtime/LLVMJIT.h}}
\mbox{\hyperlink{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_basic_types_8h}{Inline/BasicTypes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{wasm-jit_2_include_2_platform_2platform_8h}{Platform/Platform.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_runtime_private_8h}{RuntimePrivate.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_intrinsics_8h}{Intrinsics.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}llvm/Analysis/Passes.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/ExecutionEngine.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/RTDyldMemoryManager.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/CompileUtils.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/IRCompileLayer.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/LambdaResolver.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/RTDyldObjectLinkingLayer.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/DataLayout.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/DerivedTypes.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/IRBuilder.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/LLVMContext.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00019}00019\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/LegacyPassManager.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00020}00020\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/Module.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00021}00021\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/Intrinsics.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00022}00022\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/Verifier.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00023}00023\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/ValueHandle.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00024}00024\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/DebugLoc.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00025}00025\ \textcolor{preprocessor}{\#include\ "{}llvm/Object/ObjectFile.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00026}00026\ \textcolor{preprocessor}{\#include\ "{}llvm/Object/SymbolSize.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00027}00027\ \textcolor{preprocessor}{\#include\ "{}llvm/Support/Debug.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00028}00028\ \textcolor{preprocessor}{\#include\ "{}llvm/Support/DataTypes.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00029}00029\ \textcolor{preprocessor}{\#include\ "{}llvm/Support/TargetSelect.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00030}00030\ \textcolor{preprocessor}{\#include\ "{}llvm/Support/Host.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00031}00031\ \textcolor{preprocessor}{\#include\ "{}llvm/Support/DynamicLibrary.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00032}00032\ \textcolor{preprocessor}{\#include\ "{}llvm/Transforms/Scalar.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00033}00033\ \textcolor{preprocessor}{\#include\ "{}llvm/IR/DIBuilder.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00034}00034\ \textcolor{preprocessor}{\#include\ "{}llvm/Transforms/InstCombine/InstCombine.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00035}00035\ \textcolor{preprocessor}{\#include\ "{}llvm/Transforms/Utils.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00036}00036\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/NullResolver.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00037}00037\ \textcolor{preprocessor}{\#include\ "{}llvm/ExecutionEngine/Orc/Core.h"{}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00038}00038\ \textcolor{preprocessor}{\#include\ <cctype>}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00039}00039\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00040}00040\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00042}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t}{00042}}\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_l_l_v_m_j_i_t}{LLVMJIT}}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00043}00043\ \{}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00044}00044\ \ \ \ \ \textcolor{comment}{//\ The\ global\ LLVM\ context.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00045}00045\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::LLVMContext\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a687253fce244b1f9aaca8fa53fbaa764}{context}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00046}00046\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00047}00047\ \ \ \ \ \textcolor{comment}{//\ Maps\ a\ type\ ID\ to\ the\ corresponding\ LLVM\ type.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00048}00048\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ab9d6c4daa33c78398f81ed1a2e6b4e0a}{llvmResultTypes}}[(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}})ResultType::num];}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00049}00049\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a6e15ea9a6819179cbf120329059aa9d8}{llvmI8Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00050}00050\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9dcb99cf370fc243556fb7b370ffc504}{llvmI16Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00051}00051\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a5b82697ca713f34625256dd14aaac751}{llvmI32Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00052}00052\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_aadef4496b5bbd3f37201f3210426cd6f}{llvmI64Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00053}00053\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ac6a0079c36a1287ece2323192786e543}{llvmF32Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00054}00054\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a495fe8eb355ae25f9b1e0cb96b53058b}{llvmF64Type}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00055}00055\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a6a54d62779196f2d77cd668b6000b581}{llvmVoidType}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00056}00056\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a2ce8a8d880528fe543174c728e3b66b8}{llvmBoolType}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00057}00057\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_adf064b84ad35d5d6066744d5f731a410}{llvmI8PtrType}};}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00059}00059\ \textcolor{preprocessor}{\ \ \ \ \#if\ ENABLE\_SIMD\_PROTOTYPE}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00060}00060\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmI8x16Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00061}00061\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmI16x8Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00062}00062\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmI32x4Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00063}00063\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmI64x2Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00064}00064\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmF32x4Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00065}00065\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Type*\ llvmF64x2Type;}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00066}00066\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00068}00068\ \ \ \ \ \textcolor{comment}{//\ Zero\ constants\ of\ each\ type.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00069}00069\ \ \ \ \ \textcolor{keyword}{extern}\ llvm::Constant*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad3209e5c8319f38367d2736733ad34eb}{typedZeroConstants}}[(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}})ValueType::num];}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00071}00071\ \ \ \ \ \textcolor{comment}{//\ Converts\ a\ WebAssembly\ type\ to\ a\ LLVM\ type.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00072}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{00072}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{asLLVMType}}(\mbox{\hyperlink{namespace_i_r_aa1afcba889279fa935b76ba278be7fd6}{ValueType}}\ type)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ab9d6c4daa33c78398f81ed1a2e6b4e0a}{llvmResultTypes}}[(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}})\mbox{\hyperlink{namespace_i_r_ab45d3b43adbcd5e840ea00566a9d2622}{asResultType}}(type)];\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00073}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a40f290694cefcf3cce0fa0b87e28df11}{00073}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Type*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{asLLVMType}}(\mbox{\hyperlink{namespace_i_r_ac56fb5355b338ad4a167c48ec539b90b}{ResultType}}\ type)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ab9d6c4daa33c78398f81ed1a2e6b4e0a}{llvmResultTypes}}[(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}})type];\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00075}00075\ \ \ \ \ \textcolor{comment}{//\ Converts\ a\ WebAssembly\ function\ type\ to\ a\ LLVM\ type.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00076}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a80d1020ad6bd736cd04bf4d5320f77be}{00076}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::FunctionType*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{asLLVMType}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_function_type}{FunctionType}}*\ functionType)}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00077}00077\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ llvmArgTypes\ =\ (llvm::Type**)alloca(\textcolor{keyword}{sizeof}(llvm::Type*)\ *\ functionType-\/>\mbox{\hyperlink{struct_i_r_1_1_function_type_a92e17c58f6cd40ee5392dba1bdc2e822}{parameters}}.size());}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00079}00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}}\ argIndex\ =\ 0;argIndex\ <\ functionType-\/>\mbox{\hyperlink{struct_i_r_1_1_function_type_a92e17c58f6cd40ee5392dba1bdc2e822}{parameters}}.size();++argIndex)}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00080}00080\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ llvmArgTypes[argIndex]\ =\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{asLLVMType}}(functionType-\/>\mbox{\hyperlink{struct_i_r_1_1_function_type_a92e17c58f6cd40ee5392dba1bdc2e822}{parameters}}[argIndex]);}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00082}00082\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00083}00083\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ llvmResultType\ =\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ad0de84f0ffe9fef3d2a917c137483a28}{asLLVMType}}(functionType-\/>\mbox{\hyperlink{struct_i_r_1_1_function_type_a6f6a20ea31fb2218bcdba1bc4d6a1103}{ret}});}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ llvm::FunctionType::get(llvmResultType,llvm::ArrayRef<llvm::Type*>(llvmArgTypes,functionType-\/>\mbox{\hyperlink{struct_i_r_1_1_function_type_a92e17c58f6cd40ee5392dba1bdc2e822}{parameters}}.size()),\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00085}00085\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00087}00087\ \ \ \ \ \textcolor{comment}{//\ Overloaded\ functions\ that\ compile\ a\ literal\ value\ to\ a\ LLVM\ constant\ of\ the\ right\ type.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00088}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{00088}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::ConstantInt*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_a696390429f2f3b644bde8d0322a24124}{U32}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ (llvm::ConstantInt*)llvm::ConstantInt::get(\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a5b82697ca713f34625256dd14aaac751}{llvmI32Type}},llvm::APInt(32,(\mbox{\hyperlink{_basic_types_8h_a25809e0734a149248fcf5831efa4e33d}{U64}})\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\textcolor{keyword}{false}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00089}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a8d5541df0a9537ce560e27fced75b4a5}{00089}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::ConstantInt*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_a2f1a62071dd7dc3f6ef85c1b7612dc35}{I32}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ (llvm::ConstantInt*)llvm::ConstantInt::get(\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a5b82697ca713f34625256dd14aaac751}{llvmI32Type}},llvm::APInt(32,(\mbox{\hyperlink{_basic_types_8h_a416b74ff5b1dc365af5713a3f48fb8b9}{I64}})\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\textcolor{keyword}{false}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00090}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a03802791997c0193c9e6d2f6ec50046d}{00090}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::ConstantInt*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_a25809e0734a149248fcf5831efa4e33d}{U64}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ (llvm::ConstantInt*)llvm::ConstantInt::get(\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_aadef4496b5bbd3f37201f3210426cd6f}{llvmI64Type}},llvm::APInt(64,\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\textcolor{keyword}{false}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00091}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_ae922970c9039176ca41ba5bce6525be1}{00091}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::ConstantInt*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_a416b74ff5b1dc365af5713a3f48fb8b9}{I64}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ (llvm::ConstantInt*)llvm::ConstantInt::get(\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_aadef4496b5bbd3f37201f3210426cd6f}{llvmI64Type}},llvm::APInt(64,\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}},\textcolor{keyword}{false}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00092}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_acb0f6f3c563ac799a370536f16094542}{00092}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Constant*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_a841d3674577a1e86afdc2f4845f46c4b}{F32}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ llvm::ConstantFP::get(\mbox{\hyperlink{structcontext}{context}},llvm::APFloat(\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00093}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a1229e23ac5a84d35419446359cf3d26c}{00093}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Constant*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\mbox{\hyperlink{_basic_types_8h_adc9896ee12db3bb116fc63b3464c72c7}{F64}}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ llvm::ConstantFP::get(\mbox{\hyperlink{structcontext}{context}},llvm::APFloat(\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00094}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_abddc8827f4bffa0a1a9e66a4c5772871}{00094}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Constant*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9f27fec54f36fe148f0f4f93a3187731}{emitLiteral}}(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}})\ \{\ \textcolor{keywordflow}{return}\ llvm::ConstantInt::get(\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a2ce8a8d880528fe543174c728e3b66b8}{llvmBoolType}},llvm::APInt(1,\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{value}}\ ?\ 1\ :\ 0,\textcolor{keyword}{false}));\ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00095}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_aa49f9b09f4e0a97300bcd3bafc7bcdbd}{00095}}\ \ \ \ \ \textcolor{keyword}{inline}\ llvm::Constant*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_aa49f9b09f4e0a97300bcd3bafc7bcdbd}{emitLiteralPointer}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{pointer_8h_aae1f8d263916ad71bd415381591549c0}{pointer}},llvm::Type*\ type)}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00096}00096\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00097}00097\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ pointerInt\ =\ llvm::APInt(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}})\ ==\ 8\ ?\ 64\ :\ 32,\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}}\textcolor{keyword}{>}(\mbox{\hyperlink{pointer_8h_aae1f8d263916ad71bd415381591549c0}{pointer}}));}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00098}00098\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ llvm::Constant::getIntegerValue(type,pointerInt);}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00099}00099\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00101}00101\ \ \ \ \ \textcolor{comment}{//\ Functions\ that\ map\ between\ the\ symbols\ used\ for\ externally\ visible\ functions\ and\ the\ function}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00102}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9aaac6c03081640c238972c7b11f438d}{00102}}\ \ \ \ \ std::string\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a9aaac6c03081640c238972c7b11f438d}{getExternalFunctionName}}(\mbox{\hyperlink{struct_runtime_1_1_module_instance}{ModuleInstance}}*\ moduleInstance,\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}}\ functionDefIndex);}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00103}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a90ee96812317fbee3872035d52143c42}{00103}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a90ee96812317fbee3872035d52143c42}{getFunctionIndexFromExternalName}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ externalName,\mbox{\hyperlink{_basic_types_8h_af4b74e6229378a16db5de05834273c54}{Uptr}}\&\ outFunctionDefIndex);}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00105}00105\ \ \ \ \ \textcolor{comment}{//\ Emits\ LLVM\ IR\ for\ a\ module.}}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00106}\mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a3d9475022360eac170246d57d87008c3}{00106}}\ \ \ \ \ llvm::Module*\ \mbox{\hyperlink{namespace_l_l_v_m_j_i_t_a3d9475022360eac170246d57d87008c3}{emitModule}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{IR::Module}}\&\ \mbox{\hyperlink{namespace_i_r_a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5}{module}},\mbox{\hyperlink{struct_runtime_1_1_module_instance}{ModuleInstance}}*\ moduleInstance);}
\DoxyCodeLine{\Hypertarget{wasm-jit_2_source_2_runtime_2_l_l_v_m_j_i_t_8h_source_l00107}00107\ \}}

\end{DoxyCode}
