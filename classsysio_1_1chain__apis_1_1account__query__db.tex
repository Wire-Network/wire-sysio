\doxysection{sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db Class Reference}
\hypertarget{classsysio_1_1chain__apis_1_1account__query__db}{}\label{classsysio_1_1chain__apis_1_1account__query__db}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}


{\ttfamily \#include $<$account\+\_\+query\+\_\+db.\+hpp$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params}{get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+params}}
\item 
struct \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+result}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a8ceb2cdfa36df94db0cd90983339318f}{account\+\_\+query\+\_\+db}} (const \mbox{\hyperlink{yubihsm__pkcs11_8c_a5c230edcb923568000cb7982cf84dfce}{class}} \mbox{\hyperlink{classsysio_1_1chain_1_1controller}{sysio\+::chain\+::controller}} \&chain)
\item 
\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a32c1f91d12ed117e6ead0ad01607dce7}{\texorpdfstring{$\sim$}{\string~}account\+\_\+query\+\_\+db}} ()
\item 
\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a570d7f39e10813e24b3db9e04977cd5c}{account\+\_\+query\+\_\+db}} (\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \&\&)
\item 
\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \& \mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a3064a2ab0ccd12ba8e1deb3bcb9d3f47}{operator=}} (\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \&\&)
\item 
void \mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_aaac955f657f2235ed3fa73adb7595db8}{cache\+\_\+transaction\+\_\+trace}} (const \mbox{\hyperlink{namespacesysio_1_1chain_a4ee2867a6bec961c7a78b203cfd76be9}{chain\+::transaction\+\_\+trace\+\_\+ptr}} \&trace)
\item 
void \mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a9384b34eb85ca432cec8849fb8640fc8}{commit\+\_\+block}} (const \mbox{\hyperlink{namespacesysio_1_1chain_ab9b14f4554cc4a0da2c361e9757b1662}{chain\+::block\+\_\+state\+\_\+ptr}} \&block)
\item 
\mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+result}} \mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db_a21aaf4c8bb5fe0072692e1b8021bb323}{get\+\_\+accounts\+\_\+by\+\_\+authorizers}} (const \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params}{get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+params}} \&args) const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class manages the ephemeral indices and data that provide the {\ttfamily get\+\_\+accounts\+\_\+by\+\_\+authorizers} RPC call There is no persistence and the indices/caches are recreated when the class is instantiated based on the current state of the chain. 

Definition at line \mbox{\hyperlink{account__query__db_8hpp_source_l00012}{12}} of file \mbox{\hyperlink{account__query__db_8hpp_source}{account\+\_\+query\+\_\+db.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a8ceb2cdfa36df94db0cd90983339318f}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!account\_query\_db@{account\_query\_db}}
\index{account\_query\_db@{account\_query\_db}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{account\_query\_db()}{account\_query\_db()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a8ceb2cdfa36df94db0cd90983339318f} 
sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::account\+\_\+query\+\_\+db (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{yubihsm__pkcs11_8c_a5c230edcb923568000cb7982cf84dfce}{class}} \mbox{\hyperlink{classsysio_1_1chain_1_1controller}{sysio\+::chain\+::controller}} \&}]{chain}{}\end{DoxyParamCaption})}

Instantiate a new account query DB from the given chain controller The caller is expected to manage lifetimes such that this controller reference does not go stale for the life of the account query DB 
\begin{DoxyParams}{Parameters}
{\em chain} & -\/ controller to read data from \\
\hline
\end{DoxyParams}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a32c1f91d12ed117e6ead0ad01607dce7}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!````~account\_query\_db@{\texorpdfstring{$\sim$}{\string~}account\_query\_db}}
\index{````~account\_query\_db@{\texorpdfstring{$\sim$}{\string~}account\_query\_db}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}account\_query\_db()}{\string~account\_query\_db()}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a32c1f91d12ed117e6ead0ad01607dce7} 
sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::\texorpdfstring{$\sim$}{\string~}account\+\_\+query\+\_\+db (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a570d7f39e10813e24b3db9e04977cd5c}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!account\_query\_db@{account\_query\_db}}
\index{account\_query\_db@{account\_query\_db}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{account\_query\_db()}{account\_query\_db()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a570d7f39e10813e24b3db9e04977cd5c} 
sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::account\+\_\+query\+\_\+db (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \&\&}]{}{}\end{DoxyParamCaption})}

Allow moving the account query DB (including by assignment) 

\doxysubsection{Member Function Documentation}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_aaac955f657f2235ed3fa73adb7595db8}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!cache\_transaction\_trace@{cache\_transaction\_trace}}
\index{cache\_transaction\_trace@{cache\_transaction\_trace}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{cache\_transaction\_trace()}{cache\_transaction\_trace()}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_aaac955f657f2235ed3fa73adb7595db8} 
void sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::cache\+\_\+transaction\+\_\+trace (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacesysio_1_1chain_a4ee2867a6bec961c7a78b203cfd76be9}{chain\+::transaction\+\_\+trace\+\_\+ptr}} \&}]{trace}{}\end{DoxyParamCaption})}

Add a transaction trace to the account query DB that has been applied to the contoller even though it may not yet be committed to by a block.


\begin{DoxyParams}{Parameters}
{\em trace} & \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{account__query__db_8cpp_source_l00517}{517}} of file \mbox{\hyperlink{account__query__db_8cpp_source}{account\+\_\+query\+\_\+db.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \ \_impl-\/>cache\_transaction\_trace(trace);}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \}\ \mbox{\hyperlink{exception_8hpp_aed56aa2593b6f6fc6a839b7cb5c6e8e3}{FC\_LOG\_AND\_DROP}}((\textcolor{stringliteral}{"{}ACCOUNT\ DB\ cache\_transaction\_trace\ ERROR"{}}));}
\DoxyCodeLine{00521\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a9384b34eb85ca432cec8849fb8640fc8}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!commit\_block@{commit\_block}}
\index{commit\_block@{commit\_block}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{commit\_block()}{commit\_block()}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a9384b34eb85ca432cec8849fb8640fc8} 
void sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::commit\+\_\+block (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacesysio_1_1chain_ab9b14f4554cc4a0da2c361e9757b1662}{chain\+::block\+\_\+state\+\_\+ptr}} \&}]{block}{}\end{DoxyParamCaption})}

Add a block to the account query DB, committing all the cached traces it represents and dumping any uncommitted traces. 
\begin{DoxyParams}{Parameters}
{\em block} & \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{account__query__db_8cpp_source_l00523}{523}} of file \mbox{\hyperlink{account__query__db_8cpp_source}{account\+\_\+query\+\_\+db.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \ \_impl-\/>commit\_block(block);}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \}\ \mbox{\hyperlink{exception_8hpp_aed56aa2593b6f6fc6a839b7cb5c6e8e3}{FC\_LOG\_AND\_DROP}}((\textcolor{stringliteral}{"{}ACCOUNT\ DB\ commit\_block\ ERROR"{}}));}
\DoxyCodeLine{00527\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a21aaf4c8bb5fe0072692e1b8021bb323}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!get\_accounts\_by\_authorizers@{get\_accounts\_by\_authorizers}}
\index{get\_accounts\_by\_authorizers@{get\_accounts\_by\_authorizers}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{get\_accounts\_by\_authorizers()}{get\_accounts\_by\_authorizers()}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a21aaf4c8bb5fe0072692e1b8021bb323} 
\mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{account\+\_\+query\+\_\+db\+::get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+result}} sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::get\+\_\+accounts\+\_\+by\+\_\+authorizers (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params}{get\+\_\+accounts\+\_\+by\+\_\+authorizers\+\_\+params}} \&}]{args}{}\end{DoxyParamCaption}) const}

Given a set of account names and public keys, find all account permission authorities that are, in part or whole, satisfiable.


\begin{DoxyParams}{Parameters}
{\em args} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line \mbox{\hyperlink{account__query__db_8cpp_source_l00529}{529}} of file \mbox{\hyperlink{account__query__db_8cpp_source}{account\+\_\+query\+\_\+db.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_impl-\/>get\_accounts\_by\_authorizers(args);}
\DoxyCodeLine{00531\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classsysio_1_1chain__apis_1_1account__query__db_a3064a2ab0ccd12ba8e1deb3bcb9d3f47}\index{sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}!operator=@{operator=}}
\index{operator=@{operator=}!sysio::chain\_apis::account\_query\_db@{sysio::chain\_apis::account\_query\_db}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \label{classsysio_1_1chain__apis_1_1account__query__db_a3064a2ab0ccd12ba8e1deb3bcb9d3f47} 
\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \& sysio\+::chain\+\_\+apis\+::account\+\_\+query\+\_\+db\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsysio_1_1chain__apis_1_1account__query__db}{account\+\_\+query\+\_\+db}} \&\&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
plugins/chain\+\_\+plugin/include/sysio/chain\+\_\+plugin/\mbox{\hyperlink{account__query__db_8hpp}{account\+\_\+query\+\_\+db.\+hpp}}\item 
plugins/chain\+\_\+plugin/\mbox{\hyperlink{account__query__db_8cpp}{account\+\_\+query\+\_\+db.\+cpp}}\end{DoxyCompactItemize}
