<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: libraries/fc/secp256k1/secp256k1/include/secp256k1_recovery.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('secp256k1__recovery_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">secp256k1_recovery.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="secp256k1_8h_source.html">secp256k1.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for secp256k1_recovery.h:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h__incl.png" border="0" usemap="#alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8h" alt=""/></div>
<map name="alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8h" id="alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8h">
<area shape="rect" title=" " alt="" coords="5,5,206,61"/>
<area shape="rect" href="secp256k1_8h.html" title=" " alt="" coords="58,109,153,135"/>
<area shape="poly" title=" " alt="" coords="108,61,108,93,103,93,103,61"/>
<area shape="rect" title=" " alt="" coords="71,183,140,208"/>
<area shape="poly" title=" " alt="" coords="108,135,108,167,103,167,103,135"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h__dep__incl.png" border="0" usemap="#alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8hdep" alt=""/></div>
<map name="alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8hdep" id="alibraries_2fc_2secp256k1_2secp256k1_2include_2secp256k1__recovery_8hdep">
<area shape="rect" title=" " alt="" coords="395,5,595,61"/>
<area shape="rect" href="recovery_2main__impl_8h.html" title=" " alt="" coords="5,109,169,165"/>
<area shape="poly" title=" " alt="" coords="380,64,188,112,169,116,168,111,186,106,379,59"/>
<area shape="rect" href="recovery_2tests__exhaustive__impl_8h.html" title=" " alt="" coords="36,213,256,268"/>
<area shape="poly" title=" " alt="" coords="381,51,304,73,267,90,233,111,208,134,187,161,159,213,154,211,183,158,204,130,229,107,264,85,302,68,380,46"/>
<area shape="rect" href="elliptic__em_8cpp.html" title=" " alt="" coords="243,116,387,157"/>
<area shape="poly" title=" " alt="" coords="435,71,351,118,348,114,432,67"/>
<area shape="rect" href="elliptic__em__impl__priv_8cpp.html" title=" " alt="" coords="410,116,580,157"/>
<area shape="poly" title=" " alt="" coords="498,77,498,116,492,116,492,77"/>
<area shape="rect" href="elliptic__impl__priv_8cpp.html" title=" " alt="" coords="604,116,748,157"/>
<area shape="poly" title=" " alt="" coords="558,67,643,114,640,118,555,71"/>
<area shape="rect" href="elliptic__secp256k1_8cpp.html" title=" " alt="" coords="772,116,930,157"/>
<area shape="poly" title=" " alt="" coords="607,63,761,106,785,113,783,118,760,112,606,68"/>
<area shape="rect" href="k1__recover_8cpp.html" title=" " alt="" coords="954,116,1097,157"/>
<area shape="poly" title=" " alt="" coords="611,47,769,71,942,106,968,113,967,118,941,112,768,76,610,52"/>
<area shape="poly" title=" " alt="" coords="113,177,132,211,128,213,108,180"/>
</map>
</div>
</div>
<p><a href="secp256k1__recovery_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6699b45dc75be70f028ac7d8ffaba46e" id="r_a6699b45dc75be70f028ac7d8ffaba46e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6699b45dc75be70f028ac7d8ffaba46e">secp256k1_ecdsa_recoverable_signature_parse_compact</a> (const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *ctx, <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *sig, const unsigned char *input64, int recid) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(1) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(2) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(3)</td></tr>
<tr class="separator:a6699b45dc75be70f028ac7d8ffaba46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a20c9f7ccd9fc6d75a19a3b4195aa5" id="r_ad7a20c9f7ccd9fc6d75a19a3b4195aa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7a20c9f7ccd9fc6d75a19a3b4195aa5">secp256k1_ecdsa_recoverable_signature_convert</a> (const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *ctx, <a class="el" href="structsecp256k1__ecdsa__signature.html">secp256k1_ecdsa_signature</a> *sig, const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *sigin) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(1) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(2) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(3)</td></tr>
<tr class="separator:ad7a20c9f7ccd9fc6d75a19a3b4195aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f08c89ceb61949c6a4ec6eb2511185" id="r_a12f08c89ceb61949c6a4ec6eb2511185"><td class="memItemLeft" align="right" valign="top"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12f08c89ceb61949c6a4ec6eb2511185">secp256k1_ecdsa_recoverable_signature_serialize_compact</a> (const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *ctx, unsigned char *output64, int *recid, const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *sig) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(1) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(2) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(3) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(4)</td></tr>
<tr class="separator:a12f08c89ceb61949c6a4ec6eb2511185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7868accd4760afcaeaa0ff3d239afc2a" id="r_a7868accd4760afcaeaa0ff3d239afc2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7868accd4760afcaeaa0ff3d239afc2a">secp256k1_ecdsa_sign_recoverable</a> (const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *ctx, <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *sig, const unsigned char *msghash32, const unsigned char *seckey, <a class="el" href="secp256k1_8h.html#a539882fd91bff672712fa19a4cfaeb98">secp256k1_nonce_function</a> noncefp, const void *ndata) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(1) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(2) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(3) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(4)</td></tr>
<tr class="separator:a7868accd4760afcaeaa0ff3d239afc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f2082776bf8ebdb4c38161a211a02b" id="r_af9f2082776bf8ebdb4c38161a211a02b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> <a class="el" href="secp256k1_8h.html#aebd5ca8fbfcbb0ba0754a46115143c2c">SECP256K1_WARN_UNUSED_RESULT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9f2082776bf8ebdb4c38161a211a02b">secp256k1_ecdsa_recover</a> (const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *ctx, <a class="el" href="structsecp256k1__pubkey.html">secp256k1_pubkey</a> *<a class="el" href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a>, const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *sig, const unsigned char *msghash32) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(1) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(2) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(3) <a class="el" href="secp256k1_8h.html#a03c194d8fa91b9b66758b36c91e0b5cb">SECP256K1_ARG_NONNULL</a>(4)</td></tr>
<tr class="separator:af9f2082776bf8ebdb4c38161a211a02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af9f2082776bf8ebdb4c38161a211a02b" name="af9f2082776bf8ebdb4c38161a211a02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9f2082776bf8ebdb4c38161a211a02b">&#9670;&#160;</a></span>secp256k1_ecdsa_recover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> <a class="el" href="secp256k1_8h.html#aebd5ca8fbfcbb0ba0754a46115143c2c">SECP256K1_WARN_UNUSED_RESULT</a> int secp256k1_ecdsa_recover </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsecp256k1__pubkey.html">secp256k1_pubkey</a> *</td>          <td class="paramname"><span class="paramname"><em>pubkey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>msghash32</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recover an ECDSA public key from a signature.</p>
<p>Returns: 1: public key successfully recovered (which guarantees a correct signature). 0: otherwise. Args: ctx: pointer to a context object, initialized for verification. Out: pubkey: pointer to the recovered public key. In: sig: pointer to initialized signature that supports pubkey recovery. msghash32: the 32-byte message hash assumed to be signed. </p>

<p class="definition">Definition at line <a class="el" href="recovery_2main__impl_8h_source.html#l00137">137</a> of file <a class="el" href="recovery_2main__impl_8h_source.html">main_impl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span>                                                                                                                                                                            {</div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_struct" href="structsecp256k1__ge.html">secp256k1_ge</a> q;</div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> m;</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordtype">int</span> recid;</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(ctx != NULL);</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(msghash32 != NULL);</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(signature != NULL);</div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a> != NULL);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    secp256k1_ecdsa_recoverable_signature_load(ctx, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, &amp;recid, signature);</div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(recid &gt;= 0 &amp;&amp; recid &lt; 4);  <span class="comment">/* should have been caught in parse_compact */</span></div>
<div class="line"><span class="lineno">  149</span>    secp256k1_scalar_set_b32(&amp;m, msghash32, NULL);</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">if</span> (secp256k1_ecdsa_sig_recover(&amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, &amp;q, &amp;m, recid)) {</div>
<div class="line"><span class="lineno">  151</span>        secp256k1_pubkey_save(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a>, &amp;q);</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  153</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  154</span>        <a class="code hl_function" href="yubihsm__pkcs11_8c.html#adc4bd59a60361844aa0e852efa210105">memset</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a>, 0, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a>));</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span>}</div>
<div class="ttc" id="abn_8cpp_html_af0a5201ca8846f05f25435b41d7f39f7"><div class="ttname"><a href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a></div><div class="ttdeci">const mie::Vuint &amp; r</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00028">bn.cpp:28</a></div></div>
<div class="ttc" id="afc_2secp256k1_2secp256k1_2src_2util_8h_html_aca8ac5ae73fd966db106de59160a178b"><div class="ttname"><a href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a></div><div class="ttdeci">#define VERIFY_CHECK(cond)</div><div class="ttdef"><b>Definition</b> <a href="fc_2secp256k1_2secp256k1_2src_2util_8h_source.html#l00095">util.h:95</a></div></div>
<div class="ttc" id="asecp256k1_8c_html_a6e1f88c6ce07376501097b42a2b40727"><div class="ttname"><a href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a></div><div class="ttdeci">#define ARG_CHECK(cond)</div><div class="ttdef"><b>Definition</b> <a href="secp256k1_8c_source.html#l00034">secp256k1.c:34</a></div></div>
<div class="ttc" id="astructsecp256k1__ge_html"><div class="ttname"><a href="structsecp256k1__ge.html">secp256k1_ge</a></div><div class="ttdef"><b>Definition</b> <a href="group_8h_source.html#l00016">group.h:16</a></div></div>
<div class="ttc" id="astructsecp256k1__scalar_html"><div class="ttname"><a href="structsecp256k1__scalar.html">secp256k1_scalar</a></div><div class="ttdef"><b>Definition</b> <a href="scalar__4x64_8h_source.html#l00013">scalar_4x64.h:13</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a931987c85fd408a620505ee9a1aa6f58"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a931987c85fd408a620505ee9a1aa6f58">pubkey</a></div><div class="ttdeci">CK_BYTE_PTR pubkey</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04984">yubihsm_pkcs11.c:4984</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_adc4bd59a60361844aa0e852efa210105"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#adc4bd59a60361844aa0e852efa210105">memset</a></div><div class="ttdeci">memset(pInfo-&gt;slotDescription, ' ', 64)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_cgraph.png" border="0" usemap="#asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_cgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_cgraph" id="asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,182,31"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#adc4bd59a60361844aa0e852efa210105" title=" " alt="" coords="230,5,298,31"/>
<area shape="poly" title=" " alt="" coords="182,16,214,16,214,21,182,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_icgraph.png" border="0" usemap="#asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_icgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_icgraph" id="asecp256k1__recovery_8h_af9f2082776bf8ebdb4c38161a211a02b_icgraph">
<area shape="rect" title=" " alt="" coords="561,177,738,203"/>
<area shape="rect" href="recovery_2bench__impl_8h.html#a73bb1ad59423406f6397596e6021c60e" title=" " alt="" coords="377,5,483,31"/>
<area shape="poly" title=" " alt="" coords="629,166,581,105,548,72,512,44,483,31,485,26,515,40,552,68,585,101,633,163"/>
<area shape="rect" href="namespacefc.html#ad33908e48c447780b71e5e4ba567d523" title=" " alt="" coords="378,55,482,80"/>
<area shape="poly" title=" " alt="" coords="620,169,571,132,512,95,482,83,484,78,515,90,574,127,623,165"/>
<area shape="rect" href="classfc_1_1em_1_1public__key.html#af757099d72d6ab02ffeac72f3423b03f" title=" " alt="" coords="366,104,494,145"/>
<area shape="poly" title=" " alt="" coords="588,175,494,146,495,141,590,170"/>
<area shape="rect" href="classfc_1_1em_1_1public__key.html#a4bd005c778cfa08a14cfbc607298ca08" title=" " alt="" coords="366,170,494,210"/>
<area shape="poly" title=" " alt="" coords="546,193,494,193,494,188,546,188"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a0966a428c1c43743711ce59cb9da75b3" title=" " alt="" coords="347,235,513,260"/>
<area shape="poly" title=" " alt="" coords="583,210,483,237,482,231,582,205"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#ad6d3138600637a7c940bc40a22795e46" title=" " alt="" coords="359,284,501,325"/>
<area shape="poly" title=" " alt="" coords="617,214,570,245,515,275,490,286,488,281,512,270,567,240,615,210"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a70649882936497184992dfaa06b1106f" title=" " alt="" coords="359,350,501,390"/>
<area shape="poly" title=" " alt="" coords="633,217,583,277,551,310,515,339,493,352,490,347,512,335,547,306,580,274,628,214"/>
<area shape="rect" href="recovery_2bench__impl_8h.html#afdec90f8eb6e571e672bdbca7a4b4e89" title=" " alt="" coords="132,5,270,31"/>
<area shape="poly" title=" " alt="" coords="362,21,270,21,270,16,362,16"/>
<area shape="rect" href="bench_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="116,21,55,21,55,16,116,16"/>
<area shape="rect" href="test__k1__recover_8cpp.html#a24886974083c123b90ef271565b828e1" title=" " alt="" coords="103,55,299,80"/>
<area shape="poly" title=" " alt="" coords="362,70,299,70,299,65,362,65"/>
<area shape="rect" href="classsysio_1_1chain_1_1webassembly_1_1interface.html#aadc7995b8ec5b48f31bd81216a0b6fc7" title=" " alt="" coords="111,104,290,145"/>
<area shape="poly" title=" " alt="" coords="363,87,286,106,284,101,362,82"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a3a06f71955483e9502f3c408857407f2" title=" " alt="" coords="135,292,267,318"/>
<area shape="poly" title=" " alt="" coords="362,267,256,294,255,289,360,262"/>
<area shape="rect" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,292,55,318"/>
<area shape="poly" title=" " alt="" coords="119,308,55,308,55,302,119,302"/>
<area shape="poly" title=" " alt="" coords="343,308,268,308,268,302,343,302"/>
<area shape="poly" title=" " alt="" coords="343,348,248,321,250,316,345,343"/>
</map>
</div>

</div>
</div>
<a id="ad7a20c9f7ccd9fc6d75a19a3b4195aa5" name="ad7a20c9f7ccd9fc6d75a19a3b4195aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a20c9f7ccd9fc6d75a19a3b4195aa5">&#9670;&#160;</a></span>secp256k1_ecdsa_recoverable_signature_convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int secp256k1_ecdsa_recoverable_signature_convert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsecp256k1__ecdsa__signature.html">secp256k1_ecdsa_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sigin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a recoverable signature into a normal signature.</p>
<p>Returns: 1 Args: ctx: a secp256k1 context object. Out: sig: a pointer to a normal signature. In: sigin: a pointer to a recoverable signature. </p>

<p class="definition">Definition at line <a class="el" href="recovery_2main__impl_8h_source.html#l00074">74</a> of file <a class="el" href="recovery_2main__impl_8h_source.html">main_impl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                                                                                                                                                    {</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordtype">int</span> recid;</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(ctx != NULL);</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(sig != NULL);</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(sigin != NULL);</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    secp256k1_ecdsa_recoverable_signature_load(ctx, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, &amp;recid, sigin);</div>
<div class="line"><span class="lineno">   83</span>    secp256k1_ecdsa_signature_save(sig, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>);</div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   85</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_ad7a20c9f7ccd9fc6d75a19a3b4195aa5_icgraph.png" border="0" usemap="#asecp256k1__recovery_8h_ad7a20c9f7ccd9fc6d75a19a3b4195aa5_icgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_ad7a20c9f7ccd9fc6d75a19a3b4195aa5_icgraph" id="asecp256k1__recovery_8h_ad7a20c9f7ccd9fc6d75a19a3b4195aa5_icgraph">
<area shape="rect" title=" " alt="" coords="532,84,733,125"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a0966a428c1c43743711ce59cb9da75b3" title=" " alt="" coords="300,5,467,31"/>
<area shape="poly" title=" " alt="" coords="571,80,483,46,443,34,444,29,485,41,573,76"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a70649882936497184992dfaa06b1106f" title=" " alt="" coords="312,55,455,96"/>
<area shape="poly" title=" " alt="" coords="516,94,455,87,456,81,517,89"/>
<area shape="rect" href="recovery_2tests__exhaustive__impl_8h.html#af2dd18abc7d668d1ad020f3f4ce019f4" title=" " alt="" coords="283,120,484,146"/>
<area shape="poly" title=" " alt="" coords="517,120,485,124,484,119,516,115"/>
<area shape="rect" href="recovery_2tests__exhaustive__impl_8h.html#a1b4917370dd67b357768bff544020dda" title=" " alt="" coords="298,170,469,210"/>
<area shape="poly" title=" " alt="" coords="562,133,485,161,452,172,450,167,483,156,560,128"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a3a06f71955483e9502f3c408857407f2" title=" " alt="" coords="103,35,235,60"/>
<area shape="poly" title=" " alt="" coords="286,34,236,41,235,36,285,29"/>
<area shape="rect" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,35,55,60"/>
<area shape="poly" title=" " alt="" coords="87,50,55,50,55,45,87,45"/>
<area shape="poly" title=" " alt="" coords="297,67,235,59,236,53,298,62"/>
</map>
</div>

</div>
</div>
<a id="a6699b45dc75be70f028ac7d8ffaba46e" name="a6699b45dc75be70f028ac7d8ffaba46e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6699b45dc75be70f028ac7d8ffaba46e">&#9670;&#160;</a></span>secp256k1_ecdsa_recoverable_signature_parse_compact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int secp256k1_ecdsa_recoverable_signature_parse_compact </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>input64</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>recid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse a compact ECDSA signature (64 bytes + recovery id).</p>
<p>Returns: 1 when the signature could be parsed, 0 otherwise Args: ctx: a secp256k1 context object Out: sig: a pointer to a signature object In: input64: a pointer to a 64-byte compact signature recid: the recovery id (0, 1, 2 or 3) </p>

<p class="definition">Definition at line <a class="el" href="recovery_2main__impl_8h_source.html#l00038">38</a> of file <a class="el" href="recovery_2main__impl_8h_source.html">main_impl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                                                                                                                                                                           {</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = 1;</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a> = 0;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(ctx != NULL);</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(sig != NULL);</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(input64 != NULL);</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(recid &gt;= 0 &amp;&amp; recid &lt;= 3);</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    secp256k1_scalar_set_b32(&amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;input64[0], &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a>);</div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> &amp;= !<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a>;</div>
<div class="line"><span class="lineno">   50</span>    secp256k1_scalar_set_b32(&amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, &amp;input64[32], &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a>);</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> &amp;= !<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a>;</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>) {</div>
<div class="line"><span class="lineno">   53</span>        secp256k1_ecdsa_recoverable_signature_save(sig, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, recid);</div>
<div class="line"><span class="lineno">   54</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   55</span>        <a class="code hl_function" href="yubihsm__pkcs11_8c.html#adc4bd59a60361844aa0e852efa210105">memset</a>(sig, 0, <span class="keyword">sizeof</span>(*sig));</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">   58</span>}</div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a3d854b6efad16a16e4d7b4539d4fc71f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a></div><div class="ttdeci">CK_RV ret</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00973">yubihsm_pkcs11.c:973</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a49aa97067a36875627e1380c3fb3833d"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a49aa97067a36875627e1380c3fb3833d">overflow</a></div><div class="ttdeci">bool overflow</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00467">yubihsm_pkcs11.c:467</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_cgraph.png" border="0" usemap="#asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_cgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_cgraph" id="asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,206,46"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#adc4bd59a60361844aa0e852efa210105" title=" " alt="" coords="254,13,322,38"/>
<area shape="poly" title=" " alt="" coords="206,23,238,23,238,28,206,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_icgraph.png" border="0" usemap="#asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_icgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_icgraph" id="asecp256k1__recovery_8h_a6699b45dc75be70f028ac7d8ffaba46e_icgraph">
<area shape="rect" title=" " alt="" coords="561,170,762,210"/>
<area shape="rect" href="recovery_2bench__impl_8h.html#a73bb1ad59423406f6397596e6021c60e" title=" " alt="" coords="377,5,483,31"/>
<area shape="poly" title=" " alt="" coords="634,159,582,100,548,70,512,44,483,32,485,27,515,40,552,66,585,97,638,155"/>
<area shape="rect" href="namespacefc.html#ad33908e48c447780b71e5e4ba567d523" title=" " alt="" coords="378,55,482,80"/>
<area shape="poly" title=" " alt="" coords="620,162,570,128,512,95,482,83,484,78,514,90,573,123,623,158"/>
<area shape="rect" href="classfc_1_1em_1_1public__key.html#af757099d72d6ab02ffeac72f3423b03f" title=" " alt="" coords="366,104,494,145"/>
<area shape="poly" title=" " alt="" coords="572,168,494,146,496,140,573,163"/>
<area shape="rect" href="classfc_1_1em_1_1public__key.html#a4bd005c778cfa08a14cfbc607298ca08" title=" " alt="" coords="366,170,494,210"/>
<area shape="poly" title=" " alt="" coords="546,193,495,193,495,188,546,188"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a0966a428c1c43743711ce59cb9da75b3" title=" " alt="" coords="347,235,513,260"/>
<area shape="poly" title=" " alt="" coords="563,217,486,237,484,231,562,212"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#ad6d3138600637a7c940bc40a22795e46" title=" " alt="" coords="359,284,501,325"/>
<area shape="poly" title=" " alt="" coords="615,221,515,275,489,286,487,282,512,270,612,216"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a70649882936497184992dfaa06b1106f" title=" " alt="" coords="359,350,501,390"/>
<area shape="poly" title=" " alt="" coords="637,224,584,282,551,312,515,339,492,352,490,347,512,335,547,308,580,278,633,220"/>
<area shape="rect" href="recovery_2bench__impl_8h.html#afdec90f8eb6e571e672bdbca7a4b4e89" title=" " alt="" coords="132,5,270,31"/>
<area shape="poly" title=" " alt="" coords="362,21,270,21,270,16,362,16"/>
<area shape="rect" href="bench_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="116,21,55,21,55,16,116,16"/>
<area shape="rect" href="test__k1__recover_8cpp.html#a24886974083c123b90ef271565b828e1" title=" " alt="" coords="103,55,299,80"/>
<area shape="poly" title=" " alt="" coords="362,70,299,70,299,65,362,65"/>
<area shape="rect" href="classsysio_1_1chain_1_1webassembly_1_1interface.html#aadc7995b8ec5b48f31bd81216a0b6fc7" title=" " alt="" coords="111,104,290,145"/>
<area shape="poly" title=" " alt="" coords="363,87,286,106,284,101,362,82"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a3a06f71955483e9502f3c408857407f2" title=" " alt="" coords="135,292,267,318"/>
<area shape="poly" title=" " alt="" coords="362,267,256,294,255,289,360,262"/>
<area shape="rect" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,292,55,318"/>
<area shape="poly" title=" " alt="" coords="119,308,55,308,55,302,119,302"/>
<area shape="poly" title=" " alt="" coords="343,308,268,308,268,302,343,302"/>
<area shape="poly" title=" " alt="" coords="343,348,248,321,250,316,345,343"/>
</map>
</div>

</div>
</div>
<a id="a12f08c89ceb61949c6a4ec6eb2511185" name="a12f08c89ceb61949c6a4ec6eb2511185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12f08c89ceb61949c6a4ec6eb2511185">&#9670;&#160;</a></span>secp256k1_ecdsa_recoverable_signature_serialize_compact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int secp256k1_ecdsa_recoverable_signature_serialize_compact </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>output64</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>recid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sig</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize an ECDSA signature in compact format (64 bytes + recovery id).</p>
<p>Returns: 1 Args: ctx: a secp256k1 context object. Out: output64: a pointer to a 64-byte array of the compact signature. recid: a pointer to an integer to hold the recovery id. In: sig: a pointer to an initialized signature object. </p>

<p class="definition">Definition at line <a class="el" href="recovery_2main__impl_8h_source.html#l00060">60</a> of file <a class="el" href="recovery_2main__impl_8h_source.html">main_impl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                                                                                                                                                                 {</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(ctx != NULL);</div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(output64 != NULL);</div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(sig != NULL);</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(recid != NULL);</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    secp256k1_ecdsa_recoverable_signature_load(ctx, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, recid, sig);</div>
<div class="line"><span class="lineno">   69</span>    secp256k1_scalar_get_b32(&amp;output64[0], &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>);</div>
<div class="line"><span class="lineno">   70</span>    secp256k1_scalar_get_b32(&amp;output64[32], &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>);</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   72</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_a12f08c89ceb61949c6a4ec6eb2511185_icgraph.png" border="0" usemap="#asecp256k1__recovery_8h_a12f08c89ceb61949c6a4ec6eb2511185_icgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_a12f08c89ceb61949c6a4ec6eb2511185_icgraph" id="asecp256k1__recovery_8h_a12f08c89ceb61949c6a4ec6eb2511185_icgraph">
<area shape="rect" title=" " alt="" coords="497,120,698,161"/>
<area shape="rect" href="valgrind__ctime__test_8c.html#af23de73dba8dc1c56af0f46f6af3f2de" title=" " alt="" coords="328,5,404,31"/>
<area shape="poly" title=" " alt="" coords="556,113,506,78,448,46,403,30,405,25,450,41,509,74,559,109"/>
<area shape="rect" href="classfc_1_1ecc_1_1private__key.html#a9641e922356152e449044813b029ea86" title=" " alt="" coords="298,55,434,96"/>
<area shape="poly" title=" " alt="" coords="508,118,434,97,435,92,509,113"/>
<area shape="rect" href="classfc_1_1em_1_1private__key.html#adb30a0717c2eac716905e9b37d73e8b2" title=" " alt="" coords="300,120,433,161"/>
<area shape="poly" title=" " alt="" coords="482,144,433,144,433,138,482,138"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a0966a428c1c43743711ce59cb9da75b3" title=" " alt="" coords="283,185,449,211"/>
<area shape="poly" title=" " alt="" coords="499,168,422,187,420,182,498,163"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a70649882936497184992dfaa06b1106f" title=" " alt="" coords="295,235,437,276"/>
<area shape="poly" title=" " alt="" coords="551,172,451,226,425,237,423,232,448,221,548,167"/>
<area shape="rect" href="valgrind__ctime__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="144,5,194,31"/>
<area shape="poly" title=" " alt="" coords="313,21,194,21,194,16,313,16"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a3a06f71955483e9502f3c408857407f2" title=" " alt="" coords="103,213,235,239"/>
<area shape="poly" title=" " alt="" coords="268,215,236,219,235,214,268,209"/>
<area shape="rect" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,213,55,239"/>
<area shape="poly" title=" " alt="" coords="87,229,55,229,55,224,87,224"/>
<area shape="poly" title=" " alt="" coords="279,245,235,239,236,233,280,240"/>
</map>
</div>

</div>
</div>
<a id="a7868accd4760afcaeaa0ff3d239afc2a" name="a7868accd4760afcaeaa0ff3d239afc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7868accd4760afcaeaa0ff3d239afc2a">&#9670;&#160;</a></span>secp256k1_ecdsa_sign_recoverable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="secp256k1_8h.html#a3f1967acd0fe26283877c61b3f2694a5">SECP256K1_API</a> int secp256k1_ecdsa_sign_recoverable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="secp256k1_8h.html#a282ec9e6dfec8c35955c3eb2f7476e5e">secp256k1_context</a> *</td>          <td class="paramname"><span class="paramname"><em>ctx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsecp256k1__ecdsa__recoverable__signature.html">secp256k1_ecdsa_recoverable_signature</a> *</td>          <td class="paramname"><span class="paramname"><em>sig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>msghash32</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>seckey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="secp256k1_8h.html#a539882fd91bff672712fa19a4cfaeb98">secp256k1_nonce_function</a></td>          <td class="paramname"><span class="paramname"><em>noncefp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>ndata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a recoverable ECDSA signature.</p>
<p>Returns: 1: signature created 0: the nonce generation function failed, or the secret key was invalid. Args: ctx: pointer to a context object, initialized for signing. Out: sig: pointer to an array where the signature will be placed. In: msghash32: the 32-byte message hash being signed. seckey: pointer to a 32-byte secret key. noncefp: pointer to a nonce generation function. If NULL, secp256k1_nonce_function_default is used. ndata: pointer to arbitrary data used by the nonce generation function (can be NULL for secp256k1_nonce_function_default). </p>

<p class="definition">Definition at line <a class="el" href="recovery_2main__impl_8h_source.html#l00123">123</a> of file <a class="el" href="recovery_2main__impl_8h_source.html">main_impl.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>                                                                                                                                                                                                                                           {</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_struct" href="structsecp256k1__scalar.html">secp256k1_scalar</a> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>, recid;</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_define" href="fc_2secp256k1_2secp256k1_2src_2util_8h.html#aca8ac5ae73fd966db106de59160a178b">VERIFY_CHECK</a>(ctx != NULL);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(secp256k1_ecmult_gen_context_is_built(&amp;ctx-&gt;<a class="code hl_variable" href="structsecp256k1__context__struct.html#aacc2071a68f9c5a6c05eb783f523b9eb">ecmult_gen_ctx</a>));</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(msghash32 != NULL);</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(signature != NULL);</div>
<div class="line"><span class="lineno">  130</span>    <a class="code hl_define" href="secp256k1_8c.html#a6e1f88c6ce07376501097b42a2b40727">ARG_CHECK</a>(seckey != NULL);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = secp256k1_ecdsa_sign_inner(ctx, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, &amp;recid, msghash32, seckey, noncefp, noncedata);</div>
<div class="line"><span class="lineno">  133</span>    secp256k1_ecdsa_recoverable_signature_save(signature, &amp;<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, recid);</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  135</span>}</div>
<div class="ttc" id="astructsecp256k1__context__struct_html_aacc2071a68f9c5a6c05eb783f523b9eb"><div class="ttname"><a href="structsecp256k1__context__struct.html#aacc2071a68f9c5a6c05eb783f523b9eb">secp256k1_context_struct::ecmult_gen_ctx</a></div><div class="ttdeci">secp256k1_ecmult_gen_context ecmult_gen_ctx</div><div class="ttdef"><b>Definition</b> <a href="secp256k1_8c_source.html#l00048">secp256k1.c:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="secp256k1__recovery_8h_a7868accd4760afcaeaa0ff3d239afc2a_icgraph.png" border="0" usemap="#asecp256k1__recovery_8h_a7868accd4760afcaeaa0ff3d239afc2a_icgraph" alt=""/></div>
<map name="asecp256k1__recovery_8h_a7868accd4760afcaeaa0ff3d239afc2a_icgraph" id="asecp256k1__recovery_8h_a7868accd4760afcaeaa0ff3d239afc2a_icgraph">
<area shape="rect" title=" " alt="" coords="532,150,690,190"/>
<area shape="rect" href="valgrind__ctime__test_8c.html#af23de73dba8dc1c56af0f46f6af3f2de" title=" " alt="" coords="346,5,421,31"/>
<area shape="poly" title=" " alt="" coords="584,139,540,90,513,66,483,46,452,33,421,25,422,20,454,28,486,41,516,62,544,87,588,135"/>
<area shape="rect" href="classfc_1_1ecc_1_1private__key.html#a9641e922356152e449044813b029ea86" title=" " alt="" coords="316,55,452,96"/>
<area shape="poly" title=" " alt="" coords="556,145,483,111,450,99,452,94,485,106,558,140"/>
<area shape="rect" href="classfc_1_1em_1_1private__key.html#adb30a0717c2eac716905e9b37d73e8b2" title=" " alt="" coords="317,120,450,161"/>
<area shape="poly" title=" " alt="" coords="516,161,451,152,451,147,517,155"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a0966a428c1c43743711ce59cb9da75b3" title=" " alt="" coords="300,185,467,211"/>
<area shape="poly" title=" " alt="" coords="517,184,468,191,467,185,517,179"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a70649882936497184992dfaa06b1106f" title=" " alt="" coords="312,235,455,276"/>
<area shape="poly" title=" " alt="" coords="551,199,485,226,453,237,452,232,483,221,549,194"/>
<area shape="rect" href="recovery_2tests__exhaustive__impl_8h.html#af2dd18abc7d668d1ad020f3f4ce019f4" title=" " alt="" coords="283,300,484,326"/>
<area shape="poly" title=" " alt="" coords="585,204,542,249,515,271,486,290,457,302,455,297,483,285,512,267,538,245,582,200"/>
<area shape="rect" href="valgrind__ctime__test_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="144,5,194,31"/>
<area shape="poly" title=" " alt="" coords="330,21,194,21,194,16,330,16"/>
<area shape="rect" href="recovery_2tests__impl_8h.html#a3a06f71955483e9502f3c408857407f2" title=" " alt="" coords="103,213,235,239"/>
<area shape="poly" title=" " alt="" coords="286,214,236,220,235,215,285,208"/>
<area shape="rect" href="tests_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,213,55,239"/>
<area shape="poly" title=" " alt="" coords="87,229,55,229,55,224,87,224"/>
<area shape="poly" title=" " alt="" coords="297,246,235,238,236,233,298,241"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_428556e0652617aa37d2f7d8bcaf7fdf.html">libraries</a></li><li class="navelem"><a class="el" href="dir_71436f1774b2d89f0b80ac9efd482f1f.html">fc</a></li><li class="navelem"><a class="el" href="dir_a52e6239a5b2b3d02315cec608665301.html">secp256k1</a></li><li class="navelem"><a class="el" href="dir_d7bc7c582256a3e7079a332367360a08.html">secp256k1</a></li><li class="navelem"><a class="el" href="dir_01078efc6b3872e3b0b3a21fbc6fc007.html">include</a></li><li class="navelem"><a class="el" href="secp256k1__recovery_8h.html">secp256k1_recovery.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
