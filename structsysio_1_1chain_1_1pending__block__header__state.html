<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::pending_block_header_state Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structsysio_1_1chain_1_1pending__block__header__state.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="structsysio_1_1chain_1_1pending__block__header__state-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::pending_block_header_state Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sysio::chain::pending_block_header_state:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state__inherit__graph.png" border="0" usemap="#asysio_1_1chain_1_1pending__block__header__state_inherit__map" alt="Inheritance graph"/></div>
<map name="asysio_1_1chain_1_1pending__block__header__state_inherit__map" id="asysio_1_1chain_1_1pending__block__header__state_inherit__map">
<area shape="rect" title=" " alt="" coords="5,109,150,150"/>
<area shape="rect" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html" title=" " alt="" coords="6,5,149,61"/>
<area shape="poly" title=" " alt="" coords="80,77,80,109,75,109,75,77"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for sysio::chain::pending_block_header_state:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state__coll__graph.png" border="0" usemap="#asysio_1_1chain_1_1pending__block__header__state_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1chain_1_1pending__block__header__state_coll__map" id="asysio_1_1chain_1_1pending__block__header__state_coll__map">
<area shape="rect" title=" " alt="" coords="1084,152,1229,193"/>
<area shape="rect" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html" title=" " alt="" coords="734,145,876,200"/>
<area shape="poly" title=" " alt="" coords="892,170,1084,170,1084,175,892,175"/>
<area shape="rect" href="structsysio_1_1chain_1_1producer__authority__schedule.html" title=" " alt="" coords="341,89,490,130"/>
<area shape="poly" title=" " alt="" coords="506,122,734,158,733,164,505,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html" title=" " alt="" coords="740,71,870,111"/>
<area shape="poly" title=" " alt="" coords="506,103,739,92,739,97,506,108"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="5,89,185,130"/>
<area shape="poly" title=" " alt="" coords="200,107,340,107,340,112,200,112"/>
<area shape="rect" href="classsysio_1_1chain_1_1incremental__merkle__impl.html" title=" " alt="" coords="321,161,510,202"/>
<area shape="poly" title=" " alt="" coords="525,180,690,178,733,176,734,181,690,183,526,186"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="33,161,157,202"/>
<area shape="poly" title=" " alt="" coords="172,179,320,179,320,184,172,184"/>
<area shape="rect" title=" " alt="" coords="339,237,492,278"/>
<area shape="poly" title=" " alt="" coords="507,261,597,255,644,246,689,231,701,222,712,210,733,198,736,203,716,215,704,226,691,236,646,251,598,260,507,266"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="346,302,485,328"/>
<area shape="poly" title=" " alt="" coords="501,325,548,325,597,320,646,306,688,282,699,266,701,249,702,230,712,211,732,194,735,199,716,214,707,232,706,250,704,268,692,285,648,311,598,325,548,331,501,330"/>
<area shape="poly" title=" " alt="" coords="886,107,1085,153,1083,158,885,112"/>
<area shape="rect" href="classfc_1_1sha256.html" title=" " alt="" coords="374,16,456,41"/>
<area shape="poly" title=" " alt="" coords="472,20,585,14,735,19,818,28,901,43,983,65,1062,97,1102,122,1136,150,1132,154,1099,126,1059,102,982,70,900,48,817,33,735,24,585,20,472,25"/>
<area shape="poly" title=" " alt="" coords="473,35,740,78,739,83,472,40"/>
<area shape="rect" href="structsysio_1_1chain_1_1name.html" title="Immutable except for fc::from_variant." alt="" coords="740,225,871,251"/>
<area shape="poly" title=" " alt="" coords="886,222,1060,190,1083,185,1084,191,1061,195,887,227"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__timestamp.html" title=" " alt="" coords="714,274,896,345"/>
<area shape="poly" title=" " alt="" coords="911,286,985,265,1059,236,1096,214,1128,191,1132,196,1099,219,1061,241,987,270,912,291"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad78d659c77418866805767eb7ca8b04d" id="r_ad78d659c77418866805767eb7ca8b04d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78d659c77418866805767eb7ca8b04d">make_block_header</a> (const <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a> &amp;transaction_mroot, const <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a> &amp;action_mroot, const std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1producer__authority__schedule.html">producer_authority_schedule</a> &gt; &amp;new_producers, <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;&amp;new_protocol_feature_activations, const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;pfs, const std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1s__header.html">s_header</a> &gt; &amp;<a class="el" href="structsysio_1_1chain_1_1s__header.html">s_header</a>) const</td></tr>
<tr class="separator:ad78d659c77418866805767eb7ca8b04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c69bb25d09a0db1f5baf5dbe89688c" id="r_a45c69bb25d09a0db1f5baf5dbe89688c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45c69bb25d09a0db1f5baf5dbe89688c">finish_next</a> (const <a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;h, <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#af141a69eb789b86fa0eb93c2d263f0df">signature_type</a> &gt; &amp;&amp;additional_signatures, const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;pfs, const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;validator, bool skip_validate_signee=false) &amp;&amp;</td></tr>
<tr class="separator:a45c69bb25d09a0db1f5baf5dbe89688c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91bd27d4d499d9d80743bfc662c14ef" id="r_ac91bd27d4d499d9d80743bfc662c14ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac91bd27d4d499d9d80743bfc662c14ef">finish_next</a> (<a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;h, const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;pfs, const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;validator, const <a class="el" href="namespacesysio_1_1chain.html#a2cfc12be90aaa9b98843b120fecc71b0">signer_callback_type</a> &amp;signer) &amp;&amp;</td></tr>
<tr class="separator:ac91bd27d4d499d9d80743bfc662c14ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae88ae6a686d8744dc8dc3dca4f6be840" id="r_ae88ae6a686d8744dc8dc3dca4f6be840"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ac8b5d89808934345baf62f978b6b7a63">protocol_feature_activation_set_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a></td></tr>
<tr class="separator:ae88ae6a686d8744dc8dc3dca4f6be840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4259c0a77754b3b796ee1b9c180c07d" id="r_aa4259c0a77754b3b796ee1b9c180c07d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html">detail::schedule_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a></td></tr>
<tr class="separator:aa4259c0a77754b3b796ee1b9c180c07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec520efcb58c03d5317fbe94bf9a73ad" id="r_aec520efcb58c03d5317fbe94bf9a73ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec520efcb58c03d5317fbe94bf9a73ad">was_pending_promoted</a> = false</td></tr>
<tr class="separator:aec520efcb58c03d5317fbe94bf9a73ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ecaffcd5fe20f8f99327bcd3875e4d" id="r_a99ecaffcd5fe20f8f99327bcd3875e4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99ecaffcd5fe20f8f99327bcd3875e4d">previous</a></td></tr>
<tr class="separator:a99ecaffcd5fe20f8f99327bcd3875e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc57fb4d2cacf67bd32249dc8c6e5da9" id="r_acc57fb4d2cacf67bd32249dc8c6e5da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc57fb4d2cacf67bd32249dc8c6e5da9">producer</a></td></tr>
<tr class="separator:acc57fb4d2cacf67bd32249dc8c6e5da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19aec2deeb95aa494e2b71501b909cd2" id="r_a19aec2deeb95aa494e2b71501b909cd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19aec2deeb95aa494e2b71501b909cd2">timestamp</a></td></tr>
<tr class="separator:a19aec2deeb95aa494e2b71501b909cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ee975bb8581ccfd366a1f088833bb8" id="r_ab8ee975bb8581ccfd366a1f088833bb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8ee975bb8581ccfd366a1f088833bb8">active_schedule_version</a> = 0</td></tr>
<tr class="separator:ab8ee975bb8581ccfd366a1f088833bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6295e100b4e27f39d5e0c0ec04925869" id="r_a6295e100b4e27f39d5e0c0ec04925869"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6295e100b4e27f39d5e0c0ec04925869">confirmed</a> = 1</td></tr>
<tr class="separator:a6295e100b4e27f39d5e0c0ec04925869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html">sysio::chain::detail::block_header_state_common</a></td></tr>
<tr class="memitem:ae85e3375836639cb1e7543aea7cf0552 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_ae85e3375836639cb1e7543aea7cf0552"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#ae85e3375836639cb1e7543aea7cf0552">block_num</a> = 0</td></tr>
<tr class="separator:ae85e3375836639cb1e7543aea7cf0552 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8103e638cbe1482a168a585fddd48c inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a7a8103e638cbe1482a168a585fddd48c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a7a8103e638cbe1482a168a585fddd48c">dpos_proposed_irreversible_blocknum</a> = 0</td></tr>
<tr class="separator:a7a8103e638cbe1482a168a585fddd48c inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bdf45e437e6440790ee3ccedb1dda05 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a3bdf45e437e6440790ee3ccedb1dda05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a3bdf45e437e6440790ee3ccedb1dda05">dpos_irreversible_blocknum</a> = 0</td></tr>
<tr class="separator:a3bdf45e437e6440790ee3ccedb1dda05 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdafe630675287e81a2bc479aa6ce20 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_abfdafe630675287e81a2bc479aa6ce20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1producer__authority__schedule.html">producer_authority_schedule</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#abfdafe630675287e81a2bc479aa6ce20">active_schedule</a></td></tr>
<tr class="separator:abfdafe630675287e81a2bc479aa6ce20 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0b015917f4c6a9aa70f9f8d6beb839 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a4a0b015917f4c6a9aa70f9f8d6beb839"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a59349972af67217139919b7dd5df6202">incremental_merkle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a4a0b015917f4c6a9aa70f9f8d6beb839">blockroot_merkle</a></td></tr>
<tr class="separator:a4a0b015917f4c6a9aa70f9f8d6beb839 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accedbdbf34edff339d877efc258cad03 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_accedbdbf34edff339d877efc258cad03"><td class="memItemLeft" align="right" valign="top">flat_map&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#accedbdbf34edff339d877efc258cad03">producer_to_last_produced</a></td></tr>
<tr class="separator:accedbdbf34edff339d877efc258cad03 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a523b99ec35565fb3307c52aaf9380ef3 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a523b99ec35565fb3307c52aaf9380ef3"><td class="memItemLeft" align="right" valign="top">flat_map&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a523b99ec35565fb3307c52aaf9380ef3">producer_to_last_implied_irb</a></td></tr>
<tr class="separator:a523b99ec35565fb3307c52aaf9380ef3 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43543f4a90b009c066f04ee1701e6103 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a43543f4a90b009c066f04ee1701e6103"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a5d68aec4c925d17b62f0a9b543fabfc5">block_signing_authority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a43543f4a90b009c066f04ee1701e6103">valid_block_signing_authority</a></td></tr>
<tr class="separator:a43543f4a90b009c066f04ee1701e6103 inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e07545b28ed4158fb25969f9be98b6a inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common" id="r_a0e07545b28ed4158fb25969f9be98b6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#a0e07545b28ed4158fb25969f9be98b6a">confirm_count</a></td></tr>
<tr class="separator:a0e07545b28ed4158fb25969f9be98b6a inherit pub_attribs_structsysio_1_1chain_1_1detail_1_1block__header__state__common"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae4bf90999ac21cec8f2cf8cb0d4a2b95" id="r_ae4bf90999ac21cec8f2cf8cb0d4a2b95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4bf90999ac21cec8f2cf8cb0d4a2b95">_finish_next</a> (const <a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;h, const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;pfs, const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;validator) &amp;&amp;</td></tr>
<tr class="separator:ae4bf90999ac21cec8f2cf8cb0d4a2b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00075">75</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae4bf90999ac21cec8f2cf8cb0d4a2b95" name="ae4bf90999ac21cec8f2cf8cb0d4a2b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4bf90999ac21cec8f2cf8cb0d4a2b95">&#9670;&#160;</a></span>_finish_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> sysio::chain::pending_block_header_state::_finish_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pfs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>validator</em></span>&#160;) &amp;&amp;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8cpp_source.html#l00234">234</a> of file <a class="el" href="block__header__state_8cpp_source.html">block_header_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  242</span>   {</div>
<div class="line"><span class="lineno">  243</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( h.timestamp == <a class="code hl_variable" href="#a19aec2deeb95aa494e2b71501b909cd2">timestamp</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;timestamp mismatch&quot;</span> );</div>
<div class="line"><span class="lineno">  244</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( h.previous == <a class="code hl_variable" href="#a99ecaffcd5fe20f8f99327bcd3875e4d">previous</a>, unlinkable_block_exception, <span class="stringliteral">&quot;previous mismatch&quot;</span> );</div>
<div class="line"><span class="lineno">  245</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( h.confirmed == <a class="code hl_variable" href="#a6295e100b4e27f39d5e0c0ec04925869">confirmed</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;confirmed mismatch&quot;</span> );</div>
<div class="line"><span class="lineno">  246</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( h.producer == producer, wrong_producer, <span class="stringliteral">&quot;wrong producer specified&quot;</span> );</div>
<div class="line"><span class="lineno">  247</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( h.schedule_version == <a class="code hl_variable" href="#ab8ee975bb8581ccfd366a1f088833bb8">active_schedule_version</a>, producer_schedule_exception, <span class="stringliteral">&quot;schedule_version in signed block is corrupted&quot;</span> );</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>      <span class="keyword">auto</span> exts = h.validate_and_extract_header_extensions();</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>      std::optional&lt;producer_authority_schedule&gt; maybe_new_producer_schedule;</div>
<div class="line"><span class="lineno">  252</span>      std::optional&lt;digest_type&gt; maybe_new_producer_schedule_hash;</div>
<div class="line"><span class="lineno">  253</span>      <span class="keywordtype">bool</span> wtmsig_enabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>      <span class="keywordflow">if</span> (h.new_producers || exts.count(<a class="code hl_function" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721">producer_schedule_change_extension::extension_id</a>()) &gt; 0 ) {</div>
<div class="line"><span class="lineno">  256</span>         wtmsig_enabled = <a class="code hl_function" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579">detail::is_builtin_activated</a>(<a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>, pfs, <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f">builtin_protocol_feature_t::wtmsig_block_signatures</a>);</div>
<div class="line"><span class="lineno">  257</span>      }</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>      <span class="keywordflow">if</span>( h.new_producers ) {</div>
<div class="line"><span class="lineno">  260</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(!wtmsig_enabled, producer_schedule_exception, <span class="stringliteral">&quot;Block header contains legacy producer schedule outdated by activation of WTMsig Block Signatures&quot;</span> );</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_variable" href="#aec520efcb58c03d5317fbe94bf9a73ad">was_pending_promoted</a>, producer_schedule_exception, <span class="stringliteral">&quot;cannot set pending producer schedule in the same block in which pending was promoted to active&quot;</span> );</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_producers = *h.new_producers;</div>
<div class="line"><span class="lineno">  265</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( new_producers.version == <a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#abfdafe630675287e81a2bc479aa6ce20">active_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a477f957323b97c0af6700ef384326b83">version</a> + 1, producer_schedule_exception, <span class="stringliteral">&quot;wrong producer schedule version specified&quot;</span> );</div>
<div class="line"><span class="lineno">  266</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#a4f1fa6ff028fd822e1e566bdb7dd95a7">schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#afb0f1bdb282b3d8e1a60ee37c70657d4">producers</a>.empty(), producer_schedule_exception,</div>
<div class="line"><span class="lineno">  267</span>                    <span class="stringliteral">&quot;cannot set new pending producers until last pending is confirmed&quot;</span> );</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>         maybe_new_producer_schedule_hash.emplace(<a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">digest_type::hash</a>(new_producers));</div>
<div class="line"><span class="lineno">  270</span>         maybe_new_producer_schedule.emplace(new_producers);</div>
<div class="line"><span class="lineno">  271</span>      }</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>      <span class="keywordflow">if</span> ( exts.count(<a class="code hl_function" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721">producer_schedule_change_extension::extension_id</a>()) &gt; 0 ) {</div>
<div class="line"><span class="lineno">  274</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(wtmsig_enabled, producer_schedule_exception, <span class="stringliteral">&quot;Block header producer_schedule_change_extension before activation of WTMsig Block Signatures&quot;</span> );</div>
<div class="line"><span class="lineno">  275</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_variable" href="#aec520efcb58c03d5317fbe94bf9a73ad">was_pending_promoted</a>, producer_schedule_exception, <span class="stringliteral">&quot;cannot set pending producer schedule in the same block in which pending was promoted to active&quot;</span> );</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_producer_schedule = std::get&lt;producer_schedule_change_extension&gt;(exts.lower_bound(<a class="code hl_function" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721">producer_schedule_change_extension::extension_id</a>())-&gt;second);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( new_producer_schedule.version == <a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#abfdafe630675287e81a2bc479aa6ce20">active_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a477f957323b97c0af6700ef384326b83">version</a> + 1, producer_schedule_exception, <span class="stringliteral">&quot;wrong producer schedule version specified&quot;</span> );</div>
<div class="line"><span class="lineno">  280</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#a4f1fa6ff028fd822e1e566bdb7dd95a7">schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#afb0f1bdb282b3d8e1a60ee37c70657d4">producers</a>.empty(), producer_schedule_exception,</div>
<div class="line"><span class="lineno">  281</span>                     <span class="stringliteral">&quot;cannot set new pending producers until last pending is confirmed&quot;</span> );</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>         maybe_new_producer_schedule_hash.emplace(<a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">digest_type::hash</a>(new_producer_schedule));</div>
<div class="line"><span class="lineno">  284</span>         maybe_new_producer_schedule.emplace(new_producer_schedule);</div>
<div class="line"><span class="lineno">  285</span>      }</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ac8b5d89808934345baf62f978b6b7a63">protocol_feature_activation_set_ptr</a> new_activated_protocol_features;</div>
<div class="line"><span class="lineno">  288</span>      { <span class="comment">// handle protocol_feature_activation</span></div>
<div class="line"><span class="lineno">  289</span>         <span class="keywordflow">if</span>( exts.count(<a class="code hl_function" href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3">protocol_feature_activation::extension_id</a>() &gt; 0) ) {</div>
<div class="line"><span class="lineno">  290</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_protocol_features = std::get&lt;protocol_feature_activation&gt;(exts.lower_bound(<a class="code hl_function" href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3">protocol_feature_activation::extension_id</a>())-&gt;second).protocol_features;</div>
<div class="line"><span class="lineno">  291</span>            validator( <a class="code hl_variable" href="#a19aec2deeb95aa494e2b71501b909cd2">timestamp</a>, <a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>-&gt;protocol_features, new_protocol_features );</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>            new_activated_protocol_features =   std::make_shared&lt;protocol_feature_activation_set&gt;(</div>
<div class="line"><span class="lineno">  294</span>                                                   *<a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>,</div>
<div class="line"><span class="lineno">  295</span>                                                   new_protocol_features</div>
<div class="line"><span class="lineno">  296</span>                                                );</div>
<div class="line"><span class="lineno">  297</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  298</span>            new_activated_protocol_features = std::move( <a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a> );</div>
<div class="line"><span class="lineno">  299</span>         }</div>
<div class="line"><span class="lineno">  300</span>      }</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>      <span class="keyword">auto</span> block_number = <a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#ae85e3375836639cb1e7543aea7cf0552">block_num</a>;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>      block_header_state result( std::move( *<span class="keyword">static_cast&lt;</span>detail::block_header_state_common*<span class="keyword">&gt;</span>(<span class="keyword">this</span>) ) );</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>      result.id      = h.calculate_id();</div>
<div class="line"><span class="lineno">  307</span>      result.header  = h;</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>      result.header_exts = std::move(exts);</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>      <span class="keywordflow">if</span>( maybe_new_producer_schedule ) {</div>
<div class="line"><span class="lineno">  312</span>         result.pending_schedule.schedule = std::move(*maybe_new_producer_schedule);</div>
<div class="line"><span class="lineno">  313</span>         result.pending_schedule.schedule_hash = std::move(*maybe_new_producer_schedule_hash);</div>
<div class="line"><span class="lineno">  314</span>         result.pending_schedule.schedule_lib_num    = block_number;</div>
<div class="line"><span class="lineno">  315</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  316</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#aec520efcb58c03d5317fbe94bf9a73ad">was_pending_promoted</a> ) {</div>
<div class="line"><span class="lineno">  317</span>            result.pending_schedule.schedule.version = <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#a4f1fa6ff028fd822e1e566bdb7dd95a7">schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a477f957323b97c0af6700ef384326b83">version</a>;</div>
<div class="line"><span class="lineno">  318</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>            result.pending_schedule.schedule         = std::move( <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#a4f1fa6ff028fd822e1e566bdb7dd95a7">schedule</a> );</div>
<div class="line"><span class="lineno">  320</span>         }</div>
<div class="line"><span class="lineno">  321</span>         result.pending_schedule.schedule_hash       = std::move( <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#ace19480f2ab629e6b82a3a8286b38729">schedule_hash</a> );</div>
<div class="line"><span class="lineno">  322</span>         result.pending_schedule.schedule_lib_num    = <a class="code hl_variable" href="#aa4259c0a77754b3b796ee1b9c180c07d">prev_pending_schedule</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#aa73e5e8074836362cd2316d53f876213">schedule_lib_num</a>;</div>
<div class="line"><span class="lineno">  323</span>      }</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>      result.activated_protocol_features = std::move( new_activated_protocol_features );</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  328</span>   }</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclassfc_1_1sha256_html_a474784de7d6213b855abd7e952df5e36"><div class="ttname"><a href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a></div><div class="ttdeci">static sha256 hash(const char *d, uint32_t dlen)</div><div class="ttdef"><b>Definition</b> <a href="sha256_8cpp_source.html#l00044">sha256.cpp:44</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1detail_html_ad7f3ac7b970f7c5d559e3f176461a579"><div class="ttname"><a href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579">sysio::chain::detail::is_builtin_activated</a></div><div class="ttdeci">bool is_builtin_activated(const protocol_feature_activation_set_ptr &amp;pfa, const protocol_feature_set &amp;pfs, builtin_protocol_feature_t feature_codename)</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8cpp_source.html#l00008">block_header_state.cpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f"><div class="ttname"><a href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f">sysio::chain::builtin_protocol_feature_t::wtmsig_block_signatures</a></div><div class="ttdeci">@ wtmsig_block_signatures</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a910243f6a0327fb2d4fc80f7e89f103e"><div class="ttname"><a href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">sysio::chain::block_validate_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found block_validate_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00212">exceptions.hpp:212</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ac8b5d89808934345baf62f978b6b7a63"><div class="ttname"><a href="namespacesysio_1_1chain.html#ac8b5d89808934345baf62f978b6b7a63">sysio::chain::protocol_feature_activation_set_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; protocol_feature_activation_set &gt; protocol_feature_activation_set_ptr</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__activation_8hpp_source.html#l00034">protocol_feature_activation.hpp:34</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1detail_1_1block__header__state__common_html_abfdafe630675287e81a2bc479aa6ce20"><div class="ttname"><a href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#abfdafe630675287e81a2bc479aa6ce20">sysio::chain::detail::block_header_state_common::active_schedule</a></div><div class="ttdeci">producer_authority_schedule active_schedule</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00056">block_header_state.hpp:56</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1detail_1_1block__header__state__common_html_ae85e3375836639cb1e7543aea7cf0552"><div class="ttname"><a href="structsysio_1_1chain_1_1detail_1_1block__header__state__common.html#ae85e3375836639cb1e7543aea7cf0552">sysio::chain::detail::block_header_state_common::block_num</a></div><div class="ttdeci">uint32_t block_num</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00053">block_header_state.hpp:53</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1detail_1_1schedule__info_html_a4f1fa6ff028fd822e1e566bdb7dd95a7"><div class="ttname"><a href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#a4f1fa6ff028fd822e1e566bdb7dd95a7">sysio::chain::detail::schedule_info::schedule</a></div><div class="ttdeci">producer_authority_schedule schedule</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00067">block_header_state.hpp:67</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1detail_1_1schedule__info_html_aa73e5e8074836362cd2316d53f876213"><div class="ttname"><a href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#aa73e5e8074836362cd2316d53f876213">sysio::chain::detail::schedule_info::schedule_lib_num</a></div><div class="ttdeci">uint32_t schedule_lib_num</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00065">block_header_state.hpp:65</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1detail_1_1schedule__info_html_ace19480f2ab629e6b82a3a8286b38729"><div class="ttname"><a href="structsysio_1_1chain_1_1detail_1_1schedule__info.html#ace19480f2ab629e6b82a3a8286b38729">sysio::chain::detail::schedule_info::schedule_hash</a></div><div class="ttdeci">digest_type schedule_hash</div><div class="ttdoc">last irr block num</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00066">block_header_state.hpp:66</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_a19aec2deeb95aa494e2b71501b909cd2"><div class="ttname"><a href="#a19aec2deeb95aa494e2b71501b909cd2">sysio::chain::pending_block_header_state::timestamp</a></div><div class="ttdeci">block_timestamp_type timestamp</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00081">block_header_state.hpp:81</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_a6295e100b4e27f39d5e0c0ec04925869"><div class="ttname"><a href="#a6295e100b4e27f39d5e0c0ec04925869">sysio::chain::pending_block_header_state::confirmed</a></div><div class="ttdeci">uint16_t confirmed</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00083">block_header_state.hpp:83</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_a99ecaffcd5fe20f8f99327bcd3875e4d"><div class="ttname"><a href="#a99ecaffcd5fe20f8f99327bcd3875e4d">sysio::chain::pending_block_header_state::previous</a></div><div class="ttdeci">block_id_type previous</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00079">block_header_state.hpp:79</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_aa4259c0a77754b3b796ee1b9c180c07d"><div class="ttname"><a href="#aa4259c0a77754b3b796ee1b9c180c07d">sysio::chain::pending_block_header_state::prev_pending_schedule</a></div><div class="ttdeci">detail::schedule_info prev_pending_schedule</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00077">block_header_state.hpp:77</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_ab8ee975bb8581ccfd366a1f088833bb8"><div class="ttname"><a href="#ab8ee975bb8581ccfd366a1f088833bb8">sysio::chain::pending_block_header_state::active_schedule_version</a></div><div class="ttdeci">uint32_t active_schedule_version</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00082">block_header_state.hpp:82</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_ae88ae6a686d8744dc8dc3dca4f6be840"><div class="ttname"><a href="#ae88ae6a686d8744dc8dc3dca4f6be840">sysio::chain::pending_block_header_state::prev_activated_protocol_features</a></div><div class="ttdeci">protocol_feature_activation_set_ptr prev_activated_protocol_features</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00076">block_header_state.hpp:76</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_aec520efcb58c03d5317fbe94bf9a73ad"><div class="ttname"><a href="#aec520efcb58c03d5317fbe94bf9a73ad">sysio::chain::pending_block_header_state::was_pending_promoted</a></div><div class="ttdeci">bool was_pending_promoted</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00078">block_header_state.hpp:78</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1producer__authority__schedule_html_a477f957323b97c0af6700ef384326b83"><div class="ttname"><a href="structsysio_1_1chain_1_1producer__authority__schedule.html#a477f957323b97c0af6700ef384326b83">sysio::chain::producer_authority_schedule::version</a></div><div class="ttdeci">uint32_t version</div><div class="ttdoc">sequentially incrementing version number</div><div class="ttdef"><b>Definition</b> <a href="producer__schedule_8hpp_source.html#l00272">producer_schedule.hpp:272</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1producer__authority__schedule_html_afb0f1bdb282b3d8e1a60ee37c70657d4"><div class="ttname"><a href="structsysio_1_1chain_1_1producer__authority__schedule.html#afb0f1bdb282b3d8e1a60ee37c70657d4">sysio::chain::producer_authority_schedule::producers</a></div><div class="ttdeci">vector&lt; producer_authority &gt; producers</div><div class="ttdef"><b>Definition</b> <a href="producer__schedule_8hpp_source.html#l00273">producer_schedule.hpp:273</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1producer__schedule__change__extension_html_a04b10fee2a9965fd56fce94b2a7a4721"><div class="ttname"><a href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721">sysio::chain::producer_schedule_change_extension::extension_id</a></div><div class="ttdeci">static constexpr uint16_t extension_id()</div><div class="ttdef"><b>Definition</b> <a href="producer__schedule_8hpp_source.html#l00295">producer_schedule.hpp:295</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1protocol__feature__activation_html_a9b74efdc3ccf711443174ff0c9b535e3"><div class="ttname"><a href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3">sysio::chain::protocol_feature_activation::extension_id</a></div><div class="ttdeci">static constexpr uint16_t extension_id()</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__activation_8hpp_source.html#l00008">protocol_feature_activation.hpp:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state_ae4bf90999ac21cec8f2cf8cb0d4a2b95_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1pending__block__header__state_ae4bf90999ac21cec8f2cf8cb0d4a2b95_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1pending__block__header__state_ae4bf90999ac21cec8f2cf8cb0d4a2b95_cgraph" id="astructsysio_1_1chain_1_1pending__block__header__state_ae4bf90999ac21cec8f2cf8cb0d4a2b95_cgraph">
<area shape="rect" title=" " alt="" coords="5,271,155,327"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#ab1f18a64cbf39c54da83f75c9632f9cd" title=" " alt="" coords="237,91,381,131"/>
<area shape="poly" title=" " alt="" coords="105,269,148,224,201,177,257,138,260,142,204,181,152,228,109,273"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="687,185,806,210"/>
<area shape="poly" title=" " alt="" coords="114,269,154,242,202,220,264,204,329,193,458,181,577,181,672,187,672,192,576,186,458,187,330,198,265,209,204,226,157,247,117,273"/>
<area shape="rect" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721" title=" " alt="" coords="213,235,405,291"/>
<area shape="poly" title=" " alt="" coords="154,285,197,278,198,283,155,290"/>
<area shape="rect" href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3" title=" " alt="" coords="203,315,415,355"/>
<area shape="poly" title=" " alt="" coords="155,308,188,313,187,318,154,313"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579" title=" " alt="" coords="239,380,379,421"/>
<area shape="poly" title=" " alt="" coords="128,325,204,365,225,373,223,378,202,369,126,330"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#ad1f785fbd31eb3bd5b02835c33408886" title=" " alt="" coords="217,444,401,500"/>
<area shape="poly" title=" " alt="" coords="103,325,146,378,174,406,204,430,211,435,208,439,201,435,170,410,142,382,99,329"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a84daf28c790313cfaffff12e2a962cdb" title=" " alt="" coords="474,5,612,46"/>
<area shape="poly" title=" " alt="" coords="366,88,470,49,471,54,368,93"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="870,42,1026,68"/>
<area shape="poly" title=" " alt="" coords="381,102,854,60,855,66,382,107"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a71165691e3205b1f4dd847b5c6bc5b22" title=" " alt="" coords="478,120,608,161"/>
<area shape="poly" title=" " alt="" coords="382,117,463,128,462,133,381,123"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="671,5,822,46"/>
<area shape="poly" title=" " alt="" coords="613,23,655,23,655,28,613,28"/>
<area shape="poly" title=" " alt="" coords="822,34,854,39,854,44,821,39"/>
<area shape="poly" title=" " alt="" coords="609,156,684,178,683,183,608,161"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="880,241,1016,282"/>
<area shape="poly" title=" " alt="" coords="790,209,868,234,866,239,789,214"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="880,176,1016,217"/>
<area shape="poly" title=" " alt="" coords="806,195,864,194,865,200,806,200"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1074,249,1189,274"/>
<area shape="poly" title=" " alt="" coords="1017,259,1058,259,1058,264,1017,264"/>
<area shape="rect" href="namespacefc.html#a150ca4cd9c0318ca45dc0dc7df5d58b9" title=" " alt="" coords="506,324,581,349"/>
<area shape="poly" title=" " alt="" coords="378,379,490,348,491,353,380,384"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#a5dd91e60ec8a213c9e24b61565c9f860" title=" " alt="" coords="463,374,623,430"/>
<area shape="poly" title=" " alt="" coords="379,398,448,398,448,404,379,403"/>
<area shape="poly" title=" " alt="" coords="571,321,617,301,671,284,771,268,864,261,865,266,771,273,672,290,619,306,573,326"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="698,324,795,349"/>
<area shape="poly" title=" " alt="" coords="581,334,682,334,682,339,581,339"/>
<area shape="poly" title=" " alt="" coords="713,325,706,315,710,305,724,299,747,297,771,300,784,306,781,311,770,305,746,302,725,304,714,309,712,314,717,322"/>
</map>
</div>

</div>
</div>
<a id="a45c69bb25d09a0db1f5baf5dbe89688c" name="a45c69bb25d09a0db1f5baf5dbe89688c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c69bb25d09a0db1f5baf5dbe89688c">&#9670;&#160;</a></span>finish_next() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> sysio::chain::pending_block_header_state::finish_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#af141a69eb789b86fa0eb93c2d263f0df">signature_type</a> &gt; &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>additional_signatures</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pfs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>validator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>skip_validate_signee</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;) &amp;&amp;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8cpp_source.html#l00330">330</a> of file <a class="el" href="block__header__state_8cpp_source.html">block_header_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  339</span>   {</div>
<div class="line"><span class="lineno">  340</span>      <span class="keywordflow">if</span>( !additional_signatures.empty() ) {</div>
<div class="line"><span class="lineno">  341</span>         <span class="keywordtype">bool</span> wtmsig_enabled = <a class="code hl_function" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579">detail::is_builtin_activated</a>(<a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>, pfs, <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f">builtin_protocol_feature_t::wtmsig_block_signatures</a>);</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(wtmsig_enabled, producer_schedule_exception, <span class="stringliteral">&quot;Block contains multiple signatures before WTMsig block signatures are enabled&quot;</span> );</div>
<div class="line"><span class="lineno">  344</span>      }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>      <span class="keyword">auto</span> result = std::move(*this)._finish_next( h, pfs, validator );</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>      <span class="keywordflow">if</span>( !additional_signatures.empty() ) {</div>
<div class="line"><span class="lineno">  349</span>         result.additional_signatures = std::move(additional_signatures);</div>
<div class="line"><span class="lineno">  350</span>      }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>      <span class="comment">// ASSUMPTION FROM controller_impl::apply_block = all untrusted blocks will have their signatures pre-validated here</span></div>
<div class="line"><span class="lineno">  353</span>      <span class="keywordflow">if</span>( !skip_validate_signee ) {</div>
<div class="line"><span class="lineno">  354</span>        result.verify_signee( );</div>
<div class="line"><span class="lineno">  355</span>      }</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  358</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_cgraph" id="astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_cgraph">
<area shape="rect" title=" " alt="" coords="5,76,155,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579" title=" " alt="" coords="203,83,343,124"/>
<area shape="poly" title=" " alt="" coords="155,101,187,101,187,106,155,106"/>
<area shape="rect" href="namespacefc.html#a150ca4cd9c0318ca45dc0dc7df5d58b9" title=" " alt="" coords="434,57,509,83"/>
<area shape="poly" title=" " alt="" coords="343,89,418,76,419,82,344,94"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#a5dd91e60ec8a213c9e24b61565c9f860" title=" " alt="" coords="391,108,551,163"/>
<area shape="poly" title=" " alt="" coords="344,112,376,117,375,123,343,117"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="619,29,716,55"/>
<area shape="poly" title=" " alt="" coords="509,62,603,49,604,54,510,67"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="599,79,736,120"/>
<area shape="poly" title=" " alt="" coords="510,73,584,84,583,90,509,78"/>
<area shape="poly" title=" " alt="" coords="638,30,632,21,636,11,648,5,668,3,689,5,700,12,697,16,687,10,667,8,649,10,640,15,638,20,643,28"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="784,87,899,112"/>
<area shape="poly" title=" " alt="" coords="736,97,768,97,768,102,736,102"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_icgraph" id="astructsysio_1_1chain_1_1pending__block__header__state_a45c69bb25d09a0db1f5baf5dbe89688c_icgraph">
<area shape="rect" title=" " alt="" coords="190,5,339,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header__state.html#a563e9561a92b1b2a98eadd953510ef14" title=" " alt="" coords="5,13,142,54"/>
<area shape="poly" title=" " alt="" coords="174,36,142,36,142,30,174,30"/>
</map>
</div>

</div>
</div>
<a id="ac91bd27d4d499d9d80743bfc662c14ef" name="ac91bd27d4d499d9d80743bfc662c14ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91bd27d4d499d9d80743bfc662c14ef">&#9670;&#160;</a></span>finish_next() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> sysio::chain::pending_block_header_state::finish_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pfs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>validator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a2cfc12be90aaa9b98843b120fecc71b0">signer_callback_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>signer</em></span>&#160;) &amp;&amp;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8cpp_source.html#l00360">360</a> of file <a class="el" href="block__header__state_8cpp_source.html">block_header_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  368</span>   {</div>
<div class="line"><span class="lineno">  369</span>      <span class="keyword">auto</span> pfa = <a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>      <span class="keyword">auto</span> result = std::move(*this)._finish_next( h, pfs, validator );</div>
<div class="line"><span class="lineno">  372</span>      result.sign( signer );</div>
<div class="line"><span class="lineno">  373</span>      h.producer_signature = result.header.producer_signature;</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>      <span class="keywordflow">if</span>( !result.additional_signatures.empty() ) {</div>
<div class="line"><span class="lineno">  376</span>         <span class="keywordtype">bool</span> wtmsig_enabled = <a class="code hl_function" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579">detail::is_builtin_activated</a>(pfa, pfs, <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f">builtin_protocol_feature_t::wtmsig_block_signatures</a>);</div>
<div class="line"><span class="lineno">  377</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(wtmsig_enabled, producer_schedule_exception, <span class="stringliteral">&quot;Block was signed with multiple signatures before WTMsig block signatures are enabled&quot;</span> );</div>
<div class="line"><span class="lineno">  378</span>      }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  381</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state_ac91bd27d4d499d9d80743bfc662c14ef_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1pending__block__header__state_ac91bd27d4d499d9d80743bfc662c14ef_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1pending__block__header__state_ac91bd27d4d499d9d80743bfc662c14ef_cgraph" id="astructsysio_1_1chain_1_1pending__block__header__state_ac91bd27d4d499d9d80743bfc662c14ef_cgraph">
<area shape="rect" title=" " alt="" coords="5,76,155,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579" title=" " alt="" coords="203,83,343,124"/>
<area shape="poly" title=" " alt="" coords="155,101,187,101,187,106,155,106"/>
<area shape="rect" href="namespacefc.html#a150ca4cd9c0318ca45dc0dc7df5d58b9" title=" " alt="" coords="434,57,509,83"/>
<area shape="poly" title=" " alt="" coords="343,89,418,76,419,82,344,94"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#a5dd91e60ec8a213c9e24b61565c9f860" title=" " alt="" coords="391,108,551,163"/>
<area shape="poly" title=" " alt="" coords="344,112,376,117,375,123,343,117"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="619,29,716,55"/>
<area shape="poly" title=" " alt="" coords="509,62,603,49,604,54,510,67"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="599,79,736,120"/>
<area shape="poly" title=" " alt="" coords="510,73,584,84,583,90,509,78"/>
<area shape="poly" title=" " alt="" coords="638,30,632,21,636,11,648,5,668,3,689,5,700,12,697,16,687,10,667,8,649,10,640,15,638,20,643,28"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="784,87,899,112"/>
<area shape="poly" title=" " alt="" coords="736,97,768,97,768,102,736,102"/>
</map>
</div>

</div>
</div>
<a id="ad78d659c77418866805767eb7ca8b04d" name="ad78d659c77418866805767eb7ca8b04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78d659c77418866805767eb7ca8b04d">&#9670;&#160;</a></span>make_block_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1signed__block__header.html">signed_block_header</a> sysio::chain::pending_block_header_state::make_block_header </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>transaction_mroot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>action_mroot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1producer__authority__schedule.html">producer_authority_schedule</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>new_producers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>new_protocol_feature_activations</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>pfs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1s__header.html">s_header</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>s_header</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8cpp_source.html#l00173">173</a> of file <a class="el" href="block__header__state_8cpp_source.html">block_header_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>   {</div>
<div class="line"><span class="lineno">  182</span>      signed_block_header h;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>      h.timestamp         = <a class="code hl_variable" href="#a19aec2deeb95aa494e2b71501b909cd2">timestamp</a>;</div>
<div class="line"><span class="lineno">  185</span>      h.producer          = <a class="code hl_variable" href="#acc57fb4d2cacf67bd32249dc8c6e5da9">producer</a>;</div>
<div class="line"><span class="lineno">  186</span>      h.confirmed         = <a class="code hl_variable" href="#a6295e100b4e27f39d5e0c0ec04925869">confirmed</a>;</div>
<div class="line"><span class="lineno">  187</span>      h.previous          = <a class="code hl_variable" href="#a99ecaffcd5fe20f8f99327bcd3875e4d">previous</a>;</div>
<div class="line"><span class="lineno">  188</span>      h.transaction_mroot = transaction_mroot;</div>
<div class="line"><span class="lineno">  189</span>      h.action_mroot      = action_mroot;</div>
<div class="line"><span class="lineno">  190</span>      h.schedule_version  = <a class="code hl_variable" href="#ab8ee975bb8581ccfd366a1f088833bb8">active_schedule_version</a>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>      <span class="keywordflow">if</span>( new_protocol_feature_activations.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno">  193</span>         <a class="code hl_function" href="namespacesysio_1_1chain.html#a4e167bafac72001dee047e0f198bb689">emplace_extension</a>(</div>
<div class="line"><span class="lineno">  194</span>               h.header_extensions,</div>
<div class="line"><span class="lineno">  195</span>               <a class="code hl_function" href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3">protocol_feature_activation::extension_id</a>(),</div>
<div class="line"><span class="lineno">  196</span>               <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( protocol_feature_activation{ std::move(new_protocol_feature_activations) } )</div>
<div class="line"><span class="lineno">  197</span>         );</div>
<div class="line"><span class="lineno">  198</span>      }</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>      <span class="keywordflow">if</span> (new_producers) {</div>
<div class="line"><span class="lineno">  201</span>         <span class="keywordflow">if</span> ( <a class="code hl_function" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579">detail::is_builtin_activated</a>(<a class="code hl_variable" href="#ae88ae6a686d8744dc8dc3dca4f6be840">prev_activated_protocol_features</a>, pfs, <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa7b954b3171199b0f02767ac3556e7f0f">builtin_protocol_feature_t::wtmsig_block_signatures</a>) ) {</div>
<div class="line"><span class="lineno">  202</span>            <span class="comment">// add the header extension to update the block schedule</span></div>
<div class="line"><span class="lineno">  203</span>            <a class="code hl_function" href="namespacesysio_1_1chain.html#a4e167bafac72001dee047e0f198bb689">emplace_extension</a>(</div>
<div class="line"><span class="lineno">  204</span>                  h.header_extensions,</div>
<div class="line"><span class="lineno">  205</span>                  <a class="code hl_function" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721">producer_schedule_change_extension::extension_id</a>(),</div>
<div class="line"><span class="lineno">  206</span>                  <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( producer_schedule_change_extension( *new_producers ) )</div>
<div class="line"><span class="lineno">  207</span>            );</div>
<div class="line"><span class="lineno">  208</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  209</span>            legacy::producer_schedule_type downgraded_producers;</div>
<div class="line"><span class="lineno">  210</span>            downgraded_producers.version = new_producers-&gt;version;</div>
<div class="line"><span class="lineno">  211</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> : new_producers-&gt;producers) {</div>
<div class="line"><span class="lineno">  212</span>               std::visit([&amp;downgraded_producers, &amp;<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; auth)</div>
<div class="line"><span class="lineno">  213</span>               {</div>
<div class="line"><span class="lineno">  214</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(auth.keys.size() == 1 &amp;&amp; auth.keys.front().weight == auth.threshold, producer_schedule_exception, <span class="stringliteral">&quot;multisig block signing present before enabled!&quot;</span>);</div>
<div class="line"><span class="lineno">  215</span>                  downgraded_producers.producers.emplace_back(legacy::producer_key{<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.producer_name, auth.keys.front().key});</div>
<div class="line"><span class="lineno">  216</span>               }, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.authority);</div>
<div class="line"><span class="lineno">  217</span>            }</div>
<div class="line"><span class="lineno">  218</span>            h.new_producers = std::move(downgraded_producers);</div>
<div class="line"><span class="lineno">  219</span>         }</div>
<div class="line"><span class="lineno">  220</span>      }</div>
<div class="line"><span class="lineno">  221</span>      </div>
<div class="line"><span class="lineno">  222</span>      <span class="comment">// Add s_root_extension to header extensions if present &amp; relevant</span></div>
<div class="line"><span class="lineno">  223</span>      <span class="keywordflow">if</span> (s_header) {</div>
<div class="line"><span class="lineno">  224</span>         <a class="code hl_function" href="namespacesysio_1_1chain.html#a4e167bafac72001dee047e0f198bb689">emplace_extension</a>(</div>
<div class="line"><span class="lineno">  225</span>            h.header_extensions,</div>
<div class="line"><span class="lineno">  226</span>            <a class="code hl_function" href="structsysio_1_1chain_1_1s__root__extension.html#a23202f3e0a8d83de1cd779159bfc74ec">s_root_extension::extension_id</a>(),</div>
<div class="line"><span class="lineno">  227</span>            <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( s_root_extension ( *s_header ))</div>
<div class="line"><span class="lineno">  228</span>         );</div>
<div class="line"><span class="lineno">  229</span>      }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>      <span class="keywordflow">return</span> h;</div>
<div class="line"><span class="lineno">  232</span>   }</div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a3a18d8161aa5b4f4f02b6fcfdff5e5d1"><div class="ttname"><a href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a></div><div class="ttdeci">void pack(Stream &amp;s, const std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00531">raw.hpp:531</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4e167bafac72001dee047e0f198bb689"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4e167bafac72001dee047e0f198bb689">sysio::chain::emplace_extension</a></div><div class="ttdeci">auto emplace_extension(extensions_type &amp;exts, uint16_t eid, vector&lt; char &gt; &amp;&amp;data)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00264">types.hpp:264</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1pending__block__header__state_html_acc57fb4d2cacf67bd32249dc8c6e5da9"><div class="ttname"><a href="#acc57fb4d2cacf67bd32249dc8c6e5da9">sysio::chain::pending_block_header_state::producer</a></div><div class="ttdeci">account_name producer</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00080">block_header_state.hpp:80</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1s__root__extension_html_a23202f3e0a8d83de1cd779159bfc74ec"><div class="ttname"><a href="structsysio_1_1chain_1_1s__root__extension.html#a23202f3e0a8d83de1cd779159bfc74ec">sysio::chain::s_root_extension::extension_id</a></div><div class="ttdeci">static constexpr uint16_t extension_id()</div><div class="ttdef"><b>Definition</b> <a href="s__root__extension_8hpp_source.html#l00045">s_root_extension.hpp:45</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1pending__block__header__state_ad78d659c77418866805767eb7ca8b04d_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1pending__block__header__state_ad78d659c77418866805767eb7ca8b04d_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1pending__block__header__state_ad78d659c77418866805767eb7ca8b04d_cgraph" id="astructsysio_1_1chain_1_1pending__block__header__state_ad78d659c77418866805767eb7ca8b04d_cgraph">
<area shape="rect" title=" " alt="" coords="5,175,155,231"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4e167bafac72001dee047e0f198bb689" title=" " alt="" coords="235,5,383,46"/>
<area shape="poly" title=" " alt="" coords="96,173,139,114,168,82,201,55,219,45,222,50,204,60,171,86,143,117,100,176"/>
<area shape="rect" href="structsysio_1_1chain_1_1producer__schedule__change__extension.html#a04b10fee2a9965fd56fce94b2a7a4721" title=" " alt="" coords="213,70,405,126"/>
<area shape="poly" title=" " alt="" coords="130,172,202,135,215,130,217,134,204,140,132,177"/>
<area shape="rect" href="structsysio_1_1chain_1_1protocol__feature__activation.html#a9b74efdc3ccf711443174ff0c9b535e3" title=" " alt="" coords="203,149,415,190"/>
<area shape="poly" title=" " alt="" coords="154,190,187,185,188,190,155,195"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__root__extension.html#a23202f3e0a8d83de1cd779159bfc74ec" title=" " alt="" coords="226,215,392,255"/>
<area shape="poly" title=" " alt="" coords="155,211,211,219,211,224,154,216"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1detail.html#ad7f3ac7b970f7c5d559e3f176461a579" title=" " alt="" coords="239,280,379,321"/>
<area shape="poly" title=" " alt="" coords="131,229,204,265,225,273,223,278,202,269,129,234"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="691,328,788,353"/>
<area shape="poly" title=" " alt="" coords="100,230,142,284,171,310,204,330,265,352,329,366,395,374,460,375,580,367,675,352,676,357,581,373,460,381,394,379,328,371,263,357,202,335,168,314,138,287,96,233"/>
<area shape="rect" href="namespacefc.html#a150ca4cd9c0318ca45dc0dc7df5d58b9" title=" " alt="" coords="506,222,581,248"/>
<area shape="poly" title=" " alt="" coords="378,278,490,247,491,252,380,283"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#a5dd91e60ec8a213c9e24b61565c9f860" title=" " alt="" coords="463,272,623,328"/>
<area shape="poly" title=" " alt="" coords="379,298,448,298,448,303,379,303"/>
<area shape="poly" title=" " alt="" coords="582,242,624,258,672,286,712,315,709,320,669,290,622,263,581,247"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="671,215,808,255"/>
<area shape="poly" title=" " alt="" coords="581,232,656,232,656,238,581,238"/>
<area shape="poly" title=" " alt="" coords="710,329,704,319,708,309,720,303,740,301,761,303,772,310,769,315,759,308,739,306,721,308,712,313,710,318,715,326"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="856,222,971,248"/>
<area shape="poly" title=" " alt="" coords="808,232,840,232,840,238,808,238"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab8ee975bb8581ccfd366a1f088833bb8" name="ab8ee975bb8581ccfd366a1f088833bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ee975bb8581ccfd366a1f088833bb8">&#9670;&#160;</a></span>active_schedule_version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::pending_block_header_state::active_schedule_version = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00082">82</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="a6295e100b4e27f39d5e0c0ec04925869" name="a6295e100b4e27f39d5e0c0ec04925869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6295e100b4e27f39d5e0c0ec04925869">&#9670;&#160;</a></span>confirmed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sysio::chain::pending_block_header_state::confirmed = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00083">83</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="ae88ae6a686d8744dc8dc3dca4f6be840" name="ae88ae6a686d8744dc8dc3dca4f6be840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae88ae6a686d8744dc8dc3dca4f6be840">&#9670;&#160;</a></span>prev_activated_protocol_features</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ac8b5d89808934345baf62f978b6b7a63">protocol_feature_activation_set_ptr</a> sysio::chain::pending_block_header_state::prev_activated_protocol_features</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00076">76</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="aa4259c0a77754b3b796ee1b9c180c07d" name="aa4259c0a77754b3b796ee1b9c180c07d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4259c0a77754b3b796ee1b9c180c07d">&#9670;&#160;</a></span>prev_pending_schedule</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1detail_1_1schedule__info.html">detail::schedule_info</a> sysio::chain::pending_block_header_state::prev_pending_schedule</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00077">77</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="a99ecaffcd5fe20f8f99327bcd3875e4d" name="a99ecaffcd5fe20f8f99327bcd3875e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99ecaffcd5fe20f8f99327bcd3875e4d">&#9670;&#160;</a></span>previous</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> sysio::chain::pending_block_header_state::previous</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00079">79</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="acc57fb4d2cacf67bd32249dc8c6e5da9" name="acc57fb4d2cacf67bd32249dc8c6e5da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc57fb4d2cacf67bd32249dc8c6e5da9">&#9670;&#160;</a></span>producer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> sysio::chain::pending_block_header_state::producer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00080">80</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="a19aec2deeb95aa494e2b71501b909cd2" name="a19aec2deeb95aa494e2b71501b909cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19aec2deeb95aa494e2b71501b909cd2">&#9670;&#160;</a></span>timestamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> sysio::chain::pending_block_header_state::timestamp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00081">81</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<a id="aec520efcb58c03d5317fbe94bf9a73ad" name="aec520efcb58c03d5317fbe94bf9a73ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec520efcb58c03d5317fbe94bf9a73ad">&#9670;&#160;</a></span>was_pending_promoted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::pending_block_header_state::was_pending_promoted = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="block__header__state_8hpp_source.html#l00078">78</a> of file <a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>libraries/chain/include/sysio/chain/<a class="el" href="block__header__state_8hpp_source.html">block_header_state.hpp</a></li>
<li>libraries/chain/<a class="el" href="block__header__state_8cpp_source.html">block_header_state.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="structsysio_1_1chain_1_1pending__block__header__state.html">pending_block_header_state</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
