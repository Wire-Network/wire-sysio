<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::trace_api::store_provider Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1trace__api_1_1store__provider.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classsysio_1_1trace__api_1_1store__provider-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::trace_api::store_provider Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for sysio::trace_api::store_provider:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider__coll__graph.png" border="0" usemap="#asysio_1_1trace__api_1_1store__provider_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1trace__api_1_1store__provider_coll__map" id="asysio_1_1trace__api_1_1store__provider_coll__map">
<area shape="rect" title=" " alt="" coords="5,109,156,150"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html" title=" " alt="" coords="6,5,155,46"/>
<area shape="poly" title=" " alt="" coords="83,62,83,109,78,109,78,62"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a35ad8cace9660ec3eefb9171898433d9" id="r_a35ad8cace9660ec3eefb9171898433d9"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35ad8cace9660ec3eefb9171898433d9">open_state</a> = <a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html#a532effe653319aa639caa41b48709ae0">slice_directory::open_state</a></td></tr>
<tr class="separator:a35ad8cace9660ec3eefb9171898433d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cc96fc91b74439c3e62e00c7256a1e9" id="r_a3cc96fc91b74439c3e62e00c7256a1e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cc96fc91b74439c3e62e00c7256a1e9">store_provider</a> (const boost::filesystem::path &amp;slice_dir, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> stride_width, std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt; minimum_irreversible_history_blocks, std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt; minimum_uncompressed_irreversible_history_blocks, size_t compression_seek_point_stride)</td></tr>
<tr class="separator:a3cc96fc91b74439c3e62e00c7256a1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd4f8dab0dda219044a2032d94a1668" id="r_a2bd4f8dab0dda219044a2032d94a1668"><td class="memTemplParams" colspan="2">template&lt;typename BlockTrace &gt; </td></tr>
<tr class="memitem:a2bd4f8dab0dda219044a2032d94a1668"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2bd4f8dab0dda219044a2032d94a1668">append</a> (const BlockTrace &amp;<a class="el" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a>)</td></tr>
<tr class="separator:a2bd4f8dab0dda219044a2032d94a1668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a4fdef03a4b354b005e73e383d7e59" id="r_a34a4fdef03a4b354b005e73e383d7e59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34a4fdef03a4b354b005e73e383d7e59">append_lib</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib)</td></tr>
<tr class="separator:a34a4fdef03a4b354b005e73e383d7e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c9a6e4e79e019651c9a8f8a16ff4bf" id="r_a03c9a6e4e79e019651c9a8f8a16ff4bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03c9a6e4e79e019651c9a8f8a16ff4bf">append_trx_ids</a> (<a class="el" href="structsysio_1_1trace__api_1_1block__trxs__entry.html">block_trxs_entry</a> tt)</td></tr>
<tr class="separator:a03c9a6e4e79e019651c9a8f8a16ff4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334e53cb7d09b7a835e1ddf9d8695035" id="r_a334e53cb7d09b7a835e1ddf9d8695035"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1trace__api.html#a4fe812fd823fbfebfe869a30ef75a248">get_block_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a334e53cb7d09b7a835e1ddf9d8695035">get_block</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_height, const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;yield={})</td></tr>
<tr class="separator:a334e53cb7d09b7a835e1ddf9d8695035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f36ae69988e2b50a48dbe604f09bf9" id="r_a22f36ae69988e2b50a48dbe604f09bf9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1trace__api.html#abd0f429b16506edddbd4a2cc5a8acea0">get_block_n</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22f36ae69988e2b50a48dbe604f09bf9">get_trx_block_number</a> (const <a class="el" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">chain::transaction_id_type</a> &amp;trx_id, std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt; minimum_irreversible_history_blocks, const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;yield={})</td></tr>
<tr class="separator:a22f36ae69988e2b50a48dbe604f09bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe277e7852b60426b1cad9b7fb81c4a" id="r_afbe277e7852b60426b1cad9b7fb81c4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbe277e7852b60426b1cad9b7fb81c4a">start_maintenance_thread</a> (<a class="el" href="namespacesysio_1_1trace__api.html#ac599662bf2df3135abffd5ff3adbca19">log_handler</a> log)</td></tr>
<tr class="separator:afbe277e7852b60426b1cad9b7fb81c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68fc753ce45ab78178d7c2625a932e42" id="r_a68fc753ce45ab78178d7c2625a932e42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68fc753ce45ab78178d7c2625a932e42">stop_maintenance_thread</a> ()</td></tr>
<tr class="separator:a68fc753ce45ab78178d7c2625a932e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a22d3bc262b20308a93c1e9c8a423a1fa" id="r_a22d3bc262b20308a93c1e9c8a423a1fa"><td class="memTemplParams" colspan="2">template&lt;typename Fn &gt; </td></tr>
<tr class="memitem:a22d3bc262b20308a93c1e9c8a423a1fa"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a22d3bc262b20308a93c1e9c8a423a1fa">scan_metadata_log_from</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_height, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> offset, Fn &amp;&amp;fn, const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;yield)</td></tr>
<tr class="separator:a22d3bc262b20308a93c1e9c8a423a1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcff133b7357a33643a4ae3e7df99284" id="r_afcff133b7357a33643a4ae3e7df99284"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="namespacesysio_1_1trace__api.html#a98bdcc53a9d9aa6aff851a743516c3b9">data_log_entry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcff133b7357a33643a4ae3e7df99284">read_data_log</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_height, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> offset)</td></tr>
<tr class="separator:afcff133b7357a33643a4ae3e7df99284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de4d3fd42393c8f625f74cd2ffc427b" id="r_a2de4d3fd42393c8f625f74cd2ffc427b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2de4d3fd42393c8f625f74cd2ffc427b">initialize_new_index_slice_file</a> (<a class="el" href="classfc_1_1cfile.html">fc::cfile</a> &amp;index)</td></tr>
<tr class="separator:a2de4d3fd42393c8f625f74cd2ffc427b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838c5cc7c844bc603c538fbdc06e089f" id="r_a838c5cc7c844bc603c538fbdc06e089f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a838c5cc7c844bc603c538fbdc06e089f">validate_existing_index_slice_file</a> (<a class="el" href="classfc_1_1cfile.html">fc::cfile</a> &amp;index, <a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html#a532effe653319aa639caa41b48709ae0">open_state</a> <a class="el" href="structstate.html">state</a>)</td></tr>
<tr class="separator:a838c5cc7c844bc603c538fbdc06e089f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae684bf4119be3e3464e2d5bc4183b12b" id="r_ae684bf4119be3e3464e2d5bc4183b12b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html">slice_directory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a></td></tr>
<tr class="separator:ae684bf4119be3e3464e2d5bc4183b12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides read and write access to block trace data. </p>

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00264">264</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a35ad8cace9660ec3eefb9171898433d9" name="a35ad8cace9660ec3eefb9171898433d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ad8cace9660ec3eefb9171898433d9">&#9670;&#160;</a></span>open_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html#a532effe653319aa639caa41b48709ae0">sysio::trace_api::store_provider::open_state</a> = <a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html#a532effe653319aa639caa41b48709ae0">slice_directory::open_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00266">266</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3cc96fc91b74439c3e62e00c7256a1e9" name="a3cc96fc91b74439c3e62e00c7256a1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cc96fc91b74439c3e62e00c7256a1e9">&#9670;&#160;</a></span>store_provider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sysio::trace_api::store_provider::store_provider </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>slice_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>stride_width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>minimum_irreversible_history_blocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>minimum_uncompressed_irreversible_history_blocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>compression_seek_point_stride</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00034">34</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>   : <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>(slice_dir, stride_width, minimum_irreversible_history_blocks, minimum_uncompressed_irreversible_history_blocks, compression_seek_point_stride) {</div>
<div class="line"><span class="lineno">   37</span>   }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1store__provider_html_ae684bf4119be3e3464e2d5bc4183b12b"><div class="ttname"><a href="#ae684bf4119be3e3464e2d5bc4183b12b">sysio::trace_api::store_provider::_slice_directory</a></div><div class="ttdeci">slice_directory _slice_directory</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8hpp_source.html#l00378">store_provider.hpp:378</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2bd4f8dab0dda219044a2032d94a1668" name="a2bd4f8dab0dda219044a2032d94a1668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd4f8dab0dda219044a2032d94a1668">&#9670;&#160;</a></span>append()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename BlockTrace &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="yubihsm__pkcs11_8c.html#a53ef06e29c840024a683512c1acd791a">template</a> void sysio::trace_api::store_provider::append&lt; <a class="el" href="structsysio_1_1trace__api_1_1block__trace__v2.html">block_trace_v2</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const BlockTrace &amp;</td>          <td class="paramname"><span class="paramname"><em>bt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00040">40</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>                                                   {</div>
<div class="line"><span class="lineno">   41</span>      <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> trace;</div>
<div class="line"><span class="lineno">   42</span>      <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> index;</div>
<div class="line"><span class="lineno">   43</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(<a class="code hl_function" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a>.number);</div>
<div class="line"><span class="lineno">   44</span>      <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#ac7433eb9c741feab026859dc4807b174">find_or_create_slice_pair</a>(slice_number, open_state::write, trace, index);</div>
<div class="line"><span class="lineno">   45</span>      <span class="comment">// storing as static_variant to allow adding other data types to the trace file in the future</span></div>
<div class="line"><span class="lineno">   46</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> offset = append_store(<a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a98bdcc53a9d9aa6aff851a743516c3b9">data_log_entry</a> { <a class="code hl_function" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a> }, trace);</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>      <span class="keyword">auto</span> be = <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">metadata_log_entry</a> { block_entry_v0 { .id = <a class="code hl_function" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a>.id, .number = <a class="code hl_function" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a>.number, .offset = offset }};</div>
<div class="line"><span class="lineno">   49</span>      append_store(be, index);</div>
<div class="line"><span class="lineno">   50</span>   }</div>
<div class="ttc" id="aclassfc_1_1cfile_html"><div class="ttname"><a href="classfc_1_1cfile.html">fc::cfile</a></div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00031">cfile.hpp:31</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_a47a30741cf28932df1556209da63b227"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">sysio::trace_api::slice_directory::slice_number</a></div><div class="ttdeci">uint32_t slice_number(uint32_t block_height) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8hpp_source.html#l00112">store_provider.hpp:112</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_ac7433eb9c741feab026859dc4807b174"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#ac7433eb9c741feab026859dc4807b174">sysio::trace_api::slice_directory::find_or_create_slice_pair</a></div><div class="ttdeci">void find_or_create_slice_pair(uint32_t slice_number, open_state state, fc::cfile &amp;trace, fc::cfile &amp;index)</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00262">store_provider.cpp:262</a></div></div>
<div class="ttc" id="anamespacesysio_1_1trace__api_html_a7a6a31e37b6c94cbd85b0f2019e2ff3c"><div class="ttname"><a href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">sysio::trace_api::metadata_log_entry</a></div><div class="ttdeci">std::variant&lt; block_entry_v0, lib_entry_v0, block_trxs_entry &gt; metadata_log_entry</div><div class="ttdef"><b>Definition</b> <a href="metadata__log_8hpp_source.html#l00018">metadata_log.hpp:18</a></div></div>
<div class="ttc" id="anamespacesysio_1_1trace__api_html_a98bdcc53a9d9aa6aff851a743516c3b9"><div class="ttname"><a href="namespacesysio_1_1trace__api.html#a98bdcc53a9d9aa6aff851a743516c3b9">sysio::trace_api::data_log_entry</a></div><div class="ttdeci">std::variant&lt; block_trace_v0, block_trace_v1, block_trace_v2 &gt; data_log_entry</div><div class="ttdef"><b>Definition</b> <a href="data__log_8hpp_source.html#l00009">data_log.hpp:9</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
<div class="ttc" id="astdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00136">stdint.h:136</a></div></div>
<div class="ttc" id="axbyak__mnemonic_8h_html_a9be923ac9afe48bc98bd22e398415272"><div class="ttname"><a href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272">bt</a></div><div class="ttdeci">void bt(const Operand &amp;op, const Reg &amp;reg)</div><div class="ttdef"><b>Definition</b> <a href="xbyak__mnemonic_8h_source.html#l00047">xbyak_mnemonic.h:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a2bd4f8dab0dda219044a2032d94a1668_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a2bd4f8dab0dda219044a2032d94a1668_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a2bd4f8dab0dda219044a2032d94a1668_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a2bd4f8dab0dda219044a2032d94a1668_cgraph">
<area shape="rect" title=" " alt="" coords="5,308,156,349"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#a9be923ac9afe48bc98bd22e398415272" title=" " alt="" coords="269,251,307,276"/>
<area shape="poly" title=" " alt="" coords="144,305,203,286,253,271,254,276,204,291,145,311"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#ac7433eb9c741feab026859dc4807b174" title=" " alt="" coords="204,301,372,357"/>
<area shape="poly" title=" " alt="" coords="156,326,188,326,188,332,156,332"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="864,268,1027,309"/>
<area shape="poly" title=" " alt="" coords="134,347,204,366,265,372,344,375,527,370,701,358,815,342,854,330,891,314,893,319,856,335,816,347,702,363,527,376,344,380,265,378,203,371,132,352"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a24faf23a87e249099bea549dbda165b2" title=" " alt="" coords="420,276,588,331"/>
<area shape="poly" title=" " alt="" coords="372,316,404,313,405,318,373,322"/>
<area shape="poly" title=" " alt="" coords="373,337,420,341,504,345,588,341,725,325,848,305,849,310,725,331,589,346,504,350,420,346,372,342"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a365023e0ceb97c69aa3ad66c393c2125" title=" " alt="" coords="420,148,588,203"/>
<area shape="poly" title=" " alt="" coords="351,298,371,287,419,250,462,212,465,216,423,254,373,291,354,303"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef" title=" " alt="" coords="636,240,816,281"/>
<area shape="poly" title=" " alt="" coords="588,285,620,278,621,284,589,290"/>
<area shape="poly" title=" " alt="" coords="588,298,848,289,848,295,589,303"/>
<area shape="poly" title=" " alt="" coords="816,270,848,274,848,279,816,275"/>
<area shape="poly" title=" " alt="" coords="589,181,698,198,816,226,894,259,892,263,815,231,697,203,588,186"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c" title=" " alt="" coords="637,126,815,166"/>
<area shape="poly" title=" " alt="" coords="589,162,621,157,622,163,589,167"/>
<area shape="rect" href="classfc_1_1cfile.html#a9e01adaeee108420312ed271133a2d7d" title=" " alt="" coords="676,76,776,102"/>
<area shape="poly" title=" " alt="" coords="560,145,635,112,661,103,662,108,637,117,562,150"/>
<area shape="poly" title=" " alt="" coords="783,165,817,183,869,219,913,256,909,260,865,223,814,187,780,169"/>
<area shape="rect" href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847" title=" " alt="" coords="895,180,996,206"/>
<area shape="poly" title=" " alt="" coords="815,162,881,177,880,182,814,168"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="881,131,1010,156"/>
<area shape="poly" title=" " alt="" coords="815,142,866,142,866,147,815,148"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="1075,105,1229,131"/>
<area shape="poly" title=" " alt="" coords="994,177,1026,166,1106,135,1108,140,1028,171,995,182"/>
<area shape="poly" title=" " alt="" coords="1010,133,1059,127,1060,132,1010,138"/>
<area shape="poly" title=" " alt="" coords="777,90,1060,109,1059,114,777,95"/>
<area shape="rect" href="classfc_1_1cfile.html#a3b11f29f74860527a8bba66e4ae0317d" title=" " alt="" coords="894,29,997,55"/>
<area shape="poly" title=" " alt="" coords="776,76,878,54,879,59,777,81"/>
<area shape="poly" title=" " alt="" coords="984,53,1101,97,1100,102,982,58"/>
<area shape="poly" title=" " alt="" coords="911,31,904,21,908,11,922,5,945,3,971,5,984,12,981,17,969,10,945,8,924,10,912,15,909,20,915,27"/>
</map>
</div>

</div>
</div>
<a id="a34a4fdef03a4b354b005e73e383d7e59" name="a34a4fdef03a4b354b005e73e383d7e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a4fdef03a4b354b005e73e383d7e59">&#9670;&#160;</a></span>append_lib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::append_lib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>lib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00055">55</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                               {</div>
<div class="line"><span class="lineno">   56</span>      <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> index, trx_id;</div>
<div class="line"><span class="lineno">   57</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(lib);</div>
<div class="line"><span class="lineno">   58</span>      <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a24faf23a87e249099bea549dbda165b2">find_or_create_index_slice</a>(slice_number, open_state::write, index);</div>
<div class="line"><span class="lineno">   59</span>      <span class="keyword">auto</span> le = <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">metadata_log_entry</a> { lib_entry_v0 { .lib = lib }};</div>
<div class="line"><span class="lineno">   60</span>      append_store(le, index);</div>
<div class="line"><span class="lineno">   61</span>      <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#aaa86b5afdb3d46491da2af321f6b54bd">find_or_create_trx_id_slice</a>(slice_number, open_state::write, trx_id);</div>
<div class="line"><span class="lineno">   62</span>      append_store(le, trx_id);</div>
<div class="line"><span class="lineno">   63</span>      <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#aca2e44229ad8159ea40397ec974fca22">set_lib</a>(lib);</div>
<div class="line"><span class="lineno">   64</span>   }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_a24faf23a87e249099bea549dbda165b2"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#a24faf23a87e249099bea549dbda165b2">sysio::trace_api::slice_directory::find_or_create_index_slice</a></div><div class="ttdeci">bool find_or_create_index_slice(uint32_t slice_number, open_state state, fc::cfile &amp;index_file) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00165">store_provider.cpp:165</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_aaa86b5afdb3d46491da2af321f6b54bd"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#aaa86b5afdb3d46491da2af321f6b54bd">sysio::trace_api::slice_directory::find_or_create_trx_id_slice</a></div><div class="ttdeci">bool find_or_create_trx_id_slice(uint32_t slice_number, open_state state, fc::cfile &amp;trx_id_file) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00272">store_provider.cpp:272</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_aca2e44229ad8159ea40397ec974fca22"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#aca2e44229ad8159ea40397ec974fca22">sysio::trace_api::slice_directory::set_lib</a></div><div class="ttdeci">void set_lib(uint32_t lib)</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00291">store_provider.cpp:291</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a34a4fdef03a4b354b005e73e383d7e59_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a34a4fdef03a4b354b005e73e383d7e59_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a34a4fdef03a4b354b005e73e383d7e59_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a34a4fdef03a4b354b005e73e383d7e59_cgraph">
<area shape="rect" title=" " alt="" coords="5,147,156,187"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a24faf23a87e249099bea549dbda165b2" title=" " alt="" coords="204,40,372,96"/>
<area shape="poly" title=" " alt="" coords="124,144,213,101,215,106,126,148"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="648,113,812,154"/>
<area shape="poly" title=" " alt="" coords="156,161,633,136,633,141,156,166"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aaa86b5afdb3d46491da2af321f6b54bd" title=" " alt="" coords="204,192,372,248"/>
<area shape="poly" title=" " alt="" coords="157,184,189,192,188,197,156,189"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aca2e44229ad8159ea40397ec974fca22" title=" " alt="" coords="214,289,362,330"/>
<area shape="poly" title=" " alt="" coords="109,186,205,258,238,279,235,283,202,263,106,190"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef" title=" " alt="" coords="420,5,600,46"/>
<area shape="poly" title=" " alt="" coords="372,50,405,43,406,48,373,55"/>
<area shape="poly" title=" " alt="" coords="373,78,633,117,632,122,372,83"/>
<area shape="poly" title=" " alt="" coords="563,44,602,62,680,103,678,108,599,67,561,49"/>
<area shape="poly" title=" " alt="" coords="372,201,633,150,634,155,373,207"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4" title=" " alt="" coords="420,221,600,262"/>
<area shape="poly" title=" " alt="" coords="372,226,405,229,404,234,372,231"/>
<area shape="rect" href="classfc_1_1cfile.html#a9e01adaeee108420312ed271133a2d7d" title=" " alt="" coords="460,286,560,312"/>
<area shape="poly" title=" " alt="" coords="356,246,421,271,446,279,445,284,419,276,354,251"/>
<area shape="poly" title=" " alt="" coords="561,218,599,201,678,160,680,164,602,205,563,223"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="666,229,794,254"/>
<area shape="poly" title=" " alt="" coords="600,239,650,239,650,244,600,244"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="860,280,1014,305"/>
<area shape="poly" title=" " alt="" coords="786,253,867,273,866,278,785,258"/>
<area shape="poly" title=" " alt="" coords="561,296,844,291,844,296,561,301"/>
<area shape="rect" href="classfc_1_1cfile.html#a3b11f29f74860527a8bba66e4ae0317d" title=" " alt="" coords="678,354,782,380"/>
<area shape="poly" title=" " alt="" coords="561,309,601,320,679,346,677,351,600,326,560,314"/>
<area shape="poly" title=" " alt="" coords="767,351,883,309,885,314,769,356"/>
<area shape="poly" title=" " alt="" coords="695,355,689,346,693,336,707,330,730,328,755,330,768,337,766,342,754,335,730,333,708,335,697,340,694,345,700,352"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="488,336,533,361"/>
<area shape="poly" title=" " alt="" coords="363,320,473,339,472,344,362,325"/>
</map>
</div>

</div>
</div>
<a id="a03c9a6e4e79e019651c9a8f8a16ff4bf" name="a03c9a6e4e79e019651c9a8f8a16ff4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c9a6e4e79e019651c9a8f8a16ff4bf">&#9670;&#160;</a></span>append_trx_ids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::append_trx_ids </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1trace__api_1_1block__trxs__entry.html">block_trxs_entry</a></td>          <td class="paramname"><span class="paramname"><em>tt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00066">66</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>                                                         {</div>
<div class="line"><span class="lineno">   67</span>      <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> trx_id_file;</div>
<div class="line"><span class="lineno">   68</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(tt.block_num);</div>
<div class="line"><span class="lineno">   69</span>      <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#aaa86b5afdb3d46491da2af321f6b54bd">find_or_create_trx_id_slice</a>(slice_number, open_state::write, trx_id_file);</div>
<div class="line"><span class="lineno">   70</span>      <span class="keyword">auto</span> entry = <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">metadata_log_entry</a> { std::move(tt) };</div>
<div class="line"><span class="lineno">   71</span>      append_store(entry, trx_id_file);</div>
<div class="line"><span class="lineno">   72</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a03c9a6e4e79e019651c9a8f8a16ff4bf_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a03c9a6e4e79e019651c9a8f8a16ff4bf_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a03c9a6e4e79e019651c9a8f8a16ff4bf_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a03c9a6e4e79e019651c9a8f8a16ff4bf_cgraph">
<area shape="rect" title=" " alt="" coords="5,169,176,210"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aaa86b5afdb3d46491da2af321f6b54bd" title=" " alt="" coords="224,107,392,162"/>
<area shape="poly" title=" " alt="" coords="174,166,208,157,209,162,175,171"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="668,150,832,191"/>
<area shape="poly" title=" " alt="" coords="176,184,653,171,653,176,176,190"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4" title=" " alt="" coords="440,93,620,134"/>
<area shape="poly" title=" " alt="" coords="392,124,424,121,425,126,392,129"/>
<area shape="poly" title=" " alt="" coords="393,139,653,160,652,165,392,144"/>
<area shape="rect" href="classfc_1_1cfile.html#a9e01adaeee108420312ed271133a2d7d" title=" " alt="" coords="480,43,580,69"/>
<area shape="poly" title=" " alt="" coords="374,104,439,79,465,71,466,76,441,84,376,109"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="686,100,814,126"/>
<area shape="poly" title=" " alt="" coords="620,111,670,111,670,116,620,116"/>
<area shape="poly" title=" " alt="" coords="611,132,655,143,654,148,610,137"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="880,51,1034,77"/>
<area shape="poly" title=" " alt="" coords="806,97,885,78,886,84,808,102"/>
<area shape="poly" title=" " alt="" coords="565,40,613,24,668,12,750,3,786,5,832,12,877,25,918,42,915,46,875,30,831,17,786,10,750,8,669,17,615,29,567,45"/>
<area shape="rect" href="classfc_1_1cfile.html#a3b11f29f74860527a8bba66e4ae0317d" title=" " alt="" coords="698,51,802,77"/>
<area shape="poly" title=" " alt="" coords="581,55,683,59,683,64,581,60"/>
<area shape="poly" title=" " alt="" coords="802,61,864,61,864,67,802,67"/>
<area shape="poly" title=" " alt="" coords="715,52,709,43,713,33,727,27,750,24,775,27,788,34,786,39,774,32,750,30,728,32,717,37,714,42,720,49"/>
</map>
</div>

</div>
</div>
<a id="a334e53cb7d09b7a835e1ddf9d8695035" name="a334e53cb7d09b7a835e1ddf9d8695035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a334e53cb7d09b7a835e1ddf9d8695035">&#9670;&#160;</a></span>get_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1trace__api.html#a4fe812fd823fbfebfe869a30ef75a248">get_block_t</a> sysio::trace_api::store_provider::get_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>block_height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>yield</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the trace for a given block </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block_height</td><td>: the height of the data being read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty optional if the data cannot be read OTHERWISE optional containing a 2-tuple of the block_trace and a flag indicating irreversibility </dd></dl>

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00074">74</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                                                                           {</div>
<div class="line"><span class="lineno">   75</span>      std::optional&lt;uint64_t&gt; trace_offset;</div>
<div class="line"><span class="lineno">   76</span>      <span class="keywordtype">bool</span> irreversible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   77</span>      <a class="code hl_function" href="#a22d3bc262b20308a93c1e9c8a423a1fa">scan_metadata_log_from</a>(block_height, 0, [&amp;block_height, &amp;trace_offset, &amp;irreversible](<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">metadata_log_entry</a>&amp; e) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">   78</span>         <span class="keywordflow">if</span> (std::holds_alternative&lt;block_entry_v0&gt;(e)) {</div>
<div class="line"><span class="lineno">   79</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; block = std::get&lt;block_entry_v0&gt;(e);</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">if</span> (block.number == block_height) {</div>
<div class="line"><span class="lineno">   81</span>               trace_offset = block.offset;</div>
<div class="line"><span class="lineno">   82</span>            }</div>
<div class="line"><span class="lineno">   83</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::holds_alternative&lt;lib_entry_v0&gt;(e)) {</div>
<div class="line"><span class="lineno">   84</span>            <span class="keyword">auto</span> lib = std::get&lt;lib_entry_v0&gt;(e).lib;</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">if</span> (lib &gt;= block_height) {</div>
<div class="line"><span class="lineno">   86</span>               irreversible = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   87</span>               <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   88</span>            }</div>
<div class="line"><span class="lineno">   89</span>         }</div>
<div class="line"><span class="lineno">   90</span>         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   91</span>      }, <a class="code hl_variable" href="namespaceboost_1_1fibers_1_1asio.html#a65142b77539b20ba6d2abb35a0d4f5d2">yield</a>);</div>
<div class="line"><span class="lineno">   92</span>      <span class="keywordflow">if</span> (!trace_offset) {</div>
<div class="line"><span class="lineno">   93</span>         <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a4fe812fd823fbfebfe869a30ef75a248">get_block_t</a>{};</div>
<div class="line"><span class="lineno">   94</span>      }</div>
<div class="line"><span class="lineno">   95</span>      std::optional&lt;data_log_entry&gt; entry = <a class="code hl_function" href="#afcff133b7357a33643a4ae3e7df99284">read_data_log</a>(block_height, *trace_offset);</div>
<div class="line"><span class="lineno">   96</span>      <span class="keywordflow">if</span> (!entry) {</div>
<div class="line"><span class="lineno">   97</span>         <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a4fe812fd823fbfebfe869a30ef75a248">get_block_t</a>{};</div>
<div class="line"><span class="lineno">   98</span>      }</div>
<div class="line"><span class="lineno">   99</span>      <span class="keywordflow">return</span> std::make_tuple( entry.value(), irreversible );</div>
<div class="line"><span class="lineno">  100</span>   }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1store__provider_html_a22d3bc262b20308a93c1e9c8a423a1fa"><div class="ttname"><a href="#a22d3bc262b20308a93c1e9c8a423a1fa">sysio::trace_api::store_provider::scan_metadata_log_from</a></div><div class="ttdeci">uint64_t scan_metadata_log_from(uint32_t block_height, uint64_t offset, Fn &amp;&amp;fn, const yield_function &amp;yield)</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8hpp_source.html#l00304">store_provider.hpp:304</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1store__provider_html_afcff133b7357a33643a4ae3e7df99284"><div class="ttname"><a href="#afcff133b7357a33643a4ae3e7df99284">sysio::trace_api::store_provider::read_data_log</a></div><div class="ttdeci">std::optional&lt; data_log_entry &gt; read_data_log(uint32_t block_height, uint64_t offset)</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8hpp_source.html#l00336">store_provider.hpp:336</a></div></div>
<div class="ttc" id="anamespaceboost_1_1fibers_1_1asio_html_a65142b77539b20ba6d2abb35a0d4f5d2"><div class="ttname"><a href="namespaceboost_1_1fibers_1_1asio.html#a65142b77539b20ba6d2abb35a0d4f5d2">boost::fibers::asio::yield</a></div><div class="ttdeci">thread_local yield_t yield</div><div class="ttdef"><b>Definition</b> <a href="yield_8hpp_source.html#l00052">yield.hpp:52</a></div></div>
<div class="ttc" id="anamespacesysio_1_1trace__api_html_a4fe812fd823fbfebfe869a30ef75a248"><div class="ttname"><a href="namespacesysio_1_1trace__api.html#a4fe812fd823fbfebfe869a30ef75a248">sysio::trace_api::get_block_t</a></div><div class="ttdeci">std::optional&lt; std::tuple&lt; data_log_entry, bool &gt; &gt; get_block_t</div><div class="ttdef"><b>Definition</b> <a href="plugins_2trace__api__plugin_2include_2sysio_2trace__api_2common_8hpp_source.html#l00049">common.hpp:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a334e53cb7d09b7a835e1ddf9d8695035_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a334e53cb7d09b7a835e1ddf9d8695035_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a334e53cb7d09b7a835e1ddf9d8695035_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a334e53cb7d09b7a835e1ddf9d8695035_cgraph">
<area shape="rect" title=" " alt="" coords="5,145,156,186"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1store__provider.html#afcff133b7357a33643a4ae3e7df99284" title=" " alt="" coords="208,196,371,236"/>
<area shape="poly" title=" " alt="" coords="157,181,193,190,192,195,156,186"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1store__provider.html#a22d3bc262b20308a93c1e9c8a423a1fa" title=" " alt="" coords="204,59,375,115"/>
<area shape="poly" title=" " alt="" coords="136,142,199,118,201,123,137,147"/>
<area shape="rect" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b" title=" " alt="" coords="472,102,560,128"/>
<area shape="poly" title=" " alt="" coords="326,193,422,144,457,131,459,136,424,149,328,198"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a79cb70775a7aa5e99311529fa6ce30a2" title=" " alt="" coords="423,254,608,309"/>
<area shape="poly" title=" " alt="" coords="363,234,409,248,407,253,361,239"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="656,145,820,186"/>
<area shape="poly" title=" " alt="" coords="371,196,423,188,536,176,641,168,641,173,536,181,423,193,372,202"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c" title=" " alt="" coords="427,333,604,374"/>
<area shape="poly" title=" " alt="" coords="314,235,362,277,424,319,434,324,431,329,422,324,359,281,310,239"/>
<area shape="rect" href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847" title=" " alt="" coords="688,390,788,416"/>
<area shape="poly" title=" " alt="" coords="302,236,320,270,346,311,381,352,402,369,424,383,454,396,486,406,552,416,616,416,672,411,673,417,617,421,552,421,485,411,453,401,422,388,399,373,378,355,342,314,315,273,297,238"/>
<area shape="rect" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7" title=" " alt="" coords="442,203,589,229"/>
<area shape="poly" title=" " alt="" coords="371,213,427,213,427,219,371,219"/>
<area shape="rect" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485" title=" " alt="" coords="700,269,776,294"/>
<area shape="poly" title=" " alt="" coords="609,279,685,279,685,284,609,284"/>
<area shape="poly" title=" " alt="" coords="583,251,607,239,690,192,693,196,610,244,585,255"/>
<area shape="poly" title=" " alt="" coords="588,330,607,319,623,304,632,290,654,254,705,195,709,199,658,258,637,293,627,308,610,324,591,335"/>
<area shape="poly" title=" " alt="" coords="605,370,673,386,672,391,604,376"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="674,341,802,366"/>
<area shape="poly" title=" " alt="" coords="604,351,658,351,658,356,604,356"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="868,366,1022,392"/>
<area shape="poly" title=" " alt="" coords="788,394,852,387,852,392,789,400"/>
<area shape="poly" title=" " alt="" coords="803,359,852,365,852,370,802,364"/>
<area shape="poly" title=" " alt="" coords="376,95,456,105,456,110,375,100"/>
<area shape="poly" title=" " alt="" coords="337,56,378,37,422,23,475,11,517,4,559,6,609,23,645,44,675,72,700,102,720,130,715,133,696,105,671,76,641,48,607,28,558,12,518,9,476,16,424,28,380,42,340,61"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef" title=" " alt="" coords="426,37,605,78"/>
<area shape="poly" title=" " alt="" coords="375,73,410,68,411,74,376,78"/>
<area shape="poly" title=" " alt="" coords="583,76,609,87,694,134,691,139,607,92,581,81"/>
</map>
</div>

</div>
</div>
<a id="a22f36ae69988e2b50a48dbe604f09bf9" name="a22f36ae69988e2b50a48dbe604f09bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f36ae69988e2b50a48dbe604f09bf9">&#9670;&#160;</a></span>get_trx_block_number()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1trace__api.html#abd0f429b16506edddbd4a2cc5a8acea0">get_block_n</a> sysio::trace_api::store_provider::get_trx_block_number </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">chain::transaction_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>minimum_irreversible_history_blocks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>yield</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8cpp_source.html#l00102">102</a> of file <a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>                                                                                                                                                                                  {</div>
<div class="line"><span class="lineno">  103</span>      <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> trx_id_file;</div>
<div class="line"><span class="lineno">  104</span>      <a class="code hl_typedef" href="stdint_8h.html#ab1967d8591af1a4e48c37fd2b0f184d0">int32_t</a> slice_number;</div>
<div class="line"><span class="lineno">  105</span>      <span class="keywordflow">if</span> (minimum_irreversible_history_blocks) {</div>
<div class="line"><span class="lineno">  106</span>         slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(*minimum_irreversible_history_blocks);</div>
<div class="line"><span class="lineno">  107</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  108</span>         slice_number = 0;</div>
<div class="line"><span class="lineno">  109</span>      }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> trx_block_num = 0; <span class="comment">// number of the block that contains the target trx</span></div>
<div class="line"><span class="lineno">  112</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> trx_entries = 0;   <span class="comment">// number of entries that contain the target trx</span></div>
<div class="line"><span class="lineno">  113</span>      <span class="keywordflow">while</span> (<span class="keyword">true</span>){</div>
<div class="line"><span class="lineno">  114</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> found = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4">find_trx_id_slice</a>(slice_number, open_state::read, trx_id_file);</div>
<div class="line"><span class="lineno">  115</span>         <span class="keywordflow">if</span>( !found )</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">break</span>; <span class="comment">// traversed all slices</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>         <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#a7a6a31e37b6c94cbd85b0f2019e2ff3c">metadata_log_entry</a> entry;</div>
<div class="line"><span class="lineno">  119</span>         <span class="keyword">auto</span> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a> = trx_id_file.<a class="code hl_function" href="classfc_1_1cfile.html#a801dd3c493741ff16ef5cf609cc5f9c5">create_datastream</a>();</div>
<div class="line"><span class="lineno">  120</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> end = <a class="code hl_function" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b">file_size</a>(trx_id_file.<a class="code hl_function" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7">get_file_path</a>());</div>
<div class="line"><span class="lineno">  121</span>         <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> offset = trx_id_file.<a class="code hl_function" href="classfc_1_1cfile.html#abc92fc8d64550b772a69ca1b63f75bfb">tellp</a>();</div>
<div class="line"><span class="lineno">  122</span>         <span class="keywordflow">while</span> (offset &lt; end) {</div>
<div class="line"><span class="lineno">  123</span>            <a class="code hl_variable" href="namespaceboost_1_1fibers_1_1asio.html#a65142b77539b20ba6d2abb35a0d4f5d2">yield</a>();</div>
<div class="line"><span class="lineno">  124</span>            <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, entry);</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">if</span> (std::holds_alternative&lt;block_trxs_entry&gt;(entry)) {</div>
<div class="line"><span class="lineno">  126</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; trxs_entry = std::get&lt;block_trxs_entry&gt;(entry);</div>
<div class="line"><span class="lineno">  127</span>               <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0<a class="code hl_union" href="union_u.html">U</a>; i &lt; trxs_entry.ids.size(); ++i) {</div>
<div class="line"><span class="lineno">  128</span>                  <span class="keywordflow">if</span> (trxs_entry.ids[i] == trx_id) {</div>
<div class="line"><span class="lineno">  129</span>                     trx_entries++;</div>
<div class="line"><span class="lineno">  130</span>                     trx_block_num = trxs_entry.block_num;</div>
<div class="line"><span class="lineno">  131</span>                  }</div>
<div class="line"><span class="lineno">  132</span>               }</div>
<div class="line"><span class="lineno">  133</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::holds_alternative&lt;lib_entry_v0&gt;(entry)) {</div>
<div class="line"><span class="lineno">  134</span>               <span class="keyword">auto</span> lib = std::get&lt;lib_entry_v0&gt;(entry).lib;</div>
<div class="line"><span class="lineno">  135</span>               <span class="keywordflow">if</span> (trx_entries &gt; 0 &amp;&amp; lib &gt;= trx_block_num) {</div>
<div class="line"><span class="lineno">  136</span>                  <span class="keywordflow">return</span> trx_block_num;</div>
<div class="line"><span class="lineno">  137</span>               }</div>
<div class="line"><span class="lineno">  138</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  139</span>               <a class="code hl_define" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>( <span class="keyword">false</span>, <span class="stringliteral">&quot;unpacked data should be a block_trxs_entry or a lib_entry_v0&quot;</span> );;</div>
<div class="line"><span class="lineno">  140</span>            }</div>
<div class="line"><span class="lineno">  141</span>            offset = trx_id_file.<a class="code hl_function" href="classfc_1_1cfile.html#abc92fc8d64550b772a69ca1b63f75bfb">tellp</a>();</div>
<div class="line"><span class="lineno">  142</span>         }</div>
<div class="line"><span class="lineno">  143</span>         slice_number++;</div>
<div class="line"><span class="lineno">  144</span>      }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>      <span class="comment">// transaction&#39;s block is not irreversible</span></div>
<div class="line"><span class="lineno">  147</span>      <span class="keywordflow">if</span> (trx_entries &gt; 0)</div>
<div class="line"><span class="lineno">  148</span>         <span class="keywordflow">return</span> trx_block_num;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>      <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacesysio_1_1trace__api.html#abd0f429b16506edddbd4a2cc5a8acea0">get_block_n</a>{};</div>
<div class="line"><span class="lineno">  151</span>   }</div>
<div class="ttc" id="aclassfc_1_1cfile_html_a801dd3c493741ff16ef5cf609cc5f9c5"><div class="ttname"><a href="classfc_1_1cfile.html#a801dd3c493741ff16ef5cf609cc5f9c5">fc::cfile::create_datastream</a></div><div class="ttdeci">cfile_datastream create_datastream()</div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00249">cfile.hpp:249</a></div></div>
<div class="ttc" id="aclassfc_1_1cfile_html_aba9b5dcf06d12cc653b8eb4224351ff7"><div class="ttname"><a href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7">fc::cfile::get_file_path</a></div><div class="ttdeci">fc::path get_file_path() const</div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00041">cfile.hpp:41</a></div></div>
<div class="ttc" id="aclassfc_1_1cfile_html_abc92fc8d64550b772a69ca1b63f75bfb"><div class="ttname"><a href="classfc_1_1cfile.html#abc92fc8d64550b772a69ca1b63f75bfb">fc::cfile::tellp</a></div><div class="ttdeci">size_t tellp() const</div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00079">cfile.hpp:79</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_afd4f092c1fd16893e6d0a8cc06a40ea4"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4">sysio::trace_api::slice_directory::find_trx_id_slice</a></div><div class="ttdeci">bool find_trx_id_slice(uint32_t slice_number, open_state state, fc::cfile &amp;trx_id_file, bool open_file=true) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00280">store_provider.cpp:280</a></div></div>
<div class="ttc" id="aexception_8hpp_html_abed525eeff3ae581be7e4e2fcd3b7bf4"><div class="ttname"><a href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a></div><div class="ttdeci">#define FC_ASSERT(TEST,...)</div><div class="ttdoc">Checks a condition and throws an assert_exception if the test is FALSE.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00362">exception.hpp:362</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacefc_html_aae3e907b120751591ca6919ac66c384b"><div class="ttname"><a href="namespacefc.html#aae3e907b120751591ca6919ac66c384b">fc::file_size</a></div><div class="ttdeci">uint64_t file_size(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00227">filesystem.cpp:227</a></div></div>
<div class="ttc" id="anamespacesysio_1_1trace__api_html_abd0f429b16506edddbd4a2cc5a8acea0"><div class="ttname"><a href="namespacesysio_1_1trace__api.html#abd0f429b16506edddbd4a2cc5a8acea0">sysio::trace_api::get_block_n</a></div><div class="ttdeci">std::optional&lt; uint32_t &gt; get_block_n</div><div class="ttdef"><b>Definition</b> <a href="plugins_2trace__api__plugin_2include_2sysio_2trace__api_2common_8hpp_source.html#l00051">common.hpp:51</a></div></div>
<div class="ttc" id="astdint_8h_html_ab1967d8591af1a4e48c37fd2b0f184d0"><div class="ttname"><a href="stdint_8h.html#ab1967d8591af1a4e48c37fd2b0f184d0">int32_t</a></div><div class="ttdeci">signed int int32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00123">stdint.h:123</a></div></div>
<div class="ttc" id="aunion_u_html"><div class="ttname"><a href="union_u.html">U</a></div><div class="ttdef"><b>Definition</b> <a href="dtoa_8c_source.html#l00306">dtoa.c:306</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a22f36ae69988e2b50a48dbe604f09bf9_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a22f36ae69988e2b50a48dbe604f09bf9_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a22f36ae69988e2b50a48dbe604f09bf9_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a22f36ae69988e2b50a48dbe604f09bf9_cgraph">
<area shape="rect" title=" " alt="" coords="5,154,166,210"/>
<area shape="rect" href="classfc_1_1cfile.html#a801dd3c493741ff16ef5cf609cc5f9c5" title=" " alt="" coords="214,5,394,31"/>
<area shape="poly" title=" " alt="" coords="103,152,148,95,178,65,212,40,221,35,223,40,215,44,182,69,152,99,107,156"/>
<area shape="rect" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b" title=" " alt="" coords="260,55,348,80"/>
<area shape="poly" title=" " alt="" coords="119,152,162,120,213,90,244,78,246,83,215,95,165,124,122,156"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4" title=" " alt="" coords="214,104,394,145"/>
<area shape="poly" title=" " alt="" coords="165,159,208,147,210,152,167,164"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="442,162,605,202"/>
<area shape="poly" title=" " alt="" coords="166,180,426,180,426,185,166,185"/>
<area shape="rect" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7" title=" " alt="" coords="450,248,597,274"/>
<area shape="poly" title=" " alt="" coords="167,194,436,242,435,248,166,199"/>
<area shape="rect" href="classfc_1_1cfile.html#abc92fc8d64550b772a69ca1b63f75bfb" title=" " alt="" coords="256,271,352,296"/>
<area shape="poly" title=" " alt="" coords="136,208,215,249,248,263,246,267,213,254,133,213"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="248,344,360,370"/>
<area shape="poly" title=" " alt="" coords="113,208,158,257,215,307,261,335,258,339,212,311,154,261,109,212"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="460,112,588,138"/>
<area shape="poly" title=" " alt="" coords="394,122,444,122,444,128,394,128"/>
<area shape="poly" title=" " alt="" coords="385,143,429,155,428,160,384,148"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="653,112,808,138"/>
<area shape="poly" title=" " alt="" coords="588,122,638,122,638,128,588,128"/>
<area shape="poly" title=" " alt="" coords="352,276,435,267,435,273,353,281"/>
<area shape="poly" title=" " alt="" coords="268,345,260,335,265,326,279,319,304,317,331,320,344,327,342,332,329,325,304,323,281,325,268,329,266,335,272,342"/>
</map>
</div>

</div>
</div>
<a id="a2de4d3fd42393c8f625f74cd2ffc427b" name="a2de4d3fd42393c8f625f74cd2ffc427b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de4d3fd42393c8f625f74cd2ffc427b">&#9670;&#160;</a></span>initialize_new_index_slice_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::initialize_new_index_slice_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfc_1_1cfile.html">fc::cfile</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize a new index slice with a valid header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>: index file to open and add header to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afcff133b7357a33643a4ae3e7df99284" name="afcff133b7357a33643a4ae3e7df99284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcff133b7357a33643a4ae3e7df99284">&#9670;&#160;</a></span>read_data_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="namespacesysio_1_1trace__api.html#a98bdcc53a9d9aa6aff851a743516c3b9">data_log_entry</a> &gt; sysio::trace_api::store_provider::read_data_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>block_height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read from the data log </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block_height</td><td>: the block_height of the data being read </td></tr>
    <tr><td class="paramname">offset</td><td>: the offset in the datalog to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>empty optional if the data log does not exist, data otherwise </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::exception</td><td>: when the data is not the correct type or if the log is corrupt in some way </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00336">336</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  336</span>                                                                                          {</div>
<div class="line"><span class="lineno">  337</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(block_height);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>         <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> trace;</div>
<div class="line"><span class="lineno">  340</span>         <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c">find_trace_slice</a>(slice_number, open_state::read, trace) ) {</div>
<div class="line"><span class="lineno">  341</span>            <span class="comment">// attempt to read a compressed trace if one exists</span></div>
<div class="line"><span class="lineno">  342</span>            std::optional&lt;compressed_file&gt; ctrace = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a79cb70775a7aa5e99311529fa6ce30a2">find_compressed_trace_slice</a>(slice_number);</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">if</span> (ctrace) {</div>
<div class="line"><span class="lineno">  344</span>               ctrace-&gt;seek(offset);</div>
<div class="line"><span class="lineno">  345</span>               <span class="keywordflow">return</span> extract_store&lt;data_log_entry&gt;(*ctrace);</div>
<div class="line"><span class="lineno">  346</span>            }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>            <span class="keyword">const</span> std::string offset_str = boost::lexical_cast&lt;std::string&gt;(offset);</div>
<div class="line"><span class="lineno">  349</span>            <span class="keyword">const</span> std::string bh_str = boost::lexical_cast&lt;std::string&gt;(block_height);</div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">throw</span> malformed_slice_file(<span class="stringliteral">&quot;Requested offset: &quot;</span> + offset_str + <span class="stringliteral">&quot; to retrieve block number: &quot;</span> + bh_str + <span class="stringliteral">&quot; but this trace file is new, so there are no traces present.&quot;</span>);</div>
<div class="line"><span class="lineno">  351</span>         }</div>
<div class="line"><span class="lineno">  352</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> end = <a class="code hl_function" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b">file_size</a>(trace.<a class="code hl_function" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7">get_file_path</a>());</div>
<div class="line"><span class="lineno">  353</span>         <span class="keywordflow">if</span>( offset &gt;= end ) {</div>
<div class="line"><span class="lineno">  354</span>            <span class="keyword">const</span> std::string offset_str = boost::lexical_cast&lt;std::string&gt;(offset);</div>
<div class="line"><span class="lineno">  355</span>            <span class="keyword">const</span> std::string bh_str = boost::lexical_cast&lt;std::string&gt;(block_height);</div>
<div class="line"><span class="lineno">  356</span>            <span class="keyword">const</span> std::string end_str = boost::lexical_cast&lt;std::string&gt;(end);</div>
<div class="line"><span class="lineno">  357</span>            <span class="keywordflow">throw</span> malformed_slice_file(<span class="stringliteral">&quot;Requested offset: &quot;</span> + offset_str + <span class="stringliteral">&quot; to retrieve block number: &quot;</span> + bh_str + <span class="stringliteral">&quot; but this trace file only goes to offset: &quot;</span> + end_str);</div>
<div class="line"><span class="lineno">  358</span>         }</div>
<div class="line"><span class="lineno">  359</span>         trace.<a class="code hl_function" href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847">seek</a>(offset);</div>
<div class="line"><span class="lineno">  360</span>         <span class="keywordflow">return</span> extract_store&lt;data_log_entry&gt;(trace);</div>
<div class="line"><span class="lineno">  361</span>      }</div>
<div class="ttc" id="aclassfc_1_1cfile_html_a6eb4fe4530480f13c6cf773a7f1e3847"><div class="ttname"><a href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847">fc::cfile::seek</a></div><div class="ttdeci">void seek(long loc)</div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00087">cfile.hpp:87</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_a314838e3f2122e4bcc7f1279b78f7d0c"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c">sysio::trace_api::slice_directory::find_trace_slice</a></div><div class="ttdeci">bool find_trace_slice(uint32_t slice_number, open_state state, fc::cfile &amp;trace_file, bool open_file=true) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00211">store_provider.cpp:211</a></div></div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_a79cb70775a7aa5e99311529fa6ce30a2"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#a79cb70775a7aa5e99311529fa6ce30a2">sysio::trace_api::slice_directory::find_compressed_trace_slice</a></div><div class="ttdeci">std::optional&lt; compressed_file &gt; find_compressed_trace_slice(uint32_t slice_number, bool open_file=true) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00227">store_provider.cpp:227</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_cgraph">
<area shape="rect" title=" " alt="" coords="5,158,169,198"/>
<area shape="rect" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b" title=" " alt="" coords="265,5,354,31"/>
<area shape="poly" title=" " alt="" coords="100,156,147,99,179,68,215,41,249,27,251,32,218,46,182,72,151,102,104,159"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a79cb70775a7aa5e99311529fa6ce30a2" title=" " alt="" coords="217,56,402,111"/>
<area shape="poly" title=" " alt="" coords="135,155,227,115,229,120,138,160"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="450,128,613,169"/>
<area shape="poly" title=" " alt="" coords="169,170,434,153,435,158,169,175"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c" title=" " alt="" coords="221,186,398,226"/>
<area shape="poly" title=" " alt="" coords="169,186,205,190,205,196,169,191"/>
<area shape="rect" href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847" title=" " alt="" coords="482,243,582,268"/>
<area shape="poly" title=" " alt="" coords="125,197,168,218,217,236,283,248,349,255,466,256,466,262,349,260,282,253,216,241,166,223,122,201"/>
<area shape="rect" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7" title=" " alt="" coords="236,301,382,327"/>
<area shape="poly" title=" " alt="" coords="111,197,158,238,218,280,247,293,244,298,215,284,155,243,108,201"/>
<area shape="rect" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485" title=" " alt="" coords="494,71,569,96"/>
<area shape="poly" title=" " alt="" coords="403,81,479,81,479,86,403,86"/>
<area shape="poly" title=" " alt="" coords="403,108,446,121,445,126,402,113"/>
<area shape="poly" title=" " alt="" coords="390,183,435,171,436,176,391,188"/>
<area shape="poly" title=" " alt="" coords="399,223,467,238,466,244,398,228"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="468,193,596,219"/>
<area shape="poly" title=" " alt="" coords="398,204,452,204,452,209,398,209"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="661,219,816,244"/>
<area shape="poly" title=" " alt="" coords="582,247,645,240,646,245,583,252"/>
<area shape="poly" title=" " alt="" coords="597,211,646,218,645,223,596,217"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_icgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_icgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_icgraph" id="aclasssysio_1_1trace__api_1_1store__provider_afcff133b7357a33643a4ae3e7df99284_icgraph">
<area shape="rect" title=" " alt="" coords="204,5,367,46"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1store__provider.html#a334e53cb7d09b7a835e1ddf9d8695035" title=" " alt="" coords="5,5,156,46"/>
<area shape="poly" title=" " alt="" coords="188,28,156,28,156,23,188,23"/>
</map>
</div>

</div>
</div>
<a id="a22d3bc262b20308a93c1e9c8a423a1fa" name="a22d3bc262b20308a93c1e9c8a423a1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d3bc262b20308a93c1e9c8a423a1fa">&#9670;&#160;</a></span>scan_metadata_log_from()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fn &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::trace_api::store_provider::scan_metadata_log_from </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>block_height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fn &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>fn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1trace__api.html#a24d1d2b642518b3d627011e7ef39ae9a">yield_function</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>yield</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read the metadata log font-to-back starting at an offset passing each entry to a provided functor/lambda</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Fn</td><td>: type of the functor/lambda </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block_height</td><td>: height of the requested data </td></tr>
    <tr><td class="paramname">offset</td><td>: initial offset to read from </td></tr>
    <tr><td class="paramname">fn</td><td>: the functor/lambda </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the highest offset read during this scan </dd></dl>

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00304">304</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                                                                                                      {</div>
<div class="line"><span class="lineno">  305</span>         <span class="comment">// ignoring offset</span></div>
<div class="line"><span class="lineno">  306</span>         offset = 0;</div>
<div class="line"><span class="lineno">  307</span>         <a class="code hl_class" href="classfc_1_1cfile.html">fc::cfile</a> index;</div>
<div class="line"><span class="lineno">  308</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> slice_number = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227">slice_number</a>(block_height);</div>
<div class="line"><span class="lineno">  309</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> found = <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef">find_index_slice</a>(slice_number, open_state::read, index);</div>
<div class="line"><span class="lineno">  310</span>         <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><span class="lineno">  311</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  312</span>         }</div>
<div class="line"><span class="lineno">  313</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> end = <a class="code hl_function" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b">file_size</a>(index.get_file_path());</div>
<div class="line"><span class="lineno">  314</span>         offset = index.tellp();</div>
<div class="line"><span class="lineno">  315</span>         <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> last_read_offset = offset;</div>
<div class="line"><span class="lineno">  316</span>         <span class="keywordflow">while</span> (offset &lt; end) {</div>
<div class="line"><span class="lineno">  317</span>            <a class="code hl_variable" href="namespaceboost_1_1fibers_1_1asio.html#a65142b77539b20ba6d2abb35a0d4f5d2">yield</a>();</div>
<div class="line"><span class="lineno">  318</span>            <span class="keyword">const</span> <span class="keyword">auto</span> metadata = extract_store&lt;metadata_log_entry&gt;(index);</div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">if</span>(! <a class="code hl_function" href="namespacesysio_1_1chain_1_1webassembly_1_1eosvmoc.html#ac6593044ffde3f1589b705c6e21f342d">fn</a>(metadata)) {</div>
<div class="line"><span class="lineno">  320</span>               <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  321</span>            }</div>
<div class="line"><span class="lineno">  322</span>            last_read_offset = offset;</div>
<div class="line"><span class="lineno">  323</span>            offset = index.tellp();</div>
<div class="line"><span class="lineno">  324</span>         }</div>
<div class="line"><span class="lineno">  325</span>         <span class="keywordflow">return</span> last_read_offset;</div>
<div class="line"><span class="lineno">  326</span>      }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_aa8fdc6fcd3d18c76b517d65b6ea56bef"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef">sysio::trace_api::slice_directory::find_index_slice</a></div><div class="ttdeci">bool find_index_slice(uint32_t slice_number, open_state state, fc::cfile &amp;index_file, bool open_file=true) const</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00173">store_provider.cpp:173</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1webassembly_1_1eosvmoc_html_ac6593044ffde3f1589b705c6e21f342d"><div class="ttname"><a href="namespacesysio_1_1chain_1_1webassembly_1_1eosvmoc.html#ac6593044ffde3f1589b705c6e21f342d">sysio::chain::webassembly::eosvmoc::fn</a></div><div class="ttdeci">auto fn(A... a)</div><div class="ttdef"><b>Definition</b> <a href="sys-vm-oc_8hpp_source.html#l00336">sys-vm-oc.hpp:336</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_cgraph">
<area shape="rect" title=" " alt="" coords="5,48,177,103"/>
<area shape="rect" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b" title=" " alt="" coords="270,5,358,31"/>
<area shape="poly" title=" " alt="" coords="176,51,254,31,256,36,178,56"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef" title=" " alt="" coords="225,55,404,96"/>
<area shape="poly" title=" " alt="" coords="177,73,209,73,209,78,177,78"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="452,84,615,125"/>
<area shape="poly" title=" " alt="" coords="178,97,225,105,334,111,437,109,437,115,334,117,224,110,177,102"/>
<area shape="poly" title=" " alt="" coords="405,85,437,89,436,94,404,90"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_icgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_icgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_icgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a22d3bc262b20308a93c1e9c8a423a1fa_icgraph">
<area shape="rect" title=" " alt="" coords="204,5,375,61"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1store__provider.html#a334e53cb7d09b7a835e1ddf9d8695035" title=" " alt="" coords="5,13,156,54"/>
<area shape="poly" title=" " alt="" coords="188,36,156,36,156,30,188,30"/>
</map>
</div>

</div>
</div>
<a id="afbe277e7852b60426b1cad9b7fb81c4a" name="afbe277e7852b60426b1cad9b7fb81c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe277e7852b60426b1cad9b7fb81c4a">&#9670;&#160;</a></span>start_maintenance_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::start_maintenance_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1trace__api.html#ac599662bf2df3135abffd5ff3adbca19">log_handler</a></td>          <td class="paramname"><span class="paramname"><em>log</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00286">286</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  286</span>                                                       {</div>
<div class="line"><span class="lineno">  287</span>         <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#a7c7ccb0852100b5ab21daef4ac3133cc">start_maintenance_thread</a>( std::move(log) );</div>
<div class="line"><span class="lineno">  288</span>      }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_a7c7ccb0852100b5ab21daef4ac3133cc"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#a7c7ccb0852100b5ab21daef4ac3133cc">sysio::trace_api::slice_directory::start_maintenance_thread</a></div><div class="ttdeci">void start_maintenance_thread(log_handler log)</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00299">store_provider.cpp:299</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_afbe277e7852b60426b1cad9b7fb81c4a_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_afbe277e7852b60426b1cad9b7fb81c4a_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_afbe277e7852b60426b1cad9b7fb81c4a_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_afbe277e7852b60426b1cad9b7fb81c4a_cgraph">
<area shape="rect" title=" " alt="" coords="5,233,195,289"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a7c7ccb0852100b5ab21daef4ac3133cc" title=" " alt="" coords="243,233,436,289"/>
<area shape="poly" title=" " alt="" coords="195,258,227,258,227,264,195,264"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="574,191,619,216"/>
<area shape="poly" title=" " alt="" coords="436,237,558,209,559,214,437,242"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a8b15d66d020bfc67d541e6cf09404ab9" title=" " alt="" coords="484,241,708,281"/>
<area shape="poly" title=" " alt="" coords="436,258,468,258,468,264,436,264"/>
<area shape="rect" href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595" title=" " alt="" coords="516,305,677,331"/>
<area shape="poly" title=" " alt="" coords="437,280,521,299,520,304,436,285"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a79cb70775a7aa5e99311529fa6ce30a2" title=" " alt="" coords="760,269,945,325"/>
<area shape="poly" title=" " alt="" coords="709,274,745,279,744,284,708,279"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#aa8fdc6fcd3d18c76b517d65b6ea56bef" title=" " alt="" coords="763,205,942,245"/>
<area shape="poly" title=" " alt="" coords="708,242,747,237,748,242,709,248"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a314838e3f2122e4bcc7f1279b78f7d0c" title=" " alt="" coords="764,74,941,115"/>
<area shape="poly" title=" " alt="" coords="690,238,707,227,718,215,724,203,730,178,736,152,743,139,754,126,760,121,763,125,758,130,747,142,741,154,735,179,729,205,722,218,710,231,693,242"/>
<area shape="rect" href="classfc_1_1path.html#ab1eae2062df4ea01435348ec52fb3784" title=" " alt="" coords="1402,244,1557,270"/>
<area shape="poly" title=" " alt="" coords="693,238,706,227,721,207,728,186,727,143,726,121,728,100,737,79,755,60,812,24,865,7,916,3,967,10,1076,35,1138,46,1208,50,1250,46,1284,38,1317,37,1335,41,1356,51,1380,68,1401,88,1435,137,1459,187,1473,228,1468,230,1454,189,1431,139,1397,92,1377,72,1353,55,1334,46,1316,42,1285,43,1251,51,1208,56,1137,52,1075,41,966,15,916,9,866,12,814,29,758,64,741,82,733,101,731,121,733,143,733,187,726,209,710,231,696,242"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#afd4f092c1fd16893e6d0a8cc06a40ea4" title=" " alt="" coords="762,139,943,180"/>
<area shape="poly" title=" " alt="" coords="681,237,707,227,731,209,755,191,769,184,771,189,758,195,734,213,710,231,683,242"/>
<area shape="rect" href="classfc_1_1cfile.html#aba9b5dcf06d12cc653b8eb4224351ff7" title=" " alt="" coords="1208,596,1354,622"/>
<area shape="poly" title=" " alt="" coords="695,279,710,291,725,309,734,328,740,364,743,401,748,420,759,441,810,518,857,574,884,597,915,617,998,656,1041,669,1077,671,1114,665,1159,656,1202,643,1241,626,1243,631,1204,648,1161,661,1114,670,1077,676,1040,674,996,661,912,622,881,601,854,578,806,521,754,444,743,422,737,402,734,364,729,329,721,312,706,295,692,284"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1compressed__file.html#ab13021e139e2ee1be1e38e84499810e2" title=" " alt="" coords="756,390,949,431"/>
<area shape="poly" title=" " alt="" coords="686,279,710,291,735,311,758,335,813,378,809,382,755,339,732,315,707,295,683,284"/>
<area shape="rect" href="classfc_1_1path.html#af7de3b21cee1e93c7496e480181e7af2" title=" " alt="" coords="763,721,942,747"/>
<area shape="poly" title=" " alt="" coords="698,280,710,291,729,318,742,344,749,370,752,396,748,447,736,497,724,547,720,598,722,623,729,649,740,674,758,701,770,711,766,715,754,704,736,677,724,650,717,624,714,598,719,547,731,496,743,446,747,396,744,371,737,346,725,320,706,295,694,284"/>
<area shape="rect" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485" title=" " alt="" coords="1041,221,1116,247"/>
<area shape="poly" title=" " alt="" coords="945,269,1025,246,1026,251,946,274"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#a47a30741cf28932df1556209da63b227" title=" " alt="" coords="997,157,1160,197"/>
<area shape="poly" title=" " alt="" coords="927,266,947,255,961,243,971,231,980,219,995,207,1002,203,1005,207,998,211,984,223,975,234,965,247,950,259,930,271"/>
<area shape="poly" title=" " alt="" coords="942,203,981,195,982,200,943,208"/>
<area shape="poly" title=" " alt="" coords="915,113,950,125,1010,148,1009,153,948,130,913,118"/>
<area shape="rect" href="classfc_1_1cfile.html#a6eb4fe4530480f13c6cf773a7f1e3847" title=" " alt="" coords="1231,65,1331,91"/>
<area shape="poly" title=" " alt="" coords="941,88,1215,78,1216,83,942,94"/>
<area shape="rect" href="classfc_1_1cfile.html#a29badc2b6c1f589d0c79b20ce31cacf0" title=" " alt="" coords="1014,107,1142,132"/>
<area shape="poly" title=" " alt="" coords="942,102,999,108,998,113,941,107"/>
<area shape="poly" title=" " alt="" coords="1305,89,1356,127,1413,181,1459,231,1455,234,1409,185,1353,131,1302,94"/>
<area shape="poly" title=" " alt="" coords="1144,126,1244,145,1301,161,1355,180,1406,205,1449,233,1446,237,1403,210,1353,185,1299,166,1243,151,1143,131"/>
<area shape="poly" title=" " alt="" coords="944,164,981,167,981,172,943,169"/>
<area shape="poly" title=" " alt="" coords="943,141,998,131,999,136,944,146"/>
<area shape="poly" title=" " alt="" coords="885,387,916,364,947,335,961,314,968,294,977,275,995,256,1025,241,1027,246,998,260,982,278,973,297,965,317,951,339,920,368,888,392"/>
<area shape="poly" title=" " alt="" coords="901,429,990,461,1046,476,1106,488,1170,494,1233,492,1295,480,1353,456,1376,440,1397,420,1430,373,1453,325,1468,284,1473,286,1458,327,1435,376,1401,424,1380,444,1356,461,1297,485,1234,497,1170,499,1106,493,1045,481,988,466,899,434"/>
<area shape="rect" href="classfc_1_1cfile.html#a25b3bbb8ed2f690b750a197380153985" title=" " alt="" coords="1027,571,1130,596"/>
<area shape="poly" title=" " alt="" coords="870,429,922,493,958,527,998,557,1013,565,1011,570,995,562,954,532,918,496,866,433"/>
<area shape="rect" href="namespacefc.html#aae3e907b120751591ca6919ac66c384b" title=" " alt="" coords="1034,620,1122,646"/>
<area shape="poly" title=" " alt="" coords="865,430,885,468,914,516,952,565,998,607,1021,618,1018,623,995,611,948,568,910,519,880,471,861,432"/>
<area shape="rect" href="classfc_1_1cfile.html#a9e01adaeee108420312ed271133a2d7d" title=" " alt="" coords="1028,320,1128,346"/>
<area shape="poly" title=" " alt="" coords="907,387,996,354,1015,348,1017,353,998,359,908,392"/>
<area shape="rect" href="classfc_1_1cfile.html#a247250a28d17544a57dfafe07012d27b" title=" " alt="" coords="1030,369,1127,395"/>
<area shape="poly" title=" " alt="" coords="949,396,1014,387,1015,393,949,401"/>
<area shape="rect" href="classfc_1_1cfile.html#ac4a0191d7846c07a907d3c7eb35e848d" title=" " alt="" coords="1005,271,1152,296"/>
<area shape="poly" title=" " alt="" coords="879,387,941,341,995,305,1008,300,1010,305,998,310,944,345,882,392"/>
<area shape="rect" href="classfc_1_1cfile.html#abc92fc8d64550b772a69ca1b63f75bfb" title=" " alt="" coords="1030,521,1126,547"/>
<area shape="poly" title=" " alt="" coords="884,429,936,464,998,500,1026,513,1024,518,995,505,933,468,881,433"/>
<area shape="rect" href="classfc_1_1cfile.html#af6ad44b8179f355db75a9d01de931235" title=" " alt="" coords="1231,420,1331,446"/>
<area shape="poly" title=" " alt="" coords="949,413,1216,427,1215,432,949,418"/>
<area shape="poly" title=" " alt="" coords="1128,321,1392,271,1393,276,1129,326"/>
<area shape="rect" href="classfc_1_1cfile.html#a3b11f29f74860527a8bba66e4ae0317d" title=" " alt="" coords="1230,219,1333,244"/>
<area shape="poly" title=" " alt="" coords="1128,320,1159,307,1173,296,1182,285,1192,274,1206,261,1229,249,1231,253,1210,266,1196,277,1186,289,1177,300,1161,311,1130,325"/>
<area shape="poly" title=" " alt="" coords="1334,236,1387,242,1386,248,1333,241"/>
<area shape="poly" title=" " alt="" coords="1248,220,1241,210,1245,200,1259,194,1281,192,1306,195,1318,202,1315,206,1304,200,1281,197,1260,199,1249,204,1247,210,1252,217"/>
<area shape="poly" title=" " alt="" coords="1127,371,1232,347,1353,312,1439,275,1441,280,1355,317,1233,352,1128,376"/>
<area shape="rect" href="classfc_1_1cfile.html#a4220f191fda28a149727bc15c34c8bc5" title=" " alt="" coords="1236,371,1326,396"/>
<area shape="poly" title=" " alt="" coords="1128,380,1220,381,1220,386,1128,385"/>
<area shape="poly" title=" " alt="" coords="1128,545,1161,556,1238,587,1236,592,1159,561,1126,550"/>
<area shape="poly" title=" " alt="" coords="1331,418,1353,407,1387,378,1417,344,1461,282,1465,285,1422,348,1391,382,1356,411,1333,423"/>
</map>
</div>

</div>
</div>
<a id="a68fc753ce45ab78178d7c2625a932e42" name="a68fc753ce45ab78178d7c2625a932e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68fc753ce45ab78178d7c2625a932e42">&#9670;&#160;</a></span>stop_maintenance_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::stop_maintenance_thread </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00289">289</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>                                     {</div>
<div class="line"><span class="lineno">  290</span>         <a class="code hl_variable" href="#ae684bf4119be3e3464e2d5bc4183b12b">_slice_directory</a>.<a class="code hl_function" href="classsysio_1_1trace__api_1_1slice__directory.html#ad847f59ef5d63042406e109f2fd836a6">stop_maintenance_thread</a>();</div>
<div class="line"><span class="lineno">  291</span>      }</div>
<div class="ttc" id="aclasssysio_1_1trace__api_1_1slice__directory_html_ad847f59ef5d63042406e109f2fd836a6"><div class="ttname"><a href="classsysio_1_1trace__api_1_1slice__directory.html#ad847f59ef5d63042406e109f2fd836a6">sysio::trace_api::slice_directory::stop_maintenance_thread</a></div><div class="ttdeci">void stop_maintenance_thread()</div><div class="ttdef"><b>Definition</b> <a href="store__provider_8cpp_source.html#l00329">store_provider.cpp:329</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1trace__api_1_1store__provider_a68fc753ce45ab78178d7c2625a932e42_cgraph.png" border="0" usemap="#aclasssysio_1_1trace__api_1_1store__provider_a68fc753ce45ab78178d7c2625a932e42_cgraph" alt=""/></div>
<map name="aclasssysio_1_1trace__api_1_1store__provider_a68fc753ce45ab78178d7c2625a932e42_cgraph" id="aclasssysio_1_1trace__api_1_1store__provider_a68fc753ce45ab78178d7c2625a932e42_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,194,61"/>
<area shape="rect" href="classsysio_1_1trace__api_1_1slice__directory.html#ad847f59ef5d63042406e109f2fd836a6" title=" " alt="" coords="242,5,434,61"/>
<area shape="poly" title=" " alt="" coords="194,30,226,30,226,36,194,36"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="482,20,527,46"/>
<area shape="poly" title=" " alt="" coords="435,30,466,30,466,36,435,36"/>
</map>
</div>

</div>
</div>
<a id="a838c5cc7c844bc603c538fbdc06e089f" name="a838c5cc7c844bc603c538fbdc06e089f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838c5cc7c844bc603c538fbdc06e089f">&#9670;&#160;</a></span>validate_existing_index_slice_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::trace_api::store_provider::validate_existing_index_slice_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfc_1_1cfile.html">fc::cfile</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html#a532effe653319aa639caa41b48709ae0">open_state</a></td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ensure an existing index slice has a valid header </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>: index file to open and read header from </td></tr>
    <tr><td class="paramname">state</td><td>: indicate if the file is going to be written to (appended) or read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae684bf4119be3e3464e2d5bc4183b12b" name="ae684bf4119be3e3464e2d5bc4183b12b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae684bf4119be3e3464e2d5bc4183b12b">&#9670;&#160;</a></span>_slice_directory</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1trace__api_1_1slice__directory.html">slice_directory</a> sysio::trace_api::store_provider::_slice_directory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store__provider_8hpp_source.html#l00378">378</a> of file <a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>plugins/trace_api_plugin/include/sysio/trace_api/<a class="el" href="store__provider_8hpp_source.html">store_provider.hpp</a></li>
<li>plugins/trace_api_plugin/<a class="el" href="store__provider_8cpp_source.html">store_provider.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1trace__api.html">trace_api</a></li><li class="navelem"><a class="el" href="classsysio_1_1trace__api_1_1store__provider.html">store_provider</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
