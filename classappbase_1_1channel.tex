\doxysection{appbase\+::channel\texorpdfstring{$<$}{<} Data, Dispatch\+Policy \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classappbase_1_1channel}{}\label{classappbase_1_1channel}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}


{\ttfamily \#include $<$channel.\+hpp$>$}

\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classappbase_1_1channel_1_1handle}{handle}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classappbase_1_1channel_ab30c2df14ba63cb006d8c52b48d19e3b}{publish}} (int \mbox{\hyperlink{structappbase_1_1priority}{priority}}, const \mbox{\hyperlink{struct_data}{Data}} \&data)
\item 
{\footnotesize template$<$typename Callback $>$ }\\\mbox{\hyperlink{classappbase_1_1channel_1_1handle}{handle}} \mbox{\hyperlink{classappbase_1_1channel_a99ecd001a45a00bb653f8b07df55967f}{subscribe}} (Callback cb)
\item 
auto \mbox{\hyperlink{classappbase_1_1channel_ae24745e03b784f9e625443962f1f04c5}{set\+\_\+dispatcher}} (const Dispatch\+Policy \&policy) -\/$>$ std\+::enable\+\_\+if\+\_\+t$<$ std\+::is\+\_\+copy\+\_\+constructible$<$ Dispatch\+Policy $>$\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{\+::value}}, void $>$
\item 
bool \mbox{\hyperlink{classappbase_1_1channel_acb8faa0856a32c8b9e04a864544696ed}{has\+\_\+subscribers}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{yubihsm__pkcs11_8c_a5c230edcb923568000cb7982cf84dfce}{class}} \mbox{\hyperlink{classappbase_1_1channel_a9e2f411dc2cf5784cc01a89c488b4056}{appbase\+::application}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename \mbox{\hyperlink{struct_data}{Data}}, typename Dispatch\+Policy$>$\newline
class appbase\+::channel$<$ Data, Dispatch\+Policy $>$}
\doxylink{struct_a}{A} channel is a loosely bound asynchronous data pub/sub concept.

This removes the need to tightly couple different plugins in the application for the use-\/case of sending data around

\doxylink{struct_data}{Data} passed to a channel is {\itshape copied}, consider using a shared\+\_\+ptr if the use-\/case allows it


\begin{DoxyTemplParams}{Template Parameters}
{\em \doxylink{struct_data}{Data}} & -\/ the type of data to publish \\
\hline
\end{DoxyTemplParams}


Definition at line \mbox{\hyperlink{channel_8hpp_source_l00047}{47}} of file \mbox{\hyperlink{channel_8hpp_source}{channel.\+hpp}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classappbase_1_1channel_acb8faa0856a32c8b9e04a864544696ed}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}!has\_subscribers@{has\_subscribers}}
\index{has\_subscribers@{has\_subscribers}!appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}
\doxysubsubsection{\texorpdfstring{has\_subscribers()}{has\_subscribers()}}
{\footnotesize\ttfamily \label{classappbase_1_1channel_acb8faa0856a32c8b9e04a864544696ed} 
template$<$typename \mbox{\hyperlink{struct_data}{Data}} , typename Dispatch\+Policy $>$ \\
bool \mbox{\hyperlink{classappbase_1_1channel}{appbase\+::channel}}$<$ \mbox{\hyperlink{struct_data}{Data}}, Dispatch\+Policy $>$\+::has\+\_\+subscribers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Returns whether or not there are subscribers 

Definition at line \mbox{\hyperlink{channel_8hpp_source_l00129}{129}} of file \mbox{\hyperlink{channel_8hpp_source}{channel.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ connections\ =\ \_signal.num\_slots();}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ connections\ >\ 0;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classappbase_1_1channel_ab30c2df14ba63cb006d8c52b48d19e3b}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}!publish@{publish}}
\index{publish@{publish}!appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}
\doxysubsubsection{\texorpdfstring{publish()}{publish()}}
{\footnotesize\ttfamily \label{classappbase_1_1channel_ab30c2df14ba63cb006d8c52b48d19e3b} 
template$<$typename \mbox{\hyperlink{struct_data}{Data}} , typename Dispatch\+Policy $>$ \\
void \mbox{\hyperlink{classappbase_1_1channel}{appbase\+::channel}}$<$ \mbox{\hyperlink{struct_data}{Data}}, Dispatch\+Policy $>$\+::publish (\begin{DoxyParamCaption}\item[{int}]{priority}{, }\item[{const \mbox{\hyperlink{struct_data}{Data}} \&}]{data}{}\end{DoxyParamCaption})}

Publish data to a channel. This data is {\itshape copied} on publish. 
\begin{DoxyParams}{Parameters}
{\em priority} & -\/ the priority to use for post \\
\hline
{\em data} & -\/ the data to publish \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{application_8hpp_source_l00335}{335}} of file \mbox{\hyperlink{application_8hpp_source}{application.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classappbase_1_1channel_acb8faa0856a32c8b9e04a864544696ed}{has\_subscribers}}())\ \{}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ will\ copy\ data\ into\ the\ lambda}}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a77aff91b861010fd61a616c59b310dcc}{post}}(\ priority,\ [\textcolor{keyword}{this},\ data]()\ \{}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \_signal(data);}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00342\ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classappbase_1_1channel_ab30c2df14ba63cb006d8c52b48d19e3b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{classappbase_1_1channel_ab30c2df14ba63cb006d8c52b48d19e3b_icgraph}
\end{center}
\end{figure}
\Hypertarget{classappbase_1_1channel_ae24745e03b784f9e625443962f1f04c5}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}!set\_dispatcher@{set\_dispatcher}}
\index{set\_dispatcher@{set\_dispatcher}!appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}
\doxysubsubsection{\texorpdfstring{set\_dispatcher()}{set\_dispatcher()}}
{\footnotesize\ttfamily \label{classappbase_1_1channel_ae24745e03b784f9e625443962f1f04c5} 
template$<$typename \mbox{\hyperlink{struct_data}{Data}} , typename Dispatch\+Policy $>$ \\
auto \mbox{\hyperlink{classappbase_1_1channel}{appbase\+::channel}}$<$ \mbox{\hyperlink{struct_data}{Data}}, Dispatch\+Policy $>$\+::set\+\_\+dispatcher (\begin{DoxyParamCaption}\item[{const Dispatch\+Policy \&}]{policy}{}\end{DoxyParamCaption}) -\/$>$ std\+::enable\+\_\+if\+\_\+t$<$std\+::is\+\_\+copy\+\_\+constructible$<$Dispatch\+Policy$>$\mbox{\hyperlink{pkcs11_8h_a32aff7c6c4cd253fdf6563677afab5ce}{\+::value}},void$>$          \hspace{0.3cm}{\ttfamily [inline]}}

set the dispatcher according to the Dispatch\+Policy this can be used to set a stateful dispatcher

This method is only available when the Dispatch\+Policy is copy constructible due to implementation details


\begin{DoxyParams}{Parameters}
{\em policy} & -\/ the Dispatch\+Policy to copy \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{channel_8hpp_source_l00121}{121}} of file \mbox{\hyperlink{channel_8hpp_source}{channel.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \_signal.set\_combiner(policy);}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classappbase_1_1channel_a99ecd001a45a00bb653f8b07df55967f}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}!subscribe@{subscribe}}
\index{subscribe@{subscribe}!appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}
\doxysubsubsection{\texorpdfstring{subscribe()}{subscribe()}}
{\footnotesize\ttfamily \label{classappbase_1_1channel_a99ecd001a45a00bb653f8b07df55967f} 
template$<$typename \mbox{\hyperlink{struct_data}{Data}} , typename Dispatch\+Policy $>$ \\
template$<$typename Callback $>$ \\
\mbox{\hyperlink{classappbase_1_1channel_1_1handle}{handle}} \mbox{\hyperlink{classappbase_1_1channel}{appbase\+::channel}}$<$ \mbox{\hyperlink{struct_data}{Data}}, Dispatch\+Policy $>$\+::subscribe (\begin{DoxyParamCaption}\item[{Callback}]{cb}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

subscribe to data on a channel 
\begin{DoxyTemplParams}{Template Parameters}
{\em Callback} & the type of the callback (functor\texorpdfstring{$\vert$}{|}lambda) \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em cb} & the callback \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
handle to the subscription 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{channel_8hpp_source_l00109}{109}} of file \mbox{\hyperlink{channel_8hpp_source}{channel.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handle(\_signal.connect(cb));}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Symbol Documentation}
\Hypertarget{classappbase_1_1channel_a9e2f411dc2cf5784cc01a89c488b4056}\index{appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}!appbase::application@{appbase::application}}
\index{appbase::application@{appbase::application}!appbase::channel$<$ Data, DispatchPolicy $>$@{appbase::channel$<$ Data, DispatchPolicy $>$}}
\doxysubsubsection{\texorpdfstring{appbase::application}{appbase::application}}
{\footnotesize\ttfamily \label{classappbase_1_1channel_a9e2f411dc2cf5784cc01a89c488b4056} 
template$<$typename \mbox{\hyperlink{struct_data}{Data}} , typename Dispatch\+Policy $>$ \\
friend \mbox{\hyperlink{yubihsm__pkcs11_8c_a5c230edcb923568000cb7982cf84dfce}{class}} \mbox{\hyperlink{classappbase_1_1application}{appbase\+::application}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line \mbox{\hyperlink{channel_8hpp_source_l00173}{173}} of file \mbox{\hyperlink{channel_8hpp_source}{channel.\+hpp}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
libraries/appbase/include/appbase/\mbox{\hyperlink{channel_8hpp}{channel.\+hpp}}\item 
libraries/appbase/include/appbase/\mbox{\hyperlink{application_8hpp}{application.\+hpp}}\end{DoxyCompactItemize}
