<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: websocketpp::extensions::permessage_deflate::enabled&lt; config &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">websocketpp::extensions::permessage_deflate::enabled&lt; config &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f0008a567db57dd73f3233ebe54086f" id="r_a3f0008a567db57dd73f3233ebe54086f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f0008a567db57dd73f3233ebe54086f">enabled</a> ()</td></tr>
<tr class="separator:a3f0008a567db57dd73f3233ebe54086f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c3a9af501b48f3cf946a84aa8a88bb" id="r_aa0c3a9af501b48f3cf946a84aa8a88bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0c3a9af501b48f3cf946a84aa8a88bb">~enabled</a> ()</td></tr>
<tr class="separator:aa0c3a9af501b48f3cf946a84aa8a88bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d842cb0cd2add8016e739dfcd675ba0" id="r_a0d842cb0cd2add8016e739dfcd675ba0"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d842cb0cd2add8016e739dfcd675ba0">init</a> (bool is_server)</td></tr>
<tr class="memdesc:a0d842cb0cd2add8016e739dfcd675ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize zlib state.  <br /></td></tr>
<tr class="separator:a0d842cb0cd2add8016e739dfcd675ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a196b1428865e739fe99e951f03e68" id="r_a76a196b1428865e739fe99e951f03e68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76a196b1428865e739fe99e951f03e68">is_implemented</a> () const</td></tr>
<tr class="memdesc:a76a196b1428865e739fe99e951f03e68"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> if this object implements the permessage-deflate specification.  <br /></td></tr>
<tr class="separator:a76a196b1428865e739fe99e951f03e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5190a82b1571a94704cef6959ed78ce2" id="r_a5190a82b1571a94704cef6959ed78ce2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5190a82b1571a94704cef6959ed78ce2">is_enabled</a> () const</td></tr>
<tr class="memdesc:a5190a82b1571a94704cef6959ed78ce2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> if the extension was negotiated for this connection.  <br /></td></tr>
<tr class="separator:a5190a82b1571a94704cef6959ed78ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9275c22cfd6782ef72a722168d663d8b" id="r_a9275c22cfd6782ef72a722168d663d8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9275c22cfd6782ef72a722168d663d8b">enable_server_no_context_takeover</a> ()</td></tr>
<tr class="memdesc:a9275c22cfd6782ef72a722168d663d8b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_reset.html">Reset</a> server's outgoing LZ77 sliding window for each new message.  <br /></td></tr>
<tr class="separator:a9275c22cfd6782ef72a722168d663d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e8e0200cab9dd276842ce9ecbd6639" id="r_a21e8e0200cab9dd276842ce9ecbd6639"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21e8e0200cab9dd276842ce9ecbd6639">enable_client_no_context_takeover</a> ()</td></tr>
<tr class="memdesc:a21e8e0200cab9dd276842ce9ecbd6639"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_reset.html">Reset</a> client's outgoing LZ77 sliding window for each new message.  <br /></td></tr>
<tr class="separator:a21e8e0200cab9dd276842ce9ecbd6639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f1bd776c26b4d54afaceded1841394" id="r_ac2f1bd776c26b4d54afaceded1841394"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2f1bd776c26b4d54afaceded1841394">set_server_max_window_bits</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits, <a class="el" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> mode)</td></tr>
<tr class="memdesc:ac2f1bd776c26b4d54afaceded1841394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit server LZ77 sliding window size.  <br /></td></tr>
<tr class="separator:ac2f1bd776c26b4d54afaceded1841394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfcf29752865c0e9c8e8092ee21b5af" id="r_a5bfcf29752865c0e9c8e8092ee21b5af"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5bfcf29752865c0e9c8e8092ee21b5af">set_client_max_window_bits</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> bits, <a class="el" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a> mode)</td></tr>
<tr class="memdesc:a5bfcf29752865c0e9c8e8092ee21b5af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Limit client LZ77 sliding window size.  <br /></td></tr>
<tr class="separator:a5bfcf29752865c0e9c8e8092ee21b5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc342a368792f5beee8dddbbc5981846" id="r_adc342a368792f5beee8dddbbc5981846"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc342a368792f5beee8dddbbc5981846">generate_offer</a> () const</td></tr>
<tr class="memdesc:adc342a368792f5beee8dddbbc5981846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate extension offer.  <br /></td></tr>
<tr class="separator:adc342a368792f5beee8dddbbc5981846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf45724e34c174a0b8a5166192f659de" id="r_acf45724e34c174a0b8a5166192f659de"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf45724e34c174a0b8a5166192f659de">validate_offer</a> (http::attribute_list const &amp;)</td></tr>
<tr class="memdesc:acf45724e34c174a0b8a5166192f659de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate extension response.  <br /></td></tr>
<tr class="separator:acf45724e34c174a0b8a5166192f659de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05eda4f6a0231c13708445480181ff4" id="r_aa05eda4f6a0231c13708445480181ff4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">err_str_pair</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa05eda4f6a0231c13708445480181ff4">negotiate</a> (http::attribute_list const &amp;offer)</td></tr>
<tr class="memdesc:aa05eda4f6a0231c13708445480181ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Negotiate extension.  <br /></td></tr>
<tr class="separator:aa05eda4f6a0231c13708445480181ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3002ea83fbc0066f9ecf23b4be082365" id="r_a3002ea83fbc0066f9ecf23b4be082365"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3002ea83fbc0066f9ecf23b4be082365">compress</a> (std::string const &amp;in, std::string &amp;out)</td></tr>
<tr class="memdesc:a3002ea83fbc0066f9ecf23b4be082365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress bytes.  <br /></td></tr>
<tr class="separator:a3002ea83fbc0066f9ecf23b4be082365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55efd7772443eaf07435042a146cc5f7" id="r_a55efd7772443eaf07435042a146cc5f7"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55efd7772443eaf07435042a146cc5f7">decompress</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *<a class="el" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, std::string &amp;out)</td></tr>
<tr class="memdesc:a55efd7772443eaf07435042a146cc5f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompress bytes.  <br /></td></tr>
<tr class="separator:a55efd7772443eaf07435042a146cc5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename <a class="el" href="classconfig.html">config</a>&gt;<br />
class websocketpp::extensions::permessage_deflate::enabled&lt; config &gt;</div>
<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00205">205</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3f0008a567db57dd73f3233ebe54086f" name="a3f0008a567db57dd73f3233ebe54086f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f0008a567db57dd73f3233ebe54086f">&#9670;&#160;</a></span>enabled()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00207">207</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>      : m_enabled(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  209</span>      , m_server_no_context_takeover(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  210</span>      , m_client_no_context_takeover(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  211</span>      , m_server_max_window_bits(15)</div>
<div class="line"><span class="lineno">  212</span>      , m_client_max_window_bits(15)</div>
<div class="line"><span class="lineno">  213</span>      , m_server_max_window_bits_mode(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">mode::accept</a>)</div>
<div class="line"><span class="lineno">  214</span>      , m_client_max_window_bits_mode(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">mode::accept</a>)</div>
<div class="line"><span class="lineno">  215</span>      , m_initialized(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  216</span>      , m_compress_buffer_size(16384)</div>
<div class="line"><span class="lineno">  217</span>    {</div>
<div class="line"><span class="lineno">  218</span>        m_dstate.zalloc = Z_NULL;</div>
<div class="line"><span class="lineno">  219</span>        m_dstate.zfree = Z_NULL;</div>
<div class="line"><span class="lineno">  220</span>        m_dstate.opaque = Z_NULL;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        m_istate.zalloc = Z_NULL;</div>
<div class="line"><span class="lineno">  223</span>        m_istate.zfree = Z_NULL;</div>
<div class="line"><span class="lineno">  224</span>        m_istate.opaque = Z_NULL;</div>
<div class="line"><span class="lineno">  225</span>        m_istate.avail_in = 0;</div>
<div class="line"><span class="lineno">  226</span>        m_istate.next_in = Z_NULL;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode_html_ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120ac001b9dafe12f8f4f812588d9c41e9da">websocketpp::extensions::permessage_deflate::mode::accept</a></div><div class="ttdeci">@ accept</div><div class="ttdoc">Accept any value the remote endpoint offers.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00194">enabled.hpp:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0c3a9af501b48f3cf946a84aa8a88bb" name="aa0c3a9af501b48f3cf946a84aa8a88bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c3a9af501b48f3cf946a84aa8a88bb">&#9670;&#160;</a></span>~enabled()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::~<a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">enabled</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00229">229</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>               {</div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><span class="lineno">  231</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  232</span>        }</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = deflateEnd(&amp;m_dstate);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><span class="lineno">  237</span>            <span class="comment">//std::cout &lt;&lt; &quot;error cleaning up zlib compression state&quot;</span></div>
<div class="line"><span class="lineno">  238</span>            <span class="comment">//          &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflateEnd(&amp;m_istate);</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><span class="lineno">  244</span>            <span class="comment">//std::cout &lt;&lt; &quot;error cleaning up zlib decompression state&quot;</span></div>
<div class="line"><span class="lineno">  245</span>            <span class="comment">//          &lt;&lt; std::endl;</span></div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a3d854b6efad16a16e4d7b4539d4fc71f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a></div><div class="ttdeci">CK_RV ret</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00973">yubihsm_pkcs11.c:973</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3002ea83fbc0066f9ecf23b4be082365" name="a3002ea83fbc0066f9ecf23b4be082365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3002ea83fbc0066f9ecf23b4be082365">&#9670;&#160;</a></span>compress()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::compress </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo</a></b></dt><dd>: avail_in/out is 32 bit, need to fix for cases of &gt;32 bit frames on 64 bit machines.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in</td><td>String to compress </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out</td><td>String to append compressed bytes to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error or status code </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00506">506</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  506</span>                                                                  {</div>
<div class="line"><span class="lineno">  507</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><span class="lineno">  508</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">error::uninitialized</a>);</div>
<div class="line"><span class="lineno">  509</span>        }</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordtype">size_t</span> output;</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">if</span> (in.empty()) {</div>
<div class="line"><span class="lineno">  514</span>            <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[6] = {0x02, 0x00, 0x00, 0x00, 0xff, 0xff};</div>
<div class="line"><span class="lineno">  515</span>            out.append((<span class="keywordtype">char</span> *)(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>),6);</div>
<div class="line"><span class="lineno">  516</span>            <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  517</span>        }</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>        m_dstate.avail_in = in.size();</div>
<div class="line"><span class="lineno">  520</span>        m_dstate.next_in = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)(<span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(in.data()));</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  523</span>            <span class="comment">// Output to local buffer</span></div>
<div class="line"><span class="lineno">  524</span>            m_dstate.avail_out = m_compress_buffer_size;</div>
<div class="line"><span class="lineno">  525</span>            m_dstate.next_out = m_compress_buffer.get();</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>            deflate(&amp;m_dstate, m_flush);</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>            output = m_compress_buffer_size - m_dstate.avail_out;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>            out.append((<span class="keywordtype">char</span> *)(m_compress_buffer.get()),output);</div>
<div class="line"><span class="lineno">  532</span>        } <span class="keywordflow">while</span> (m_dstate.avail_out == 0);</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  535</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">websocketpp::extensions::permessage_deflate::error::uninitialized</a></div><div class="ttdeci">@ uninitialized</div><div class="ttdoc">Uninitialized.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00114">enabled.hpp:114</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a855e99b645b13e7905d074d02fe0bff5"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a></div><div class="ttdeci">uint8_t buf[2048]</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04770">yubihsm_pkcs11.c:4770</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55efd7772443eaf07435042a146cc5f7" name="a55efd7772443eaf07435042a146cc5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55efd7772443eaf07435042a146cc5f7">&#9670;&#160;</a></span>decompress()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::decompress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> const *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>out</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Byte buffer to decompress </td></tr>
    <tr><td class="paramname">len</td><td>Length of buf </td></tr>
    <tr><td class="paramname">out</td><td>String to append decompressed bytes to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error or status code </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00544">544</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>    {</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> (!m_initialized) {</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eaa7d37064915d0ef64357e41763b42b7e">error::uninitialized</a>);</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>        m_istate.avail_in = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>;</div>
<div class="line"><span class="lineno">  554</span>        m_istate.next_in = <span class="keyword">const_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  557</span>            m_istate.avail_out = m_compress_buffer_size;</div>
<div class="line"><span class="lineno">  558</span>            m_istate.next_out = m_compress_buffer.get();</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflate(&amp;m_istate, Z_SYNC_FLUSH);</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_NEED_DICT || <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_DATA_ERROR || <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> == Z_MEM_ERROR) {</div>
<div class="line"><span class="lineno">  563</span>                <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><span class="lineno">  564</span>            }</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>            out.append(</div>
<div class="line"><span class="lineno">  567</span>                <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(m_compress_buffer.get()),</div>
<div class="line"><span class="lineno">  568</span>                m_compress_buffer_size - m_istate.avail_out</div>
<div class="line"><span class="lineno">  569</span>            );</div>
<div class="line"><span class="lineno">  570</span>        } <span class="keywordflow">while</span> (m_istate.avail_out == 0);</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  573</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">websocketpp::extensions::permessage_deflate::error::zlib_error</a></div><div class="ttdeci">@ zlib_error</div><div class="ttdoc">ZLib Error.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00111">enabled.hpp:111</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04771">yubihsm_pkcs11.c:4771</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21e8e0200cab9dd276842ce9ecbd6639" name="a21e8e0200cab9dd276842ce9ecbd6639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e8e0200cab9dd276842ce9ecbd6639">&#9670;&#160;</a></span>enable_client_no_context_takeover()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::enable_client_no_context_takeover </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enabling this setting will cause the client's compressor to reset the compression state (the LZ77 sliding window) for every message. This means that the compressor will not look back to patterns in previous messages to improve compression. This will reduce the compression efficiency for large messages somewhat and small messages drastically.</p>
<p>This option may reduce client compressor memory usage and server decompressor memory usage. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo</a></b></dt><dd>Document to what extent memory usage will be reduced</dd></dl>
<p>This option is supported by all compliant clients and servers. Enabling it via either endpoint should be sufficient to ensure it is used. </p>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00367">367</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>                                             {</div>
<div class="line"><span class="lineno">  368</span>        m_client_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  369</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9275c22cfd6782ef72a722168d663d8b" name="a9275c22cfd6782ef72a722168d663d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9275c22cfd6782ef72a722168d663d8b">&#9670;&#160;</a></span>enable_server_no_context_takeover()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::enable_server_no_context_takeover </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Enabling this setting will cause the server's compressor to reset the compression state (the LZ77 sliding window) for every message. This means that the compressor will not look back to patterns in previous messages to improve compression. This will reduce the compression efficiency for large messages somewhat and small messages drastically.</p>
<p>This option may reduce server compressor memory usage and client decompressor memory usage. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo</a></b></dt><dd>Document to what extent memory usage will be reduced</dd></dl>
<p>For clients, this option is dependent on server support. Enabling it via this method does not guarantee that it will be successfully negotiated, only that it will be requested.</p>
<p>For servers, no client support is required. Enabling this option on a server will result in its use. The server will signal to clients that the option will be in use so they can optimize resource usage if they are able. </p>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00348">348</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  348</span>                                             {</div>
<div class="line"><span class="lineno">  349</span>        m_server_no_context_takeover = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc342a368792f5beee8dddbbc5981846" name="adc342a368792f5beee8dddbbc5981846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc342a368792f5beee8dddbbc5981846">&#9670;&#160;</a></span>generate_offer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::generate_offer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an offer string to include in the Sec-WebSocket-Extensions header of outgoing client requests.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> WebSocket extension offer string for this extension </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00441">441</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  441</span>                                     {</div>
<div class="line"><span class="lineno">  442</span>        <span class="comment">// TODO: this should be dynamically generated based on user settings</span></div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;permessage-deflate; client_no_context_takeover; client_max_window_bits&quot;</span>;</div>
<div class="line"><span class="lineno">  444</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d842cb0cd2add8016e739dfcd675ba0" name="a0d842cb0cd2add8016e739dfcd675ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d842cb0cd2add8016e739dfcd675ba0">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::init </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_server</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Note: this should be called <em>after</em> the negotiation methods. It will use information from the negotiation to determine how to initialize the zlib data structures.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo</a></b></dt><dd>memory level, strategy, etc are hardcoded</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_server</td><td>True to initialize as a server, false for a client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> code representing the error that occurred, if any </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00260">260</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>                                       {</div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> deflate_bits;</div>
<div class="line"><span class="lineno">  262</span>        <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> inflate_bits;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">if</span> (is_server) {</div>
<div class="line"><span class="lineno">  265</span>            deflate_bits = m_server_max_window_bits;</div>
<div class="line"><span class="lineno">  266</span>            inflate_bits = m_client_max_window_bits;</div>
<div class="line"><span class="lineno">  267</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  268</span>            deflate_bits = m_client_max_window_bits;</div>
<div class="line"><span class="lineno">  269</span>            inflate_bits = m_server_max_window_bits;</div>
<div class="line"><span class="lineno">  270</span>        }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = deflateInit2(</div>
<div class="line"><span class="lineno">  273</span>            &amp;m_dstate,</div>
<div class="line"><span class="lineno">  274</span>            Z_DEFAULT_COMPRESSION,</div>
<div class="line"><span class="lineno">  275</span>            Z_DEFLATED,</div>
<div class="line"><span class="lineno">  276</span>            -1*deflate_bits,</div>
<div class="line"><span class="lineno">  277</span>            4, <span class="comment">// memory level 1-9</span></div>
<div class="line"><span class="lineno">  278</span>            Z_DEFAULT_STRATEGY</div>
<div class="line"><span class="lineno">  279</span>        );</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><span class="lineno">  282</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><span class="lineno">  283</span>        }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> = inflateInit2(</div>
<div class="line"><span class="lineno">  286</span>            &amp;m_istate,</div>
<div class="line"><span class="lineno">  287</span>            -1*inflate_bits</div>
<div class="line"><span class="lineno">  288</span>        );</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a> != Z_OK) {</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">return</span> make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea9c98b21e33391203ce5f968428c03f3a">error::zlib_error</a>);</div>
<div class="line"><span class="lineno">  292</span>        }</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        m_compress_buffer.reset(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[m_compress_buffer_size]);</div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">if</span> ((m_server_no_context_takeover &amp;&amp; is_server) ||</div>
<div class="line"><span class="lineno">  296</span>            (m_client_no_context_takeover &amp;&amp; !is_server))</div>
<div class="line"><span class="lineno">  297</span>        {</div>
<div class="line"><span class="lineno">  298</span>            m_flush = Z_FULL_FLUSH;</div>
<div class="line"><span class="lineno">  299</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  300</span>            m_flush = Z_SYNC_FLUSH;</div>
<div class="line"><span class="lineno">  301</span>        }</div>
<div class="line"><span class="lineno">  302</span>        m_initialized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  304</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5190a82b1571a94704cef6959ed78ce2" name="a5190a82b1571a94704cef6959ed78ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5190a82b1571a94704cef6959ed78ce2">&#9670;&#160;</a></span>is_enabled()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::is_enabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves whether or not this extension is in use based on the initial handshake extension negotiations.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the extension is in use </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00323">323</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  323</span>                            {</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">return</span> m_enabled;</div>
<div class="line"><span class="lineno">  325</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a76a196b1428865e739fe99e951f03e68" name="a76a196b1428865e739fe99e951f03e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a196b1428865e739fe99e951f03e68">&#9670;&#160;</a></span>is_implemented()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::is_implemented </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Because this object does implieent it, it will always return true.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not this object implements permessage-deflate </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00312">312</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>                                {</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  314</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa05eda4f6a0231c13708445480181ff4" name="aa05eda4f6a0231c13708445480181ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05eda4f6a0231c13708445480181ff4">&#9670;&#160;</a></span>negotiate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">err_str_pair</a> <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::negotiate </td>
          <td>(</td>
          <td class="paramtype">http::attribute_list const &amp;</td>          <td class="paramname"><span class="paramname"><em>offer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Confirm that the client's extension negotiation offer has settings compatible with local policy. If so, generate a reply and apply those settings to the extension state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offer</td><td>Attribute from client's offer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code and value to return to remote endpoint </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00467">467</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  467</span>                                                             {</div>
<div class="line"><span class="lineno">  468</span>        <a class="code hl_typedef" href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">err_str_pair</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>        http::attribute_list::const_iterator it;</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">for</span> (it = offer.begin(); it != offer.end(); ++it) {</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;server_no_context_takeover&quot;</span>) {</div>
<div class="line"><span class="lineno">  473</span>                negotiate_server_no_context_takeover(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><span class="lineno">  474</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;client_no_context_takeover&quot;</span>) {</div>
<div class="line"><span class="lineno">  475</span>                negotiate_client_no_context_takeover(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><span class="lineno">  476</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;server_max_window_bits&quot;</span>) {</div>
<div class="line"><span class="lineno">  477</span>                negotiate_server_max_window_bits(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><span class="lineno">  478</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first == <span class="stringliteral">&quot;client_max_window_bits&quot;</span>) {</div>
<div class="line"><span class="lineno">  479</span>                negotiate_client_max_window_bits(it-&gt;second,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first);</div>
<div class="line"><span class="lineno">  480</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  481</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">error::invalid_attributes</a>);</div>
<div class="line"><span class="lineno">  482</span>            }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first) {</div>
<div class="line"><span class="lineno">  485</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  486</span>            }</div>
<div class="line"><span class="lineno">  487</span>        }</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.first == lib::error_code()) {</div>
<div class="line"><span class="lineno">  490</span>            m_enabled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  491</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>.second = generate_response();</div>
<div class="line"><span class="lineno">  492</span>        }</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a3d854b6efad16a16e4d7b4539d4fc71f">ret</a>;</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54eae5f446fcc9f28756b471d89e879f7670">websocketpp::extensions::permessage_deflate::error::invalid_attributes</a></div><div class="ttdeci">@ invalid_attributes</div><div class="ttdoc">Invalid extension attributes.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00096">enabled.hpp:96</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_html_abecf95d53c9387716b157daae84441f3"><div class="ttname"><a href="namespacewebsocketpp.html#abecf95d53c9387716b157daae84441f3">websocketpp::err_str_pair</a></div><div class="ttdeci">std::pair&lt; lib::error_code, std::string &gt; err_str_pair</div><div class="ttdoc">Combination error code / string type for returning two values.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00041">error.hpp:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bfcf29752865c0e9c8e8092ee21b5af" name="a5bfcf29752865c0e9c8e8092ee21b5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfcf29752865c0e9c8e8092ee21b5af">&#9670;&#160;</a></span>set_client_max_window_bits()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_client_max_window_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>          <td class="paramname"><span class="paramname"><em>bits</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The bits setting is the base 2 logarithm of the window size that the client must use to compress outgoing messages. The permitted range is 8 to 15 inclusive. 8 represents a 256 byte window and 15 a 32KiB window. The default setting is 15.</p>
<p>Mode Options:</p><ul>
<li>accept: Accept whatever the remote endpoint offers.</li>
<li>decline: Decline any offers to deviate from the defaults</li>
<li>largest: Accept largest window size acceptable to both endpoints</li>
<li>smallest: Accept smallest window size acceptiable to both endpoints</li>
</ul>
<p>This setting is dependent on client support. <a class="el" href="struct_a.html">A</a> client may limit its own outgoing window size unilaterally. <a class="el" href="struct_a.html">A</a> server may only limit the client's window size if the remote client supports that feature.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bits</td><td>The size to request for the outgoing window size </td></tr>
    <tr><td class="paramname">mode</td><td>The mode to use for negotiating this parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> status code </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00424">424</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>                                                                           {</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">if</span> (bits &lt; min_client_max_window_bits || bits &gt; max_client_max_window_bits) {</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">error::invalid_max_window_bits</a>);</div>
<div class="line"><span class="lineno">  427</span>        }</div>
<div class="line"><span class="lineno">  428</span>        m_client_max_window_bits = bits;</div>
<div class="line"><span class="lineno">  429</span>        m_client_max_window_bits_mode = mode;</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">websocketpp::extensions::permessage_deflate::error::invalid_max_window_bits</a></div><div class="ttdeci">@ invalid_max_window_bits</div><div class="ttdoc">Invalid value for max_window_bits.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00108">enabled.hpp:108</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error_html_a9e955844ce4acf0ade5425c98af861ce"><div class="ttname"><a href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">websocketpp::extensions::permessage_deflate::error::make_error_code</a></div><div class="ttdeci">lib::error_code make_error_code(error::value e)</div><div class="ttdoc">Create an error code in the permessage-deflate category.</div><div class="ttdef"><b>Definition</b> <a href="enabled_8hpp_source.html#l00157">enabled.hpp:157</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_a5bfcf29752865c0e9c8e8092ee21b5af_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_a5bfcf29752865c0e9c8e8092ee21b5af_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_a5bfcf29752865c0e9c8e8092ee21b5af_cgraph" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_a5bfcf29752865c0e9c8e8092ee21b5af_cgraph">
<area shape="rect" title="Limit client LZ77 sliding window size." alt="" coords="5,5,175,76"/>
<area shape="rect" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce" title="Create an error code in the permessage&#45;deflate category." alt="" coords="223,13,392,68"/>
<area shape="poly" title=" " alt="" coords="175,38,207,38,207,43,175,43"/>
<area shape="rect" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e" title="Get a reference to a static copy of the permessage&#45;deflate error category." alt="" coords="440,13,609,68"/>
<area shape="poly" title=" " alt="" coords="392,38,424,38,424,43,392,43"/>
</map>
</div>

</div>
</div>
<a id="ac2f1bd776c26b4d54afaceded1841394" name="ac2f1bd776c26b4d54afaceded1841394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f1bd776c26b4d54afaceded1841394">&#9670;&#160;</a></span>set_server_max_window_bits()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_server_max_window_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></td>          <td class="paramname"><span class="paramname"><em>bits</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1mode.html#ae06aef93260cb0b5f5bd729a82564120">mode::value</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The bits setting is the base 2 logarithm of the maximum window size that the server must use to compress outgoing messages. The permitted range is 8 to 15 inclusive. 8 represents a 256 byte window and 15 a 32KiB window. The default setting is 15.</p>
<p>Mode Options:</p><ul>
<li>accept: Accept whatever the remote endpoint offers.</li>
<li>decline: Decline any offers to deviate from the defaults</li>
<li>largest: Accept largest window size acceptable to both endpoints</li>
<li>smallest: Accept smallest window size acceptiable to both endpoints</li>
</ul>
<p>This setting is dependent on server support. <a class="el" href="struct_a.html">A</a> client requesting this setting may be rejected by the server or have the exact value used adjusted by the server. <a class="el" href="struct_a.html">A</a> server may unilaterally set this value without client support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bits</td><td>The size to request for the outgoing window size </td></tr>
    <tr><td class="paramname">mode</td><td>The mode to use for negotiating this parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> status code </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00393">393</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>                                                                           {</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">if</span> (bits &lt; min_server_max_window_bits || bits &gt; max_server_max_window_bits) {</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a38e53d7586dd60059cc99a5833bbe54ea23eace97896da0a8136d213fb1e4e987">error::invalid_max_window_bits</a>);</div>
<div class="line"><span class="lineno">  396</span>        }</div>
<div class="line"><span class="lineno">  397</span>        m_server_max_window_bits = bits;</div>
<div class="line"><span class="lineno">  398</span>        m_server_max_window_bits_mode = mode;</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  401</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_ac2f1bd776c26b4d54afaceded1841394_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_ac2f1bd776c26b4d54afaceded1841394_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_ac2f1bd776c26b4d54afaceded1841394_cgraph" id="aclasswebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled_ac2f1bd776c26b4d54afaceded1841394_cgraph">
<area shape="rect" title="Limit server LZ77 sliding window size." alt="" coords="5,5,175,76"/>
<area shape="rect" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a9e955844ce4acf0ade5425c98af861ce" title="Create an error code in the permessage&#45;deflate category." alt="" coords="223,13,392,68"/>
<area shape="poly" title=" " alt="" coords="175,38,207,38,207,43,175,43"/>
<area shape="rect" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate_1_1error.html#a45fc3d9ab800d9017c8c501d33e7df7e" title="Get a reference to a static copy of the permessage&#45;deflate error category." alt="" coords="440,13,609,68"/>
<area shape="poly" title=" " alt="" coords="392,38,424,38,424,43,392,43"/>
</map>
</div>

</div>
</div>
<a id="acf45724e34c174a0b8a5166192f659de" name="acf45724e34c174a0b8a5166192f659de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf45724e34c174a0b8a5166192f659de">&#9670;&#160;</a></span>validate_offer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">websocketpp::extensions::permessage_deflate::enabled</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::validate_offer </td>
          <td>(</td>
          <td class="paramtype">http::attribute_list const &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Confirm that the server has negotiated settings compatible with our original offer and apply those settings to the extension state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>The server response attribute list to validate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Validation error or 0 on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="enabled_8hpp_source.html#l00454">454</a> of file <a class="el" href="enabled_8hpp_source.html">enabled.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  454</span>                                                             {</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  456</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>libraries/fc/vendor/websocketpp/websocketpp/extensions/permessage_deflate/<a class="el" href="enabled_8hpp_source.html">enabled.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewebsocketpp.html">websocketpp</a></li><li class="navelem"><a class="el" href="namespacewebsocketpp_1_1extensions.html">extensions</a></li><li class="navelem"><a class="el" href="namespacewebsocketpp_1_1extensions_1_1permessage__deflate.html">permessage_deflate</a></li><li class="navelem"><a class="el" href="classwebsocketpp_1_1extensions_1_1permessage__deflate_1_1enabled.html">enabled</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
