\doxysection{approve\+\_\+producer\+\_\+subcommand Struct Reference}
\hypertarget{structapprove__producer__subcommand}{}\label{structapprove__producer__subcommand}\index{approve\_producer\_subcommand@{approve\_producer\_subcommand}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structapprove__producer__subcommand_a2ffa44603ef049ae06c005814bbb8993}{approve\+\_\+producer\+\_\+subcommand}} (\mbox{\hyperlink{class_c_l_i_1_1_app}{CLI\+::\+App}} \texorpdfstring{$\ast$}{*}action\+Root)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{string}} \mbox{\hyperlink{structapprove__producer__subcommand_a88c2077298e1ce616ac329ab345f0d74}{voter}}
\item 
\mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{string}} \mbox{\hyperlink{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078}{producer\+\_\+name}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{programs_2clio_2main_8cpp_source_l01278}{1278}} of file \mbox{\hyperlink{programs_2clio_2main_8cpp_source}{main.\+cpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{structapprove__producer__subcommand_a2ffa44603ef049ae06c005814bbb8993}\index{approve\_producer\_subcommand@{approve\_producer\_subcommand}!approve\_producer\_subcommand@{approve\_producer\_subcommand}}
\index{approve\_producer\_subcommand@{approve\_producer\_subcommand}!approve\_producer\_subcommand@{approve\_producer\_subcommand}}
\doxysubsubsection{\texorpdfstring{approve\_producer\_subcommand()}{approve\_producer\_subcommand()}}
{\footnotesize\ttfamily \label{structapprove__producer__subcommand_a2ffa44603ef049ae06c005814bbb8993} 
approve\+\_\+producer\+\_\+subcommand\+::approve\+\_\+producer\+\_\+subcommand (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_c_l_i_1_1_app}{CLI\+::\+App}} \texorpdfstring{$\ast$}{*}}]{action\+Root}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{programs_2clio_2main_8cpp_source_l01282}{1282}} of file \mbox{\hyperlink{programs_2clio_2main_8cpp_source}{main.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01283\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ approve\_producer\ =\ actionRoot-\/>\mbox{\hyperlink{class_c_l_i_1_1_app_a8b461d2233ec4121259011b5ed24b336}{add\_subcommand}}(\textcolor{stringliteral}{"{}approve"{}},\ \mbox{\hyperlink{localize_8hpp_ab3bfcc0fee2852c8db4ea283c4dd9d99}{localized}}(\textcolor{stringliteral}{"{}Add\ one\ producer\ to\ list\ of\ voted\ producers"{}}));}
\DoxyCodeLine{01284\ \ \ \ \ \ \ approve\_producer-\/>\mbox{\hyperlink{class_c_l_i_1_1_app_a8c812d42c7720ecb5cd0aec41b5aa941}{add\_option}}(\textcolor{stringliteral}{"{}voter"{}},\ voter,\ \mbox{\hyperlink{localize_8hpp_ab3bfcc0fee2852c8db4ea283c4dd9d99}{localized}}(\textcolor{stringliteral}{"{}The\ voting\ account"{}}))-\/>\mbox{\hyperlink{class_c_l_i_1_1_option_base_af18d4c8d8c2392b6947db9179110289a}{required}}();}
\DoxyCodeLine{01285\ \ \ \ \ \ \ approve\_producer-\/>add\_option(\textcolor{stringliteral}{"{}producer"{}},\ \mbox{\hyperlink{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078}{producer\_name}},\ \mbox{\hyperlink{localize_8hpp_ab3bfcc0fee2852c8db4ea283c4dd9d99}{localized}}(\textcolor{stringliteral}{"{}The\ account\ to\ vote\ for"{}}))-\/>\mbox{\hyperlink{class_c_l_i_1_1_option_base_af18d4c8d8c2392b6947db9179110289a}{required}}();}
\DoxyCodeLine{01286\ \ \ \ \ \ \ \mbox{\hyperlink{programs_2clio_2main_8cpp_aa5d53f41b83b5323c73622fbbb15e9cd}{add\_standard\_transaction\_options}}(approve\_producer,\ \textcolor{stringliteral}{"{}voter@active"{}});}
\DoxyCodeLine{01287\ }
\DoxyCodeLine{01288\ \ \ \ \ \ \ approve\_producer-\/>callback([\textcolor{keyword}{this}]\ \{}
\DoxyCodeLine{01289\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ \mbox{\hyperlink{programs_2clio_2main_8cpp_af931af8e9f099860a2670931f8d3ad2c}{call}}(\mbox{\hyperlink{namespacesysio_1_1client_1_1http_a74c28475d2f7d2cb4c99cb361c2279a0}{get\_table\_func}},\ \mbox{\hyperlink{classfc_1_1mutable__variant__object}{fc::mutable\_variant\_object}}(\textcolor{stringliteral}{"{}json"{}},\ \textcolor{keyword}{true})}
\DoxyCodeLine{01290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}code"{}},\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(config::system\_account\_name).\mbox{\hyperlink{namespacefc_a4e07b3870aa72f8c38bdd5f78044dad1}{to\_string}}())}
\DoxyCodeLine{01291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}scope"{}},\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(config::system\_account\_name).\mbox{\hyperlink{namespacefc_a4e07b3870aa72f8c38bdd5f78044dad1}{to\_string}}())}
\DoxyCodeLine{01292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}table"{}},\ \textcolor{stringliteral}{"{}voters"{}})}
\DoxyCodeLine{01293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}table\_key"{}},\ \textcolor{stringliteral}{"{}owner"{}})}
\DoxyCodeLine{01294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}lower\_bound"{}},\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(voter).to\_uint64\_t())}
\DoxyCodeLine{01295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}upper\_bound"{}},\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(voter).to\_uint64\_t()\ +\ 1)}
\DoxyCodeLine{01296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Less\ than\ ideal\ upper\_bound\ usage\ preserved\ so\ clio\ can\ still\ work\ with\ old\ buggy\ nodeop\ versions}}
\DoxyCodeLine{01297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Change\ to\ voter.value\ when\ clio\ no\ longer\ needs\ to\ support\ nodeop\ versions\ older\ than\ 1.5.0}}
\DoxyCodeLine{01298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}limit"{}},\ 1)}
\DoxyCodeLine{01299\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{01300\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ res\ =\ result.as<\mbox{\hyperlink{structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__result}{sysio::chain\_apis::read\_only::get\_table\_rows\_result}}>();}
\DoxyCodeLine{01301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Condition\ in\ if\ statement\ below\ can\ simply\ be\ res.rows.empty()\ when\ clio\ no\ longer\ needs\ to\ support\ nodeop\ versions\ older\ than\ 1.5.0}}
\DoxyCodeLine{01302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Although\ since\ this\ subcommand\ will\ actually\ change\ the\ voter's\ vote,\ it\ is\ probably\ better\ to\ just\ keep\ this\ check\ to\ protect}}
\DoxyCodeLine{01303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ against\ future\ potential\ chain\_plugin\ bugs.}}
\DoxyCodeLine{01304\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ res.rows.empty()\ ||\ res.rows[0].get\_object()[\textcolor{stringliteral}{"{}owner"{}}].as\_string()\ !=\ \mbox{\hyperlink{structsysio_1_1chain_1_1name}{name}}(voter).\mbox{\hyperlink{namespacefc_a4e07b3870aa72f8c38bdd5f78044dad1}{to\_string}}()\ )\ \{}
\DoxyCodeLine{01305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Voter\ info\ not\ found\ for\ account\ "{}}\ <<\ voter\ <<\ std::endl;}
\DoxyCodeLine{01306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01307\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01308\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ 1\ ==\ res.rows.size(),\ multiple\_voter\_info,\ \textcolor{stringliteral}{"{}More\ than\ one\ voter\_info\ for\ account"{}}\ );}
\DoxyCodeLine{01309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ prod\_vars\ =\ res.rows[0][\textcolor{stringliteral}{"{}producers"{}}].get\_array();}
\DoxyCodeLine{01310\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1vector}{vector<sysio::name>}}\ prods;}
\DoxyCodeLine{01311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keyword}{auto}\&\ x\ :\ prod\_vars\ )\ \{}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prods.push\_back(\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(x.as\_string())\ );}
\DoxyCodeLine{01313\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01314\ \ \ \ \ \ \ \ \ \ \ \ \ prods.push\_back(\ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(\mbox{\hyperlink{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078}{producer\_name}})\ );}
\DoxyCodeLine{01315\ \ \ \ \ \ \ \ \ \ \ \ \ std::sort(\ prods.begin(),\ prods.end()\ );}
\DoxyCodeLine{01316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ std::unique(\ prods.begin(),\ prods.end()\ );}
\DoxyCodeLine{01317\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ !=\ prods.end()\ )\ \{}
\DoxyCodeLine{01318\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Producer\ \(\backslash\)"{}"{}}\ <<\ \mbox{\hyperlink{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078}{producer\_name}}\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)"{}\ is\ already\ on\ the\ list."{}}\ <<\ std::endl;}
\DoxyCodeLine{01319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01320\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}\ act\_payload\ =\ \mbox{\hyperlink{classfc_1_1mutable__variant__object}{fc::mutable\_variant\_object}}()}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}voter"{}},\ \mbox{\hyperlink{structapprove__producer__subcommand_a88c2077298e1ce616ac329ab345f0d74}{voter}})}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}proxy"{}},\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}producers"{}},\ prods);}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ accountPermissions\ =\ \mbox{\hyperlink{programs_2clio_2main_8cpp_a2b91ca5dbe7cc4ab287d0e44c3037552}{get\_account\_permissions}}(\mbox{\hyperlink{programs_2clio_2main_8cpp_ad552924cb151dcd5b60c73856d1ff706}{tx\_permission}},\ \{\mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}(voter),\ config::active\_name\});}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{programs_2clio_2main_8cpp_aaf784434864a29e4835be7465173d1ab}{send\_actions}}(\{\mbox{\hyperlink{programs_2clio_2main_8cpp_a067e20df5f65333b0c3cf5840bc37dea}{create\_action}}(accountPermissions,\ config::system\_account\_name,\ \textcolor{stringliteral}{"{}voteproducer"{}}\_n,\ act\_payload)\});}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \});}
\DoxyCodeLine{01328\ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structapprove__producer__subcommand_a2ffa44603ef049ae06c005814bbb8993_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078}\index{approve\_producer\_subcommand@{approve\_producer\_subcommand}!producer\_name@{producer\_name}}
\index{producer\_name@{producer\_name}!approve\_producer\_subcommand@{approve\_producer\_subcommand}}
\doxysubsubsection{\texorpdfstring{producer\_name}{producer\_name}}
{\footnotesize\ttfamily \label{structapprove__producer__subcommand_acfa4b05a4899e597c70bbcd300a66078} 
\mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{string}} approve\+\_\+producer\+\_\+subcommand\+::producer\+\_\+name}



Definition at line \mbox{\hyperlink{programs_2clio_2main_8cpp_source_l01280}{1280}} of file \mbox{\hyperlink{programs_2clio_2main_8cpp_source}{main.\+cpp}}.

\Hypertarget{structapprove__producer__subcommand_a88c2077298e1ce616ac329ab345f0d74}\index{approve\_producer\_subcommand@{approve\_producer\_subcommand}!voter@{voter}}
\index{voter@{voter}!approve\_producer\_subcommand@{approve\_producer\_subcommand}}
\doxysubsubsection{\texorpdfstring{voter}{voter}}
{\footnotesize\ttfamily \label{structapprove__producer__subcommand_a88c2077298e1ce616ac329ab345f0d74} 
\mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{string}} approve\+\_\+producer\+\_\+subcommand\+::voter}



Definition at line \mbox{\hyperlink{programs_2clio_2main_8cpp_source_l01279}{1279}} of file \mbox{\hyperlink{programs_2clio_2main_8cpp_source}{main.\+cpp}}.



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
programs/clio/\mbox{\hyperlink{programs_2clio_2main_8cpp}{main.\+cpp}}\end{DoxyCompactItemize}
