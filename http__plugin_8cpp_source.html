<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: plugins/http_plugin/http_plugin.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('http__plugin_8cpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">http_plugin.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="http__plugin_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &lt;<a class="code" href="http__plugin_8hpp.html">sysio/http_plugin/http_plugin.hpp</a>&gt;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &lt;<a class="code" href="local__endpoint_8hpp.html">sysio/http_plugin/local_endpoint.hpp</a>&gt;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;<a class="code" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html">sysio/chain/exceptions.hpp</a>&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;<a class="code" href="thread__utils_8hpp.html">sysio/chain/thread_utils.hpp</a>&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;<a class="code" href="ip_8hpp.html">fc/network/ip.hpp</a>&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;<a class="code" href="logger__config_8hpp.html">fc/log/logger_config.hpp</a>&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;<a class="code" href="fc_2include_2fc_2reflect_2variant_8hpp.html">fc/reflect/variant.hpp</a>&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="json_8hpp.html">fc/io/json.hpp</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;<a class="code" href="raw_8hpp.html">fc/io/raw.hpp</a>&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="openssl_8hpp.html">fc/crypto/openssl.hpp</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;boost/asio.hpp&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;boost/optional.hpp&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="asio__client_8hpp.html">websocketpp/config/asio_client.hpp</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="config_2asio_8hpp.html">websocketpp/config/asio.hpp</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="server_8hpp.html">websocketpp/server.hpp</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="asio__client_8hpp.html">websocketpp/config/asio_client.hpp</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="client_8hpp.html">websocketpp/client.hpp</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="stub_8hpp.html">websocketpp/logger/stub.hpp</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;regex&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="http__plugin_8cpp.html#aae9579c8f6a770273c4c94e65f0dac0c">   27</a></span><span class="keyword">const</span> <a class="code hl_typedef" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">fc::string</a> <a class="code hl_function" href="http__plugin_8cpp.html#aae9579c8f6a770273c4c94e65f0dac0c">logger_name</a>(<span class="stringliteral">&quot;http_plugin&quot;</span>);</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="http__plugin_8cpp.html#a0c4bb3822f844b23219a9412e356659d">   28</a></span><a class="code hl_class" href="classfc_1_1logger.html">fc::logger</a> <a class="code hl_variable" href="http__plugin_8cpp.html#a0c4bb3822f844b23219a9412e356659d">logger</a>;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacesysio.html">sysio</a> {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>   <span class="keyword">static</span> <a class="code hl_class" href="classappbase_1_1abstract__plugin.html">appbase::abstract_plugin</a>&amp; _http_plugin = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87e84549150056c56c0327cc4976cc2a">register_plugin</a>&lt;http_plugin&gt;();</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>   <span class="keyword">namespace </span><a class="code hl_namespace" href="namespacewebsocketpp_1_1lib_1_1asio.html">asio</a> = <a class="code hl_namespace" href="namespaceboost_1_1asio.html">boost::asio</a>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>   <span class="keyword">using </span>std::map;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>   <span class="keyword">using </span>std::vector;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>   <span class="keyword">using </span>std::set;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>   <span class="keyword">using </span>std::string;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>   <span class="keyword">using </span>std::regex;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>   <span class="keyword">using </span>boost::optional;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>   <span class="keyword">using </span>boost::asio::ip::tcp;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>   <span class="keyword">using </span>boost::asio::ip::address_v4;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>   <span class="keyword">using </span>boost::asio::ip::address_v6;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>   <span class="keyword">using </span>std::shared_ptr;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>   <span class="keyword">using </span><a class="code hl_typedef" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">websocketpp::connection_hdl</a>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="foldopen" id="foldopen00048" data-start="{" data-end="};">
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">   48</a></span>   <span class="keyword">enum</span> <a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a> {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">   49</a></span>      <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a>,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>      <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0">PRIME256V1</a></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0">   51</a></span>   };</div>
</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>   <span class="keyword">static</span> http_plugin_defaults current_http_plugin_defaults;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="foldopen" id="foldopen00055" data-start="{" data-end="}">
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#aaf46561ac841485d6bf25266b4aa9b5a">   55</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#aaf46561ac841485d6bf25266b4aa9b5a">http_plugin::set_defaults</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1http__plugin__defaults.html">http_plugin_defaults</a> <a class="code hl_struct" href="classconfig.html">config</a>) {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>      current_http_plugin_defaults = <a class="code hl_struct" href="classconfig.html">config</a>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>   }</div>
</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="foldopen" id="foldopen00059" data-start="{" data-end="}">
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="namespacesysio_1_1detail.html">   59</a></span>   <span class="keyword">namespace </span><a class="code hl_namespace" href="namespacedetail.html">detail</a> {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>      <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="foldopen" id="foldopen00062" data-start="{" data-end="};">
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html">   62</a></span>      <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1detail_1_1asio__with__stub__log.html">asio_with_stub_log</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structwebsocketpp_1_1config_1_1asio.html">websocketpp::config::asio</a> {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a427d9aa4f5370197558f04d9099fc6a2">   63</a></span>          <span class="keyword">typedef</span> <a class="code hl_struct" href="structsysio_1_1detail_1_1asio__with__stub__log.html">asio_with_stub_log</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a427d9aa4f5370197558f04d9099fc6a2">type</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3d2825db695946f9d0643064e7e3c14b">   64</a></span>          <span class="keyword">typedef</span> <a class="code hl_namespace" href="namespacewebsocketpp_1_1lib_1_1asio.html">asio</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3d2825db695946f9d0643064e7e3c14b">base</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ad2cbff28d2e148e0d73cd999e6c2ba22">   66</a></span>          <span class="keyword">typedef</span> base::concurrency_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ad2cbff28d2e148e0d73cd999e6c2ba22">concurrency_type</a>;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a56b1440e7452ea65f3da0d9336c9aef9">   68</a></span>          <span class="keyword">typedef</span> base::request_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a56b1440e7452ea65f3da0d9336c9aef9">request_type</a>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ac68ab1cc05b1dcaf720f18709343786d">   69</a></span>          <span class="keyword">typedef</span> base::response_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ac68ab1cc05b1dcaf720f18709343786d">response_type</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span> </div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3093b8e73c35d6821db98ad35a00f8b6">   71</a></span>          <span class="keyword">typedef</span> base::message_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3093b8e73c35d6821db98ad35a00f8b6">message_type</a>;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a13c17be0151ea5c338050aff87af6416">   72</a></span>          <span class="keyword">typedef</span> base::con_msg_manager_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a13c17be0151ea5c338050aff87af6416">con_msg_manager_type</a>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7cd9ca873160d646a68b6f20f5b42cf7">   73</a></span>          <span class="keyword">typedef</span> base::endpoint_msg_manager_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7cd9ca873160d646a68b6f20f5b42cf7">endpoint_msg_manager_type</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#abc94655eaa5bd4a082862ffa2b7b379a">   75</a></span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">websocketpp::log::stub</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#abc94655eaa5bd4a082862ffa2b7b379a">elog_type</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a5cde9cda348e5e17ed310f554685e6a1">   76</a></span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">websocketpp::log::stub</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a5cde9cda348e5e17ed310f554685e6a1">alog_type</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a58bdab1c9f27ff33cd74866710e76a6a">   78</a></span>          <span class="keyword">typedef</span> base::rng_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a58bdab1c9f27ff33cd74866710e76a6a">rng_type</a>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="foldopen" id="foldopen00080" data-start="{" data-end="};">
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">   80</a></span>          <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">transport_config</a> : <span class="keyword">public</span> base::transport_config {</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a37ff9f4bc2f8783c2294540947bac64a">   81</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ad2cbff28d2e148e0d73cd999e6c2ba22">type::concurrency_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a37ff9f4bc2f8783c2294540947bac64a">concurrency_type</a>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a8a7286ebe9a21de1028390c885efdbe5">   82</a></span>              <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">type::alog_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a8a7286ebe9a21de1028390c885efdbe5">alog_type</a>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1835e1b0279f6b651f0dff238b5920c0">   83</a></span>              <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">type::elog_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1835e1b0279f6b651f0dff238b5920c0">elog_type</a>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a957a755b6a73d23b001e0e59d1897a4e">   84</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a56b1440e7452ea65f3da0d9336c9aef9">type::request_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a957a755b6a73d23b001e0e59d1897a4e">request_type</a>;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a550e961fd4d814e6016b81e4ef3bae82">   85</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ac68ab1cc05b1dcaf720f18709343786d">type::response_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a550e961fd4d814e6016b81e4ef3bae82">response_type</a>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#aca8f942a6e670a42ffed760eabcec489">   86</a></span>              <span class="keyword">typedef</span> <a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#aca8f942a6e670a42ffed760eabcec489">socket_type</a>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>          };</div>
</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1transport_1_1asio_1_1endpoint.html">websocketpp::transport::asio::endpoint&lt;transport_config&gt;</a></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7444e75f181faa08cb705bf48578cc4f">   90</a></span>              <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7444e75f181faa08cb705bf48578cc4f">transport_type</a>;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ae0c45c83eb8e398f835128596eb8b554">   92</a></span>          <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="structsysio_1_1detail_1_1asio__with__stub__log.html#ae0c45c83eb8e398f835128596eb8b554">timeout_open_handshake</a> = 0;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      };</div>
</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="foldopen" id="foldopen00095" data-start="{" data-end="};">
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html">   95</a></span>      <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html">asio_local_with_stub_log</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structwebsocketpp_1_1config_1_1asio.html">websocketpp::config::asio</a> {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a4a21bd16cd5db9d90aedaa546484584a">   96</a></span>          <span class="keyword">typedef</span> <a class="code hl_struct" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html">asio_local_with_stub_log</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a4a21bd16cd5db9d90aedaa546484584a">type</a>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a8b8e8cb485e17e975193365e44058c8c">   97</a></span>          <span class="keyword">typedef</span> <a class="code hl_namespace" href="namespacewebsocketpp_1_1lib_1_1asio.html">asio</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a8b8e8cb485e17e975193365e44058c8c">base</a>;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a57443829c4ecaefbc349592871ceae00">   99</a></span>          <span class="keyword">typedef</span> base::concurrency_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a57443829c4ecaefbc349592871ceae00">concurrency_type</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab652ce50200b9d9c16b915c7cb4e9c33">  101</a></span>          <span class="keyword">typedef</span> base::request_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab652ce50200b9d9c16b915c7cb4e9c33">request_type</a>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a6e3f14eecec021db5aa8ea7fb8167a2a">  102</a></span>          <span class="keyword">typedef</span> base::response_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a6e3f14eecec021db5aa8ea7fb8167a2a">response_type</a>;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a026642e8fa85a5f1d8eddf5d06e4ab3b">  104</a></span>          <span class="keyword">typedef</span> base::message_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a026642e8fa85a5f1d8eddf5d06e4ab3b">message_type</a>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a336f4f7beab75a4e61b467402e0201b8">  105</a></span>          <span class="keyword">typedef</span> base::con_msg_manager_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a336f4f7beab75a4e61b467402e0201b8">con_msg_manager_type</a>;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab178ff95972a3bb3cadd9cab223a7aca">  106</a></span>          <span class="keyword">typedef</span> base::endpoint_msg_manager_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab178ff95972a3bb3cadd9cab223a7aca">endpoint_msg_manager_type</a>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a7dd1230c295691879c4f509049756576">  108</a></span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">websocketpp::log::stub</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a7dd1230c295691879c4f509049756576">elog_type</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ae5e766b680c7e89cb776cef7f773e61b">  109</a></span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">websocketpp::log::stub</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ae5e766b680c7e89cb776cef7f773e61b">alog_type</a>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aa94a93dc62d87f108bf8d05ed8fb0d67">  111</a></span>          <span class="keyword">typedef</span> base::rng_type <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aa94a93dc62d87f108bf8d05ed8fb0d67">rng_type</a>;</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="foldopen" id="foldopen00113" data-start="{" data-end="};">
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html">  113</a></span>          <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html">transport_config</a> : <span class="keyword">public</span> base::transport_config {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#af3a14f4c55c6f2b98f8ad2ffd7f05299">  114</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a57443829c4ecaefbc349592871ceae00">type::concurrency_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#af3a14f4c55c6f2b98f8ad2ffd7f05299">concurrency_type</a>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a6d7d00baa07f74deff0e61989b979f2c">  115</a></span>              <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">type::alog_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a6d7d00baa07f74deff0e61989b979f2c">alog_type</a>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a8a0c27ef260ecef8752ade64f148e5eb">  116</a></span>              <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1log_1_1stub.html">type::elog_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a8a0c27ef260ecef8752ade64f148e5eb">elog_type</a>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a19ba544485ee99d760bc25922399ca8e">  117</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab652ce50200b9d9c16b915c7cb4e9c33">type::request_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a19ba544485ee99d760bc25922399ca8e">request_type</a>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#afe353dc2c9da83439df9ac0dc332de8b">  118</a></span>              <span class="keyword">typedef</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a6e3f14eecec021db5aa8ea7fb8167a2a">type::response_type</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#afe353dc2c9da83439df9ac0dc332de8b">response_type</a>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a1eda7b378e87a9b7d7ac9698a79d1735">  119</a></span>              <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1transport_1_1asio_1_1basic__socket_1_1local__endpoint.html">websocketpp::transport::asio::basic_socket::local_endpoint</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a1eda7b378e87a9b7d7ac9698a79d1735">socket_type</a>;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>          };</div>
</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aabd2059f9e70e1ce9cffbcadca21c486">  122</a></span>          <span class="keyword">typedef</span> <a class="code hl_class" href="classwebsocketpp_1_1transport_1_1asio_1_1local__endpoint.html">websocketpp::transport::asio::local_endpoint&lt;transport_config&gt;</a> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aabd2059f9e70e1ce9cffbcadca21c486">transport_type</a>;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a03c0efafbc8fee6260d7db92c8fbdfa0">  124</a></span>          <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a03c0efafbc8fee6260d7db92c8fbdfa0">timeout_open_handshake</a> = 0;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>      };</div>
</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="foldopen" id="foldopen00130" data-start="{" data-end="};">
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1abstract__conn.html">  130</a></span>      <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1detail_1_1abstract__conn.html">abstract_conn</a> {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1abstract__conn.html#ab957c3e14e8c31e8ca5fe2f33fd18087">  131</a></span>         <span class="keyword">virtual</span> <a class="code hl_function" href="structsysio_1_1detail_1_1abstract__conn.html#ab957c3e14e8c31e8ca5fe2f33fd18087">~abstract_conn</a>() {}</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1abstract__conn.html#a2a38362dd145af4fbe9e8630fa8b8df1">  132</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structsysio_1_1detail_1_1abstract__conn.html#a2a38362dd145af4fbe9e8630fa8b8df1">verify_max_bytes_in_flight</a>() = 0;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1abstract__conn.html#a3aef99a68a1e37b0e1c654100e503524">  133</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structsysio_1_1detail_1_1abstract__conn.html#a3aef99a68a1e37b0e1c654100e503524">handle_exception</a>() = 0;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="structsysio_1_1detail_1_1abstract__conn.html#a80e7bc852abf443527e72a7d90ad639b">  134</a></span>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structsysio_1_1detail_1_1abstract__conn.html#a80e7bc852abf443527e72a7d90ad639b">send_response</a>(std::string, <span class="keywordtype">int</span>) = 0;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>      };</div>
</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">  137</a></span>      <span class="keyword">using </span><a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">abstract_conn_ptr</a> = std::shared_ptr&lt;abstract_conn&gt;;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">  140</a></span>      <span class="keyword">using </span><a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">connection_ptr</a> = <span class="keyword">typename</span> <a class="code hl_typedef" href="classwebsocketpp_1_1server.html#abb895563dddafdc1426997d245cbd7cb">websocketpp::server&lt;T&gt;::connection_ptr</a>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="namespacesysio_1_1detail.html#a69779241e30dfcc06bd60e313d84f78a">  145</a></span>      <span class="keyword">using </span><a class="code hl_typedef" href="namespacesysio_1_1detail.html#a69779241e30dfcc06bd60e313d84f78a">internal_url_handler</a> = std::function&lt;void(<a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">abstract_conn_ptr</a>, <span class="keywordtype">string</span>, <span class="keywordtype">string</span>, <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a>)&gt;;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>      <span class="keyword">static</span> <span class="keywordtype">size_t</span> in_flight_sizeof( <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> ) {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>         <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.size();</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>      }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>      <span class="keyword">static</span> <span class="keywordtype">size_t</span> in_flight_sizeof( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>&amp; v ) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacefc_1_1raw.html#a64937a5adc8041247f7007882224e225">fc::raw::pack_size</a>( v );</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>         } <span class="keywordflow">catch</span>(...) {}</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>         <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>      }</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>   }</div>
</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="namespacesysio.html#a3e9c246486e39eeacd28861b25e159f2">  171</a></span>   <span class="keyword">using </span><a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_server_type</a> = <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocketpp::server&lt;detail::asio_with_stub_log&lt;websocketpp::transport::asio::basic_socket::endpoint&gt;</a>&gt;;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="namespacesysio.html#aaf769e22e37333d4e0b02f5e31400af7">  172</a></span>   <span class="keyword">using </span><a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_local_server_type</a> = <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocketpp::server&lt;detail::asio_local_with_stub_log&gt;</a>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="namespacesysio.html#a3a7d116ea46ab7612bd4b69b1473ef59">  173</a></span>   <span class="keyword">using </span><a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_server_tls_type</a> =  <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocketpp::server&lt;detail::asio_with_stub_log&lt;websocketpp::transport::asio::tls_socket::endpoint&gt;</a>&gt;;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">  174</a></span>   <span class="keyword">using </span><a class="code hl_typedef" href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">ssl_context_ptr</a> =  websocketpp::lib::shared_ptr&lt;websocketpp::lib::asio::ssl::context&gt;;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">  175</a></span>   <span class="keyword">using </span><a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> = std::shared_ptr&lt;class http_plugin_impl&gt;;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>   <span class="keyword">static</span> <span class="keywordtype">bool</span> verbose_http_errors = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="foldopen" id="foldopen00179" data-start="{" data-end="};">
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html">  179</a></span><span class="keyword">class </span><a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a> : <span class="keyword">public</span> std::enable_shared_from_this&lt;http_plugin_impl&gt; {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>      <span class="keyword">public</span>:</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#aaff8b7c3ccb6a41c3526a9ee1b8c4996">  181</a></span>         <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#aaff8b7c3ccb6a41c3526a9ee1b8c4996">http_plugin_impl</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a3e64ec68c9ee3f409fe983f249e92f34">  183</a></span>         <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a3e64ec68c9ee3f409fe983f249e92f34">http_plugin_impl</a>(<span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a1724ad60a4211b8d2f10a0733c74b893">  184</a></span>         <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a1724ad60a4211b8d2f10a0733c74b893">http_plugin_impl</a>(<a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a075c83bb1abdd1e374c43984b4011249">  186</a></span>         <a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp; <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a075c83bb1abdd1e374c43984b4011249">operator=</a>(<span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#adf10e7ce06af95b6fe9e458fc0a23ccb">  187</a></span>         <a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp; <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#adf10e7ce06af95b6fe9e458fc0a23ccb">operator=</a>(<a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>         <span class="comment">// key -&gt; priority, url_handler</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ac0f86aedcc2926b4ff66e5d6d964bd58">  190</a></span>         map&lt;string,detail::internal_url_handler&gt;  <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#ac0f86aedcc2926b4ff66e5d6d964bd58">url_handlers</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ad2ab1c2fe549eeac6b9680f1147b2b29">  191</a></span>         std::optional&lt;tcp::endpoint&gt;  <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#ad2ab1c2fe549eeac6b9680f1147b2b29">listen_endpoint</a>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a2c91ec7f6a076cdc0d4dd753eb6b747a">  192</a></span>         <span class="keywordtype">string</span>                         <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a2c91ec7f6a076cdc0d4dd753eb6b747a">access_control_allow_origin</a>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a049f020711fe51d61580f17ebff8971d">  193</a></span>         <span class="keywordtype">string</span>                         <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a049f020711fe51d61580f17ebff8971d">access_control_allow_headers</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ab9a27d80beebbf9e61aedb488bd407fc">  194</a></span>         <span class="keywordtype">string</span>                         <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#ab9a27d80beebbf9e61aedb488bd407fc">access_control_max_age</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a6f6cceb47d6a198e70e5822ab5cf6070">  195</a></span>         <span class="keywordtype">bool</span>                           <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a6f6cceb47d6a198e70e5822ab5cf6070">access_control_allow_credentials</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#af75fe91604a18f4efad7649dd63e6ea1">  196</a></span>         <span class="keywordtype">size_t</span>                         <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#af75fe91604a18f4efad7649dd63e6ea1">max_body_size</a>{2*1024*1024};</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a60bb11ae8ec3072994d077885f49a4f7">  198</a></span>         <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_server_type</a>    <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a60bb11ae8ec3072994d077885f49a4f7">server</a>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a3771658ed9cc3bd1e91b108204466479">  200</a></span>         <a class="code hl_typedef" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>                                    <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a3771658ed9cc3bd1e91b108204466479">thread_pool_size</a> = 2;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a845dd995050ffb87750bfe4edb2c05a6">  201</a></span>         std::optional&lt;sysio::chain::named_thread_pool&gt;   <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a845dd995050ffb87750bfe4edb2c05a6">thread_pool</a>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a96638486ee91563aed0aeb5bae4f6b98">  202</a></span>         std::atomic&lt;size_t&gt;                         <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a96638486ee91563aed0aeb5bae4f6b98">bytes_in_flight</a>{0};</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#af640e8c9792d347320406262264c831f">  203</a></span>         <span class="keywordtype">size_t</span>                                      <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#af640e8c9792d347320406262264c831f">max_bytes_in_flight</a> = 0;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a4fc541f393d438651557f1baacd4a329">  204</a></span>         <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>                            <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a4fc541f393d438651557f1baacd4a329">max_response_time</a>{30*1000};</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#aa25565dd130a74dd722631d8f4387397">  206</a></span>         std::optional&lt;tcp::endpoint&gt;  <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#aa25565dd130a74dd722631d8f4387397">https_listen_endpoint</a>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a932ccac860cb8bde253ea048cb92e4c0">  207</a></span>         <span class="keywordtype">string</span>                        <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a932ccac860cb8bde253ea048cb92e4c0">https_cert_chain</a>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a56c6ac0cd39246bc425d3c019a778fde">  208</a></span>         <span class="keywordtype">string</span>                        <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a56c6ac0cd39246bc425d3c019a778fde">https_key</a>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#af4d1fe5ac837c28f025b75fc974fcfd7">  209</a></span>         <a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a>            <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#af4d1fe5ac837c28f025b75fc974fcfd7">https_ecdh_curve</a> = <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a16aa207d251aa80d6d9accf3a72c1164">  211</a></span>         <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_server_tls_type</a> <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a16aa207d251aa80d6d9accf3a72c1164">https_server</a>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span> </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a36afafdb0584d20c964137a5b8c64992">  213</a></span>         std::optional&lt;asio::local::stream_protocol::endpoint&gt; <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a36afafdb0584d20c964137a5b8c64992">unix_endpoint</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ab28731d24b9193370571713b8de45b3c">  214</a></span>         <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocket_local_server_type</a> <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#ab28731d24b9193370571713b8de45b3c">unix_server</a>;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a8cf0cd1bba634f66a2eb222ca48651cb">  216</a></span>         <span class="keywordtype">bool</span>                     <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a8cf0cd1bba634f66a2eb222ca48651cb">validate_host</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a0db06064008200daebe1eef88aa4e325">  217</a></span>         set&lt;string&gt;              <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a0db06064008200daebe1eef88aa4e325">valid_hosts</a>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="foldopen" id="foldopen00219" data-start="{" data-end="}">
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ab5276febc7c7a42135e94005f23fb0dd">  219</a></span>         <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#ab5276febc7c7a42135e94005f23fb0dd">host_port_is_valid</a>( <span class="keyword">const</span> std::string&amp; header_host_port, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; endpoint_local_host_port ) {</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            <span class="keywordflow">return</span> !<a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a8cf0cd1bba634f66a2eb222ca48651cb">validate_host</a> || header_host_port == endpoint_local_host_port || <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a0db06064008200daebe1eef88aa4e325">valid_hosts</a>.find(header_host_port) != <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a0db06064008200daebe1eef88aa4e325">valid_hosts</a>.end();</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>         }</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a4da223ff7cccbd6cc3bc3efc6b4044f4">  223</a></span>         <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a4da223ff7cccbd6cc3bc3efc6b4044f4">host_is_valid</a>( <span class="keyword">const</span> std::string&amp; host, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; endpoint_local_host_port, <span class="keywordtype">bool</span> secure) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a8cf0cd1bba634f66a2eb222ca48651cb">validate_host</a>) {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>               <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            }</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            <span class="comment">// normalise the incoming host so that it always has the explicit port</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            <span class="keyword">static</span> <span class="keyword">auto</span> has_port_expr = regex(<span class="stringliteral">&quot;[^:]:[0-9]+$&quot;</span>); </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            <span class="keywordflow">if</span> (std::regex_search(host, has_port_expr)) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>               <span class="keywordflow">return</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#ab5276febc7c7a42135e94005f23fb0dd">host_port_is_valid</a>( host, endpoint_local_host_port );</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>               <span class="comment">// according to RFC 2732 ipv6 addresses should always be enclosed with brackets so we shouldn&#39;t need to special case here</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>               <span class="keywordflow">return</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#ab5276febc7c7a42135e94005f23fb0dd">host_port_is_valid</a>( host + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(secure ? websocketpp::uri_default_secure_port : websocketpp::uri_default_port ), endpoint_local_host_port);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>         }</div>
</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="foldopen" id="foldopen00238" data-start="{" data-end="}">
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a0ef0715b253d6512d653bb9a22850020">  238</a></span>         <a class="code hl_typedef" href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">ssl_context_ptr</a> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a0ef0715b253d6512d653bb9a22850020">on_tls_init</a>(<a class="code hl_typedef" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">websocketpp::connection_hdl</a> hdl) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <a class="code hl_typedef" href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">ssl_context_ptr</a> ctx = websocketpp::lib::make_shared&lt;websocketpp::lib::asio::ssl::context&gt;(asio::ssl::context::sslv23_server);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>               ctx-&gt;set_options(asio::ssl::context::default_workarounds |</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                                asio::ssl::context::no_sslv2 |</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>                                asio::ssl::context::no_sslv3 |</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>                                asio::ssl::context::no_tlsv1 |</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>                                asio::ssl::context::no_tlsv1_1 |</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                                asio::ssl::context::single_dh_use);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>               ctx-&gt;use_certificate_chain_file(<a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a932ccac860cb8bde253ea048cb92e4c0">https_cert_chain</a>);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>               ctx-&gt;use_private_key_file(<a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a56c6ac0cd39246bc425d3c019a778fde">https_key</a>, asio::ssl::context::pem);</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>               <span class="comment">//going for the A+! Do a few more things on the native context to get ECDH in use</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>               fc::ec_key ecdh = EC_KEY_new_by_curve_name(<a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#af4d1fe5ac837c28f025b75fc974fcfd7">https_ecdh_curve</a> == <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a> ? NID_secp384r1 : NID_X9_62_prime256v1);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>               <span class="keywordflow">if</span> (!ecdh)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>(chain::http_exception, <span class="stringliteral">&quot;Failed to set NID_secp384r1&quot;</span>);</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>               <span class="keywordflow">if</span>(SSL_CTX_set_tmp_ecdh(ctx-&gt;native_handle(), (EC_KEY*)ecdh) != 1)</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>(chain::http_exception, <span class="stringliteral">&quot;Failed to set ECDH PFS&quot;</span>);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>               <span class="keywordflow">if</span>(SSL_CTX_set_cipher_list(ctx-&gt;native_handle(), \</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                  <span class="stringliteral">&quot;EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:AES256:&quot;</span> \</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                  <span class="stringliteral">&quot;!DHE:!RSA:!AES128:!RC4:!DES:!3DES:!DSS:!SRP:!PSK:!EXP:!MD5:!LOW:!aNULL:!eNULL&quot;</span>) != 1)</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>(chain::http_exception, <span class="stringliteral">&quot;Failed to set HTTPS cipher list&quot;</span>);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;https server initialization error: ${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            } <span class="keywordflow">catch</span>(std::exception&amp; e) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;https server initialization error: ${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>()) );</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            <span class="keywordflow">return</span> ctx;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>         }</div>
</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="foldopen" id="foldopen00274" data-start="{" data-end="}">
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a668706ea3386fca0f7adcaedae59775a">  274</a></span>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a668706ea3386fca0f7adcaedae59775a">handle_exception</a>(<a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> con) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            <span class="keywordtype">string</span> err = <span class="stringliteral">&quot;Internal Service error, http: &quot;</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            <span class="keyword">const</span> <span class="keyword">auto</span> deadline = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() + <a class="code hl_variable" href="classfc_1_1exception.html#a13463219d1d09f150e987fe1b0368752">fc::exception::format_time_limit</a>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>               con-&gt;set_status( <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a> );</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>               } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                  err += e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>();</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, err));</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                  <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a>,</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                                        <span class="stringliteral">&quot;Internal Service Error&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>( e, verbose_http_errors )};</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                  con-&gt;set_body( <a class="code hl_function" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>, deadline ));</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>               } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                  err += e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>();</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, err));</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                  <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a>,</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                                        <span class="stringliteral">&quot;Internal Service Error&quot;</span>,</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                                        <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>( <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( error, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>())),</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                                                                   verbose_http_errors )};</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                  con-&gt;set_body( <a class="code hl_function" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>, deadline ));</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>               } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                  err += <span class="stringliteral">&quot;Unknown Exception&quot;</span>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                  <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a>,</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                                        <span class="stringliteral">&quot;Internal Service Error&quot;</span>,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                                        <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                                              <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( error, <span class="stringliteral">&quot;Unknown Exception&quot;</span> )),</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                                              verbose_http_errors )};</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                  con-&gt;set_body( <a class="code hl_function" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>, deadline ));</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>               }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            } <span class="keywordflow">catch</span> (fc::timeout_exception&amp; e) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>               con-&gt;set_body( R<span class="stringliteral">&quot;xxx({&quot;message&quot;: &quot;Internal Server Error&quot;})xxx&quot; );</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="stringliteral">               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, </span><span class="stringliteral">&quot;Timeout exception ${te} attempting to handle exception: ${e}&quot;</span>, (<span class="stringliteral">&quot;te&quot;</span>, e.to_detail_string())(<span class="stringliteral">&quot;e&quot;</span>, err) );</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>               con-&gt;set_body( R<span class="stringliteral">&quot;xxx({&quot;message&quot;: &quot;Internal Server Error&quot;})xxx&quot; );</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="stringliteral">               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, </span><span class="stringliteral">&quot;Exception attempting to handle exception: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, err) );</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            con-&gt;send_http_response();</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>         }</div>
</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="foldopen" id="foldopen00315" data-start="{" data-end="}">
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#afd52921beb895ab06e683c0f937d9d98">  315</a></span>         <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#afd52921beb895ab06e683c0f937d9d98">allow_host</a>(<span class="keyword">const</span> <span class="keyword">typename</span> T::request_type&amp; req, <a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> con) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="keywordtype">bool</span> is_secure = con-&gt;get_uri()-&gt;get_secure();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; local_endpoint = con-&gt;get_socket().lowest_layer().local_endpoint();</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            <span class="keyword">auto</span> local_socket_host_port = local_endpoint.address().to_string() + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(local_endpoint.port());</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; host_str = req.get_header(<span class="stringliteral">&quot;Host&quot;</span>);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <span class="keywordflow">if</span> (host_str.empty() || !<a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a4da223ff7cccbd6cc3bc3efc6b4044f4">host_is_valid</a>(host_str, local_socket_host_port, is_secure)) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>               con-&gt;set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">websocketpp::http::status_code::bad_request</a>);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>               <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>         }</div>
</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#affd6afa6346ed7ad2a5da35038c0df2f">  329</a></span>         <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#affd6afa6346ed7ad2a5da35038c0df2f">verify_max_bytes_in_flight</a>( <span class="keyword">const</span> <a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a>&amp; con ) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            <span class="keyword">auto</span> bytes_in_flight_size = <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#a96638486ee91563aed0aeb5bae4f6b98">bytes_in_flight</a>.load();</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            <span class="keywordflow">if</span>( bytes_in_flight_size &gt; <a class="code hl_variable" href="classsysio_1_1http__plugin__impl.html#af640e8c9792d347320406262264c831f">max_bytes_in_flight</a> ) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>               <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;429 - too many bytes in flight: ${bytes}&quot;</span>, (<span class="stringliteral">&quot;bytes&quot;</span>, bytes_in_flight_size) );</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>               <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a> ei;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>               ei.<a class="code hl_variable" href="structsysio_1_1error__results_1_1error__info.html#a1fa571524b29ec9a3017875712a24635">code</a> = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8">websocketpp::http::status_code::too_many_requests</a>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>               ei.<a class="code hl_variable" href="structsysio_1_1error__results_1_1error__info.html#a93cc9a72260af2e3dae5f9950e15202a">name</a> = <span class="stringliteral">&quot;Busy&quot;</span>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>               ei.<a class="code hl_variable" href="structsysio_1_1error__results_1_1error__info.html#ad7ce67209863bf89f9bad491aa6f00a6">what</a> = <span class="stringliteral">&quot;Too many bytes in flight: &quot;</span> + std::to_string( bytes_in_flight_size );</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>               <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8">websocketpp::http::status_code::too_many_requests</a>, <span class="stringliteral">&quot;Busy&quot;</span>, ei};</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>               con-&gt;set_body( <a class="code hl_function" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>, <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>() ));</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>               con-&gt;set_status( <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8">websocketpp::http::status_code::too_many_requests</a> );</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>               con-&gt;send_http_response();</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>               <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span> </div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>         }</div>
</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00354" data-start="{" data-end="};">
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">  354</a></span>         <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a> : <span class="keyword">public</span> <a class="code hl_struct" href="structsysio_1_1detail_1_1abstract__conn.html">detail::abstract_conn</a> {</div>
<div class="foldopen" id="foldopen00355" data-start="{" data-end="}">
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9eadf58cbfb51c7aef319093b7289d08">  355</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9eadf58cbfb51c7aef319093b7289d08">abstract_conn_impl</a>(<a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> conn, <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> impl)</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            :<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(conn))</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            ,<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#aa820767c22c0054b8178fff7adfdd748">_impl</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(impl))</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            {}</div>
</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span> </div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="comment">// No copy constructor and no move</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a607121c3305b204bc89a1cb2adc5de75">  361</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a607121c3305b204bc89a1cb2adc5de75">abstract_conn_impl</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a6019d3f258dcb78f2730c6f43febe2ec">  362</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a6019d3f258dcb78f2730c6f43febe2ec">abstract_conn_impl</a>(<a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#af7015a2519caf3d2c6e39f8accb96eb9">  363</a></span>            <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#af7015a2519caf3d2c6e39f8accb96eb9">operator=</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#acecd4c19092d833718fe02f7ff80213e">  364</a></span>            <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#acecd4c19092d833718fe02f7ff80213e">operator=</a>(<a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>&amp;&amp;) noexcept = default;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a3ef5844a176b49f480fd4891e5db74fd">  366</a></span>            ~<a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">abstract_conn_impl</a>() = default;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="foldopen" id="foldopen00368" data-start="{" data-end="}">
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9cbb007316e018e82e1b6d2f069e9ad1">  368</a></span>            <span class="keywordtype">bool</span> <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9cbb007316e018e82e1b6d2f069e9ad1">verify_max_bytes_in_flight</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>               <span class="keywordflow">return</span> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#aa820767c22c0054b8178fff7adfdd748">_impl</a>-&gt;<a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9cbb007316e018e82e1b6d2f069e9ad1">verify_max_bytes_in_flight</a>(<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>);</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            }</div>
</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="foldopen" id="foldopen00372" data-start="{" data-end="}">
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ad5aa277edc9e110da2050d05690fe85d">  372</a></span>            <span class="keywordtype">void</span> <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ad5aa277edc9e110da2050d05690fe85d">handle_exception</a>()<span class="keyword">override </span>{</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>               <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a668706ea3386fca0f7adcaedae59775a">http_plugin_impl::handle_exception&lt;T&gt;</a>(<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            }</div>
</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="foldopen" id="foldopen00376" data-start="{" data-end="}">
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a79142fbd5b2b1771e998f93cccbbab30">  376</a></span>            <span class="keywordtype">void</span> <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a79142fbd5b2b1771e998f93cccbbab30">send_response</a>(std::string body, <span class="keywordtype">int</span> code)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>-&gt;set_body(std::move(body));</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>-&gt;set_status( <a class="code hl_enumeration" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">websocketpp::http::status_code::value</a>( code ) );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>-&gt;send_http_response();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            }</div>
</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">  382</a></span>            <a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">_conn</a>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#aa820767c22c0054b8178fff7adfdd748">  383</a></span>            <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#aa820767c22c0054b8178fff7adfdd748">_impl</a>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>         };</div>
</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00394" data-start="{" data-end="}">
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a6df1954783d4d142c8463b916038dbe3">  394</a></span>         <span class="keyword">static</span> <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">detail::abstract_conn_ptr</a> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a6df1954783d4d142c8463b916038dbe3">make_abstract_conn_ptr</a>( <a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> conn, <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> impl ) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            <span class="keywordflow">return</span> std::make_shared&lt;abstract_conn_impl&lt;T&gt;&gt;(std::move(conn), std::move(impl));</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>         }</div>
</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00405" data-start="{" data-end="};">
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">  405</a></span>         <span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a> {</div>
<div class="foldopen" id="foldopen00406" data-start="{" data-end="}">
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#ae3bed859d74c8e3acf1e1b8730f61bcf">  406</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#ae3bed859d74c8e3acf1e1b8730f61bcf">in_flight</a>(<a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a>&amp;&amp; <span class="keywordtype">object</span>, <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> impl)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>            :<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a85d991d90970121ba1480cd98d93aab9">object</a>))</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            ,<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(impl))</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a> = detail::in_flight_sizeof(<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>);</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>-&gt;bytes_in_flight += <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            }</div>
</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="foldopen" id="foldopen00414" data-start="{" data-end="}">
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#acf19590fea61abe9358d0e893b36e218">  414</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#acf19590fea61abe9358d0e893b36e218">~in_flight</a>() {</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                  <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>-&gt;bytes_in_flight -= <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>               }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            }</div>
</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <span class="comment">// No copy constructor, but allow move</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a8660b7777f96b485f1d4a26863dcec1d">  421</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a8660b7777f96b485f1d4a26863dcec1d">in_flight</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="foldopen" id="foldopen00422" data-start="{" data-end="}">
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a0cc038eaf3f74e250d1208cf409ce1e4">  422</a></span>            <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a0cc038eaf3f74e250d1208cf409ce1e4">in_flight</a>(<a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp;&amp; from)</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>            :<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(from.<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>))</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            ,<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>(from.<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>)</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            ,<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>(<a class="code hl_namespace" href="namespacestd.html">std</a>::move(from.<a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>))</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>               from._count = 0;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>            }</div>
</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            <span class="comment">// No copy assignment, but allow move</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a7f2082d20fde08911cc15d38a2027708">  431</a></span>            <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a7f2082d20fde08911cc15d38a2027708">operator=</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="foldopen" id="foldopen00432" data-start="{" data-end="}">
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a9f56b18f0011fffde8dcc9425ec10e7d">  432</a></span>            <a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a9f56b18f0011fffde8dcc9425ec10e7d">operator=</a>(<a class="code hl_struct" href="structsysio_1_1http__plugin__impl_1_1in__flight.html">in_flight</a>&amp;&amp; from) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a> = std::move(from._object);</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a> = from._count;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>               <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a> = std::move(from._impl);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>               from._count = 0;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            }</div>
</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="foldopen" id="foldopen00443" data-start="{" data-end="}">
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#afc091ff5c3a0bd9c26fb925b1de45f5d">  443</a></span>            <span class="keyword">const</span> <a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#afc091ff5c3a0bd9c26fb925b1de45f5d">operator* </a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>               <span class="keywordflow">return</span> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            }</div>
</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span> </div>
<div class="foldopen" id="foldopen00451" data-start="{" data-end="}">
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a1bd7cec62c1f3e6e2737b41b5ef854ca">  451</a></span>            <a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a>&amp; <a class="code hl_function" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#afc091ff5c3a0bd9c26fb925b1de45f5d">operator* </a>() {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>               <span class="keywordflow">return</span> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            }</div>
</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">  455</a></span>            <a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">_object</a>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">  456</a></span>            <span class="keywordtype">size_t</span> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">_count</a>;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno"><a class="line" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">  457</a></span>            <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> <a class="code hl_variable" href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">_impl</a>;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>         };</div>
</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00464" data-start="{" data-end="}">
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#aa0655ed2bc3eca38225bc2c11f5d05a1">  464</a></span>         <span class="keyword">static</span> <span class="keyword">auto</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#aa0655ed2bc3eca38225bc2c11f5d05a1">make_in_flight</a>(<a class="code hl_define" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a>&amp;&amp; <span class="keywordtype">object</span>, <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> impl) {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            <span class="keywordflow">return</span> std::make_shared&lt;in_flight&lt;T&gt;&gt;(std::forward&lt;T&gt;(<span class="keywordtype">object</span>), std::move(impl));</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>         }</div>
</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="foldopen" id="foldopen00478" data-start="{" data-end="}">
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a745562a0a7b42f9c002bc09731571bb6">  478</a></span>         <span class="keyword">static</span> <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a69779241e30dfcc06bd60e313d84f78a">detail::internal_url_handler</a> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a745562a0a7b42f9c002bc09731571bb6">make_app_thread_url_handler</a>( <span class="keywordtype">int</span> <a class="code hl_struct" href="structappbase_1_1priority.html">priority</a>, <a class="code hl_typedef" href="namespacesysio.html#a99c82a51bf462442f89e68cd48f103a6">url_handler</a> next, <a class="code hl_typedef" href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">http_plugin_impl_ptr</a> my ) {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            <span class="keyword">auto</span> next_ptr = std::make_shared&lt;url_handler&gt;(std::move(next));</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            <span class="keywordflow">return</span> [my=std::move(my), <a class="code hl_struct" href="structappbase_1_1priority.html">priority</a>, next_ptr=std::move(next_ptr)]</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                       ( <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">detail::abstract_conn_ptr</a> conn, <span class="keywordtype">string</span> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <span class="keywordtype">string</span> b, <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a> then ) {</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>               <span class="keyword">auto</span> tracked_b = <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#aa0655ed2bc3eca38225bc2c11f5d05a1">make_in_flight&lt;string&gt;</a>(std::move(b), my);</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>               <span class="keywordflow">if</span> (!conn-&gt;verify_max_bytes_in_flight()) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>                  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>               }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>               <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a> wrapped_then = [tracked_b, then=std::move(then)](<span class="keywordtype">int</span> code, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> resp) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                  then(code, std::move(resp));</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>               };</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>               <span class="comment">// post to the app thread taking shared ownership of next (via std::shared_ptr),</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>               <span class="comment">// sole ownership of the tracked body and the passed in parameters</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>               <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( <a class="code hl_struct" href="structappbase_1_1priority.html">priority</a>, [next_ptr, conn=std::move(conn), <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>=std::move(<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>), tracked_b, wrapped_then=std::move(wrapped_then)]() <span class="keyword">mutable</span> {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                  <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                     <span class="comment">// call the `next` url_handler and wrap the response handler</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                     (*next_ptr)( std::move( <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> ), std::move(*(*tracked_b)), std::move(wrapped_then)) ;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                  } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                     conn-&gt;handle_exception();</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                  }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>               } );</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            };</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>         }</div>
</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="foldopen" id="foldopen00511" data-start="{" data-end="}">
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#aa7dfe2090a6e5aee9ae7a90dcb305869">  511</a></span>         <span class="keyword">static</span> <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a69779241e30dfcc06bd60e313d84f78a">detail::internal_url_handler</a> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#aa7dfe2090a6e5aee9ae7a90dcb305869">make_http_thread_url_handler</a>(<a class="code hl_typedef" href="namespacesysio.html#a99c82a51bf462442f89e68cd48f103a6">url_handler</a> next) {</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>            <span class="keywordflow">return</span> [next=std::move(next)]( <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">detail::abstract_conn_ptr</a> conn, <span class="keywordtype">string</span> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>, <span class="keywordtype">string</span> b, <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a> then ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                  next(std::move(<a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>), std::move(b), std::move(then));</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>               } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                  conn-&gt;handle_exception();</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>               }</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>             };</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>         }</div>
</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="foldopen" id="foldopen00529" data-start="{" data-end="}">
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a88e767bd921e5bbef2263ee4ce215c94">  529</a></span>         <span class="keyword">auto</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a88e767bd921e5bbef2263ee4ce215c94">make_http_response_handler</a>( <a class="code hl_typedef" href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">detail::abstract_conn_ptr</a> abstract_conn_ptr) {</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            <span class="keywordflow">return</span> [my=shared_from_this(), abstract_conn_ptr]( <span class="keywordtype">int</span> code, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> response ) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>               <span class="keyword">auto</span> tracked_response = <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#aa0655ed2bc3eca38225bc2c11f5d05a1">make_in_flight</a>(std::move(response), my);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>               <span class="keywordflow">if</span> (!abstract_conn_ptr-&gt;verify_max_bytes_in_flight()) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>                  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>               }</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span> </div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>               <span class="comment">// post  back to an HTTP thread to to allow the response handler to be called from any thread</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>               boost::asio::post( my-&gt;thread_pool-&gt;get_executor(),</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                                  [my, abstract_conn_ptr, code, tracked_response=std::move(tracked_response)]() {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                  try {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                     std::string json = fc::json::to_string( *(*tracked_response), fc::time_point::now() + my-&gt;max_response_time );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                     auto tracked_json = make_in_flight(std::move(json), my);</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                     abstract_conn_ptr-&gt;send_response(std::move(*(*tracked_json)), code);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>                  } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>                     abstract_conn_ptr-&gt;handle_exception();</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>                  }</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>               });</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>            };</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>         }</div>
</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="foldopen" id="foldopen00551" data-start="{" data-end="}">
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#ad6394e6812d11a23c51c926e126703e6">  551</a></span>         <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#ad6394e6812d11a23c51c926e126703e6">handle_http_request</a>(<a class="code hl_typedef" href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">detail::connection_ptr&lt;T&gt;</a> con) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>               <span class="keyword">auto</span>&amp; req = con-&gt;get_request();</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>               <span class="keywordflow">if</span>(!allow_host&lt;T&gt;(req, con))</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>               <span class="keywordflow">if</span>( !access_control_allow_origin.empty()) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                  con-&gt;append_header( <span class="stringliteral">&quot;Access-Control-Allow-Origin&quot;</span>, access_control_allow_origin );</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>               }</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>               <span class="keywordflow">if</span>( !access_control_allow_headers.empty()) {</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                  con-&gt;append_header( <span class="stringliteral">&quot;Access-Control-Allow-Headers&quot;</span>, access_control_allow_headers );</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>               }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>               <span class="keywordflow">if</span>( !access_control_max_age.empty()) {</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                  con-&gt;append_header( <span class="stringliteral">&quot;Access-Control-Max-Age&quot;</span>, access_control_max_age );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>               }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>               <span class="keywordflow">if</span>( access_control_allow_credentials ) {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                  con-&gt;append_header( <span class="stringliteral">&quot;Access-Control-Allow-Credentials&quot;</span>, <span class="stringliteral">&quot;true&quot;</span> );</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>               }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>               <span class="keywordflow">if</span>(req.get_method() == <span class="stringliteral">&quot;OPTIONS&quot;</span>) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                  con-&gt;set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a289caa931313b2f373b33032e3661733">websocketpp::http::status_code::ok</a>);</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                  <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>               }</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span> </div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>               con-&gt;append_header( <span class="stringliteral">&quot;Content-type&quot;</span>, <span class="stringliteral">&quot;application/json&quot;</span> );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>               con-&gt;defer_http_response();</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>               <span class="keyword">auto</span> abstract_conn_ptr = make_abstract_conn_ptr&lt;T&gt;(con, shared_from_this());</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>               <span class="keywordflow">if</span>( !verify_max_bytes_in_flight( con )) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>               std::string resource = con-&gt;get_uri()-&gt;get_resource();</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>               <span class="keyword">auto</span> handler_itr = url_handlers.find( resource );</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>               <span class="keywordflow">if</span>( handler_itr != url_handlers.end()) {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                  std::string body = con-&gt;get_request_body();</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                  handler_itr-&gt;second( abstract_conn_ptr, std::move( resource ), std::move( body ), make_http_response_handler&lt;T&gt;(abstract_conn_ptr) );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>               } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                  <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;404 - not found: ${ep}&quot;</span>, (<span class="stringliteral">&quot;ep&quot;</span>, resource) );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                  <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2">websocketpp::http::status_code::not_found</a>,</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                                        <span class="stringliteral">&quot;Not Found&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(<a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( error, <span class="stringliteral">&quot;Unknown Endpoint&quot;</span> )), verbose_http_errors )};</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                  con-&gt;set_body( <a class="code hl_function" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>, <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() + max_response_time ));</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                  con-&gt;set_status( <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2">websocketpp::http::status_code::not_found</a> );</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>                  con-&gt;send_http_response();</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>               }</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>               handle_exception&lt;T&gt;( con );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            }</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>         }</div>
</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span> </div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="foldopen" id="foldopen00601" data-start="{" data-end="}">
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a4de518d5c5cb8a4bc7dc84b73e9e5432">  601</a></span>         <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a4de518d5c5cb8a4bc7dc84b73e9e5432">create_server_for_endpoint</a>(<span class="keyword">const</span> tcp::endpoint&amp; ep, <a class="code hl_class" href="classwebsocketpp_1_1server.html">websocketpp::server</a>&lt;<a class="code hl_struct" href="structsysio_1_1detail_1_1asio__with__stub__log.html">detail::asio_with_stub_log&lt;T&gt;</a>&gt;&amp; <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>) {</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>               <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.clear_access_channels(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a853aa0b8976e53f3181af3bc398d493e">websocketpp::log::alevel::all</a>);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>               <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.init_asio( &amp;thread_pool-&gt;get_executor() );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>               <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.set_reuse_addr(<span class="keyword">true</span>);</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>               <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.set_max_http_body_size(max_body_size);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>               <span class="comment">// captures `this` &amp; ws, my needs to live as long as server is handling requests</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>               <a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.set_http_handler([&amp;](<a class="code hl_typedef" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a> hdl) {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                  handle_http_request&lt;detail::asio_with_stub_log&lt;T&gt;&gt;(<a class="code hl_function" href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a>.get_con_from_hdl(hdl));</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>               });</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ){</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;http: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ){</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;http: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>()) );</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;error thrown from http io service&quot;</span> );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>         }</div>
</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="foldopen" id="foldopen00620" data-start="{" data-end="}">
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin__impl.html#a368e4f899f89984b5847fe13700acca9">  620</a></span>         <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin__impl.html#a368e4f899f89984b5847fe13700acca9">add_aliases_for_endpoint</a>( <span class="keyword">const</span> tcp::endpoint&amp; ep, <span class="keywordtype">string</span> host, <span class="keywordtype">string</span> port ) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            <span class="keyword">auto</span> resolved_port_str = std::to_string(ep.port());</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            valid_hosts.emplace(host + <span class="stringliteral">&quot;:&quot;</span> + port);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            valid_hosts.emplace(host + <span class="stringliteral">&quot;:&quot;</span> + resolved_port_str);</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>         }</div>
</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>   };</div>
</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span> </div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>   <span class="keyword">template</span>&lt;&gt;</div>
<div class="foldopen" id="foldopen00628" data-start="{" data-end="}">
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno"><a class="line" href="namespacesysio.html#af638df523bcc96fc74313bff704f366b">  628</a></span>   <span class="keywordtype">bool</span> http_plugin_impl::allow_host&lt;detail::asio_local_with_stub_log&gt;(<span class="keyword">const</span> <a class="code hl_typedef" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab652ce50200b9d9c16b915c7cb4e9c33">detail::asio_local_with_stub_log::request_type</a>&amp; req, <a class="code hl_typedef" href="classwebsocketpp_1_1server.html#abb895563dddafdc1426997d245cbd7cb">websocketpp::server&lt;detail::asio_local_with_stub_log&gt;::connection_ptr</a> con) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>   }</div>
</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="foldopen" id="foldopen00632" data-start="{" data-end="}">
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#acc8cd394ff2ce78a1fd42f87e1ef3f87">  632</a></span>   http_plugin::http_plugin():my(new <a class="code hl_class" href="classsysio_1_1http__plugin__impl.html">http_plugin_impl</a>()){</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">register_config_type</a>&lt;<a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a>&gt;();</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>   }</div>
</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a8e586898c5b1828142124f182fd536f6">  635</a></span>   <a class="code hl_function" href="classsysio_1_1http__plugin.html#a8e586898c5b1828142124f182fd536f6">http_plugin::~http_plugin</a>(){}</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="foldopen" id="foldopen00637" data-start="{" data-end="}">
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a4be137b6ad169ee4e2b745a50ba1a874">  637</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a4be137b6ad169ee4e2b745a50ba1a874">http_plugin::set_program_options</a>(options_description&amp;, options_description&amp; cfg) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>      <span class="keywordflow">if</span>(current_http_plugin_defaults.<a class="code hl_variable" href="structsysio_1_1http__plugin__defaults.html#a0f0c286c3aa87f8b51cb373ae4a5b245">default_unix_socket_path</a>.length())</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>         cfg.add_options()</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            (<span class="stringliteral">&quot;unix-socket-path&quot;</span>, bpo::value&lt;string&gt;()-&gt;default_value(current_http_plugin_defaults.<a class="code hl_variable" href="structsysio_1_1http__plugin__defaults.html#a0f0c286c3aa87f8b51cb373ae4a5b245">default_unix_socket_path</a>),</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>             <span class="stringliteral">&quot;The filename (relative to data-dir) to create a unix socket for HTTP RPC; set blank to disable.&quot;</span>);</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>         cfg.add_options()</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            (<span class="stringliteral">&quot;unix-socket-path&quot;</span>, bpo::value&lt;string&gt;(),</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>             <span class="stringliteral">&quot;The filename (relative to data-dir) to create a unix socket for HTTP RPC; set blank to disable.&quot;</span>);</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>      <span class="keywordflow">if</span>(current_http_plugin_defaults.<a class="code hl_variable" href="structsysio_1_1http__plugin__defaults.html#a258689cc5f13c2b43faaec59be488608">default_http_port</a>)</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>         cfg.add_options()</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            (<span class="stringliteral">&quot;http-server-address&quot;</span>, bpo::value&lt;string&gt;()-&gt;default_value(<span class="stringliteral">&quot;127.0.0.1:&quot;</span> + std::to_string(current_http_plugin_defaults.<a class="code hl_variable" href="structsysio_1_1http__plugin__defaults.html#a258689cc5f13c2b43faaec59be488608">default_http_port</a>)),</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>             <span class="stringliteral">&quot;The local IP and port to listen for incoming http connections; set blank to disable.&quot;</span>);</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>         cfg.add_options()</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            (<span class="stringliteral">&quot;http-server-address&quot;</span>, bpo::value&lt;string&gt;(),</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>             <span class="stringliteral">&quot;The local IP and port to listen for incoming http connections; leave blank to disable.&quot;</span>);</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>      cfg.add_options()</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            (<span class="stringliteral">&quot;https-server-address&quot;</span>, bpo::value&lt;string&gt;(),</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>             <span class="stringliteral">&quot;The local IP and port to listen for incoming https connections; leave blank to disable.&quot;</span>)</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>            (<span class="stringliteral">&quot;https-certificate-chain-file&quot;</span>, bpo::value&lt;string&gt;(),</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>             <span class="stringliteral">&quot;Filename with the certificate chain to present on https connections. PEM format. Required for https.&quot;</span>)</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            (<span class="stringliteral">&quot;https-private-key-file&quot;</span>, bpo::value&lt;string&gt;(),</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>             <span class="stringliteral">&quot;Filename with https private key in PEM format. Required for https&quot;</span>)</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            (<span class="stringliteral">&quot;https-ecdh-curve&quot;</span>, bpo::value&lt;https_ecdh_curve_t&gt;()-&gt;notifier([<span class="keyword">this</span>](<a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a> c) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>               my-&gt;https_ecdh_curve = c;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            })-&gt;default_value(<a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a>),</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            <span class="stringliteral">&quot;Configure https ECDH curve to use: secp384r1 or prime256v1&quot;</span>)</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            (<span class="stringliteral">&quot;access-control-allow-origin&quot;</span>, bpo::value&lt;string&gt;()-&gt;notifier([<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; v) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                my-&gt;access_control_allow_origin = v;</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;configured http with Access-Control-Allow-Origin: ${o}&quot;</span>,</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                         (<span class="stringliteral">&quot;o&quot;</span>, my-&gt;access_control_allow_origin) );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>             }),</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>             <span class="stringliteral">&quot;Specify the Access-Control-Allow-Origin to be returned on each request.&quot;</span>)</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span> </div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>            (<span class="stringliteral">&quot;access-control-allow-headers&quot;</span>, bpo::value&lt;string&gt;()-&gt;notifier([<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; v) {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                my-&gt;access_control_allow_headers = v;</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;configured http with Access-Control-Allow-Headers : ${o}&quot;</span>,</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                         (<span class="stringliteral">&quot;o&quot;</span>, my-&gt;access_control_allow_headers) );</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>             }),</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>             <span class="stringliteral">&quot;Specify the Access-Control-Allow-Headers to be returned on each request.&quot;</span>)</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            (<span class="stringliteral">&quot;access-control-max-age&quot;</span>, bpo::value&lt;string&gt;()-&gt;notifier([<span class="keyword">this</span>](<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; v) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                my-&gt;access_control_max_age = v;</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;configured http with Access-Control-Max-Age : ${o}&quot;</span>,</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                         (<span class="stringliteral">&quot;o&quot;</span>, my-&gt;access_control_max_age) );</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>             }),</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>             <span class="stringliteral">&quot;Specify the Access-Control-Max-Age to be returned on each request.&quot;</span>)</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            (<span class="stringliteral">&quot;access-control-allow-credentials&quot;</span>,</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>             bpo::bool_switch()-&gt;notifier([<span class="keyword">this</span>](<span class="keywordtype">bool</span> v) {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                my-&gt;access_control_allow_credentials = v;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                <span class="keywordflow">if</span>( v ) <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;configured http with Access-Control-Allow-Credentials: true&quot;</span> );</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>             })-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>             <span class="stringliteral">&quot;Specify if Access-Control-Allow-Credentials: true should be returned on each request.&quot;</span>)</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            (<span class="stringliteral">&quot;max-body-size&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(my-&gt;max_body_size),</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>             <span class="stringliteral">&quot;The maximum body size in bytes allowed for incoming RPC requests&quot;</span>)</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            (<span class="stringliteral">&quot;http-max-bytes-in-flight-mb&quot;</span>, bpo::value&lt;int64_t&gt;()-&gt;default_value(500),</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>             <span class="stringliteral">&quot;Maximum size in megabytes http_plugin should use for processing http requests. -1 for unlimited. 429 error response when exceeded.&quot;</span> )</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            (<span class="stringliteral">&quot;http-max-response-time-ms&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(30),</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>             <span class="stringliteral">&quot;Maximum time for processing a request.&quot;</span>)</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            (<span class="stringliteral">&quot;verbose-http-errors&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>             <span class="stringliteral">&quot;Append the error log to HTTP responses&quot;</span>)</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            (<span class="stringliteral">&quot;http-validate-host&quot;</span>, boost::program_options::value&lt;bool&gt;()-&gt;default_value(<span class="keyword">true</span>),</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>             <span class="stringliteral">&quot;If set to false, then any incoming \&quot;Host\&quot; header is considered valid&quot;</span>)</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            (<span class="stringliteral">&quot;http-alias&quot;</span>, bpo::value&lt;std::vector&lt;string&gt;&gt;()-&gt;composing(),</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>             <span class="stringliteral">&quot;Additionaly acceptable values for the \&quot;Host\&quot; header of incoming HTTP requests, can be specified multiple times.  Includes http/s_server_address by default.&quot;</span>)</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            (<span class="stringliteral">&quot;http-threads&quot;</span>, bpo::value&lt;uint16_t&gt;()-&gt;default_value( my-&gt;thread_pool_size ),</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>             <span class="stringliteral">&quot;Number of worker threads in http thread pool&quot;</span>)</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>            ;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>   }</div>
</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span> </div>
<div class="foldopen" id="foldopen00715" data-start="{" data-end="}">
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#abafb2339628893273c194f690f790ed1">  715</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#abafb2339628893273c194f690f790ed1">http_plugin::plugin_initialize</a>(<span class="keyword">const</span> variables_map&amp; options) {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>         my-&gt;max_body_size = options.at( <span class="stringliteral">&quot;max-body-size&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>         verbose_http_errors = options.at( <span class="stringliteral">&quot;verbose-http-errors&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>         my-&gt;thread_pool_size = options.at( <span class="stringliteral">&quot;http-threads&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&gt;();</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( my-&gt;thread_pool_size &gt; 0, chain::plugin_config_exception,</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                     <span class="stringliteral">&quot;http-threads ${num} must be greater than 0&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, my-&gt;thread_pool_size));</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span> </div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>         <span class="keyword">auto</span> max_bytes_mb = options.at( <span class="stringliteral">&quot;http-max-bytes-in-flight-mb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>&gt;();</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( (max_bytes_mb &gt;= -1 &amp;&amp; max_bytes_mb &lt; std::numeric_limits&lt;int64_t&gt;::max() / (1024 * 1024)), chain::plugin_config_exception,</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>                     <span class="stringliteral">&quot;http-max-bytes-in-flight-mb (${max_bytes_mb}) must be equal to or greater than -1 and less than ${max}&quot;</span>, (<span class="stringliteral">&quot;max_bytes_mb&quot;</span>, max_bytes_mb) (<span class="stringliteral">&quot;max&quot;</span>, std::numeric_limits&lt;int64_t&gt;::max() / (1024 * 1024)) );</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>         <span class="keywordflow">if</span> ( max_bytes_mb == -1 ) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            my-&gt;max_bytes_in_flight = std::numeric_limits&lt;size_t&gt;::max();</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            my-&gt;max_bytes_in_flight = max_bytes_mb * 1024 * 1024;</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>         }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>         my-&gt;max_response_time = <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>( options.at(<span class="stringliteral">&quot;http-max-response-time-ms&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;() * 1000 );</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>         </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>         my-&gt;validate_host = options.at(<span class="stringliteral">&quot;http-validate-host&quot;</span>).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;http-alias&quot;</span> )) {</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; aliases = options[<span class="stringliteral">&quot;http-alias&quot;</span>].as&lt;<a class="code hl_class" href="classfc_1_1vector.html">vector&lt;string&gt;</a>&gt;();</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            my-&gt;valid_hosts.insert(aliases.begin(), aliases.end());</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>         }</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>         tcp::resolver resolver( <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_io_service());</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;http-server-address&quot;</span> ) &amp;&amp; options.at( <span class="stringliteral">&quot;http-server-address&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;().length()) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="keywordtype">string</span> lipstr = options.at( <span class="stringliteral">&quot;http-server-address&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordtype">string</span> host = lipstr.substr( 0, lipstr.find( <span class="charliteral">&#39;:&#39;</span> ));</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <span class="keywordtype">string</span> port = lipstr.substr( host.size() + 1, lipstr.size());</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            tcp::resolver::query query( tcp::v4(), host.c_str(), port.c_str());</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>               my-&gt;listen_endpoint = *resolver.resolve( query );</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;configured http to listen on ${h}:${p}&quot;</span>, (<span class="stringliteral">&quot;h&quot;</span>, host)( <span class="stringliteral">&quot;p&quot;</span>, port ));</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::system::system_error&amp; ec ) {</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;failed to configure http to listen on ${h}:${p} (${m})&quot;</span>,</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                     (<span class="stringliteral">&quot;h&quot;</span>, host)( <span class="stringliteral">&quot;p&quot;</span>, port )( <span class="stringliteral">&quot;m&quot;</span>, ec.what()));</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            <span class="comment">// add in resolved hosts and ports as well</span></div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            <span class="keywordflow">if</span> (my-&gt;listen_endpoint) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>               my-&gt;add_aliases_for_endpoint(*my-&gt;listen_endpoint, host, port);</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            }</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>         }</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;unix-socket-path&quot;</span> ) &amp;&amp; !options.at( <span class="stringliteral">&quot;unix-socket-path&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;().empty()) {</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            boost::filesystem::path sock_path = options.at(<span class="stringliteral">&quot;unix-socket-path&quot;</span>).as&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            <span class="keywordflow">if</span> (sock_path.is_relative())</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>               sock_path = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a5dfd3cfb1124c57963fa17b3f4aabbe1">data_dir</a>() / sock_path;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            my-&gt;unix_endpoint = asio::local::stream_protocol::endpoint(sock_path.string());</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>         }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;https-server-address&quot;</span> ) &amp;&amp; options.at( <span class="stringliteral">&quot;https-server-address&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;().length()) {</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>            <span class="keywordflow">if</span>( !options.count( <span class="stringliteral">&quot;https-certificate-chain-file&quot;</span> ) ||</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                options.at( <span class="stringliteral">&quot;https-certificate-chain-file&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;().empty()) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;https-certificate-chain-file is required for HTTPS&quot;</span> );</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>               <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="keywordflow">if</span>( !options.count( <span class="stringliteral">&quot;https-private-key-file&quot;</span> ) ||</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>                options.at( <span class="stringliteral">&quot;https-private-key-file&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;().empty()) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;https-private-key-file is required for HTTPS&quot;</span> );</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>               <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            }</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>            <span class="keywordtype">string</span> lipstr = options.at( <span class="stringliteral">&quot;https-server-address&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <span class="keywordtype">string</span> host = lipstr.substr( 0, lipstr.find( <span class="charliteral">&#39;:&#39;</span> ));</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            <span class="keywordtype">string</span> port = lipstr.substr( host.size() + 1, lipstr.size());</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            tcp::resolver::query query( tcp::v4(), host.c_str(), port.c_str());</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>               my-&gt;https_listen_endpoint = *resolver.resolve( query );</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;configured https to listen on ${h}:${p} (TLS configuration will be validated momentarily)&quot;</span>,</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>                     (<span class="stringliteral">&quot;h&quot;</span>, host)( <span class="stringliteral">&quot;p&quot;</span>, port ));</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>               my-&gt;https_cert_chain = options.at( <span class="stringliteral">&quot;https-certificate-chain-file&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>               my-&gt;https_key = options.at( <span class="stringliteral">&quot;https-private-key-file&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::system::system_error&amp; ec ) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;failed to configure https to listen on ${h}:${p} (${m})&quot;</span>,</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                     (<span class="stringliteral">&quot;h&quot;</span>, host)( <span class="stringliteral">&quot;p&quot;</span>, port )( <span class="stringliteral">&quot;m&quot;</span>, ec.what()));</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            }</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span> </div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            <span class="comment">// add in resolved hosts and ports as well</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            <span class="keywordflow">if</span> (my-&gt;https_listen_endpoint) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>               my-&gt;add_aliases_for_endpoint(*my-&gt;https_listen_endpoint, host, port);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            }</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>         }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span> </div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>         <span class="comment">//watch out for the returns above when adding new code here</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>      } <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>   }</div>
</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="foldopen" id="foldopen00804" data-start="{" data-end="}">
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#ac1a2d5844cede3082aade8a1aeb798a2">  804</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#ac1a2d5844cede3082aade8a1aeb798a2">http_plugin::plugin_startup</a>() {</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span> </div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>      <a class="code hl_function" href="classsysio_1_1http__plugin.html#af06f52d9b86dc41618f6392a4c0640a5">handle_sighup</a>(); <span class="comment">// setup logging</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>(<a class="code hl_variable" href="structappbase_1_1priority.html#adab9a6659f361fc6ca6c855788b05df0">appbase::priority::high</a>, [<span class="keyword">this</span>] ()</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>      {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            my-&gt;thread_pool.emplace( <span class="stringliteral">&quot;http&quot;</span>, my-&gt;thread_pool_size );</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <span class="keywordflow">if</span>(my-&gt;listen_endpoint) {</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>                  my-&gt;create_server_for_endpoint(*my-&gt;listen_endpoint, my-&gt;server);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>                  <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;start listening for http requests&quot;</span> );</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>                  my-&gt;server.listen(*my-&gt;listen_endpoint);</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>                  my-&gt;server.start_accept();</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ){</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;http service failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ){</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;http service failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>()) );</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>               } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;error thrown from http io service&quot;</span> );</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>               }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span> </div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>            <span class="keywordflow">if</span>(my-&gt;unix_endpoint) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                  my-&gt;unix_server.clear_access_channels(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a853aa0b8976e53f3181af3bc398d493e">websocketpp::log::alevel::all</a>);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                  my-&gt;unix_server.init_asio( &amp;my-&gt;thread_pool-&gt;get_executor() );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                  my-&gt;unix_server.set_max_http_body_size(my-&gt;max_body_size);</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>                  my-&gt;unix_server.listen(*my-&gt;unix_endpoint);</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                  <span class="comment">// captures `this`, my needs to live as long as unix_server is handling requests</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                  my-&gt;unix_server.set_http_handler([<span class="keyword">this</span>](<a class="code hl_typedef" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a> hdl) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                     my-&gt;handle_http_request&lt;<a class="code hl_struct" href="structsysio_1_1detail_1_1asio__local__with__stub__log.html">detail::asio_local_with_stub_log</a>&gt;( my-&gt;unix_server.get_con_from_hdl(hdl));</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                  });</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                  my-&gt;unix_server.start_accept();</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ){</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;unix socket service (${path}) failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>())(<span class="stringliteral">&quot;path&quot;</span>,my-&gt;unix_endpoint-&gt;path()) );</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ){</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;unix socket service (${path}) failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>())(<span class="stringliteral">&quot;path&quot;</span>,my-&gt;unix_endpoint-&gt;path()) );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>               } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;error thrown from unix socket (${path}) io service&quot;</span>, (<span class="stringliteral">&quot;path&quot;</span>,my-&gt;unix_endpoint-&gt;path()) );</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>               }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            }</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span> </div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <span class="keywordflow">if</span>(my-&gt;https_listen_endpoint) {</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                  my-&gt;create_server_for_endpoint(*my-&gt;https_listen_endpoint, my-&gt;https_server);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                  my-&gt;https_server.set_tls_init_handler([<span class="keyword">this</span>](<a class="code hl_typedef" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">websocketpp::connection_hdl</a> hdl) -&gt; <a class="code hl_typedef" href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">ssl_context_ptr</a>{</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>                     <span class="keywordflow">return</span> my-&gt;on_tls_init(hdl);</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                  });</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span> </div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                  <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;start listening for https requests&quot;</span> );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>                  my-&gt;https_server.listen(*my-&gt;https_listen_endpoint);</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>                  my-&gt;https_server.start_accept();</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ){</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;https service failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>               } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ){</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;https service failed to start: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">what</a>()) );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>               } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                  <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;error thrown from https io service&quot;</span> );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                  <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>               }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>            }</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            <a class="code hl_function" href="classsysio_1_1http__plugin.html#a047b3b9b0f236e9a77a78887ea38b137">add_api</a>({{</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>               std::string(<span class="stringliteral">&quot;/v1/node/get_supported_apis&quot;</span>),</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>               [&amp;](<a class="code hl_typedef" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>, <span class="keywordtype">string</span> body, <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a> cb) <span class="keyword">mutable</span> {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>                  <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>                     <span class="keywordflow">if</span> (body.empty()) body = <span class="stringliteral">&quot;{}&quot;</span>;</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                     <span class="keyword">auto</span> result = (*this).get_supported_apis();</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>                     cb(200, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(result));</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>                  } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>                     <a class="code hl_function" href="classsysio_1_1http__plugin.html#acd1b5b94a136fd365c3c83a6452bc892">handle_exception</a>(<span class="stringliteral">&quot;node&quot;</span>, <span class="stringliteral">&quot;get_supported_apis&quot;</span>, body, cb);</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>                  }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>               }</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>            }});</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>         } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;http_plugin startup fails, shutting down&quot;</span>);</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>            <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a116e20109f980460cf8c38e349766bcc">shutdown</a>();</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>         }</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>      });</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>   }</div>
</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span> </div>
<div class="foldopen" id="foldopen00894" data-start="{" data-end="}">
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#af06f52d9b86dc41618f6392a4c0640a5">  894</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#af06f52d9b86dc41618f6392a4c0640a5">http_plugin::handle_sighup</a>() {</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>      <a class="code hl_function" href="classfc_1_1logger.html#a2214632598874a4e52a5500a6346515e">fc::logger::update</a>( <a class="code hl_function" href="namespacesysio.html#ad66b67a8dd0a897a0a5b89f954fd3ade">logger_name</a>, <a class="code hl_class" href="classfc_1_1logger.html">logger</a> );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>   }</div>
</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span> </div>
<div class="foldopen" id="foldopen00898" data-start="{" data-end="}">
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a7f2532369a8f5d65475b7cbcbc9c842f">  898</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a7f2532369a8f5d65475b7cbcbc9c842f">http_plugin::plugin_shutdown</a>() {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>      <span class="keywordflow">if</span>(my-&gt;server.is_listening())</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>         my-&gt;server.stop_listening();</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>      <span class="keywordflow">if</span>(my-&gt;https_server.is_listening())</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>         my-&gt;https_server.stop_listening();</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>      <span class="keywordflow">if</span>(my-&gt;unix_server.is_listening())</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>         my-&gt;unix_server.stop_listening();</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span> </div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>      <span class="keywordflow">if</span>( my-&gt;thread_pool ) {</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>         my-&gt;thread_pool-&gt;stop();</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>         my-&gt;thread_pool.reset();</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>      }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>      <span class="comment">// release http_plugin_impl_ptr shared_ptrs captured in url handlers</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>      my-&gt;url_handlers.clear();</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( 0, [me = my](){} ); <span class="comment">// keep my pointer alive until queue is drained</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>      <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;exit shutdown&quot;</span>);</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>   }</div>
</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span> </div>
<div class="foldopen" id="foldopen00918" data-start="{" data-end="}">
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a0bb9bb7e3217b57524b8a556ec946a6e">  918</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a0bb9bb7e3217b57524b8a556ec946a6e">http_plugin::add_handler</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_class" href="classfc_1_1url.html">url</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio.html#a99c82a51bf462442f89e68cd48f103a6">url_handler</a>&amp; handler, <span class="keywordtype">int</span> <a class="code hl_struct" href="structappbase_1_1priority.html">priority</a>) {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>      <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;add api url: ${c}&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_class" href="classfc_1_1url.html">url</a>) );</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>      my-&gt;url_handlers[<a class="code hl_variable" href="programs_2clio_2main_8cpp.html#aa03c1ef4c41f36b048cf58d5aade7653">url</a>] = my-&gt;make_app_thread_url_handler(<a class="code hl_struct" href="structappbase_1_1priority.html">priority</a>, handler, my);</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>   }</div>
</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span> </div>
<div class="foldopen" id="foldopen00923" data-start="{" data-end="}">
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a0d3348a2f04f70a4f4224b51d11a20d2">  923</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a0d3348a2f04f70a4f4224b51d11a20d2">http_plugin::add_async_handler</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_class" href="classfc_1_1url.html">url</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio.html#a99c82a51bf462442f89e68cd48f103a6">url_handler</a>&amp; handler) {</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>      <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;add api url: ${c}&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_class" href="classfc_1_1url.html">url</a>) );</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>      my-&gt;url_handlers[<a class="code hl_variable" href="programs_2clio_2main_8cpp.html#aa03c1ef4c41f36b048cf58d5aade7653">url</a>] = my-&gt;make_http_thread_url_handler(handler);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>   }</div>
</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="foldopen" id="foldopen00928" data-start="{" data-end="}">
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#acd1b5b94a136fd365c3c83a6452bc892">  928</a></span>   <span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#acd1b5b94a136fd365c3c83a6452bc892">http_plugin::handle_exception</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *api_name, <span class="keyword">const</span> <span class="keywordtype">char</span> *call_name, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; body, <a class="code hl_typedef" href="namespacesysio.html#ababf376b47a253805b530a023df4768c">url_response_callback</a> cb ) {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>         } <span class="keywordflow">catch</span> (chain::unknown_block_exception&amp; e) {</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{400, <span class="stringliteral">&quot;Unknown Block&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            cb( 400, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>         } <span class="keywordflow">catch</span> (chain::invalid_http_request&amp; e) {</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{400, <span class="stringliteral">&quot;Invalid Request&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>            cb( 400, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>         } <span class="keywordflow">catch</span> (chain::unsatisfied_authorization&amp; e) {</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{401, <span class="stringliteral">&quot;UnAuthorized&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>            cb( 401, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>         } <span class="keywordflow">catch</span> (chain::tx_duplicate&amp; e) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{409, <span class="stringliteral">&quot;Conflict&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>            cb( 409, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>         } <span class="keywordflow">catch</span> (fc::eof_exception&amp; e) {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{422, <span class="stringliteral">&quot;Unprocessable Entity&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            cb( 422, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Unable to parse arguments to ${api}.${call}&quot;</span>, (<span class="stringliteral">&quot;api&quot;</span>, api_name)( <span class="stringliteral">&quot;call&quot;</span>, call_name ) );</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>            <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Bad arguments: ${args}&quot;</span>, (<span class="stringliteral">&quot;args&quot;</span>, body) );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>         } <span class="keywordflow">catch</span> (<a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{500, <span class="stringliteral">&quot;Internal Service Error&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(e, verbose_http_errors)};</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>            cb( 500, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>            <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Exception while processing ${api}.${call}: ${e}&quot;</span>,</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>                     (<span class="stringliteral">&quot;api&quot;</span>, api_name)( <span class="stringliteral">&quot;call&quot;</span>, call_name )(<span class="stringliteral">&quot;e&quot;</span>, e.to_detail_string()) );</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>         } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{500, <span class="stringliteral">&quot;Internal Service Error&quot;</span>, <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(<a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( error, e.what())), verbose_http_errors)};</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            cb( 500, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;STD Exception encountered while processing ${api}.${call}&quot;</span>,</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                     (<span class="stringliteral">&quot;api&quot;</span>, api_name)( <span class="stringliteral">&quot;call&quot;</span>, call_name ) );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Exception Details: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.what()) );</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>         } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            <a class="code hl_struct" href="structsysio_1_1error__results.html">error_results</a> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a>{500, <span class="stringliteral">&quot;Internal Service Error&quot;</span>,</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>               <a class="code hl_struct" href="structsysio_1_1error__results_1_1error__info.html">error_results::error_info</a>(<a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( error, <span class="stringliteral">&quot;Unknown Exception&quot;</span> )), verbose_http_errors)};</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            cb( 500, <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">results</a> ));</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Unknown Exception encountered while processing ${api}.${call}&quot;</span>,</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>                     (<span class="stringliteral">&quot;api&quot;</span>, api_name)( <span class="stringliteral">&quot;call&quot;</span>, call_name ) );</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>         }</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>      } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>         std::cerr &lt;&lt; <span class="stringliteral">&quot;Exception attempting to handle exception for &quot;</span> &lt;&lt; api_name &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; call_name &lt;&lt; std::endl;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>      }</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>   }</div>
</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span> </div>
<div class="foldopen" id="foldopen00972" data-start="{" data-end="}">
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a9eeea65d36a7373bfbf091c47d561edd">  972</a></span>   <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a9eeea65d36a7373bfbf091c47d561edd">http_plugin::is_on_loopback</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>      <span class="keywordflow">return</span> (!my-&gt;listen_endpoint || my-&gt;listen_endpoint-&gt;address().is_loopback()) &amp;&amp; (!my-&gt;https_listen_endpoint || my-&gt;https_listen_endpoint-&gt;address().is_loopback());</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>   }</div>
</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="foldopen" id="foldopen00976" data-start="{" data-end="}">
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a4855095178fad7690f3f328dda133823">  976</a></span>   <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a4855095178fad7690f3f328dda133823">http_plugin::is_secure</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>      <span class="keywordflow">return</span> (!my-&gt;listen_endpoint || my-&gt;listen_endpoint-&gt;address().is_loopback());</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>   }</div>
</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span> </div>
<div class="foldopen" id="foldopen00980" data-start="{" data-end="}">
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a5a4ccf6f49b67c49988b6b5e3dfb84b8">  980</a></span>   <span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a5a4ccf6f49b67c49988b6b5e3dfb84b8">http_plugin::verbose_errors</a>()<span class="keyword">const </span>{</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>      <span class="keywordflow">return</span> verbose_http_errors;</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>   }</div>
</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="foldopen" id="foldopen00984" data-start="{" data-end="}">
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a66e3e0c1e174eeb51dd9f6a3084b05d6">  984</a></span>   <a class="code hl_struct" href="structsysio_1_1http__plugin_1_1get__supported__apis__result.html">http_plugin::get_supported_apis_result</a> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a66e3e0c1e174eeb51dd9f6a3084b05d6">http_plugin::get_supported_apis</a>()<span class="keyword">const </span>{</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>      <a class="code hl_struct" href="structsysio_1_1http__plugin_1_1get__supported__apis__result.html">get_supported_apis_result</a> result;</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span> </div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; handler : my-&gt;url_handlers) {</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>         <span class="keywordflow">if</span> (handler.first != <span class="stringliteral">&quot;/v1/node/get_supported_apis&quot;</span>)</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>            result.apis.emplace_back(handler.first);</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>      }</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span> </div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>   }</div>
</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="foldopen" id="foldopen00995" data-start="{" data-end="}">
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno"><a class="line" href="classsysio_1_1http__plugin.html#a9c71c16985ae48cabf1b9479c111a4e6">  995</a></span>   <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> <a class="code hl_function" href="classsysio_1_1http__plugin.html#a9c71c16985ae48cabf1b9479c111a4e6">http_plugin::get_max_response_time</a>()<span class="keyword">const </span>{</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>      <span class="keywordflow">return</span> my-&gt;max_response_time;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>   }</div>
</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="foldopen" id="foldopen00999" data-start="{" data-end="}">
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno"><a class="line" href="namespacesysio.html#abf8736d659208d79aaf3d814d83e8c29">  999</a></span>   std::istream&amp; <a class="code hl_function" href="namespacefc.html#adf88e2d042e971232a527f98764ffbfb">operator&gt;&gt;</a>(std::istream&amp; in, <a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a>&amp; curve) {</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>      std::string <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>      in &gt;&gt; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;secp384r1&quot;</span>)</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>         curve = <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a>;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;prime256v1&quot;</span>)</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>         curve = <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0">PRIME256V1</a>;</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>         in.setstate(std::ios_base::failbit);</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>      <span class="keywordflow">return</span> in;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>   }</div>
</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span> </div>
<div class="foldopen" id="foldopen01011" data-start="{" data-end="}">
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"><a class="line" href="namespacesysio.html#aec4bf865764f829e42a6ef7bf433f4fc"> 1011</a></span>   std::ostream&amp; <a class="code hl_function" href="namespacefc.html#ac4aed50b6ace3ac8741494501f0d03a5">operator&lt;&lt;</a>(std::ostream&amp; osm, <a class="code hl_enumeration" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">https_ecdh_curve_t</a> curve) {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>      <span class="keywordflow">if</span> (curve == <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">SECP384R1</a>) {</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>         osm &lt;&lt; <span class="stringliteral">&quot;secp384r1&quot;</span>;</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curve == <a class="code hl_enumvalue" href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0">PRIME256V1</a>) {</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>         osm &lt;&lt; <span class="stringliteral">&quot;prime256v1&quot;</span>;</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>      }</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span> </div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>      <span class="keywordflow">return</span> osm;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>   }</div>
</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>}</div>
<div class="ttc" id="a210-_evt-_event_listeners_8cpp_html_aaf05ec28baf9169e247960554e9ffbcb"><div class="ttname"><a href="210-_evt-_event_listeners_8cpp.html#aaf05ec28baf9169e247960554e9ffbcb">ws</a></div><div class="ttdeci">std::string ws(int const level)</div><div class="ttdef"><b>Definition</b> <a href="210-_evt-_event_listeners_8cpp_source.html#l00020">210-Evt-EventListeners.cpp:20</a></div></div>
<div class="ttc" id="aasio__client_8hpp_html"><div class="ttname"><a href="asio__client_8hpp.html">asio_client.hpp</a></div></div>
<div class="ttc" id="abn_8cpp_html_af0a5201ca8846f05f25435b41d7f39f7"><div class="ttname"><a href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a></div><div class="ttdeci">const mie::Vuint &amp; r</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00028">bn.cpp:28</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html">exceptions.hpp</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a1bfa656552ea0534b2c91ee0fe33f850"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a></div><div class="ttdeci">#define SYS_THROW(exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00013">exceptions.hpp:13</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclassappbase_1_1abstract__plugin_html"><div class="ttname"><a href="classappbase_1_1abstract__plugin.html">appbase::abstract_plugin</a></div><div class="ttdef"><b>Definition</b> <a href="plugin_8hpp_source.html#l00028">plugin.hpp:28</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a116e20109f980460cf8c38e349766bcc"><div class="ttname"><a href="classappbase_1_1application.html#a116e20109f980460cf8c38e349766bcc">appbase::application::shutdown</a></div><div class="ttdeci">void shutdown()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00400">application.cpp:400</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a5dfd3cfb1124c57963fa17b3f4aabbe1"><div class="ttname"><a href="classappbase_1_1application.html#a5dfd3cfb1124c57963fa17b3f4aabbe1">appbase::application::data_dir</a></div><div class="ttdeci">bfs::path data_dir() const</div><div class="ttdoc">Get data directory.</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00527">application.cpp:527</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a77aff91b861010fd61a616c59b310dcc"><div class="ttname"><a href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">appbase::application::post</a></div><div class="ttdeci">auto post(int priority, Func &amp;&amp;func)</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00215">application.hpp:215</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a87e84549150056c56c0327cc4976cc2a"><div class="ttname"><a href="classappbase_1_1application.html#a87e84549150056c56c0327cc4976cc2a">appbase::application::register_plugin</a></div><div class="ttdeci">auto &amp; register_plugin()</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00136">application.hpp:136</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_ab53422301065100de5ac7818f5b9b3fc"><div class="ttname"><a href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">appbase::application::register_config_type</a></div><div class="ttdeci">void register_config_type()</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00123">application.hpp:123</a></div></div>
<div class="ttc" id="aclassconfig_html"><div class="ttname"><a href="classconfig.html">config</a></div><div class="ttdef"><b>Definition</b> <a href="permessage__deflate_8cpp_source.html#l00042">permessage_deflate.cpp:42</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00057">exception.hpp:58</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_a13463219d1d09f150e987fe1b0368752"><div class="ttname"><a href="classfc_1_1exception.html#a13463219d1d09f150e987fe1b0368752">fc::exception::format_time_limit</a></div><div class="ttdeci">static constexpr fc::microseconds format_time_limit</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00060">exception.hpp:60</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_a7611ea8fbe25dde56649b685c2298a37"><div class="ttname"><a href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">fc::exception::to_detail_string</a></div><div class="ttdeci">std::string to_detail_string(log_level ll=log_level::all) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00158">exception.cpp:158</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_ab1104818bf0d9b6a29f0dfe036cf97f6"><div class="ttname"><a href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6">fc::exception::what</a></div><div class="ttdeci">const char * what() const noexcept override</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00121">exception.cpp:121</a></div></div>
<div class="ttc" id="aclassfc_1_1json_html_aa6541960d7f05567559b866cfaf88dfa"><div class="ttname"><a href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa">fc::json::to_string</a></div><div class="ttdeci">static string to_string(const variant &amp;v, const yield_function_t &amp;yield, const output_formatting format=output_formatting::stringify_large_ints_and_doubles)</div><div class="ttdef"><b>Definition</b> <a href="json_8cpp_source.html#l00674">json.cpp:674</a></div></div>
<div class="ttc" id="aclassfc_1_1logger_html"><div class="ttname"><a href="classfc_1_1logger.html">fc::logger</a></div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00025">logger.hpp:26</a></div></div>
<div class="ttc" id="aclassfc_1_1logger_html_a2214632598874a4e52a5500a6346515e"><div class="ttname"><a href="classfc_1_1logger.html#a2214632598874a4e52a5500a6346515e">fc::logger::update</a></div><div class="ttdeci">static void update(const fc::string &amp;name, logger &amp;log)</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00092">logger.cpp:92</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html"><div class="ttname"><a href="classfc_1_1microseconds.html">fc::microseconds</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00011">time.hpp:11</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_aa164ff1268a16d4b32afcff181f6100e"><div class="ttname"><a href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a></div><div class="ttdeci">static time_point now()</div><div class="ttdef"><b>Definition</b> <a href="time_8cpp_source.html#l00014">time.cpp:14</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_aeccf1b70aa34b132c5269313b8a50573"><div class="ttname"><a href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a></div><div class="ttdeci">static constexpr time_point maximum()</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00046">time.hpp:46</a></div></div>
<div class="ttc" id="aclassfc_1_1url_html"><div class="ttname"><a href="classfc_1_1url.html">fc::url</a></div><div class="ttdef"><b>Definition</b> <a href="url_8hpp_source.html#l00022">url.hpp:23</a></div></div>
<div class="ttc" id="aclassfc_1_1variant_html"><div class="ttname"><a href="classfc_1_1variant.html">fc::variant</a></div><div class="ttdoc">stores null, int64, uint64, double, bool, string, std::vector&lt;variant&gt;, and variant_object's.</div><div class="ttdef"><b>Definition</b> <a href="fc_2include_2fc_2variant_8hpp_source.html#l00190">variant.hpp:191</a></div></div>
<div class="ttc" id="aclassfc_1_1vector_html"><div class="ttname"><a href="classfc_1_1vector.html">fc::vector</a></div><div class="ttdef"><b>Definition</b> <a href="vector__fwd_8hpp_source.html#l00007">vector_fwd.hpp:7</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html">sysio::http_plugin_impl</a></div><div class="ttdef"><b>Definition</b> <a href="#l00179">http_plugin.cpp:179</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a049f020711fe51d61580f17ebff8971d"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a049f020711fe51d61580f17ebff8971d">sysio::http_plugin_impl::access_control_allow_headers</a></div><div class="ttdeci">string access_control_allow_headers</div><div class="ttdef"><b>Definition</b> <a href="#l00193">http_plugin.cpp:193</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a075c83bb1abdd1e374c43984b4011249"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a075c83bb1abdd1e374c43984b4011249">sysio::http_plugin_impl::operator=</a></div><div class="ttdeci">http_plugin_impl &amp; operator=(const http_plugin_impl &amp;)=delete</div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a0db06064008200daebe1eef88aa4e325"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a0db06064008200daebe1eef88aa4e325">sysio::http_plugin_impl::valid_hosts</a></div><div class="ttdeci">set&lt; string &gt; valid_hosts</div><div class="ttdef"><b>Definition</b> <a href="#l00217">http_plugin.cpp:217</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a0ef0715b253d6512d653bb9a22850020"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a0ef0715b253d6512d653bb9a22850020">sysio::http_plugin_impl::on_tls_init</a></div><div class="ttdeci">ssl_context_ptr on_tls_init(websocketpp::connection_hdl hdl)</div><div class="ttdef"><b>Definition</b> <a href="#l00238">http_plugin.cpp:238</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a16aa207d251aa80d6d9accf3a72c1164"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a16aa207d251aa80d6d9accf3a72c1164">sysio::http_plugin_impl::https_server</a></div><div class="ttdeci">websocket_server_tls_type https_server</div><div class="ttdef"><b>Definition</b> <a href="#l00211">http_plugin.cpp:211</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a1724ad60a4211b8d2f10a0733c74b893"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a1724ad60a4211b8d2f10a0733c74b893">sysio::http_plugin_impl::http_plugin_impl</a></div><div class="ttdeci">http_plugin_impl(http_plugin_impl &amp;&amp;)=delete</div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a2c91ec7f6a076cdc0d4dd753eb6b747a"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a2c91ec7f6a076cdc0d4dd753eb6b747a">sysio::http_plugin_impl::access_control_allow_origin</a></div><div class="ttdeci">string access_control_allow_origin</div><div class="ttdef"><b>Definition</b> <a href="#l00192">http_plugin.cpp:192</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a368e4f899f89984b5847fe13700acca9"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a368e4f899f89984b5847fe13700acca9">sysio::http_plugin_impl::add_aliases_for_endpoint</a></div><div class="ttdeci">void add_aliases_for_endpoint(const tcp::endpoint &amp;ep, string host, string port)</div><div class="ttdef"><b>Definition</b> <a href="#l00620">http_plugin.cpp:620</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a36afafdb0584d20c964137a5b8c64992"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a36afafdb0584d20c964137a5b8c64992">sysio::http_plugin_impl::unix_endpoint</a></div><div class="ttdeci">std::optional&lt; asio::local::stream_protocol::endpoint &gt; unix_endpoint</div><div class="ttdef"><b>Definition</b> <a href="#l00213">http_plugin.cpp:213</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a3771658ed9cc3bd1e91b108204466479"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a3771658ed9cc3bd1e91b108204466479">sysio::http_plugin_impl::thread_pool_size</a></div><div class="ttdeci">uint16_t thread_pool_size</div><div class="ttdef"><b>Definition</b> <a href="#l00200">http_plugin.cpp:200</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a3e64ec68c9ee3f409fe983f249e92f34"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a3e64ec68c9ee3f409fe983f249e92f34">sysio::http_plugin_impl::http_plugin_impl</a></div><div class="ttdeci">http_plugin_impl(const http_plugin_impl &amp;)=delete</div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a4da223ff7cccbd6cc3bc3efc6b4044f4"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a4da223ff7cccbd6cc3bc3efc6b4044f4">sysio::http_plugin_impl::host_is_valid</a></div><div class="ttdeci">bool host_is_valid(const std::string &amp;host, const string &amp;endpoint_local_host_port, bool secure)</div><div class="ttdef"><b>Definition</b> <a href="#l00223">http_plugin.cpp:223</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a4de518d5c5cb8a4bc7dc84b73e9e5432"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a4de518d5c5cb8a4bc7dc84b73e9e5432">sysio::http_plugin_impl::create_server_for_endpoint</a></div><div class="ttdeci">void create_server_for_endpoint(const tcp::endpoint &amp;ep, websocketpp::server&lt; detail::asio_with_stub_log&lt; T &gt; &gt; &amp;ws)</div><div class="ttdef"><b>Definition</b> <a href="#l00601">http_plugin.cpp:601</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a4fc541f393d438651557f1baacd4a329"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a4fc541f393d438651557f1baacd4a329">sysio::http_plugin_impl::max_response_time</a></div><div class="ttdeci">fc::microseconds max_response_time</div><div class="ttdef"><b>Definition</b> <a href="#l00204">http_plugin.cpp:204</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a56c6ac0cd39246bc425d3c019a778fde"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a56c6ac0cd39246bc425d3c019a778fde">sysio::http_plugin_impl::https_key</a></div><div class="ttdeci">string https_key</div><div class="ttdef"><b>Definition</b> <a href="#l00208">http_plugin.cpp:208</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a60bb11ae8ec3072994d077885f49a4f7"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a60bb11ae8ec3072994d077885f49a4f7">sysio::http_plugin_impl::server</a></div><div class="ttdeci">websocket_server_type server</div><div class="ttdef"><b>Definition</b> <a href="#l00198">http_plugin.cpp:198</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a668706ea3386fca0f7adcaedae59775a"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a668706ea3386fca0f7adcaedae59775a">sysio::http_plugin_impl::handle_exception</a></div><div class="ttdeci">static void handle_exception(detail::connection_ptr&lt; T &gt; con)</div><div class="ttdef"><b>Definition</b> <a href="#l00274">http_plugin.cpp:274</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a6df1954783d4d142c8463b916038dbe3"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a6df1954783d4d142c8463b916038dbe3">sysio::http_plugin_impl::make_abstract_conn_ptr</a></div><div class="ttdeci">static detail::abstract_conn_ptr make_abstract_conn_ptr(detail::connection_ptr&lt; T &gt; conn, http_plugin_impl_ptr impl)</div><div class="ttdef"><b>Definition</b> <a href="#l00394">http_plugin.cpp:394</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a6f6cceb47d6a198e70e5822ab5cf6070"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a6f6cceb47d6a198e70e5822ab5cf6070">sysio::http_plugin_impl::access_control_allow_credentials</a></div><div class="ttdeci">bool access_control_allow_credentials</div><div class="ttdef"><b>Definition</b> <a href="#l00195">http_plugin.cpp:195</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a745562a0a7b42f9c002bc09731571bb6"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a745562a0a7b42f9c002bc09731571bb6">sysio::http_plugin_impl::make_app_thread_url_handler</a></div><div class="ttdeci">static detail::internal_url_handler make_app_thread_url_handler(int priority, url_handler next, http_plugin_impl_ptr my)</div><div class="ttdef"><b>Definition</b> <a href="#l00478">http_plugin.cpp:478</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a845dd995050ffb87750bfe4edb2c05a6"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a845dd995050ffb87750bfe4edb2c05a6">sysio::http_plugin_impl::thread_pool</a></div><div class="ttdeci">std::optional&lt; sysio::chain::named_thread_pool &gt; thread_pool</div><div class="ttdef"><b>Definition</b> <a href="#l00201">http_plugin.cpp:201</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a88e767bd921e5bbef2263ee4ce215c94"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a88e767bd921e5bbef2263ee4ce215c94">sysio::http_plugin_impl::make_http_response_handler</a></div><div class="ttdeci">auto make_http_response_handler(detail::abstract_conn_ptr abstract_conn_ptr)</div><div class="ttdef"><b>Definition</b> <a href="#l00529">http_plugin.cpp:529</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a8cf0cd1bba634f66a2eb222ca48651cb"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a8cf0cd1bba634f66a2eb222ca48651cb">sysio::http_plugin_impl::validate_host</a></div><div class="ttdeci">bool validate_host</div><div class="ttdef"><b>Definition</b> <a href="#l00216">http_plugin.cpp:216</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a932ccac860cb8bde253ea048cb92e4c0"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a932ccac860cb8bde253ea048cb92e4c0">sysio::http_plugin_impl::https_cert_chain</a></div><div class="ttdeci">string https_cert_chain</div><div class="ttdef"><b>Definition</b> <a href="#l00207">http_plugin.cpp:207</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_a96638486ee91563aed0aeb5bae4f6b98"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#a96638486ee91563aed0aeb5bae4f6b98">sysio::http_plugin_impl::bytes_in_flight</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; bytes_in_flight</div><div class="ttdef"><b>Definition</b> <a href="#l00202">http_plugin.cpp:202</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_aa0655ed2bc3eca38225bc2c11f5d05a1"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#aa0655ed2bc3eca38225bc2c11f5d05a1">sysio::http_plugin_impl::make_in_flight</a></div><div class="ttdeci">static auto make_in_flight(T &amp;&amp;object, http_plugin_impl_ptr impl)</div><div class="ttdef"><b>Definition</b> <a href="#l00464">http_plugin.cpp:464</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_aa25565dd130a74dd722631d8f4387397"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#aa25565dd130a74dd722631d8f4387397">sysio::http_plugin_impl::https_listen_endpoint</a></div><div class="ttdeci">std::optional&lt; tcp::endpoint &gt; https_listen_endpoint</div><div class="ttdef"><b>Definition</b> <a href="#l00206">http_plugin.cpp:206</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_aa7dfe2090a6e5aee9ae7a90dcb305869"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#aa7dfe2090a6e5aee9ae7a90dcb305869">sysio::http_plugin_impl::make_http_thread_url_handler</a></div><div class="ttdeci">static detail::internal_url_handler make_http_thread_url_handler(url_handler next)</div><div class="ttdef"><b>Definition</b> <a href="#l00511">http_plugin.cpp:511</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_aaff8b7c3ccb6a41c3526a9ee1b8c4996"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#aaff8b7c3ccb6a41c3526a9ee1b8c4996">sysio::http_plugin_impl::http_plugin_impl</a></div><div class="ttdeci">http_plugin_impl()=default</div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ab28731d24b9193370571713b8de45b3c"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ab28731d24b9193370571713b8de45b3c">sysio::http_plugin_impl::unix_server</a></div><div class="ttdeci">websocket_local_server_type unix_server</div><div class="ttdef"><b>Definition</b> <a href="#l00214">http_plugin.cpp:214</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ab5276febc7c7a42135e94005f23fb0dd"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ab5276febc7c7a42135e94005f23fb0dd">sysio::http_plugin_impl::host_port_is_valid</a></div><div class="ttdeci">bool host_port_is_valid(const std::string &amp;header_host_port, const string &amp;endpoint_local_host_port)</div><div class="ttdef"><b>Definition</b> <a href="#l00219">http_plugin.cpp:219</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ab9a27d80beebbf9e61aedb488bd407fc"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ab9a27d80beebbf9e61aedb488bd407fc">sysio::http_plugin_impl::access_control_max_age</a></div><div class="ttdeci">string access_control_max_age</div><div class="ttdef"><b>Definition</b> <a href="#l00194">http_plugin.cpp:194</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ac0f86aedcc2926b4ff66e5d6d964bd58"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ac0f86aedcc2926b4ff66e5d6d964bd58">sysio::http_plugin_impl::url_handlers</a></div><div class="ttdeci">map&lt; string, detail::internal_url_handler &gt; url_handlers</div><div class="ttdef"><b>Definition</b> <a href="#l00190">http_plugin.cpp:190</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ad2ab1c2fe549eeac6b9680f1147b2b29"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ad2ab1c2fe549eeac6b9680f1147b2b29">sysio::http_plugin_impl::listen_endpoint</a></div><div class="ttdeci">std::optional&lt; tcp::endpoint &gt; listen_endpoint</div><div class="ttdef"><b>Definition</b> <a href="#l00191">http_plugin.cpp:191</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_ad6394e6812d11a23c51c926e126703e6"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#ad6394e6812d11a23c51c926e126703e6">sysio::http_plugin_impl::handle_http_request</a></div><div class="ttdeci">void handle_http_request(detail::connection_ptr&lt; T &gt; con)</div><div class="ttdef"><b>Definition</b> <a href="#l00551">http_plugin.cpp:551</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_adf10e7ce06af95b6fe9e458fc0a23ccb"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#adf10e7ce06af95b6fe9e458fc0a23ccb">sysio::http_plugin_impl::operator=</a></div><div class="ttdeci">http_plugin_impl &amp; operator=(http_plugin_impl &amp;&amp;)=delete</div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_af4d1fe5ac837c28f025b75fc974fcfd7"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#af4d1fe5ac837c28f025b75fc974fcfd7">sysio::http_plugin_impl::https_ecdh_curve</a></div><div class="ttdeci">https_ecdh_curve_t https_ecdh_curve</div><div class="ttdef"><b>Definition</b> <a href="#l00209">http_plugin.cpp:209</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_af640e8c9792d347320406262264c831f"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#af640e8c9792d347320406262264c831f">sysio::http_plugin_impl::max_bytes_in_flight</a></div><div class="ttdeci">size_t max_bytes_in_flight</div><div class="ttdef"><b>Definition</b> <a href="#l00203">http_plugin.cpp:203</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_af75fe91604a18f4efad7649dd63e6ea1"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#af75fe91604a18f4efad7649dd63e6ea1">sysio::http_plugin_impl::max_body_size</a></div><div class="ttdeci">size_t max_body_size</div><div class="ttdef"><b>Definition</b> <a href="#l00196">http_plugin.cpp:196</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_afd52921beb895ab06e683c0f937d9d98"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#afd52921beb895ab06e683c0f937d9d98">sysio::http_plugin_impl::allow_host</a></div><div class="ttdeci">bool allow_host(const typename T::request_type &amp;req, detail::connection_ptr&lt; T &gt; con)</div><div class="ttdef"><b>Definition</b> <a href="#l00315">http_plugin.cpp:315</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin__impl_html_affd6afa6346ed7ad2a5da35038c0df2f"><div class="ttname"><a href="classsysio_1_1http__plugin__impl.html#affd6afa6346ed7ad2a5da35038c0df2f">sysio::http_plugin_impl::verify_max_bytes_in_flight</a></div><div class="ttdeci">bool verify_max_bytes_in_flight(const T &amp;con)</div><div class="ttdef"><b>Definition</b> <a href="#l00329">http_plugin.cpp:329</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a047b3b9b0f236e9a77a78887ea38b137"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a047b3b9b0f236e9a77a78887ea38b137">sysio::http_plugin::add_api</a></div><div class="ttdeci">void add_api(const api_description &amp;api, int priority=appbase::priority::medium_low)</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00082">http_plugin.hpp:82</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a0bb9bb7e3217b57524b8a556ec946a6e"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a0bb9bb7e3217b57524b8a556ec946a6e">sysio::http_plugin::add_handler</a></div><div class="ttdeci">void add_handler(const string &amp;url, const url_handler &amp;, int priority=appbase::priority::medium_low)</div><div class="ttdef"><b>Definition</b> <a href="#l00918">http_plugin.cpp:918</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a0d3348a2f04f70a4f4224b51d11a20d2"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a0d3348a2f04f70a4f4224b51d11a20d2">sysio::http_plugin::add_async_handler</a></div><div class="ttdeci">void add_async_handler(const string &amp;url, const url_handler &amp;handler)</div><div class="ttdef"><b>Definition</b> <a href="#l00923">http_plugin.cpp:923</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a4855095178fad7690f3f328dda133823"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a4855095178fad7690f3f328dda133823">sysio::http_plugin::is_secure</a></div><div class="ttdeci">bool is_secure() const</div><div class="ttdef"><b>Definition</b> <a href="#l00976">http_plugin.cpp:976</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a4be137b6ad169ee4e2b745a50ba1a874"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a4be137b6ad169ee4e2b745a50ba1a874">sysio::http_plugin::set_program_options</a></div><div class="ttdeci">virtual void set_program_options(options_description &amp;, options_description &amp;cfg) override</div><div class="ttdef"><b>Definition</b> <a href="#l00637">http_plugin.cpp:637</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a5a4ccf6f49b67c49988b6b5e3dfb84b8"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a5a4ccf6f49b67c49988b6b5e3dfb84b8">sysio::http_plugin::verbose_errors</a></div><div class="ttdeci">bool verbose_errors() const</div><div class="ttdef"><b>Definition</b> <a href="#l00980">http_plugin.cpp:980</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a66e3e0c1e174eeb51dd9f6a3084b05d6"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a66e3e0c1e174eeb51dd9f6a3084b05d6">sysio::http_plugin::get_supported_apis</a></div><div class="ttdeci">get_supported_apis_result get_supported_apis() const</div><div class="ttdef"><b>Definition</b> <a href="#l00984">http_plugin.cpp:984</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a7f2532369a8f5d65475b7cbcbc9c842f"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a7f2532369a8f5d65475b7cbcbc9c842f">sysio::http_plugin::plugin_shutdown</a></div><div class="ttdeci">void plugin_shutdown()</div><div class="ttdef"><b>Definition</b> <a href="#l00898">http_plugin.cpp:898</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a8e586898c5b1828142124f182fd536f6"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a8e586898c5b1828142124f182fd536f6">sysio::http_plugin::~http_plugin</a></div><div class="ttdeci">virtual ~http_plugin()</div><div class="ttdef"><b>Definition</b> <a href="#l00635">http_plugin.cpp:635</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a9c71c16985ae48cabf1b9479c111a4e6"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a9c71c16985ae48cabf1b9479c111a4e6">sysio::http_plugin::get_max_response_time</a></div><div class="ttdeci">fc::microseconds get_max_response_time() const</div><div class="ttdef"><b>Definition</b> <a href="#l00995">http_plugin.cpp:995</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_a9eeea65d36a7373bfbf091c47d561edd"><div class="ttname"><a href="classsysio_1_1http__plugin.html#a9eeea65d36a7373bfbf091c47d561edd">sysio::http_plugin::is_on_loopback</a></div><div class="ttdeci">bool is_on_loopback() const</div><div class="ttdef"><b>Definition</b> <a href="#l00972">http_plugin.cpp:972</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_aaf46561ac841485d6bf25266b4aa9b5a"><div class="ttname"><a href="classsysio_1_1http__plugin.html#aaf46561ac841485d6bf25266b4aa9b5a">sysio::http_plugin::set_defaults</a></div><div class="ttdeci">static void set_defaults(const http_plugin_defaults config)</div><div class="ttdef"><b>Definition</b> <a href="#l00055">http_plugin.cpp:55</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_abafb2339628893273c194f690f790ed1"><div class="ttname"><a href="classsysio_1_1http__plugin.html#abafb2339628893273c194f690f790ed1">sysio::http_plugin::plugin_initialize</a></div><div class="ttdeci">void plugin_initialize(const variables_map &amp;options)</div><div class="ttdef"><b>Definition</b> <a href="#l00715">http_plugin.cpp:715</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_ac1a2d5844cede3082aade8a1aeb798a2"><div class="ttname"><a href="classsysio_1_1http__plugin.html#ac1a2d5844cede3082aade8a1aeb798a2">sysio::http_plugin::plugin_startup</a></div><div class="ttdeci">void plugin_startup()</div><div class="ttdef"><b>Definition</b> <a href="#l00804">http_plugin.cpp:804</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_acd1b5b94a136fd365c3c83a6452bc892"><div class="ttname"><a href="classsysio_1_1http__plugin.html#acd1b5b94a136fd365c3c83a6452bc892">sysio::http_plugin::handle_exception</a></div><div class="ttdeci">static void handle_exception(const char *api_name, const char *call_name, const string &amp;body, url_response_callback cb)</div><div class="ttdef"><b>Definition</b> <a href="#l00928">http_plugin.cpp:928</a></div></div>
<div class="ttc" id="aclasssysio_1_1http__plugin_html_af06f52d9b86dc41618f6392a4c0640a5"><div class="ttname"><a href="classsysio_1_1http__plugin.html#af06f52d9b86dc41618f6392a4c0640a5">sysio::http_plugin::handle_sighup</a></div><div class="ttdeci">void handle_sighup() override</div><div class="ttdef"><b>Definition</b> <a href="#l00894">http_plugin.cpp:894</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1log_1_1stub_html"><div class="ttname"><a href="classwebsocketpp_1_1log_1_1stub.html">websocketpp::log::stub</a></div><div class="ttdoc">Stub logger that ignores all input.</div><div class="ttdef"><b>Definition</b> <a href="stub_8hpp_source.html#l00041">stub.hpp:41</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1server_html"><div class="ttname"><a href="classwebsocketpp_1_1server.html">websocketpp::server&lt; detail::asio_with_stub_log&lt; websocketpp::transport::asio::basic_socket::endpoint &gt; &gt;</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1server_html_abb895563dddafdc1426997d245cbd7cb"><div class="ttname"><a href="classwebsocketpp_1_1server.html#abb895563dddafdc1426997d245cbd7cb">websocketpp::server&lt; websocketpp::config::asio &gt;::connection_ptr</a></div><div class="ttdeci">connection_type::ptr connection_ptr</div><div class="ttdef"><b>Definition</b> <a href="server__endpoint_8hpp_source.html#l00057">server_endpoint.hpp:57</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1transport_1_1asio_1_1basic__socket_1_1local__endpoint_html"><div class="ttname"><a href="classwebsocketpp_1_1transport_1_1asio_1_1basic__socket_1_1local__endpoint.html">websocketpp::transport::asio::basic_socket::local_endpoint</a></div><div class="ttdef"><b>Definition</b> <a href="local__endpoint_8hpp_source.html#l00134">local_endpoint.hpp:134</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1transport_1_1asio_1_1endpoint_html"><div class="ttname"><a href="classwebsocketpp_1_1transport_1_1asio_1_1endpoint.html">websocketpp::transport::asio::endpoint</a></div><div class="ttdoc">Asio based endpoint transport component.</div><div class="ttdef"><b>Definition</b> <a href="transport_2asio_2endpoint_8hpp_source.html#l00053">endpoint.hpp:53</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1transport_1_1asio_1_1local__endpoint_html"><div class="ttname"><a href="classwebsocketpp_1_1transport_1_1asio_1_1local__endpoint.html">websocketpp::transport::asio::local_endpoint</a></div><div class="ttdoc">Asio based endpoint transport component.</div><div class="ttdef"><b>Definition</b> <a href="local__endpoint_8hpp_source.html#l00159">local_endpoint.hpp:159</a></div></div>
<div class="ttc" id="aclient_8hpp_html"><div class="ttname"><a href="client_8hpp.html">client.hpp</a></div></div>
<div class="ttc" id="aconfig_2asio_8hpp_html"><div class="ttname"><a href="config_2asio_8hpp.html">asio.hpp</a></div></div>
<div class="ttc" id="aexception_8hpp_html_ae70bfa24f5a3bc0917382b3c17fc033c"><div class="ttname"><a href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a></div><div class="ttdeci">#define FC_LOG_AND_RETHROW()</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00411">exception.hpp:411</a></div></div>
<div class="ttc" id="afc_2include_2fc_2reflect_2variant_8hpp_html"><div class="ttname"><a href="fc_2include_2fc_2reflect_2variant_8hpp.html">variant.hpp</a></div></div>
<div class="ttc" id="ahttp__plugin_8cpp_html_a0c4bb3822f844b23219a9412e356659d"><div class="ttname"><a href="http__plugin_8cpp.html#a0c4bb3822f844b23219a9412e356659d">logger</a></div><div class="ttdeci">fc::logger logger</div><div class="ttdef"><b>Definition</b> <a href="#l00028">http_plugin.cpp:28</a></div></div>
<div class="ttc" id="ahttp__plugin_8cpp_html_aae9579c8f6a770273c4c94e65f0dac0c"><div class="ttname"><a href="http__plugin_8cpp.html#aae9579c8f6a770273c4c94e65f0dac0c">logger_name</a></div><div class="ttdeci">const fc::string logger_name(&quot;http_plugin&quot;)</div></div>
<div class="ttc" id="ahttp__plugin_8hpp_html"><div class="ttname"><a href="http__plugin_8hpp.html">http_plugin.hpp</a></div></div>
<div class="ttc" id="aip_8hpp_html"><div class="ttname"><a href="ip_8hpp.html">ip.hpp</a></div></div>
<div class="ttc" id="ajson_8hpp_html"><div class="ttname"><a href="json_8hpp.html">json.hpp</a></div></div>
<div class="ttc" id="alocal__endpoint_8hpp_html"><div class="ttname"><a href="local__endpoint_8hpp.html">local_endpoint.hpp</a></div></div>
<div class="ttc" id="alog__message_8hpp_html_a4a4df4bb5cffbe07aadf7d29fd44c75e"><div class="ttname"><a href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a></div><div class="ttdeci">#define FC_LOG_MESSAGE(LOG_LEVEL, FORMAT,...)</div><div class="ttdoc">A helper method for generating log messages.</div><div class="ttdef"><b>Definition</b> <a href="log__message_8hpp_source.html#l00165">log_message.hpp:165</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a067e87b091ade3787bcdda5775354654"><div class="ttname"><a href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a></div><div class="ttdeci">#define fc_ilog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00083">logger.hpp:83</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00118">logger.hpp:118</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a9e3cdbaecd5a34b42956e888f7326fad"><div class="ttname"><a href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a></div><div class="ttdeci">#define elog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00130">logger.hpp:130</a></div></div>
<div class="ttc" id="alogger_8hpp_html_ae75bea0ceb7483fdf0ed20c22556a907"><div class="ttname"><a href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a></div><div class="ttdeci">#define fc_elog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00095">logger.hpp:95</a></div></div>
<div class="ttc" id="alogger_8hpp_html_af5adfcda7e0a01306256754a6511915d"><div class="ttname"><a href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a></div><div class="ttdeci">#define fc_dlog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00077">logger.hpp:77</a></div></div>
<div class="ttc" id="alogger__config_8hpp_html"><div class="ttname"><a href="logger__config_8hpp.html">logger_config.hpp</a></div></div>
<div class="ttc" id="anamespaceappbase_html_a99374dc23934f008a09f2f79be9eae40"><div class="ttname"><a href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">appbase::app</a></div><div class="ttdeci">application &amp; app()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00210">application.cpp:210</a></div></div>
<div class="ttc" id="anamespaceboost_1_1asio_html"><div class="ttname"><a href="namespaceboost_1_1asio.html">boost::asio</a></div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00019">controller.hpp:19</a></div></div>
<div class="ttc" id="anamespacedetail_html"><div class="ttname"><a href="namespacedetail.html">detail</a></div><div class="ttdef"><b>Definition</b> <a href="programs_2nodeop_2main_8cpp_source.html#l00023">main.cpp:23</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a64937a5adc8041247f7007882224e225"><div class="ttname"><a href="namespacefc_1_1raw.html#a64937a5adc8041247f7007882224e225">fc::raw::pack_size</a></div><div class="ttdeci">size_t pack_size(const T &amp;v)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00671">raw.hpp:671</a></div></div>
<div class="ttc" id="anamespacefc_html_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0"><div class="ttname"><a href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">fc::string</a></div><div class="ttdeci">std::string string</div><div class="ttdef"><b>Definition</b> <a href="string_8hpp_source.html#l00010">string.hpp:10</a></div></div>
<div class="ttc" id="anamespacefc_html_ac4aed50b6ace3ac8741494501f0d03a5"><div class="ttname"><a href="namespacefc.html#ac4aed50b6ace3ac8741494501f0d03a5">fc::operator&lt;&lt;</a></div><div class="ttdeci">datastream&lt; ST &gt; &amp; operator&lt;&lt;(datastream&lt; ST &gt; &amp;s, const sysio::chain::may_not_exist&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> <a href="abi__def_8hpp_source.html#l00133">abi_def.hpp:146</a></div></div>
<div class="ttc" id="anamespacefc_html_adf88e2d042e971232a527f98764ffbfb"><div class="ttname"><a href="namespacefc.html#adf88e2d042e971232a527f98764ffbfb">fc::operator&gt;&gt;</a></div><div class="ttdeci">datastream&lt; ST &gt; &amp; operator&gt;&gt;(datastream&lt; ST &gt; &amp;s, sysio::chain::may_not_exist&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> <a href="abi__def_8hpp_source.html#l00152">abi_def.hpp:152</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="name_8hpp_source.html#l00106">name.hpp:106</a></div></div>
<div class="ttc" id="anamespacesysio_1_1detail_html_a69779241e30dfcc06bd60e313d84f78a"><div class="ttname"><a href="namespacesysio_1_1detail.html#a69779241e30dfcc06bd60e313d84f78a">sysio::detail::internal_url_handler</a></div><div class="ttdeci">std::function&lt; void(abstract_conn_ptr, string, string, url_response_callback)&gt; internal_url_handler</div><div class="ttdef"><b>Definition</b> <a href="#l00145">http_plugin.cpp:145</a></div></div>
<div class="ttc" id="anamespacesysio_1_1detail_html_a82b57dc6a62fb7b0a6ee7fb7cd596f4c"><div class="ttname"><a href="namespacesysio_1_1detail.html#a82b57dc6a62fb7b0a6ee7fb7cd596f4c">sysio::detail::abstract_conn_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; abstract_conn &gt; abstract_conn_ptr</div><div class="ttdef"><b>Definition</b> <a href="#l00137">http_plugin.cpp:137</a></div></div>
<div class="ttc" id="anamespacesysio_1_1detail_html_aad9410be87036ae969dc328050560d6a"><div class="ttname"><a href="namespacesysio_1_1detail.html#aad9410be87036ae969dc328050560d6a">sysio::detail::connection_ptr</a></div><div class="ttdeci">typename websocketpp::server&lt; T &gt;::connection_ptr connection_ptr</div><div class="ttdef"><b>Definition</b> <a href="#l00140">http_plugin.cpp:140</a></div></div>
<div class="ttc" id="anamespacesysio_html"><div class="ttname"><a href="namespacesysio.html">sysio</a></div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00008">abi_serializer.cpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_html_a482c265e0ce872b93783298db5232b78"><div class="ttname"><a href="namespacesysio.html#a482c265e0ce872b93783298db5232b78">sysio::ssl_context_ptr</a></div><div class="ttdeci">websocketpp::lib::shared_ptr&lt; websocketpp::lib::asio::ssl::context &gt; ssl_context_ptr</div><div class="ttdef"><b>Definition</b> <a href="#l00174">http_plugin.cpp:174</a></div></div>
<div class="ttc" id="anamespacesysio_html_a99c82a51bf462442f89e68cd48f103a6"><div class="ttname"><a href="namespacesysio.html#a99c82a51bf462442f89e68cd48f103a6">sysio::url_handler</a></div><div class="ttdeci">std::function&lt; void(string, string, url_response_callback)&gt; url_handler</div><div class="ttdoc">Callback type for a URL handler.</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00029">http_plugin.hpp:29</a></div></div>
<div class="ttc" id="anamespacesysio_html_ababf376b47a253805b530a023df4768c"><div class="ttname"><a href="namespacesysio.html#ababf376b47a253805b530a023df4768c">sysio::url_response_callback</a></div><div class="ttdeci">std::function&lt; void(int, fc::variant)&gt; url_response_callback</div><div class="ttdoc">A callback function provided to a URL handler to allow it to specify the HTTP response code and body.</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00017">http_plugin.hpp:17</a></div></div>
<div class="ttc" id="anamespacesysio_html_ad66b67a8dd0a897a0a5b89f954fd3ade"><div class="ttname"><a href="namespacesysio.html#ad66b67a8dd0a897a0a5b89f954fd3ade">sysio::logger_name</a></div><div class="ttdeci">const fc::string logger_name(&quot;net_plugin_impl&quot;)</div></div>
<div class="ttc" id="anamespacesysio_html_adc3b23bd13a9947e7bb7430a1cd6336d"><div class="ttname"><a href="namespacesysio.html#adc3b23bd13a9947e7bb7430a1cd6336d">sysio::http_plugin_impl_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; class http_plugin_impl &gt; http_plugin_impl_ptr</div><div class="ttdef"><b>Definition</b> <a href="#l00175">http_plugin.cpp:175</a></div></div>
<div class="ttc" id="anamespacesysio_html_af3c8f4690b10ff3acd52c0a0d140871c"><div class="ttname"><a href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871c">sysio::https_ecdh_curve_t</a></div><div class="ttdeci">https_ecdh_curve_t</div><div class="ttdef"><b>Definition</b> <a href="#l00048">http_plugin.cpp:48</a></div></div>
<div class="ttc" id="anamespacesysio_html_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41"><div class="ttname"><a href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41">sysio::SECP384R1</a></div><div class="ttdeci">@ SECP384R1</div><div class="ttdef"><b>Definition</b> <a href="#l00049">http_plugin.cpp:49</a></div></div>
<div class="ttc" id="anamespacesysio_html_af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0"><div class="ttname"><a href="namespacesysio.html#af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0">sysio::PRIME256V1</a></div><div class="ttdeci">@ PRIME256V1</div><div class="ttdef"><b>Definition</b> <a href="#l00051">http_plugin.cpp:50</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">websocketpp::http::status_code::value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00122">constants.hpp:122</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">websocketpp::http::status_code::bad_request</a></div><div class="ttdeci">@ bad_request</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00144">constants.hpp:144</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a289caa931313b2f373b33032e3661733"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a289caa931313b2f373b33032e3661733">websocketpp::http::status_code::ok</a></div><div class="ttdeci">@ ok</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00128">constants.hpp:128</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2">websocketpp::http::status_code::not_found</a></div><div class="ttdeci">@ not_found</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00148">constants.hpp:148</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8">websocketpp::http::status_code::too_many_requests</a></div><div class="ttdeci">@ too_many_requests</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00165">constants.hpp:165</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a></div><div class="ttdeci">@ internal_server_error</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00168">constants.hpp:168</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1lib_1_1asio_html"><div class="ttname"><a href="namespacewebsocketpp_1_1lib_1_1asio.html">websocketpp::lib::asio</a></div><div class="ttdef"><b>Definition</b> <a href="common_2asio_8hpp_source.html#l00094">asio.hpp:94</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_html_a6b3d26a10ee7229b84b776786332631d"><div class="ttname"><a href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">websocketpp::connection_hdl</a></div><div class="ttdeci">lib::weak_ptr&lt; void &gt; connection_hdl</div><div class="ttdoc">A handle to uniquely identify a connection.</div><div class="ttdef"><b>Definition</b> <a href="connection__hdl_8hpp_source.html#l00048">connection_hdl.hpp:48</a></div></div>
<div class="ttc" id="aopenssl_8hpp_html"><div class="ttname"><a href="openssl_8hpp.html">openssl.hpp</a></div></div>
<div class="ttc" id="aprettywritertest_8cpp_html_a6283df8c4e365cc8a01727e2d7ad44bf"><div class="ttname"><a href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a></div><div class="ttdeci">#define T(meth, val, expected)</div></div>
<div class="ttc" id="aprograms_2clio_2main_8cpp_html_aa03c1ef4c41f36b048cf58d5aade7653"><div class="ttname"><a href="programs_2clio_2main_8cpp.html#aa03c1ef4c41f36b048cf58d5aade7653">url</a></div><div class="ttdeci">string url</div><div class="ttdef"><b>Definition</b> <a href="programs_2clio_2main_8cpp_source.html#l00166">main.cpp:166</a></div></div>
<div class="ttc" id="araw_8hpp_html"><div class="ttname"><a href="raw_8hpp.html">raw.hpp</a></div></div>
<div class="ttc" id="aserver_8hpp_html"><div class="ttname"><a href="server_8hpp.html">server.hpp</a></div></div>
<div class="ttc" id="astdint_8h_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00125">stdint.h:125</a></div></div>
<div class="ttc" id="astdint_8h_html_a414156feea104f8f75b4ed9e3121b2f6"><div class="ttname"><a href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></div><div class="ttdeci">signed __int64 int64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00135">stdint.h:135</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html"><div class="ttname"><a href="structappbase_1_1priority.html">appbase::priority</a></div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00009">execution_priority_queue.hpp:9</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_adab9a6659f361fc6ca6c855788b05df0"><div class="ttname"><a href="structappbase_1_1priority.html#adab9a6659f361fc6ca6c855788b05df0">appbase::priority::high</a></div><div class="ttdeci">static constexpr int high</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00015">execution_priority_queue.hpp:15</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result.html">sysio::chain_apis::account_query_db::get_accounts_by_authorizers_result</a></div><div class="ttdef"><b>Definition</b> <a href="account__query__db_8hpp_source.html#l00063">account_query_db.hpp:63</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1abstract__conn_html"><div class="ttname"><a href="structsysio_1_1detail_1_1abstract__conn.html">sysio::detail::abstract_conn</a></div><div class="ttdef"><b>Definition</b> <a href="#l00130">http_plugin.cpp:130</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1abstract__conn_html_a2a38362dd145af4fbe9e8630fa8b8df1"><div class="ttname"><a href="structsysio_1_1detail_1_1abstract__conn.html#a2a38362dd145af4fbe9e8630fa8b8df1">sysio::detail::abstract_conn::verify_max_bytes_in_flight</a></div><div class="ttdeci">virtual bool verify_max_bytes_in_flight()=0</div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1abstract__conn_html_a3aef99a68a1e37b0e1c654100e503524"><div class="ttname"><a href="structsysio_1_1detail_1_1abstract__conn.html#a3aef99a68a1e37b0e1c654100e503524">sysio::detail::abstract_conn::handle_exception</a></div><div class="ttdeci">virtual void handle_exception()=0</div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1abstract__conn_html_a80e7bc852abf443527e72a7d90ad639b"><div class="ttname"><a href="structsysio_1_1detail_1_1abstract__conn.html#a80e7bc852abf443527e72a7d90ad639b">sysio::detail::abstract_conn::send_response</a></div><div class="ttdeci">virtual void send_response(std::string, int)=0</div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1abstract__conn_html_ab957c3e14e8c31e8ca5fe2f33fd18087"><div class="ttname"><a href="structsysio_1_1detail_1_1abstract__conn.html#ab957c3e14e8c31e8ca5fe2f33fd18087">sysio::detail::abstract_conn::~abstract_conn</a></div><div class="ttdeci">virtual ~abstract_conn()</div><div class="ttdef"><b>Definition</b> <a href="#l00131">http_plugin.cpp:131</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html">sysio::detail::asio_local_with_stub_log::transport_config</a></div><div class="ttdef"><b>Definition</b> <a href="#l00113">http_plugin.cpp:113</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_a19ba544485ee99d760bc25922399ca8e"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a19ba544485ee99d760bc25922399ca8e">sysio::detail::asio_local_with_stub_log::transport_config::request_type</a></div><div class="ttdeci">type::request_type request_type</div><div class="ttdef"><b>Definition</b> <a href="#l00117">http_plugin.cpp:117</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_a1eda7b378e87a9b7d7ac9698a79d1735"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a1eda7b378e87a9b7d7ac9698a79d1735">sysio::detail::asio_local_with_stub_log::transport_config::socket_type</a></div><div class="ttdeci">websocketpp::transport::asio::basic_socket::local_endpoint socket_type</div><div class="ttdef"><b>Definition</b> <a href="#l00119">http_plugin.cpp:119</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_a6d7d00baa07f74deff0e61989b979f2c"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a6d7d00baa07f74deff0e61989b979f2c">sysio::detail::asio_local_with_stub_log::transport_config::alog_type</a></div><div class="ttdeci">type::alog_type alog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00115">http_plugin.cpp:115</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_a8a0c27ef260ecef8752ade64f148e5eb"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#a8a0c27ef260ecef8752ade64f148e5eb">sysio::detail::asio_local_with_stub_log::transport_config::elog_type</a></div><div class="ttdeci">type::elog_type elog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00116">http_plugin.cpp:116</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_af3a14f4c55c6f2b98f8ad2ffd7f05299"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#af3a14f4c55c6f2b98f8ad2ffd7f05299">sysio::detail::asio_local_with_stub_log::transport_config::concurrency_type</a></div><div class="ttdeci">type::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition</b> <a href="#l00114">http_plugin.cpp:114</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_html_afe353dc2c9da83439df9ac0dc332de8b"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config.html#afe353dc2c9da83439df9ac0dc332de8b">sysio::detail::asio_local_with_stub_log::transport_config::response_type</a></div><div class="ttdeci">type::response_type response_type</div><div class="ttdef"><b>Definition</b> <a href="#l00118">http_plugin.cpp:118</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html">sysio::detail::asio_local_with_stub_log</a></div><div class="ttdef"><b>Definition</b> <a href="#l00095">http_plugin.cpp:95</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a026642e8fa85a5f1d8eddf5d06e4ab3b"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a026642e8fa85a5f1d8eddf5d06e4ab3b">sysio::detail::asio_local_with_stub_log::message_type</a></div><div class="ttdeci">base::message_type message_type</div><div class="ttdef"><b>Definition</b> <a href="#l00104">http_plugin.cpp:104</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a03c0efafbc8fee6260d7db92c8fbdfa0"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a03c0efafbc8fee6260d7db92c8fbdfa0">sysio::detail::asio_local_with_stub_log::timeout_open_handshake</a></div><div class="ttdeci">static const long timeout_open_handshake</div><div class="ttdef"><b>Definition</b> <a href="#l00124">http_plugin.cpp:124</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a336f4f7beab75a4e61b467402e0201b8"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a336f4f7beab75a4e61b467402e0201b8">sysio::detail::asio_local_with_stub_log::con_msg_manager_type</a></div><div class="ttdeci">base::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition</b> <a href="#l00105">http_plugin.cpp:105</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a4a21bd16cd5db9d90aedaa546484584a"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a4a21bd16cd5db9d90aedaa546484584a">sysio::detail::asio_local_with_stub_log::type</a></div><div class="ttdeci">asio_local_with_stub_log type</div><div class="ttdef"><b>Definition</b> <a href="#l00096">http_plugin.cpp:96</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a57443829c4ecaefbc349592871ceae00"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a57443829c4ecaefbc349592871ceae00">sysio::detail::asio_local_with_stub_log::concurrency_type</a></div><div class="ttdeci">base::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition</b> <a href="#l00099">http_plugin.cpp:99</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a6e3f14eecec021db5aa8ea7fb8167a2a"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a6e3f14eecec021db5aa8ea7fb8167a2a">sysio::detail::asio_local_with_stub_log::response_type</a></div><div class="ttdeci">base::response_type response_type</div><div class="ttdef"><b>Definition</b> <a href="#l00102">http_plugin.cpp:102</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a7dd1230c295691879c4f509049756576"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a7dd1230c295691879c4f509049756576">sysio::detail::asio_local_with_stub_log::elog_type</a></div><div class="ttdeci">websocketpp::log::stub elog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00108">http_plugin.cpp:108</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_a8b8e8cb485e17e975193365e44058c8c"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#a8b8e8cb485e17e975193365e44058c8c">sysio::detail::asio_local_with_stub_log::base</a></div><div class="ttdeci">asio base</div><div class="ttdef"><b>Definition</b> <a href="#l00097">http_plugin.cpp:97</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_aa94a93dc62d87f108bf8d05ed8fb0d67"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aa94a93dc62d87f108bf8d05ed8fb0d67">sysio::detail::asio_local_with_stub_log::rng_type</a></div><div class="ttdeci">base::rng_type rng_type</div><div class="ttdef"><b>Definition</b> <a href="#l00111">http_plugin.cpp:111</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_aabd2059f9e70e1ce9cffbcadca21c486"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#aabd2059f9e70e1ce9cffbcadca21c486">sysio::detail::asio_local_with_stub_log::transport_type</a></div><div class="ttdeci">websocketpp::transport::asio::local_endpoint&lt; transport_config &gt; transport_type</div><div class="ttdef"><b>Definition</b> <a href="#l00122">http_plugin.cpp:122</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_ab178ff95972a3bb3cadd9cab223a7aca"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab178ff95972a3bb3cadd9cab223a7aca">sysio::detail::asio_local_with_stub_log::endpoint_msg_manager_type</a></div><div class="ttdeci">base::endpoint_msg_manager_type endpoint_msg_manager_type</div><div class="ttdef"><b>Definition</b> <a href="#l00106">http_plugin.cpp:106</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_ab652ce50200b9d9c16b915c7cb4e9c33"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ab652ce50200b9d9c16b915c7cb4e9c33">sysio::detail::asio_local_with_stub_log::request_type</a></div><div class="ttdeci">base::request_type request_type</div><div class="ttdef"><b>Definition</b> <a href="#l00101">http_plugin.cpp:101</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__local__with__stub__log_html_ae5e766b680c7e89cb776cef7f773e61b"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__local__with__stub__log.html#ae5e766b680c7e89cb776cef7f773e61b">sysio::detail::asio_local_with_stub_log::alog_type</a></div><div class="ttdeci">websocketpp::log::stub alog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00109">http_plugin.cpp:109</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">sysio::detail::asio_with_stub_log::transport_config</a></div><div class="ttdef"><b>Definition</b> <a href="#l00080">http_plugin.cpp:80</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a1835e1b0279f6b651f0dff238b5920c0"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1835e1b0279f6b651f0dff238b5920c0">sysio::detail::asio_with_stub_log::transport_config::elog_type</a></div><div class="ttdeci">type::elog_type elog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00083">http_plugin.cpp:83</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a37ff9f4bc2f8783c2294540947bac64a"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a37ff9f4bc2f8783c2294540947bac64a">sysio::detail::asio_with_stub_log::transport_config::concurrency_type</a></div><div class="ttdeci">type::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition</b> <a href="#l00081">http_plugin.cpp:81</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a550e961fd4d814e6016b81e4ef3bae82"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a550e961fd4d814e6016b81e4ef3bae82">sysio::detail::asio_with_stub_log::transport_config::response_type</a></div><div class="ttdeci">type::response_type response_type</div><div class="ttdef"><b>Definition</b> <a href="#l00085">http_plugin.cpp:85</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a8a7286ebe9a21de1028390c885efdbe5"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a8a7286ebe9a21de1028390c885efdbe5">sysio::detail::asio_with_stub_log::transport_config::alog_type</a></div><div class="ttdeci">type::alog_type alog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00082">http_plugin.cpp:82</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a957a755b6a73d23b001e0e59d1897a4e"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a957a755b6a73d23b001e0e59d1897a4e">sysio::detail::asio_with_stub_log::transport_config::request_type</a></div><div class="ttdeci">type::request_type request_type</div><div class="ttdef"><b>Definition</b> <a href="#l00084">http_plugin.cpp:84</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_aca8f942a6e670a42ffed760eabcec489"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#aca8f942a6e670a42ffed760eabcec489">sysio::detail::asio_with_stub_log::transport_config::socket_type</a></div><div class="ttdeci">T socket_type</div><div class="ttdef"><b>Definition</b> <a href="#l00086">http_plugin.cpp:86</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html">sysio::detail::asio_with_stub_log</a></div><div class="ttdef"><b>Definition</b> <a href="#l00062">http_plugin.cpp:62</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a13c17be0151ea5c338050aff87af6416"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a13c17be0151ea5c338050aff87af6416">sysio::detail::asio_with_stub_log::con_msg_manager_type</a></div><div class="ttdeci">base::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition</b> <a href="#l00072">http_plugin.cpp:72</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a3093b8e73c35d6821db98ad35a00f8b6"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3093b8e73c35d6821db98ad35a00f8b6">sysio::detail::asio_with_stub_log::message_type</a></div><div class="ttdeci">base::message_type message_type</div><div class="ttdef"><b>Definition</b> <a href="#l00071">http_plugin.cpp:71</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a3d2825db695946f9d0643064e7e3c14b"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a3d2825db695946f9d0643064e7e3c14b">sysio::detail::asio_with_stub_log::base</a></div><div class="ttdeci">asio base</div><div class="ttdef"><b>Definition</b> <a href="#l00064">http_plugin.cpp:64</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a427d9aa4f5370197558f04d9099fc6a2"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a427d9aa4f5370197558f04d9099fc6a2">sysio::detail::asio_with_stub_log::type</a></div><div class="ttdeci">asio_with_stub_log type</div><div class="ttdef"><b>Definition</b> <a href="#l00063">http_plugin.cpp:63</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a56b1440e7452ea65f3da0d9336c9aef9"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a56b1440e7452ea65f3da0d9336c9aef9">sysio::detail::asio_with_stub_log::request_type</a></div><div class="ttdeci">base::request_type request_type</div><div class="ttdef"><b>Definition</b> <a href="#l00068">http_plugin.cpp:68</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a58bdab1c9f27ff33cd74866710e76a6a"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a58bdab1c9f27ff33cd74866710e76a6a">sysio::detail::asio_with_stub_log::rng_type</a></div><div class="ttdeci">base::rng_type rng_type</div><div class="ttdef"><b>Definition</b> <a href="#l00078">http_plugin.cpp:78</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a5cde9cda348e5e17ed310f554685e6a1"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a5cde9cda348e5e17ed310f554685e6a1">sysio::detail::asio_with_stub_log::alog_type</a></div><div class="ttdeci">websocketpp::log::stub alog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00076">http_plugin.cpp:76</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a7444e75f181faa08cb705bf48578cc4f"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7444e75f181faa08cb705bf48578cc4f">sysio::detail::asio_with_stub_log::transport_type</a></div><div class="ttdeci">websocketpp::transport::asio::endpoint&lt; transport_config &gt; transport_type</div><div class="ttdef"><b>Definition</b> <a href="#l00090">http_plugin.cpp:90</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_a7cd9ca873160d646a68b6f20f5b42cf7"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#a7cd9ca873160d646a68b6f20f5b42cf7">sysio::detail::asio_with_stub_log::endpoint_msg_manager_type</a></div><div class="ttdeci">base::endpoint_msg_manager_type endpoint_msg_manager_type</div><div class="ttdef"><b>Definition</b> <a href="#l00073">http_plugin.cpp:73</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_abc94655eaa5bd4a082862ffa2b7b379a"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#abc94655eaa5bd4a082862ffa2b7b379a">sysio::detail::asio_with_stub_log::elog_type</a></div><div class="ttdeci">websocketpp::log::stub elog_type</div><div class="ttdef"><b>Definition</b> <a href="#l00075">http_plugin.cpp:75</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_ac68ab1cc05b1dcaf720f18709343786d"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#ac68ab1cc05b1dcaf720f18709343786d">sysio::detail::asio_with_stub_log::response_type</a></div><div class="ttdeci">base::response_type response_type</div><div class="ttdef"><b>Definition</b> <a href="#l00069">http_plugin.cpp:69</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_ad2cbff28d2e148e0d73cd999e6c2ba22"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#ad2cbff28d2e148e0d73cd999e6c2ba22">sysio::detail::asio_with_stub_log::concurrency_type</a></div><div class="ttdeci">base::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition</b> <a href="#l00066">http_plugin.cpp:66</a></div></div>
<div class="ttc" id="astructsysio_1_1detail_1_1asio__with__stub__log_html_ae0c45c83eb8e398f835128596eb8b554"><div class="ttname"><a href="structsysio_1_1detail_1_1asio__with__stub__log.html#ae0c45c83eb8e398f835128596eb8b554">sysio::detail::asio_with_stub_log::timeout_open_handshake</a></div><div class="ttdeci">static const long timeout_open_handshake</div><div class="ttdef"><b>Definition</b> <a href="#l00092">http_plugin.cpp:92</a></div></div>
<div class="ttc" id="astructsysio_1_1error__results_1_1error__info_html"><div class="ttname"><a href="structsysio_1_1error__results_1_1error__info.html">sysio::error_results::error_info</a></div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00121">http_plugin.hpp:121</a></div></div>
<div class="ttc" id="astructsysio_1_1error__results_1_1error__info_html_a1fa571524b29ec9a3017875712a24635"><div class="ttname"><a href="structsysio_1_1error__results_1_1error__info.html#a1fa571524b29ec9a3017875712a24635">sysio::error_results::error_info::code</a></div><div class="ttdeci">int64_t code</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00122">http_plugin.hpp:122</a></div></div>
<div class="ttc" id="astructsysio_1_1error__results_1_1error__info_html_a93cc9a72260af2e3dae5f9950e15202a"><div class="ttname"><a href="structsysio_1_1error__results_1_1error__info.html#a93cc9a72260af2e3dae5f9950e15202a">sysio::error_results::error_info::name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00123">http_plugin.hpp:123</a></div></div>
<div class="ttc" id="astructsysio_1_1error__results_1_1error__info_html_ad7ce67209863bf89f9bad491aa6f00a6"><div class="ttname"><a href="structsysio_1_1error__results_1_1error__info.html#ad7ce67209863bf89f9bad491aa6f00a6">sysio::error_results::error_info::what</a></div><div class="ttdeci">string what</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00124">http_plugin.hpp:124</a></div></div>
<div class="ttc" id="astructsysio_1_1error__results_html"><div class="ttname"><a href="structsysio_1_1error__results.html">sysio::error_results</a></div><div class="ttdoc">Structure used to create JSON error responses.</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00117">http_plugin.hpp:117</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin_1_1get__supported__apis__result_html"><div class="ttname"><a href="structsysio_1_1http__plugin_1_1get__supported__apis__result.html">sysio::http_plugin::get_supported_apis_result</a></div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00101">http_plugin.hpp:101</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__defaults_html"><div class="ttname"><a href="structsysio_1_1http__plugin__defaults.html">sysio::http_plugin_defaults</a></div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00040">http_plugin.hpp:40</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__defaults_html_a0f0c286c3aa87f8b51cb373ae4a5b245"><div class="ttname"><a href="structsysio_1_1http__plugin__defaults.html#a0f0c286c3aa87f8b51cb373ae4a5b245">sysio::http_plugin_defaults::default_unix_socket_path</a></div><div class="ttdeci">string default_unix_socket_path</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00044">http_plugin.hpp:44</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__defaults_html_a258689cc5f13c2b43faaec59be488608"><div class="ttname"><a href="structsysio_1_1http__plugin__defaults.html#a258689cc5f13c2b43faaec59be488608">sysio::http_plugin_defaults::default_http_port</a></div><div class="ttdeci">uint16_t default_http_port</div><div class="ttdef"><b>Definition</b> <a href="http__plugin_8hpp_source.html#l00047">http_plugin.hpp:47</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html">sysio::http_plugin_impl::abstract_conn_impl</a></div><div class="ttdef"><b>Definition</b> <a href="#l00354">http_plugin.cpp:354</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_a6019d3f258dcb78f2730c6f43febe2ec"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a6019d3f258dcb78f2730c6f43febe2ec">sysio::http_plugin_impl::abstract_conn_impl::abstract_conn_impl</a></div><div class="ttdeci">abstract_conn_impl(abstract_conn_impl &amp;&amp;)=delete</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_a607121c3305b204bc89a1cb2adc5de75"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a607121c3305b204bc89a1cb2adc5de75">sysio::http_plugin_impl::abstract_conn_impl::abstract_conn_impl</a></div><div class="ttdeci">abstract_conn_impl(const abstract_conn_impl &amp;)=delete</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_a79142fbd5b2b1771e998f93cccbbab30"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a79142fbd5b2b1771e998f93cccbbab30">sysio::http_plugin_impl::abstract_conn_impl::send_response</a></div><div class="ttdeci">void send_response(std::string body, int code) override</div><div class="ttdef"><b>Definition</b> <a href="#l00376">http_plugin.cpp:376</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_a9cbb007316e018e82e1b6d2f069e9ad1"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9cbb007316e018e82e1b6d2f069e9ad1">sysio::http_plugin_impl::abstract_conn_impl::verify_max_bytes_in_flight</a></div><div class="ttdeci">bool verify_max_bytes_in_flight() override</div><div class="ttdef"><b>Definition</b> <a href="#l00368">http_plugin.cpp:368</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_a9eadf58cbfb51c7aef319093b7289d08"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#a9eadf58cbfb51c7aef319093b7289d08">sysio::http_plugin_impl::abstract_conn_impl::abstract_conn_impl</a></div><div class="ttdeci">abstract_conn_impl(detail::connection_ptr&lt; T &gt; conn, http_plugin_impl_ptr impl)</div><div class="ttdef"><b>Definition</b> <a href="#l00355">http_plugin.cpp:355</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_aa820767c22c0054b8178fff7adfdd748"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#aa820767c22c0054b8178fff7adfdd748">sysio::http_plugin_impl::abstract_conn_impl::_impl</a></div><div class="ttdeci">http_plugin_impl_ptr _impl</div><div class="ttdef"><b>Definition</b> <a href="#l00383">http_plugin.cpp:383</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_ac7ce6397c0fc7a41efa53458391531c3"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ac7ce6397c0fc7a41efa53458391531c3">sysio::http_plugin_impl::abstract_conn_impl::_conn</a></div><div class="ttdeci">detail::connection_ptr&lt; T &gt; _conn</div><div class="ttdef"><b>Definition</b> <a href="#l00382">http_plugin.cpp:382</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_acecd4c19092d833718fe02f7ff80213e"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#acecd4c19092d833718fe02f7ff80213e">sysio::http_plugin_impl::abstract_conn_impl::operator=</a></div><div class="ttdeci">abstract_conn_impl &amp; operator=(abstract_conn_impl &amp;&amp;) noexcept=default</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_ad5aa277edc9e110da2050d05690fe85d"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#ad5aa277edc9e110da2050d05690fe85d">sysio::http_plugin_impl::abstract_conn_impl::handle_exception</a></div><div class="ttdeci">void handle_exception() override</div><div class="ttdef"><b>Definition</b> <a href="#l00372">http_plugin.cpp:372</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1abstract__conn__impl_html_af7015a2519caf3d2c6e39f8accb96eb9"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1abstract__conn__impl.html#af7015a2519caf3d2c6e39f8accb96eb9">sysio::http_plugin_impl::abstract_conn_impl::operator=</a></div><div class="ttdeci">abstract_conn_impl &amp; operator=(const abstract_conn_impl &amp;)=delete</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html">sysio::http_plugin_impl::in_flight</a></div><div class="ttdef"><b>Definition</b> <a href="#l00405">http_plugin.cpp:405</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_a0cc038eaf3f74e250d1208cf409ce1e4"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a0cc038eaf3f74e250d1208cf409ce1e4">sysio::http_plugin_impl::in_flight::in_flight</a></div><div class="ttdeci">in_flight(in_flight &amp;&amp;from)</div><div class="ttdef"><b>Definition</b> <a href="#l00422">http_plugin.cpp:422</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_a7f2082d20fde08911cc15d38a2027708"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a7f2082d20fde08911cc15d38a2027708">sysio::http_plugin_impl::in_flight::operator=</a></div><div class="ttdeci">in_flight &amp; operator=(const in_flight &amp;)=delete</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_a8660b7777f96b485f1d4a26863dcec1d"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a8660b7777f96b485f1d4a26863dcec1d">sysio::http_plugin_impl::in_flight::in_flight</a></div><div class="ttdeci">in_flight(const in_flight &amp;)=delete</div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_a93028aa7c43abadef36794543912ec06"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a93028aa7c43abadef36794543912ec06">sysio::http_plugin_impl::in_flight::_count</a></div><div class="ttdeci">size_t _count</div><div class="ttdef"><b>Definition</b> <a href="#l00456">http_plugin.cpp:456</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_a9f56b18f0011fffde8dcc9425ec10e7d"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#a9f56b18f0011fffde8dcc9425ec10e7d">sysio::http_plugin_impl::in_flight::operator=</a></div><div class="ttdeci">in_flight &amp; operator=(in_flight &amp;&amp;from)</div><div class="ttdef"><b>Definition</b> <a href="#l00432">http_plugin.cpp:432</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_abc593228eb1574ecba4fc7817f923050"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#abc593228eb1574ecba4fc7817f923050">sysio::http_plugin_impl::in_flight::_impl</a></div><div class="ttdeci">http_plugin_impl_ptr _impl</div><div class="ttdef"><b>Definition</b> <a href="#l00457">http_plugin.cpp:457</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_acf19590fea61abe9358d0e893b36e218"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#acf19590fea61abe9358d0e893b36e218">sysio::http_plugin_impl::in_flight::~in_flight</a></div><div class="ttdeci">~in_flight()</div><div class="ttdef"><b>Definition</b> <a href="#l00414">http_plugin.cpp:414</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_ae3bed859d74c8e3acf1e1b8730f61bcf"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#ae3bed859d74c8e3acf1e1b8730f61bcf">sysio::http_plugin_impl::in_flight::in_flight</a></div><div class="ttdeci">in_flight(T &amp;&amp;object, http_plugin_impl_ptr impl)</div><div class="ttdef"><b>Definition</b> <a href="#l00406">http_plugin.cpp:406</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_af7676f01a2dafb8887936342cf60c127"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#af7676f01a2dafb8887936342cf60c127">sysio::http_plugin_impl::in_flight::_object</a></div><div class="ttdeci">T _object</div><div class="ttdef"><b>Definition</b> <a href="#l00455">http_plugin.cpp:455</a></div></div>
<div class="ttc" id="astructsysio_1_1http__plugin__impl_1_1in__flight_html_afc091ff5c3a0bd9c26fb925b1de45f5d"><div class="ttname"><a href="structsysio_1_1http__plugin__impl_1_1in__flight.html#afc091ff5c3a0bd9c26fb925b1de45f5d">sysio::http_plugin_impl::in_flight::operator*</a></div><div class="ttdeci">const T &amp; operator*() const</div><div class="ttdef"><b>Definition</b> <a href="#l00443">http_plugin.cpp:443</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1config_1_1asio_html"><div class="ttname"><a href="structwebsocketpp_1_1config_1_1asio.html">websocketpp::config::asio</a></div><div class="ttdoc">Server config with asio transport and TLS disabled.</div><div class="ttdef"><b>Definition</b> <a href="asio__no__tls_8hpp_source.html#l00038">asio_no_tls.hpp:38</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1alevel_html_a853aa0b8976e53f3181af3bc398d493e"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1alevel.html#a853aa0b8976e53f3181af3bc398d493e">websocketpp::log::alevel::all</a></div><div class="ttdeci">static level const all</div><div class="ttdoc">Special aggregate value representing &quot;all levels&quot;.</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00152">levels.hpp:152</a></div></div>
<div class="ttc" id="astub_8hpp_html"><div class="ttname"><a href="stub_8hpp.html">stub.hpp</a></div></div>
<div class="ttc" id="athread__utils_8hpp_html"><div class="ttname"><a href="thread__utils_8hpp.html">thread_utils.hpp</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a85d991d90970121ba1480cd98d93aab9"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a85d991d90970121ba1480cd98d93aab9">object</a></div><div class="ttdeci">yh_object_descriptor object</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l01544">yubihsm_pkcs11.c:1544</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4500636a3a05d93d2a8a287b45607964.html">plugins</a></li><li class="navelem"><a class="el" href="dir_251417f25d8543fbee1b3c1a544805de.html">http_plugin</a></li><li class="navelem"><a class="el" href="http__plugin_8cpp.html">http_plugin.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
