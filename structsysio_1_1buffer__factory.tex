\doxysection{sysio\+::buffer\+\_\+factory Struct Reference}
\hypertarget{structsysio_1_1buffer__factory}{}\label{structsysio_1_1buffer__factory}\index{sysio::buffer\_factory@{sysio::buffer\_factory}}


Inheritance diagram for sysio\+::buffer\+\_\+factory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{structsysio_1_1buffer__factory__inherit__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} \& \mbox{\hyperlink{structsysio_1_1buffer__factory_a480d021121170a01b8148078a6f4e29f}{get\+\_\+send\+\_\+buffer}} (const \mbox{\hyperlink{namespacesysio_a783ade47a6f13a71a9b75cd2c68d9965}{net\+\_\+message}} \&m)
\begin{DoxyCompactList}\small\item\em caches result for subsequent calls, only provide same net\+\_\+message instance for each invocation \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} \mbox{\hyperlink{structsysio_1_1buffer__factory_a9d7e515856995325a99cc40aebf505e2}{create\+\_\+send\+\_\+buffer}} (const \mbox{\hyperlink{namespacesysio_a783ade47a6f13a71a9b75cd2c68d9965}{net\+\_\+message}} \&m)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}} $>$ }\\static \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} \mbox{\hyperlink{structsysio_1_1buffer__factory_a1215ab02e102e2fcb951e16798e71e72}{create\+\_\+send\+\_\+buffer}} (\mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}} which, const \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}} \&v)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\+\_\+buffer}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{net__plugin_8cpp_source_l01322}{1322}} of file \mbox{\hyperlink{net__plugin_8cpp_source}{net\+\_\+plugin.\+cpp}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{structsysio_1_1buffer__factory_a9d7e515856995325a99cc40aebf505e2}\index{sysio::buffer\_factory@{sysio::buffer\_factory}!create\_send\_buffer@{create\_send\_buffer}}
\index{create\_send\_buffer@{create\_send\_buffer}!sysio::buffer\_factory@{sysio::buffer\_factory}}
\doxysubsubsection{\texorpdfstring{create\_send\_buffer()}{create\_send\_buffer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{structsysio_1_1buffer__factory_a9d7e515856995325a99cc40aebf505e2} 
static \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} sysio\+::buffer\+\_\+factory\+::create\+\_\+send\+\_\+buffer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacesysio_a783ade47a6f13a71a9b75cd2c68d9965}{net\+\_\+message}} \&}]{m}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{net__plugin_8cpp_source_l01336}{1336}} of file \mbox{\hyperlink{net__plugin_8cpp_source}{net\+\_\+plugin.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01337\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ payload\_size\ =\ \mbox{\hyperlink{namespacefc_1_1raw_a64937a5adc8041247f7007882224e225}{fc::raw::pack\_size}}(\ m\ );}
\DoxyCodeLine{01338\ }
\DoxyCodeLine{01339\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ header\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\ const\textcolor{keyword}{>}(\&payload\_size);\ \textcolor{comment}{//\ avoid\ variable\ size\ encoding\ of\ uint32\_t}}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ buffer\_size\ =\ \mbox{\hyperlink{namespacesysio_a00c50092ca42151d17c3e24f7649e607}{message\_header\_size}}\ +\ payload\_size;}
\DoxyCodeLine{01341\ }
\DoxyCodeLine{01342\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}\ =\ std::make\_shared<vector<char>>(buffer\_size);}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1datastream}{fc::datastream<char*>}}\ \mbox{\hyperlink{namespace_xbyak_1_1util_a4b2aef26182d21706896022467868f7c}{ds}}(\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}-\/>data(),\ buffer\_size);}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_xbyak_1_1util_a4b2aef26182d21706896022467868f7c}{ds}}.write(\ header,\ \mbox{\hyperlink{namespacesysio_a00c50092ca42151d17c3e24f7649e607}{message\_header\_size}}\ );}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacefc_1_1raw_a3a18d8161aa5b4f4f02b6fcfdff5e5d1}{fc::raw::pack}}(\ ds,\ m\ );}
\DoxyCodeLine{01346\ }
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}};}
\DoxyCodeLine{01348\ \ \ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structsysio_1_1buffer__factory_a9d7e515856995325a99cc40aebf505e2_cgraph}
\end{center}
\end{figure}
\Hypertarget{structsysio_1_1buffer__factory_a1215ab02e102e2fcb951e16798e71e72}\index{sysio::buffer\_factory@{sysio::buffer\_factory}!create\_send\_buffer@{create\_send\_buffer}}
\index{create\_send\_buffer@{create\_send\_buffer}!sysio::buffer\_factory@{sysio::buffer\_factory}}
\doxysubsubsection{\texorpdfstring{create\_send\_buffer()}{create\_send\_buffer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{structsysio_1_1buffer__factory_a1215ab02e102e2fcb951e16798e71e72} 
template$<$typename \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}} $>$ \\
static \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} sysio\+::buffer\+\_\+factory\+::create\+\_\+send\+\_\+buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\+\_\+t}}}]{which}{, }\item[{const \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}} \&}]{v}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{net__plugin_8cpp_source_l01351}{1351}} of file \mbox{\hyperlink{net__plugin_8cpp_source}{net\+\_\+plugin.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ match\ net\_message\ static\_variant\ pack}}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ which\_size\ =\ \mbox{\hyperlink{namespacefc_1_1raw_a64937a5adc8041247f7007882224e225}{fc::raw::pack\_size}}(\ \mbox{\hyperlink{structfc_1_1unsigned__int}{unsigned\_int}}(\ which\ )\ );}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\ payload\_size\ =\ which\_size\ +\ \mbox{\hyperlink{namespacefc_1_1raw_a64937a5adc8041247f7007882224e225}{fc::raw::pack\_size}}(\ v\ );}
\DoxyCodeLine{01355\ }
\DoxyCodeLine{01356\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \textcolor{keyword}{const}\ header\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{char}*\ const\textcolor{keyword}{>}(\&payload\_size);\ \textcolor{comment}{//\ avoid\ variable\ size\ encoding\ of\ uint32\_t}}
\DoxyCodeLine{01357\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ buffer\_size\ =\ \mbox{\hyperlink{namespacesysio_a00c50092ca42151d17c3e24f7649e607}{message\_header\_size}}\ +\ payload\_size;}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}\ =\ std::make\_shared<vector<char>>(\ buffer\_size\ );}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1datastream}{fc::datastream<char*>}}\ \mbox{\hyperlink{namespace_xbyak_1_1util_a4b2aef26182d21706896022467868f7c}{ds}}(\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}-\/>data(),\ buffer\_size\ );}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_xbyak_1_1util_a4b2aef26182d21706896022467868f7c}{ds}}.write(\ header,\ \mbox{\hyperlink{namespacesysio_a00c50092ca42151d17c3e24f7649e607}{message\_header\_size}}\ );}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacefc_1_1raw_a3a18d8161aa5b4f4f02b6fcfdff5e5d1}{fc::raw::pack}}(\ ds,\ \mbox{\hyperlink{structfc_1_1unsigned__int}{unsigned\_int}}(\ which\ )\ );}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacefc_1_1raw_a3a18d8161aa5b4f4f02b6fcfdff5e5d1}{fc::raw::pack}}(\ ds,\ v\ );}
\DoxyCodeLine{01364\ }
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}};}
\DoxyCodeLine{01366\ \ \ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structsysio_1_1buffer__factory_a1215ab02e102e2fcb951e16798e71e72_cgraph}
\end{center}
\end{figure}
\Hypertarget{structsysio_1_1buffer__factory_a480d021121170a01b8148078a6f4e29f}\index{sysio::buffer\_factory@{sysio::buffer\_factory}!get\_send\_buffer@{get\_send\_buffer}}
\index{get\_send\_buffer@{get\_send\_buffer}!sysio::buffer\_factory@{sysio::buffer\_factory}}
\doxysubsubsection{\texorpdfstring{get\_send\_buffer()}{get\_send\_buffer()}}
{\footnotesize\ttfamily \label{structsysio_1_1buffer__factory_a480d021121170a01b8148078a6f4e29f} 
const \mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} \& sysio\+::buffer\+\_\+factory\+::get\+\_\+send\+\_\+buffer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespacesysio_a783ade47a6f13a71a9b75cd2c68d9965}{net\+\_\+message}} \&}]{m}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{net__plugin_8cpp_source_l01325}{1325}} of file \mbox{\hyperlink{net__plugin_8cpp_source}{net\+\_\+plugin.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !\mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}\ )\ \{}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}}\ =\ \mbox{\hyperlink{structsysio_1_1buffer__factory_a9d7e515856995325a99cc40aebf505e2}{create\_send\_buffer}}(\ m\ );}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01329\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}{send\_buffer}};}
\DoxyCodeLine{01330\ \ \ \ \ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structsysio_1_1buffer__factory_a480d021121170a01b8148078a6f4e29f_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17}\index{sysio::buffer\_factory@{sysio::buffer\_factory}!send\_buffer@{send\_buffer}}
\index{send\_buffer@{send\_buffer}!sysio::buffer\_factory@{sysio::buffer\_factory}}
\doxysubsubsection{\texorpdfstring{send\_buffer}{send\_buffer}}
{\footnotesize\ttfamily \label{structsysio_1_1buffer__factory_affe3353e4d4a787692a5b45715cd6c17} 
\mbox{\hyperlink{namespacesysio_a4a604ada505f8ee61ec551331a35e99e}{send\+\_\+buffer\+\_\+type}} sysio\+::buffer\+\_\+factory\+::send\+\_\+buffer\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{net__plugin_8cpp_source_l01333}{1333}} of file \mbox{\hyperlink{net__plugin_8cpp_source}{net\+\_\+plugin.\+cpp}}.



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
plugins/net\+\_\+plugin/\mbox{\hyperlink{net__plugin_8cpp}{net\+\_\+plugin.\+cpp}}\end{DoxyCompactItemize}
