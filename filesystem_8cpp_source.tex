\doxysection{filesystem.\+cpp}
\hypertarget{filesystem_8cpp_source}{}\label{filesystem_8cpp_source}\index{libraries/fc/src/filesystem.cpp@{libraries/fc/src/filesystem.cpp}}
\mbox{\hyperlink{filesystem_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00001}00001\ \textcolor{comment}{//\#define\ BOOST\_NO\_SCOPED\_ENUMS}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{filesystem_8hpp}{fc/filesystem.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{exception_8hpp}{fc/exception/exception.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{fwd__impl_8hpp}{fc/fwd\_impl.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{utility_8hpp}{fc/utility.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{utf8_8hpp}{fc/utf8.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{fc_2include_2fc_2variant_8hpp}{fc/variant.hpp}}>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <boost/config.hpp>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <boost/filesystem.hpp>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00015}00015\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00016}00016\ \textcolor{preprocessor}{\#\ include\ <windows.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00017}00017\ \textcolor{preprocessor}{\#\ include\ <userenv.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00018}00018\ \textcolor{preprocessor}{\#\ include\ <shlobj.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00019}00019\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00020}00020\ \textcolor{preprocessor}{\ \ \#include\ <sys/types.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00021}00021\ \textcolor{preprocessor}{\ \ \#include\ <sys/stat.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00022}00022\ \textcolor{preprocessor}{\ \ \#include\ <pwd.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00023}00023\ \textcolor{preprocessor}{\#\ ifdef\ FC\_HAS\_SIMPLE\_FILE\_LOCK}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00024}00024\ \textcolor{preprocessor}{\ \ \#include\ <sys/file.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00025}00025\ \textcolor{preprocessor}{\ \ \#include\ <fcntl.h>}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00026}00026\ \textcolor{preprocessor}{\#\ endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00027}00027\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00029}00029\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacefc}{fc}}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00030}00030\ \ \ \textcolor{comment}{//\ when\ converting\ to\ and\ from\ a\ variant,\ store\ utf-\/8\ in\ the\ variant}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00031}\mbox{\hyperlink{namespacefc_ab3f1824164e169cf6697c22db22e1065}{00031}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_adea61f2343de94d0fbcb920a32332ad9}{to\_variant}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ path\_to\_convert,\ \mbox{\hyperlink{classfc_1_1variant}{variant}}\&\ variant\_output\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00032}00032\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00033}00033\ \ \ \ \ std::wstring\ wide\_string\ =\ path\_to\_convert.\mbox{\hyperlink{classfc_1_1path_a018f35936535482432e303d4b7d10c31}{generic\_wstring}}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00034}00034\ \ \ \ \ std::string\ utf8\_string;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00035}00035\ \ \ \ \ \mbox{\hyperlink{namespacefc_a929646b3a8b7feb5688409ddef1897c9}{fc::encodeUtf8}}(wide\_string,\ \&utf8\_string);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00036}00036\ \ \ \ \ variant\_output\ =\ utf8\_string;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00038}00038\ \ \ \ \ \textcolor{comment}{//std::string\ path\ =\ t.to\_native\_ansi\_path();}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00039}00039\ \ \ \ \ \textcolor{comment}{//std::replace(path.begin(),\ path.end(),\ '\(\backslash\)\(\backslash\)',\ '/');}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00040}00040\ \ \ \ \ \textcolor{comment}{//v\ =\ path;}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00041}00041\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00043}\mbox{\hyperlink{namespacefc_a77f02042bd60e2889251c4ffd5cda0be}{00043}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_accef08adf4ee05c36ccc550d8101b08f}{from\_variant}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}\&\ variant\_to\_convert,\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ path\_output\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00044}00044\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00045}00045\ \ \ \ \ std::wstring\ wide\_string;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00046}00046\ \ \ \ \ \mbox{\hyperlink{namespacefc_a440b80d7907f475f1380eb76f054ed05}{fc::decodeUtf8}}(variant\_to\_convert.\mbox{\hyperlink{classfc_1_1variant_acbd70a93184e4277631f2a261acb707c}{as\_string}}(),\ \&wide\_string);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00047}00047\ \ \ \ \ path\_output\ =\ \mbox{\hyperlink{classfc_1_1path}{path}}(wide\_string);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00048}00048\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00050}00050\ \ \ \ \textcolor{comment}{//\ Note:\ we\ can\ do\ this\ cast\ because\ the\ separator\ should\ be\ an\ ASCII\ character}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00051}00051\ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{classfc_1_1path_a613fc8b20159868e1aa62670d81a0aad}{path::separator\_char}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(boost::filesystem::path(\textcolor{stringliteral}{"{}/"{}}).make\_preferred().native()[0]);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00053}\mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{00053}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}()\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00054}\mbox{\hyperlink{classfc_1_1path_a5c57209bbb7561e35dcbd8ce8804e9c7}{00054}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a5c57209bbb7561e35dcbd8ce8804e9c7}{path::\string~path}}()\{\};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00055}\mbox{\hyperlink{classfc_1_1path_add8f88ad5dd493b16904860ce9be6493}{00055}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\ \textcolor{keyword}{const}\ boost::filesystem::path\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00056}00056\ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00058}\mbox{\hyperlink{classfc_1_1path_ab7e23e521ace1a15d0958d16e43cb69f}{00058}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00059}00059\ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00060}\mbox{\hyperlink{classfc_1_1path_aca67292cff9d14da2d8814d09e0a7193}{00060}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00061}00061\ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.c\_str())\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00063}\mbox{\hyperlink{classfc_1_1path_a53f157da299530b9241885abc9aed113}{00063}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\textcolor{keyword}{const}\ std::wstring\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00064}00064\ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\ \{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00066}\mbox{\hyperlink{classfc_1_1path_a29e0e41c28ed846b7c9dca9b3031a4da}{00066}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00067}00067\ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00069}\mbox{\hyperlink{classfc_1_1path_ab7ad3a6bc6a10744488f4fd18c163f16}{00069}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path_a2eac01e2a01fae18aa931c4b9369db08}{path::path}}(\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00070}00070\ \ \ \ :\_p(\mbox{\hyperlink{namespacestd}{std}}::move(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}))\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00072}\mbox{\hyperlink{classfc_1_1path_a76df00a037a781a2ebb3ae3100e06929}{00072}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{classfc_1_1path_a76df00a037a781a2ebb3ae3100e06929}{path::operator\ =}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00073}00073\ \ \ \ \ *\_p\ =\ *\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00074}00074\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00075}00075\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00076}\mbox{\hyperlink{classfc_1_1path_abd300298b33db4c752481d93245fcbf4}{00076}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{classfc_1_1path_a76df00a037a781a2ebb3ae3100e06929}{path::operator\ =}}(\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00077}00077\ \ \ \ \ *\_p\ =\ fc::move(\ *\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.\_p\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00078}00078\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00079}00079\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00081}\mbox{\hyperlink{classfc_1_1path_af46a9f5a58a1890adf262540e4064ab9}{00081}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a124b75eba5b23ec0df0cfdd00ae8757b}{operator\ <}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}\ )\ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p\ <\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p;\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00082}\mbox{\hyperlink{classfc_1_1path_a7ce8306c3272fb14fe0174d18d22b3ed}{00082}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a71ac088ff7dcef9686fc7560942e38d0}{operator\ ==}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}\ )\ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p\ ==\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p;\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00083}\mbox{\hyperlink{classfc_1_1path_af4243784e3bf75282aa0f6ca697c1a1b}{00083}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a5b4dc9c26c5afc71a8678abe3cd38c5b}{operator\ !=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}\ )\ \{\ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p\ !=\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p;\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00085}\mbox{\hyperlink{classfc_1_1path_addfacdbec90fcbdea3161373d314300d}{00085}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{classfc_1_1path_addfacdbec90fcbdea3161373d314300d}{path::operator\ /=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00086}00086\ \ \ \ \ \ \ *\_p\ /=\ *\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00087}00087\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00088}00088\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00089}\mbox{\hyperlink{classfc_1_1path_a6eff9b9fe0c496da927ac1a522a0161a}{00089}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\ \ \ \mbox{\hyperlink{namespacefc_ab862a767a4e9e5ee6802cc007bde81d7}{operator\ /}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ o\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00090}00090\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\ tmp;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00091}00091\ \ \ \ \ \ \ tmp\ =\ *\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.\_p\ /\ *o.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00092}00092\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tmp;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00093}00093\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00095}\mbox{\hyperlink{classfc_1_1path_a2630b0783273ac09a6db1ecec3661581}{00095}}\ \ \ \ path::operator\ boost::filesystem::path\&\ ()\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00096}00096\ \ \ \ \ \textcolor{keywordflow}{return}\ *\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00097}00097\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00098}\mbox{\hyperlink{classfc_1_1path_a39e648d6b1da8270dafeb4b927b984be}{00098}}\ \ \ \ path::operator\ \textcolor{keyword}{const}\ boost::filesystem::path\&\ ()\textcolor{keyword}{const}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00099}00099\ \ \ \ \ \textcolor{keywordflow}{return}\ *\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00100}00100\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00101}\mbox{\hyperlink{classfc_1_1path_ab1eae2062df4ea01435348ec52fb3784}{00101}}\ \ \ \ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\ \mbox{\hyperlink{classfc_1_1path_ab1eae2062df4ea01435348ec52fb3784}{path::generic\_string}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00102}00102\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>generic\_string();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00103}00103\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00105}\mbox{\hyperlink{classfc_1_1path_a9708f850e21e668a29523fbe6c4d0dca}{00105}}\ \ \ \ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\ \mbox{\hyperlink{classfc_1_1path_a9708f850e21e668a29523fbe6c4d0dca}{path::preferred\_string}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00106}00106\ \textcolor{keyword}{\ \ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00107}00107\ \ \ \ \ \ \textcolor{keywordflow}{return}\ boost::filesystem::path(*\_p).make\_preferred().string();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00108}00108\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00110}\mbox{\hyperlink{classfc_1_1path_a2eef878144c6265508787f3b9a6355e8}{00110}}\ \ \ std::wstring\ \mbox{\hyperlink{classfc_1_1path_a2eef878144c6265508787f3b9a6355e8}{path::wstring}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00111}00111\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00112}00112\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>wstring();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00113}00113\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00115}\mbox{\hyperlink{classfc_1_1path_a018f35936535482432e303d4b7d10c31}{00115}}\ \ \ std::wstring\ \mbox{\hyperlink{classfc_1_1path_a018f35936535482432e303d4b7d10c31}{path::generic\_wstring}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00116}00116\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00117}00117\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>generic\_wstring();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00118}00118\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00120}\mbox{\hyperlink{classfc_1_1path_a02b8088f909ec69bd18f1f2617cb1c1f}{00120}}\ \ \ std::wstring\ \mbox{\hyperlink{classfc_1_1path_a02b8088f909ec69bd18f1f2617cb1c1f}{path::preferred\_wstring}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00121}00121\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00122}00122\ \ \ \ \ \textcolor{keywordflow}{return}\ boost::filesystem::path(*\_p).make\_preferred().wstring();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00123}00123\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00125}\mbox{\hyperlink{classfc_1_1path_a9712c4ccfcfc54e02cc913510a858733}{00125}}\ \ \ std::string\ \mbox{\hyperlink{classfc_1_1path_a9712c4ccfcfc54e02cc913510a858733}{path::to\_native\_ansi\_path}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00126}00126\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00127}00127\ \ \ \ \ std::wstring\ \mbox{\hyperlink{classfc_1_1path}{path}}\ =\ \mbox{\hyperlink{classfc_1_1path_a018f35936535482432e303d4b7d10c31}{generic\_wstring}}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00129}00129\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00130}00130\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ maxPath\ =\ 32*1024;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00131}00131\ \ \ \ \ std::vector<wchar\_t>\ short\_path;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00132}00132\ \ \ \ \ short\_path.resize(maxPath\ +\ 1);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00134}00134\ \ \ \ \ \textcolor{keywordtype}{wchar\_t}*\ buffer\ =\ short\_path.data();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00135}00135\ \ \ \ \ DWORD\ res\ =\ GetShortPathNameW(\mbox{\hyperlink{classfc_1_1path}{path}}.c\_str(),\ buffer,\ maxPath);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00136}00136\ \ \ \ \ \textcolor{keywordflow}{if}(res\ !=\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00137}00137\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\ =\ buffer;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00138}00138\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00139}00139\ \ \ \ \ std::string\ filePath;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00140}00140\ \ \ \ \ \mbox{\hyperlink{namespacefc_a929646b3a8b7feb5688409ddef1897c9}{fc::encodeUtf8}}(\mbox{\hyperlink{classfc_1_1path}{path}},\ \&filePath);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00141}00141\ \ \ \ \ \textcolor{keywordflow}{return}\ filePath;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00142}00142\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00148}\mbox{\hyperlink{classfc_1_1path_a12a75eca015d0c9880e2c062e371d08d}{00148}}\ \ \ \ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\ \mbox{\hyperlink{classfc_1_1path_a12a75eca015d0c9880e2c062e371d08d}{path::windows\_string}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00149}00149\ \ \ \ \ \ std::string\ result\ =\ \_p-\/>generic\_string();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00150}00150\ \ \ \ \ \ std::replace(result.begin(),\ result.end(),\ \textcolor{charliteral}{'/'},\ \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00151}00151\ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00152}00152\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00154}\mbox{\hyperlink{classfc_1_1path_aaf0107e4a41f9977032b2a604161cf85}{00154}}\ \ \ \ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\ \mbox{\hyperlink{classfc_1_1path_aaf0107e4a41f9977032b2a604161cf85}{path::string}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00155}00155\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>string();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00156}00156\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00157}\mbox{\hyperlink{classfc_1_1path_a1e6beb6e05c3f6d6f699c1c448c4b1d6}{00157}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{classfc_1_1path_a1e6beb6e05c3f6d6f699c1c448c4b1d6}{path::filename}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00158}00158\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>filename();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00159}00159\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00160}\mbox{\hyperlink{classfc_1_1path_af7de3b21cee1e93c7496e480181e7af2}{00160}}\ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \mbox{\hyperlink{classfc_1_1path_af7de3b21cee1e93c7496e480181e7af2}{path::replace\_extension}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ e\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00161}00161\ \ \ \ \ \ \ \ \ \_p-\/>replace\_extension(e);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00162}00162\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00163}\mbox{\hyperlink{classfc_1_1path_ab0d2cca0994e599a7d65a89c5c8f9e54}{00163}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{classfc_1_1path_ab0d2cca0994e599a7d65a89c5c8f9e54}{path::extension}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>extension();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00165}00165\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00166}\mbox{\hyperlink{classfc_1_1path_a6756e8e4adb1f4f2423f454adfbbf205}{00166}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{classfc_1_1path_a6756e8e4adb1f4f2423f454adfbbf205}{path::stem}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00167}00167\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>stem();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00168}00168\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00169}\mbox{\hyperlink{classfc_1_1path_a10985bab813b9197980458e4345d0f36}{00169}}\ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{classfc_1_1path_a10985bab813b9197980458e4345d0f36}{path::parent\_path}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{return}\ \_p-\/>parent\_path();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00171}00171\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00172}\mbox{\hyperlink{classfc_1_1path_afbbbaae83c2d714a07cc424dc7b9f329}{00172}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classfc_1_1path_afbbbaae83c2d714a07cc424dc7b9f329}{path::is\_relative}}()\textcolor{keyword}{const\ }\{\ \textcolor{keywordflow}{return}\ \_p-\/>is\_relative();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00173}\mbox{\hyperlink{classfc_1_1path_ae8ca694b3a1a776ae4a3c7d4622d746a}{00173}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classfc_1_1path_ae8ca694b3a1a776ae4a3c7d4622d746a}{path::is\_absolute}}()\textcolor{keyword}{const\ }\{\ \textcolor{keywordflow}{return}\ \_p-\/>is\_absolute();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00175}\mbox{\hyperlink{classfc_1_1path_a48f77d63358cb5633cd0a7a5bff99201}{00175}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classfc_1_1path_a48f77d63358cb5633cd0a7a5bff99201}{path::empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \_p-\/>empty();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00177}\mbox{\hyperlink{classfc_1_1directory__iterator_a5201c83d6567151f308c292b2fbb3665}{00177}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator_a841823714172ed6f121dd4ca01a8d59d}{directory\_iterator::directory\_iterator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00178}00178\ \ \ \ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00179}00179\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00180}\mbox{\hyperlink{classfc_1_1directory__iterator_a841823714172ed6f121dd4ca01a8d59d}{00180}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator_a841823714172ed6f121dd4ca01a8d59d}{directory\_iterator::directory\_iterator}}()\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00181}\mbox{\hyperlink{classfc_1_1directory__iterator_a63eb76aeb7ec24226b924eba45e58ec6}{00181}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator_a63eb76aeb7ec24226b924eba45e58ec6}{directory\_iterator::\string~directory\_iterator}}()\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00183}\mbox{\hyperlink{classfc_1_1directory__iterator_ad06ef6b54ef483d56672d8d8bddd5e26}{00183}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator_ad06ef6b54ef483d56672d8d8bddd5e26}{directory\_iterator::operator*}}()\textcolor{keyword}{const\ }\{\ \textcolor{keywordflow}{return}\ boost::filesystem::path(*(*\_p));\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00184}\mbox{\hyperlink{classfc_1_1directory__iterator_aea174ce25dce1bae67c9dab956cc5750}{00184}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1detail_1_1path__wrapper}{detail::path\_wrapper}}\ \mbox{\hyperlink{classfc_1_1directory__iterator_aea174ce25dce1bae67c9dab956cc5750}{directory\_iterator::operator-\/>}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classfc_1_1detail_1_1path__wrapper}{detail::path\_wrapper}}(boost::filesystem::path(*(*\_p)));\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00185}\mbox{\hyperlink{classfc_1_1directory__iterator_a4e372b3729bd88b0801f5c50bb0bb07a}{00185}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{classfc_1_1directory__iterator_a0644796a19c7ff77406a898230c2c029}{directory\_iterator::operator++}}(\textcolor{keywordtype}{int})\ \ \{\ (*\_p)++;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00186}\mbox{\hyperlink{classfc_1_1directory__iterator_a0644796a19c7ff77406a898230c2c029}{00186}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{classfc_1_1directory__iterator_a0644796a19c7ff77406a898230c2c029}{directory\_iterator::operator++}}()\ \ \ \ \ \{\ (*\_p)++;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00188}\mbox{\hyperlink{classfc_1_1directory__iterator_ae4b0656f8de1fdcc56afbd67a13eb4e6}{00188}}\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a71ac088ff7dcef9686fc7560942e38d0}{operator==}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}})\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p\ ==\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00190}00190\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00191}\mbox{\hyperlink{classfc_1_1directory__iterator_a852d82f9388ed91643230770b1c0d482}{00191}}\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a5b4dc9c26c5afc71a8678abe3cd38c5b}{operator!=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1directory__iterator}{directory\_iterator}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}})\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00192}00192\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p\ !=\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00193}00193\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00196}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_abb3ef95a131236434e2baab70e558b12}{00196}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a9a815c7b80843f76c41bce9c7ef632c6}{recursive\_directory\_iterator::recursive\_directory\_iterator}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00197}00197\ \ \ \ \ \ \ :\_p(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00199}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a9a815c7b80843f76c41bce9c7ef632c6}{00199}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a9a815c7b80843f76c41bce9c7ef632c6}{recursive\_directory\_iterator::recursive\_directory\_iterator}}()\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00200}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_aa98d3d12cfb742e4fcbb4b3789211a2f}{00200}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_aa98d3d12cfb742e4fcbb4b3789211a2f}{recursive\_directory\_iterator::\string~recursive\_directory\_iterator}}()\{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00202}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_ab1110dc12bc36920131fcd6fb7f69037}{00202}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_ab1110dc12bc36920131fcd6fb7f69037}{recursive\_directory\_iterator::operator*}}()\textcolor{keyword}{const\ }\{\ \textcolor{keywordflow}{return}\ boost::filesystem::path(*(*\_p));\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00203}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a2c0680d263d1861ebd364d4f131d5237}{00203}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_aee0d9246b8ea4c0a35afc3f1fc671e0c}{recursive\_directory\_iterator::operator++}}(\textcolor{keywordtype}{int})\ \ \{\ (*\_p)++;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00204}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_aee0d9246b8ea4c0a35afc3f1fc671e0c}{00204}}\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_aee0d9246b8ea4c0a35afc3f1fc671e0c}{recursive\_directory\_iterator::operator++}}()\ \ \ \ \ \{\ (*\_p)++;\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00206}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a2236853f6f182800c0face455ceb96b3}{00206}}\ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a2236853f6f182800c0face455ceb96b3}{recursive\_directory\_iterator::pop}}()\ \{\ (*\_p).\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a2236853f6f182800c0face455ceb96b3}{pop}}();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00207}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a24a3bbd3ef729f1b0be5bb3d45339ca8}{00207}}\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a24a3bbd3ef729f1b0be5bb3d45339ca8}{recursive\_directory\_iterator::level}}()\ \{\ \textcolor{keywordflow}{return}\ \_p-\/>level();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00209}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a33eab309c3cde44f75b5c52a6b8f5262}{00209}}\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a71ac088ff7dcef9686fc7560942e38d0}{operator==}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}})\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00210}00210\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p\ ==\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00211}00211\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00212}\mbox{\hyperlink{classfc_1_1recursive__directory__iterator_a138bc7301b85ed00fe17b3d348b878cc}{00212}}\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a5b4dc9c26c5afc71a8678abe3cd38c5b}{operator!=}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}})\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00213}00213\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.\_p\ !=\ *\mbox{\hyperlink{yubihsm__pkcs11_8c_a89606eca6b563ec68d2da2e84657736f}{l}}.\_p;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00214}00214\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00217}\mbox{\hyperlink{namespacefc_a3fcf0d920aea28014aacae50a51d8485}{00217}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a3fcf0d920aea28014aacae50a51d8485}{exists}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::exists(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00218}\mbox{\hyperlink{namespacefc_a76b0787468a9f403087b71a894c07ce2}{00218}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_a76b0787468a9f403087b71a894c07ce2}{create\_directories}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00219}00219\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00220}00220\ \ \ \ \ \ \ boost::filesystem::create\_directories(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00221}00221\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00222}00222\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Unable\ to\ create\ directories\ \$\{path\}"{}},\ (\textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )(\textcolor{stringliteral}{"{}inner"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00223}00223\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00224}00224\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00225}\mbox{\hyperlink{namespacefc_ab123bfeadf918cc293ecad88bca7c499}{00225}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_ab123bfeadf918cc293ecad88bca7c499}{is\_directory}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::is\_directory(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00226}\mbox{\hyperlink{namespacefc_a6855142912d4cfb89281ba0c7f4938a2}{00226}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a6855142912d4cfb89281ba0c7f4938a2}{is\_regular\_file}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::is\_regular\_file(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00227}\mbox{\hyperlink{namespacefc_aae3e907b120751591ca6919ac66c384b}{00227}}\ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{namespacefc_aae3e907b120751591ca6919ac66c384b}{file\_size}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::file\_size(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00228}00228\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00229}\mbox{\hyperlink{namespacefc_ab533ebf0126ab57947f79946c342acec}{00229}}\ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ \mbox{\hyperlink{namespacefc_ab533ebf0126ab57947f79946c342acec}{directory\_size}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00230}00230\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00231}00231\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00232}00232\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_abed525eeff3ae581be7e4e2fcd3b7bf4}{FC\_ASSERT}}(\ \mbox{\hyperlink{namespacefc_ab123bfeadf918cc293ecad88bca7c499}{is\_directory}}(\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00233}00233\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00234}00234\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\ end;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00235}00235\ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ size\ =\ 0;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00236}00236\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \mbox{\hyperlink{classfc_1_1recursive__directory__iterator}{recursive\_directory\_iterator}}\ itr(\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ );\ itr\ !=\ end;\ ++itr\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00237}00237\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00238}00238\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{namespacefc_a6855142912d4cfb89281ba0c7f4938a2}{is\_regular\_file}}(\ *itr\ )\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ size\ +=\ \mbox{\hyperlink{namespacefc_aae3e907b120751591ca6919ac66c384b}{file\_size}}(\ *itr\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00240}00240\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00241}00241\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00242}00242\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ size;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00243}00243\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00244}00244\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Unable\ to\ calculate\ size\ of\ directory\ \$\{path\}"{}},\ (\textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )(\textcolor{stringliteral}{"{}inner"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00245}00245\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00246}00246\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00247}00247\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00248}\mbox{\hyperlink{namespacefc_a50ad24e0099358d167967f9df2e368fc}{00248}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_a50ad24e0099358d167967f9df2e368fc}{remove\_all}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ boost::filesystem::remove\_all(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00249}\mbox{\hyperlink{namespacefc_a79771837fffd80fcc4bc658ee2fc4b2b}{00249}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_a79771837fffd80fcc4bc658ee2fc4b2b}{copy}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ t\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00250}00250\ \ \ \ \ \ boost::system::error\_code\ ec;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00251}00251\ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00252}00252\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#if\ BOOST\_VERSION\ >\ 107300}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00253}00253\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacefc_a3fcf0d920aea28014aacae50a51d8485}{exists}}(t))\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ boost::system::system\_error(boost::system::errc::make\_error\_code(boost::system::errc::errc\_t::file\_exists));}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ boost::filesystem::is\_directory(\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}\ )\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy(boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}),\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::path(t),\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00259}00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy\_options::directories\_only,\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy(boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}),\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::path(t),\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy\_options::none,\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00267}00267\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy(\ boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}),\ boost::filesystem::path(t),\ ec\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00269}00269\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00270}00270\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ boost::system::system\_error\&\ e\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00271}00271\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Copy\ from\ \$\{srcfile\}\ to\ \$\{dstfile\}\ failed\ because\ \$\{reason\}"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}srcfile"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}dstfile"{}},t)(\textcolor{stringliteral}{"{}reason"{}},e.what()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00273}00273\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00274}00274\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Copy\ from\ \$\{srcfile\}\ to\ \$\{dstfile\}\ failed"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}srcfile"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}dstfile"{}},t)(\textcolor{stringliteral}{"{}inner"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00276}00276\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00277}00277\ \ \ \ \ \ \textcolor{keywordflow}{if}(\ ec\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00278}00278\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Copy\ from\ \$\{srcfile\}\ to\ \$\{dstfile\}\ failed\ because\ \$\{reason\},\ category:\ \$\{cat\}"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}srcfile"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}dstfile"{}},t)(\textcolor{stringliteral}{"{}reason"{}},\ ec.message())(\textcolor{stringliteral}{"{}cat"{}},\ ec.category().name())\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00280}00280\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00281}00281\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00282}\mbox{\hyperlink{namespacefc_ab25ea24552f2c490047c335a102f12fc}{00282}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_ab25ea24552f2c490047c335a102f12fc}{resize\_file}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ \textcolor{keywordtype}{size\_t}\ t\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00283}00283\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00284}00284\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00285}00285\ \ \ \ \ \ \ boost::filesystem::resize\_file(\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ t\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00286}00286\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00287}00287\ \ \ \ \ \textcolor{keywordflow}{catch}\ (\ boost::system::system\_error\&\ e\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00288}00288\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00289}00289\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Resize\ file\ '\$\{f\}'\ to\ size\ \$\{s\}\ failed:\ \$\{reason\}"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}f"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}s"{}},t)(\ \textcolor{stringliteral}{"{}reason"{}},\ e.what()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00291}00291\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00292}00292\ \ \ \ \ \textcolor{keywordflow}{catch}\ (\ ...\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00293}00293\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00294}00294\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Resize\ file\ '\$\{f\}'\ to\ size\ \$\{s\}\ failed:\ \$\{reason\}"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}f"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}s"{}},t)(\ \textcolor{stringliteral}{"{}reason"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00296}00296\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00297}00297\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00299}00299\ \ \ \textcolor{comment}{//\ setuid,\ setgid\ not\ implemented.}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00300}00300\ \ \ \textcolor{comment}{//\ translates\ octal\ permission\ like\ 0755\ to\ S\_\ stuff\ defined\ in\ sys/stat.h}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00301}00301\ \ \ \textcolor{comment}{//\ no-\/op\ on\ Windows.}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00302}\mbox{\hyperlink{namespacefc_ad02fa8571ca999725dfcaa871b672230}{00302}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_ad02fa8571ca999725dfcaa871b672230}{chmod}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ \textcolor{keywordtype}{int}\ perm\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00303}00303\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00304}00304\ \textcolor{preprocessor}{\#ifndef\ WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00305}00305\ \ \ \ \ \mbox{\hyperlink{namespacefc_a3d8a2be677709cc41f09aa7925f2d55f}{mode\_t}}\ actual\_perm\ =}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00306}00306\ \ \ \ \ \ \ ((perm\ \&\ 0400)\ ?\ S\_IRUSR\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00307}00307\ \ \ \ \ |\ ((perm\ \&\ 0200)\ ?\ S\_IWUSR\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00308}00308\ \ \ \ \ |\ ((perm\ \&\ 0100)\ ?\ S\_IXUSR\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00309}00309\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00310}00310\ \ \ \ \ |\ ((perm\ \&\ 0040)\ ?\ S\_IRGRP\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00311}00311\ \ \ \ \ |\ ((perm\ \&\ 0020)\ ?\ S\_IWGRP\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00312}00312\ \ \ \ \ |\ ((perm\ \&\ 0010)\ ?\ S\_IXGRP\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00313}00313\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00314}00314\ \ \ \ \ |\ ((perm\ \&\ 0004)\ ?\ S\_IROTH\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00315}00315\ \ \ \ \ |\ ((perm\ \&\ 0002)\ ?\ S\_IWOTH\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00316}00316\ \ \ \ \ |\ ((perm\ \&\ 0001)\ ?\ S\_IXOTH\ :\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00317}00317\ \ \ \ \ ;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00318}00318\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00319}00319\ \ \ \ \ \textcolor{keywordtype}{int}\ result\ =\ \mbox{\hyperlink{namespacefc_ad02fa8571ca999725dfcaa871b672230}{::chmod}}(\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.string().c\_str(),\ actual\_perm\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00320}00320\ \ \ \ \ \textcolor{keywordflow}{if}(\ result\ !=\ 0\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00321}00321\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}chmod\ operation\ failed\ on\ \$\{p\}"{}},\ (\textcolor{stringliteral}{"{}p"{}},\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00322}00322\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00323}00323\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00324}00324\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00325}00325\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00326}\mbox{\hyperlink{namespacefc_a067b275100894b82b6cf3aa85e804ea5}{00326}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_a067b275100894b82b6cf3aa85e804ea5}{rename}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ t\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00327}00327\ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00328}00328\ \ \ \ \ \ \ \ \ boost::filesystem::rename(\ boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}),\ boost::filesystem::path(t)\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00329}00329\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ boost::system::system\_error\&\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::copy(\ boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}),\ boost::filesystem::path(t)\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::remove(\ boost::filesystem::path(\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}));}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ boost::system::system\_error\&\ e\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Rename\ from\ \$\{srcfile\}\ to\ \$\{dstfile\}\ failed\ because\ \$\{reason\}"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}srcfile"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}dstfile"{}},t)(\textcolor{stringliteral}{"{}reason"{}},e.what()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00337}00337\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00338}00338\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Rename\ from\ \$\{srcfile\}\ to\ \$\{dstfile\}\ failed"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}srcfile"{}},\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(\textcolor{stringliteral}{"{}dstfile"{}},t)(\textcolor{stringliteral}{"{}inner"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00340}00340\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00341}00341\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00342}\mbox{\hyperlink{namespacefc_a9bc83475f555620274c3b776ea38af2b}{00342}}\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespacefc_a9bc83475f555620274c3b776ea38af2b}{create\_hard\_link}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ t\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00343}00343\ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00344}00344\ \ \ \ \ \ \ \ \ boost::filesystem::create\_hard\_link(\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}},\ t\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00345}00345\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00346}00346\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Unable\ to\ create\ hard\ link\ from\ '\$\{from\}'\ to\ '\$\{to\}'"{}},}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ \textcolor{stringliteral}{"{}from"{}},\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}\ )(\textcolor{stringliteral}{"{}to"{}},t)(\textcolor{stringliteral}{"{}exception"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00348}00348\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00349}00349\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00350}\mbox{\hyperlink{namespacefc_a0db76f35dc060918029b16de918b1e84}{00350}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespacefc_a0db76f35dc060918029b16de918b1e84}{remove}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{path}}\&\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00351}00351\ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00352}00352\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ boost::filesystem::remove(\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00353}00353\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00354}00354\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Unable\ to\ remove\ '\$\{path\}'"{}},\ (\ \textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}\ )(\textcolor{stringliteral}{"{}exception"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00355}00355\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00356}00356\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00357}\mbox{\hyperlink{namespacefc_ac7ca5987762ad2fba3d278b956067171}{00357}}\ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{namespacefc_ac7ca5987762ad2fba3d278b956067171}{canonical}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00358}00358\ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00359}00359\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ boost::filesystem::canonical(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00360}00360\ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00361}00361\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Unable\ to\ resolve\ path\ '\$\{path\}'"{}},\ (\ \textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )(\textcolor{stringliteral}{"{}exception"{}},\ \mbox{\hyperlink{namespacefc_a2bbff129626558fab1e343fcd5ad8bc5}{fc::except\_str}}()\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00362}00362\ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00363}00363\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00364}\mbox{\hyperlink{namespacefc_ab76ad94ec93db365293a67053393fbb4}{00364}}\ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{namespacefc_ab76ad94ec93db365293a67053393fbb4}{absolute}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ )\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::absolute(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00365}\mbox{\hyperlink{namespacefc_a887060cd05d29b1ed9dec83ec97ee8e5}{00365}}\ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\ \ \ \ \ \mbox{\hyperlink{namespacefc_a887060cd05d29b1ed9dec83ec97ee8e5}{unique\_path}}()\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::unique\_path();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00366}\mbox{\hyperlink{namespacefc_afe3ee0e7b733d87469a967ac456302dc}{00366}}\ \ \ \mbox{\hyperlink{classfc_1_1path}{path}}\ \ \ \ \ \mbox{\hyperlink{namespacefc_afe3ee0e7b733d87469a967ac456302dc}{temp\_directory\_path}}()\ \{\ \textcolor{keywordflow}{return}\ boost::filesystem::temp\_directory\_path();\ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00367}00367\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00368}00368\ \ \ \textcolor{comment}{//\ Return\ path\ when\ appended\ to\ a\_From\ will\ resolve\ to\ same\ as\ a\_To}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00369}\mbox{\hyperlink{namespacefc_a9fcdf886a023ef71441fd2f02ef3dc04}{00369}}\ \ \ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{namespacefc_a9fcdf886a023ef71441fd2f02ef3dc04}{make\_relative}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ from,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ to)\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00370}00370\ \ \ \ \ boost::filesystem::path\ a\_From\ =\ boost::filesystem::absolute(from);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00371}00371\ \ \ \ \ boost::filesystem::path\ a\_To\ =\ boost::filesystem::absolute(to);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00372}00372\ \ \ \ \ boost::filesystem::path\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00373}00373\ \ \ \ \ boost::filesystem::path::const\_iterator\ itrFrom(a\_From.begin()),\ itrTo(a\_To.begin());}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00374}00374\ \ \ \ \ \textcolor{comment}{//\ Find\ common\ base}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00375}00375\ \ \ \ \ \textcolor{keywordflow}{for}(\ boost::filesystem::path::const\_iterator\ toEnd(\ a\_To.end()\ ),\ fromEnd(\ a\_From.end()\ )\ ;\ itrFrom\ !=\ fromEnd\ \&\&\ itrTo\ !=\ toEnd\ \&\&\ *itrFrom\ ==\ *itrTo;\ ++itrFrom,\ ++itrTo\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00376}00376\ \ \ \ \ \textcolor{comment}{//\ Navigate\ backwards\ in\ directory\ to\ reach\ previously\ found\ base}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00377}00377\ \ \ \ \ \textcolor{keywordflow}{for}(\ boost::filesystem::path::const\_iterator\ fromEnd(\ a\_From.end()\ );\ itrFrom\ !=\ fromEnd;\ ++itrFrom\ )\ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00378}00378\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ (*itrFrom)\ !=\ \textcolor{stringliteral}{"{}."{}}\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}\ /=\ \textcolor{stringliteral}{"{}.."{}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00380}00380\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00381}00381\ \ \ \ \ \textcolor{comment}{//\ Now\ navigate\ down\ the\ directory\ branch}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00382}00382\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ itrTo\ !=\ a\_To.end();\ ++itrTo)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00383}00383\ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}\ /=\ *itrTo;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00384}00384\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00385}00385\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00386}00386\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00387}\mbox{\hyperlink{classfc_1_1temp__file_aee3262a3b2a19b490f3f8da6fee49bc4}{00387}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file_a37fddc3a8cb16677958faa273501bcf9}{temp\_file::temp\_file}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ \textcolor{keywordtype}{bool}\ create)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00388}00388\ \ \ \ :\ \mbox{\hyperlink{classfc_1_1temp__file__base}{temp\_file\_base}}(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ /\ \mbox{\hyperlink{namespacefc}{fc}}::\mbox{\hyperlink{namespacefc_a887060cd05d29b1ed9dec83ec97ee8e5}{unique\_path}}())}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00389}00389\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00390}00390\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacefc_a3fcf0d920aea28014aacae50a51d8485}{fc::exists}}(*\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00391}00391\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00392}00392\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Name\ collision:\ \$\{path\}"{}},\ (\textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}-\/>string())\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00393}00393\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00394}00394\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (create)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00395}00395\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00396}00396\ \ \ \ \ \ \ \ \ \ std::ofstream\ ofs(\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}-\/>generic\_string().c\_str(),\ std::ofstream::out\ |\ std::ofstream::binary);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00397}00397\ \ \ \ \ \ \ \ \ \ ofs.close();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00398}00398\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00399}00399\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00400}00400\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00401}\mbox{\hyperlink{classfc_1_1temp__file_a37fddc3a8cb16677958faa273501bcf9}{00401}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file_a37fddc3a8cb16677958faa273501bcf9}{temp\_file::temp\_file}}(\mbox{\hyperlink{classfc_1_1temp__file}{temp\_file}}\&\&\ other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00402}00402\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classfc_1_1temp__file__base}{temp\_file\_base}}(\mbox{\hyperlink{namespacestd}{std}}::move(other.\_path))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00403}00403\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00404}00404\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00405}00405\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00406}\mbox{\hyperlink{classfc_1_1temp__file_ac241c440bacd13927eee3743843f13d5}{00406}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file}{temp\_file}}\&\ \mbox{\hyperlink{classfc_1_1temp__file_ac241c440bacd13927eee3743843f13d5}{temp\_file::operator=}}(\mbox{\hyperlink{classfc_1_1temp__file}{temp\_file}}\&\&\ other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00407}00407\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00408}00408\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ !=\ \&other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00409}00409\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_a11fa97c029408fca1d14dfc5ca81be26}{remove}}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}\ =\ std::move(other.\_path);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00412}00412\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00413}00413\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00414}00414\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00415}00415\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00416}\mbox{\hyperlink{classfc_1_1temp__directory_a48c295b6996e5e87a7a05e7003a0dbcb}{00416}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__directory_acba404aa7b5eaa97376d006abe3b06c5}{temp\_directory::temp\_directory}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00417}00417\ \ \ \ :\ \mbox{\hyperlink{classfc_1_1temp__file__base}{temp\_file\_base}}(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ /\ \mbox{\hyperlink{namespacefc}{fc}}::\mbox{\hyperlink{namespacefc_a887060cd05d29b1ed9dec83ec97ee8e5}{unique\_path}}())}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00418}00418\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00419}00419\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacefc_a3fcf0d920aea28014aacae50a51d8485}{fc::exists}}(*\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00420}00420\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00421}00421\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Name\ collision:\ \$\{path\}"{}},\ (\textcolor{stringliteral}{"{}path"{}},\ \mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}-\/>string())\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00422}00422\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00423}00423\ \ \ \ \ \ \ \mbox{\hyperlink{namespacefc_a76b0787468a9f403087b71a894c07ce2}{fc::create\_directories}}(*\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00424}00424\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00425}00425\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00426}\mbox{\hyperlink{classfc_1_1temp__directory_acba404aa7b5eaa97376d006abe3b06c5}{00426}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__directory_acba404aa7b5eaa97376d006abe3b06c5}{temp\_directory::temp\_directory}}(\mbox{\hyperlink{classfc_1_1temp__directory}{temp\_directory}}\&\&\ other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00427}00427\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classfc_1_1temp__file__base}{temp\_file\_base}}(\mbox{\hyperlink{namespacestd}{std}}::move(other.\_path))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00428}00428\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00429}00429\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00430}00430\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00431}\mbox{\hyperlink{classfc_1_1temp__directory_acc19b932765f7e89457b6936ae4a9060}{00431}}\ \ \ \ \mbox{\hyperlink{classfc_1_1temp__directory}{temp\_directory}}\&\ \mbox{\hyperlink{classfc_1_1temp__directory_acc19b932765f7e89457b6936ae4a9060}{temp\_directory::operator=}}(\mbox{\hyperlink{classfc_1_1temp__directory}{temp\_directory}}\&\&\ other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00432}00432\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00433}00433\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{this}\ !=\ \&other)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00434}00434\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_a11fa97c029408fca1d14dfc5ca81be26}{remove}}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}\ =\ std::move(other.\_path);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00437}00437\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00438}00438\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00439}00439\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00440}00440\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00441}\mbox{\hyperlink{classfc_1_1temp__file__base_a7ef88f2ed75bf87d276a80ce9283c55e}{00441}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{classfc_1_1temp__file__base_a7ef88f2ed75bf87d276a80ce9283c55e}{temp\_file\_base::path}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00442}00442\ \textcolor{keyword}{\ \ \ }\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00443}00443\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}})}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00444}00444\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a3a1fa84768603c99866fe61af96c9f36}{FC\_THROW}}(\ \textcolor{stringliteral}{"{}Temporary\ directory\ has\ been\ released."{}}\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00446}00446\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00447}00447\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00448}00448\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00449}00449\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00450}\mbox{\hyperlink{classfc_1_1temp__file__base_a11fa97c029408fca1d14dfc5ca81be26}{00450}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classfc_1_1temp__file__base_a11fa97c029408fca1d14dfc5ca81be26}{temp\_file\_base::remove}}()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00451}00451\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00452}00452\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}})}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00453}00453\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00454}00454\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00455}00455\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00456}00456\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacefc_a50ad24e0099358d167967f9df2e368fc}{fc::remove\_all}}(*\mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00457}00457\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (...)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00459}00459\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00460}00460\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ eat\ errors\ on\ cleanup}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00461}00461\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00462}00462\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_af4d8e3fc0f2dc6d9574492d1e23caffe}{release}}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00463}00463\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00464}00464\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00465}00465\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00466}\mbox{\hyperlink{classfc_1_1temp__file__base_af4d8e3fc0f2dc6d9574492d1e23caffe}{00466}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classfc_1_1temp__file__base_af4d8e3fc0f2dc6d9574492d1e23caffe}{temp\_file\_base::release}}()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00467}00467\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00468}00468\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1temp__file__base_a69e1eb6507b6d0a7fef8280235cbe0bd}{\_path}}\ =\ std::optional<fc::path>();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00469}00469\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00470}00470\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00471}\mbox{\hyperlink{namespacefc_a638386a755d79377ef4c5c779c731e43}{00471}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{namespacefc_a638386a755d79377ef4c5c779c731e43}{home\_path}}()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00472}00472\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00473}00473\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ =\ []()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00474}00474\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00475}00475\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00476}00476\ \ \ \ \ \ \ \ \ \ \ HANDLE\ access\_token;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00477}00477\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!OpenProcessToken(GetCurrentProcess(),\ TOKEN\_READ,\ \&access\_token))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00478}00478\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_abed525eeff3ae581be7e4e2fcd3b7bf4}{FC\_ASSERT}}(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Unable\ to\ open\ an\ access\ token\ for\ the\ current\ process"{}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}\ user\_profile\_dir[MAX\_PATH];}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ DWORD\ user\_profile\_dir\_len\ =\ \textcolor{keyword}{sizeof}(user\_profile\_dir);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ BOOL\ success\ =\ GetUserProfileDirectoryW(access\_token,\ user\_profile\_dir,\ \&user\_profile\_dir\_len);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ CloseHandle(access\_token);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!success)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_abed525eeff3ae581be7e4e2fcd3b7bf4}{FC\_ASSERT}}(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Unable\ to\ get\ the\ user\ profile\ directory"{}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}(std::wstring(user\_profile\_dir));}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00486}00486\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ home\ =\ getenv(\ \textcolor{stringliteral}{"{}HOME"{}}\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \textcolor{keyword}{nullptr}\ ==\ home\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00490}00490\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }passwd*\ pwd\ =\ getpwuid(getuid());}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ pwd\ )}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}(\ std::string(\ pwd-\/>pw\_dir\ )\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_abed525eeff3ae581be7e4e2fcd3b7bf4}{FC\_ASSERT}}(\ home\ !=\ \textcolor{keyword}{nullptr},\ \textcolor{stringliteral}{"{}The\ HOME\ environment\ variable\ is\ not\ set"{}}\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}(\ std::string(home)\ );}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00498}00498\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00499}00499\ \ \ \ \ \ \ \}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00500}00500\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00501}00501\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00502}00502\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00503}\mbox{\hyperlink{namespacefc_a3e2cb20721f4d3404ec07ff31694153e}{00503}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{namespacefc_a3e2cb20721f4d3404ec07ff31694153e}{app\_path}}()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00504}00504\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00505}00505\ \textcolor{preprocessor}{\#ifdef\ \_\_APPLE\_\_}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00506}00506\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ appdir\ =\ []()\{\ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacefc_a638386a755d79377ef4c5c779c731e43}{home\_path}}()\ /\ \textcolor{stringliteral}{"{}Library"{}}\ /\ \textcolor{stringliteral}{"{}Application\ Support"{}};\ \}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00507}00507\ \textcolor{preprocessor}{\#elif\ defined(\ WIN32\ )}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00508}00508\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ appdir\ =\ []()\{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00509}00509\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{wchar\_t}\ app\_data\_dir[MAX\_PATH];}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00510}00510\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00511}00511\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!SUCCEEDED(SHGetFolderPathW(NULL,\ CSIDL\_APPDATA\ |\ CSIDL\_FLAG\_CREATE,\ NULL,\ 0,\ app\_data\_dir)))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_abed525eeff3ae581be7e4e2fcd3b7bf4}{FC\_ASSERT}}(\textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}Unable\ to\ get\ the\ current\ AppData\ directory"{}});}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}(std::wstring(app\_data\_dir));}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \}();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00515}00515\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00516}00516\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ appdir\ =\ \mbox{\hyperlink{namespacefc_a638386a755d79377ef4c5c779c731e43}{home\_path}}()\ /\ \textcolor{stringliteral}{"{}.local/share"{}};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00517}00517\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00518}00518\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ appdir;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00519}00519\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00520}00520\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00521}\mbox{\hyperlink{namespacefc_a6e83f7c8488e348511224442f4591d33}{00521}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\&\ \mbox{\hyperlink{namespacefc_a6e83f7c8488e348511224442f4591d33}{current\_path}}()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00522}00522\ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00523}00523\ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classfc_1_1path}{fc::path}}\ appCurrentPath\ =\ boost::filesystem::current\_path();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00524}00524\ \ \ \ \ \ \textcolor{keywordflow}{return}\ appCurrentPath;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00525}00525\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00526}00526\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00527}00527\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00528}00528\ \textcolor{preprocessor}{\#ifdef\ FC\_HAS\_SIMPLE\_FILE\_LOCK}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00529}00529\ \ \ \textcolor{keyword}{class\ }simple\_lock\_file::impl}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00530}00530\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00531}00531\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00532}00532\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00533}00533\ \ \ \ \ HANDLE\ file\_handle;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00534}00534\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00535}00535\ \ \ \ \ \textcolor{keywordtype}{int}\ file\_handle;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00536}00536\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00537}00537\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_locked;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00538}00538\ \ \ \ \ path\ lock\_file\_path;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00539}00539\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00540}00540\ \ \ \ \ impl(\textcolor{keyword}{const}\ path\&\ lock\_file\_path);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00541}00541\ \ \ \ \ \string~impl();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00542}00542\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00543}00543\ \ \ \ \ \textcolor{keywordtype}{bool}\ try\_lock();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00544}00544\ \ \ \ \ \textcolor{keywordtype}{void}\ unlock();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00545}00545\ \ \ \};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00547}00547\ \ \ simple\_lock\_file::impl::impl(\textcolor{keyword}{const}\ path\&\ lock\_file\_path)\ :}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00548}00548\ \#ifdef\ \_WIN32}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00549}00549\ \ \ \ \ file\_handle(INVALID\_HANDLE\_VALUE),}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00550}00550\ \#\mbox{\hyperlink{yubihsm__pkcs11_8c_a0544c3fe466e421738dae463968b70ba}{else}}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00551}00551\ \ \ \ \ file\_handle(-\/1),}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00552}00552\ \#endif}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00553}00553\ \ \ \ \ is\_locked(false),}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00554}00554\ \ \ \ \ lock\_file\_path(lock\_file\_path)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00555}00555\ \ \ \{\}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00556}00556\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00557}00557\ \ \ simple\_lock\_file::impl::\string~impl()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00558}00558\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00559}00559\ \ \ \ \ unlock();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00560}00560\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00561}00561\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00562}00562\ \ \ \textcolor{keywordtype}{bool}\ simple\_lock\_file::impl::try\_lock()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00563}00563\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00564}00564\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00565}00565\ \ \ \ \ HANDLE\ fh\ =\ CreateFileA(lock\_file\_path.to\_native\_ansi\_path().c\_str(),}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00566}00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ GENERIC\_READ\ |\ GENERIC\_WRITE,}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00567}00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ 0,}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00568}00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OPEN\_ALWAYS,\ 0,\ NULL);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00569}00569\ \ \ \ \ \textcolor{keywordflow}{if}\ (fh\ ==\ INVALID\_HANDLE\_VALUE)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00570}00570\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00571}00571\ \ \ \ \ is\_locked\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00572}00572\ \ \ \ \ file\_handle\ =\ fh;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00573}00573\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00574}00574\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00575}00575\ \ \ \ \ \textcolor{keywordtype}{int}\ fd\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1session_1_1state_a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0}{open}}(lock\_file\_path.string().c\_str(),\ O\_RDWR|O\_CREAT,\ 0644);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00576}00576\ \ \ \ \ \textcolor{keywordflow}{if}\ (fd\ <\ 0)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00577}00577\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00578}00578\ \ \ \ \ \textcolor{keywordflow}{if}\ (flock(fd,\ LOCK\_EX|LOCK\_NB)\ ==\ -\/1)}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00579}00579\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00580}00580\ \ \ \ \ \ \ \mbox{\hyperlink{integration_8cpp_af5b66d867a040d002fb57d645cae3fb4}{close}}(fd);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00581}00581\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00582}00582\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00583}00583\ \ \ \ \ is\_locked\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00584}00584\ \ \ \ \ file\_handle\ =\ fd;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00585}00585\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00586}00586\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00587}00587\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00588}00588\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00589}00589\ \ \ \textcolor{keywordtype}{void}\ simple\_lock\_file::impl::unlock()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00590}00590\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00591}00591\ \textcolor{preprocessor}{\#ifdef\ WIN32}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00592}00592\ \ \ \ \ CloseHandle(file\_handle);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00593}00593\ \ \ \ \ file\_handle\ =\ INVALID\_HANDLE\_VALUE;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00594}00594\ \ \ \ \ is\_locked\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00595}00595\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00596}00596\ \ \ \ \ flock(file\_handle,\ LOCK\_UN);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00597}00597\ \ \ \ \ \mbox{\hyperlink{integration_8cpp_af5b66d867a040d002fb57d645cae3fb4}{close}}(file\_handle);}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00598}00598\ \ \ \ \ file\_handle\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00599}00599\ \ \ \ \ is\_locked\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00600}00600\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00601}00601\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00602}00602\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00603}00603\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00604}00604\ \ \ simple\_lock\_file::simple\_lock\_file(\textcolor{keyword}{const}\ path\&\ lock\_file\_path)\ :}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00605}00605\ \ \ \ \ my(new\ impl(lock\_file\_path))}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00606}00606\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00607}00607\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00608}00608\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00609}00609\ \ \ simple\_lock\_file::\string~simple\_lock\_file()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00610}00610\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00611}00611\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00612}00612\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00613}00613\ \ \ \textcolor{keywordtype}{bool}\ simple\_lock\_file::try\_lock()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00614}00614\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00615}00615\ \ \ \ \ \textcolor{keywordflow}{return}\ my-\/>try\_lock();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00616}00616\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00617}00617\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00618}00618\ \ \ \textcolor{keywordtype}{void}\ simple\_lock\_file::unlock()}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00619}00619\ \ \ \{}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00620}00620\ \ \ \ \ my-\/>unlock();}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00621}00621\ \ \ \}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00622}00622\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ FC\_HAS\_SIMPLE\_FILE\_LOCK}}
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00623}00623\ }
\DoxyCodeLine{\Hypertarget{filesystem_8cpp_source_l00624}00624\ \}}

\end{DoxyCode}
