\doxysection{http\+\_\+plugin.\+cpp}
\hypertarget{http__plugin_8cpp_source}{}\label{http__plugin_8cpp_source}\index{plugins/http\_plugin/http\_plugin.cpp@{plugins/http\_plugin/http\_plugin.cpp}}
\mbox{\hyperlink{http__plugin_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{http__plugin_8hpp}{sysio/http\_plugin/http\_plugin.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{local__endpoint_8hpp}{sysio/http\_plugin/local\_endpoint.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp}{sysio/chain/exceptions.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{thread__utils_8hpp}{sysio/chain/thread\_utils.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{ip_8hpp}{fc/network/ip.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{logger__config_8hpp}{fc/log/logger\_config.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{fc_2include_2fc_2reflect_2variant_8hpp}{fc/reflect/variant.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{json_8hpp}{fc/io/json.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{raw_8hpp}{fc/io/raw.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{openssl_8hpp}{fc/crypto/openssl.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <boost/asio.hpp>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00014}00014\ \textcolor{preprocessor}{\#include\ <boost/optional.hpp>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00016}00016\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{asio__client_8hpp}{websocketpp/config/asio\_client.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00017}00017\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{config_2asio_8hpp}{websocketpp/config/asio.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00018}00018\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{server_8hpp}{websocketpp/server.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00019}00019\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{asio__client_8hpp}{websocketpp/config/asio\_client.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00020}00020\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{client_8hpp}{websocketpp/client.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00021}00021\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{stub_8hpp}{websocketpp/logger/stub.hpp}}>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00023}00023\ \textcolor{preprocessor}{\#include\ <thread>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00024}00024\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00025}00025\ \textcolor{preprocessor}{\#include\ <regex>}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00027}\mbox{\hyperlink{http__plugin_8cpp_aae9579c8f6a770273c4c94e65f0dac0c}{00027}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{fc::string}}\ \mbox{\hyperlink{http__plugin_8cpp_aae9579c8f6a770273c4c94e65f0dac0c}{logger\_name}}(\textcolor{stringliteral}{"{}http\_plugin"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00028}\mbox{\hyperlink{http__plugin_8cpp_a0c4bb3822f844b23219a9412e356659d}{00028}}\ \mbox{\hyperlink{classfc_1_1logger}{fc::logger}}\ \mbox{\hyperlink{http__plugin_8cpp_a0c4bb3822f844b23219a9412e356659d}{logger}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00030}00030\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesysio}{sysio}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00032}00032\ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classappbase_1_1abstract__plugin}{appbase::abstract\_plugin}}\&\ \_http\_plugin\ =\ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a87e84549150056c56c0327cc4976cc2a}{register\_plugin}}<http\_plugin>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00034}00034\ \ \ \ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacewebsocketpp_1_1lib_1_1asio}{asio}}\ =\ \mbox{\hyperlink{namespaceboost_1_1asio}{boost::asio}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00036}00036\ \ \ \ \textcolor{keyword}{using\ }std::map;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00037}00037\ \ \ \ \textcolor{keyword}{using\ }std::vector;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00038}00038\ \ \ \ \textcolor{keyword}{using\ }std::set;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00039}00039\ \ \ \ \textcolor{keyword}{using\ }std::string;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00040}00040\ \ \ \ \textcolor{keyword}{using\ }std::regex;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00041}00041\ \ \ \ \textcolor{keyword}{using\ }boost::optional;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00042}00042\ \ \ \ \textcolor{keyword}{using\ }boost::asio::ip::tcp;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00043}00043\ \ \ \ \textcolor{keyword}{using\ }boost::asio::ip::address\_v4;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00044}00044\ \ \ \ \textcolor{keyword}{using\ }boost::asio::ip::address\_v6;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00045}00045\ \ \ \ \textcolor{keyword}{using\ }std::shared\_ptr;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00046}00046\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp::connection\_hdl}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00048}\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{00048}}\ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00049}\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{00049}}\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00050}00050\ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0}{PRIME256V1}}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00051}\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0}{00051}}\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00053}00053\ \ \ \ \textcolor{keyword}{static}\ http\_plugin\_defaults\ current\_http\_plugin\_defaults;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00055}\mbox{\hyperlink{classsysio_1_1http__plugin_aaf46561ac841485d6bf25266b4aa9b5a}{00055}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_aaf46561ac841485d6bf25266b4aa9b5a}{http\_plugin::set\_defaults}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1http__plugin__defaults}{http\_plugin\_defaults}}\ \mbox{\hyperlink{classconfig}{config}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00056}00056\ \ \ \ \ \ \ current\_http\_plugin\_defaults\ =\ \mbox{\hyperlink{classconfig}{config}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00057}00057\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00059}\mbox{\hyperlink{namespacesysio_1_1detail}{00059}}\ \ \ \ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacedetail}{detail}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00061}00061\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00062}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log}{00062}}\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log}{asio\_with\_stub\_log}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structwebsocketpp_1_1config_1_1asio}{websocketpp::config::asio}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00063}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a427d9aa4f5370197558f04d9099fc6a2}{00063}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log}{asio\_with\_stub\_log}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a427d9aa4f5370197558f04d9099fc6a2}{type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00064}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a3d2825db695946f9d0643064e7e3c14b}{00064}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{namespacewebsocketpp_1_1lib_1_1asio}{asio}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a3d2825db695946f9d0643064e7e3c14b}{base}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00066}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ad2cbff28d2e148e0d73cd999e6c2ba22}{00066}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::concurrency\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ad2cbff28d2e148e0d73cd999e6c2ba22}{concurrency\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00068}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a56b1440e7452ea65f3da0d9336c9aef9}{00068}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::request\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a56b1440e7452ea65f3da0d9336c9aef9}{request\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00069}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ac68ab1cc05b1dcaf720f18709343786d}{00069}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::response\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ac68ab1cc05b1dcaf720f18709343786d}{response\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00071}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a3093b8e73c35d6821db98ad35a00f8b6}{00071}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::message\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a3093b8e73c35d6821db98ad35a00f8b6}{message\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00072}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a13c17be0151ea5c338050aff87af6416}{00072}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::con\_msg\_manager\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a13c17be0151ea5c338050aff87af6416}{con\_msg\_manager\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00073}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a7cd9ca873160d646a68b6f20f5b42cf7}{00073}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::endpoint\_msg\_manager\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a7cd9ca873160d646a68b6f20f5b42cf7}{endpoint\_msg\_manager\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00075}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_abc94655eaa5bd4a082862ffa2b7b379a}{00075}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{websocketpp::log::stub}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_abc94655eaa5bd4a082862ffa2b7b379a}{elog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00076}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a5cde9cda348e5e17ed310f554685e6a1}{00076}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{websocketpp::log::stub}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a5cde9cda348e5e17ed310f554685e6a1}{alog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00078}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a58bdab1c9f27ff33cd74866710e76a6a}{00078}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::rng\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a58bdab1c9f27ff33cd74866710e76a6a}{rng\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00080}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config}{00080}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config}{transport\_config}}\ :\ \textcolor{keyword}{public}\ base::transport\_config\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00081}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a37ff9f4bc2f8783c2294540947bac64a}{00081}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ad2cbff28d2e148e0d73cd999e6c2ba22}{type::concurrency\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a37ff9f4bc2f8783c2294540947bac64a}{concurrency\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00082}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a8a7286ebe9a21de1028390c885efdbe5}{00082}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{type::alog\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a8a7286ebe9a21de1028390c885efdbe5}{alog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00083}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a1835e1b0279f6b651f0dff238b5920c0}{00083}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{type::elog\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a1835e1b0279f6b651f0dff238b5920c0}{elog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00084}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a957a755b6a73d23b001e0e59d1897a4e}{00084}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a56b1440e7452ea65f3da0d9336c9aef9}{type::request\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a957a755b6a73d23b001e0e59d1897a4e}{request\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00085}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a550e961fd4d814e6016b81e4ef3bae82}{00085}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ac68ab1cc05b1dcaf720f18709343786d}{type::response\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_a550e961fd4d814e6016b81e4ef3bae82}{response\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00086}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_aca8f942a6e670a42ffed760eabcec489}{00086}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_1_1transport__config_aca8f942a6e670a42ffed760eabcec489}{socket\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1transport_1_1asio_1_1endpoint}{websocketpp::transport::asio::endpoint<transport\_config>}}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00090}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a7444e75f181faa08cb705bf48578cc4f}{00090}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_a7444e75f181faa08cb705bf48578cc4f}{transport\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00092}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ae0c45c83eb8e398f835128596eb8b554}{00092}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log_ae0c45c83eb8e398f835128596eb8b554}{timeout\_open\_handshake}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00093}00093\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00095}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log}{00095}}\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log}{asio\_local\_with\_stub\_log}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structwebsocketpp_1_1config_1_1asio}{websocketpp::config::asio}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00096}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a4a21bd16cd5db9d90aedaa546484584a}{00096}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log}{asio\_local\_with\_stub\_log}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a4a21bd16cd5db9d90aedaa546484584a}{type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00097}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a8b8e8cb485e17e975193365e44058c8c}{00097}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{namespacewebsocketpp_1_1lib_1_1asio}{asio}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a8b8e8cb485e17e975193365e44058c8c}{base}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00099}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a57443829c4ecaefbc349592871ceae00}{00099}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::concurrency\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a57443829c4ecaefbc349592871ceae00}{concurrency\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00101}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab652ce50200b9d9c16b915c7cb4e9c33}{00101}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::request\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab652ce50200b9d9c16b915c7cb4e9c33}{request\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00102}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a6e3f14eecec021db5aa8ea7fb8167a2a}{00102}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::response\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a6e3f14eecec021db5aa8ea7fb8167a2a}{response\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00104}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a026642e8fa85a5f1d8eddf5d06e4ab3b}{00104}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::message\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a026642e8fa85a5f1d8eddf5d06e4ab3b}{message\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00105}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a336f4f7beab75a4e61b467402e0201b8}{00105}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::con\_msg\_manager\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a336f4f7beab75a4e61b467402e0201b8}{con\_msg\_manager\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00106}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab178ff95972a3bb3cadd9cab223a7aca}{00106}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::endpoint\_msg\_manager\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab178ff95972a3bb3cadd9cab223a7aca}{endpoint\_msg\_manager\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00108}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a7dd1230c295691879c4f509049756576}{00108}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{websocketpp::log::stub}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a7dd1230c295691879c4f509049756576}{elog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00109}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ae5e766b680c7e89cb776cef7f773e61b}{00109}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{websocketpp::log::stub}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ae5e766b680c7e89cb776cef7f773e61b}{alog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00111}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_aa94a93dc62d87f108bf8d05ed8fb0d67}{00111}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ base::rng\_type\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_aa94a93dc62d87f108bf8d05ed8fb0d67}{rng\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00113}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config}{00113}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config}{transport\_config}}\ :\ \textcolor{keyword}{public}\ base::transport\_config\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00114}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_af3a14f4c55c6f2b98f8ad2ffd7f05299}{00114}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a57443829c4ecaefbc349592871ceae00}{type::concurrency\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_af3a14f4c55c6f2b98f8ad2ffd7f05299}{concurrency\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00115}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a6d7d00baa07f74deff0e61989b979f2c}{00115}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{type::alog\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a6d7d00baa07f74deff0e61989b979f2c}{alog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00116}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a8a0c27ef260ecef8752ade64f148e5eb}{00116}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1log_1_1stub}{type::elog\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a8a0c27ef260ecef8752ade64f148e5eb}{elog\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00117}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a19ba544485ee99d760bc25922399ca8e}{00117}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab652ce50200b9d9c16b915c7cb4e9c33}{type::request\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a19ba544485ee99d760bc25922399ca8e}{request\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00118}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_afe353dc2c9da83439df9ac0dc332de8b}{00118}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a6e3f14eecec021db5aa8ea7fb8167a2a}{type::response\_type}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_afe353dc2c9da83439df9ac0dc332de8b}{response\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00119}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a1eda7b378e87a9b7d7ac9698a79d1735}{00119}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1transport_1_1asio_1_1basic__socket_1_1local__endpoint}{websocketpp::transport::asio::basic\_socket::local\_endpoint}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_1_1transport__config_a1eda7b378e87a9b7d7ac9698a79d1735}{socket\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00122}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_aabd2059f9e70e1ce9cffbcadca21c486}{00122}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classwebsocketpp_1_1transport_1_1asio_1_1local__endpoint}{websocketpp::transport::asio::local\_endpoint<transport\_config>}}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_aabd2059f9e70e1ce9cffbcadca21c486}{transport\_type}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00124}\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a03c0efafbc8fee6260d7db92c8fbdfa0}{00124}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_a03c0efafbc8fee6260d7db92c8fbdfa0}{timeout\_open\_handshake}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00125}00125\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00130}\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn}{00130}}\ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn}{abstract\_conn}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00131}\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_ab957c3e14e8c31e8ca5fe2f33fd18087}{00131}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_ab957c3e14e8c31e8ca5fe2f33fd18087}{\string~abstract\_conn}}()\ \{\}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00132}\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a2a38362dd145af4fbe9e8630fa8b8df1}{00132}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a2a38362dd145af4fbe9e8630fa8b8df1}{verify\_max\_bytes\_in\_flight}}()\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00133}\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a3aef99a68a1e37b0e1c654100e503524}{00133}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a3aef99a68a1e37b0e1c654100e503524}{handle\_exception}}()\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00134}\mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a80e7bc852abf443527e72a7d90ad639b}{00134}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn_a80e7bc852abf443527e72a7d90ad639b}{send\_response}}(std::string,\ \textcolor{keywordtype}{int})\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00135}00135\ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00136}00136\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00137}\mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{00137}}\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{abstract\_conn\_ptr}}\ =\ std::shared\_ptr<abstract\_conn>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00139}00139\ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00140}\mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{00140}}\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{connection\_ptr}}\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classwebsocketpp_1_1server_abb895563dddafdc1426997d245cbd7cb}{websocketpp::server<T>::connection\_ptr}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00145}\mbox{\hyperlink{namespacesysio_1_1detail_a69779241e30dfcc06bd60e313d84f78a}{00145}}\ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1detail_a69779241e30dfcc06bd60e313d84f78a}{internal\_url\_handler}}\ =\ std::function<void(\mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{abstract\_conn\_ptr}},\ \textcolor{keywordtype}{string},\ \textcolor{keywordtype}{string},\ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}})>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00152}00152\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ in\_flight\_sizeof(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}.size();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00154}00154\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00163}00163\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ in\_flight\_sizeof(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}\&\ v\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacefc_1_1raw_a64937a5adc8041247f7007882224e225}{fc::raw::pack\_size}}(\ v\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(...)\ \{\}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00168}00168\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00169}00169\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00170}00170\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00171}\mbox{\hyperlink{namespacesysio_a3e9c246486e39eeacd28861b25e159f2}{00171}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_server\_type}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocketpp::server<detail::asio\_with\_stub\_log<websocketpp::transport::asio::basic\_socket::endpoint>}}>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00172}\mbox{\hyperlink{namespacesysio_aaf769e22e37333d4e0b02f5e31400af7}{00172}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_local\_server\_type}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocketpp::server<detail::asio\_local\_with\_stub\_log>}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00173}\mbox{\hyperlink{namespacesysio_a3a7d116ea46ab7612bd4b69b1473ef59}{00173}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_server\_tls\_type}}\ =\ \ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocketpp::server<detail::asio\_with\_stub\_log<websocketpp::transport::asio::tls\_socket::endpoint>}}>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00174}\mbox{\hyperlink{namespacesysio_a482c265e0ce872b93783298db5232b78}{00174}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_a482c265e0ce872b93783298db5232b78}{ssl\_context\_ptr}}\ =\ \ websocketpp::lib::shared\_ptr<websocketpp::lib::asio::ssl::context>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00175}\mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{00175}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ =\ std::shared\_ptr<class\ http\_plugin\_impl>;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00177}00177\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ verbose\_http\_errors\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00179}\mbox{\hyperlink{classsysio_1_1http__plugin__impl}{00179}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\ :\ \textcolor{keyword}{public}\ std::enable\_shared\_from\_this<http\_plugin\_impl>\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00180}00180\ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00181}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_aaff8b7c3ccb6a41c3526a9ee1b8c4996}{00181}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aaff8b7c3ccb6a41c3526a9ee1b8c4996}{http\_plugin\_impl}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00183}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a3e64ec68c9ee3f409fe983f249e92f34}{00183}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a3e64ec68c9ee3f409fe983f249e92f34}{http\_plugin\_impl}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00184}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a1724ad60a4211b8d2f10a0733c74b893}{00184}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a1724ad60a4211b8d2f10a0733c74b893}{http\_plugin\_impl}}(\mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00186}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a075c83bb1abdd1e374c43984b4011249}{00186}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a075c83bb1abdd1e374c43984b4011249}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00187}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_adf10e7ce06af95b6fe9e458fc0a23ccb}{00187}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_adf10e7ce06af95b6fe9e458fc0a23ccb}{operator=}}(\mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ key\ -\/>\ priority,\ url\_handler}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00190}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ac0f86aedcc2926b4ff66e5d6d964bd58}{00190}}\ \ \ \ \ \ \ \ \ \ map<string,detail::internal\_url\_handler>\ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ac0f86aedcc2926b4ff66e5d6d964bd58}{url\_handlers}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00191}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ad2ab1c2fe549eeac6b9680f1147b2b29}{00191}}\ \ \ \ \ \ \ \ \ \ std::optional<tcp::endpoint>\ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ad2ab1c2fe549eeac6b9680f1147b2b29}{listen\_endpoint}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00192}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a2c91ec7f6a076cdc0d4dd753eb6b747a}{00192}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a2c91ec7f6a076cdc0d4dd753eb6b747a}{access\_control\_allow\_origin}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00193}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a049f020711fe51d61580f17ebff8971d}{00193}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a049f020711fe51d61580f17ebff8971d}{access\_control\_allow\_headers}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00194}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab9a27d80beebbf9e61aedb488bd407fc}{00194}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab9a27d80beebbf9e61aedb488bd407fc}{access\_control\_max\_age}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00195}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a6f6cceb47d6a198e70e5822ab5cf6070}{00195}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a6f6cceb47d6a198e70e5822ab5cf6070}{access\_control\_allow\_credentials}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00196}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_af75fe91604a18f4efad7649dd63e6ea1}{00196}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_af75fe91604a18f4efad7649dd63e6ea1}{max\_body\_size}}\{2*1024*1024\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00197}00197\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00198}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a60bb11ae8ec3072994d077885f49a4f7}{00198}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_server\_type}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a60bb11ae8ec3072994d077885f49a4f7}{server}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00200}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a3771658ed9cc3bd1e91b108204466479}{00200}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a3771658ed9cc3bd1e91b108204466479}{thread\_pool\_size}}\ =\ 2;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00201}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a845dd995050ffb87750bfe4edb2c05a6}{00201}}\ \ \ \ \ \ \ \ \ \ std::optional<sysio::chain::named\_thread\_pool>\ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a845dd995050ffb87750bfe4edb2c05a6}{thread\_pool}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00202}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a96638486ee91563aed0aeb5bae4f6b98}{00202}}\ \ \ \ \ \ \ \ \ \ std::atomic<size\_t>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a96638486ee91563aed0aeb5bae4f6b98}{bytes\_in\_flight}}\{0\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00203}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_af640e8c9792d347320406262264c831f}{00203}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_af640e8c9792d347320406262264c831f}{max\_bytes\_in\_flight}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00204}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4fc541f393d438651557f1baacd4a329}{00204}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1microseconds}{fc::microseconds}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4fc541f393d438651557f1baacd4a329}{max\_response\_time}}\{30*1000\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00206}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa25565dd130a74dd722631d8f4387397}{00206}}\ \ \ \ \ \ \ \ \ \ std::optional<tcp::endpoint>\ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa25565dd130a74dd722631d8f4387397}{https\_listen\_endpoint}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00207}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a932ccac860cb8bde253ea048cb92e4c0}{00207}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a932ccac860cb8bde253ea048cb92e4c0}{https\_cert\_chain}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00208}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a56c6ac0cd39246bc425d3c019a778fde}{00208}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a56c6ac0cd39246bc425d3c019a778fde}{https\_key}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00209}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_af4d1fe5ac837c28f025b75fc974fcfd7}{00209}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_af4d1fe5ac837c28f025b75fc974fcfd7}{https\_ecdh\_curve}}\ =\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00211}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a16aa207d251aa80d6d9accf3a72c1164}{00211}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_server\_tls\_type}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a16aa207d251aa80d6d9accf3a72c1164}{https\_server}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00213}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a36afafdb0584d20c964137a5b8c64992}{00213}}\ \ \ \ \ \ \ \ \ \ std::optional<asio::local::stream\_protocol::endpoint>\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a36afafdb0584d20c964137a5b8c64992}{unix\_endpoint}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00214}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab28731d24b9193370571713b8de45b3c}{00214}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocket\_local\_server\_type}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab28731d24b9193370571713b8de45b3c}{unix\_server}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00216}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a8cf0cd1bba634f66a2eb222ca48651cb}{00216}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a8cf0cd1bba634f66a2eb222ca48651cb}{validate\_host}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00217}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0db06064008200daebe1eef88aa4e325}{00217}}\ \ \ \ \ \ \ \ \ \ set<string>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0db06064008200daebe1eef88aa4e325}{valid\_hosts}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00218}00218\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00219}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab5276febc7c7a42135e94005f23fb0dd}{00219}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab5276febc7c7a42135e94005f23fb0dd}{host\_port\_is\_valid}}(\ \textcolor{keyword}{const}\ std::string\&\ header\_host\_port,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ endpoint\_local\_host\_port\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a8cf0cd1bba634f66a2eb222ca48651cb}{validate\_host}}\ ||\ header\_host\_port\ ==\ endpoint\_local\_host\_port\ ||\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0db06064008200daebe1eef88aa4e325}{valid\_hosts}}.find(header\_host\_port)\ !=\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0db06064008200daebe1eef88aa4e325}{valid\_hosts}}.end();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00221}00221\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00222}00222\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00223}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4da223ff7cccbd6cc3bc3efc6b4044f4}{00223}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4da223ff7cccbd6cc3bc3efc6b4044f4}{host\_is\_valid}}(\ \textcolor{keyword}{const}\ std::string\&\ host,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ endpoint\_local\_host\_port,\ \textcolor{keywordtype}{bool}\ secure)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a8cf0cd1bba634f66a2eb222ca48651cb}{validate\_host}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ normalise\ the\ incoming\ host\ so\ that\ it\ always\ has\ the\ explicit\ port}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ has\_port\_expr\ =\ regex(\textcolor{stringliteral}{"{}[\string^:]:[0-\/9]+\$"{}});\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (std::regex\_search(host,\ has\_port\_expr))\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab5276febc7c7a42135e94005f23fb0dd}{host\_port\_is\_valid}}(\ host,\ endpoint\_local\_host\_port\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ according\ to\ RFC\ 2732\ ipv6\ addresses\ should\ always\ be\ enclosed\ with\ brackets\ so\ we\ shouldn't\ need\ to\ special\ case\ here}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ab5276febc7c7a42135e94005f23fb0dd}{host\_port\_is\_valid}}(\ host\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ std::to\_string(secure\ ?\ websocketpp::uri\_default\_secure\_port\ :\ websocketpp::uri\_default\_port\ ),\ endpoint\_local\_host\_port);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00236}00236\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00237}00237\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00238}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0ef0715b253d6512d653bb9a22850020}{00238}}\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_a482c265e0ce872b93783298db5232b78}{ssl\_context\_ptr}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a0ef0715b253d6512d653bb9a22850020}{on\_tls\_init}}(\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp::connection\_hdl}}\ hdl)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_a482c265e0ce872b93783298db5232b78}{ssl\_context\_ptr}}\ ctx\ =\ websocketpp::lib::make\_shared<websocketpp::lib::asio::ssl::context>(asio::ssl::context::sslv23\_server);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00240}00240\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00241}00241\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00242}00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx-\/>set\_options(asio::ssl::context::default\_workarounds\ |}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00243}00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asio::ssl::context::no\_sslv2\ |}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00244}00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asio::ssl::context::no\_sslv3\ |}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00245}00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asio::ssl::context::no\_tlsv1\ |}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00246}00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asio::ssl::context::no\_tlsv1\_1\ |}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00247}00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ asio::ssl::context::single\_dh\_use);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00249}00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx-\/>use\_certificate\_chain\_file(\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a932ccac860cb8bde253ea048cb92e4c0}{https\_cert\_chain}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00250}00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ctx-\/>use\_private\_key\_file(\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a56c6ac0cd39246bc425d3c019a778fde}{https\_key}},\ asio::ssl::context::pem);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00252}00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//going\ for\ the\ A+!\ Do\ a\ few\ more\ things\ on\ the\ native\ context\ to\ get\ ECDH\ in\ use}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00253}00253\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00254}00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fc::ec\_key\ ecdh\ =\ EC\_KEY\_new\_by\_curve\_name(\mbox{\hyperlink{classsysio_1_1http__plugin__impl_af4d1fe5ac837c28f025b75fc974fcfd7}{https\_ecdh\_curve}}\ ==\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}}\ ?\ NID\_secp384r1\ :\ NID\_X9\_62\_prime256v1);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00255}00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!ecdh)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00256}00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a1bfa656552ea0534b2c91ee0fe33f850}{SYS\_THROW}}(chain::http\_exception,\ \textcolor{stringliteral}{"{}Failed\ to\ set\ NID\_secp384r1"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(SSL\_CTX\_set\_tmp\_ecdh(ctx-\/>native\_handle(),\ (EC\_KEY*)ecdh)\ !=\ 1)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a1bfa656552ea0534b2c91ee0fe33f850}{SYS\_THROW}}(chain::http\_exception,\ \textcolor{stringliteral}{"{}Failed\ to\ set\ ECDH\ PFS"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00259}00259\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(SSL\_CTX\_set\_cipher\_list(ctx-\/>native\_handle(),\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}EECDH+ECDSA+AESGCM:EECDH+aRSA+AESGCM:EECDH+ECDSA+SHA384:EECDH+ECDSA+SHA256:AES256:"{}}\ \(\backslash\)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}!DHE:!RSA:!AES128:!RC4:!DES:!3DES:!DSS:!SRP:!PSK:!EXP:!MD5:!LOW:!aNULL:!eNULL"{}})\ !=\ 1)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a1bfa656552ea0534b2c91ee0fe33f850}{SYS\_THROW}}(chain::http\_exception,\ \textcolor{stringliteral}{"{}Failed\ to\ set\ HTTPS\ cipher\ list"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}https\ server\ initialization\ error:\ \$\{w\}"{}},\ (\textcolor{stringliteral}{"{}w"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(std::exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}https\ server\ initialization\ error:\ \$\{w\}"{}},\ (\textcolor{stringliteral}{"{}w"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00269}00269\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ctx;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00272}00272\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00274}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a668706ea3386fca0f7adcaedae59775a}{00274}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a668706ea3386fca0f7adcaedae59775a}{handle\_exception}}(\mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ con)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00275}00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ err\ =\ \textcolor{stringliteral}{"{}Internal\ Service\ error,\ http:\ "{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00276}00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ deadline\ =\ \mbox{\hyperlink{classfc_1_1time__point_aa164ff1268a16d4b32afcff181f6100e}{fc::time\_point::now}}()\ +\ \mbox{\hyperlink{classfc_1_1exception_a13463219d1d09f150e987fe1b0368752}{fc::exception::format\_time\_limit}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00278}00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_status(\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0}{websocketpp::http::status\_code::internal\_server\_error}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00279}00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00280}00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00281}00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ +=\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}\$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ err));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0}{websocketpp::http::status\_code::internal\_server\_error}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00285}00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(\ e,\ verbose\_http\_errors\ )\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00286}00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ \mbox{\hyperlink{classfc_1_1json_aa6541960d7f05567559b866cfaf88dfa}{fc::json::to\_string}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}},\ deadline\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00287}00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ std::exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ +=\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00289}00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}\$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ err));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00290}00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0}{websocketpp::http::status\_code::internal\_server\_error}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00292}00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}(\ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ verbose\_http\_errors\ )\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ \mbox{\hyperlink{classfc_1_1json_aa6541960d7f05567559b866cfaf88dfa}{fc::json::to\_string}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}},\ deadline\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00295}00295\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ err\ +=\ \textcolor{stringliteral}{"{}Unknown\ Exception"{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00297}00297\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0}{websocketpp::http::status\_code::internal\_server\_error}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}(\ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ \textcolor{stringliteral}{"{}Unknown\ Exception"{}}\ )),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ verbose\_http\_errors\ )\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00302}00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ \mbox{\hyperlink{classfc_1_1json_aa6541960d7f05567559b866cfaf88dfa}{fc::json::to\_string}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}},\ deadline\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (fc::timeout\_exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ R\textcolor{stringliteral}{"{}xxx(\{"{}message"{}:\ "{}Internal\ Server\ Error"{}\})xxx"{}\ );}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00306}00306\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ }\textcolor{stringliteral}{"{}Timeout\ exception\ \$\{te\}\ attempting\ to\ handle\ exception:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}te"{}},\ e.to\_detail\_string())(\textcolor{stringliteral}{"{}e"{}},\ err)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ R\textcolor{stringliteral}{"{}xxx(\{"{}message"{}:\ "{}Internal\ Server\ Error"{}\})xxx"{}\ );}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00309}00309\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ }\textcolor{stringliteral}{"{}Exception\ attempting\ to\ handle\ exception:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ err)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>send\_http\_response();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00313}00313\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00315}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_afd52921beb895ab06e683c0f937d9d98}{00315}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_afd52921beb895ab06e683c0f937d9d98}{allow\_host}}(\textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ T::request\_type\&\ req,\ \mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ con)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00316}00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_secure\ =\ con-\/>get\_uri()-\/>get\_secure();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00317}00317\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ local\_endpoint\ =\ con-\/>get\_socket().lowest\_layer().local\_endpoint();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00318}00318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ local\_socket\_host\_port\ =\ local\_endpoint.address().to\_string()\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ std::to\_string(local\_endpoint.port());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00319}00319\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00320}00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ host\_str\ =\ req.get\_header(\textcolor{stringliteral}{"{}Host"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00321}00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (host\_str.empty()\ ||\ !\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4da223ff7cccbd6cc3bc3efc6b4044f4}{host\_is\_valid}}(host\_str,\ local\_socket\_host\_port,\ is\_secure))\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00322}00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_status(\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3}{websocketpp::http::status\_code::bad\_request}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00323}00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00324}00324\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00327}00327\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00329}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_affd6afa6346ed7ad2a5da35038c0df2f}{00329}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_affd6afa6346ed7ad2a5da35038c0df2f}{verify\_max\_bytes\_in\_flight}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\&\ con\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ bytes\_in\_flight\_size\ =\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a96638486ee91563aed0aeb5bae4f6b98}{bytes\_in\_flight}}.load();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ bytes\_in\_flight\_size\ >\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_af640e8c9792d347320406262264c831f}{max\_bytes\_in\_flight}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_af5adfcda7e0a01306256754a6511915d}{fc\_dlog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}429\ -\/\ too\ many\ bytes\ in\ flight:\ \$\{bytes\}"{}},\ (\textcolor{stringliteral}{"{}bytes"{}},\ bytes\_in\_flight\_size)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}\ ei;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ei.\mbox{\hyperlink{structsysio_1_1error__results_1_1error__info_a1fa571524b29ec9a3017875712a24635}{code}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8}{websocketpp::http::status\_code::too\_many\_requests}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ei.\mbox{\hyperlink{structsysio_1_1error__results_1_1error__info_a93cc9a72260af2e3dae5f9950e15202a}{name}}\ =\ \textcolor{stringliteral}{"{}Busy"{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ei.\mbox{\hyperlink{structsysio_1_1error__results_1_1error__info_ad7ce67209863bf89f9bad491aa6f00a6}{what}}\ =\ \textcolor{stringliteral}{"{}Too\ many\ bytes\ in\ flight:\ "{}}\ +\ std::to\_string(\ bytes\_in\_flight\_size\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00337}00337\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8}{websocketpp::http::status\_code::too\_many\_requests}},\ \textcolor{stringliteral}{"{}Busy"{}},\ ei\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ \mbox{\hyperlink{classfc_1_1json_aa6541960d7f05567559b866cfaf88dfa}{fc::json::to\_string}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}},\ \mbox{\hyperlink{classfc_1_1time__point_aeccf1b70aa34b132c5269313b8a50573}{fc::time\_point::maximum}}()\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_status(\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6ad026e6c3d68ee207af2738796392d0b8}{websocketpp::http::status\_code::too\_many\_requests}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>send\_http\_response();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00342}00342\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00343}00343\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00344}00344\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00345}00345\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00346}00346\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00353}00353\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00354}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{00354}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structsysio_1_1detail_1_1abstract__conn}{detail::abstract\_conn}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00355}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a9eadf58cbfb51c7aef319093b7289d08}{00355}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a9eadf58cbfb51c7aef319093b7289d08}{abstract\_conn\_impl}}(\mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ conn,\ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ impl)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00356}00356\ \ \ \ \ \ \ \ \ \ \ \ \ :\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}}(\mbox{\hyperlink{namespacestd}{std}}::move(conn))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00357}00357\ \ \ \ \ \ \ \ \ \ \ \ \ ,\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_aa820767c22c0054b8178fff7adfdd748}{\_impl}}(\mbox{\hyperlink{namespacestd}{std}}::move(impl))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00358}00358\ \ \ \ \ \ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00359}00359\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00360}00360\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ copy\ constructor\ and\ no\ move}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00361}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a607121c3305b204bc89a1cb2adc5de75}{00361}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a607121c3305b204bc89a1cb2adc5de75}{abstract\_conn\_impl}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00362}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a6019d3f258dcb78f2730c6f43febe2ec}{00362}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a6019d3f258dcb78f2730c6f43febe2ec}{abstract\_conn\_impl}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00363}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_af7015a2519caf3d2c6e39f8accb96eb9}{00363}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_af7015a2519caf3d2c6e39f8accb96eb9}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00364}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_acecd4c19092d833718fe02f7ff80213e}{00364}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_acecd4c19092d833718fe02f7ff80213e}{operator=}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}\&\&)\ noexcept\ =\ default;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00365}00365\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00366}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a3ef5844a176b49f480fd4891e5db74fd}{00366}}\ \ \ \ \ \ \ \ \ \ \ \ \ \string~\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl}{abstract\_conn\_impl}}()\ =\ default;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00367}00367\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00368}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a9cbb007316e018e82e1b6d2f069e9ad1}{00368}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a9cbb007316e018e82e1b6d2f069e9ad1}{verify\_max\_bytes\_in\_flight}}()\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_aa820767c22c0054b8178fff7adfdd748}{\_impl}}-\/>\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a9cbb007316e018e82e1b6d2f069e9ad1}{verify\_max\_bytes\_in\_flight}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00371}00371\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00372}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ad5aa277edc9e110da2050d05690fe85d}{00372}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ad5aa277edc9e110da2050d05690fe85d}{handle\_exception}}()\textcolor{keyword}{override\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00373}00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a668706ea3386fca0f7adcaedae59775a}{http\_plugin\_impl::handle\_exception<T>}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00374}00374\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00375}00375\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00376}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a79142fbd5b2b1771e998f93cccbbab30}{00376}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_a79142fbd5b2b1771e998f93cccbbab30}{send\_response}}(std::string\ body,\ \textcolor{keywordtype}{int}\ code)\textcolor{keyword}{\ override\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}}-\/>set\_body(std::move(body));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00378}00378\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}}-\/>set\_status(\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6}{websocketpp::http::status\_code::value}}(\ code\ )\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00379}00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}}-\/>send\_http\_response();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00380}00380\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00381}00381\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00382}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{00382}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_ac7ce6397c0fc7a41efa53458391531c3}{\_conn}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00383}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_aa820767c22c0054b8178fff7adfdd748}{00383}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1abstract__conn__impl_aa820767c22c0054b8178fff7adfdd748}{\_impl}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00384}00384\ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00393}00393\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00394}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a6df1954783d4d142c8463b916038dbe3}{00394}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{detail::abstract\_conn\_ptr}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a6df1954783d4d142c8463b916038dbe3}{make\_abstract\_conn\_ptr}}(\ \mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ conn,\ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ impl\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00395}00395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_shared<abstract\_conn\_impl<T>>(std::move(conn),\ std::move(impl));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00396}00396\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00397}00397\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00404}00404\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00405}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{00405}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00406}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_ae3bed859d74c8e3acf1e1b8730f61bcf}{00406}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_ae3bed859d74c8e3acf1e1b8730f61bcf}{in\_flight}}(\mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\&\&\ \textcolor{keywordtype}{object},\ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ impl)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00407}00407\ \ \ \ \ \ \ \ \ \ \ \ \ :\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}}(\mbox{\hyperlink{namespacestd}{std}}::move(object))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00408}00408\ \ \ \ \ \ \ \ \ \ \ \ \ ,\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}(\mbox{\hyperlink{namespacestd}{std}}::move(impl))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00409}00409\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00410}00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}}\ =\ detail::in\_flight\_sizeof(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00411}00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}-\/>bytes\_in\_flight\ +=\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00412}00412\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00413}00413\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00414}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_acf19590fea61abe9358d0e893b36e218}{00414}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_acf19590fea61abe9358d0e893b36e218}{\string~in\_flight}}()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00416}00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}-\/>bytes\_in\_flight\ -\/=\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00417}00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00418}00418\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00419}00419\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00420}00420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ copy\ constructor,\ but\ allow\ move}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00421}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a8660b7777f96b485f1d4a26863dcec1d}{00421}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a8660b7777f96b485f1d4a26863dcec1d}{in\_flight}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00422}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a0cc038eaf3f74e250d1208cf409ce1e4}{00422}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a0cc038eaf3f74e250d1208cf409ce1e4}{in\_flight}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&\&\ from)}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00423}00423\ \ \ \ \ \ \ \ \ \ \ \ \ :\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}}(\mbox{\hyperlink{namespacestd}{std}}::move(from.\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}}))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00424}00424\ \ \ \ \ \ \ \ \ \ \ \ \ ,\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}}(from.\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00425}00425\ \ \ \ \ \ \ \ \ \ \ \ \ ,\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}(\mbox{\hyperlink{namespacestd}{std}}::move(from.\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00426}00426\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00427}00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ from.\_count\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00428}00428\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00429}00429\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00430}00430\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ copy\ assignment,\ but\ allow\ move}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00431}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a7f2082d20fde08911cc15d38a2027708}{00431}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a7f2082d20fde08911cc15d38a2027708}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00432}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a9f56b18f0011fffde8dcc9425ec10e7d}{00432}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a9f56b18f0011fffde8dcc9425ec10e7d}{operator=}}(\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight}{in\_flight}}\&\&\ from)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}}\ =\ std::move(from.\_object);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00434}00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}}\ =\ from.\_count;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}}\ =\ std::move(from.\_impl);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ from.\_count\ =\ 0;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00437}00437\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00438}00438\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00443}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_afc091ff5c3a0bd9c26fb925b1de45f5d}{00443}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_afc091ff5c3a0bd9c26fb925b1de45f5d}{operator*\ }}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00444}00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00445}00445\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00446}00446\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00451}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a1bd7cec62c1f3e6e2737b41b5ef854ca}{00451}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\&\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_afc091ff5c3a0bd9c26fb925b1de45f5d}{operator*\ }}()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00452}00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00453}00453\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00454}00454\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00455}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{00455}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_af7676f01a2dafb8887936342cf60c127}{\_object}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00456}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{00456}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_a93028aa7c43abadef36794543912ec06}{\_count}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00457}\mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{00457}}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ \mbox{\hyperlink{structsysio_1_1http__plugin__impl_1_1in__flight_abc593228eb1574ecba4fc7817f923050}{\_impl}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00458}00458\ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00459}00459\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00463}00463\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00464}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa0655ed2bc3eca38225bc2c11f5d05a1}{00464}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa0655ed2bc3eca38225bc2c11f5d05a1}{make\_in\_flight}}(\mbox{\hyperlink{prettywritertest_8cpp_a6283df8c4e365cc8a01727e2d7ad44bf}{T}}\&\&\ \textcolor{keywordtype}{object},\ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ impl)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00465}00465\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::make\_shared<in\_flight<T>>(std::forward<T>(\textcolor{keywordtype}{object}),\ std::move(impl));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00466}00466\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00467}00467\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00478}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a745562a0a7b42f9c002bc09731571bb6}{00478}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacesysio_1_1detail_a69779241e30dfcc06bd60e313d84f78a}{detail::internal\_url\_handler}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a745562a0a7b42f9c002bc09731571bb6}{make\_app\_thread\_url\_handler}}(\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structappbase_1_1priority}{priority}},\ \mbox{\hyperlink{namespacesysio_a99c82a51bf462442f89e68cd48f103a6}{url\_handler}}\ next,\ \mbox{\hyperlink{namespacesysio_adc3b23bd13a9947e7bb7430a1cd6336d}{http\_plugin\_impl\_ptr}}\ my\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00479}00479\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ next\_ptr\ =\ std::make\_shared<url\_handler>(std::move(next));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00480}00480\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [my=std::move(my),\ \mbox{\hyperlink{structappbase_1_1priority}{priority}},\ next\_ptr=std::move(next\_ptr)]}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00481}00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\ \mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{detail::abstract\_conn\_ptr}}\ conn,\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keywordtype}{string}\ b,\ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}}\ then\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00482}00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ tracked\_b\ =\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa0655ed2bc3eca38225bc2c11f5d05a1}{make\_in\_flight<string>}}(std::move(b),\ my);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00483}00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!conn-\/>verify\_max\_bytes\_in\_flight())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00484}00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00485}00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00486}00486\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00487}00487\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}}\ wrapped\_then\ =\ [tracked\_b,\ then=std::move(then)](\textcolor{keywordtype}{int}\ code,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}\ resp)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00488}00488\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ then(code,\ std::move(resp));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00489}00489\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00490}00490\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00491}00491\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ post\ to\ the\ app\ thread\ taking\ shared\ ownership\ of\ next\ (via\ std::shared\_ptr),}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00492}00492\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ sole\ ownership\ of\ the\ tracked\ body\ and\ the\ passed\ in\ parameters}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00493}00493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a77aff91b861010fd61a616c59b310dcc}{post}}(\ \mbox{\hyperlink{structappbase_1_1priority}{priority}},\ [next\_ptr,\ conn=std::move(conn),\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}=std::move(\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}),\ tracked\_b,\ wrapped\_then=std::move(wrapped\_then)]()\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00494}00494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00495}00495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ call\ the\ \`{}next`\ url\_handler\ and\ wrap\ the\ response\ handler}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00496}00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*next\_ptr)(\ std::move(\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}\ ),\ std::move(*(*tracked\_b)),\ std::move(wrapped\_then))\ ;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00497}00497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00498}00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ conn-\/>handle\_exception();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00499}00499\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00500}00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00501}00501\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00502}00502\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00503}00503\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00511}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa7dfe2090a6e5aee9ae7a90dcb305869}{00511}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{namespacesysio_1_1detail_a69779241e30dfcc06bd60e313d84f78a}{detail::internal\_url\_handler}}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa7dfe2090a6e5aee9ae7a90dcb305869}{make\_http\_thread\_url\_handler}}(\mbox{\hyperlink{namespacesysio_a99c82a51bf462442f89e68cd48f103a6}{url\_handler}}\ next)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00512}00512\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [next=std::move(next)](\ \mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{detail::abstract\_conn\_ptr}}\ conn,\ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \textcolor{keywordtype}{string}\ b,\ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}}\ then\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00513}00513\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00514}00514\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ next(std::move(\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}),\ std::move(b),\ std::move(then));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00515}00515\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00516}00516\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ conn-\/>handle\_exception();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00517}00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00518}00518\ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00519}00519\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00520}00520\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00528}00528\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00529}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a88e767bd921e5bbef2263ee4ce215c94}{00529}}\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a88e767bd921e5bbef2263ee4ce215c94}{make\_http\_response\_handler}}(\ \mbox{\hyperlink{namespacesysio_1_1detail_a82b57dc6a62fb7b0a6ee7fb7cd596f4c}{detail::abstract\_conn\_ptr}}\ abstract\_conn\_ptr)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00530}00530\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [my=shared\_from\_this(),\ abstract\_conn\_ptr](\ \textcolor{keywordtype}{int}\ code,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}\ response\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00531}00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ tracked\_response\ =\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_aa0655ed2bc3eca38225bc2c11f5d05a1}{make\_in\_flight}}(std::move(response),\ my);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00532}00532\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!abstract\_conn\_ptr-\/>verify\_max\_bytes\_in\_flight())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00533}00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00534}00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00535}00535\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00536}00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ post\ \ back\ to\ an\ HTTP\ thread\ to\ to\ allow\ the\ response\ handler\ to\ be\ called\ from\ any\ thread}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00537}00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ boost::asio::post(\ my-\/>thread\_pool-\/>get\_executor(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00538}00538\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [my,\ abstract\_conn\_ptr,\ code,\ tracked\_response=std::move(tracked\_response)]()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00539}00539\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ try\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00540}00540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ json\ =\ fc::json::to\_string(\ *(*tracked\_response),\ fc::time\_point::now()\ +\ my-\/>max\_response\_time\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00541}00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ auto\ tracked\_json\ =\ make\_in\_flight(std::move(json),\ my);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00542}00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abstract\_conn\_ptr-\/>send\_response(std::move(*(*tracked\_json)),\ code);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00543}00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00544}00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ abstract\_conn\_ptr-\/>handle\_exception();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00545}00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00546}00546\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00547}00547\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00548}00548\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00549}00549\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00550}00550\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00551}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_ad6394e6812d11a23c51c926e126703e6}{00551}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_ad6394e6812d11a23c51c926e126703e6}{handle\_http\_request}}(\mbox{\hyperlink{namespacesysio_1_1detail_aad9410be87036ae969dc328050560d6a}{detail::connection\_ptr<T>}}\ con)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00552}00552\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00553}00553\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ req\ =\ con-\/>get\_request();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00554}00554\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00555}00555\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!allow\_host<T>(req,\ con))}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00556}00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00557}00557\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00558}00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !access\_control\_allow\_origin.empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00559}00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>append\_header(\ \textcolor{stringliteral}{"{}Access-\/Control-\/Allow-\/Origin"{}},\ access\_control\_allow\_origin\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00560}00560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00561}00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !access\_control\_allow\_headers.empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00562}00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>append\_header(\ \textcolor{stringliteral}{"{}Access-\/Control-\/Allow-\/Headers"{}},\ access\_control\_allow\_headers\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00563}00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00564}00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !access\_control\_max\_age.empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00565}00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>append\_header(\ \textcolor{stringliteral}{"{}Access-\/Control-\/Max-\/Age"{}},\ access\_control\_max\_age\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00566}00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00567}00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ access\_control\_allow\_credentials\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00568}00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>append\_header(\ \textcolor{stringliteral}{"{}Access-\/Control-\/Allow-\/Credentials"{}},\ \textcolor{stringliteral}{"{}true"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00569}00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00570}00570\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00571}00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(req.get\_method()\ ==\ \textcolor{stringliteral}{"{}OPTIONS"{}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00572}00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_status(\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6a289caa931313b2f373b33032e3661733}{websocketpp::http::status\_code::ok}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00573}00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00574}00574\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00575}00575\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00576}00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>append\_header(\ \textcolor{stringliteral}{"{}Content-\/type"{}},\ \textcolor{stringliteral}{"{}application/json"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00577}00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>defer\_http\_response();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00578}00578\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00579}00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ abstract\_conn\_ptr\ =\ make\_abstract\_conn\_ptr<T>(con,\ shared\_from\_this());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00580}00580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !verify\_max\_bytes\_in\_flight(\ con\ ))\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00581}00581\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00582}00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ resource\ =\ con-\/>get\_uri()-\/>get\_resource();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00583}00583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ handler\_itr\ =\ url\_handlers.find(\ resource\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00584}00584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ handler\_itr\ !=\ url\_handlers.end())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00585}00585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ body\ =\ con-\/>get\_request\_body();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00586}00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handler\_itr-\/>second(\ abstract\_conn\_ptr,\ std::move(\ resource\ ),\ std::move(\ body\ ),\ make\_http\_response\_handler<T>(abstract\_conn\_ptr)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00587}00587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00588}00588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_af5adfcda7e0a01306256754a6511915d}{fc\_dlog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}404\ -\/\ not\ found:\ \$\{ep\}"{}},\ (\textcolor{stringliteral}{"{}ep"{}},\ resource)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00589}00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{\mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2}{websocketpp::http::status\_code::not\_found}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00590}00590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Not\ Found"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(\mbox{\hyperlink{classfc_1_1exception}{fc::exception}}(\ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ \textcolor{stringliteral}{"{}Unknown\ Endpoint"{}}\ )),\ verbose\_http\_errors\ )\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00591}00591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_body(\ \mbox{\hyperlink{classfc_1_1json_aa6541960d7f05567559b866cfaf88dfa}{fc::json::to\_string}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}},\ \mbox{\hyperlink{classfc_1_1time__point_aa164ff1268a16d4b32afcff181f6100e}{fc::time\_point::now}}()\ +\ max\_response\_time\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00592}00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>set\_status(\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6a33f0060510af28d5d220dc4523c3b3e2}{websocketpp::http::status\_code::not\_found}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00593}00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ con-\/>send\_http\_response();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00594}00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00595}00595\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}(\ ...\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00596}00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\_exception<T>(\ con\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00597}00597\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00598}00598\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00599}00599\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00600}00600\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00601}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4de518d5c5cb8a4bc7dc84b73e9e5432}{00601}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a4de518d5c5cb8a4bc7dc84b73e9e5432}{create\_server\_for\_endpoint}}(\textcolor{keyword}{const}\ tcp::endpoint\&\ ep,\ \mbox{\hyperlink{classwebsocketpp_1_1server}{websocketpp::server}}<\mbox{\hyperlink{structsysio_1_1detail_1_1asio__with__stub__log}{detail::asio\_with\_stub\_log<T>}}>\&\ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00602}00602\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00603}00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.clear\_access\_channels(\mbox{\hyperlink{structwebsocketpp_1_1log_1_1alevel_a853aa0b8976e53f3181af3bc398d493e}{websocketpp::log::alevel::all}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00604}00604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.init\_asio(\ \&thread\_pool-\/>get\_executor()\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00605}00605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.set\_reuse\_addr(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00606}00606\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.set\_max\_http\_body\_size(max\_body\_size);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00607}00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ captures\ \`{}this`\ \&\ ws,\ my\ needs\ to\ live\ as\ long\ as\ server\ is\ handling\ requests}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00608}00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.set\_http\_handler([\&](\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\_hdl}}\ hdl)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00609}00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handle\_http\_request<detail::asio\_with\_stub\_log<T>>(\mbox{\hyperlink{210-_evt-_event_listeners_8cpp_aaf05ec28baf9169e247960554e9ffbcb}{ws}}.get\_con\_from\_hdl(hdl));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00610}00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00611}00611\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00612}00612\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}http:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00613}00613\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ std::exception\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00614}00614\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}http:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00615}00615\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00616}00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}error\ thrown\ from\ http\ io\ service"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00617}00617\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00618}00618\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00619}00619\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00620}\mbox{\hyperlink{classsysio_1_1http__plugin__impl_a368e4f899f89984b5847fe13700acca9}{00620}}\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl_a368e4f899f89984b5847fe13700acca9}{add\_aliases\_for\_endpoint}}(\ \textcolor{keyword}{const}\ tcp::endpoint\&\ ep,\ \textcolor{keywordtype}{string}\ host,\ \textcolor{keywordtype}{string}\ port\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00621}00621\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ resolved\_port\_str\ =\ std::to\_string(ep.port());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00622}00622\ \ \ \ \ \ \ \ \ \ \ \ \ valid\_hosts.emplace(host\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ port);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00623}00623\ \ \ \ \ \ \ \ \ \ \ \ \ valid\_hosts.emplace(host\ +\ \textcolor{stringliteral}{"{}:"{}}\ +\ resolved\_port\_str);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00624}00624\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00625}00625\ \ \ \ \};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00626}00626\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00627}00627\ \ \ \ \textcolor{keyword}{template}<>}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00628}\mbox{\hyperlink{namespacesysio_af638df523bcc96fc74313bff704f366b}{00628}}\ \ \ \ \textcolor{keywordtype}{bool}\ http\_plugin\_impl::allow\_host<detail::asio\_local\_with\_stub\_log>(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log_ab652ce50200b9d9c16b915c7cb4e9c33}{detail::asio\_local\_with\_stub\_log::request\_type}}\&\ req,\ \mbox{\hyperlink{classwebsocketpp_1_1server_abb895563dddafdc1426997d245cbd7cb}{websocketpp::server<detail::asio\_local\_with\_stub\_log>::connection\_ptr}}\ con)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00629}00629\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00630}00630\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00631}00631\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00632}\mbox{\hyperlink{classsysio_1_1http__plugin_acc8cd394ff2ce78a1fd42f87e1ef3f87}{00632}}\ \ \ \ http\_plugin::http\_plugin():my(new\ \mbox{\hyperlink{classsysio_1_1http__plugin__impl}{http\_plugin\_impl}}())\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00633}00633\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_ab53422301065100de5ac7818f5b9b3fc}{register\_config\_type}}<\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00634}00634\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00635}\mbox{\hyperlink{classsysio_1_1http__plugin_a8e586898c5b1828142124f182fd536f6}{00635}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin_a8e586898c5b1828142124f182fd536f6}{http\_plugin::\string~http\_plugin}}()\{\}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00636}00636\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00637}\mbox{\hyperlink{classsysio_1_1http__plugin_a4be137b6ad169ee4e2b745a50ba1a874}{00637}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a4be137b6ad169ee4e2b745a50ba1a874}{http\_plugin::set\_program\_options}}(options\_description\&,\ options\_description\&\ cfg)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00638}00638\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(current\_http\_plugin\_defaults.\mbox{\hyperlink{structsysio_1_1http__plugin__defaults_a0f0c286c3aa87f8b51cb373ae4a5b245}{default\_unix\_socket\_path}}.length())}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00639}00639\ \ \ \ \ \ \ \ \ \ cfg.add\_options()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00640}00640\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}unix-\/socket-\/path"{}},\ bpo::value<string>()-\/>default\_value(current\_http\_plugin\_defaults.\mbox{\hyperlink{structsysio_1_1http__plugin__defaults_a0f0c286c3aa87f8b51cb373ae4a5b245}{default\_unix\_socket\_path}}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00641}00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ filename\ (relative\ to\ data-\/dir)\ to\ create\ a\ unix\ socket\ for\ HTTP\ RPC;\ set\ blank\ to\ disable."{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00642}00642\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00643}00643\ \ \ \ \ \ \ \ \ \ cfg.add\_options()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00644}00644\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}unix-\/socket-\/path"{}},\ bpo::value<string>(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00645}00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ filename\ (relative\ to\ data-\/dir)\ to\ create\ a\ unix\ socket\ for\ HTTP\ RPC;\ set\ blank\ to\ disable."{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00646}00646\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00647}00647\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(current\_http\_plugin\_defaults.\mbox{\hyperlink{structsysio_1_1http__plugin__defaults_a258689cc5f13c2b43faaec59be488608}{default\_http\_port}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00648}00648\ \ \ \ \ \ \ \ \ \ cfg.add\_options()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00649}00649\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/server-\/address"{}},\ bpo::value<string>()-\/>default\_value(\textcolor{stringliteral}{"{}127.0.0.1:"{}}\ +\ std::to\_string(current\_http\_plugin\_defaults.\mbox{\hyperlink{structsysio_1_1http__plugin__defaults_a258689cc5f13c2b43faaec59be488608}{default\_http\_port}})),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00650}00650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ local\ IP\ and\ port\ to\ listen\ for\ incoming\ http\ connections;\ set\ blank\ to\ disable."{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00651}00651\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00652}00652\ \ \ \ \ \ \ \ \ \ cfg.add\_options()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00653}00653\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/server-\/address"{}},\ bpo::value<string>(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00654}00654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ local\ IP\ and\ port\ to\ listen\ for\ incoming\ http\ connections;\ leave\ blank\ to\ disable."{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00655}00655\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00656}00656\ \ \ \ \ \ \ cfg.add\_options()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00657}00657\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}https-\/server-\/address"{}},\ bpo::value<string>(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00658}00658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ local\ IP\ and\ port\ to\ listen\ for\ incoming\ https\ connections;\ leave\ blank\ to\ disable."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00659}00659\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00660}00660\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}https-\/certificate-\/chain-\/file"{}},\ bpo::value<string>(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00661}00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Filename\ with\ the\ certificate\ chain\ to\ present\ on\ https\ connections.\ PEM\ format.\ Required\ for\ https."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00662}00662\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00663}00663\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}https-\/private-\/key-\/file"{}},\ bpo::value<string>(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00664}00664\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Filename\ with\ https\ private\ key\ in\ PEM\ format.\ Required\ for\ https"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00665}00665\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00666}00666\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}https-\/ecdh-\/curve"{}},\ bpo::value<https\_ecdh\_curve\_t>()-\/>notifier([\textcolor{keyword}{this}](\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}\ c)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00667}00667\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_ecdh\_curve\ =\ c;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00668}00668\ \ \ \ \ \ \ \ \ \ \ \ \ \})-\/>default\_value(\mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00669}00669\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Configure\ https\ ECDH\ curve\ to\ use:\ secp384r1\ or\ prime256v1"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00670}00670\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00671}00671\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}access-\/control-\/allow-\/origin"{}},\ bpo::value<string>()-\/>notifier([\textcolor{keyword}{this}](\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ v)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00672}00672\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>access\_control\_allow\_origin\ =\ v;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00673}00673\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}configured\ http\ with\ Access-\/Control-\/Allow-\/Origin:\ \$\{o\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00674}00674\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}o"{}},\ my-\/>access\_control\_allow\_origin)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00675}00675\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00676}00676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ Access-\/Control-\/Allow-\/Origin\ to\ be\ returned\ on\ each\ request."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00677}00677\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00678}00678\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}access-\/control-\/allow-\/headers"{}},\ bpo::value<string>()-\/>notifier([\textcolor{keyword}{this}](\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ v)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00679}00679\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>access\_control\_allow\_headers\ =\ v;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00680}00680\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}configured\ http\ with\ Access-\/Control-\/Allow-\/Headers\ :\ \$\{o\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00681}00681\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}o"{}},\ my-\/>access\_control\_allow\_headers)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00682}00682\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00683}00683\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ Access-\/Control-\/Allow-\/Headers\ to\ be\ returned\ on\ each\ request."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00684}00684\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00685}00685\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}access-\/control-\/max-\/age"{}},\ bpo::value<string>()-\/>notifier([\textcolor{keyword}{this}](\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ v)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00686}00686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>access\_control\_max\_age\ =\ v;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00687}00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}configured\ http\ with\ Access-\/Control-\/Max-\/Age\ :\ \$\{o\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00688}00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}o"{}},\ my-\/>access\_control\_max\_age)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00689}00689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00690}00690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ the\ Access-\/Control-\/Max-\/Age\ to\ be\ returned\ on\ each\ request."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00691}00691\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00692}00692\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}access-\/control-\/allow-\/credentials"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00693}00693\ \ \ \ \ \ \ \ \ \ \ \ \ \ bpo::bool\_switch()-\/>notifier([\textcolor{keyword}{this}](\textcolor{keywordtype}{bool}\ v)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00694}00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>access\_control\_allow\_credentials\ =\ v;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00695}00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ v\ )\ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}configured\ http\ with\ Access-\/Control-\/Allow-\/Credentials:\ true"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00696}00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \})-\/>default\_value(\textcolor{keyword}{false}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00697}00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Specify\ if\ Access-\/Control-\/Allow-\/Credentials:\ true\ should\ be\ returned\ on\ each\ request."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00698}00698\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}max-\/body-\/size"{}},\ bpo::value<uint32\_t>()-\/>default\_value(my-\/>max\_body\_size),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00699}00699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ maximum\ body\ size\ in\ bytes\ allowed\ for\ incoming\ RPC\ requests"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00700}00700\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/max-\/bytes-\/in-\/flight-\/mb"{}},\ bpo::value<int64\_t>()-\/>default\_value(500),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00701}00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Maximum\ size\ in\ megabytes\ http\_plugin\ should\ use\ for\ processing\ http\ requests.\ -\/1\ for\ unlimited.\ 429\ error\ response\ when\ exceeded."{}}\ )}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00702}00702\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/max-\/response-\/time-\/ms"{}},\ bpo::value<uint32\_t>()-\/>default\_value(30),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00703}00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Maximum\ time\ for\ processing\ a\ request."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00704}00704\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}verbose-\/http-\/errors"{}},\ bpo::bool\_switch()-\/>default\_value(\textcolor{keyword}{false}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00705}00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Append\ the\ error\ log\ to\ HTTP\ responses"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00706}00706\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/validate-\/host"{}},\ boost::program\_options::value<bool>()-\/>default\_value(\textcolor{keyword}{true}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00707}00707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}If\ set\ to\ false,\ then\ any\ incoming\ \(\backslash\)"{}Host\(\backslash\)"{}\ header\ is\ considered\ valid"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00708}00708\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/alias"{}},\ bpo::value<std::vector<string>>()-\/>composing(),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00709}00709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Additionaly\ acceptable\ values\ for\ the\ \(\backslash\)"{}Host\(\backslash\)"{}\ header\ of\ incoming\ HTTP\ requests,\ can\ be\ specified\ multiple\ times.\ \ Includes\ http/s\_server\_address\ by\ default."{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00710}00710\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}http-\/threads"{}},\ bpo::value<uint16\_t>()-\/>default\_value(\ my-\/>thread\_pool\_size\ ),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00711}00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Number\ of\ worker\ threads\ in\ http\ thread\ pool"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00712}00712\ \ \ \ \ \ \ \ \ \ \ \ \ ;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00713}00713\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00714}00714\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00715}\mbox{\hyperlink{classsysio_1_1http__plugin_abafb2339628893273c194f690f790ed1}{00715}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_abafb2339628893273c194f690f790ed1}{http\_plugin::plugin\_initialize}}(\textcolor{keyword}{const}\ variables\_map\&\ options)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00716}00716\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00717}00717\ \ \ \ \ \ \ \ \ \ my-\/>max\_body\_size\ =\ options.at(\ \textcolor{stringliteral}{"{}max-\/body-\/size"{}}\ ).as<\mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00718}00718\ \ \ \ \ \ \ \ \ \ verbose\_http\_errors\ =\ options.at(\ \textcolor{stringliteral}{"{}verbose-\/http-\/errors"{}}\ ).as<\textcolor{keywordtype}{bool}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00719}00719\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00720}00720\ \ \ \ \ \ \ \ \ \ my-\/>thread\_pool\_size\ =\ options.at(\ \textcolor{stringliteral}{"{}http-\/threads"{}}\ ).as<\mbox{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t}}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00721}00721\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ my-\/>thread\_pool\_size\ >\ 0,\ chain::plugin\_config\_exception,}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00722}00722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}http-\/threads\ \$\{num\}\ must\ be\ greater\ than\ 0"{}},\ (\textcolor{stringliteral}{"{}num"{}},\ my-\/>thread\_pool\_size));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00723}00723\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00724}00724\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ max\_bytes\_mb\ =\ options.at(\ \textcolor{stringliteral}{"{}http-\/max-\/bytes-\/in-\/flight-\/mb"{}}\ ).as<\mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00725}00725\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ (max\_bytes\_mb\ >=\ -\/1\ \&\&\ max\_bytes\_mb\ <\ std::numeric\_limits<int64\_t>::max()\ /\ (1024\ *\ 1024)),\ chain::plugin\_config\_exception,}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00726}00726\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}http-\/max-\/bytes-\/in-\/flight-\/mb\ (\$\{max\_bytes\_mb\})\ must\ be\ equal\ to\ or\ greater\ than\ -\/1\ and\ less\ than\ \$\{max\}"{}},\ (\textcolor{stringliteral}{"{}max\_bytes\_mb"{}},\ max\_bytes\_mb)\ (\textcolor{stringliteral}{"{}max"{}},\ std::numeric\_limits<int64\_t>::max()\ /\ (1024\ *\ 1024))\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00727}00727\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ max\_bytes\_mb\ ==\ -\/1\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00728}00728\ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>max\_bytes\_in\_flight\ =\ std::numeric\_limits<size\_t>::max();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00729}00729\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00730}00730\ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>max\_bytes\_in\_flight\ =\ max\_bytes\_mb\ *\ 1024\ *\ 1024;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00731}00731\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00732}00732\ \ \ \ \ \ \ \ \ \ my-\/>max\_response\_time\ =\ \mbox{\hyperlink{classfc_1_1microseconds}{fc::microseconds}}(\ options.at(\textcolor{stringliteral}{"{}http-\/max-\/response-\/time-\/ms"{}}).as<\mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}>()\ *\ 1000\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00733}00733\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00734}00734\ \ \ \ \ \ \ \ \ \ my-\/>validate\_host\ =\ options.at(\textcolor{stringliteral}{"{}http-\/validate-\/host"{}}).as<\textcolor{keywordtype}{bool}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00735}00735\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ options.count(\ \textcolor{stringliteral}{"{}http-\/alias"{}}\ ))\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00736}00736\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ aliases\ =\ options[\textcolor{stringliteral}{"{}http-\/alias"{}}].as<\mbox{\hyperlink{classfc_1_1vector}{vector<string>}}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00737}00737\ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>valid\_hosts.insert(aliases.begin(),\ aliases.end());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00738}00738\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00739}00739\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00740}00740\ \ \ \ \ \ \ \ \ \ tcp::resolver\ resolver(\ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().get\_io\_service());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00741}00741\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ options.count(\ \textcolor{stringliteral}{"{}http-\/server-\/address"{}}\ )\ \&\&\ options.at(\ \textcolor{stringliteral}{"{}http-\/server-\/address"{}}\ ).as<\textcolor{keywordtype}{string}>().length())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00742}00742\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ lipstr\ =\ options.at(\ \textcolor{stringliteral}{"{}http-\/server-\/address"{}}\ ).as<\textcolor{keywordtype}{string}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00743}00743\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ host\ =\ lipstr.substr(\ 0,\ lipstr.find(\ \textcolor{charliteral}{':'}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00744}00744\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ port\ =\ lipstr.substr(\ host.size()\ +\ 1,\ lipstr.size());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00745}00745\ \ \ \ \ \ \ \ \ \ \ \ \ tcp::resolver::query\ query(\ tcp::v4(),\ host.c\_str(),\ port.c\_str());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00746}00746\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00747}00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>listen\_endpoint\ =\ *resolver.resolve(\ query\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00748}00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a831cf08dc63704c11fd154132c6e8bdb}{ilog}}(\ \textcolor{stringliteral}{"{}configured\ http\ to\ listen\ on\ \$\{h\}:\$\{p\}"{}},\ (\textcolor{stringliteral}{"{}h"{}},\ host)(\ \textcolor{stringliteral}{"{}p"{}},\ port\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00749}00749\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ boost::system::system\_error\&\ ec\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00750}00750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a9e3cdbaecd5a34b42956e888f7326fad}{elog}}(\ \textcolor{stringliteral}{"{}failed\ to\ configure\ http\ to\ listen\ on\ \$\{h\}:\$\{p\}\ (\$\{m\})"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00751}00751\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}h"{}},\ host)(\ \textcolor{stringliteral}{"{}p"{}},\ port\ )(\ \textcolor{stringliteral}{"{}m"{}},\ ec.what()));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00752}00752\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00753}00753\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00754}00754\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ in\ resolved\ hosts\ and\ ports\ as\ well}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00755}00755\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (my-\/>listen\_endpoint)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00756}00756\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>add\_aliases\_for\_endpoint(*my-\/>listen\_endpoint,\ host,\ port);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00757}00757\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00758}00758\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00759}00759\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00760}00760\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ options.count(\ \textcolor{stringliteral}{"{}unix-\/socket-\/path"{}}\ )\ \&\&\ !options.at(\ \textcolor{stringliteral}{"{}unix-\/socket-\/path"{}}\ ).as<\textcolor{keywordtype}{string}>().empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00761}00761\ \ \ \ \ \ \ \ \ \ \ \ \ boost::filesystem::path\ sock\_path\ =\ options.at(\textcolor{stringliteral}{"{}unix-\/socket-\/path"{}}).as<\textcolor{keywordtype}{string}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00762}00762\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (sock\_path.is\_relative())}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00763}00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sock\_path\ =\ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a5dfd3cfb1124c57963fa17b3f4aabbe1}{data\_dir}}()\ /\ sock\_path;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00764}00764\ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_endpoint\ =\ asio::local::stream\_protocol::endpoint(sock\_path.string());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00765}00765\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00766}00766\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00767}00767\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ options.count(\ \textcolor{stringliteral}{"{}https-\/server-\/address"{}}\ )\ \&\&\ options.at(\ \textcolor{stringliteral}{"{}https-\/server-\/address"{}}\ ).as<\textcolor{keywordtype}{string}>().length())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00768}00768\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !options.count(\ \textcolor{stringliteral}{"{}https-\/certificate-\/chain-\/file"{}}\ )\ ||}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00769}00769\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ options.at(\ \textcolor{stringliteral}{"{}https-\/certificate-\/chain-\/file"{}}\ ).as<\textcolor{keywordtype}{string}>().empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00770}00770\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a9e3cdbaecd5a34b42956e888f7326fad}{elog}}(\ \textcolor{stringliteral}{"{}https-\/certificate-\/chain-\/file\ is\ required\ for\ HTTPS"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00771}00771\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00772}00772\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00773}00773\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ !options.count(\ \textcolor{stringliteral}{"{}https-\/private-\/key-\/file"{}}\ )\ ||}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00774}00774\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ options.at(\ \textcolor{stringliteral}{"{}https-\/private-\/key-\/file"{}}\ ).as<\textcolor{keywordtype}{string}>().empty())\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00775}00775\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a9e3cdbaecd5a34b42956e888f7326fad}{elog}}(\ \textcolor{stringliteral}{"{}https-\/private-\/key-\/file\ is\ required\ for\ HTTPS"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00776}00776\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00777}00777\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00778}00778\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00779}00779\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ lipstr\ =\ options.at(\ \textcolor{stringliteral}{"{}https-\/server-\/address"{}}\ ).as<\textcolor{keywordtype}{string}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00780}00780\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ host\ =\ lipstr.substr(\ 0,\ lipstr.find(\ \textcolor{charliteral}{':'}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00781}00781\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ port\ =\ lipstr.substr(\ host.size()\ +\ 1,\ lipstr.size());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00782}00782\ \ \ \ \ \ \ \ \ \ \ \ \ tcp::resolver::query\ query(\ tcp::v4(),\ host.c\_str(),\ port.c\_str());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00783}00783\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00784}00784\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_listen\_endpoint\ =\ *resolver.resolve(\ query\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00785}00785\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a831cf08dc63704c11fd154132c6e8bdb}{ilog}}(\ \textcolor{stringliteral}{"{}configured\ https\ to\ listen\ on\ \$\{h\}:\$\{p\}\ (TLS\ configuration\ will\ be\ validated\ momentarily)"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00786}00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}h"{}},\ host)(\ \textcolor{stringliteral}{"{}p"{}},\ port\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00787}00787\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_cert\_chain\ =\ options.at(\ \textcolor{stringliteral}{"{}https-\/certificate-\/chain-\/file"{}}\ ).as<\textcolor{keywordtype}{string}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00788}00788\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_key\ =\ options.at(\ \textcolor{stringliteral}{"{}https-\/private-\/key-\/file"{}}\ ).as<\textcolor{keywordtype}{string}>();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00789}00789\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ boost::system::system\_error\&\ ec\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00790}00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a9e3cdbaecd5a34b42956e888f7326fad}{elog}}(\ \textcolor{stringliteral}{"{}failed\ to\ configure\ https\ to\ listen\ on\ \$\{h\}:\$\{p\}\ (\$\{m\})"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00791}00791\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}h"{}},\ host)(\ \textcolor{stringliteral}{"{}p"{}},\ port\ )(\ \textcolor{stringliteral}{"{}m"{}},\ ec.what()));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00792}00792\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00793}00793\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00794}00794\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ in\ resolved\ hosts\ and\ ports\ as\ well}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00795}00795\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (my-\/>https\_listen\_endpoint)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00796}00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>add\_aliases\_for\_endpoint(*my-\/>https\_listen\_endpoint,\ host,\ port);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00797}00797\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00798}00798\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00799}00799\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00800}00800\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//watch\ out\ for\ the\ returns\ above\ when\ adding\ new\ code\ here}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00801}00801\ \ \ \ \ \ \ \}\ \mbox{\hyperlink{exception_8hpp_ae70bfa24f5a3bc0917382b3c17fc033c}{FC\_LOG\_AND\_RETHROW}}()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00802}00802\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00803}00803\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00804}\mbox{\hyperlink{classsysio_1_1http__plugin_ac1a2d5844cede3082aade8a1aeb798a2}{00804}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_ac1a2d5844cede3082aade8a1aeb798a2}{http\_plugin::plugin\_startup}}()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00805}00805\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00806}00806\ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin_af06f52d9b86dc41618f6392a4c0640a5}{handle\_sighup}}();\ \textcolor{comment}{//\ setup\ logging}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00807}00807\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a77aff91b861010fd61a616c59b310dcc}{post}}(\mbox{\hyperlink{structappbase_1_1priority_adab9a6659f361fc6ca6c855788b05df0}{appbase::priority::high}},\ [\textcolor{keyword}{this}]\ ()}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00808}00808\ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00809}00809\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00810}00810\ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>thread\_pool.emplace(\ \textcolor{stringliteral}{"{}http"{}},\ my-\/>thread\_pool\_size\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00811}00811\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>listen\_endpoint)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00812}00812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00813}00813\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>create\_server\_for\_endpoint(*my-\/>listen\_endpoint,\ my-\/>server);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00814}00814\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00815}00815\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}start\ listening\ for\ http\ requests"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00816}00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>server.listen(*my-\/>listen\_endpoint);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00817}00817\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>server.start\_accept();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00818}00818\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00819}00819\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}http\ service\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00820}00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00821}00821\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ std::exception\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00822}00822\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}http\ service\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00823}00823\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00824}00824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00825}00825\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}error\ thrown\ from\ http\ io\ service"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00826}00826\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00827}00827\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00828}00828\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00829}00829\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00830}00830\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>unix\_endpoint)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00831}00831\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00832}00832\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.clear\_access\_channels(\mbox{\hyperlink{structwebsocketpp_1_1log_1_1alevel_a853aa0b8976e53f3181af3bc398d493e}{websocketpp::log::alevel::all}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00833}00833\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.init\_asio(\ \&my-\/>thread\_pool-\/>get\_executor()\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00834}00834\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.set\_max\_http\_body\_size(my-\/>max\_body\_size);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00835}00835\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.listen(*my-\/>unix\_endpoint);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00836}00836\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ captures\ \`{}this`,\ my\ needs\ to\ live\ as\ long\ as\ unix\_server\ is\ handling\ requests}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00837}00837\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.set\_http\_handler([\textcolor{keyword}{this}](\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{connection\_hdl}}\ hdl)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00838}00838\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>handle\_http\_request<\mbox{\hyperlink{structsysio_1_1detail_1_1asio__local__with__stub__log}{detail::asio\_local\_with\_stub\_log}}>(\ my-\/>unix\_server.get\_con\_from\_hdl(hdl));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00839}00839\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00840}00840\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.start\_accept();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00841}00841\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00842}00842\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}unix\ socket\ service\ (\$\{path\})\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}())(\textcolor{stringliteral}{"{}path"{}},my-\/>unix\_endpoint-\/>path())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00843}00843\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00844}00844\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ std::exception\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00845}00845\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}unix\ socket\ service\ (\$\{path\})\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())(\textcolor{stringliteral}{"{}path"{}},my-\/>unix\_endpoint-\/>path())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00846}00846\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00847}00847\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00848}00848\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}error\ thrown\ from\ unix\ socket\ (\$\{path\})\ io\ service"{}},\ (\textcolor{stringliteral}{"{}path"{}},my-\/>unix\_endpoint-\/>path())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00849}00849\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00850}00850\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00851}00851\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00852}00852\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00853}00853\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>https\_listen\_endpoint)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00854}00854\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00855}00855\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>create\_server\_for\_endpoint(*my-\/>https\_listen\_endpoint,\ my-\/>https\_server);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00856}00856\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_server.set\_tls\_init\_handler([\textcolor{keyword}{this}](\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp::connection\_hdl}}\ hdl)\ -\/>\ \mbox{\hyperlink{namespacesysio_a482c265e0ce872b93783298db5232b78}{ssl\_context\_ptr}}\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00857}00857\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ my-\/>on\_tls\_init(hdl);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00858}00858\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00859}00859\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00860}00860\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}start\ listening\ for\ https\ requests"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00861}00861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_server.listen(*my-\/>https\_listen\_endpoint);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00862}00862\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ my-\/>https\_server.start\_accept();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00863}00863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00864}00864\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}https\ service\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_a7611ea8fbe25dde56649b685c2298a37}{to\_detail\_string}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00865}00865\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00866}00866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\ \textcolor{keyword}{const}\ std::exception\&\ e\ )\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00867}00867\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}https\ service\ failed\ to\ start:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.\mbox{\hyperlink{classfc_1_1exception_ab1104818bf0d9b6a29f0dfe036cf97f6}{what}}())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00868}00868\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00869}00869\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00870}00870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}error\ thrown\ from\ https\ io\ service"{}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00871}00871\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00872}00872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00873}00873\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00874}00874\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00875}00875\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin_a047b3b9b0f236e9a77a78887ea38b137}{add\_api}}(\{\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00876}00876\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string(\textcolor{stringliteral}{"{}/v1/node/get\_supported\_apis"{}}),}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00877}00877\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\&](\mbox{\hyperlink{namespacefc_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0}{string}},\ \textcolor{keywordtype}{string}\ body,\ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}}\ cb)\ \textcolor{keyword}{mutable}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00878}00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00879}00879\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (body.empty())\ body\ =\ \textcolor{stringliteral}{"{}\{\}"{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00880}00880\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ result\ =\ (*this).get\_supported\_apis();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00881}00881\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cb(200,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(result));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00882}00882\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00883}00883\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classsysio_1_1http__plugin_acd1b5b94a136fd365c3c83a6452bc892}{handle\_exception}}(\textcolor{stringliteral}{"{}node"{}},\ \textcolor{stringliteral}{"{}get\_supported\_apis"{}},\ body,\ cb);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00884}00884\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00885}00885\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00886}00886\ \ \ \ \ \ \ \ \ \ \ \ \ \}\});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00887}00887\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00888}00888\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}http\_plugin\ startup\ fails,\ shutting\ down"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00889}00889\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a116e20109f980460cf8c38e349766bcc}{shutdown}}();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00890}00890\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00891}00891\ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00892}00892\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00893}00893\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00894}\mbox{\hyperlink{classsysio_1_1http__plugin_af06f52d9b86dc41618f6392a4c0640a5}{00894}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_af06f52d9b86dc41618f6392a4c0640a5}{http\_plugin::handle\_sighup}}()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00895}00895\ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1logger_a2214632598874a4e52a5500a6346515e}{fc::logger::update}}(\ \mbox{\hyperlink{namespacesysio_ad66b67a8dd0a897a0a5b89f954fd3ade}{logger\_name}},\ \mbox{\hyperlink{classfc_1_1logger}{logger}}\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00896}00896\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00897}00897\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00898}\mbox{\hyperlink{classsysio_1_1http__plugin_a7f2532369a8f5d65475b7cbcbc9c842f}{00898}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a7f2532369a8f5d65475b7cbcbc9c842f}{http\_plugin::plugin\_shutdown}}()\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00899}00899\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>server.is\_listening())}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00900}00900\ \ \ \ \ \ \ \ \ \ my-\/>server.stop\_listening();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00901}00901\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>https\_server.is\_listening())}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00902}00902\ \ \ \ \ \ \ \ \ \ my-\/>https\_server.stop\_listening();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00903}00903\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(my-\/>unix\_server.is\_listening())}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00904}00904\ \ \ \ \ \ \ \ \ \ my-\/>unix\_server.stop\_listening();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00905}00905\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00906}00906\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ my-\/>thread\_pool\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00907}00907\ \ \ \ \ \ \ \ \ \ my-\/>thread\_pool-\/>stop();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00908}00908\ \ \ \ \ \ \ \ \ \ my-\/>thread\_pool.reset();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00909}00909\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00910}00910\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00911}00911\ \ \ \ \ \ \ \textcolor{comment}{//\ release\ http\_plugin\_impl\_ptr\ shared\_ptrs\ captured\ in\ url\ handlers}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00912}00912\ \ \ \ \ \ \ my-\/>url\_handlers.clear();}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00913}00913\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00914}00914\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceappbase_a99374dc23934f008a09f2f79be9eae40}{app}}().\mbox{\hyperlink{classappbase_1_1application_a77aff91b861010fd61a616c59b310dcc}{post}}(\ 0,\ [me\ =\ my]()\{\}\ );\ \textcolor{comment}{//\ keep\ my\ pointer\ alive\ until\ queue\ is\ drained}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00915}00915\ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}exit\ shutdown"{}});}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00916}00916\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00917}00917\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00918}\mbox{\hyperlink{classsysio_1_1http__plugin_a0bb9bb7e3217b57524b8a556ec946a6e}{00918}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a0bb9bb7e3217b57524b8a556ec946a6e}{http\_plugin::add\_handler}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{classfc_1_1url}{url}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_a99c82a51bf462442f89e68cd48f103a6}{url\_handler}}\&\ handler,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structappbase_1_1priority}{priority}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00919}00919\ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}add\ api\ url:\ \$\{c\}"{}},\ (\textcolor{stringliteral}{"{}c"{}},\ \mbox{\hyperlink{classfc_1_1url}{url}})\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00920}00920\ \ \ \ \ \ \ my-\/>url\_handlers[\mbox{\hyperlink{programs_2clio_2main_8cpp_aa03c1ef4c41f36b048cf58d5aade7653}{url}}]\ =\ my-\/>make\_app\_thread\_url\_handler(\mbox{\hyperlink{structappbase_1_1priority}{priority}},\ handler,\ my);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00921}00921\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00922}00922\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00923}\mbox{\hyperlink{classsysio_1_1http__plugin_a0d3348a2f04f70a4f4224b51d11a20d2}{00923}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a0d3348a2f04f70a4f4224b51d11a20d2}{http\_plugin::add\_async\_handler}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ \mbox{\hyperlink{classfc_1_1url}{url}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_a99c82a51bf462442f89e68cd48f103a6}{url\_handler}}\&\ handler)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00924}00924\ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_a067e87b091ade3787bcdda5775354654}{fc\_ilog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}add\ api\ url:\ \$\{c\}"{}},\ (\textcolor{stringliteral}{"{}c"{}},\ \mbox{\hyperlink{classfc_1_1url}{url}})\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00925}00925\ \ \ \ \ \ \ my-\/>url\_handlers[\mbox{\hyperlink{programs_2clio_2main_8cpp_aa03c1ef4c41f36b048cf58d5aade7653}{url}}]\ =\ my-\/>make\_http\_thread\_url\_handler(handler);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00926}00926\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00927}00927\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00928}\mbox{\hyperlink{classsysio_1_1http__plugin_acd1b5b94a136fd365c3c83a6452bc892}{00928}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1http__plugin_acd1b5b94a136fd365c3c83a6452bc892}{http\_plugin::handle\_exception}}(\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *api\_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *call\_name,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{string}\&\ body,\ \mbox{\hyperlink{namespacesysio_ababf376b47a253805b530a023df4768c}{url\_response\_callback}}\ cb\ )\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00929}00929\ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00930}00930\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00931}00931\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00932}00932\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (chain::unknown\_block\_exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00933}00933\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{400,\ \textcolor{stringliteral}{"{}Unknown\ Block"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00934}00934\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 400,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00935}00935\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (chain::invalid\_http\_request\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00936}00936\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{400,\ \textcolor{stringliteral}{"{}Invalid\ Request"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00937}00937\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 400,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00938}00938\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (chain::unsatisfied\_authorization\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00939}00939\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{401,\ \textcolor{stringliteral}{"{}UnAuthorized"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00940}00940\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 401,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00941}00941\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (chain::tx\_duplicate\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00942}00942\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{409,\ \textcolor{stringliteral}{"{}Conflict"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00943}00943\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 409,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00944}00944\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (fc::eof\_exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00945}00945\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{422,\ \textcolor{stringliteral}{"{}Unprocessable\ Entity"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00946}00946\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 422,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00947}00947\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}Unable\ to\ parse\ arguments\ to\ \$\{api\}.\$\{call\}"{}},\ (\textcolor{stringliteral}{"{}api"{}},\ api\_name)(\ \textcolor{stringliteral}{"{}call"{}},\ call\_name\ )\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00948}00948\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_af5adfcda7e0a01306256754a6511915d}{fc\_dlog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}Bad\ arguments:\ \$\{args\}"{}},\ (\textcolor{stringliteral}{"{}args"{}},\ body)\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00949}00949\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\mbox{\hyperlink{classfc_1_1exception}{fc::exception}}\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00950}00950\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{500,\ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(e,\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00951}00951\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 500,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00952}00952\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_af5adfcda7e0a01306256754a6511915d}{fc\_dlog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}Exception\ while\ processing\ \$\{api\}.\$\{call\}:\ \$\{e\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00953}00953\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}api"{}},\ api\_name)(\ \textcolor{stringliteral}{"{}call"{}},\ call\_name\ )(\textcolor{stringliteral}{"{}e"{}},\ e.to\_detail\_string())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00954}00954\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (std::exception\&\ e)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00955}00955\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{500,\ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},\ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(\mbox{\hyperlink{classfc_1_1exception}{fc::exception}}(\ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ e.what())),\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00956}00956\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 500,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00957}00957\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}STD\ Exception\ encountered\ while\ processing\ \$\{api\}.\$\{call\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00958}00958\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}api"{}},\ api\_name)(\ \textcolor{stringliteral}{"{}call"{}},\ call\_name\ )\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00959}00959\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_af5adfcda7e0a01306256754a6511915d}{fc\_dlog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}Exception\ Details:\ \$\{e\}"{}},\ (\textcolor{stringliteral}{"{}e"{}},\ e.what())\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00960}00960\ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00961}00961\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results}{error\_results}}\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\{500,\ \textcolor{stringliteral}{"{}Internal\ Service\ Error"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00962}00962\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1error__results_1_1error__info}{error\_results::error\_info}}(\mbox{\hyperlink{classfc_1_1exception}{fc::exception}}(\ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ \textcolor{stringliteral}{"{}Unknown\ Exception"{}}\ )),\ verbose\_http\_errors)\};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00963}00963\ \ \ \ \ \ \ \ \ \ \ \ \ cb(\ 500,\ \mbox{\hyperlink{classfc_1_1variant}{fc::variant}}(\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__result}{results}}\ ));}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00964}00964\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logger_8hpp_ae75bea0ceb7483fdf0ed20c22556a907}{fc\_elog}}(\ \mbox{\hyperlink{classfc_1_1logger}{logger}},\ \textcolor{stringliteral}{"{}Unknown\ Exception\ encountered\ while\ processing\ \$\{api\}.\$\{call\}"{}},}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00965}00965\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}api"{}},\ api\_name)(\ \textcolor{stringliteral}{"{}call"{}},\ call\_name\ )\ );}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00966}00966\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00967}00967\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00968}00968\ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Exception\ attempting\ to\ handle\ exception\ for\ "{}}\ <<\ api\_name\ <<\ \textcolor{stringliteral}{"{}."{}}\ <<\ call\_name\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00969}00969\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00970}00970\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00971}00971\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00972}\mbox{\hyperlink{classsysio_1_1http__plugin_a9eeea65d36a7373bfbf091c47d561edd}{00972}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a9eeea65d36a7373bfbf091c47d561edd}{http\_plugin::is\_on\_loopback}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00973}00973\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (!my-\/>listen\_endpoint\ ||\ my-\/>listen\_endpoint-\/>address().is\_loopback())\ \&\&\ (!my-\/>https\_listen\_endpoint\ ||\ my-\/>https\_listen\_endpoint-\/>address().is\_loopback());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00974}00974\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00975}00975\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00976}\mbox{\hyperlink{classsysio_1_1http__plugin_a4855095178fad7690f3f328dda133823}{00976}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a4855095178fad7690f3f328dda133823}{http\_plugin::is\_secure}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00977}00977\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (!my-\/>listen\_endpoint\ ||\ my-\/>listen\_endpoint-\/>address().is\_loopback());}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00978}00978\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00979}00979\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00980}\mbox{\hyperlink{classsysio_1_1http__plugin_a5a4ccf6f49b67c49988b6b5e3dfb84b8}{00980}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a5a4ccf6f49b67c49988b6b5e3dfb84b8}{http\_plugin::verbose\_errors}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00981}00981\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ verbose\_http\_errors;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00982}00982\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00983}00983\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00984}\mbox{\hyperlink{classsysio_1_1http__plugin_a66e3e0c1e174eeb51dd9f6a3084b05d6}{00984}}\ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin_1_1get__supported__apis__result}{http\_plugin::get\_supported\_apis\_result}}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a66e3e0c1e174eeb51dd9f6a3084b05d6}{http\_plugin::get\_supported\_apis}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00985}00985\ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1http__plugin_1_1get__supported__apis__result}{get\_supported\_apis\_result}}\ result;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00986}00986\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00987}00987\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ handler\ :\ my-\/>url\_handlers)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00988}00988\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (handler.first\ !=\ \textcolor{stringliteral}{"{}/v1/node/get\_supported\_apis"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00989}00989\ \ \ \ \ \ \ \ \ \ \ \ \ result.apis.emplace\_back(handler.first);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00990}00990\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00991}00991\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00992}00992\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00993}00993\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00994}00994\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00995}\mbox{\hyperlink{classsysio_1_1http__plugin_a9c71c16985ae48cabf1b9479c111a4e6}{00995}}\ \ \ \ \mbox{\hyperlink{classfc_1_1microseconds}{fc::microseconds}}\ \mbox{\hyperlink{classsysio_1_1http__plugin_a9c71c16985ae48cabf1b9479c111a4e6}{http\_plugin::get\_max\_response\_time}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00996}00996\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ my-\/>max\_response\_time;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00997}00997\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00998}00998\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l00999}\mbox{\hyperlink{namespacesysio_abf8736d659208d79aaf3d814d83e8c29}{00999}}\ \ \ \ std::istream\&\ \mbox{\hyperlink{namespacefc_adf88e2d042e971232a527f98764ffbfb}{operator>>}}(std::istream\&\ in,\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}\&\ curve)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01000}01000\ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01001}01001\ \ \ \ \ \ \ in\ >>\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01002}01002\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}\ ==\ \textcolor{stringliteral}{"{}secp384r1"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01003}01003\ \ \ \ \ \ \ \ \ \ curve\ =\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01004}01004\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}\ ==\ \textcolor{stringliteral}{"{}prime256v1"{}})}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01005}01005\ \ \ \ \ \ \ \ \ \ curve\ =\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0}{PRIME256V1}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01006}01006\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01007}01007\ \ \ \ \ \ \ \ \ \ in.setstate(std::ios\_base::failbit);}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01008}01008\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ in;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01009}01009\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01010}01010\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01011}\mbox{\hyperlink{namespacesysio_aec4bf865764f829e42a6ef7bf433f4fc}{01011}}\ \ \ \ std::ostream\&\ \mbox{\hyperlink{namespacefc_ac4aed50b6ace3ac8741494501f0d03a5}{operator<<}}(std::ostream\&\ osm,\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871c}{https\_ecdh\_curve\_t}}\ curve)\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01012}01012\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (curve\ ==\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871ca97d54b288dcc6afa3ca616530eaccb41}{SECP384R1}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01013}01013\ \ \ \ \ \ \ \ \ \ osm\ <<\ \textcolor{stringliteral}{"{}secp384r1"{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01014}01014\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (curve\ ==\ \mbox{\hyperlink{namespacesysio_af3c8f4690b10ff3acd52c0a0d140871cae46f05e205ada8ea9a4b5944d0c1e9f0}{PRIME256V1}})\ \{}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01015}01015\ \ \ \ \ \ \ \ \ \ osm\ <<\ \textcolor{stringliteral}{"{}prime256v1"{}};}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01016}01016\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01017}01017\ }
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01018}01018\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ osm;}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01019}01019\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{http__plugin_8cpp_source_l01020}01020\ \}}

\end{DoxyCode}
