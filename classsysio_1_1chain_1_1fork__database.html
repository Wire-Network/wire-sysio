<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::fork_database Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1chain_1_1fork__database.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classsysio_1_1chain_1_1fork__database-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::fork_database Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>manages light-weight state for all potential unconfirmed forks  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acdd97cb223a90aac537ce1cd5684d388" id="r_acdd97cb223a90aac537ce1cd5684d388"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdd97cb223a90aac537ce1cd5684d388">fork_database</a> (const <a class="el" href="classfc_1_1path.html">fc::path</a> &amp;data_dir)</td></tr>
<tr class="separator:acdd97cb223a90aac537ce1cd5684d388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb28c8778610f360516341594997fc7" id="r_a5eb28c8778610f360516341594997fc7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eb28c8778610f360516341594997fc7">~fork_database</a> ()</td></tr>
<tr class="separator:a5eb28c8778610f360516341594997fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378b089fe1ff7ac016ee51058ff52cb2" id="r_a378b089fe1ff7ac016ee51058ff52cb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a378b089fe1ff7ac016ee51058ff52cb2">open</a> (const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;validator)</td></tr>
<tr class="separator:a378b089fe1ff7ac016ee51058ff52cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d84a8db51ed89315f80a7b251a38b8e" id="r_a8d84a8db51ed89315f80a7b251a38b8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d84a8db51ed89315f80a7b251a38b8e">close</a> ()</td></tr>
<tr class="separator:a8d84a8db51ed89315f80a7b251a38b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681f9146e0afd70a0e8c0421efb0a41f" id="r_a681f9146e0afd70a0e8c0421efb0a41f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a918963c39fa6317556dca73276274e64">block_header_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a681f9146e0afd70a0e8c0421efb0a41f">get_block_header</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>) const</td></tr>
<tr class="separator:a681f9146e0afd70a0e8c0421efb0a41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9daa00e2698a868ad36853e58d3908" id="r_aee9daa00e2698a868ad36853e58d3908"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee9daa00e2698a868ad36853e58d3908">get_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>) const</td></tr>
<tr class="separator:aee9daa00e2698a868ad36853e58d3908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd3012e6d7e68e24b2f223d5be09c02" id="r_a7dd3012e6d7e68e24b2f223d5be09c02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7dd3012e6d7e68e24b2f223d5be09c02">reset</a> (const <a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> &amp;root_bhs)</td></tr>
<tr class="separator:a7dd3012e6d7e68e24b2f223d5be09c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611cc70b13dee823c43ffe99df5522d4" id="r_a611cc70b13dee823c43ffe99df5522d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a611cc70b13dee823c43ffe99df5522d4">rollback_head_to_root</a> ()</td></tr>
<tr class="separator:a611cc70b13dee823c43ffe99df5522d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae911acbc996994cb6dfd21fddfb89a45" id="r_ae911acbc996994cb6dfd21fddfb89a45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae911acbc996994cb6dfd21fddfb89a45">advance_root</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>)</td></tr>
<tr class="separator:ae911acbc996994cb6dfd21fddfb89a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cf1402b71020048ae0054e4d7c8079" id="r_a97cf1402b71020048ae0054e4d7c8079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97cf1402b71020048ae0054e4d7c8079">add</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;next_block, bool ignore_duplicate=false)</td></tr>
<tr class="separator:a97cf1402b71020048ae0054e4d7c8079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193f10ce12656c580b023d36193a5cdc" id="r_a193f10ce12656c580b023d36193a5cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a193f10ce12656c580b023d36193a5cdc">remove</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>)</td></tr>
<tr class="memdesc:a193f10ce12656c580b023d36193a5cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">fetch_branch_from_impl  <br /></td></tr>
<tr class="separator:a193f10ce12656c580b023d36193a5cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31db3526cc966f5db1046cebcfc45219" id="r_a31db3526cc966f5db1046cebcfc45219"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31db3526cc966f5db1046cebcfc45219">root</a> () const</td></tr>
<tr class="separator:a31db3526cc966f5db1046cebcfc45219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b128a7d57c262ef6351d83c16cffae3" id="r_a3b128a7d57c262ef6351d83c16cffae3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b128a7d57c262ef6351d83c16cffae3">head</a> () const</td></tr>
<tr class="separator:a3b128a7d57c262ef6351d83c16cffae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e619525d86741f3e5344b39ab91868" id="r_a16e619525d86741f3e5344b39ab91868"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16e619525d86741f3e5344b39ab91868">pending_head</a> () const</td></tr>
<tr class="separator:a16e619525d86741f3e5344b39ab91868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e51b748469f97473d120ef69e1da22" id="r_a18e51b748469f97473d120ef69e1da22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18e51b748469f97473d120ef69e1da22">fetch_branch</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;h, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> trim_after_block_num=std::numeric_limits&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;::max()) const</td></tr>
<tr class="separator:a18e51b748469f97473d120ef69e1da22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17185d8543965b7cd40066019bbf5740" id="r_a17185d8543965b7cd40066019bbf5740"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17185d8543965b7cd40066019bbf5740">search_on_branch</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;h, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_num) const</td></tr>
<tr class="separator:a17185d8543965b7cd40066019bbf5740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f152572f2703a40e9c198456fad748" id="r_a77f152572f2703a40e9c198456fad748"><td class="memItemLeft" align="right" valign="top">pair&lt; <a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a>, <a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77f152572f2703a40e9c198456fad748">fetch_branch_from</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;first, const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;second) const</td></tr>
<tr class="separator:a77f152572f2703a40e9c198456fad748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764fc46000bb93901ba6440fec07b5f9" id="r_a764fc46000bb93901ba6440fec07b5f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;h)</td></tr>
<tr class="separator:a764fc46000bb93901ba6440fec07b5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a6649b0d3a5a88f5cea9d2f467601fe24" id="r_a6649b0d3a5a88f5cea9d2f467601fe24"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6649b0d3a5a88f5cea9d2f467601fe24">magic_number</a> = 0x30510FDB</td></tr>
<tr class="separator:a6649b0d3a5a88f5cea9d2f467601fe24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849a1eb423d310b17ec5d899b48b80d7" id="r_a849a1eb423d310b17ec5d899b48b80d7"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a849a1eb423d310b17ec5d899b48b80d7">min_supported_version</a> = 1</td></tr>
<tr class="separator:a849a1eb423d310b17ec5d899b48b80d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a97bab59df6c56c06101d431f06e84" id="r_a04a97bab59df6c56c06101d431f06e84"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04a97bab59df6c56c06101d431f06e84">max_supported_version</a> = 1</td></tr>
<tr class="separator:a04a97bab59df6c56c06101d431f06e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>As new blocks are received, they are pushed into the fork database. The fork database tracks the longest chain and the last irreversible block number. All blocks older than the last irreversible block are freed after emitting the irreversible signal.</p>
<p>An internal mutex is used to provide thread-safety. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8hpp_source.html#l00022">22</a> of file <a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acdd97cb223a90aac537ce1cd5684d388" name="acdd97cb223a90aac537ce1cd5684d388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdd97cb223a90aac537ce1cd5684d388">&#9670;&#160;</a></span>fork_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::fork_database::fork_database </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1path.html">fc::path</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>data_dir</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00100">100</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>   :my( <span class="keyword">new</span> fork_database_impl( data_dir ) )</div>
<div class="line"><span class="lineno">  102</span>   {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5eb28c8778610f360516341594997fc7" name="a5eb28c8778610f360516341594997fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb28c8778610f360516341594997fc7">&#9670;&#160;</a></span>~fork_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::fork_database::~fork_database </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00259">259</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>                                 {</div>
<div class="line"><span class="lineno">  260</span>      my-&gt;close_impl();</div>
<div class="line"><span class="lineno">  261</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97cf1402b71020048ae0054e4d7c8079" name="a97cf1402b71020048ae0054e4d7c8079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97cf1402b71020048ae0054e4d7c8079">&#9670;&#160;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>next_block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>ignore_duplicate</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add block state to fork database. Must link to existing block in fork database or the root. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00385">385</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>                                                                            {</div>
<div class="line"><span class="lineno">  386</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  387</span>      my-&gt;add_impl( n, ignore_duplicate, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  388</span>                    []( <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> timestamp,</div>
<div class="line"><span class="lineno">  389</span>                        <span class="keyword">const</span> flat_set&lt;digest_type&gt;&amp; cur_features,</div>
<div class="line"><span class="lineno">  390</span>                        <span class="keyword">const</span> vector&lt;digest_type&gt;&amp; new_features )</div>
<div class="line"><span class="lineno">  391</span>                    {}</div>
<div class="line"><span class="lineno">  392</span>      );</div>
<div class="line"><span class="lineno">  393</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a11965fc424809ea1802175f8b36ae4e5"><div class="ttname"><a href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">sysio::chain::block_timestamp_type</a></div><div class="ttdeci">block_timestamp&lt; config::block_interval_ms, config::block_timestamp_epoch &gt; block_timestamp_type</div><div class="ttdef"><b>Definition</b> <a href="block__timestamp_8hpp_source.html#l00075">block_timestamp.hpp:75</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a97cf1402b71020048ae0054e4d7c8079_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a97cf1402b71020048ae0054e4d7c8079_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a97cf1402b71020048ae0054e4d7c8079_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a97cf1402b71020048ae0054e4d7c8079_icgraph">
<area shape="rect" title=" " alt="" coords="1452,72,1573,112"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1251,72,1404,112"/>
<area shape="poly" title=" " alt="" coords="1436,95,1404,95,1404,89,1436,89"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,36,566,76"/>
<area shape="poly" title=" " alt="" coords="1440,69,1374,48,1297,29,1213,14,1128,8,926,8,828,12,731,21,567,44,566,39,731,15,828,6,925,3,1129,3,1214,9,1298,24,1376,43,1441,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,150,574,191"/>
<area shape="poly" title=" " alt="" coords="1463,122,1399,154,1317,187,1224,213,1176,221,1129,224,925,224,831,221,736,212,574,189,575,184,737,207,831,215,926,219,1128,219,1176,216,1223,208,1315,182,1397,149,1461,118"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,100,1203,140"/>
<area shape="poly" title=" " alt="" coords="1236,107,1204,112,1203,107,1235,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,42,1003,83"/>
<area shape="poly" title=" " alt="" coords="1039,97,1000,86,1001,81,1040,92"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,93,803,134"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,117,803,112,1036,116"/>
<area shape="poly" title=" " alt="" coords="1036,130,575,167,574,161,1035,125"/>
<area shape="poly" title=" " alt="" coords="1019,67,1251,84,1251,89,1018,72"/>
<area shape="poly" title=" " alt="" coords="836,87,802,95,801,90,835,82"/>
<area shape="poly" title=" " alt="" coords="835,64,567,60,567,54,836,59"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,122,158,163"/>
<area shape="poly" title=" " alt="" coords="607,121,158,142,158,136,607,116"/>
<area shape="poly" title=" " alt="" coords="616,91,566,78,568,73,617,86"/>
<area shape="poly" title=" " alt="" coords="617,141,572,152,571,147,616,135"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,150,358,191"/>
<area shape="poly" title=" " alt="" coords="391,173,359,173,359,168,391,168"/>
<area shape="poly" title=" " alt="" coords="190,161,158,156,158,151,190,155"/>
</map>
</div>

</div>
</div>
<a id="ae911acbc996994cb6dfd21fddfb89a45" name="ae911acbc996994cb6dfd21fddfb89a45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae911acbc996994cb6dfd21fddfb89a45">&#9670;&#160;</a></span>advance_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::advance_root </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Advance root block forward to some other block in the tree. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00293">293</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>                                                             {</div>
<div class="line"><span class="lineno">  294</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  295</span>      my-&gt;advance_root_impl( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno">  296</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_ae911acbc996994cb6dfd21fddfb89a45_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_ae911acbc996994cb6dfd21fddfb89a45_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_ae911acbc996994cb6dfd21fddfb89a45_icgraph" id="aclasssysio_1_1chain_1_1fork__database_ae911acbc996994cb6dfd21fddfb89a45_icgraph">
<area shape="rect" title=" " alt="" coords="1452,164,1619,205"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1251,107,1404,147"/>
<area shape="poly" title=" " alt="" coords="1444,162,1403,151,1404,145,1445,157"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,120,358,161"/>
<area shape="poly" title=" " alt="" coords="1437,209,1292,233,1210,241,1129,244,711,244,658,242,605,236,501,215,408,189,335,164,337,159,410,184,502,210,606,231,659,237,711,239,1128,239,1210,236,1291,227,1436,203"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1051,164,1203,205"/>
<area shape="poly" title=" " alt="" coords="1240,155,1201,166,1200,161,1239,150"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,63,803,103"/>
<area shape="poly" title=" " alt="" coords="1235,119,1203,116,988,101,803,90,803,85,988,95,1204,111,1236,114"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,5,566,46"/>
<area shape="poly" title=" " alt="" coords="1251,104,1203,92,1025,64,848,45,689,35,566,30,567,25,689,30,848,40,1026,59,1204,87,1253,99"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="851,117,1003,158"/>
<area shape="poly" title=" " alt="" coords="1035,166,1003,158,1004,153,1036,160"/>
<area shape="poly" title=" " alt="" coords="1018,133,1251,126,1251,132,1019,138"/>
<area shape="poly" title=" " alt="" coords="835,117,794,107,796,101,836,112"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,120,574,161"/>
<area shape="poly" title=" " alt="" coords="836,141,575,142,575,137,836,136"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,92,158,133"/>
<area shape="poly" title=" " alt="" coords="607,91,158,111,158,106,607,85"/>
<area shape="poly" title=" " alt="" coords="616,61,566,48,568,43,617,56"/>
<area shape="poly" title=" " alt="" coords="617,110,572,122,571,117,616,105"/>
<area shape="poly" title=" " alt="" coords="391,143,359,143,359,138,391,138"/>
<area shape="poly" title=" " alt="" coords="190,130,158,126,158,120,190,125"/>
</map>
</div>

</div>
</div>
<a id="a8d84a8db51ed89315f80a7b251a38b8e" name="a8d84a8db51ed89315f80a7b251a38b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d84a8db51ed89315f80a7b251a38b8e">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00191">191</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                             {</div>
<div class="line"><span class="lineno">  192</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  193</span>      my-&gt;close_impl();</div>
<div class="line"><span class="lineno">  194</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a18e51b748469f97473d120ef69e1da22" name="a18e51b748469f97473d120ef69e1da22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e51b748469f97473d120ef69e1da22">&#9670;&#160;</a></span>fetch_branch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a> sysio::chain::fork_database::fetch_branch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>trim_after_block_num</em></span><span class="paramdefsep"> = </span><span class="paramdefval">std::numeric_limits&lt;<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;::max()</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the sequence of block states resulting from trimming the branch from the root block (exclusive) to the block with an id of <code>h</code> (inclusive) by removing any block states corresponding to block numbers greater than <code>trim_after_block_num</code>.</p>
<p>The order of the sequence is in descending block number order. <a class="el" href="struct_a.html">A</a> block with an id of <code>h</code> must exist in the fork database otherwise this method will throw an exception. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00418">418</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                                                                       {</div>
<div class="line"><span class="lineno">  419</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  420</span>      <span class="keywordflow">return</span> my-&gt;fetch_branch_impl( h, trim_after_block_num );</div>
<div class="line"><span class="lineno">  421</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a18e51b748469f97473d120ef69e1da22_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a18e51b748469f97473d120ef69e1da22_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a18e51b748469f97473d120ef69e1da22_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a18e51b748469f97473d120ef69e1da22_icgraph">
<area shape="rect" title=" " alt="" coords="1452,221,1616,262"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1251,113,1404,154"/>
<area shape="poly" title=" " alt="" coords="1479,216,1367,157,1370,152,1481,211"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,120,358,161"/>
<area shape="poly" title=" " alt="" coords="1436,244,1128,244,711,244,658,242,605,236,501,215,408,189,335,164,337,159,410,184,502,210,606,231,659,237,711,239,1128,239,1436,239"/>
<area shape="rect" href="structblocklog.html#ab8fb32dc3425a85102c05fe4a1c1fd62" title=" " alt="" coords="1264,280,1391,305"/>
<area shape="poly" title=" " alt="" coords="1437,268,1383,282,1382,276,1436,263"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1051,113,1203,154"/>
<area shape="poly" title=" " alt="" coords="1236,136,1204,136,1204,131,1236,131"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,63,803,103"/>
<area shape="poly" title=" " alt="" coords="1241,112,1203,104,1096,92,988,86,803,83,803,78,988,80,1096,87,1204,99,1242,107"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,5,566,46"/>
<area shape="poly" title=" " alt="" coords="1277,108,1241,91,1203,78,1116,58,1027,44,850,27,690,22,567,24,567,19,690,17,850,22,1027,38,1117,53,1204,72,1243,86,1280,103"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="851,116,1003,157"/>
<area shape="poly" title=" " alt="" coords="1035,138,1003,138,1003,133,1035,132"/>
<area shape="poly" title=" " alt="" coords="1018,158,1051,163,1127,169,1203,163,1258,152,1259,157,1204,168,1127,175,1051,168,1018,163"/>
<area shape="poly" title=" " alt="" coords="835,116,796,107,798,101,836,111"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,120,574,161"/>
<area shape="poly" title=" " alt="" coords="836,140,575,142,575,137,836,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,92,158,133"/>
<area shape="poly" title=" " alt="" coords="607,91,158,111,158,106,607,85"/>
<area shape="poly" title=" " alt="" coords="616,61,566,48,568,43,617,56"/>
<area shape="poly" title=" " alt="" coords="617,110,572,122,571,117,616,105"/>
<area shape="poly" title=" " alt="" coords="391,143,359,143,359,138,391,138"/>
<area shape="poly" title=" " alt="" coords="190,130,158,126,158,120,190,125"/>
<area shape="rect" href="programs_2sysio-blocklog_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1102,280,1152,305"/>
<area shape="poly" title=" " alt="" coords="1249,295,1152,295,1152,290,1249,290"/>
</map>
</div>

</div>
</div>
<a id="a77f152572f2703a40e9c198456fad748" name="a77f152572f2703a40e9c198456fad748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f152572f2703a40e9c198456fad748">&#9670;&#160;</a></span>fetch_branch_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; <a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a>, <a class="el" href="namespacesysio_1_1chain.html#a3b287e6c2d3717609273c999ef660dea">branch_type</a> &gt; sysio::chain::fork_database::fetch_branch_from </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>first</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>second</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Given two head blocks, return two branches of the fork graph that end with a common ancestor (same prior block) </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00451">451</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>                                                                                                          {</div>
<div class="line"><span class="lineno">  453</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  454</span>      <span class="keywordflow">return</span> my-&gt;fetch_branch_from_impl( first, second );</div>
<div class="line"><span class="lineno">  455</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a77f152572f2703a40e9c198456fad748_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a77f152572f2703a40e9c198456fad748_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a77f152572f2703a40e9c198456fad748_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a77f152572f2703a40e9c198456fad748_icgraph">
<area shape="rect" title=" " alt="" coords="851,23,1048,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,23,803,64"/>
<area shape="poly" title=" " alt="" coords="835,46,803,46,803,41,835,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,27,158,68"/>
<area shape="poly" title=" " alt="" coords="620,22,574,14,461,8,347,12,243,23,158,36,158,31,243,18,347,7,461,3,575,9,621,17"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,23,566,64"/>
<area shape="poly" title=" " alt="" coords="607,46,567,46,567,41,607,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,88,574,129"/>
<area shape="poly" title=" " alt="" coords="627,71,563,90,561,85,626,66"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,55,358,96"/>
<area shape="poly" title=" " alt="" coords="390,95,358,90,359,85,391,90"/>
<area shape="poly" title=" " alt="" coords="190,65,158,61,158,55,190,60"/>
</map>
</div>

</div>
</div>
<a id="aee9daa00e2698a868ad36853e58d3908" name="aee9daa00e2698a868ad36853e58d3908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9daa00e2698a868ad36853e58d3908">&#9670;&#160;</a></span>get_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::fork_database::get_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00568">568</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  568</span>                                                                        {</div>
<div class="line"><span class="lineno">  569</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  570</span>      <span class="keywordflow">return</span> my-&gt;get_block_impl(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  571</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_aee9daa00e2698a868ad36853e58d3908_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_aee9daa00e2698a868ad36853e58d3908_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_aee9daa00e2698a868ad36853e58d3908_icgraph" id="aclasssysio_1_1chain_1_1fork__database_aee9daa00e2698a868ad36853e58d3908_icgraph">
<area shape="rect" title=" " alt="" coords="1069,39,1214,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad5c91b7cff820c07efed35a7b3912d68" title=" " alt="" coords="851,5,1021,46"/>
<area shape="poly" title=" " alt="" coords="1053,47,1021,42,1022,37,1054,42"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="860,71,1012,111"/>
<area shape="poly" title=" " alt="" coords="1054,75,1013,82,1012,76,1053,70"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,71,803,111"/>
<area shape="poly" title=" " alt="" coords="844,94,803,94,803,88,844,88"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,75,158,115"/>
<area shape="poly" title=" " alt="" coords="620,69,574,62,461,56,347,60,243,71,158,83,158,78,243,65,347,55,461,50,575,56,621,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,71,566,111"/>
<area shape="poly" title=" " alt="" coords="607,94,567,94,567,88,607,88"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,136,574,177"/>
<area shape="poly" title=" " alt="" coords="627,119,563,138,561,133,626,114"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,103,358,143"/>
<area shape="poly" title=" " alt="" coords="390,143,358,138,359,133,391,138"/>
<area shape="poly" title=" " alt="" coords="190,113,158,108,158,103,190,108"/>
</map>
</div>

</div>
</div>
<a id="a681f9146e0afd70a0e8c0421efb0a41f" name="a681f9146e0afd70a0e8c0421efb0a41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681f9146e0afd70a0e8c0421efb0a41f">&#9670;&#160;</a></span>get_block_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a918963c39fa6317556dca73276274e64">block_header_state_ptr</a> sysio::chain::fork_database::get_block_header </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00331">331</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  331</span>                                                                                        {</div>
<div class="line"><span class="lineno">  332</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  333</span>      <span class="keywordflow">return</span> my-&gt;get_block_header_impl( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno">  334</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a681f9146e0afd70a0e8c0421efb0a41f_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a681f9146e0afd70a0e8c0421efb0a41f_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a681f9146e0afd70a0e8c0421efb0a41f_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a681f9146e0afd70a0e8c0421efb0a41f_icgraph">
<area shape="rect" title=" " alt="" coords="224,5,369,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad5c91b7cff820c07efed35a7b3912d68" title=" " alt="" coords="5,13,176,54"/>
<area shape="poly" title=" " alt="" coords="208,36,176,36,176,30,208,30"/>
</map>
</div>

</div>
</div>
<a id="a3b128a7d57c262ef6351d83c16cffae3" name="a3b128a7d57c262ef6351d83c16cffae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b128a7d57c262ef6351d83c16cffae3">&#9670;&#160;</a></span>head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::fork_database::head </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00400">400</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  400</span>                                            {</div>
<div class="line"><span class="lineno">  401</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  402</span>      <span class="keywordflow">return</span> my-&gt;head;</div>
<div class="line"><span class="lineno">  403</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a3b128a7d57c262ef6351d83c16cffae3_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a3b128a7d57c262ef6351d83c16cffae3_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a3b128a7d57c262ef6351d83c16cffae3_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a3b128a7d57c262ef6351d83c16cffae3_icgraph">
<area shape="rect" title=" " alt="" coords="1452,216,1573,257"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1251,68,1404,109"/>
<area shape="poly" title=" " alt="" coords="1485,206,1448,164,1402,124,1382,112,1384,107,1405,120,1452,160,1489,202"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,25,1003,66"/>
<area shape="poly" title=" " alt="" coords="1499,202,1485,166,1465,126,1438,88,1402,59,1354,36,1302,20,1248,12,1194,9,1091,14,1004,29,1003,24,1090,9,1194,3,1249,6,1303,15,1356,31,1405,54,1442,85,1470,123,1490,164,1504,200"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,159,158,199"/>
<area shape="poly" title=" " alt="" coords="1436,247,1294,259,1129,264,489,264,394,258,300,243,215,223,145,203,146,198,216,217,301,238,395,253,489,259,1128,259,1293,253,1436,242"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,159,358,199"/>
<area shape="poly" title=" " alt="" coords="1436,231,1293,220,1128,214,711,214,520,206,358,191,359,186,521,201,711,208,1129,208,1294,214,1436,226"/>
<area shape="rect" href="structblocklog.html#ab8fb32dc3425a85102c05fe4a1c1fd62" title=" " alt="" coords="1264,300,1391,325"/>
<area shape="poly" title=" " alt="" coords="1448,266,1362,301,1360,297,1446,261"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,133,1404,174"/>
<area shape="poly" title=" " alt="" coords="1450,212,1374,177,1376,172,1452,207"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a90da90c73cb32b5e5ec498da5e02753f" title=" " alt="" coords="1251,349,1404,390"/>
<area shape="poly" title=" " alt="" coords="1484,271,1448,306,1405,340,1385,351,1383,347,1402,336,1445,302,1481,267"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="1251,415,1404,455"/>
<area shape="poly" title=" " alt="" coords="1498,272,1462,338,1436,373,1405,404,1387,417,1384,412,1402,400,1432,369,1457,335,1494,270"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,119,1203,159"/>
<area shape="poly" title=" " alt="" coords="1237,114,1204,122,1203,117,1235,109"/>
<area shape="poly" title=" " alt="" coords="1067,114,971,69,974,64,1069,109"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,76,803,117"/>
<area shape="poly" title=" " alt="" coords="1035,132,803,108,803,103,1036,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,133,574,174"/>
<area shape="poly" title=" " alt="" coords="1035,144,575,155,575,149,1035,139"/>
<area shape="poly" title=" " alt="" coords="1019,53,1251,78,1251,83,1018,58"/>
<area shape="poly" title=" " alt="" coords="836,70,802,78,801,73,835,65"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,19,566,59"/>
<area shape="poly" title=" " alt="" coords="835,47,567,43,567,38,836,42"/>
<area shape="poly" title=" " alt="" coords="607,104,420,119,312,132,206,150,157,161,156,156,205,145,312,127,419,114,607,99"/>
<area shape="poly" title=" " alt="" coords="616,74,566,61,568,56,617,69"/>
<area shape="poly" title=" " alt="" coords="617,124,572,135,571,130,616,119"/>
<area shape="poly" title=" " alt="" coords="391,169,359,172,358,167,390,163"/>
<area shape="poly" title=" " alt="" coords="190,182,158,182,158,176,190,176"/>
<area shape="rect" href="programs_2sysio-blocklog_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="1102,300,1152,325"/>
<area shape="poly" title=" " alt="" coords="1249,315,1152,315,1152,310,1249,310"/>
<area shape="poly" title=" " alt="" coords="1236,150,1203,147,1204,142,1236,144"/>
</map>
</div>

</div>
</div>
<a id="a764fc46000bb93901ba6440fec07b5f9" name="a764fc46000bb93901ba6440fec07b5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764fc46000bb93901ba6440fec07b5f9">&#9670;&#160;</a></span>mark_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::mark_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00543">543</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  543</span>                                                            {</div>
<div class="line"><span class="lineno">  544</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  545</span>      my-&gt;mark_valid_impl( h );</div>
<div class="line"><span class="lineno">  546</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a764fc46000bb93901ba6440fec07b5f9_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a764fc46000bb93901ba6440fec07b5f9_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a764fc46000bb93901ba6440fec07b5f9_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a764fc46000bb93901ba6440fec07b5f9_icgraph">
<area shape="rect" title=" " alt="" coords="1452,65,1604,106"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1251,93,1404,134"/>
<area shape="poly" title=" " alt="" coords="1436,101,1404,105,1404,100,1436,95"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,194,1003,235"/>
<area shape="poly" title=" " alt="" coords="1478,115,1405,148,1298,178,1189,197,1087,209,1004,215,1003,210,1087,204,1188,192,1297,172,1403,143,1476,111"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,144,803,184"/>
<area shape="poly" title=" " alt="" coords="1436,85,1404,84,1247,80,1124,78,1066,81,1004,89,851,121,772,146,770,141,850,116,1003,84,1065,76,1124,73,1247,74,1404,79,1436,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,86,358,127"/>
<area shape="poly" title=" " alt="" coords="1448,63,1380,44,1301,27,1215,13,1128,8,711,8,659,10,606,16,502,37,410,63,337,88,335,83,408,58,501,32,605,11,658,5,711,3,1129,3,1215,8,1302,21,1382,39,1449,58"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,93,1203,134"/>
<area shape="poly" title=" " alt="" coords="1236,116,1204,116,1204,111,1236,111"/>
<area shape="poly" title=" " alt="" coords="1073,144,970,196,968,191,1070,139"/>
<area shape="poly" title=" " alt="" coords="1036,127,803,156,803,150,1035,122"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,86,574,127"/>
<area shape="poly" title=" " alt="" coords="1035,115,575,110,575,105,1035,110"/>
<area shape="poly" title=" " alt="" coords="1018,190,1203,143,1250,130,1252,136,1204,148,1019,195"/>
<area shape="poly" title=" " alt="" coords="835,196,801,188,802,182,836,191"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,201,566,242"/>
<area shape="poly" title=" " alt="" coords="836,219,567,223,567,218,835,213"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,116,158,156"/>
<area shape="poly" title=" " alt="" coords="607,162,158,142,158,137,607,157"/>
<area shape="poly" title=" " alt="" coords="617,191,568,204,566,199,616,186"/>
<area shape="poly" title=" " alt="" coords="616,142,571,130,572,125,617,137"/>
<area shape="poly" title=" " alt="" coords="391,109,359,109,359,104,391,104"/>
<area shape="poly" title=" " alt="" coords="191,123,158,127,158,122,190,117"/>
</map>
</div>

</div>
</div>
<a id="a378b089fe1ff7ac016ee51058ff52cb2" name="a378b089fe1ff7ac016ee51058ff52cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a378b089fe1ff7ac016ee51058ff52cb2">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::open </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;)&gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>validator</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00105">105</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>   {</div>
<div class="line"><span class="lineno">  109</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  110</span>      my-&gt;open_impl( validator );</div>
<div class="line"><span class="lineno">  111</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a378b089fe1ff7ac016ee51058ff52cb2_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a378b089fe1ff7ac016ee51058ff52cb2_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a378b089fe1ff7ac016ee51058ff52cb2_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a378b089fe1ff7ac016ee51058ff52cb2_icgraph">
<area shape="rect" title=" " alt="" coords="277,5,398,46"/>
<area shape="rect" href="structblocklog.html#ab8fb32dc3425a85102c05fe4a1c1fd62" title=" " alt="" coords="103,13,229,38"/>
<area shape="poly" title=" " alt="" coords="262,28,229,28,229,23,262,23"/>
<area shape="rect" href="programs_2sysio-blocklog_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a16e619525d86741f3e5344b39ab91868" name="a16e619525d86741f3e5344b39ab91868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e619525d86741f3e5344b39ab91868">&#9670;&#160;</a></span>pending_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::fork_database::pending_head </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00405">405</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  405</span>                                                    {</div>
<div class="line"><span class="lineno">  406</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  407</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; indx = my-&gt;index.get&lt;by_lib_block_num&gt;();</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>      <span class="keyword">auto</span> itr = indx.lower_bound( <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno">  410</span>      <span class="keywordflow">if</span>( itr != indx.end() &amp;&amp; !(*itr)-&gt;is_valid() ) {</div>
<div class="line"><span class="lineno">  411</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3">first_preferred</a>( **itr, *my-&gt;head ) )</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">return</span> *itr;</div>
<div class="line"><span class="lineno">  413</span>      }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>      <span class="keywordflow">return</span> my-&gt;head;</div>
<div class="line"><span class="lineno">  416</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4d023005b3b47d76c62beeaebc291fa3"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3">sysio::chain::first_preferred</a></div><div class="ttdeci">bool first_preferred(const block_header_state &amp;lhs, const block_header_state &amp;rhs)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00058">fork_database.cpp:58</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_cgraph" id="aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="223,5,344,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a16e619525d86741f3e5344b39ab91868_icgraph">
<area shape="rect" title=" " alt="" coords="1452,61,1621,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,172,158,212"/>
<area shape="poly" title=" " alt="" coords="1451,59,1382,42,1301,25,1215,13,1128,8,489,8,430,13,372,27,316,47,263,72,172,127,109,173,106,169,169,123,261,68,314,43,371,22,429,8,489,3,1129,3,1215,8,1302,20,1383,36,1452,54"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1251,188,1404,228"/>
<area shape="poly" title=" " alt="" coords="1490,112,1364,189,1362,185,1487,108"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,114,566,155"/>
<area shape="poly" title=" " alt="" coords="1436,94,1291,104,1129,109,926,109,731,116,567,130,566,124,731,111,925,104,1128,104,1291,99,1436,88"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,229,358,270"/>
<area shape="poly" title=" " alt="" coords="1436,74,1291,64,1128,59,711,59,622,56,552,57,519,61,486,70,449,84,407,105,370,132,339,166,314,201,296,230,292,227,309,198,335,163,367,128,405,100,447,79,484,64,518,56,552,51,622,51,711,53,1129,53,1291,59,1436,69"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1051,296,1203,336"/>
<area shape="poly" title=" " alt="" coords="1278,239,1205,280,1171,298,1168,293,1202,275,1275,234"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,194,803,235"/>
<area shape="poly" title=" " alt="" coords="1236,212,803,216,803,211,1236,206"/>
<area shape="poly" title=" " alt="" coords="1236,198,1203,195,847,163,567,142,567,137,847,157,1204,189,1236,193"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="851,249,1003,290"/>
<area shape="poly" title=" " alt="" coords="1035,297,1003,290,1004,284,1036,292"/>
<area shape="poly" title=" " alt="" coords="1018,253,1250,217,1251,222,1019,258"/>
<area shape="poly" title=" " alt="" coords="835,249,794,238,796,233,836,244"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,229,574,270"/>
<area shape="poly" title=" " alt="" coords="835,268,575,256,575,251,836,263"/>
<area shape="poly" title=" " alt="" coords="607,214,158,197,158,192,607,208"/>
<area shape="poly" title=" " alt="" coords="639,191,548,158,550,153,641,186"/>
<area shape="poly" title=" " alt="" coords="607,234,575,239,574,234,606,229"/>
<area shape="poly" title=" " alt="" coords="391,252,359,252,359,247,391,247"/>
<area shape="poly" title=" " alt="" coords="193,227,154,216,156,210,195,222"/>
</map>
</div>

</div>
</div>
<a id="a193f10ce12656c580b023d36193a5cdc" name="a193f10ce12656c580b023d36193a5cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a193f10ce12656c580b023d36193a5cdc">&#9670;&#160;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::remove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>remove all of the invalid forks built off of this id including this id </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00517">517</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  517</span>                                                       {</div>
<div class="line"><span class="lineno">  518</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  519</span>      <span class="keywordflow">return</span> my-&gt;remove_impl( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno">  520</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a193f10ce12656c580b023d36193a5cdc_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a193f10ce12656c580b023d36193a5cdc_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a193f10ce12656c580b023d36193a5cdc_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a193f10ce12656c580b023d36193a5cdc_icgraph">
<area shape="rect" title="fetch_branch_from_impl" alt="" coords="851,23,983,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,23,803,64"/>
<area shape="poly" title=" " alt="" coords="835,46,803,46,803,41,835,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,27,158,68"/>
<area shape="poly" title=" " alt="" coords="620,22,574,14,461,8,347,12,243,23,158,36,158,31,243,18,347,7,461,3,575,9,621,17"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,23,566,64"/>
<area shape="poly" title=" " alt="" coords="607,46,567,46,567,41,607,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,88,574,129"/>
<area shape="poly" title=" " alt="" coords="627,71,563,90,561,85,626,66"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,55,358,96"/>
<area shape="poly" title=" " alt="" coords="390,95,358,90,359,85,391,90"/>
<area shape="poly" title=" " alt="" coords="190,65,158,61,158,55,190,60"/>
</map>
</div>

</div>
</div>
<a id="a7dd3012e6d7e68e24b2f223d5be09c02" name="a7dd3012e6d7e68e24b2f223d5be09c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd3012e6d7e68e24b2f223d5be09c02">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::reset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>root_bhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Purges any existing blocks from the fork database and resets the root <a class="el" href="structsysio_1_1chain_1_1block__header__state.html" title="defines the minimum state necessary to validate transaction headers">block_header_state</a> to the provided value. The head will also be reset to point to the root. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00263">263</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>                                                                 {</div>
<div class="line"><span class="lineno">  264</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  265</span>      my-&gt;reset_impl(root_bhs);</div>
<div class="line"><span class="lineno">  266</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a7dd3012e6d7e68e24b2f223d5be09c02_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a7dd3012e6d7e68e24b2f223d5be09c02_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a7dd3012e6d7e68e24b2f223d5be09c02_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a7dd3012e6d7e68e24b2f223d5be09c02_icgraph">
<area shape="rect" title=" " alt="" coords="406,39,527,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,5,358,46"/>
<area shape="poly" title=" " alt="" coords="390,48,358,42,359,37,391,43"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="206,71,358,111"/>
<area shape="poly" title=" " alt="" coords="391,75,359,80,358,75,390,69"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a611cc70b13dee823c43ffe99df5522d4" name="a611cc70b13dee823c43ffe99df5522d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611cc70b13dee823c43ffe99df5522d4">&#9670;&#160;</a></span>rollback_head_to_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::fork_database::rollback_head_to_root </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes validated flag from all blocks in fork database and resets head to point to the root. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00276">276</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>                                             {</div>
<div class="line"><span class="lineno">  277</span>      std::lock_guard g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  278</span>      my-&gt;rollback_head_to_root_impl();</div>
<div class="line"><span class="lineno">  279</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a611cc70b13dee823c43ffe99df5522d4_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a611cc70b13dee823c43ffe99df5522d4_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a611cc70b13dee823c43ffe99df5522d4_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a611cc70b13dee823c43ffe99df5522d4_icgraph">
<area shape="rect" title=" " alt="" coords="206,31,340,87"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a90da90c73cb32b5e5ec498da5e02753f" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,47,158,42,159,36,191,42"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,71,158,111"/>
<area shape="poly" title=" " alt="" coords="191,75,159,81,158,76,190,70"/>
</map>
</div>

</div>
</div>
<a id="a31db3526cc966f5db1046cebcfc45219" name="a31db3526cc966f5db1046cebcfc45219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31db3526cc966f5db1046cebcfc45219">&#9670;&#160;</a></span>root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::fork_database::root </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00395">395</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  395</span>                                            {</div>
<div class="line"><span class="lineno">  396</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  397</span>      <span class="keywordflow">return</span> my-&gt;root;</div>
<div class="line"><span class="lineno">  398</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a31db3526cc966f5db1046cebcfc45219_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a31db3526cc966f5db1046cebcfc45219_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a31db3526cc966f5db1046cebcfc45219_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a31db3526cc966f5db1046cebcfc45219_icgraph">
<area shape="rect" title=" " alt="" coords="1460,186,1581,227"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8618218d7168450c383cde9860d57706" title=" " alt="" coords="1251,5,1412,61"/>
<area shape="poly" title=" " alt="" coords="1494,175,1457,129,1410,82,1385,64,1388,59,1413,78,1461,125,1498,172"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,194,158,235"/>
<area shape="poly" title=" " alt="" coords="1471,181,1411,153,1334,127,1272,112,1210,103,1128,101,489,101,437,104,385,111,284,136,195,167,127,196,124,191,193,162,282,131,384,106,437,99,489,96,1129,96,1210,98,1273,106,1335,122,1413,148,1473,176"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1255,252,1408,292"/>
<area shape="poly" title=" " alt="" coords="1446,235,1393,253,1391,248,1444,230"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,194,358,235"/>
<area shape="poly" title=" " alt="" coords="1444,192,1298,165,1213,156,1128,152,711,152,625,154,558,159,407,185,357,196,356,191,405,180,557,154,625,148,711,147,1129,147,1214,150,1299,160,1445,186"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="1051,186,1203,227"/>
<area shape="poly" title=" " alt="" coords="1444,209,1204,209,1204,204,1444,204"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a90da90c73cb32b5e5ec498da5e02753f" title=" " alt="" coords="1255,317,1408,358"/>
<area shape="poly" title=" " alt="" coords="1491,240,1456,274,1413,306,1390,319,1387,314,1410,302,1452,270,1488,236"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="1255,382,1408,423"/>
<area shape="poly" title=" " alt="" coords="1506,242,1469,307,1444,341,1413,371,1394,384,1391,379,1410,367,1440,338,1465,304,1501,240"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1051,252,1203,292"/>
<area shape="poly" title=" " alt="" coords="1240,274,1204,274,1204,269,1240,269"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,252,803,292"/>
<area shape="poly" title=" " alt="" coords="1269,301,1204,318,1105,331,1027,331,949,322,850,306,793,295,794,290,851,301,950,316,1027,325,1105,325,1203,313,1267,295"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,360,566,400"/>
<area shape="poly" title=" " alt="" coords="1265,301,1253,307,1229,324,1204,337,1118,360,1029,376,939,387,851,393,691,395,567,389,567,384,691,390,851,388,939,382,1028,371,1117,355,1202,332,1227,319,1250,303,1263,297"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="851,252,1003,292"/>
<area shape="poly" title=" " alt="" coords="1035,274,1003,274,1003,269,1035,269"/>
<area shape="poly" title=" " alt="" coords="1011,294,1051,301,1127,308,1203,301,1260,290,1261,295,1204,306,1127,313,1051,306,1010,299"/>
<area shape="poly" title=" " alt="" coords="835,274,803,274,803,269,835,269"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,194,574,235"/>
<area shape="poly" title=" " alt="" coords="839,250,802,242,683,228,574,220,575,215,684,222,803,237,840,245"/>
<area shape="poly" title=" " alt="" coords="607,275,419,270,312,262,205,249,153,238,154,233,206,244,312,257,419,265,607,270"/>
<area shape="poly" title=" " alt="" coords="657,302,535,361,533,356,654,297"/>
<area shape="poly" title=" " alt="" coords="616,250,571,238,572,233,617,245"/>
<area shape="poly" title=" " alt="" coords="391,217,359,217,359,212,391,212"/>
<area shape="poly" title=" " alt="" coords="190,217,158,217,158,212,190,212"/>
<area shape="poly" title=" " alt="" coords="1036,218,851,242,797,254,796,248,850,237,1035,212"/>
</map>
</div>

</div>
</div>
<a id="a17185d8543965b7cd40066019bbf5740" name="a17185d8543965b7cd40066019bbf5740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17185d8543965b7cd40066019bbf5740">&#9670;&#160;</a></span>search_on_branch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::fork_database::search_on_branch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>block_num</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the block state with a block number of <code>block_num</code> that is on the branch that contains a block with an id of<code>h</code>, or the empty shared pointer if no such block can be found. </p>

<p class="definition">Definition at line <a class="el" href="fork__database_8cpp_source.html#l00433">433</a> of file <a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  433</span>                                                                                                    {</div>
<div class="line"><span class="lineno">  434</span>      std::shared_lock g( my-&gt;mtx );</div>
<div class="line"><span class="lineno">  435</span>      <span class="keywordflow">return</span> my-&gt;search_on_branch_impl( h, block_num );</div>
<div class="line"><span class="lineno">  436</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1fork__database_a17185d8543965b7cd40066019bbf5740_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1fork__database_a17185d8543965b7cd40066019bbf5740_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1fork__database_a17185d8543965b7cd40066019bbf5740_icgraph" id="aclasssysio_1_1chain_1_1fork__database_a17185d8543965b7cd40066019bbf5740_icgraph">
<area shape="rect" title=" " alt="" coords="406,5,555,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,13,358,54"/>
<area shape="poly" title=" " alt="" coords="391,36,358,36,358,30,391,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6649b0d3a5a88f5cea9d2f467601fe24" name="a6649b0d3a5a88f5cea9d2f467601fe24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6649b0d3a5a88f5cea9d2f467601fe24">&#9670;&#160;</a></span>magic_number</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::fork_database::magic_number = 0x30510FDB</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8hpp_source.html#l00091">91</a> of file <a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a>.</p>

</div>
</div>
<a id="a04a97bab59df6c56c06101d431f06e84" name="a04a97bab59df6c56c06101d431f06e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a97bab59df6c56c06101d431f06e84">&#9670;&#160;</a></span>max_supported_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::fork_database::max_supported_version = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8hpp_source.html#l00094">94</a> of file <a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a>.</p>

</div>
</div>
<a id="a849a1eb423d310b17ec5d899b48b80d7" name="a849a1eb423d310b17ec5d899b48b80d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849a1eb423d310b17ec5d899b48b80d7">&#9670;&#160;</a></span>min_supported_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::fork_database::min_supported_version = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fork__database_8hpp_source.html#l00093">93</a> of file <a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/chain/include/sysio/chain/<a class="el" href="fork__database_8hpp_source.html">fork_database.hpp</a></li>
<li>libraries/chain/<a class="el" href="fork__database_8cpp_source.html">fork_database.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="classsysio_1_1chain_1_1fork__database.html">fork_database</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
