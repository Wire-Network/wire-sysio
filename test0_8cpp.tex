\doxysection{libraries/fc/libraries/ff/depends/xbyak/sample/test0.cpp File Reference}
\hypertarget{test0_8cpp}{}\label{test0_8cpp}\index{libraries/fc/libraries/ff/depends/xbyak/sample/test0.cpp@{libraries/fc/libraries/ff/depends/xbyak/sample/test0.cpp}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include "{}xbyak/xbyak.\+h"{}}\newline
Include dependency graph for test0.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{test0_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_sample}{Sample}}
\item 
class \mbox{\hyperlink{class_add_func}{Add\+Func}}
\item 
class \mbox{\hyperlink{class_call_atoi}{Call\+Atoi}}
\item 
class \mbox{\hyperlink{class_jmp_atoi}{Jmp\+Atoi}}
\item 
struct \mbox{\hyperlink{struct_reset}{Reset}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{test0_8cpp_a3ede98665532cce0e33f614fac5150f9}{XBYAK\+\_\+\+NO\+\_\+\+OP\+\_\+\+NAMES}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528}{test\+Reset}} ()
\item 
int \mbox{\hyperlink{test0_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{test0_8cpp_a3ede98665532cce0e33f614fac5150f9}\index{test0.cpp@{test0.cpp}!XBYAK\_NO\_OP\_NAMES@{XBYAK\_NO\_OP\_NAMES}}
\index{XBYAK\_NO\_OP\_NAMES@{XBYAK\_NO\_OP\_NAMES}!test0.cpp@{test0.cpp}}
\doxysubsubsection{\texorpdfstring{XBYAK\_NO\_OP\_NAMES}{XBYAK\_NO\_OP\_NAMES}}
{\footnotesize\ttfamily \label{test0_8cpp_a3ede98665532cce0e33f614fac5150f9} 
\#define XBYAK\+\_\+\+NO\+\_\+\+OP\+\_\+\+NAMES}



Definition at line \mbox{\hyperlink{test0_8cpp_source_l00010}{10}} of file \mbox{\hyperlink{test0_8cpp_source}{test0.\+cpp}}.



\doxysubsection{Function Documentation}
\Hypertarget{test0_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\index{test0.cpp@{test0.cpp}!main@{main}}
\index{main@{main}!test0.cpp@{test0.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{test0_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4} 
int main (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{test0_8cpp_source_l00136}{136}} of file \mbox{\hyperlink{test0_8cpp_source}{test0.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00137\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sample}{Sample}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}Xbyak\ version=\%s\(\backslash\)n"{}},\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}.getVersionString());}
\DoxyCodeLine{00141\ \textcolor{preprocessor}{\#ifdef\ XBYAK64\_GCC}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ puts(\textcolor{stringliteral}{"{}64bit\ mode(gcc)"{}});}
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#elif\ defined(XBYAK64\_WIN)}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ puts(\textcolor{stringliteral}{"{}64bit\ mode(win)"{}});}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ puts(\textcolor{stringliteral}{"{}32bit"{}});}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ int\ (*func)(int)\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}.getCode<int\ (*)(int)>();}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <=\ 10;\ i++)\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}0\ +\ ...\ +\ \%d\ =\ \%d\(\backslash\)n"{}},\ i,\ \mbox{\hyperlink{namespacesysio_1_1vm_aea2b0c85e98f4073b07115a97b46ae55a6b56c53a1b24e55124ff7f71bb9817d2}{func}}(i));}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 10;\ i++)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_add_func}{AddFunc}}\ \mbox{\hyperlink{pointer_8h_aeeddce917cf130d62c370b8f216026dd}{a}}(i);}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ int\ (*\mbox{\hyperlink{static__buf_8cpp_aa99823a0fc8313c9c32541ce768fb801}{add}})(int)\ =\ \mbox{\hyperlink{pointer_8h_aeeddce917cf130d62c370b8f216026dd}{a}}.get();}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespacefc_ab199a7c94624123911206db59ebe45da}{y}}\ =\ \mbox{\hyperlink{static__buf_8cpp_aa99823a0fc8313c9c32541ce768fb801}{add}}(i);}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}\%d\ +\ \%d\ =\ \%d\(\backslash\)n"{}},\ i,\ i,\ y);}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_call_atoi}{CallAtoi}}\ c;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}call\ atoi(\(\backslash\)"{}123\(\backslash\)"{})\ =\ \%d\(\backslash\)n"{}},\ c.\mbox{\hyperlink{class_call_atoi_a8a9d373a03e8800f434d7cf23c43f6bd}{get}}()(\textcolor{stringliteral}{"{}123"{}}));}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_jmp_atoi}{JmpAtoi}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a538d097420e725c4dad63c3caa9e55bd}{j}};}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}jmp\ atoi(\(\backslash\)"{}456\(\backslash\)"{})\ =\ \%d\(\backslash\)n"{}},\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a538d097420e725c4dad63c3caa9e55bd}{j}}.get()(\textcolor{stringliteral}{"{}456"{}}));}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ use\ memory\ allocated\ by\ user}}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_xbyak}{Xbyak}};}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ codeSize\ =\ 1024;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{normalize__prefix_8cpp_adde6aaee8457bee49c2a92621fe22b79}{uint8}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[codeSize\ +\ 16];}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{normalize__prefix_8cpp_adde6aaee8457bee49c2a92621fe22b79}{uint8}}\ *\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ =\ CodeArray::getAlignedAddress(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}});}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ CodeArray::protect(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ codeSize,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_sample}{Sample}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ codeSize);}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ int\ (*func)(int)\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}}.getCode<int\ (*)(int)>();}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespace_xbyak_ad60ea5f6215534109ed45a19f413a6f0}{Xbyak::CastTo<uint8*>}}(func)\ !=\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}})\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}internal\ error\ \%p\ \%p\(\backslash\)n"{}},\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ \mbox{\hyperlink{namespace_xbyak_ad60ea5f6215534109ed45a19f413a6f0}{Xbyak::CastTo<uint8*>}}(func));}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}0\ +\ ...\ +\ \%d\ =\ \%d\(\backslash\)n"{}},\ 100,\ \mbox{\hyperlink{namespacesysio_1_1vm_aea2b0c85e98f4073b07115a97b46ae55a6b56c53a1b24e55124ff7f71bb9817d2}{func}}(100));}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ CodeArray::protect(\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}},\ codeSize,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ puts(\textcolor{stringliteral}{"{}OK"{}});}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528}{testReset}}();}
\DoxyCodeLine{00180\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (std::exception\&\ e)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}ERR:\%s\(\backslash\)n"{}},\ e.what());}
\DoxyCodeLine{00182\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}unknown\ error\(\backslash\)n"{}});}
\DoxyCodeLine{00184\ \ \ \ \ \}}
\DoxyCodeLine{00185\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{test0_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph}
\end{center}
\end{figure}
\Hypertarget{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528}\index{test0.cpp@{test0.cpp}!testReset@{testReset}}
\index{testReset@{testReset}!test0.cpp@{test0.cpp}}
\doxysubsubsection{\texorpdfstring{testReset()}{testReset()}}
{\footnotesize\ttfamily \label{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528} 
void test\+Reset (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{test0_8cpp_source_l00123}{123}} of file \mbox{\hyperlink{test0_8cpp_source}{test0.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00124\ \{}
\DoxyCodeLine{00125\ \ \ \ \ puts(\textcolor{stringliteral}{"{}testReset"{}});}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{struct_reset}{Reset}}\ code;}
\DoxyCodeLine{00127\ \ \ \ \ int\ (*\mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}})(int)\ =\ code.\mbox{\hyperlink{class_xbyak_1_1_code_array_a9ad8a38842d1e0de9045338e460f58ce}{getCode}}<\textcolor{keywordtype}{int}(*)(int)>();}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 10;\ i++)\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ code.init(i);}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ v\ =\ \mbox{\hyperlink{_x02-_disabled_macros_8cpp_ae28240b98d91d6eb7da702b770490f39}{f}}(i);}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_log_a83926634a3916d0927abca4aca58a60a}{printf}}(\textcolor{stringliteral}{"{}\%d\ \%d\(\backslash\)n"{}},\ i,\ v);}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ code.reset();}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=314pt]{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=212pt]{test0_8cpp_a4b6575adc22825e48c3cabc32fbae528_icgraph}
\end{center}
\end{figure}
