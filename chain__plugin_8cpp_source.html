<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: plugins/chain_plugin/chain_plugin.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('chain__plugin_8cpp_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">chain_plugin.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="chain__plugin_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &lt;<a class="code" href="chain__plugin_8hpp.html">sysio/chain_plugin/chain_plugin.hpp</a>&gt;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &lt;<a class="code" href="trx__retry__db_8hpp.html">sysio/chain_plugin/trx_retry_db.hpp</a>&gt;</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;<a class="code" href="producer__plugin_8hpp.html">sysio/producer_plugin/producer_plugin.hpp</a>&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;<a class="code" href="fork__database_8hpp.html">sysio/chain/fork_database.hpp</a>&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;<a class="code" href="block__log_8hpp.html">sysio/chain/block_log.hpp</a>&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;<a class="code" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html">sysio/chain/exceptions.hpp</a>&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;<a class="code" href="authorization__manager_8hpp.html">sysio/chain/authorization_manager.hpp</a>&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;<a class="code" href="code__object_8hpp.html">sysio/chain/code_object.hpp</a>&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="chain_2include_2sysio_2chain_2config_8hpp.html">sysio/chain/config.hpp</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;<a class="code" href="wasm__interface_8hpp.html">sysio/chain/wasm_interface.hpp</a>&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;<a class="code" href="resource__limits_8hpp.html">sysio/chain/resource_limits.hpp</a>&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;<a class="code" href="controller_8hpp.html">sysio/chain/controller.hpp</a>&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;<a class="code" href="generated__transaction__object_8hpp.html">sysio/chain/generated_transaction_object.hpp</a>&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;<a class="code" href="snapshot_8hpp.html">sysio/chain/snapshot.hpp</a>&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;<a class="code" href="deep__mind_8hpp.html">sysio/chain/deep_mind.hpp</a>&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="trx__finality__status__processing_8hpp.html">sysio/chain_plugin/trx_finality_status_processing.hpp</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="permission__link__object_8hpp.html">sysio/chain/permission_link_object.hpp</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="sysio__contract_8hpp.html">sysio/chain/sysio_contract.hpp</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="resource__monitor__plugin_8hpp.html">sysio/resource_monitor_plugin/resource_monitor_plugin.hpp</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="environment_8hpp.html">chainbase/environment.hpp</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;boost/signals2/connection.hpp&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;boost/algorithm/string.hpp&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;boost/lexical_cast.hpp&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;boost/filesystem.hpp&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;boost/filesystem/path.hpp&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;<a class="code" href="json_8hpp.html">fc/io/json.hpp</a>&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="fc_2include_2fc_2variant_8hpp.html">fc/variant.hpp</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// reflect chainbase::environment for --print-build-info option</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><a class="code hl_define" href="reflect_8hpp.html#a3243e9d5f0a24341d7f7e64f9cd525ee">FC_REFLECT_ENUM</a>( <a class="code hl_enumeration" href="structchainbase_1_1environment.html#a5230c250a35c7d13c3c059e117c54395">chainbase::environment::os_t</a>,</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>                 (<a class="code hl_enumvalue" href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0ac3724e0358f391346c785d3450532797">OS_LINUX</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0af1b08c91685e3bc4d30e56dfd468e735">OS_MACOS</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0a8780f81c6157f670aaa1d4a0f7c15467">OS_WINDOWS</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0a3d3a12d1d170260bc66459e6437d06cb">OS_OTHER</a>) )</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><a class="code hl_define" href="reflect_8hpp.html#a3243e9d5f0a24341d7f7e64f9cd525ee">FC_REFLECT_ENUM</a>( <a class="code hl_enumeration" href="structchainbase_1_1environment.html#ad49d26e72b1a5ad85a8d2ccdc85b7fa8">chainbase::environment::arch_t</a>,</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>                 (<a class="code hl_enumvalue" href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442a0089eec22100f4609dad74f6be4ec601">ARCH_X86_64</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442aa9fb1533dda1c8184bd7fa0a3f8e88f7">ARCH_ARM</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442af63fb533173014b205e107cdd13fce75">ARCH_RISCV</a>)(<a class="code hl_enumvalue" href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442a112b29402ecb654f7f960772b5be24e8">ARCH_OTHER</a>) )</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><a class="code hl_define" href="reflect_8hpp.html#a2ace850e636b1ca0b18fe3177e413d99">FC_REFLECT</a>(<a class="code hl_struct" href="structchainbase_1_1environment.html">chainbase::environment</a>, (<a class="code hl_variable" href="environment_8hpp.html#a398527b3e9e358c345c5047b16871957">debug</a>)(<a class="code hl_variable" href="environment_8hpp.html#a3951483d0b31c29ca95336206cd35238">os</a>)(<a class="code hl_variable" href="environment_8hpp.html#aa0e431d4d0a75d1ecbdf0c31893c77aa">arch</a>)(<a class="code hl_variable" href="environment_8hpp.html#aa822d32e7e9853a2388d30a80d4449da">boost_version</a>)(<a class="code hl_variable" href="environment_8hpp.html#ada194dda0ebbfb422d370043a4bec4cf">compiler</a>) )</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">const</span> <a class="code hl_typedef" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">fc::string</a> deep_mind_logger_name(<span class="stringliteral">&quot;deep-mind&quot;</span>);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="chain__plugin_8cpp.html#a012f953b2f11a2881c400561bf10cd02">   44</a></span><a class="code hl_class" href="classsysio_1_1chain_1_1deep__mind__handler.html">sysio::chain::deep_mind_handler</a> <a class="code hl_variable" href="chain__plugin_8cpp.html#a012f953b2f11a2881c400561bf10cd02">_deep_mind_log</a>;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacesysio.html">sysio</a> {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">//declare operator&lt;&lt; and validate funciton for read_mode in the same namespace as read_mode itself</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="keyword">namespace </span>chain {</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="foldopen" id="foldopen00051" data-start="{" data-end="}">
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain.html#a236a2001d1784487280aafeb716a0f0a">   51</a></span>std::ostream&amp; <a class="code hl_function" href="namespacefc.html#ac4aed50b6ace3ac8741494501f0d03a5">operator&lt;&lt;</a>(std::ostream&amp; osm, <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">sysio::chain::db_read_mode</a> m) {</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>   <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">sysio::chain::db_read_mode::SPECULATIVE</a> ) {</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>      osm &lt;&lt; <span class="stringliteral">&quot;speculative&quot;</span>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5eae15e216fc1c639f787b1231ecdfa1bf8">sysio::chain::db_read_mode::HEAD</a> ) {</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>      osm &lt;&lt; <span class="stringliteral">&quot;head&quot;</span>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea47c7e7cb36a953a8c47e02000036bb44">sysio::chain::db_read_mode::READ_ONLY</a> ) { <span class="comment">// deprecated</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>      osm &lt;&lt; <span class="stringliteral">&quot;read-only&quot;</span>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">sysio::chain::db_read_mode::IRREVERSIBLE</a> ) {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>      osm &lt;&lt; <span class="stringliteral">&quot;irreversible&quot;</span>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>   }</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>   <span class="keywordflow">return</span> osm;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>}</div>
</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="foldopen" id="foldopen00065" data-start="{" data-end="}">
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain.html#a2392b943cefb788368ffd4afd493d06b">   65</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacesysio_1_1chain.html#aa56956ceeec88a964737228174aec6d6">validate</a>(boost::any&amp; v,</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>              <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; values,</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>              <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">sysio::chain::db_read_mode</a>* <span class="comment">/* target_type */</span>,</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>              <span class="keywordtype">int</span>)</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>{</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <span class="keyword">using namespace </span>boost::program_options;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  <span class="comment">// Make sure no previous assignment to &#39;v&#39; was made.</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>  validators::check_first_occurrence(v);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>  <span class="comment">// Extract the first string from &#39;values&#39;. If there is more than</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>  <span class="comment">// one string, it&#39;s an error, and exception will be thrown.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>  std::string <span class="keyword">const</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = validators::get_single_string(values);</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span> </div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;speculative&quot;</span> ) {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">sysio::chain::db_read_mode::SPECULATIVE</a>);</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;head&quot;</span> ) {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5eae15e216fc1c639f787b1231ecdfa1bf8">sysio::chain::db_read_mode::HEAD</a>);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;read-only&quot;</span> ) {</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea47c7e7cb36a953a8c47e02000036bb44">sysio::chain::db_read_mode::READ_ONLY</a>);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;irreversible&quot;</span> ) {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">sysio::chain::db_read_mode::IRREVERSIBLE</a>);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>     <span class="keywordflow">throw</span> validation_error(validation_error::invalid_option_value);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>  }</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>}</div>
</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="foldopen" id="foldopen00092" data-start="{" data-end="}">
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain.html#a83946e263cb83b4c0c177ef579e17405">   92</a></span>std::ostream&amp; <a class="code hl_function" href="namespacefc.html#ac4aed50b6ace3ac8741494501f0d03a5">operator&lt;&lt;</a>(std::ostream&amp; osm, <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0">sysio::chain::validation_mode</a> m) {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>   <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0aba7de5bc6888294e5884b024a4c894f1">sysio::chain::validation_mode::FULL</a> ) {</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>      osm &lt;&lt; <span class="stringliteral">&quot;full&quot;</span>;</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( m == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0af8589806bbf66241917092b2a6e18c6f">sysio::chain::validation_mode::LIGHT</a> ) {</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>      osm &lt;&lt; <span class="stringliteral">&quot;light&quot;</span>;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>   }</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>   <span class="keywordflow">return</span> osm;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>}</div>
</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="foldopen" id="foldopen00102" data-start="{" data-end="}">
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain.html#aa8eb419d6066c8830bef31674bdad2c1">  102</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacesysio_1_1chain.html#aa56956ceeec88a964737228174aec6d6">validate</a>(boost::any&amp; v,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>              <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; values,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>              <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0">sysio::chain::validation_mode</a>* <span class="comment">/* target_type */</span>,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>              <span class="keywordtype">int</span>)</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>{</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  <span class="keyword">using namespace </span>boost::program_options;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>  <span class="comment">// Make sure no previous assignment to &#39;v&#39; was made.</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  validators::check_first_occurrence(v);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <span class="comment">// Extract the first string from &#39;values&#39;. If there is more than</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <span class="comment">// one string, it&#39;s an error, and exception will be thrown.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  std::string <span class="keyword">const</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = validators::get_single_string(values);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;full&quot;</span> ) {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0aba7de5bc6888294e5884b024a4c894f1">sysio::chain::validation_mode::FULL</a>);</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <span class="stringliteral">&quot;light&quot;</span> ) {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>     v = boost::any(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0af8589806bbf66241917092b2a6e18c6f">sysio::chain::validation_mode::LIGHT</a>);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>     <span class="keywordflow">throw</span> validation_error(validation_error::invalid_option_value);</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>  }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>}</div>
</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>}</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacesysio.html">sysio</a>;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacesysio_1_1chain.html">sysio::chain</a>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacesysio_1_1chain_1_1config.html">sysio::chain::config</a>;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacesysio_1_1chain_1_1plugin__interface.html">sysio::chain::plugin_interface</a>;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">  131</a></span><span class="keyword">using </span><a class="code hl_enumeration" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">vm_type</a> = <a class="code hl_enumeration" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">wasm_interface::vm_type</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="keyword">using </span>fc::flat_map;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="keyword">using </span>boost::signals2::scoped_connection;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="foldopen" id="foldopen00136" data-start="{" data-end="};">
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html">  136</a></span><span class="keyword">class </span><a class="code hl_class" href="classsysio_1_1chain__plugin__impl.html">chain_plugin_impl</a> {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00138" data-start="{" data-end="}">
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a0c356f32d2970edfd8211f565828a5a2">  138</a></span>   <a class="code hl_function" href="classsysio_1_1chain__plugin__impl.html#a0c356f32d2970edfd8211f565828a5a2">chain_plugin_impl</a>()</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>   :<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a61bf831d5134f234803b35ce57885a86">pre_accepted_block_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::pre_accepted_block&gt;())</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aa89c83ff8d64f3d613cfd31bf40eb1a4">accepted_block_header_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::accepted_block_header&gt;())</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae02cf2c451f3e58d31fccb92e885ab82">accepted_block_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::accepted_block&gt;())</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a689ceaa521a84549d169b409af861da7">irreversible_block_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::irreversible_block&gt;())</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ac0ef462d85bd7a3a3dcdaab053ae8482">accepted_transaction_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::accepted_transaction&gt;())</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#adb419561f9ce673ffa44f7c64081314d">applied_transaction_channel</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_channel&lt;channels::applied_transaction&gt;())</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a70c415c110b6b7cba1fca287873d6c33">incoming_block_sync_method</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_method&lt;<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca">incoming</a>::methods::block_sync&gt;())</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>   ,<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad2d38cac469ec1b9ba247042346bc98a">incoming_transaction_async_method</a>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_method&lt;<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca">incoming</a>::methods::transaction_async&gt;())</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>   {}</div>
</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">  149</a></span>   bfs::path                        <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#af49f503c76b502b96de84e77b338f039">  150</a></span>   <span class="keywordtype">bool</span>                             <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#af49f503c76b502b96de84e77b338f039">readonly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">  151</a></span>   flat_map&lt;uint32_t,block_id_type&gt; <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a853b425fd97fb87e2ed5a7193152de73">  152</a></span>   <span class="keywordtype">bool</span>                             <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a853b425fd97fb87e2ed5a7193152de73">accept_transactions</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">  153</a></span>   <span class="keywordtype">bool</span>                             <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">  154</a></span>   <span class="keywordtype">bool</span>                             <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">  156</a></span>   std::optional&lt;controller::config&gt; <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">  157</a></span>   std::optional&lt;controller&gt;         <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">  158</a></span>   std::optional&lt;genesis_state&gt;      <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>   <span class="comment">//txn_msg_rate_limits              rate_limits;</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">  160</a></span>   std::optional&lt;vm_type&gt;            <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">wasm_runtime</a>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">  161</a></span>   <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>                  <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">abi_serializer_max_time_us</a>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">  162</a></span>   std::optional&lt;bfs::path&gt;          <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>   <span class="comment">// retained references to channels for easy publication</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a61bf831d5134f234803b35ce57885a86">  166</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::pre_accepted_block::channel_type</a>&amp;     <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a61bf831d5134f234803b35ce57885a86">pre_accepted_block_channel</a>;</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#aa89c83ff8d64f3d613cfd31bf40eb1a4">  167</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::accepted_block_header::channel_type</a>&amp;  <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aa89c83ff8d64f3d613cfd31bf40eb1a4">accepted_block_header_channel</a>;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ae02cf2c451f3e58d31fccb92e885ab82">  168</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::accepted_block::channel_type</a>&amp;         <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae02cf2c451f3e58d31fccb92e885ab82">accepted_block_channel</a>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a689ceaa521a84549d169b409af861da7">  169</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::irreversible_block::channel_type</a>&amp;     <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a689ceaa521a84549d169b409af861da7">irreversible_block_channel</a>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ac0ef462d85bd7a3a3dcdaab053ae8482">  170</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::accepted_transaction::channel_type</a>&amp;   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ac0ef462d85bd7a3a3dcdaab053ae8482">accepted_transaction_channel</a>;</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#adb419561f9ce673ffa44f7c64081314d">  171</a></span>   <a class="code hl_class" href="classappbase_1_1channel.html">channels::applied_transaction::channel_type</a>&amp;    <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#adb419561f9ce673ffa44f7c64081314d">applied_transaction_channel</a>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>   <span class="comment">// retained references to methods for easy calling</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a70c415c110b6b7cba1fca287873d6c33">  174</a></span>   <a class="code hl_class" href="classappbase_1_1method.html">incoming::methods::block_sync::method_type</a>&amp;        <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a70c415c110b6b7cba1fca287873d6c33">incoming_block_sync_method</a>;</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ad2d38cac469ec1b9ba247042346bc98a">  175</a></span>   <a class="code hl_class" href="classappbase_1_1method.html">incoming::methods::transaction_async::method_type</a>&amp; <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad2d38cac469ec1b9ba247042346bc98a">incoming_transaction_async_method</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>   <span class="comment">// method provider handles</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#aab9fff8f429d4faa26eca9d2b8c7cffe">  178</a></span>   methods::get_block_by_number::method_type::handle                 <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aab9fff8f429d4faa26eca9d2b8c7cffe">get_block_by_number_provider</a>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a34693f040cc059e57f0c7ee512db22d0">  179</a></span>   methods::get_block_by_id::method_type::handle                     <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a34693f040cc059e57f0c7ee512db22d0">get_block_by_id_provider</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a2a4bc682b9b8c8c43821614e75a620a8">  180</a></span>   methods::get_head_block_id::method_type::handle                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a2a4bc682b9b8c8c43821614e75a620a8">get_head_block_id_provider</a>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a27a394cc59050bf1ad4f429f2ce390c3">  181</a></span>   methods::get_last_irreversible_block_number::method_type::handle  <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a27a394cc59050bf1ad4f429f2ce390c3">get_last_irreversible_block_number_provider</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>   <span class="comment">// scoped connections for chain controller</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a940c96c232af09e555e68cc09c9197ba">  184</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a940c96c232af09e555e68cc09c9197ba">pre_accepted_block_connection</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a2ecc071f301bb00286be48618dbb55b2">  185</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a2ecc071f301bb00286be48618dbb55b2">accepted_block_header_connection</a>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a851d57f1e5c809becb941d017681eaa1">  186</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a851d57f1e5c809becb941d017681eaa1">accepted_block_connection</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ada00f0e476151434a5c37e81b0eae318">  187</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ada00f0e476151434a5c37e81b0eae318">irreversible_block_connection</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a4089653a485d4311fefe712b527cf9f4">  188</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a4089653a485d4311fefe712b527cf9f4">accepted_transaction_connection</a>;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ace66ce40411e5c320c51f9dae6f86f86">  189</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ace66ce40411e5c320c51f9dae6f86f86">applied_transaction_connection</a>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a74721a6eaab713bfae13267ac93a79d2">  190</a></span>   std::optional&lt;scoped_connection&gt;                                   <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a74721a6eaab713bfae13267ac93a79d2">block_start_connection</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">  193</a></span>   std::optional&lt;chain_apis::account_query_db&gt;                        <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">  194</a></span>   <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1producer__plugin.html">producer_plugin</a>* <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">producer_plug</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">  195</a></span>   std::optional&lt;chain_apis::trx_retry_db&gt;                            <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">  196</a></span>   <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#abb017a127233edb8335233d631e74951">chain_apis::trx_finality_status_processing_ptr</a>                     <a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>};</div>
</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="foldopen" id="foldopen00199" data-start="{" data-end="}">
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a130b4296b732c2e362bda14cb117cd59">  199</a></span><a class="code hl_function" href="classsysio_1_1chain__plugin.html#a130b4296b732c2e362bda14cb117cd59">chain_plugin::chain_plugin</a>()</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>:my(new <a class="code hl_class" href="classsysio_1_1chain__plugin__impl.html">chain_plugin_impl</a>()) {</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>   <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">register_config_type</a>&lt;<a class="code hl_enumeration" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">sysio::chain::db_read_mode</a>&gt;();</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>   <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">register_config_type</a>&lt;<a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0">sysio::chain::validation_mode</a>&gt;();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>   <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">register_config_type</a>&lt;<a class="code hl_enumeration" href="classchainbase_1_1pinnable__mapped__file.html#a7fe6684b11f441d2e971fe65166d7d5f">chainbase::pinnable_mapped_file::map_mode</a>&gt;();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>   <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">register_config_type</a>&lt;<a class="code hl_enumeration" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">sysio::chain::wasm_interface::vm_type</a>&gt;();</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>}</div>
</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a3bed4f3e96452168d9ffcfe59faeadd5">  207</a></span><a class="code hl_function" href="classsysio_1_1chain__plugin.html#a3bed4f3e96452168d9ffcfe59faeadd5">chain_plugin::~chain_plugin</a>(){}</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="foldopen" id="foldopen00209" data-start="{" data-end="}">
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#aabb3367fd38e616cedca00bac72ecb28">  209</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#aabb3367fd38e616cedca00bac72ecb28">chain_plugin::set_program_options</a>(options_description&amp; <a class="code hl_function" href="xbyak__mnemonic_8h.html#a4229a9b84f8b8673326f12bd41acd27c">cli</a>, options_description&amp; cfg)</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>{</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>   <span class="comment">// build wasm_runtime help text</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>   std::string wasm_runtime_opt = <span class="stringliteral">&quot;Override default WASM runtime (&quot;</span>;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>   std::string wasm_runtime_desc;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>   std::string delim;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_JIT_RUNTIME_ENABLED</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>   wasm_runtime_opt += <span class="stringliteral">&quot; \&quot;sys-vm-jit\&quot;&quot;</span>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>   wasm_runtime_desc += <span class="stringliteral">&quot;\&quot;sys-vm-jit\&quot; : A WebAssembly runtime that compiles WebAssembly code to native x86 code prior to execution.\n&quot;</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>   delim = <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_RUNTIME_ENABLED</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>   wasm_runtime_opt += delim + <span class="stringliteral">&quot;\&quot;sys-vm\&quot;&quot;</span>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>   wasm_runtime_desc += <span class="stringliteral">&quot;\&quot;sys-vm\&quot; : A WebAssembly interpreter.\n&quot;</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>   delim = <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_OC_DEVELOPER</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>   wasm_runtime_opt += delim + <span class="stringliteral">&quot;\&quot;sys-vm-oc\&quot;&quot;</span>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>   wasm_runtime_desc += <span class="stringliteral">&quot;\&quot;sys-vm-oc\&quot; : Unsupported. Instead, use one of the other runtimes along with the option enable-sys-vm-oc.\n&quot;</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>   wasm_runtime_opt += <span class="stringliteral">&quot;)\n&quot;</span> + wasm_runtime_desc;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>   std::string default_wasm_runtime_str= <a class="code hl_function" href="classsysio_1_1chain_1_1wasm__interface.html#a6da1804f867828c9d7333aa97b503103">sysio::chain::wasm_interface::vm_type_string</a>(sysio::chain::config::default_wasm_runtime);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>   cfg.add_options()</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>         (<span class="stringliteral">&quot;blocks-dir&quot;</span>, bpo::value&lt;bfs::path&gt;()-&gt;default_value(<span class="stringliteral">&quot;blocks&quot;</span>),</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>          <span class="stringliteral">&quot;the location of the blocks directory (absolute path or relative to application data dir)&quot;</span>)</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>         (<span class="stringliteral">&quot;protocol-features-dir&quot;</span>, bpo::value&lt;bfs::path&gt;()-&gt;default_value(<span class="stringliteral">&quot;protocol_features&quot;</span>),</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>          <span class="stringliteral">&quot;the location of the protocol_features directory (absolute path or relative to application config dir)&quot;</span>)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>         (<span class="stringliteral">&quot;checkpoint&quot;</span>, bpo::value&lt;vector&lt;string&gt;&gt;()-&gt;composing(), <span class="stringliteral">&quot;Pairs of [BLOCK_NUM,BLOCK_ID] that should be enforced as checkpoints.&quot;</span>)</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>         (<span class="stringliteral">&quot;wasm-runtime&quot;</span>, bpo::value&lt;sysio::chain::wasm_interface::vm_type&gt;()-&gt;value_name(<span class="stringliteral">&quot;runtime&quot;</span>)-&gt;notifier([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; vm){</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="preprocessor">#ifndef SYSIO_SYS_VM_OC_DEVELOPER</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            <span class="comment">//throwing an exception here (like SYS_ASSERT) is just gobbled up with a &quot;Failed to initialize&quot; error :(</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            <span class="keywordflow">if</span>(vm == wasm_interface::vm_type::eos_vm_oc) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;SYS VM OC is a tier-up compiler and works in conjunction with the configured base WASM runtime. Enable SYS VM OC via &#39;sys-vm-oc-enable&#39; option&quot;</span>);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, plugin_exception, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>         })-&gt;default_value(sysio::chain::config::default_wasm_runtime, default_wasm_runtime_str), wasm_runtime_opt.c_str()</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>         )</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>         (<span class="stringliteral">&quot;profile-account&quot;</span>, boost::program_options::value&lt;<a class="code hl_class" href="classfc_1_1vector.html">vector&lt;string&gt;</a>&gt;()-&gt;composing(),</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>          <span class="stringliteral">&quot;The name of an account whose code will be profiled&quot;</span>)</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>         (<span class="stringliteral">&quot;abi-serializer-max-time-ms&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(config::default_abi_serializer_max_time_us / 1000),</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>          <span class="stringliteral">&quot;Override default maximum ABI serialization time allowed in ms&quot;</span>)</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>         (<span class="stringliteral">&quot;chain-state-db-size-mb&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(config::default_state_size / (1024  * 1024)), <span class="stringliteral">&quot;Maximum size (in MiB) of the chain state database&quot;</span>)</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>         (<span class="stringliteral">&quot;chain-state-db-guard-size-mb&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(config::default_state_guard_size / (1024  * 1024)), <span class="stringliteral">&quot;Safely shut down node when free space remaining in the chain state database drops below this size (in MiB).&quot;</span>)</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>         (<span class="stringliteral">&quot;signature-cpu-billable-pct&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(config::default_sig_cpu_bill_pct / config::percent_1),</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>          <span class="stringliteral">&quot;Percentage of actual signature recovery cpu to bill. Whole number percentages, e.g. 50 for 50%&quot;</span>)</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>         (<span class="stringliteral">&quot;chain-threads&quot;</span>, bpo::value&lt;uint16_t&gt;()-&gt;default_value(config::default_controller_thread_pool_size),</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>          <span class="stringliteral">&quot;Number of worker threads in controller thread pool&quot;</span>)</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>         (<span class="stringliteral">&quot;contracts-console&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>          <span class="stringliteral">&quot;print contract&#39;s output to console&quot;</span>)</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>         (<span class="stringliteral">&quot;deep-mind&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>          <span class="stringliteral">&quot;print deeper information about chain operations&quot;</span>)</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>         (<span class="stringliteral">&quot;actor-whitelist&quot;</span>, boost::program_options::value&lt;<a class="code hl_class" href="classfc_1_1vector.html">vector&lt;string&gt;</a>&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>          <span class="stringliteral">&quot;Account added to actor whitelist (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>         (<span class="stringliteral">&quot;actor-blacklist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>          <span class="stringliteral">&quot;Account added to actor blacklist (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>         (<span class="stringliteral">&quot;contract-whitelist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>          <span class="stringliteral">&quot;Contract account added to contract whitelist (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>         (<span class="stringliteral">&quot;contract-blacklist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>          <span class="stringliteral">&quot;Contract account added to contract blacklist (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>         (<span class="stringliteral">&quot;action-blacklist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>          <span class="stringliteral">&quot;Action (in the form code::action) added to action blacklist (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>         (<span class="stringliteral">&quot;key-blacklist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>          <span class="stringliteral">&quot;Public key added to blacklist of keys that should not be included in authorities (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>         (<span class="stringliteral">&quot;sender-bypass-whiteblacklist&quot;</span>, boost::program_options::value&lt;vector&lt;string&gt;&gt;()-&gt;composing()-&gt;multitoken(),</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>          <span class="stringliteral">&quot;Deferred transactions sent by accounts in this list do not have any of the subjective whitelist/blacklist checks applied to them (may specify multiple times)&quot;</span>)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>         (<span class="stringliteral">&quot;read-mode&quot;</span>, boost::program_options::value&lt;sysio::chain::db_read_mode&gt;()-&gt;default_value(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">sysio::chain::db_read_mode::SPECULATIVE</a>),</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>          <span class="stringliteral">&quot;Database read mode (\&quot;speculative\&quot;, \&quot;head\&quot;, \&quot;read-only\&quot;, \&quot;irreversible\&quot;).\n&quot;</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>          <span class="stringliteral">&quot;In \&quot;speculative\&quot; mode: database contains state changes by transactions in the blockchain up to the head block as well as some transactions not yet included in the blockchain.\n&quot;</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>          <span class="stringliteral">&quot;In \&quot;head\&quot; mode: database contains state changes by only transactions in the blockchain up to the head block; transactions received by the node are relayed if valid.\n&quot;</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>          <span class="stringliteral">&quot;In \&quot;read-only\&quot; mode: (DEPRECATED: see p2p-accept-transactions &amp; api-accept-transactions) database contains state changes by only transactions in the blockchain up to the head block; transactions received via the P2P network are not relayed and transactions cannot be pushed via the chain API.\n&quot;</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>          <span class="stringliteral">&quot;In \&quot;irreversible\&quot; mode: database contains state changes by only transactions in the blockchain up to the last irreversible block; transactions received via the P2P network are not relayed and transactions cannot be pushed via the chain API.\n&quot;</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>          )</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>         ( <span class="stringliteral">&quot;api-accept-transactions&quot;</span>, bpo::value&lt;bool&gt;()-&gt;default_value(<span class="keyword">true</span>), <span class="stringliteral">&quot;Allow API transactions to be evaluated and relayed if valid.&quot;</span>)</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>         (<span class="stringliteral">&quot;validation-mode&quot;</span>, boost::program_options::value&lt;sysio::chain::validation_mode&gt;()-&gt;default_value(<a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0aba7de5bc6888294e5884b024a4c894f1">sysio::chain::validation_mode::FULL</a>),</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>          <span class="stringliteral">&quot;Chain validation mode (\&quot;full\&quot; or \&quot;light\&quot;).\n&quot;</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>          <span class="stringliteral">&quot;In \&quot;full\&quot; mode all incoming blocks will be fully validated.\n&quot;</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>          <span class="stringliteral">&quot;In \&quot;light\&quot; mode all incoming blocks headers will be fully validated; transactions in those validated blocks will be trusted \n&quot;</span>)</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>         (<span class="stringliteral">&quot;disable-ram-billing-notify-checks&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>          <span class="stringliteral">&quot;Disable the check which subjectively fails a transaction if a contract bills more RAM to another account within the context of a notification handler (i.e. when the receiver is not the code of the action).&quot;</span>)</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="preprocessor">#ifdef SYSIO_DEVELOPER</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>         (<span class="stringliteral">&quot;disable-all-subjective-mitigations&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>          <span class="stringliteral">&quot;Disable all subjective mitigations checks in the entire codebase.&quot;</span>)</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>#endif</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>         (<span class="stringliteral">&quot;maximum-variable-signature-length&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(16384u),</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>          <span class="stringliteral">&quot;Subjectively limit the maximum length of variable components in a variable legnth signature to this size in bytes&quot;</span>)</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>         (<span class="stringliteral">&quot;trusted-producer&quot;</span>, bpo::value&lt;vector&lt;string&gt;&gt;()-&gt;composing(), <span class="stringliteral">&quot;Indicate a producer whose blocks headers signed by it will be fully validated, but transactions in those validated blocks will be trusted.&quot;</span>)</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>         (<span class="stringliteral">&quot;database-map-mode&quot;</span>, bpo::value&lt;chainbase::pinnable_mapped_file::map_mode&gt;()-&gt;default_value(<a class="code hl_enumvalue" href="classchainbase_1_1pinnable__mapped__file.html#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">chainbase::pinnable_mapped_file::map_mode::mapped</a>),</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>          <span class="stringliteral">&quot;Database map mode (\&quot;mapped\&quot;, \&quot;heap\&quot;, or \&quot;locked\&quot;).\n&quot;</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>          <span class="stringliteral">&quot;In \&quot;mapped\&quot; mode database is memory mapped as a file.\n&quot;</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>          <span class="stringliteral">&quot;In \&quot;heap\&quot; mode database is preloaded in to swappable memory and will use huge pages if available.\n&quot;</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>          <span class="stringliteral">&quot;In \&quot;locked\&quot; mode database is preloaded, locked in to memory, and will use huge pages if available.\n&quot;</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>         )</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>#ifdef SYSIO_SYS_VM_OC_RUNTIME_ENABLED</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>         (<span class="stringliteral">&quot;sys-vm-oc-cache-size-mb&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(<a class="code hl_struct" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a>().cache_size / (1024u*1024u)), <span class="stringliteral">&quot;Maximum size (in MiB) of the SYS VM OC code cache&quot;</span>)</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>         (<span class="stringliteral">&quot;sys-vm-oc-compile-threads&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(1u)-&gt;notifier([](<span class="keyword">const</span> <span class="keyword">auto</span> t) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>               <span class="keywordflow">if</span>(t == 0) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                  <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;sys-vm-oc-compile-threads must be set to a non-zero value&quot;</span>);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, plugin_exception, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>               }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>         }), <span class="stringliteral">&quot;Number of threads to use for SYS VM OC tier-up&quot;</span>)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>         (<span class="stringliteral">&quot;sys-vm-oc-enable&quot;</span>, bpo::bool_switch(), <span class="stringliteral">&quot;Enable SYS VM OC tier-up runtime&quot;</span>)</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>#endif</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>         (<span class="stringliteral">&quot;enable-account-queries&quot;</span>, bpo::value&lt;bool&gt;()-&gt;default_value(<span class="keyword">false</span>), <span class="stringliteral">&quot;enable queries to find accounts by various metadata.&quot;</span>)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>         (<span class="stringliteral">&quot;max-nonprivileged-inline-action-size&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(config::default_max_nonprivileged_inline_action_size), <span class="stringliteral">&quot;maximum allowed size (in bytes) of an inline action for a nonprivileged account&quot;</span>)</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>         (<span class="stringliteral">&quot;transaction-retry-max-storage-size-gb&quot;</span>, bpo::value&lt;uint64_t&gt;(),</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>          <span class="stringliteral">&quot;Maximum size (in GiB) allowed to be allocated for the Transaction Retry feature. Setting above 0 enables this feature.&quot;</span>)</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>         (<span class="stringliteral">&quot;transaction-retry-interval-sec&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(20),</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>          <span class="stringliteral">&quot;How often, in seconds, to resend an incoming transaction to network if not seen in a block.&quot;</span>)</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>         (<span class="stringliteral">&quot;transaction-retry-max-expiration-sec&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(120),</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>          <span class="stringliteral">&quot;Maximum allowed transaction expiration for retry transactions, will retry transactions up to this value.&quot;</span>)</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>         (<span class="stringliteral">&quot;transaction-finality-status-max-storage-size-gb&quot;</span>, bpo::value&lt;uint64_t&gt;(),</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>          <span class="stringliteral">&quot;Maximum size (in GiB) allowed to be allocated for the Transaction Finality Status feature. Setting above 0 enables this feature.&quot;</span>)</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>         (<span class="stringliteral">&quot;transaction-finality-status-success-duration-sec&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(config::default_max_transaction_finality_status_success_duration_sec),</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>          <span class="stringliteral">&quot;Duration (in seconds) a successful transaction&#39;s Finality Status will remain available from being first identified.&quot;</span>)</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>         (<span class="stringliteral">&quot;transaction-finality-status-failure-duration-sec&quot;</span>, bpo::value&lt;uint64_t&gt;()-&gt;default_value(config::default_max_transaction_finality_status_failure_duration_sec),</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>          <span class="stringliteral">&quot;Duration (in seconds) a failed transaction&#39;s Finality Status will remain available from being first identified.&quot;</span>);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>   <span class="keywordflow">if</span>(<a class="code hl_function" href="classfc_1_1cfile.html#a36ffef39be181b5580952817617ccf24">cfile::supports_hole_punching</a>())</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>      cfg.add_options()(<span class="stringliteral">&quot;block-log-retain-blocks&quot;</span>, bpo::value&lt;uint32_t&gt;(), <span class="stringliteral">&quot;if set, periodically prune the block log to store only configured number of most recent blocks&quot;</span>);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment">// TODO: rate limiting</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>         <span class="comment">/*(&quot;per-authorized-account-transaction-msg-rate-limit-time-frame-sec&quot;, bpo::value&lt;uint32_t&gt;()-&gt;default_value(default_per_auth_account_time_frame_seconds),</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">          &quot;The time frame, in seconds, that the per-authorized-account-transaction-msg-rate-limit is imposed over.&quot;)</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment">         (&quot;per-authorized-account-transaction-msg-rate-limit&quot;, bpo::value&lt;uint32_t&gt;()-&gt;default_value(default_per_auth_account),</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">          &quot;Limits the maximum rate of transaction messages that an account is allowed each per-authorized-account-transaction-msg-rate-limit-time-frame-sec.&quot;)</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">          (&quot;per-code-account-transaction-msg-rate-limit-time-frame-sec&quot;, bpo::value&lt;uint32_t&gt;()-&gt;default_value(default_per_code_account_time_frame_seconds),</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="comment">           &quot;The time frame, in seconds, that the per-code-account-transaction-msg-rate-limit is imposed over.&quot;)</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">          (&quot;per-code-account-transaction-msg-rate-limit&quot;, bpo::value&lt;uint32_t&gt;()-&gt;default_value(default_per_code_account),</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">           &quot;Limits the maximum rate of transaction messages that an account&#39;s code is allowed each per-code-account-transaction-msg-rate-limit-time-frame-sec.&quot;)*/</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>   <a class="code hl_function" href="xbyak__mnemonic_8h.html#a4229a9b84f8b8673326f12bd41acd27c">cli</a>.add_options()</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>         (<span class="stringliteral">&quot;genesis-json&quot;</span>, bpo::value&lt;bfs::path&gt;(), <span class="stringliteral">&quot;File to read Genesis State from&quot;</span>)</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>         (<span class="stringliteral">&quot;genesis-timestamp&quot;</span>, bpo::value&lt;string&gt;(), <span class="stringliteral">&quot;override the initial timestamp in the Genesis State file&quot;</span>)</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>         (<span class="stringliteral">&quot;print-genesis-json&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>          <span class="stringliteral">&quot;extract genesis_state from blocks.log as JSON, print to console, and exit&quot;</span>)</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>         (<span class="stringliteral">&quot;extract-genesis-json&quot;</span>, bpo::value&lt;bfs::path&gt;(),</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>          <span class="stringliteral">&quot;extract genesis_state from blocks.log as JSON, write into specified file, and exit&quot;</span>)</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>         (<span class="stringliteral">&quot;print-build-info&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>          <span class="stringliteral">&quot;print build environment information to console as JSON and exit&quot;</span>)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>         (<span class="stringliteral">&quot;extract-build-info&quot;</span>, bpo::value&lt;bfs::path&gt;(),</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>          <span class="stringliteral">&quot;extract build environment information as JSON, write into specified file, and exit&quot;</span>)</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>         (<span class="stringliteral">&quot;force-all-checks&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>          <span class="stringliteral">&quot;do not skip any validation checks while replaying blocks (useful for replaying blocks from untrusted source)&quot;</span>)</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>         (<span class="stringliteral">&quot;disable-replay-opts&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>          <span class="stringliteral">&quot;disable optimizations that specifically target replay&quot;</span>)</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>         (<span class="stringliteral">&quot;replay-blockchain&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>          <span class="stringliteral">&quot;clear chain state database and replay all blocks&quot;</span>)</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>         (<span class="stringliteral">&quot;hard-replay-blockchain&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>          <span class="stringliteral">&quot;clear chain state database, recover as many blocks as possible from the block log, and then replay those blocks&quot;</span>)</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>         (<span class="stringliteral">&quot;delete-all-blocks&quot;</span>, bpo::bool_switch()-&gt;default_value(<span class="keyword">false</span>),</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>          <span class="stringliteral">&quot;clear chain state database and block log&quot;</span>)</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>         (<span class="stringliteral">&quot;truncate-at-block&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(0),</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>          <span class="stringliteral">&quot;stop hard replay / block log recovery at this block number (if set to non-zero number)&quot;</span>)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>         (<span class="stringliteral">&quot;terminate-at-block&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(0),</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>          <span class="stringliteral">&quot;terminate after reaching this block number (if set to a non-zero number)&quot;</span>)</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>         (<span class="stringliteral">&quot;snapshot&quot;</span>, bpo::value&lt;bfs::path&gt;(), <span class="stringliteral">&quot;File to read Snapshot State from&quot;</span>)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>         ;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>}</div>
</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span> </div>
<div class="foldopen" id="foldopen00378" data-start="" data-end="">
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno"><a class="line" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">  378</a></span><span class="preprocessor">#define LOAD_VALUE_SET(options, op_name, container) \</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="preprocessor">if( options.count(op_name) ) { \</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="preprocessor">   const std::vector&lt;std::string&gt;&amp; ops = options[op_name].as&lt;std::vector&lt;std::string&gt;&gt;(); \</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="preprocessor">   for( const auto&amp; v : ops ) { \</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="preprocessor">      container.emplace( sysio::chain::name( v ) ); \</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="preprocessor">   } \</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="preprocessor">}</span></div>
</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="foldopen" id="foldopen00386" data-start="{" data-end="}">
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno"><a class="line" href="namespacesysio.html#a23ea7ef126523715ac0dfa6881b6b7eb">  386</a></span><a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a> <a class="code hl_function" href="namespacesysio.html#a23ea7ef126523715ac0dfa6881b6b7eb">calculate_genesis_timestamp</a>( <span class="keywordtype">string</span> tstr ) {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>   <a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a> genesis_timestamp;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>   <span class="keywordflow">if</span>( strcasecmp (tstr.c_str(), <span class="stringliteral">&quot;now&quot;</span>) == 0 ) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>      genesis_timestamp = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>      genesis_timestamp = <a class="code hl_function" href="classfc_1_1time__point.html#acf917831e171906dbbbd46b17bc6e0a5">time_point::from_iso_string</a>( tstr );</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>   }</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>   <span class="keyword">auto</span> epoch_us = genesis_timestamp.<a class="code hl_function" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945">time_since_epoch</a>().<a class="code hl_function" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">count</a>();</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>   <span class="keyword">auto</span> diff_us = epoch_us % config::block_interval_us;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>   <span class="keywordflow">if</span> (diff_us &gt; 0) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>      <span class="keyword">auto</span> delay_us = (config::block_interval_us - diff_us);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>      genesis_timestamp += <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(delay_us);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>      <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;pausing ${us} microseconds to the next interval&quot;</span>,(<span class="stringliteral">&quot;us&quot;</span>,delay_us));</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>   }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span> </div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>   <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Adjusting genesis timestamp to ${timestamp}&quot;</span>, (<span class="stringliteral">&quot;timestamp&quot;</span>, genesis_timestamp) );</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>   <span class="keywordflow">return</span> genesis_timestamp;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>}</div>
</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="foldopen" id="foldopen00406" data-start="{" data-end="}">
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno"><a class="line" href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">  406</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">clear_directory_contents</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1path.html">fc::path</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>   <span class="keyword">using </span>boost::filesystem::directory_iterator;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>   <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) )</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>   <span class="keywordflow">for</span>( <a class="code hl_class" href="classfc_1_1directory__iterator.html">directory_iterator</a> enditr, itr{<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>}; itr != enditr; ++itr ) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>      <a class="code hl_function" href="namespacefc.html#a50ad24e0099358d167967f9df2e368fc">fc::remove_all</a>( itr-&gt;path() );</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>   }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>}</div>
</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="foldopen" id="foldopen00417" data-start="{" data-end="}">
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="namespacesysio.html#a735040263215e078563aaca1cfcfc39e">  417</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacesysio.html#a735040263215e078563aaca1cfcfc39e">clear_chainbase_files</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1path.html">fc::path</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>   <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) )</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>   <a class="code hl_function" href="namespacefc.html#a0db76f35dc060918029b16de918b1e84">fc::remove</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> / <span class="stringliteral">&quot;shared_memory.bin&quot;</span> );</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>   <a class="code hl_function" href="namespacefc.html#a0db76f35dc060918029b16de918b1e84">fc::remove</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> / <span class="stringliteral">&quot;shared_memory.meta&quot;</span> );</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>}</div>
</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="foldopen" id="foldopen00425" data-start="{" data-end="}">
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="namespacesysio.html#a45a53a381269130d87e80a8fb42a24c5">  425</a></span>std::optional&lt;builtin_protocol_feature&gt; <a class="code hl_function" href="namespacesysio.html#a45a53a381269130d87e80a8fb42a24c5">read_builtin_protocol_feature</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1path.html">fc::path</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>  ) {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="classfc_1_1json.html#a0b324722ac4eb4541d50ddaeed2dcb65">fc::json::from_file&lt;builtin_protocol_feature&gt;</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> );</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>   } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>      <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;problem encountered while reading &#39;${path}&#39;:\n${details}&quot;</span>,</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string())(<span class="stringliteral">&quot;details&quot;</span>,e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>   } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>      <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>( <span class="stringliteral">&quot;unknown problem encountered while reading &#39;${path}&#39;&quot;</span>,</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string()) );</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>   }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>   <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>}</div>
</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="foldopen" id="foldopen00438" data-start="{" data-end="}">
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno"><a class="line" href="namespacesysio.html#a42c982ab5630888ec8df71785a9a226c">  438</a></span><a class="code hl_class" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> <a class="code hl_function" href="namespacesysio.html#a42c982ab5630888ec8df71785a9a226c">initialize_protocol_features</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1path.html">fc::path</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, <span class="keywordtype">bool</span> populate_missing_builtins = <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>   <span class="keyword">using </span>boost::filesystem::directory_iterator;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>   <a class="code hl_class" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> pfs;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>   <span class="keywordtype">bool</span> directory_exists = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485">fc::exists</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) ) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ), plugin_exception,</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                  <span class="stringliteral">&quot;Path to protocol-features is not a directory: ${path}&quot;</span>,</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                  (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string())</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      );</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      <span class="keywordflow">if</span>( populate_missing_builtins )</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>         bfs::create_directories( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> );</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>         directory_exists = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>   }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>   <span class="keyword">auto</span> log_recognized_protocol_feature = []( <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1builtin__protocol__feature.html">builtin_protocol_feature</a>&amp; <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>&amp; feature_digest ) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.enabled ) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.preactivation_required ) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.earliest_allowed_activation_time == <a class="code hl_class" href="classfc_1_1time__point.html">time_point</a>{} ) {</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Support for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) is enabled with preactivation required&quot;</span>,</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                     (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>               );</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Support for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) is enabled with preactivation required and with an earliest allowed activation time of ${earliest_time}&quot;</span>,</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>                     (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                     (<span class="stringliteral">&quot;earliest_time&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.earliest_allowed_activation_time)</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>               );</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.earliest_allowed_activation_time == <a class="code hl_class" href="classfc_1_1time__point.html">time_point</a>{} ) {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Support for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) is enabled without activation restrictions&quot;</span>,</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                     (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>               );</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Support for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) is enabled without preactivation required but with an earliest allowed activation time of ${earliest_time}&quot;</span>,</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>                     (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>                     (<span class="stringliteral">&quot;earliest_time&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.earliest_allowed_activation_time)</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>               );</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>         }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Recognized builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) but support for it is not enabled&quot;</span>,</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>               (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>               (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>         );</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>      }</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>   };</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>   map&lt;builtin_protocol_feature_t, fc::path&gt;  found_builtin_protocol_features;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>   map&lt;digest_type, std::pair&lt;builtin_protocol_feature, bool&gt; &gt; builtin_protocol_features_to_add;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>   <span class="comment">// The bool in the pair is set to true if the builtin protocol feature has already been visited to add</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>   map&lt; builtin_protocol_feature_t, std::optional&lt;digest_type&gt; &gt; visited_builtins;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>   <span class="comment">// Read all builtin protocol features</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>   <span class="keywordflow">if</span>( directory_exists ) {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      <span class="keywordflow">for</span>( <a class="code hl_class" href="classfc_1_1directory__iterator.html">directory_iterator</a> enditr, itr{<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>}; itr != enditr; ++itr ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>         <span class="keyword">auto</span> file_path = itr-&gt;path();</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>         <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a>( file_path ) || file_path.extension().generic_string().compare( <span class="stringliteral">&quot;.json&quot;</span> ) != 0 )</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span> </div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>         <span class="keyword">auto</span> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> = <a class="code hl_function" href="namespacesysio.html#a45a53a381269130d87e80a8fb42a24c5">read_builtin_protocol_feature</a>( file_path );</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span> </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>         <span class="keywordflow">if</span>( !<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>         <span class="keyword">auto</span> res = found_builtin_protocol_features.emplace( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>-&gt;get_codename(), file_path );</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span> </div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( res.second, plugin_exception,</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>                     <span class="stringliteral">&quot;Builtin protocol feature &#39;${codename}&#39; was already included from a previous_file&quot;</span>,</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                     (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>-&gt;get_codename()))</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                     (<span class="stringliteral">&quot;current_file&quot;</span>, file_path.generic_string())</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                     (<span class="stringliteral">&quot;previous_file&quot;</span>, res.first-&gt;second.generic_string())</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>         );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>         <span class="keyword">const</span> <span class="keyword">auto</span> feature_digest = <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>-&gt;digest();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>         builtin_protocol_features_to_add.emplace( std::piecewise_construct,</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                                                   std::forward_as_tuple( feature_digest ),</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                                                   std::forward_as_tuple( *<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>      }</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>   }</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>   <span class="comment">// Add builtin protocol features to the protocol feature manager in the right order (to satisfy dependencies)</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>   <span class="keyword">using </span>itr_type = map&lt;digest_type, std::pair&lt;builtin_protocol_feature, bool&gt;&gt;::iterator;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>   std::function&lt;void(<span class="keyword">const</span> itr_type&amp;)&gt; add_protocol_feature =</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>   [&amp;pfs, &amp;builtin_protocol_features_to_add, &amp;visited_builtins, &amp;log_recognized_protocol_feature, &amp;add_protocol_feature]( <span class="keyword">const</span> itr_type&amp; itr ) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      <span class="keywordflow">if</span>( itr-&gt;second.second ) {</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>         itr-&gt;second.second = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>         visited_builtins.emplace( itr-&gt;second.first.get_codename(), itr-&gt;first );</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>      }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>      <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> : itr-&gt;second.first.dependencies ) {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>         <span class="keyword">auto</span> itr2 = builtin_protocol_features_to_add.find( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> );</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>         <span class="keywordflow">if</span>( itr2 != builtin_protocol_features_to_add.end() ) {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            add_protocol_feature( itr2 );</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>         }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>      }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>      pfs.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__set.html#ad1172cf546f8fb4439de8f99f7edb6de">add_feature</a>( itr-&gt;second.first );</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span> </div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>      log_recognized_protocol_feature( itr-&gt;second.first, itr-&gt;first );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>   };</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>   <span class="keywordflow">for</span>( <span class="keyword">auto</span> itr = builtin_protocol_features_to_add.begin(); itr != builtin_protocol_features_to_add.end(); ++itr ) {</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>      add_protocol_feature( itr );</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>   }</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span> </div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>   <span class="keyword">auto</span> output_protocol_feature = [&amp;<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>]( <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1builtin__protocol__feature.html">builtin_protocol_feature</a>&amp; <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>&amp; feature_digest ) {</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>      <span class="keywordtype">string</span> filename( <span class="stringliteral">&quot;BUILTIN-&quot;</span> );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>      filename += <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename() );</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>      filename += <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>      <span class="keyword">auto</span> file_path = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> / filename;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_function" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485">fc::exists</a>( file_path ), plugin_exception,</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                  <span class="stringliteral">&quot;Could not save builtin protocol feature with codename &#39;${codename}&#39; because a file at the following path already exists: ${path}&quot;</span>,</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                  (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename() ))</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                  (<span class="stringliteral">&quot;path&quot;</span>, file_path.generic_string())</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>      );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>      <span class="keywordflow">if</span>( <a class="code hl_function" href="classfc_1_1json.html#a7d6bb8dc49fecafcf96688c5202b22e5">fc::json::save_to_file</a>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, file_path ) ) {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Saved default specification for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) to: ${path}&quot;</span>,</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>               (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>               (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>               (<span class="stringliteral">&quot;path&quot;</span>, file_path.generic_string())</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>         );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>         <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;Error occurred while writing default specification for builtin protocol feature &#39;${codename}&#39; (with digest of &#39;${digest}&#39;) to: ${path}&quot;</span>,</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>               (<span class="stringliteral">&quot;codename&quot;</span>, <a class="code hl_function" href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">builtin_protocol_feature_codename</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.get_codename()))</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>               (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>               (<span class="stringliteral">&quot;path&quot;</span>, file_path.generic_string())</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>         );</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>      }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>   };</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>   std::function&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a>(<a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a>)&gt; add_missing_builtins =</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>   [&amp;pfs, &amp;visited_builtins, &amp;output_protocol_feature, &amp;log_recognized_protocol_feature, &amp;add_missing_builtins, populate_missing_builtins]</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>   ( <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> codename ) -&gt; <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a> {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>      <span class="keyword">auto</span> res = visited_builtins.emplace( codename, std::optional&lt;digest_type&gt;() );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>      <span class="keywordflow">if</span>( !res.second ) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( res.first-&gt;second, protocol_feature_exception,</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                     <span class="stringliteral">&quot;invariant failure: cycle found in builtin protocol feature dependencies&quot;</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>         );</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>         <span class="keywordflow">return</span> *res.first-&gt;second;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>      }</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>      <span class="keyword">auto</span> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> = <a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__set.html#a28fd3d1ca28469695ff90b0ef03bb601">protocol_feature_set::make_default_builtin_protocol_feature</a>( codename,</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>      [&amp;add_missing_builtins]( <a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> ) {</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>         <span class="keywordflow">return</span> add_missing_builtins( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> );</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>      } );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>      <span class="keywordflow">if</span>( !populate_missing_builtins )</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>         <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.subjective_restrictions.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pf = pfs.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__set.html#ad1172cf546f8fb4439de8f99f7edb6de">add_feature</a>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> );</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>      res.first-&gt;second = pf.<a class="code hl_variable" href="structsysio_1_1chain_1_1protocol__feature.html#a4743db595022a0f1782a03d306458d2b">feature_digest</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>      log_recognized_protocol_feature( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, pf.feature_digest );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span> </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>      <span class="keywordflow">if</span>( populate_missing_builtins )</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>         output_protocol_feature( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, pf.feature_digest );</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span> </div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>      <span class="keywordflow">return</span> pf.feature_digest;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>   };</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>   <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> : <a class="code hl_variable" href="namespacesysio_1_1chain.html#a0375f528818d520a3504da1020ff1d28">builtin_protocol_feature_codenames</a> ) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>      <span class="keyword">auto</span> itr = found_builtin_protocol_features.find( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.first );</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>      <span class="keywordflow">if</span>( itr != found_builtin_protocol_features.end() ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>      add_missing_builtins( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.first );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>   }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>   <span class="keywordflow">return</span> pfs;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>}</div>
</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>  <span class="comment">// This can be removed when versions of sysio that support reversible chainbase state file no longer supported.</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  <span class="keywordtype">void</span> upgrade_from_reversible_to_fork_db(<a class="code hl_class" href="classsysio_1_1chain__plugin__impl.html">chain_plugin_impl</a>* my) {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>     <span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceboost_1_1filesystem.html">bfs</a> = <a class="code hl_namespace" href="namespaceboost_1_1filesystem.html">boost::filesystem</a>;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>     bfs::path old_fork_db = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir / config::forkdb_filename;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>     bfs::path new_fork_db = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / config::reversible_blocks_dir_name / config::forkdb_filename;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>     <span class="keywordflow">if</span>( bfs::exists( old_fork_db ) &amp;&amp; bfs::is_regular_file( old_fork_db ) ) {</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <span class="keywordtype">bool</span> copy_file = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordflow">if</span>( bfs::exists( new_fork_db ) &amp;&amp; bfs::is_regular_file( new_fork_db ) ) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>           <span class="keywordflow">if</span>( bfs::last_write_time( old_fork_db ) &gt; bfs::last_write_time( new_fork_db ) ) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>              copy_file = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>           }</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>           copy_file = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>           bfs::create_directories( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / config::reversible_blocks_dir_name );</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="keywordflow">if</span>( copy_file ) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>           <a class="code hl_function" href="namespacefc.html#a067b275100894b82b6cf3aa85e804ea5">fc::rename</a>( old_fork_db, new_fork_db );</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>           <a class="code hl_function" href="namespacefc.html#a0db76f35dc060918029b16de918b1e84">fc::remove</a>( old_fork_db );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>     }</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  }</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>}</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="keywordtype">void</span></div>
<div class="foldopen" id="foldopen00648" data-start="{" data-end="}">
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a408e8154def42cdb8be9832b602e0046">  648</a></span><a class="code hl_function" href="classsysio_1_1chain__plugin.html#a408e8154def42cdb8be9832b602e0046">chain_plugin::do_hard_replay</a>(<span class="keyword">const</span> variables_map&amp; options) {</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Hard replay requested: deleting state database&quot;</span> );</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>         <a class="code hl_function" href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">clear_directory_contents</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir );</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>         <span class="keyword">auto</span> backup_dir = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a28d7828f2ef978077453c8b0f97f5c04">block_log::repair_log</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a>, options.at( <span class="stringliteral">&quot;truncate-at-block&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;(), config::reversible_blocks_dir_name);</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>}</div>
</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="foldopen" id="foldopen00654" data-start="{" data-end="}">
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca">  654</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca">chain_plugin::plugin_initialize</a>(<span class="keyword">const</span> variables_map&amp; options) {</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>   <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;initializing chain plugin&quot;</span>);</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>         <a class="code hl_struct" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> gs; <span class="comment">// Check if SYSIO_ROOT_KEY is bad</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; ) {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>         <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;SYSIO_ROOT_KEY (&#39;${root_key}&#39;) is invalid. Recompile with a valid public key.&quot;</span>,</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>               (<span class="stringliteral">&quot;root_key&quot;</span>, <a class="code hl_variable" href="structsysio_1_1chain_1_1genesis__state.html#a477c82e4e1b6c19c35f3550f1a61f99b">genesis_state::sysio_root_key</a>));</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>      }</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a> = <a class="code hl_struct" href="structsysio_1_1chain_1_1controller_1_1config.html">controller::config</a>();</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span> </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>      <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;print-build-info&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;() || options.count( <span class="stringliteral">&quot;extract-build-info&quot;</span>) ) {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>         <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;print-build-info&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;() ) {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Build environment JSON:\n${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, <a class="code hl_function" href="classfc_1_1json.html#ae6c022ab581a9552ae2c97ff5d73aaf8">json::to_pretty_string</a>( <a class="code hl_struct" href="structchainbase_1_1environment.html">chainbase::environment</a>() )) );</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>         }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;extract-build-info&quot;</span>) ) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            <span class="keyword">auto</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = options.at( <span class="stringliteral">&quot;extract-build-info&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span> </div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.is_relative()) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>               <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = bfs::current_path() / <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="classfc_1_1json.html#a7d6bb8dc49fecafcf96688c5202b22e5">fc::json::save_to_file</a>( <a class="code hl_struct" href="structchainbase_1_1environment.html">chainbase::environment</a>(), <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, <span class="keyword">true</span> ), misc_exception,</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                        <span class="stringliteral">&quot;Error occurred while writing build info JSON to &#39;${path}&#39;&quot;</span>,</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                        (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string())</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>            );</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Saved build info JSON to &#39;${path}&#39;&quot;</span>, (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string()) );</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>         }</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span> </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( node_management_success, <span class="stringliteral">&quot;reported build environment information&quot;</span> );</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>      }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;sender-bypass-whiteblacklist&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sender_bypass_whiteblacklist );</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;actor-whitelist&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;actor_whitelist );</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;actor-blacklist&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;actor_blacklist );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;contract-whitelist&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;contract_whitelist );</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;contract-blacklist&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;contract_blacklist );</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;trusted-producer&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;trusted_producers );</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span> </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;action-blacklist&quot;</span> )) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>         <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; acts = options[<span class="stringliteral">&quot;action-blacklist&quot;</span>].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>         <span class="keyword">auto</span>&amp; list = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;action_blacklist;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> : acts ) {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            <span class="keyword">auto</span> pos = <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.find( <span class="stringliteral">&quot;::&quot;</span> );</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( pos != std::string::npos, plugin_config_exception, <span class="stringliteral">&quot;Invalid entry in action-blacklist: &#39;${a}&#39;&quot;</span>, (<span class="stringliteral">&quot;a&quot;</span>, <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>));</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">account_name</a> code( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.substr( 0, pos ));</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>            <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a> act( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.substr( pos + 2 ));</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            list.emplace( code, act );</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>         }</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>      }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span> </div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;key-blacklist&quot;</span> )) {</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>         <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; keys = options[<span class="stringliteral">&quot;key-blacklist&quot;</span>].as&lt;std::vector&lt;std::string&gt;&gt;();</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>         <span class="keyword">auto</span>&amp; list = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;key_blacklist;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; key_str : keys ) {</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>            list.emplace( key_str );</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>         }</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>      }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;blocks-dir&quot;</span> )) {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>         <span class="keyword">auto</span> bld = options.at( <span class="stringliteral">&quot;blocks-dir&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>         <span class="keywordflow">if</span>( bld.is_relative())</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a5dfd3cfb1124c57963fa17b3f4aabbe1">data_dir</a>() / bld;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>         <span class="keywordflow">else</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> = bld;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>      }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>      <a class="code hl_class" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> pfs;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>      {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>         <a class="code hl_class" href="classfc_1_1path.html">fc::path</a> protocol_features_dir;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>         <span class="keyword">auto</span> pfd = options.at( <span class="stringliteral">&quot;protocol-features-dir&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>         <span class="keywordflow">if</span>( pfd.is_relative())</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            protocol_features_dir = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a9b2c99749c7209e218a3dbbe51cfdeac">config_dir</a>() / pfd;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>         <span class="keywordflow">else</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            protocol_features_dir = pfd;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>         pfs = <a class="code hl_function" href="namespacesysio.html#a42c982ab5630888ec8df71785a9a226c">initialize_protocol_features</a>( protocol_features_dir );</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>      }</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span> </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>      <span class="keywordflow">if</span>( options.count(<span class="stringliteral">&quot;checkpoint&quot;</span>) ) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>         <span class="keyword">auto</span> cps = options.at(<span class="stringliteral">&quot;checkpoint&quot;</span>).as&lt;<a class="code hl_class" href="classfc_1_1vector.html">vector&lt;string&gt;</a>&gt;();</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>.reserve(cps.size());</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; cp : cps ) {</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="keyword">auto</span> item = <a class="code hl_function" href="classfc_1_1json.html#afad69f9f9c2a9f0105aae99f532f90cb">fc::json::from_string</a>(cp).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;std::pair&lt;uint32_t,block_id_type&gt;&gt;();</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keyword">auto</span> itr = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>.find(item.first);</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <span class="keywordflow">if</span>( itr != my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>.end() ) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( itr-&gt;second == item.second,</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>                           plugin_config_exception,</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                          <span class="stringliteral">&quot;redefining existing checkpoint at block number ${num}: original: ${orig} new: ${new}&quot;</span>,</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                          (<span class="stringliteral">&quot;num&quot;</span>, item.first)(<span class="stringliteral">&quot;orig&quot;</span>, itr-&gt;second)(<span class="stringliteral">&quot;new&quot;</span>, item.second)</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>               );</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>[item.first] = item.second;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            }</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>         }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>      }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span> </div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;wasm-runtime&quot;</span> ))</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">wasm_runtime</a> = options.at( <span class="stringliteral">&quot;wasm-runtime&quot;</span> ).as&lt;<a class="code hl_enumeration" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">vm_type</a>&gt;();</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>      <a class="code hl_define" href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a>( options, <span class="stringliteral">&quot;profile-account&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;profile_accounts );</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>      <span class="keywordflow">if</span>(options.count(<span class="stringliteral">&quot;abi-serializer-max-time-ms&quot;</span>))</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">abi_serializer_max_time_us</a> = <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(options.at(<span class="stringliteral">&quot;abi-serializer-max-time-ms&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;() * 1000);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span> </div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;blocks_dir = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a>;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a5dfd3cfb1124c57963fa17b3f4aabbe1">data_dir</a>() / config::default_state_dir_name;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_only = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#af49f503c76b502b96de84e77b338f039">readonly</a>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> resmon_plugin = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().find_plugin&lt;resource_monitor_plugin&gt;()) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        resmon_plugin-&gt;monitor_directory(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;blocks_dir);</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        resmon_plugin-&gt;monitor_directory(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir);</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>      }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;chain-state-db-size-mb&quot;</span> ))</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_size = options.at( <span class="stringliteral">&quot;chain-state-db-size-mb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;() * 1024 * 1024;</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;chain-state-db-guard-size-mb&quot;</span> ))</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_guard_size = options.at( <span class="stringliteral">&quot;chain-state-db-guard-size-mb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;() * 1024 * 1024;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;max-nonprivileged-inline-action-size&quot;</span> ))</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;max_nonprivileged_inline_action_size = options.at( <span class="stringliteral">&quot;max-nonprivileged-inline-action-size&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;transaction-finality-status-max-storage-size-gb&quot;</span> )) {</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> max_storage_size = options.at( <span class="stringliteral">&quot;transaction-finality-status-max-storage-size-gb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;() * 1024 * 1024 * 1024;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>         <span class="keywordflow">if</span> (max_storage_size &gt; 0) {</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>            <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> success_duration = <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(options.at( <span class="stringliteral">&quot;transaction-finality-status-success-duration-sec&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;());</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> failure_duration = <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(options.at( <span class="stringliteral">&quot;transaction-finality-status-failure-duration-sec&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;());</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>.reset(</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>               <span class="keyword">new</span> <a class="code hl_class" href="classsysio_1_1chain__apis_1_1trx__finality__status__processing.html">chain_apis::trx_finality_status_processing</a>(max_storage_size, success_duration, failure_duration));</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>         }</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>      }</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;chain-threads&quot;</span> )) {</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;thread_pool_size = options.at( <span class="stringliteral">&quot;chain-threads&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&gt;();</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;thread_pool_size &gt; 0, plugin_config_exception,</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                     <span class="stringliteral">&quot;chain-threads ${num} must be greater than 0&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;thread_pool_size) );</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>      }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span> </div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sig_cpu_bill_pct = options.at(<span class="stringliteral">&quot;signature-cpu-billable-pct&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sig_cpu_bill_pct &gt;= 0 &amp;&amp; my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sig_cpu_bill_pct &lt;= 100, plugin_config_exception,</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                  <span class="stringliteral">&quot;signature-cpu-billable-pct must be 0 - 100, ${pct}&quot;</span>, (<span class="stringliteral">&quot;pct&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sig_cpu_bill_pct) );</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;sig_cpu_bill_pct *= config::percent_1;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span> </div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>      <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">wasm_runtime</a> )</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;wasm_runtime = *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">wasm_runtime</a>;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span> </div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;force_all_checks = options.at( <span class="stringliteral">&quot;force-all-checks&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;disable_replay_opts = options.at( <span class="stringliteral">&quot;disable-replay-opts&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;contracts_console = options.at( <span class="stringliteral">&quot;contracts-console&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;allow_ram_billing_in_notify = options.at( <span class="stringliteral">&quot;disable-ram-billing-notify-checks&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span> </div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span><span class="preprocessor">#ifdef SYSIO_DEVELOPER</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;disable_all_subjective_mitigations = options.at( <span class="stringliteral">&quot;disable-all-subjective-mitigations&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;maximum_variable_signature_length = options.at( <span class="stringliteral">&quot;maximum-variable-signature-length&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;terminate-at-block&quot;</span> ))</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;terminate_at_block = options.at( <span class="stringliteral">&quot;terminate-at-block&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span> </div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;extract-genesis-json&quot;</span> ) || options.at( <span class="stringliteral">&quot;print-genesis-json&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;()) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>         std::optional&lt;genesis_state&gt; gs;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485">fc::exists</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / <span class="stringliteral">&quot;blocks.log&quot;</span> )) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>            gs = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a0c03de4dfe3908668418da4620af63e3">block_log::extract_genesis_state</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> );</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( gs,</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                        plugin_config_exception,</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>                        <span class="stringliteral">&quot;Block log at &#39;${path}&#39; does not contain a genesis state, it only has the chain-id.&quot;</span>,</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                        (<span class="stringliteral">&quot;path&quot;</span>, (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / <span class="stringliteral">&quot;blocks.log&quot;</span>).generic_string())</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;No blocks.log found at &#39;${p}&#39;. Using default genesis state.&quot;</span>,</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                  (<span class="stringliteral">&quot;p&quot;</span>, (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / <span class="stringliteral">&quot;blocks.log&quot;</span>).generic_string()));</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            gs.emplace();</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>         }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>         <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;print-genesis-json&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;()) {</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Genesis JSON:\n${genesis}&quot;</span>, (<span class="stringliteral">&quot;genesis&quot;</span>, <a class="code hl_function" href="classfc_1_1json.html#ae6c022ab581a9552ae2c97ff5d73aaf8">json::to_pretty_string</a>( *gs )));</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>         }</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span> </div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;extract-genesis-json&quot;</span> )) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            <span class="keyword">auto</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = options.at( <span class="stringliteral">&quot;extract-genesis-json&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span> </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.is_relative()) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>               <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = bfs::current_path() / <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            }</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span> </div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="classfc_1_1json.html#a7d6bb8dc49fecafcf96688c5202b22e5">fc::json::save_to_file</a>( *gs, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, <span class="keyword">true</span> ),</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                        misc_exception,</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                        <span class="stringliteral">&quot;Error occurred while writing genesis JSON to &#39;${path}&#39;&quot;</span>,</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                        (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string())</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            );</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span> </div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Saved genesis JSON to &#39;${path}&#39;&quot;</span>, (<span class="stringliteral">&quot;path&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.generic_string()) );</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>         }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( extract_genesis_state_exception, <span class="stringliteral">&quot;extracted genesis state from blocks.log&quot;</span> );</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span> </div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>      <span class="comment">// move fork_db to new location</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>      upgrade_from_reversible_to_fork_db( my.get() );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>      <span class="keywordflow">if</span>(options.count( <span class="stringliteral">&quot;block-log-retain-blocks&quot;</span> )) {</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;prune_config.emplace();</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;prune_config-&gt;prune_blocks = options.at( <span class="stringliteral">&quot;block-log-retain-blocks&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;prune_config-&gt;prune_blocks, plugin_config_exception, <span class="stringliteral">&quot;block-log-retain-blocks cannot be 0&quot;</span>);</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>      }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span> </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>      <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;delete-all-blocks&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;()) {</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Deleting state database and blocks&quot;</span> );</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>         <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;truncate-at-block&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;() &gt; 0 )</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;The --truncate-at-block option does not make sense when deleting all blocks.&quot;</span> );</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>         <a class="code hl_function" href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">clear_directory_contents</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir );</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>         <a class="code hl_function" href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">clear_directory_contents</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;hard-replay-blockchain&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;()) {</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>         <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a408e8154def42cdb8be9832b602e0046">do_hard_replay</a>(options);</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;replay-blockchain&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;()) {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Replay requested: deleting state database&quot;</span> );</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>         <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;truncate-at-block&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;() &gt; 0 )</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;The --truncate-at-block option does not work for a regular replay of the blockchain.&quot;</span> );</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>         <a class="code hl_function" href="namespacesysio.html#a735040263215e078563aaca1cfcfc39e">clear_chainbase_files</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir );</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( options.at( <span class="stringliteral">&quot;truncate-at-block&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;() &gt; 0 ) {</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;The --truncate-at-block option can only be used with --hard-replay-blockchain.&quot;</span> );</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>      }</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span> </div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>      std::optional&lt;chain_id_type&gt; chain_id;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>      <span class="keywordflow">if</span> (options.count( <span class="stringliteral">&quot;snapshot&quot;</span> )) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a> = options.at( <span class="stringliteral">&quot;snapshot&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485">fc::exists</a>(*my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>), plugin_config_exception,</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                     <span class="stringliteral">&quot;Cannot load snapshot, ${name} does not exist&quot;</span>, (<span class="stringliteral">&quot;name&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>-&gt;generic_string()) );</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>         <span class="comment">// recover genesis information from the snapshot</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>         <span class="comment">// used for validation code below</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>         <span class="keyword">auto</span> infile = std::ifstream(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>-&gt;generic_string(), (std::ios::in | std::ios::binary));</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>         <a class="code hl_class" href="classsysio_1_1chain_1_1istream__snapshot__reader.html">istream_snapshot_reader</a> reader(infile);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>         reader.<a class="code hl_function" href="classsysio_1_1chain_1_1istream__snapshot__reader.html#a9fc0f95f59a1f10b6b3f73867df394a4">validate</a>();</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>         chain_id = <a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a2c8b0888cae831840ac03980e206c874">controller::extract_chain_id</a>(reader);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>         infile.close();</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span> </div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( options.count( <span class="stringliteral">&quot;genesis-timestamp&quot;</span> ) == 0,</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>                 plugin_config_exception,</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>                 <span class="stringliteral">&quot;--snapshot is incompatible with --genesis-timestamp as the snapshot contains genesis information&quot;</span>);</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( options.count( <span class="stringliteral">&quot;genesis-json&quot;</span> ) == 0,</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                     plugin_config_exception,</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                     <span class="stringliteral">&quot;--snapshot is incompatible with --genesis-json as the snapshot contains genesis information&quot;</span>);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span> </div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>         <span class="keyword">auto</span> shared_mem_path = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir / <span class="stringliteral">&quot;shared_memory.bin&quot;</span>;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_function" href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a>(shared_mem_path),</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                 plugin_config_exception,</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>                 <span class="stringliteral">&quot;Snapshot can only be used to initialize an empty database.&quot;</span> );</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / <span class="stringliteral">&quot;blocks.log&quot;</span> )) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            <span class="keyword">auto</span> block_log_genesis = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a0c03de4dfe3908668418da4620af63e3">block_log::extract_genesis_state</a>(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a>);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>            <span class="keywordflow">if</span>( block_log_genesis ) {</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; block_log_chain_id = block_log_genesis-&gt;compute_chain_id();</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( *chain_id == block_log_chain_id,</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                           plugin_config_exception,</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                           <span class="stringliteral">&quot;snapshot chain ID (${snapshot_chain_id}) does not match the chain ID from the genesis state in the block log (${block_log_chain_id})&quot;</span>,</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                           (<span class="stringliteral">&quot;snapshot_chain_id&quot;</span>,  *chain_id)</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>                           (<span class="stringliteral">&quot;block_log_chain_id&quot;</span>, block_log_chain_id)</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>               );</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; block_log_chain_id = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ad17bd0904611f780b5d49ad14b363208">block_log::extract_chain_id</a>(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a>);</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( *chain_id == block_log_chain_id,</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>                           plugin_config_exception,</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>                           <span class="stringliteral">&quot;snapshot chain ID (${snapshot_chain_id}) does not match the chain ID (${block_log_chain_id}) in the block log&quot;</span>,</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                           (<span class="stringliteral">&quot;snapshot_chain_id&quot;</span>,  *chain_id)</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                           (<span class="stringliteral">&quot;block_log_chain_id&quot;</span>, block_log_chain_id)</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>               );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>            }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>         }</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span> </div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>         chain_id = <a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a1fba60b779aae78110279aeda9aae351">controller::extract_chain_id_from_db</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;state_dir );</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span> </div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>         std::optional&lt;genesis_state&gt; block_log_genesis;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>         std::optional&lt;chain_id_type&gt; block_log_chain_id;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span> </div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> / <span class="stringliteral">&quot;blocks.log&quot;</span> ) ) {</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>            block_log_genesis = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a0c03de4dfe3908668418da4620af63e3">block_log::extract_genesis_state</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> );</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>            <span class="keywordflow">if</span>( block_log_genesis ) {</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>               block_log_chain_id = block_log_genesis-&gt;compute_chain_id();</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>               block_log_chain_id = <a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ad17bd0904611f780b5d49ad14b363208">block_log::extract_chain_id</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">blocks_dir</a> );</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>            }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <span class="keywordflow">if</span>( chain_id ) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( *block_log_chain_id == *chain_id, block_log_exception,</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>                           <span class="stringliteral">&quot;Chain ID in blocks.log (${block_log_chain_id}) does not match the existing &quot;</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>                           <span class="stringliteral">&quot; chain ID in state (${state_chain_id}).&quot;</span>,</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>                           (<span class="stringliteral">&quot;block_log_chain_id&quot;</span>, *block_log_chain_id)</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>                           (<span class="stringliteral">&quot;state_chain_id&quot;</span>, *chain_id)</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>               );</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( block_log_genesis ) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Starting fresh blockchain state using genesis state extracted from blocks.log.&quot;</span> );</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a> = block_log_genesis;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>               <span class="comment">// Delay setting chain_id until later so that the code handling genesis-json below can know</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>               <span class="comment">// that chain_id still only represents a chain ID extracted from the state (assuming it exists).</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            }</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>         }</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span> </div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>         <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;genesis-json&quot;</span> ) ) {</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            bfs::path genesis_file = options.at( <span class="stringliteral">&quot;genesis-json&quot;</span> ).as&lt;bfs::path&gt;();</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <span class="keywordflow">if</span>( genesis_file.is_relative()) {</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>               genesis_file = bfs::current_path() / genesis_file;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>            }</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_function" href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a>( genesis_file ),</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                        plugin_config_exception,</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                       <span class="stringliteral">&quot;Specified genesis file &#39;${genesis}&#39; does not exist.&quot;</span>,</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                       (<span class="stringliteral">&quot;genesis&quot;</span>, genesis_file.generic_string()));</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span> </div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>            <a class="code hl_struct" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> provided_genesis = <a class="code hl_function" href="classfc_1_1json.html#a0b324722ac4eb4541d50ddaeed2dcb65">fc::json::from_file</a>( genesis_file ).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<a class="code hl_struct" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a>&gt;();</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>            <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;genesis-timestamp&quot;</span> ) ) {</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>               provided_genesis.<a class="code hl_variable" href="structsysio_1_1chain_1_1genesis__state.html#aa5ee7b68f2765bb346d9ef34cb4d93cc">initial_timestamp</a> = <a class="code hl_function" href="namespacesysio.html#a23ea7ef126523715ac0dfa6881b6b7eb">calculate_genesis_timestamp</a>( options.at( <span class="stringliteral">&quot;genesis-timestamp&quot;</span> ).as&lt;<span class="keywordtype">string</span>&gt;() );</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Using genesis state provided in &#39;${genesis}&#39; but with adjusted genesis timestamp&quot;</span>,</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                     (<span class="stringliteral">&quot;genesis&quot;</span>, genesis_file.generic_string()) );</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Using genesis state provided in &#39;${genesis}&#39;&quot;</span>, (<span class="stringliteral">&quot;genesis&quot;</span>, genesis_file.generic_string()));</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>            }</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>            <span class="keywordflow">if</span>( block_log_genesis ) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( *block_log_genesis == provided_genesis, plugin_config_exception,</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                           <span class="stringliteral">&quot;Genesis state, provided via command line arguments, does not match the existing genesis state&quot;</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>                           <span class="stringliteral">&quot; in blocks.log. It is not necessary to provide genesis state arguments when a full blocks.log &quot;</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                           <span class="stringliteral">&quot;file already exists.&quot;</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>               );</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; provided_genesis_chain_id = provided_genesis.<a class="code hl_function" href="structsysio_1_1chain_1_1genesis__state.html#ad6e72f371108e814704865a7f1b4d708">compute_chain_id</a>();</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>               <span class="keywordflow">if</span>( chain_id ) {</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( provided_genesis_chain_id == *chain_id, plugin_config_exception,</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                              <span class="stringliteral">&quot;Genesis state, provided via command line arguments, has a chain ID (${provided_genesis_chain_id}) &quot;</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>                              <span class="stringliteral">&quot;that does not match the existing chain ID in the database state (${state_chain_id}). &quot;</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>                              <span class="stringliteral">&quot;It is not necessary to provide genesis state arguments when an initialized database state already exists.&quot;</span>,</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>                              (<span class="stringliteral">&quot;provided_genesis_chain_id&quot;</span>, provided_genesis_chain_id)</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>                              (<span class="stringliteral">&quot;state_chain_id&quot;</span>, *chain_id)</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                  );</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>               } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>                  <span class="keywordflow">if</span>( block_log_chain_id ) {</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                     <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( provided_genesis_chain_id == *block_log_chain_id, plugin_config_exception,</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>                                 <span class="stringliteral">&quot;Genesis state, provided via command line arguments, has a chain ID (${provided_genesis_chain_id}) &quot;</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>                                 <span class="stringliteral">&quot;that does not match the existing chain ID in blocks.log (${block_log_chain_id}).&quot;</span>,</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>                                 (<span class="stringliteral">&quot;provided_genesis_chain_id&quot;</span>, provided_genesis_chain_id)</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>                                 (<span class="stringliteral">&quot;block_log_chain_id&quot;</span>, *block_log_chain_id)</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                     );</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                  }</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>                  chain_id = provided_genesis_chain_id;</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span> </div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                  <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Starting fresh blockchain state using provided genesis state.&quot;</span> );</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a> = std::move(provided_genesis);</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>               }</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            }</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( options.count( <span class="stringliteral">&quot;genesis-timestamp&quot;</span> ) == 0,</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                        plugin_config_exception,</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                        <span class="stringliteral">&quot;--genesis-timestamp is only valid if also passed in with --genesis-json&quot;</span>);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>         }</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span> </div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>         <span class="keywordflow">if</span>( !chain_id ) {</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>            <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a> ) {</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>               <span class="comment">// Uninitialized state database and genesis state extracted from block log</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>               chain_id = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>-&gt;compute_chain_id();</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>               <span class="comment">// Uninitialized state database and no genesis state provided</span></div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !block_log_chain_id, plugin_config_exception,</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                           <span class="stringliteral">&quot;Genesis state is necessary to initialize fresh blockchain state but genesis state could not be &quot;</span></div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                           <span class="stringliteral">&quot;found in the blocks log. Please either load from snapshot or find a blocks log that starts &quot;</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>                           <span class="stringliteral">&quot;from genesis.&quot;</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>               );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span> </div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Starting fresh blockchain state using default genesis state.&quot;</span> );</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>.emplace();</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>               chain_id = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>-&gt;compute_chain_id();</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>            }</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>         }</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>      }</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span> </div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>      <span class="keywordflow">if</span> ( options.count(<span class="stringliteral">&quot;read-mode&quot;</span>) ) {</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode = options.at(<span class="stringliteral">&quot;read-mode&quot;</span>).as&lt;<a class="code hl_enumeration" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">db_read_mode</a>&gt;();</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>      }</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a> = options.at( <span class="stringliteral">&quot;api-accept-transactions&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>      <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode == db_read_mode::IRREVERSIBLE || my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode == db_read_mode::READ_ONLY ) {</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>         <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode == db_read_mode::READ_ONLY ) {</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;read-mode = read-only is deprecated use p2p-accept-transactions = false, api-accept-transactions = false instead.&quot;</span> );</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>         }</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>         <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a> ) {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            std::stringstream ss; ss &lt;&lt; my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode;</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;api-accept-transactions set to false due to read-mode: ${m}&quot;</span>, (<span class="stringliteral">&quot;m&quot;</span>, ss.str()) );</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>         }</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>      }</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>      <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a> ) {</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>         <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a2c6f70f01e04fc51fedb4654e1948761">enable_accept_transactions</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>      }</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>      <span class="keywordflow">if</span> ( options.count(<span class="stringliteral">&quot;validation-mode&quot;</span>) ) {</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;block_validation_mode = options.at(<span class="stringliteral">&quot;validation-mode&quot;</span>).as&lt;<a class="code hl_enumeration" href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0">validation_mode</a>&gt;();</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>      }</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span> </div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;db_map_mode = options.at(<span class="stringliteral">&quot;database-map-mode&quot;</span>).as&lt;<a class="code hl_enumeration" href="classchainbase_1_1pinnable__mapped__file.html#a7fe6684b11f441d2e971fe65166d7d5f">pinnable_mapped_file::map_mode</a>&gt;();</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span> </div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_OC_RUNTIME_ENABLED</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>      <span class="keywordflow">if</span>( options.count(<span class="stringliteral">&quot;sys-vm-oc-cache-size-mb&quot;</span>) )</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;eosvmoc_config.cache_size = options.at( <span class="stringliteral">&quot;sys-vm-oc-cache-size-mb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;() * 1024u * 1024u;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>      <span class="keywordflow">if</span>( options.count(<span class="stringliteral">&quot;sys-vm-oc-compile-threads&quot;</span>) )</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;eosvmoc_config.threads = options.at(<span class="stringliteral">&quot;sys-vm-oc-compile-threads&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;();</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>      <span class="keywordflow">if</span>( options[<span class="stringliteral">&quot;sys-vm-oc-enable&quot;</span>].as&lt;bool&gt;() )</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;eosvmoc_tierup = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a> = options.at(<span class="stringliteral">&quot;enable-account-queries&quot;</span>).as&lt;<span class="keywordtype">bool</span>&gt;();</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span> </div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>.emplace( *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>, std::move(pfs), *chain_id );</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span> </div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>      <span class="keywordflow">if</span>( options.count( <span class="stringliteral">&quot;transaction-retry-max-storage-size-gb&quot;</span> )) {</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !options.count( <span class="stringliteral">&quot;producer-name&quot;</span>), plugin_config_exception,</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>                     <span class="stringliteral">&quot;Transaction retry not allowed on producer nodes.&quot;</span> );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> max_storage_size = options.at( <span class="stringliteral">&quot;transaction-retry-max-storage-size-gb&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;() * 1024 * 1024 * 1024;</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>         <span class="keywordflow">if</span>( max_storage_size &gt; 0 ) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> p2p_dedup_time_s = options.at( <span class="stringliteral">&quot;p2p-dedup-cache-expire-time-sec&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> trx_retry_interval = options.at( <span class="stringliteral">&quot;transaction-retry-interval-sec&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> trx_retry_max_expire = options.at( <span class="stringliteral">&quot;transaction-retry-max-expiration-sec&quot;</span> ).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( trx_retry_interval &gt;= 2 * p2p_dedup_time_s, plugin_config_exception,</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>                        <span class="stringliteral">&quot;transaction-retry-interval-sec ${ri} must be greater than 2 times p2p-dedup-cache-expire-time-sec ${dd}&quot;</span>,</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>                        (<span class="stringliteral">&quot;ri&quot;</span>, trx_retry_interval)(<span class="stringliteral">&quot;dd&quot;</span>, p2p_dedup_time_s) );</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( trx_retry_max_expire &gt; trx_retry_interval, plugin_config_exception,</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>                        <span class="stringliteral">&quot;transaction-retry-max-expiration-sec ${m} should be configured larger than transaction-retry-interval-sec ${i}&quot;</span>,</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>                        (<span class="stringliteral">&quot;m&quot;</span>, trx_retry_max_expire)(<span class="stringliteral">&quot;i&quot;</span>, trx_retry_interval) );</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>.emplace( *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>, max_storage_size,</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                                       <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(trx_retry_interval), <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(trx_retry_max_expire),</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>                                       my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">abi_serializer_max_time_us</a> );</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>         }</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>      }</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span> </div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>      <span class="comment">// initialize deep mind logging</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>      <span class="keywordflow">if</span> ( options.at( <span class="stringliteral">&quot;deep-mind&quot;</span> ).as&lt;<span class="keywordtype">bool</span>&gt;() ) {</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>         <span class="comment">// The actual `fc::dmlog_appender` implementation that is currently used by deep mind</span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>         <span class="comment">// logger is using `stdout` to prints it&#39;s log line out. Deep mind logging outputs</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>         <span class="comment">// massive amount of data out of the process, which can lead under pressure to some</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>         <span class="comment">// of the system calls (i.e. `fwrite`) to fail abruptly without fully writing the</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>         <span class="comment">// entire line.</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>         <span class="comment">//</span></div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>         <span class="comment">// Recovering from errors on a buffered (line or full) and continuing retrying write</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>         <span class="comment">// is merely impossible to do right, because the buffer is actually held by the</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>         <span class="comment">// underlying `libc` implementation nor the operation system.</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>         <span class="comment">//</span></div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>         <span class="comment">// To ensure good functionalities of deep mind tracer, the `stdout` is made unbuffered</span></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>         <span class="comment">// and the actual `fc::dmlog_appender` deals with retry when facing error, enabling a much</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>         <span class="comment">// more robust deep mind output.</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>         <span class="comment">//</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>         <span class="comment">// Changing the standard `stdout` behavior from buffered to unbuffered can is disruptive</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>         <span class="comment">// and can lead to weird scenarios in the logging process if `stdout` is used there too.</span></div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>         <span class="comment">//</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>         <span class="comment">// In a future version, the `fc::dmlog_appender` implementation will switch to a `FIFO` file</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>         <span class="comment">// approach, which will remove the dependency on `stdout` and hence this call.</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>         <span class="comment">//</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>         <span class="comment">// For the time being, when `deep-mind = true` is activated, we set `stdout` here to</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>         <span class="comment">// be an unbuffered I/O stream.</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>         setbuf(stdout, NULL);</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>         </div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>         <span class="comment">//verify configuration is correct</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( options.at(<span class="stringliteral">&quot;api-accept-transactions&quot;</span>).as&lt;<span class="keywordtype">bool</span>&gt;() == <span class="keyword">false</span>, plugin_config_exception,</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>            <span class="stringliteral">&quot;api-accept-transactions must be set to false in order to enable deep-mind logging.&quot;</span>);</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span> </div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( options.at(<span class="stringliteral">&quot;p2p-accept-transactions&quot;</span>).as&lt;<span class="keywordtype">bool</span>&gt;() == <span class="keyword">false</span>, plugin_config_exception,</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            <span class="stringliteral">&quot;p2p-accept-transactions must be set to false in order to enable deep-mind logging.&quot;</span>);</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span> </div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;enable_deep_mind( &amp;<a class="code hl_variable" href="chain__plugin_8cpp.html#a012f953b2f11a2881c400561bf10cd02">_deep_mind_log</a> );</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>      }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>      <span class="comment">// set up method providers</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aab9fff8f429d4faa26eca9d2b8c7cffe">get_block_by_number_provider</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">methods::get_block_by_number</a>&gt;().register_provider(</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>            [<span class="keyword">this</span>]( <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_num ) -&gt; <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> {</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>               <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;fetch_block_by_number( block_num );</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>            } );</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span> </div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a34693f040cc059e57f0c7ee512db22d0">get_block_by_id_provider</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">methods::get_block_by_id</a>&gt;().register_provider(</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>            [<span class="keyword">this</span>]( <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a> <span class="keywordtype">id</span> ) -&gt; <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> {</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>               <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;fetch_block_by_id( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>            } );</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span> </div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a2a4bc682b9b8c8c43821614e75a620a8">get_head_block_id_provider</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">methods::get_head_block_id</a>&gt;().register_provider( [<span class="keyword">this</span>]() {</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>         <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;head_block_id();</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>      } );</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span> </div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a27a394cc59050bf1ad4f429f2ce390c3">get_last_irreversible_block_number_provider</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">methods::get_last_irreversible_block_number</a>&gt;().register_provider(</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>            [<span class="keyword">this</span>]() {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>               <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;last_irreversible_block_num();</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>            } );</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span> </div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>      <span class="comment">// relay signals to channels</span></div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a940c96c232af09e555e68cc09c9197ba">pre_accepted_block_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;pre_accepted_block.connect([<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a>&amp; blk) {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>         <span class="keyword">auto</span> itr = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>.find( blk-&gt;block_num() );</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>         <span class="keywordflow">if</span>( itr != my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">loaded_checkpoints</a>.end() ) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>            <span class="keyword">auto</span> <span class="keywordtype">id</span> = blk-&gt;calculate_id();</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( itr-&gt;second == <span class="keywordtype">id</span>, checkpoint_exception,</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>                        <span class="stringliteral">&quot;Checkpoint does not match for block number ${num}: expected: ${expected} actual: ${actual}&quot;</span>,</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                        (<span class="stringliteral">&quot;num&quot;</span>, blk-&gt;block_num())(<span class="stringliteral">&quot;expected&quot;</span>, itr-&gt;second)(<span class="stringliteral">&quot;actual&quot;</span>, <span class="keywordtype">id</span>)</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>            );</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>         }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span> </div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a61bf831d5134f234803b35ce57885a86">pre_accepted_block_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>(<a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, blk);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>      });</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span> </div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a2ecc071f301bb00286be48618dbb55b2">accepted_block_header_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;accepted_block_header.connect(</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&amp; blk ) {</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aa89c83ff8d64f3d613cfd31bf40eb1a4">accepted_block_header_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, blk );</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>            } );</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span> </div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a851d57f1e5c809becb941d017681eaa1">accepted_block_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;accepted_block.connect( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&amp; blk ) {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>         <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>) {</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>-&gt;commit_block(blk);</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>         }</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>         <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>) {</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>-&gt;on_accepted_block(blk);</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>         }</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span> </div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>         <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>) {</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>-&gt;signal_accepted_block(blk);</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>         }</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span> </div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae02cf2c451f3e58d31fccb92e885ab82">accepted_block_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#adab9a6659f361fc6ca6c855788b05df0">priority::high</a>, blk );</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>      } );</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ada00f0e476151434a5c37e81b0eae318">irreversible_block_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;irreversible_block.connect( [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&amp; blk ) {</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>         <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>) {</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>-&gt;on_irreversible_block(blk);</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>         }</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span> </div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>         <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>) {</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>            my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>-&gt;signal_irreversible_block(blk);</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>         }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span> </div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a689ceaa521a84549d169b409af861da7">irreversible_block_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#ae0c72abae2c2ba770667fcf90e40d654">priority::low</a>, blk );</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>      } );</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span> </div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a4089653a485d4311fefe712b527cf9f4">accepted_transaction_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;accepted_transaction.connect(</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            [<span class="keyword">this</span>]( <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a>&amp; meta ) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ac0ef462d85bd7a3a3dcdaab053ae8482">accepted_transaction_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#ae0c72abae2c2ba770667fcf90e40d654">priority::low</a>, meta );</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>            } );</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ace66ce40411e5c320c51f9dae6f86f86">applied_transaction_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;applied_transaction.connect(</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>            [<span class="keyword">this</span>]( std::tuple&lt;const transaction_trace_ptr&amp;, const packed_transaction_ptr&amp;&gt; t ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>               <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>) {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>-&gt;cache_transaction_trace(std::get&lt;0&gt;(t));</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>               }</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span> </div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>               <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>) {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>-&gt;on_applied_transaction(std::get&lt;0&gt;(t), std::get&lt;1&gt;(t));</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>               }</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>               <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>) {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>-&gt;signal_applied_transaction(std::get&lt;0&gt;(t), std::get&lt;1&gt;(t));</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>               }</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span> </div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>               my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#adb419561f9ce673ffa44f7c64081314d">applied_transaction_channel</a>.<a class="code hl_function" href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">publish</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#ae0c72abae2c2ba770667fcf90e40d654">priority::low</a>, std::get&lt;0&gt;(t) );</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>            } );</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span> </div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>      <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a> || my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a74721a6eaab713bfae13267ac93a79d2">block_start_connection</a> = my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;block_start.connect(</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>            [<span class="keyword">this</span>]( <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_num ) {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>               <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>) {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>-&gt;on_block_start(block_num);</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>               }</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>               <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>) {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                  my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>-&gt;signal_block_start( block_num );</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>               }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>            } );</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>      }</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;add_indices();</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>   } <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span> </div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>}</div>
</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="foldopen" id="foldopen01241" data-start="{" data-end="}">
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#affe5ea83d9db4d721af39fd7568c5875"> 1241</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#affe5ea83d9db4d721af39fd7568c5875">chain_plugin::plugin_startup</a>()</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>{ <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>   <a class="code hl_function" href="classsysio_1_1chain__plugin.html#af289b36dc5f753a772617ff3603090df">handle_sighup</a>(); <span class="comment">// Sets loggers</span></div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>-&gt;read_mode != db_read_mode::IRREVERSIBLE || !<a class="code hl_function" href="classsysio_1_1chain__plugin.html#ad911df70e3131f7a2ed91d1eca08793a">accept_transactions</a>(), plugin_config_exception,</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>               <span class="stringliteral">&quot;read-mode = irreversible. transactions should not be enabled by enable_accept_transactions&quot;</span> );</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">producer_plug</a> = <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a1d2c585f90007be342c9c64ee9cc0f7c">find_plugin</a>&lt;<a class="code hl_class" href="classsysio_1_1producer__plugin.html">producer_plugin</a>&gt;();</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">producer_plug</a>, plugin_exception, <span class="stringliteral">&quot;Failed to find producer_plugin&quot;</span>);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span> </div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>      <span class="keyword">auto</span> <a class="code hl_function" href="classappbase_1_1plugin.html#a21e5be5587fca41fbc91367d449b8f27">shutdown</a> = [](){ <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46">quit</a>(); };</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>      <span class="keyword">auto</span> check_shutdown = [](){ <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#aa47481ba83e2811dff7f84eff8662a56">is_quiting</a>(); };</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>      <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>) {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>         <span class="keyword">auto</span> infile = std::ifstream(my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">snapshot_path</a>-&gt;generic_string(), (std::ios::in | std::ios::binary));</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>         <span class="keyword">auto</span> reader = std::make_shared&lt;istream_snapshot_reader&gt;(infile);</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;startup(<a class="code hl_function" href="classappbase_1_1plugin.html#a21e5be5587fca41fbc91367d449b8f27">shutdown</a>, check_shutdown, reader);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>         infile.close();</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a> ) {</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;startup(<a class="code hl_function" href="classappbase_1_1plugin.html#a21e5be5587fca41fbc91367d449b8f27">shutdown</a>, check_shutdown, *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;startup(<a class="code hl_function" href="classappbase_1_1plugin.html#a21e5be5587fca41fbc91367d449b8f27">shutdown</a>, check_shutdown);</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>      }</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>   } <span class="keywordflow">catch</span> (<span class="keyword">const</span> database_guard_exception&amp; e) {</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>      log_guard_exception(e);</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>      <span class="comment">// make sure to properly close the db</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>.reset();</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>   }</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>   <span class="keywordflow">if</span>(!my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#af49f503c76b502b96de84e77b338f039">readonly</a>) {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;starting chain in read/write mode&quot;</span>);</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>   }</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>   <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Blockchain started; head block is #${num}, genesis timestamp is ${ts}&quot;</span>,</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>           (<span class="stringliteral">&quot;num&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;head_block_num())(<span class="stringliteral">&quot;ts&quot;</span>, (std::string)my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">genesis</a>-&gt;initial_timestamp));</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>   }</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>   <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Blockchain started; head block is #${num}&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;head_block_num()));</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>   }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span> </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">chain_config</a>.reset();</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span> </div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>   <span class="keywordflow">if</span> (my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a>) {</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>.emplace(*my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>);</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>         my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>      } <a class="code hl_define" href="exception_8hpp.html#aed56aa2593b6f6fc6a839b7cb5c6e8e3">FC_LOG_AND_DROP</a>((<span class="stringliteral">&quot;Unable to enable account queries&quot;</span>));</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>   }</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span> </div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>} <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>() }</div>
</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span> </div>
<div class="foldopen" id="foldopen01295" data-start="{" data-end="}">
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a3ed4600a8200efd4cbad0e547a3ffbde"> 1295</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a3ed4600a8200efd4cbad0e547a3ffbde">chain_plugin::plugin_shutdown</a>() {</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a940c96c232af09e555e68cc09c9197ba">pre_accepted_block_connection</a>.reset();</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a2ecc071f301bb00286be48618dbb55b2">accepted_block_header_connection</a>.reset();</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a851d57f1e5c809becb941d017681eaa1">accepted_block_connection</a>.reset();</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ada00f0e476151434a5c37e81b0eae318">irreversible_block_connection</a>.reset();</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a4089653a485d4311fefe712b527cf9f4">accepted_transaction_connection</a>.reset();</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ace66ce40411e5c320c51f9dae6f86f86">applied_transaction_connection</a>.reset();</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a74721a6eaab713bfae13267ac93a79d2">block_start_connection</a>.reset();</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>   <span class="keywordflow">if</span>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().is_quiting())</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>      my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;get_wasm_interface().indicate_shutting_down();</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>.reset();</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>}</div>
</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span> </div>
<div class="foldopen" id="foldopen01308" data-start="{" data-end="}">
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#af289b36dc5f753a772617ff3603090df"> 1308</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#af289b36dc5f753a772617ff3603090df">chain_plugin::handle_sighup</a>() {</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>   <a class="code hl_variable" href="chain__plugin_8cpp.html#a012f953b2f11a2881c400561bf10cd02">_deep_mind_log</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1deep__mind__handler.html#a992e2ea098b7b2288a3be6aa3eeb56e8">update_logger</a>( deep_mind_logger_name );</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>}</div>
</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span> </div>
<div class="foldopen" id="foldopen01312" data-start="{" data-end="}">
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a24c1e6d06ebdd8e84f9c265644359a95"> 1312</a></span><a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a24c1e6d06ebdd8e84f9c265644359a95">chain_apis::read_write::read_write</a>(<a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; db, std::optional&lt;trx_retry_db&gt;&amp; trx_retry, <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>&amp; <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a>, <span class="keywordtype">bool</span> api_accept_transactions)</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>: db(db)</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>, trx_retry(trx_retry)</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>, <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a>(<a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a>)</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>, api_accept_transactions(api_accept_transactions)</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>{</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>}</div>
</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span> </div>
<div class="foldopen" id="foldopen01320" data-start="{" data-end="}">
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a822d28a0a66b040dcecd42f12988649c"> 1320</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a822d28a0a66b040dcecd42f12988649c">chain_apis::read_write::validate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( api_accept_transactions, missing_chain_api_plugin_exception,</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>               <span class="stringliteral">&quot;Not allowed, node has api-accept-transactions = false&quot;</span> );</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>}</div>
</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span> </div>
<div class="foldopen" id="foldopen01325" data-start="{" data-end="}">
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a2b4d6a23ecab8f50e42f6c2221124245"> 1325</a></span><a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__write.html">chain_apis::read_write</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a2b4d6a23ecab8f50e42f6c2221124245">chain_plugin::get_read_write_api</a>() {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>   <span class="keywordflow">return</span> <a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__write.html">chain_apis::read_write</a>(chain(), my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">_trx_retry_db</a>, get_abi_serializer_max_time(), api_accept_transactions());</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>}</div>
</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span> </div>
<div class="foldopen" id="foldopen01329" data-start="{" data-end="}">
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a53c887a4793a975261562d0f9b49cde6"> 1329</a></span><a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__only.html">chain_apis::read_only</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a53c887a4793a975261562d0f9b49cde6">chain_plugin::get_read_only_api</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>   <span class="keywordflow">return</span> <a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__only.html">chain_apis::read_only</a>(chain(), my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">_account_query_db</a>, get_abi_serializer_max_time(), my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">producer_plug</a>, my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>.get());</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>}</div>
</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span> </div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span> </div>
<div class="foldopen" id="foldopen01334" data-start="{" data-end="}">
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5"> 1334</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5">chain_plugin::accept_block</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a>&amp; block, <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>&amp; <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&amp; bsp ) {</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a70c415c110b6b7cba1fca287873d6c33">incoming_block_sync_method</a>(block, <span class="keywordtype">id</span>, bsp);</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>}</div>
</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span> </div>
<div class="foldopen" id="foldopen01338" data-start="{" data-end="}">
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93"> 1338</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93">chain_plugin::accept_transaction</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">chain::packed_transaction_ptr</a>&amp; trx, <a class="code hl_typedef" href="namespacesysio_1_1chain_1_1plugin__interface.html#a6ed984ecf76e4d360d5b142d27004c80">next_function&lt;chain::transaction_trace_ptr&gt;</a> next) {</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#ad2d38cac469ec1b9ba247042346bc98a">incoming_transaction_async_method</a>(trx, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, std::move(next));</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>}</div>
</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span> </div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae"> 1342</a></span><a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain_plugin::chain</a>() { <span class="keywordflow">return</span> *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>; }</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a486c625a86f5ff50b42ffb7ebc1394e5"> 1343</a></span><span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain_plugin::chain</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>; }</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span> </div>
<div class="foldopen" id="foldopen01345" data-start="{" data-end="}">
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a87ff3092be673ff51d0b0a4f72ce61ff"> 1345</a></span><a class="code hl_struct" href="structsysio_1_1chain_1_1chain__id__type.html">chain::chain_id_type</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a87ff3092be673ff51d0b0a4f72ce61ff">chain_plugin::get_chain_id</a>()<span class="keyword">const </span>{</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">chain</a>-&gt;get_chain_id();</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>}</div>
</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span> </div>
<div class="foldopen" id="foldopen01349" data-start="{" data-end="}">
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850"> 1349</a></span><a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">chain_plugin::get_abi_serializer_max_time</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">abi_serializer_max_time_us</a>;</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>}</div>
</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="foldopen" id="foldopen01353" data-start="{" data-end="}">
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a1bcb439d384fa26626d027b7556a6db3"> 1353</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a1bcb439d384fa26626d027b7556a6db3">chain_plugin::api_accept_transactions</a>()<span class="keyword"> const</span>{</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">api_accept_transactions</a>;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>}</div>
</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span> </div>
<div class="foldopen" id="foldopen01357" data-start="{" data-end="}">
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#ad911df70e3131f7a2ed91d1eca08793a"> 1357</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#ad911df70e3131f7a2ed91d1eca08793a">chain_plugin::accept_transactions</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a853b425fd97fb87e2ed5a7193152de73">accept_transactions</a>;</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>}</div>
</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span> </div>
<div class="foldopen" id="foldopen01361" data-start="{" data-end="}">
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a2c6f70f01e04fc51fedb4654e1948761"> 1361</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a2c6f70f01e04fc51fedb4654e1948761">chain_plugin::enable_accept_transactions</a>() {</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>   my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a853b425fd97fb87e2ed5a7193152de73">accept_transactions</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>}</div>
</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span> </div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span><span class="keywordtype">void</span> chain_plugin::log_guard_exception(<span class="keyword">const</span> <a class="code hl_variable" href="namespacesysio_1_1chain.html#a646553a6af0a730cdb19b9c6023d5132">chain::guard_exception</a>&amp;e ) {</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>   <span class="keywordflow">if</span> (e.code() == chain::database_guard_exception::code_value) {</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>      <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;Database has reached an unsafe level of usage, shutting down to avoid corrupting the database.  &quot;</span></div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>           <span class="stringliteral">&quot;Please increase the value set for \&quot;chain-state-db-size-mb\&quot; and restart the process!&quot;</span>);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>   }</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span> </div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>   <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;Details: ${details}&quot;</span>, (<span class="stringliteral">&quot;details&quot;</span>, e.to_detail_string()));</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>}</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span> </div>
<div class="foldopen" id="foldopen01375" data-start="{" data-end="}">
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a6042f76be687a9b82332f28e1dc9a3a4"> 1375</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a6042f76be687a9b82332f28e1dc9a3a4">chain_plugin::handle_guard_exception</a>(<span class="keyword">const</span> <a class="code hl_variable" href="namespacesysio_1_1chain.html#a646553a6af0a730cdb19b9c6023d5132">chain::guard_exception</a>&amp; e) {</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>   log_guard_exception(e);</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span> </div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>   <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;database chain::guard_exception, quitting...&quot;</span>); <span class="comment">// log string searched for in: tests/nodeop_under_min_avail_ram.py</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>   <span class="comment">// quit the app</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>   <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46">quit</a>();</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>}</div>
</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="foldopen" id="foldopen01383" data-start="{" data-end="}">
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7"> 1383</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>() {</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>   <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;database memory exhausted: increase chain-state-db-size-mb&quot;</span>);</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>   <span class="comment">//return 1 -- it&#39;s what programs/nodeop/main.cpp considers &quot;BAD_ALLOC&quot;</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>   std::_Exit(1);</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>}</div>
</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span> </div>
<div class="foldopen" id="foldopen01389" data-start="{" data-end="}">
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6"> 1389</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>() {</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>   <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;std::bad_alloc - memory exhausted&quot;</span>);</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>   <span class="comment">//return -2 -- it&#39;s what programs/nodeop/main.cpp reports for std::exception</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>   std::_Exit(-2);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>}</div>
</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span> </div>
<div class="foldopen" id="foldopen01395" data-start="{" data-end="}">
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a3f62770b688da99f7510119225b9249e"> 1395</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a3f62770b688da99f7510119225b9249e">chain_plugin::account_queries_enabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">account_queries_enabled</a>;</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>}</div>
</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span> </div>
<div class="foldopen" id="foldopen01399" data-start="{" data-end="}">
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#a692cb7641b4c84224c1504087f4434d5"> 1399</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a692cb7641b4c84224c1504087f4434d5">chain_plugin::transaction_finality_status_enabled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>   <span class="keywordflow">return</span> my-&gt;<a class="code hl_variable" href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">_trx_finality_status_processing</a>.get();</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>}</div>
</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span> </div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span><span class="keyword">namespace </span>chain_apis {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span> </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span><span class="keyword">const</span> <span class="keywordtype">string</span> read_only::KEYi64 = <span class="stringliteral">&quot;i64&quot;</span>;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span> </div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> I&gt;</div>
<div class="foldopen" id="foldopen01408" data-start="{" data-end="}">
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a7df01d6a5fd1809e162d989a02998ba2"> 1408</a></span>std::string <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a7df01d6a5fd1809e162d989a02998ba2">itoh</a>(I n, <span class="keywordtype">size_t</span> hlen = <span class="keyword">sizeof</span>(I)&lt;&lt;1) {</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* digits = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>   std::string <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>(hlen, <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>   <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a538d097420e725c4dad63c3caa9e55bd">j</a> = (hlen - 1) * 4 ; i &lt; hlen; ++i, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a538d097420e725c4dad63c3caa9e55bd">j</a> -= 4)</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>      <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>[i] = digits[(n&gt;&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a538d097420e725c4dad63c3caa9e55bd">j</a>) &amp; 0x0f];</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>   <span class="keywordflow">return</span> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>;</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>}</div>
</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span> </div>
<div class="foldopen" id="foldopen01416" data-start="{" data-end="}">
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a2cb11d9c62513f62a7db1df33f6248f6"> 1416</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__info__results.html">read_only::get_info_results</a> read_only::get_info(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1empty.html">read_only::get_info_params</a>&amp;)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rm = db.get_resource_limits_manager();</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span> </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>   <span class="keywordflow">return</span> {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>      <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a7df01d6a5fd1809e162d989a02998ba2">itoh</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(<a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().version())),</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>      db.get_chain_id(),</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>      db.head_block_num(),</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>      db.last_irreversible_block_num(),</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>      db.last_irreversible_block_id(),</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>      db.head_block_id(),</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>      db.head_block_time(),</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>      db.head_block_producer(),</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>      rm.get_virtual_block_cpu_limit(),</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>      rm.get_virtual_block_net_limit(),</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>      rm.get_block_cpu_limit(),</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>      rm.get_block_net_limit(),</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>      <span class="comment">//std::bitset&lt;64&gt;(db.get_dynamic_global_properties().recent_slots_filled).to_string(),</span></div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>      <span class="comment">//__builtin_popcountll(db.get_dynamic_global_properties().recent_slots_filled) / 64.0,</span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a780543c4d0330fe88b912a3fa914f953">version_string</a>(),</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>      db.fork_db_pending_head_block_num(),</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>      db.fork_db_pending_head_block_id(),</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#ab53fa2d323d053e4e57adc832a9969bb">full_version_string</a>(),</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>      rm.get_total_cpu_weight(),</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>      rm.get_total_net_weight(),</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>      db.earliest_available_block_num(),</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>      db.last_irreversible_block_time()</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>   };</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span> </div>
<div class="foldopen" id="foldopen01445" data-start="{" data-end="}">
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aac60f9594c20d1e51e502ecc81d23546"> 1445</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__results.html">read_only::get_transaction_status_results</a> read_only::get_transaction_status(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params.html">read_only::get_transaction_status_params</a>&amp; param)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(trx_finality_status_proc, unsupported_feature, <span class="stringliteral">&quot;Transaction Status Interface not enabled.  To enable, configure nodeop with &#39;--transaction-finality-status-max-storage-size-gb &lt;size&gt;&#39;.&quot;</span>);</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span> </div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html">trx_finality_status_processing::chain_state</a> ch_state = trx_finality_status_proc-&gt;get_chain_state();</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span> </div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>   <span class="keyword">const</span> <span class="keyword">auto</span> trx_st = trx_finality_status_proc-&gt;get_trx_state(param.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params.html#aeadb85e8c10411cf8851cb846b894683">id</a>);</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>   <span class="comment">// check if block_id is set to a valid value, since trx_finality_status_proc does not use optionals for the block data</span></div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>   <span class="keyword">const</span> <span class="keyword">auto</span> trx_block_valid = trx_st &amp;&amp; trx_st-&gt;block_id != <a class="code hl_class" href="classfc_1_1sha256.html">chain::block_id_type</a>{};</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span> </div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>   <span class="keywordflow">return</span> {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>      trx_st ? trx_st-&gt;status : <span class="stringliteral">&quot;UNKNOWN&quot;</span>,</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>      trx_block_valid ? std::optional&lt;uint32_t&gt;(chain::block_header::num_from_id(trx_st-&gt;block_id)) : std::optional&lt;uint32_t&gt;{},</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>      trx_block_valid ? std::optional&lt;chain::block_id_type&gt;(trx_st-&gt;block_id) : std::optional&lt;chain::block_id_type&gt;{},</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>      trx_block_valid ? std::optional&lt;fc::time_point&gt;(trx_st-&gt;block_timestamp) : std::optional&lt;fc::time_point&gt;{},</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>      trx_st ? std::optional&lt;fc::time_point_sec&gt;(trx_st-&gt;expiration) : std::optional&lt;fc::time_point_sec&gt;{},</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>      chain::block_header::num_from_id(ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#ab5000a9e5243236fa603fb7fc524633f">head_id</a>),</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>      ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#ab5000a9e5243236fa603fb7fc524633f">head_id</a>,</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>      ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#abf88e35b39e33986866ac5ad1de9098f">head_block_timestamp</a>,</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>      chain::block_header::num_from_id(ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#adb3533d5c64aa23c265356f610cceb96">irr_id</a>),</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>      ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#adb3533d5c64aa23c265356f610cceb96">irr_id</a>,</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>      ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#a64462af537bc88d3813b954b920dabc4">irr_block_timestamp</a>,</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>      ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#a54570454efbb55c86b8c32dae3ac7a74">earliest_tracked_block_id</a>,</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>      chain::block_header::num_from_id(ch_state.<a class="code hl_variable" href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#a54570454efbb55c86b8c32dae3ac7a74">earliest_tracked_block_id</a>)</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>   };</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>}</div>
</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span> </div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__results.html">read_only::get_activated_protocol_features_results</a></div>
<div class="foldopen" id="foldopen01472" data-start="{" data-end="}">
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#ac04739d51c642e9d12d3fb1bef87d31d"> 1472</a></span>read_only::get_activated_protocol_features( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__params.html">read_only::get_activated_protocol_features_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__results.html">read_only::get_activated_protocol_features_results</a> result;</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pfm = db.get_protocol_feature_manager();</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span> </div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>   <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lower_bound_value = std::numeric_limits&lt;uint32_t&gt;::lowest();</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>   <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> upper_bound_value = std::numeric_limits&lt;uint32_t&gt;::max();</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span> </div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>   <span class="keywordflow">if</span>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.lower_bound ) {</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>      lower_bound_value = *<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.lower_bound;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>   }</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span> </div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>   <span class="keywordflow">if</span>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.upper_bound ) {</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>      upper_bound_value = *<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.upper_bound;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>   }</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>   <span class="keywordflow">if</span>( upper_bound_value &lt; lower_bound_value )</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span> </div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>   <span class="keyword">auto</span> walk_range = [&amp;]( <span class="keyword">auto</span> itr, <span class="keyword">auto</span> end_itr, <span class="keyword">auto</span>&amp;&amp; convert_iterator ) {</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>      <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> mvo;</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>      mvo( <span class="stringliteral">&quot;activation_ordinal&quot;</span>, 0 );</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>      mvo( <span class="stringliteral">&quot;activation_block_num&quot;</span>, 0 );</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span> </div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>      <span class="keyword">auto</span>&amp; activation_ordinal_value   = mvo[<span class="stringliteral">&quot;activation_ordinal&quot;</span>];</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>      <span class="keyword">auto</span>&amp; activation_block_num_value = mvo[<span class="stringliteral">&quot;activation_block_num&quot;</span>];</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>      <span class="keyword">auto</span> cur_time = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>      <span class="keyword">auto</span> end_time = cur_time + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(1000 * 10); </div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>      <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> = 0;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>           cur_time &lt;= end_time &amp;&amp; <a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> &lt; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.limit &amp;&amp; itr != end_itr;</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>           ++itr, cur_time = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() )</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>      {</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; conv_itr = convert_iterator( itr );</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>         activation_ordinal_value   = conv_itr.activation_ordinal();</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>         activation_block_num_value = conv_itr.activation_block_num();</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span> </div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>         result.activated_protocol_features.emplace_back( conv_itr-&gt;to_variant( <span class="keyword">false</span>, &amp;mvo ) );</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>         ++<a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>      }</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>      <span class="keywordflow">if</span>( itr != end_itr ) {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>         result.more = convert_iterator( itr ).activation_ordinal() ;</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>      }</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>   };</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span> </div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>   <span class="keyword">auto</span> get_next_if_not_end = [&amp;pfm]( <span class="keyword">auto</span>&amp;&amp; itr ) {</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>      <span class="keywordflow">if</span>( itr == pfm.cend() ) <span class="keywordflow">return</span> itr;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span> </div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>      ++itr;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>      <span class="keywordflow">return</span> itr;</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>   };</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span> </div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>   <span class="keyword">auto</span> lower = ( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.search_by_block_num ? pfm.lower_bound( lower_bound_value )</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                                             : pfm.at_activation_ordinal( lower_bound_value ) );</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span> </div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>   <span class="keyword">auto</span> upper = ( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.search_by_block_num ? pfm.upper_bound( upper_bound_value )</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>                                             : get_next_if_not_end( pfm.at_activation_ordinal( upper_bound_value ) ) );</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span> </div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>   <span class="keywordflow">if</span>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.reverse ) {</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>      walk_range( std::make_reverse_iterator(upper), std::make_reverse_iterator(lower),</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>                  []( <span class="keyword">auto</span>&amp;&amp; ritr ) { <span class="keywordflow">return</span> --(ritr.base()); } );</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>      walk_range( lower, upper, []( <span class="keyword">auto</span>&amp;&amp; itr ) { <span class="keywordflow">return</span> itr; } );</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>   }</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span> </div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>}</div>
</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span> </div>
<div class="foldopen" id="foldopen01539" data-start="{" data-end="}">
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#afeb449a0b86410f3e2e4d18ccfc7f463"> 1539</a></span><a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> read_only::get_table_index_name(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__params.html">read_only::get_table_rows_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, <span class="keywordtype">bool</span>&amp; primary) {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>   <span class="keyword">using </span>boost::algorithm::starts_with;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>   <span class="comment">// see multi_index packing of index name</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>   <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> table = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table.to_uint64_t();</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>   <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> index = table &amp; 0xFFFFFFFFFFFFFFF0ULL;</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( index == table, chain::contract_table_query_exception, <span class="stringliteral">&quot;Unsupported table name: ${n}&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table) );</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span> </div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>   primary = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>   <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> pos = 0;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>   <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position.empty() || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position == <span class="stringliteral">&quot;first&quot;</span> || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position == <span class="stringliteral">&quot;primary&quot;</span> || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position == <span class="stringliteral">&quot;one&quot;</span>) {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>      primary = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;sec&quot;</span>) || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position == <span class="stringliteral">&quot;two&quot;</span>) { <span class="comment">// second, secondary</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position , <span class="stringliteral">&quot;ter&quot;</span>) || starts_with(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;th&quot;</span>)) { <span class="comment">// tertiary, ternary, third, three</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>      pos = 1;</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;fou&quot;</span>)) { <span class="comment">// four, fourth</span></div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>      pos = 2;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;fi&quot;</span>)) { <span class="comment">// five, fifth</span></div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>      pos = 3;</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;six&quot;</span>)) { <span class="comment">// six, sixth</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>      pos = 4;</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;sev&quot;</span>)) { <span class="comment">// seven, seventh</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>      pos = 5;</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;eig&quot;</span>)) { <span class="comment">// eight, eighth</span></div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>      pos = 6;</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;nin&quot;</span>)) { <span class="comment">// nine, ninth</span></div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>      pos = 7;</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position, <span class="stringliteral">&quot;ten&quot;</span>)) { <span class="comment">// ten, tenth</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>      pos = 8;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>         pos = <a class="code hl_function" href="namespacefc.html#ab20c9acf886f89fabeb8a0d9ebc9abb8">fc::to_uint64</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position );</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>      } <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, chain::contract_table_query_exception, <span class="stringliteral">&quot;Invalid index_position: ${p}&quot;</span>, (<span class="stringliteral">&quot;p&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.index_position));</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>      }</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>      <span class="keywordflow">if</span> (pos &lt; 2) {</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>         primary = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>         pos = 0;</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>         pos -= 2;</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>      }</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>   }</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>   index |= (pos &amp; 0x000000000000000FULL);</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>   <span class="keywordflow">return</span> index;</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>}</div>
</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span> </div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="foldopen" id="foldopen01585" data-start="{" data-end="}">
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a836b04c2028748eb9cb50c3d9fb8f473"> 1585</a></span><a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a836b04c2028748eb9cb50c3d9fb8f473">convert_to_type</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; desc) {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span> </div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>      <span class="keywordflow">return</span> boost::lexical_cast&lt;uint64_t&gt;(str.c_str(), str.size());</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>   } <span class="keywordflow">catch</span>( ... ) { }</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span> </div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>      <span class="keyword">auto</span> trimmed_str = str;</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>      boost::trim(trimmed_str);</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>(trimmed_str);</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.to_uint64_t();</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>   } <span class="keywordflow">catch</span>( ... ) { }</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span> </div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>   <span class="keywordflow">if</span> (str.find(<span class="charliteral">&#39;,&#39;</span>) != string::npos) { <span class="comment">// fix #6274 only match formats like 4,SYS</span></div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>         <span class="keyword">auto</span> symb = <a class="code hl_function" href="classsysio_1_1chain_1_1symbol.html#af67333e1badee3ae6d4b0c528a8f89e0">sysio::chain::symbol::from_string</a>(str);</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>         <span class="keywordflow">return</span> symb.value();</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>      } <span class="keywordflow">catch</span>( ... ) { }</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>   }</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>      <span class="keywordflow">return</span> ( sysio::chain::string_to_symbol( 0, str.c_str() ) &gt;&gt; 8 );</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>   } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a7a49a000b5d9da709b8d3132a922d16a">chain_type_exception</a>, <span class="stringliteral">&quot;Could not convert ${desc} string &#39;${str}&#39; to any of the following: &quot;</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>                        <span class="stringliteral">&quot;uint64_t, valid name, or valid symbol (with or without the precision)&quot;</span>,</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>                  (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;str&quot;</span>, str));</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>   }</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>}</div>
</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span> </div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="foldopen" id="foldopen01615" data-start="{" data-end="}">
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a881bf8817ff7863c88e2ce590e465d94"> 1615</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a836b04c2028748eb9cb50c3d9fb8f473">convert_to_type</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; desc) {</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>   <span class="keywordtype">double</span> val{};</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>      val = <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(str).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>   } <a class="code hl_define" href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a>(warn, <span class="stringliteral">&quot;Could not convert ${desc} string &#39;${str}&#39; to key type.&quot;</span>, (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;str&quot;</span>,str) )</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !std::isnan(val), chain::contract_table_query_exception,</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>               <span class="stringliteral">&quot;Converted ${desc} string &#39;${str}&#39; to NaN which is not a permitted value for the key type&quot;</span>, (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;str&quot;</span>,str) );</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>   <span class="keywordflow">return</span> val;</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>}</div>
</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span> </div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> Type&gt;</div>
<div class="foldopen" id="foldopen01628" data-start="{" data-end="}">
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a0dc2b6941bd899b78a443fedb25354cc"> 1628</a></span><span class="keywordtype">string</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0dc2b6941bd899b78a443fedb25354cc">convert_to_string</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a>&amp; <a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; encode_type, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; desc) {</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>   } <a class="code hl_define" href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a>(warn, <span class="stringliteral">&quot;Could not convert ${desc} from &#39;${source}&#39; to string.&quot;</span>, (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;source&quot;</span>,<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>) )</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>}</div>
</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span> </div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="foldopen" id="foldopen01635" data-start="{" data-end="}">
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a3992489d9f3dd0cb2178f78d8b31374b"> 1635</a></span><span class="keywordtype">string</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0dc2b6941bd899b78a443fedb25354cc">convert_to_string</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4404f0f28252f82bd7b98d70d1605e4f">chain::key256_t</a>&amp; <a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; encode_type, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; desc) {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a> == chain_apis::sha256 || (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a> == chain_apis::i256 &amp;&amp; encode_type == chain_apis::hex)) {</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>         <span class="keyword">auto</span> byte_array = <a class="code hl_class" href="classsysio_1_1fixed__bytes.html">fixed_bytes&lt;32&gt;</a>(<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>).<a class="code hl_function" href="classsysio_1_1fixed__bytes.html#acace65d24dd5689f49ba2dcb3198493a">extract_as_byte_array</a>();</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>         <a class="code hl_class" href="classfc_1_1sha256.html">fc::sha256</a> val(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(byte_array.data()), byte_array.size());</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>         <span class="keywordflow">return</span> std::string(val);</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a> == chain_apis::i256) {</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>         <span class="keyword">auto</span> byte_array = <a class="code hl_class" href="classsysio_1_1fixed__bytes.html">fixed_bytes&lt;32&gt;</a>(<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>).<a class="code hl_function" href="classsysio_1_1fixed__bytes.html#acace65d24dd5689f49ba2dcb3198493a">extract_as_byte_array</a>();</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>         <a class="code hl_class" href="classfc_1_1sha256.html">fc::sha256</a> val(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(byte_array.data()), byte_array.size());</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>         <span class="keywordflow">return</span> std::string(<span class="stringliteral">&quot;0x&quot;</span>) + std::string(val);</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a> == chain_apis::ripemd160) {</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>         <span class="keyword">auto</span> byte_array = <a class="code hl_class" href="classsysio_1_1fixed__bytes.html">fixed_bytes&lt;20&gt;</a>(<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>).<a class="code hl_function" href="classsysio_1_1fixed__bytes.html#acace65d24dd5689f49ba2dcb3198493a">extract_as_byte_array</a>();</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>         <a class="code hl_class" href="classfc_1_1ripemd160.html">fc::ripemd160</a> val;</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>         <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(val.<a class="code hl_variable" href="classfc_1_1ripemd160.html#a67956103e03592e90d20654798c44f28">_hash</a>, byte_array.data(), byte_array.size() );</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>         <span class="keywordflow">return</span> std::string(val);</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>      }</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a7a49a000b5d9da709b8d3132a922d16a">chain_type_exception</a>, <span class="stringliteral">&quot;Incompatible key_type and encode_type for key256_t next_key&quot;</span> );</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span> </div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>   } <a class="code hl_define" href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a>(warn, <span class="stringliteral">&quot;Could not convert ${desc} source &#39;${source}&#39; to string.&quot;</span>, (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;source&quot;</span>,<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>) )</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>}</div>
</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span> </div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="foldopen" id="foldopen01657" data-start="{" data-end="}">
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#aacb780a423bcb09110881970e8fac186"> 1657</a></span><span class="keywordtype">string</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0dc2b6941bd899b78a443fedb25354cc">convert_to_string</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structfloat128__t.html">float128_t</a>&amp; <a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a>, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; encode_type, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; desc) {</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>      <a class="code hl_struct" href="structfloat64__t.html">float64_t</a> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> = <a class="code hl_function" href="softfloat_2source_2f128__to__f64_8c.html#adc0008cedb156534af8a2d946c2ed61b">f128_to_f64</a>(<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>);</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>      <span class="keywordflow">return</span> <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<span class="keywordtype">string</span>&gt;();</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>   } <a class="code hl_define" href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a>(warn, <span class="stringliteral">&quot;Could not convert ${desc} from &#39;${source}&#39; to string.&quot;</span>, (<span class="stringliteral">&quot;desc&quot;</span>, desc)(<span class="stringliteral">&quot;source&quot;</span>,<a class="code hl_variable" href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a>) )</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>}</div>
</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span> </div>
<div class="foldopen" id="foldopen01664" data-start="{" data-end="}">
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1"> 1664</a></span><a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">get_abi</a>( <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; db, <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>&amp; account ) {</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>   <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391">db</a>();</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>   <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a> *code_accnt = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>, by_name&gt;(account);</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(code_accnt != <span class="keyword">nullptr</span>, chain::account_query_exception, <span class="stringliteral">&quot;Fail to retrieve account for ${account}&quot;</span>, (<span class="stringliteral">&quot;account&quot;</span>, account) );</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>   abi_serializer::to_abi(code_accnt-&gt;abi, abi);</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>   <span class="keywordflow">return</span> abi;</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>}</div>
</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span> </div>
<div class="foldopen" id="foldopen01673" data-start="{" data-end="}">
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a"> 1673</a></span><span class="keywordtype">string</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a>&amp; abi, <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">table_name</a> ) {</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>   <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; t : abi.tables ) {</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>      <span class="keywordflow">if</span>( t.name == <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">table_name</a> ){</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>         <span class="keywordflow">return</span> t.index_type;</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>      }</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>   }</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, chain::contract_table_query_exception, <span class="stringliteral">&quot;Table ${table} is not specified in the ABI&quot;</span>, (<span class="stringliteral">&quot;table&quot;</span>,<a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">table_name</a>) );</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>}</div>
</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span> </div>
<div class="foldopen" id="foldopen01682" data-start="{" data-end="}">
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aa9f992c389558773fe358c7a03e3c91b"> 1682</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__result.html">read_only::get_table_rows_result</a> read_only::get_table_rows( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__params.html">read_only::get_table_rows_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>   <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">sysio::chain_apis::get_abi</a>( db, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code );</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>   <span class="keywordtype">bool</span> primary = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>   <span class="keyword">auto</span> table_with_index = get_table_index_name( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, primary );</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>   <span class="keywordflow">if</span>( primary ) {</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table == table_with_index, chain::contract_table_query_exception, <span class="stringliteral">&quot;Invalid table name ${t}&quot;</span>, ( <span class="stringliteral">&quot;t&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table ));</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>      <span class="keyword">auto</span> table_type = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>( abi, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table );</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>      <span class="keywordflow">if</span>( table_type == KEYi64 || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == <span class="stringliteral">&quot;i64&quot;</span> || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == <span class="stringliteral">&quot;name&quot;</span> ) {</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>         <span class="keywordflow">return</span> get_table_rows_ex&lt;key_value_index&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>,abi);</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>      }</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, chain::contract_table_query_exception,  <span class="stringliteral">&quot;Invalid table type ${type}&quot;</span>, (<span class="stringliteral">&quot;type&quot;</span>,table_type)(<span class="stringliteral">&quot;abi&quot;</span>,abi));</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type.empty(), chain::contract_table_query_exception, <span class="stringliteral">&quot;key type required for non-primary index&quot;</span> );</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span> </div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::i64 || <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == <span class="stringliteral">&quot;name&quot;</span>) {</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;index64_index, uint64_t&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, [](<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> v)-&gt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>            <span class="keywordflow">return</span> v;</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>         });</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>      }</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::i128) {</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;index128_index, uint128_t&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, [](<a class="code hl_typedef" href="namespacesysio_1_1chain_1_1config.html#a376f631fcb770bd4b2e8349a33e52f8a">uint128_t</a> v)-&gt;<a class="code hl_typedef" href="namespacesysio_1_1chain_1_1config.html#a376f631fcb770bd4b2e8349a33e52f8a">uint128_t</a> {</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>            <span class="keywordflow">return</span> v;</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>         });</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>      }</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::i256) {</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>         <span class="keywordflow">if</span> ( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.encode_type == chain_apis::hex) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            <span class="keyword">using  </span>conv = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1keytype__converter.html">keytype_converter&lt;chain_apis::sha256,chain_apis::hex&gt;</a>;</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>            <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;conv::index_type, conv::input_type&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, conv::function());</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>         }</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>         <span class="keyword">using  </span>conv = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1keytype__converter.html">keytype_converter&lt;chain_apis::i256&gt;</a>;</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;conv::index_type, conv::input_type&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, conv::function());</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>      }</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::float64) {</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;index_double_index, double&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, [](<span class="keywordtype">double</span> v)-&gt;<a class="code hl_struct" href="structfloat64__t.html">float64_t</a> {</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>            <a class="code hl_struct" href="structfloat64__t.html">float64_t</a> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>;</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>            <a class="code hl_function" href="namespacefc.html#a6bf522e3a9abacb2700aa3790f3c9261">double_to_float64</a>(v, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>);</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>         });</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>      }</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::float128) {</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>         <span class="keywordflow">if</span> ( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.encode_type == chain_apis::hex) {</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>            <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;index_long_double_index, uint128_t&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, [](<a class="code hl_typedef" href="namespacesysio_1_1chain_1_1config.html#a376f631fcb770bd4b2e8349a33e52f8a">uint128_t</a> v)-&gt;<a class="code hl_struct" href="structfloat128__t.html">float128_t</a>{</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>               <a class="code hl_struct" href="structfloat128__t.html">float128_t</a> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>;</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>               <a class="code hl_function" href="namespacefc.html#a532d37ecf09d0c5d09864fd9ebb2d36a">uint128_to_float128</a>(v, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>);</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>               <span class="keywordflow">return</span> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>            });</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>         }</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;index_long_double_index, double&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, [](<span class="keywordtype">double</span> v)-&gt;<a class="code hl_struct" href="structfloat128__t.html">float128_t</a>{</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>            <a class="code hl_struct" href="structfloat64__t.html">float64_t</a> <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>;</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>            <a class="code hl_function" href="namespacefc.html#a6bf522e3a9abacb2700aa3790f3c9261">double_to_float64</a>(v, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>);</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>            <a class="code hl_struct" href="structfloat128__t.html">float128_t</a> f128;</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>            <a class="code hl_function" href="softfloat_2source_2f64__to__f128_m_8c.html#ae37bff64b19e787368a0e7e1122450b7">f64_to_f128M</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, &amp;f128);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>            <span class="keywordflow">return</span> f128;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>         });</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>      }</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::sha256) {</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>         <span class="keyword">using  </span>conv = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1keytype__converter.html">keytype_converter&lt;chain_apis::sha256,chain_apis::hex&gt;</a>;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;conv::index_type, conv::input_type&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, conv::function());</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>      }</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type == chain_apis::ripemd160) {</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>         <span class="keyword">using  </span>conv = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1keytype__converter.html">keytype_converter&lt;chain_apis::ripemd160,chain_apis::hex&gt;</a>;</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>         <span class="keywordflow">return</span> get_table_rows_by_seckey&lt;conv::index_type, conv::input_type&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>, abi, conv::function());</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>      }</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, chain::contract_table_query_exception,  <span class="stringliteral">&quot;Unsupported secondary index type: ${t}&quot;</span>, (<span class="stringliteral">&quot;t&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.key_type));</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>   }</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>}</div>
</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span> </div>
<div class="foldopen" id="foldopen01749" data-start="{" data-end="}">
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aebac65de15658c01ae6832599ceea9ee"> 1749</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__result.html">read_only::get_table_by_scope_result</a> read_only::get_table_by_scope( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__params.html">read_only::get_table_by_scope_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__result.html">read_only::get_table_by_scope_result</a> result;</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span> </div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aacd8d660fd83146e0a5d6a9cb7b19a29">chain::table_id_multi_index</a>, chain::by_code_scope_table&gt;();</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>   <span class="keyword">auto</span> lower_bound_lookup_tuple = std::make_tuple( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code, <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>(std::numeric_limits&lt;uint64_t&gt;::lowest()), <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table );</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>   <span class="keyword">auto</span> upper_bound_lookup_tuple = std::make_tuple( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code, <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>(std::numeric_limits&lt;uint64_t&gt;::max()),</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>                                                    (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table.empty() ? <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>(std::numeric_limits&lt;uint64_t&gt;::max()) : <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table) );</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span> </div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>   <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound.<a class="code hl_function" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8">size</a>() ) {</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> scope = convert_to_type&lt;uint64_t&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound, <span class="stringliteral">&quot;lower_bound scope&quot;</span>);</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>      std::get&lt;1&gt;(lower_bound_lookup_tuple) = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(scope);</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>   }</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span> </div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>   <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.upper_bound.<a class="code hl_function" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8">size</a>() ) {</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> scope = convert_to_type&lt;uint64_t&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.upper_bound, <span class="stringliteral">&quot;upper_bound scope&quot;</span>);</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>      std::get&lt;1&gt;(upper_bound_lookup_tuple) = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(scope);</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>   }</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span> </div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>   <span class="keywordflow">if</span>( upper_bound_lookup_tuple &lt; lower_bound_lookup_tuple )</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span> </div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>   <span class="keyword">auto</span> walk_table_range = [&amp;]( <span class="keyword">auto</span> itr, <span class="keyword">auto</span> end_itr ) {</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>      <span class="keyword">auto</span> cur_time = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>      <span class="keyword">auto</span> end_time = cur_time + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(1000 * 10); </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>      <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> = 0; cur_time &lt;= end_time &amp;&amp; <a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a> &lt; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.limit &amp;&amp; itr != end_itr; ++itr, cur_time = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() ) {</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table &amp;&amp; itr-&gt;table != <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.table ) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span> </div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>         result.rows.push_back( {itr-&gt;code, itr-&gt;scope, itr-&gt;table, itr-&gt;payer, itr-&gt;count} );</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span> </div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>         ++<a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>;</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>      }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>      <span class="keywordflow">if</span>( itr != end_itr ) {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>         result.more = itr-&gt;scope.to_string();</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>      }</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>   };</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span> </div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>   <span class="keyword">auto</span> lower = idx.lower_bound( lower_bound_lookup_tuple );</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>   <span class="keyword">auto</span> upper = idx.upper_bound( upper_bound_lookup_tuple );</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>   <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.reverse &amp;&amp; *<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.reverse ) {</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>      walk_table_range( boost::make_reverse_iterator(upper), boost::make_reverse_iterator(lower) );</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>      walk_table_range( lower, upper );</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>   }</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span> </div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>}</div>
</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span> </div>
<div class="foldopen" id="foldopen01797" data-start="{" data-end="}">
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a6c99772e65be27388ca7b781fab63d62"> 1797</a></span><a class="code hl_class" href="classfc_1_1vector.html">vector&lt;asset&gt;</a> read_only::get_currency_balance( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__balance__params.html">read_only::get_currency_balance_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span> </div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>   <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">sysio::chain_apis::get_abi</a>( db, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code );</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>   (void)<a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>( abi, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<span class="stringliteral">&quot;accounts&quot;</span>) );</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span> </div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>   <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;asset&gt;</a> <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>;</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>   walk_key_value_table(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.account, <span class="stringliteral">&quot;accounts&quot;</span>_n, [&amp;](<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1key__value__object.html">key_value_object</a>&amp; obj){</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>      SYS_ASSERT( obj.value.size() &gt;= sizeof(asset), chain::asset_type_exception, <span class="stringliteral">&quot;Invalid data on table&quot;</span>);</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>      asset cursor;</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>      fc::datastream&lt;const char *&gt; ds(obj.value.data(), obj.value.size());</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>      fc::raw::unpack(ds, cursor);</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span> </div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>      SYS_ASSERT( cursor.get_symbol().valid(), chain::asset_type_exception, <span class="stringliteral">&quot;Invalid asset&quot;</span>);</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>      if( !p.symbol || boost::iequals(cursor.symbol_name(), *p.symbol) ) {</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>        results.emplace_back(cursor);</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>      }</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span> </div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>      <span class="comment">// return false if we are looking for one and found it, true otherwise</span></div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>      <span class="keywordflow">return</span> !(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.symbol &amp;&amp; boost::iequals(cursor.symbol_name(), *<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.symbol));</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>   });</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span> </div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>   <span class="keywordflow">return</span> <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>;</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>}</div>
</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span> </div>
<div class="foldopen" id="foldopen01823" data-start="{" data-end="}">
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a7af49932b12b98727f7f2872a40b047e"> 1823</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#a7af49932b12b98727f7f2872a40b047e">read_only::get_currency_stats</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__params.html">read_only::get_currency_stats_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>   <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>;</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span> </div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>   <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">sysio::chain_apis::get_abi</a>( db, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code );</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>   (void)<a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>( abi, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<span class="stringliteral">&quot;stat&quot;</span>) );</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span> </div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>   <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> scope = ( sysio::chain::string_to_symbol( 0, boost::algorithm::to_upper_copy(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.symbol).c_str() ) &gt;&gt; 8 );</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span> </div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>   <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#a05fc54d19d5cc028478d766ca45cbe5c">walk_key_value_table</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.code, <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>(scope), <span class="stringliteral">&quot;stat&quot;</span>_n, [&amp;](<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1key__value__object.html">key_value_object</a>&amp; obj){</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( obj.<a class="code hl_variable" href="structsysio_1_1chain_1_1key__value__object.html#ab78a91101969265c3e5345d6db5941e3">value</a>.<a class="code hl_function" href="classchainbase_1_1shared__cow__string.html#a3b3c57c0d2ee027bb70beb283be2a0f2">size</a>() &gt;= <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__result.html">read_only::get_currency_stats_result</a>), chain::asset_type_exception, <span class="stringliteral">&quot;Invalid data on table&quot;</span>);</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span> </div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>      <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char *&gt;</a> ds(obj.<a class="code hl_variable" href="structsysio_1_1chain_1_1key__value__object.html#ab78a91101969265c3e5345d6db5941e3">value</a>.<a class="code hl_function" href="classchainbase_1_1shared__cow__string.html#aa7b1bac206e0abc7e9ea9d642eb0b5b3">data</a>(), obj.<a class="code hl_variable" href="structsysio_1_1chain_1_1key__value__object.html#ab78a91101969265c3e5345d6db5941e3">value</a>.<a class="code hl_function" href="classchainbase_1_1shared__cow__string.html#a3b3c57c0d2ee027bb70beb283be2a0f2">size</a>());</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>      <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__result.html">read_only::get_currency_stats_result</a> result;</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, result.supply);</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, result.max_supply);</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, result.issuer);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span> </div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>      <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>[result.supply.symbol_name()] = result;</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>   });</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span> </div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>   <span class="keywordflow">return</span> <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>;</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>}</div>
</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span> </div>
<div class="foldopen" id="foldopen01848" data-start="{" data-end="}">
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a8566344f638304618d3768b20885e2b5"> 1848</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a8566344f638304618d3768b20885e2b5">get_global_row</a>( <span class="keyword">const</span> <a class="code hl_class" href="classchainbase_1_1database.html">database</a>&amp; db, <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a>&amp; abi, <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__serializer.html">abi_serializer</a>&amp; abis, <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>&amp; abi_serializer_max_time_us, <span class="keywordtype">bool</span> shorten_abi_errors ) {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>   <span class="keyword">const</span> <span class="keyword">auto</span> table_type = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>(abi, <span class="stringliteral">&quot;global&quot;</span>_n);</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(table_type == <a class="code hl_variable" href="classsysio_1_1chain__apis_1_1read__only.html#a11a144292087919b2f0a800cfdd356a2">read_only::KEYi64</a>, chain::contract_table_query_exception, <span class="stringliteral">&quot;Invalid table type ${type} for table global&quot;</span>, (<span class="stringliteral">&quot;type&quot;</span>,table_type));</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span> </div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* <span class="keyword">const</span> <a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a> = db.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple(config::system_account_name, config::system_account_name, <span class="stringliteral">&quot;global&quot;</span>_n));</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a>, chain::contract_table_query_exception, <span class="stringliteral">&quot;Missing table global&quot;</span>);</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span> </div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv_index = db.<a class="code hl_function" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">get_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>   <span class="keyword">const</span> <span class="keyword">auto</span> it = kv_index.find(boost::make_tuple(<a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a>-&gt;id, <span class="stringliteral">&quot;global&quot;</span>_n.to_uint64_t()));</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(it != kv_index.end(), chain::contract_table_query_exception, <span class="stringliteral">&quot;Missing row in table global&quot;</span>);</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span> </div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>   <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>   <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#a0dcb14319331c9229b8652e5cc85c60a">read_only::copy_inline_row</a>(*it, data);</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>   <span class="keywordflow">return</span> abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>(abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a413ac5143b5f8860d6b16dbc79e950b2">get_table_type</a>(<span class="stringliteral">&quot;global&quot;</span>_n), data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time_us ), shorten_abi_errors );</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>}</div>
</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span> </div>
<div class="foldopen" id="foldopen01864" data-start="{" data-end="}">
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aa4cd64db980084853c87f8886c5f74e8"> 1864</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__result.html">read_only::get_producers_result</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#aa4cd64db980084853c87f8886c5f74e8">read_only::get_producers</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__params.html">read_only::get_producers_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) <span class="keyword">const</span> <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>   <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">sysio::chain_apis::get_abi</a>(db, config::system_account_name);</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>   <span class="keyword">const</span> <span class="keyword">auto</span> table_type = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">get_table_type</a>(abi, <span class="stringliteral">&quot;producers&quot;</span>_n);</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>   <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__serializer.html">abi_serializer</a> abis{ abi, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ) };</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(table_type == KEYi64, chain::contract_table_query_exception, <span class="stringliteral">&quot;Invalid table type ${type} for table producers&quot;</span>, (<span class="stringliteral">&quot;type&quot;</span>,table_type));</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>   <span class="keyword">const</span> <span class="keyword">auto</span> lower = <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>{<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound};</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span> </div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>   <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> secondary_index_num = 0;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* <span class="keyword">const</span> <a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>           boost::make_tuple(config::system_account_name, config::system_account_name, <span class="stringliteral">&quot;producers&quot;</span>_n));</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* <span class="keyword">const</span> secondary_table_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>           boost::make_tuple(config::system_account_name, config::system_account_name, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<span class="stringliteral">&quot;producers&quot;</span>_n.to_uint64_t() | secondary_index_num)));</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a> &amp;&amp; secondary_table_id, chain::contract_table_query_exception, <span class="stringliteral">&quot;Missing producers table&quot;</span>);</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span> </div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; kv_index = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structsysio_1_1chain_1_1secondary__index.html">secondary_index</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a613ce5969969e88f01eba861173d2b1b">index_double_index</a>&gt;().indices();</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; secondary_index_by_primary = <a class="code hl_struct" href="structsysio_1_1chain_1_1secondary__index.html">secondary_index</a>.get&lt;by_primary&gt;();</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; secondary_index_by_secondary = <a class="code hl_struct" href="structsysio_1_1chain_1_1secondary__index.html">secondary_index</a>.get&lt;<a class="code hl_struct" href="structby__secondary.html">by_secondary</a>&gt;();</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span> </div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__result.html">read_only::get_producers_result</a> result;</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>   <span class="keyword">const</span> <span class="keyword">auto</span> stopTime = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(1000 * 10); <span class="comment">// 10ms</span></div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>   <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span> </div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>   <span class="keyword">auto</span> it = [&amp;]{</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>      <span class="keywordflow">if</span>(lower.to_uint64_t() == 0)</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>         <span class="keywordflow">return</span> secondary_index_by_secondary.lower_bound(</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>            boost::make_tuple(secondary_table_id-&gt;id, <a class="code hl_function" href="softfloat_2source_2include_2softfloat_8hpp.html#a94d6a7de67c4c0295bb025e9bc549544">to_softfloat64</a>(std::numeric_limits&lt;double&gt;::lowest()), 0));</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>         <span class="keywordflow">return</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1secondary__index.html">secondary_index</a>.project&lt;<a class="code hl_struct" href="structby__secondary.html">by_secondary</a>&gt;(</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>            secondary_index_by_primary.lower_bound(</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>               boost::make_tuple(secondary_table_id-&gt;id, lower.to_uint64_t())));</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>   }();</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span> </div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>   <span class="keywordflow">for</span>( ; it != secondary_index_by_secondary.end() &amp;&amp; it-&gt;t_id == secondary_table_id-&gt;id; ++it ) {</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>      <span class="keywordflow">if</span> (result.rows.size() &gt;= <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.limit || <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() &gt; stopTime) {</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>         result.more = <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>{it-&gt;primary_key}.<a class="code hl_function" href="structsysio_1_1chain_1_1name.html#ad1e96c77890d21207fc5cda532244019">to_string</a>();</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>      }</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>      copy_inline_row(*kv_index.find(boost::make_tuple(<a class="code hl_class" href="classchainbase_1_1oid.html">table_id</a>-&gt;id, it-&gt;primary_key)), data);</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.json)</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>         result.rows.emplace_back( abis.binary_to_variant( abis.get_table_type(<span class="stringliteral">&quot;producers&quot;</span>_n), data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors ) );</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>         result.rows.emplace_back(<a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(data));</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>   }</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span> </div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>   result.total_producer_vote_weight = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a8566344f638304618d3768b20885e2b5">get_global_row</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>, abi, abis, <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a>, shorten_abi_errors)[<span class="stringliteral">&quot;total_producer_vote_weight&quot;</span>].<a class="code hl_function" href="classfc_1_1variant.html#a61f334febee9b226fb077f6da3c52276">as_double</a>();</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>} <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__result.html">read_only::get_producers_result</a> result;</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span> </div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>   <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> : db.active_producers().producers) {</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>      <span class="keyword">auto</span> row = <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a>()</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>         (<span class="stringliteral">&quot;owner&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.producer_name)</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>         (<span class="stringliteral">&quot;producer_authority&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.authority)</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>         (<span class="stringliteral">&quot;url&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>         (<span class="stringliteral">&quot;total_votes&quot;</span>, 0.0f);</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span> </div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>      <span class="comment">// detect a legacy key and maintain API compatibility for those entries</span></div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>      <span class="keywordflow">if</span> (std::holds_alternative&lt;block_signing_authority_v0&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.authority)) {</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; auth = std::get&lt;block_signing_authority_v0&gt;(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.authority);</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>         <span class="keywordflow">if</span> (auth.keys.size() == 1 &amp;&amp; auth.keys.back().weight == auth.threshold) {</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>            row(<span class="stringliteral">&quot;producer_key&quot;</span>, auth.keys.back().key);</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>         }</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>      }</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span> </div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>      result.rows.push_back(row);</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>   }</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span> </div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>}</div>
</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span> </div>
<div class="foldopen" id="foldopen01937" data-start="{" data-end="}">
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#afd9ddf40d495a3ce12310a2011906ca0"> 1937</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__result.html">read_only::get_producer_schedule_result</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#afd9ddf40d495a3ce12310a2011906ca0">read_only::get_producer_schedule</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__params.html">read_only::get_producer_schedule_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__result.html">read_only::get_producer_schedule_result</a> result;</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>   <a class="code hl_function" href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">to_variant</a>(db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ae0a1946cc6f7b87bd0cfa94bc9aa20b7">active_producers</a>(), result.active);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>   <span class="keywordflow">if</span>(!db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a54645293859c265a7492eb002719c3dc">pending_producers</a>().<a class="code hl_variable" href="structsysio_1_1chain_1_1producer__authority__schedule.html#afb0f1bdb282b3d8e1a60ee37c70657d4">producers</a>.empty())</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>      <a class="code hl_function" href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">to_variant</a>(db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a54645293859c265a7492eb002719c3dc">pending_producers</a>(), result.pending);</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>   <span class="keyword">auto</span> proposed = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a3c16d661e137dbe654a1c40a972759d4">proposed_producers</a>();</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>   <span class="keywordflow">if</span>(proposed &amp;&amp; !proposed-&gt;producers.empty())</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>      <a class="code hl_function" href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">to_variant</a>(*proposed, result.proposed);</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>}</div>
</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span> </div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span> </div>
<div class="foldopen" id="foldopen01949" data-start="{" data-end="};">
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"><a class="line" href="structsysio_1_1chain__apis_1_1resolver__factory.html"> 1949</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1resolver__factory.html">resolver_factory</a> {</div>
<div class="foldopen" id="foldopen01950" data-start="{" data-end="}">
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"><a class="line" href="structsysio_1_1chain__apis_1_1resolver__factory.html#a1beb8a75295e98a03a1fb2496887156b"> 1950</a></span>    <span class="keyword">static</span> <span class="keyword">auto</span> <a class="code hl_function" href="structsysio_1_1chain__apis_1_1resolver__factory.html#a1beb8a75295e98a03a1fb2496887156b">make</a>(<span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; control, <a class="code hl_class" href="classfc_1_1optional__delegate.html">abi_serializer::yield_function_t</a> yield) {</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        <span class="keywordflow">return</span> [&amp;control, yield{std::move(yield)}](<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">account_name</a> &amp;<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>) -&gt; std::optional&lt;abi_serializer&gt; {</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>            <span class="keyword">const</span> <span class="keyword">auto</span>* accnt = control.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391">db</a>().template find&lt;account_object, by_name&gt;(<a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a>);</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>            <span class="keywordflow">if</span> (accnt != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>                <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(accnt-&gt;abi, abi)) {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>                    <span class="keywordflow">return</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__serializer.html">abi_serializer</a>(abi, yield);</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>                }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>            }</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>            <span class="keywordflow">return</span> std::optional&lt;abi_serializer&gt;();</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>        };</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>    }</div>
</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>};</div>
</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="foldopen" id="foldopen01964" data-start="{" data-end="}">
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"><a class="line" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708"> 1964</a></span><span class="keyword">auto</span> <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(<span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; control, <a class="code hl_class" href="classfc_1_1optional__delegate.html">abi_serializer::yield_function_t</a> yield) {</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="structsysio_1_1chain__apis_1_1resolver__factory.html#a1beb8a75295e98a03a1fb2496887156b">resolver_factory::make</a>(control, std::move( yield ));</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>}</div>
</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span> </div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>read_only::get_scheduled_transactions_result</div>
<div class="foldopen" id="foldopen01969" data-start="{" data-end="}">
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#acb138f85adb63725d0d62a96ed8bd8f4"> 1969</a></span><a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#acb138f85adb63725d0d62a96ed8bd8f4">read_only::get_scheduled_transactions</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__params.html">read_only::get_scheduled_transactions_params</a>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391">db</a>();</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span> </div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; idx_by_delay = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">generated_transaction_multi_index</a>,by_delay&gt;();</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>   <span class="keyword">auto</span> itr = ([&amp;](){</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound.empty()) {</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>            <span class="keyword">auto</span> when = <a class="code hl_function" href="classfc_1_1time__point.html#acf917831e171906dbbbd46b17bc6e0a5">time_point::from_iso_string</a>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound );</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>            <span class="keywordflow">return</span> idx_by_delay.lower_bound(boost::make_tuple(when));</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>         } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>               <span class="keyword">auto</span> txid = <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">transaction_id_type</a>(<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.lower_bound);</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; by_txid = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">generated_transaction_multi_index</a>,by_trx_id&gt;();</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>               <span class="keyword">auto</span> itr = by_txid.find( txid );</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>               <span class="keywordflow">if</span> (itr == by_txid.end()) {</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>(<a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;Unknown Transaction ID: ${txid}&quot;</span>, (<span class="stringliteral">&quot;txid&quot;</span>, txid));</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>               }</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span> </div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>               <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">generated_transaction_multi_index</a>&gt;().indices().project&lt;by_delay&gt;(itr);</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span> </div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>               <span class="keywordflow">return</span> idx_by_delay.end();</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>            }</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>         }</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>         <span class="keywordflow">return</span> idx_by_delay.begin();</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>      }</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>   })();</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span> </div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__result.html">read_only::get_scheduled_transactions_result</a> result;</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span> </div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>   <span class="keyword">auto</span> resolver = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span> </div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>   <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> remaining = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.limit;</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>   <span class="keyword">auto</span> time_limit = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(1000 * 10); </div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>   <span class="keywordflow">while</span> (itr != idx_by_delay.end() &amp;&amp; remaining &gt; 0 &amp;&amp; time_limit &gt; <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>()) {</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>      <span class="keyword">auto</span> row = <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a>()</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>              (<span class="stringliteral">&quot;trx_id&quot;</span>, itr-&gt;trx_id)</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>              (<span class="stringliteral">&quot;sender&quot;</span>, itr-&gt;sender)</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>              (<span class="stringliteral">&quot;sender_id&quot;</span>, itr-&gt;sender_id)</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>              (<span class="stringliteral">&quot;payer&quot;</span>, itr-&gt;payer)</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>              (<span class="stringliteral">&quot;delay_until&quot;</span>, itr-&gt;delay_until)</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>              (<span class="stringliteral">&quot;expiration&quot;</span>, itr-&gt;expiration)</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>              (<span class="stringliteral">&quot;published&quot;</span>, itr-&gt;published)</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>      ;</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span> </div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.json) {</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>         <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> pretty_transaction;</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>         <a class="code hl_struct" href="structsysio_1_1chain_1_1transaction.html">transaction</a> trx;</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>         <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char*&gt;</a> ds( itr-&gt;packed_trx.data(), itr-&gt;packed_trx.size() );</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>         <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds,trx);</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span> </div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>         <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a7e23d065d4624d99ec1945f3ea429415">abi_serializer::to_variant</a>(trx, pretty_transaction, resolver, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>         row(<span class="stringliteral">&quot;transaction&quot;</span>, pretty_transaction);</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>         <span class="keyword">auto</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1packed__transaction.html">packed_transaction</a> = <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ac6f5a1f1e061f000983f5d5f3ac25dfa">bytes</a>(itr-&gt;packed_trx.begin(), itr-&gt;packed_trx.end());</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>         row(<span class="stringliteral">&quot;transaction&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain_1_1packed__transaction.html">packed_transaction</a>);</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>      }</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span> </div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>      result.transactions.emplace_back(std::move(row));</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>      ++itr;</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>      remaining--;</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>   }</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span> </div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>   <span class="keywordflow">if</span> (itr != idx_by_delay.end()) {</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>      result.more = <a class="code hl_typedef" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>(itr-&gt;trx_id);</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>   }</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span> </div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>}</div>
</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span> </div>
<div class="foldopen" id="foldopen02041" data-start="{" data-end="}">
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a5f5bc599da55b928f71a0b3598854ea6"> 2041</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#a5f5bc599da55b928f71a0b3598854ea6">read_only::get_block</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__params.html">read_only::get_block_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> block;</div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>   std::optional&lt;uint64_t&gt; block_num;</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span> </div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id.empty() &amp;&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id.size() &lt;= 64,</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>               chain::block_id_type_exception,</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>               <span class="stringliteral">&quot;Invalid Block number or ID, must be greater than 0 and less than 64 characters&quot;</span></div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>   );</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span> </div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>      block_num = <a class="code hl_function" href="namespacefc.html#ab20c9acf886f89fabeb8a0d9ebc9abb8">fc::to_uint64</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id);</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>   } <span class="keywordflow">catch</span>( ... ) {}</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span> </div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>   <span class="keywordflow">if</span>( block_num ) {</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>      block = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb">fetch_block_by_number</a>( *block_num );</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>         block = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338">fetch_block_by_id</a>( <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>&gt;() );</div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::block_id_type_exception, <span class="stringliteral">&quot;Invalid block ID: ${block_num_or_id}&quot;</span>, (<span class="stringliteral">&quot;block_num_or_id&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id))</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>   }</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( block, unknown_block_exception, <span class="stringliteral">&quot;Could not find block: ${block}&quot;</span>, (<span class="stringliteral">&quot;block&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id));</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span> </div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>   <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> pretty_output;</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>   <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a7e23d065d4624d99ec1945f3ea429415">abi_serializer::to_variant</a>(*block, pretty_output, <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time )),</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>                              <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span> </div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>   <span class="keyword">const</span> <span class="keyword">auto</span> block_id = block-&gt;calculate_id();</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>   <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ref_block_prefix = block_id._hash[1];</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span> </div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>   <span class="keywordflow">return</span> <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a>(pretty_output.<a class="code hl_function" href="classfc_1_1variant.html#a17a7054a10963360c6a14d60f6e30128">get_object</a>())</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>           (<span class="stringliteral">&quot;id&quot;</span>, block_id)</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>           (<span class="stringliteral">&quot;block_num&quot;</span>,block-&gt;block_num())</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>           (<span class="stringliteral">&quot;ref_block_prefix&quot;</span>, ref_block_prefix);</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>}</div>
</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span> </div>
<div class="foldopen" id="foldopen02077" data-start="{" data-end="}">
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a523c530709c945a2618c0c82e0aca991"> 2077</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#a523c530709c945a2618c0c82e0aca991">read_only::get_block_info</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__info__params.html">read_only::get_block_info_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span> </div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> block;</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>         block = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb">fetch_block_by_number</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num );</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>   } <span class="keywordflow">catch</span> (...)   {</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>      <span class="comment">// assert below will handle the invalid block num</span></div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>   }</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span> </div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( block, unknown_block_exception, <span class="stringliteral">&quot;Could not find block: ${block}&quot;</span>, (<span class="stringliteral">&quot;block&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num));</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span> </div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>   <span class="keyword">const</span> <span class="keyword">auto</span> <span class="keywordtype">id</span> = block-&gt;calculate_id();</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>   <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ref_block_prefix = <span class="keywordtype">id</span>._hash[1];</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span> </div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>   <span class="keywordflow">return</span> <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> ()</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>         (<span class="stringliteral">&quot;block_num&quot;</span>, block-&gt;block_num())</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>         (<span class="stringliteral">&quot;ref_block_num&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a><span class="keyword">&gt;</span>(block-&gt;block_num()))</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>         (<span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>)</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>         (<span class="stringliteral">&quot;timestamp&quot;</span>, block-&gt;timestamp)</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>         (<span class="stringliteral">&quot;producer&quot;</span>, block-&gt;producer)</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>         (<span class="stringliteral">&quot;confirmed&quot;</span>, block-&gt;confirmed)</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>         (<span class="stringliteral">&quot;previous&quot;</span>, block-&gt;previous)</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>         (<span class="stringliteral">&quot;transaction_mroot&quot;</span>, block-&gt;transaction_mroot)</div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>         (<span class="stringliteral">&quot;action_mroot&quot;</span>, block-&gt;action_mroot)</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>         (<span class="stringliteral">&quot;schedule_version&quot;</span>, block-&gt;schedule_version)</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>         (<span class="stringliteral">&quot;producer_signature&quot;</span>, block-&gt;producer_signature)</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>         (<span class="stringliteral">&quot;ref_block_prefix&quot;</span>, ref_block_prefix);</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>}</div>
</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span> </div>
<div class="foldopen" id="foldopen02106" data-start="{" data-end="}">
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aea10610efc15779dd619646ca8ad3bc6"> 2106</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__only.html#aea10610efc15779dd619646ca8ad3bc6">read_only::get_block_header_state</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__header__state__params.html">get_block_header_state_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> b;</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>   std::optional&lt;uint64_t&gt; block_num;</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>   std::exception_ptr e;</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>      block_num = <a class="code hl_function" href="namespacefc.html#ab20c9acf886f89fabeb8a0d9ebc9abb8">fc::to_uint64</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id);</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>   } <span class="keywordflow">catch</span>( ... ) {}</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span> </div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>   <span class="keywordflow">if</span>( block_num ) {</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>      b = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f">fetch_block_state_by_number</a>(*block_num);</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>         b = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#acd214861da435dc956d30c81de7c50ff">fetch_block_state_by_id</a>(<a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id).<a class="code hl_function" href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">as</a>&lt;<a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>&gt;());</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::block_id_type_exception, <span class="stringliteral">&quot;Invalid block ID: ${block_num_or_id}&quot;</span>, (<span class="stringliteral">&quot;block_num_or_id&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id))</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>   }</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span> </div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( b, unknown_block_exception, <span class="stringliteral">&quot;Could not find reversible block: ${block}&quot;</span>, (<span class="stringliteral">&quot;block&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.block_num_or_id));</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span> </div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>   <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> vo;</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>   <a class="code hl_function" href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">fc::to_variant</a>( <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code hl_struct" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a>&amp;<span class="keyword">&gt;</span>(*b), vo );</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>   <span class="keywordflow">return</span> vo;</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>}</div>
</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span> </div>
<div class="foldopen" id="foldopen02129" data-start="{" data-end="}">
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a13de1df62a5b97ae48e8f5793958663f"> 2129</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a13de1df62a5b97ae48e8f5793958663f">read_write::push_block</a>(<a class="code hl_struct" href="structsysio_1_1chain_1_1signed__block.html">read_write::push_block_params</a>&amp;&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::push_block_results&gt;</a> next) {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">incoming::methods::block_sync</a>&gt;()(std::make_shared&lt;signed_block&gt;( std::move(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>) ), std::optional&lt;block_id_type&gt;{}, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>{});</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>   } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>   } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span>   } <a class="code hl_define" href="exception_8hpp.html#aed56aa2593b6f6fc6a839b7cb5c6e8e3">FC_LOG_AND_DROP</a>()</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>   next(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1empty.html">read_write::push_block_results</a>{});</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>}</div>
</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span> </div>
<div class="foldopen" id="foldopen02140" data-start="{" data-end="}">
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#af607f8f57b7e15ce557179795303a4e9"> 2140</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#af607f8f57b7e15ce557179795303a4e9">read_write::push_transaction</a>(<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1variant__object.html">read_write::push_transaction_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::push_transaction_results&gt;</a> next) {</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>      <span class="keyword">auto</span> pretty_input = std::make_shared&lt;packed_transaction&gt;();</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>      <span class="keyword">auto</span> resolver = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>         <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">abi_serializer::from_variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, *pretty_input, std::move( resolver ), <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::packed_transaction_type_exception, <span class="stringliteral">&quot;Invalid packed transaction&quot;</span>)</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span> </div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">incoming::methods::transaction_async</a>&gt;()(pretty_input, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>            [<span class="keyword">this</span>, next](<span class="keyword">const</span> std::variant&lt;fc::exception_ptr, transaction_trace_ptr&gt;&amp; result) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>         <span class="keywordflow">if</span> (std::holds_alternative&lt;fc::exception_ptr&gt;(result)) {</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>            next(std::get&lt;fc::exception_ptr&gt;(result));</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>            <span class="keyword">auto</span> trx_trace_ptr = std::get&lt;transaction_trace_ptr&gt;(result);</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span> </div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>               <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> output;</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>                  output = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#afca478b72d646f19c87d7e1c4f08453e">to_variant_with_abi</a>( *trx_trace_ptr, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ) );</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span> </div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>                  <span class="comment">// Create map of (closest_unnotified_ancestor_action_ordinal, global_sequence) with action trace</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>                  std::map&lt; std::pair&lt;uint32_t, uint64_t&gt;, <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> &gt; act_traces_map;</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>                  <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; act_trace : output[<span class="stringliteral">&quot;action_traces&quot;</span>].get_array() ) {</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>                     <span class="keywordflow">if</span> (act_trace[<span class="stringliteral">&quot;receipt&quot;</span>].is_null() &amp;&amp; act_trace[<span class="stringliteral">&quot;except&quot;</span>].is_null()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>                     <span class="keyword">auto</span> closest_unnotified_ancestor_action_ordinal =</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>                           act_trace[<span class="stringliteral">&quot;closest_unnotified_ancestor_action_ordinal&quot;</span>].as&lt;<a class="code hl_struct" href="structfc_1_1unsigned__int.html">fc::unsigned_int</a>&gt;().<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>;</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>                     <span class="keyword">auto</span> global_sequence = act_trace[<span class="stringliteral">&quot;receipt&quot;</span>].is_null() ?</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>                                                std::numeric_limits&lt;uint64_t&gt;::max() :</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>                                                act_trace[<span class="stringliteral">&quot;receipt&quot;</span>][<span class="stringliteral">&quot;global_sequence&quot;</span>].as&lt;<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&gt;();</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>                     act_traces_map.emplace( std::make_pair( closest_unnotified_ancestor_action_ordinal,</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>                                                             global_sequence ),</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>                                             act_trace.get_object() );</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>                  }</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span> </div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>                  std::function&lt;vector&lt;fc::variant&gt;(<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)&gt; convert_act_trace_to_tree_struct =</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>                  [&amp;](<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> closest_unnotified_ancestor_action_ordinal) {</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>                     <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;fc::variant&gt;</a> restructured_act_traces;</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>                     <span class="keyword">auto</span> it = act_traces_map.lower_bound(</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>                                 std::make_pair( closest_unnotified_ancestor_action_ordinal, 0)</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>                     );</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>                     <span class="keywordflow">for</span>( ;</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>                        it != act_traces_map.end() &amp;&amp; it-&gt;first.first == closest_unnotified_ancestor_action_ordinal; ++it )</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                     {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                        <span class="keyword">auto</span>&amp; act_trace_mvo = it-&gt;second;</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span> </div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                        <span class="keyword">auto</span> action_ordinal = act_trace_mvo[<span class="stringliteral">&quot;action_ordinal&quot;</span>].as&lt;<a class="code hl_struct" href="structfc_1_1unsigned__int.html">fc::unsigned_int</a>&gt;().<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>;</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>                        act_trace_mvo[<span class="stringliteral">&quot;inline_traces&quot;</span>] = convert_act_trace_to_tree_struct(action_ordinal);</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>                        <span class="keywordflow">if</span> (act_trace_mvo[<span class="stringliteral">&quot;receipt&quot;</span>].is_null()) {</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>                           act_trace_mvo[<span class="stringliteral">&quot;receipt&quot;</span>] = <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a>()</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                              (<span class="stringliteral">&quot;abi_sequence&quot;</span>, 0)</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                              (<span class="stringliteral">&quot;act_digest&quot;</span>, <a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">digest_type::hash</a>(trx_trace_ptr-&gt;action_traces[action_ordinal-1].act))</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                              (<span class="stringliteral">&quot;auth_sequence&quot;</span>, flat_map&lt;account_name,uint64_t&gt;())</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                              (<span class="stringliteral">&quot;code_sequence&quot;</span>, 0)</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                              (<span class="stringliteral">&quot;global_sequence&quot;</span>, 0)</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>                              (<span class="stringliteral">&quot;receiver&quot;</span>, act_trace_mvo[<span class="stringliteral">&quot;receiver&quot;</span>])</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>                              (<span class="stringliteral">&quot;recv_sequence&quot;</span>, 0);</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>                        }</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>                        restructured_act_traces.push_back( std::move(act_trace_mvo) );</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>                     }</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>                     <span class="keywordflow">return</span> restructured_act_traces;</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>                  };</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span> </div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>                  <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> output_mvo(output);</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>                  output_mvo[<span class="stringliteral">&quot;action_traces&quot;</span>] = convert_act_trace_to_tree_struct(0);</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span> </div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>                  output = output_mvo;</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>               } <span class="keywordflow">catch</span>( chain::abi_exception&amp; ) {</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>                  output = *trx_trace_ptr;</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>               }</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span> </div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>               <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">chain::transaction_id_type</a>&amp; <span class="keywordtype">id</span> = trx_trace_ptr-&gt;id;</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>               next(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__write_1_1push__transaction__results.html">read_write::push_transaction_results</a>{<a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, output});</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>            } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>         }</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>      });</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>   } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>   } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>}</div>
</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span> </div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span><span class="keyword">static</span> <span class="keywordtype">void</span> push_recurse(<a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__write.html">read_write</a>* rw, <span class="keywordtype">int</span> index, <span class="keyword">const</span> std::shared_ptr&lt;read_write::push_transactions_params&gt;&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <span class="keyword">const</span> std::shared_ptr&lt;read_write::push_transactions_results&gt;&amp; <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::push_transactions_results&gt;</a>&amp; next) {</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>   <span class="keyword">auto</span> wrapped_next = [=](<span class="keyword">const</span> std::variant&lt;fc::exception_ptr, read_write::push_transaction_results&gt;&amp; result) {</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>      <span class="keywordflow">if</span> (std::holds_alternative&lt;fc::exception_ptr&gt;(result)) {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; e = std::get&lt;fc::exception_ptr&gt;(result);</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>         <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>-&gt;emplace_back( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__write_1_1push__transaction__results.html">read_write::push_transaction_results</a>{ <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">transaction_id_type</a>(), <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a>( <span class="stringliteral">&quot;error&quot;</span>, e-&gt;to_detail_string() ) } );</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> = std::get&lt;read_write::push_transaction_results&gt;(result);</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>         <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>-&gt;emplace_back( <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> );</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>      }</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span> </div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>      <span class="keywordtype">size_t</span> next_index = index + 1;</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>      <span class="keywordflow">if</span> (next_index &lt; params-&gt;size()) {</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>         push_recurse(rw, next_index, <a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>, <a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>, next );</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>         <a class="code hl_function" href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">next</a>(*<a class="code hl_typedef" href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a>);</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>      }</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>   };</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span> </div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>   rw-&gt;<a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#af607f8f57b7e15ce557179795303a4e9">push_transaction</a>(<a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>-&gt;at(index), wrapped_next);</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>}</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span> </div>
<div class="foldopen" id="foldopen02243" data-start="{" data-end="}">
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a1968acd4b02a71786821082283cd2e24"> 2243</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a1968acd4b02a71786821082283cd2e24">read_write::push_transactions</a>(<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1vector.html">read_write::push_transactions_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::push_transactions_results&gt;</a> next) {</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.size() &lt;= 1000, too_many_tx_at_once, <span class="stringliteral">&quot;Attempt to push too many transactions at once&quot;</span> );</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>      <span class="keyword">auto</span> params_copy = std::make_shared&lt;read_write::push_transactions_params&gt;(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.begin(), <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.end());</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>      <span class="keyword">auto</span> result = std::make_shared&lt;read_write::push_transactions_results&gt;();</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>      result-&gt;reserve(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.size());</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span> </div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>      push_recurse(<span class="keyword">this</span>, 0, params_copy, result, next);</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>   } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>   } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>}</div>
</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span> </div>
<div class="foldopen" id="foldopen02258" data-start="{" data-end="}">
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a1da8a36ada58712781b2aef93801c161"> 2258</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a1da8a36ada58712781b2aef93801c161">read_write::send_transaction</a>(<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1variant__object.html">read_write::send_transaction_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::send_transaction_results&gt;</a> next) {</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span> </div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>      <span class="keyword">auto</span> pretty_input = std::make_shared&lt;packed_transaction&gt;();</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>      <span class="keyword">auto</span> resolver = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>         <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">abi_serializer::from_variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, *pretty_input, resolver, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::packed_transaction_type_exception, <span class="stringliteral">&quot;Invalid packed transaction&quot;</span>)</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span> </div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">incoming::methods::transaction_async</a>&gt;()(pretty_input, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>            [<span class="keyword">this</span>, next](<span class="keyword">const</span> std::variant&lt;fc::exception_ptr, transaction_trace_ptr&gt;&amp; result) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>         <span class="keywordflow">if</span> (std::holds_alternative&lt;fc::exception_ptr&gt;(result)) {</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>            next(std::get&lt;fc::exception_ptr&gt;(result));</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>            <span class="keyword">auto</span> trx_trace_ptr = std::get&lt;transaction_trace_ptr&gt;(result);</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span> </div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>               <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> output;</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>                  output = db.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#afca478b72d646f19c87d7e1c4f08453e">to_variant_with_abi</a>( *trx_trace_ptr, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ) );</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>               } <span class="keywordflow">catch</span>( chain::abi_exception&amp; ) {</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>                  output = *trx_trace_ptr;</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>               }</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span> </div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>               <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">chain::transaction_id_type</a>&amp; <span class="keywordtype">id</span> = trx_trace_ptr-&gt;id;</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>               next(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__write_1_1push__transaction__results.html">read_write::send_transaction_results</a>{<a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, output});</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>            } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>         }</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>      });</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>   } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>   } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>}</div>
</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span> </div>
<div class="foldopen" id="foldopen02294" data-start="{" data-end="}">
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__write.html#a66864115e8048f66efefa74b3bfd4052"> 2294</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classsysio_1_1chain__apis_1_1read__write.html#a66864115e8048f66efefa74b3bfd4052">read_write::send_transaction2</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__write_1_1send__transaction2__params.html">read_write::send_transaction2_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">next_function&lt;read_write::send_transaction_results&gt;</a> next) {</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>      <span class="keyword">auto</span> ptrx = std::make_shared&lt;packed_transaction&gt;();</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>      <span class="keyword">auto</span> resolver = <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">make_resolver</a>(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>         <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">abi_serializer::from_variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.transaction, *ptrx, resolver, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( abi_serializer_max_time ));</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::packed_transaction_type_exception, <span class="stringliteral">&quot;Invalid packed transaction&quot;</span>)</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span> </div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>      <span class="keywordtype">bool</span> retry = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.retry_trx;</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>      std::optional&lt;uint16_t&gt; retry_num_blocks = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.retry_trx_num_blocks;</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span> </div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !retry || trx_retry.has_value(), unsupported_feature, <span class="stringliteral">&quot;Transaction retry not enabled on node&quot;</span> );</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !retry || (ptrx-&gt;expiration() &lt;= trx_retry-&gt;get_max_expiration_time()), tx_exp_too_far_exception,</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>                  <span class="stringliteral">&quot;retry transaction expiration ${e} larger than allowed ${m}&quot;</span>,</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>                  (<span class="stringliteral">&quot;e&quot;</span>, ptrx-&gt;expiration())(<span class="stringliteral">&quot;m&quot;</span>, trx_retry-&gt;get_max_expiration_time()) );</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span> </div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">get_method</a>&lt;<a class="code hl_struct" href="structappbase_1_1method__decl.html">incoming::methods::transaction_async</a>&gt;()(ptrx, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.return_failure_trace),</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>         [<span class="keyword">this</span>, ptrx, next, retry, retry_num_blocks](<span class="keyword">const</span> std::variant&lt;fc::exception_ptr, transaction_trace_ptr&gt;&amp; result) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>            if( std::holds_alternative&lt;fc::exception_ptr&gt;( result ) ) {</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>               next( std::get&lt;fc::exception_ptr&gt;( result ) );</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>               try {</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                  auto trx_trace_ptr = std::get&lt;transaction_trace_ptr&gt;( result );</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                  if( retry &amp;&amp; trx_retry.has_value() &amp;&amp; !trx_trace_ptr-&gt;except) {</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                     <span class="comment">// will be ack&#39;ed via next later</span></div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                     trx_retry-&gt;track_transaction( ptrx, retry_num_blocks,</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>                        [ptrx, next](const std::variant&lt;fc::exception_ptr, std::unique_ptr&lt;fc::variant&gt;&gt;&amp; result ) {</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>                           if( std::holds_alternative&lt;fc::exception_ptr&gt;( result ) ) {</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>                              next( std::get&lt;fc::exception_ptr&gt;( result ) );</div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>                           } else {</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>                              fc::variant&amp; output = *std::get&lt;std::unique_ptr&lt;fc::variant&gt;&gt;( result );</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>                              next( read_write::send_transaction_results{ptrx-&gt;id(), std::move( output )} );</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>                           }</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>                        } );</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>                  } else {</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>                     fc::variant output;</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>                     try {</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>                        output = db.to_variant_with_abi( *trx_trace_ptr, abi_serializer::create_yield_function( abi_serializer_max_time ) );</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>                     } catch( chain::abi_exception&amp; ) {</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>                        output = *trx_trace_ptr;</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>                     }</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>                     const chain::transaction_id_type&amp; id = trx_trace_ptr-&gt;id;</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>                     next( read_write::send_transaction_results{id, std::move( output )} );</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>                  }</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>               } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>( next );</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            }</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>         });</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>   } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>   } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>      <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>}</div>
</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span> </div>
<div class="foldopen" id="foldopen02348" data-start="{" data-end="}">
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a76120b0565bffdc2dad13fe8ac84ed49"> 2348</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__abi__results.html">read_only::get_abi_results</a> read_only::get_abi( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__abi__params.html">get_abi_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__abi__results.html">get_abi_results</a> result;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt  = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name );</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span> </div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(accnt.abi, abi) ) {</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>      result.abi = std::move(abi);</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>   }</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span> </div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>}</div>
</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span> </div>
<div class="foldopen" id="foldopen02362" data-start="{" data-end="}">
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#abf89d46e1139e8cbf7980afef7cca4d3"> 2362</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__results.html">read_only::get_code_results</a> read_only::get_code( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__params.html">get_code_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__results.html">get_code_results</a> result;</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_obj          = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name );</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_metadata_obj = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__metadata__object.html">account_metadata_object</a>,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name );</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span> </div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code_as_wasm, unsupported_feature, <span class="stringliteral">&quot;Returning WAST from get_code is no longer supported&quot;</span> );</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span> </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>   <span class="keywordflow">if</span>( accnt_metadata_obj.code_hash != <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>() ) {</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; code_obj = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1code__object.html">code_object</a>, by_code_hash&gt;(accnt_metadata_obj.code_hash);</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>      result.wasm = <a class="code hl_typedef" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>(code_obj.code.begin(), code_obj.code.end());</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>      result.code_hash = code_obj.code_hash;</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>   }</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span> </div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(accnt_obj.abi, abi) ) {</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>      result.abi = std::move(abi);</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>   }</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span> </div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>}</div>
</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span> </div>
<div class="foldopen" id="foldopen02385" data-start="{" data-end="}">
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a9c28e61781313a97b980563d9f39e80f"> 2385</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__results.html">read_only::get_code_hash_results</a> read_only::get_code_hash( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__params.html">get_code_hash_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__results.html">get_code_hash_results</a> result;</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt  = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__metadata__object.html">account_metadata_object</a>,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name );</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span> </div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>   <span class="keywordflow">if</span>( accnt.code_hash != <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>() )</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>      result.code_hash = accnt.code_hash;</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span> </div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>}</div>
</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span> </div>
<div class="foldopen" id="foldopen02397" data-start="{" data-end="}">
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a465189769912003a7f367d2cc02e612e"> 2397</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__results.html">read_only::get_raw_code_and_abi_results</a> read_only::get_raw_code_and_abi( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__params.html">get_raw_code_and_abi_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>)<span class="keyword">const </span>{</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__results.html">get_raw_code_and_abi_results</a> result;</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span> </div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_obj          = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name);</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_metadata_obj = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__metadata__object.html">account_metadata_object</a>,by_name&gt;(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name);</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>   <span class="keywordflow">if</span>( accnt_metadata_obj.code_hash != <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>() ) {</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; code_obj = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1code__object.html">code_object</a>, by_code_hash&gt;(accnt_metadata_obj.code_hash);</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>      result.wasm = <a class="code hl_struct" href="structfc_1_1blob.html">blob</a>{{code_obj.code.begin(), code_obj.code.end()}};</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>   }</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>   result.abi = <a class="code hl_struct" href="structfc_1_1blob.html">blob</a>{{accnt_obj.abi.begin(), accnt_obj.abi.end()}};</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span> </div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>}</div>
</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span> </div>
<div class="foldopen" id="foldopen02413" data-start="{" data-end="}">
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a70f07f7b0fbbcee3028587c3213032bd"> 2413</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__results.html">read_only::get_raw_abi_results</a> read_only::get_raw_abi( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__params.html">get_raw_abi_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__results.html">get_raw_abi_results</a> result;</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span> </div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_obj          = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name);</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_metadata_obj = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__metadata__object.html">account_metadata_object</a>,by_name&gt;(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name);</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>   result.abi_hash = <a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a>( accnt_obj.abi.data(), accnt_obj.abi.size() );</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>   <span class="keywordflow">if</span>( accnt_metadata_obj.code_hash != <a class="code hl_class" href="classfc_1_1sha256.html">digest_type</a>() )</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>      result.code_hash = accnt_metadata_obj.code_hash;</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>   <span class="keywordflow">if</span>( !<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.abi_hash || *<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.abi_hash != result.abi_hash )</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>      result.abi = <a class="code hl_struct" href="structfc_1_1blob.html">blob</a>{{accnt_obj.abi.begin(), accnt_obj.abi.end()}};</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span> </div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>}</div>
</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span> </div>
<div class="foldopen" id="foldopen02429" data-start="{" data-end="}">
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#aa45bd232905873b5c1733052568e1b68"> 2429</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__account__results.html">read_only::get_account_results</a> read_only::get_account( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__account__params.html">get_account_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1get__account__results.html">get_account_results</a> result;</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>   result.account_name = <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name;</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span> </div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; rm = db.get_resource_limits_manager();</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span> </div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>   result.head_block_num  = db.head_block_num();</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>   result.head_block_time = db.head_block_time();</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span> </div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>   rm.get_account_limits( result.account_name, result.ram_quota, result.net_weight, result.cpu_weight );</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span> </div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_obj = db.get_account( result.account_name );</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; accnt_metadata_obj = db.db().get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__metadata__object.html">account_metadata_object</a>,by_name&gt;( result.account_name );</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span> </div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>   result.privileged       = accnt_metadata_obj.is_privileged();</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>   result.last_code_update = accnt_metadata_obj.last_code_update;</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>   result.created          = accnt_obj.creation_date;</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span> </div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>   <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> greylist_limit = db.is_resource_greylisted(result.account_name) ? 1 : config::maximum_elastic_resource_multiplier;</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>   result.net_limit = rm.get_account_net_limit_ex( result.account_name, greylist_limit).first;</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>   result.cpu_limit = rm.get_account_cpu_limit_ex( result.account_name, greylist_limit).first;</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>   result.ram_usage = rm.get_account_ram_usage( result.account_name );</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span> </div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>   <span class="keywordflow">if</span> ( producer_plug ) {  <span class="comment">// producer_plug is null when called from chain_plugin_tests.cpp and get_table_tests.cpp</span></div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">account_resource_limit</a> subjective_cpu_bill_limit;</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>      subjective_cpu_bill_limit.<a class="code hl_variable" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html#a25bb0386b0663efe779b395c992546f3">used</a> = producer_plug-&gt;get_subjective_bill( result.account_name, <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() );</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>      result.subjective_cpu_bill_limit = subjective_cpu_bill_limit;</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>   }</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span> </div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>   <span class="keyword">const</span> <span class="keyword">auto</span> linked_action_map = ([&amp;](){</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; links = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a255011fa21760c6c73a1187a23d0afd1">permission_link_index</a>,by_permission_name&gt;();</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>      <span class="keyword">auto</span> iter = links.lower_bound( boost::make_tuple( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name ) );</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span> </div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>      std::multimap&lt;name, linked_action&gt; result;</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>      <span class="keywordflow">while</span> (iter != links.end() &amp;&amp; iter-&gt;account == <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name ) {</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>         <span class="keyword">auto</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1action.html">action</a> = iter-&gt;message_type.empty() ? std::optional&lt;name&gt;() : std::optional&lt;name&gt;(iter-&gt;message_type);</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>         result.emplace(std::make_pair(iter-&gt;required_permission, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1linked__action.html">linked_action</a>{iter-&gt;code, std::move(action)}));</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>         ++iter;</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>      }</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span> </div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>      <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>   })();</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span> </div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>   <span class="keyword">auto</span> get_linked_actions = [&amp;](<a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">chain::name</a> perm_name) {</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>      <span class="keyword">auto</span> link_bounds = linked_action_map.equal_range(perm_name);</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>      <span class="keyword">auto</span> linked_actions = std::vector&lt;linked_action&gt;();</div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>      linked_actions.reserve(linked_action_map.count(perm_name));</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> link = link_bounds.first; link != link_bounds.second; ++link) {</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>         linked_actions.push_back(link-&gt;second);</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span>      }</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>      <span class="keywordflow">return</span> linked_actions;</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>   };</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span> </div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; permissions = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4e24a1668746342d40487d1019880986">permission_index</a>,by_owner&gt;();</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>   <span class="keyword">auto</span> perm = permissions.lower_bound( boost::make_tuple( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name ) );</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>   <span class="keywordflow">while</span>( perm != permissions.end() &amp;&amp; perm-&gt;owner == <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name ) {</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1name.html">name</a> parent;</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>      <span class="comment">// Don&#39;t lookup parent if null</span></div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>      <span class="keywordflow">if</span>( perm-&gt;parent._id ) {</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>         <span class="keyword">const</span> <span class="keyword">auto</span>* <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1permission__object.html">permission_object</a>,by_id&gt;( perm-&gt;parent );</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> ) {</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(perm-&gt;owner == <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>-&gt;owner, invalid_parent_permission, <span class="stringliteral">&quot;Invalid parent permission&quot;</span>);</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span>            parent = <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>-&gt;name;</div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>         }</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>      }</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span> </div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>      <span class="keyword">auto</span> linked_actions = get_linked_actions(perm-&gt;name);</div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span> </div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>      result.permissions.push_back( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1permission.html">permission</a>{ perm-&gt;name, parent, perm-&gt;auth.to_authority(), std::move(linked_actions)} );</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>      ++perm;</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span>   }</div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span> </div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>   <span class="comment">// add sysio.any linked authorizations</span></div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>   result.sysio_any_linked_actions = get_linked_actions(chain::config::sysio_any_name);</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span> </div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; code_account = db.db().get&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;( config::system_account_name );</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span> </div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(code_account.abi, abi) ) {</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__serializer.html">abi_serializer</a> abis( abi, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ) );</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span> </div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>      <span class="keyword">const</span> <span class="keyword">auto</span> token_code = <span class="stringliteral">&quot;sysio.token&quot;</span>_n;</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span> </div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>      <span class="keyword">auto</span> core_symbol = extract_core_symbol();</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span> </div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>      <span class="keywordflow">if</span> (<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.expected_core_symbol)</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>         core_symbol = *(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.expected_core_symbol);</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span> </div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>      <span class="keyword">const</span> <span class="keyword">auto</span>* t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( token_code, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name, <span class="stringliteral">&quot;accounts&quot;</span>_n ));</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>      <span class="keywordflow">if</span>( t_id != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, core_symbol.to_symbol_code() ));</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>         <span class="keywordflow">if</span>( it != idx.end() &amp;&amp; it-&gt;value.size() &gt;= <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsysio_1_1chain_1_1asset.html">asset</a>) ) {</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>            <a class="code hl_struct" href="structsysio_1_1chain_1_1asset.html">asset</a> bal;</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>            <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char *&gt;</a> ds(it-&gt;value.data(), it-&gt;value.size());</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span>            <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, bal);</div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span> </div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>            <span class="keywordflow">if</span>( bal.<a class="code hl_function" href="structsysio_1_1chain_1_1asset.html#a807aa81522392e1869c5180289b3a41d">get_symbol</a>().<a class="code hl_function" href="classsysio_1_1chain_1_1symbol.html#a31f998c4cfde2fa9148ac3232b11a25d">valid</a>() &amp;&amp; bal.<a class="code hl_function" href="structsysio_1_1chain_1_1asset.html#a807aa81522392e1869c5180289b3a41d">get_symbol</a>() == core_symbol ) {</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>               result.core_liquid_balance = bal;</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>            }</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>         }</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>      }</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span> </div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>      t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( config::system_account_name, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name, <span class="stringliteral">&quot;userres&quot;</span>_n ));</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>      <span class="keywordflow">if</span> (t_id != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name.to_uint64_t() ));</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>         <span class="keywordflow">if</span> ( it != idx.end() ) {</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>            <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>            copy_inline_row(*it, data);</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>            result.total_resources = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>( <span class="stringliteral">&quot;user_resources&quot;</span>, data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>         }</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>      }</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span> </div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>      t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( config::system_account_name, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name, <span class="stringliteral">&quot;delband&quot;</span>_n ));</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>      <span class="keywordflow">if</span> (t_id != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name.to_uint64_t() ));</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>         <span class="keywordflow">if</span> ( it != idx.end() ) {</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>            <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>            copy_inline_row(*it, data);</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>            result.self_delegated_bandwidth = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>( <span class="stringliteral">&quot;delegated_bandwidth&quot;</span>, data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>         }</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>      }</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span> </div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>      t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( config::system_account_name, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name, <span class="stringliteral">&quot;refunds&quot;</span>_n ));</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>      <span class="keywordflow">if</span> (t_id != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name.to_uint64_t() ));</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>         <span class="keywordflow">if</span> ( it != idx.end() ) {</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>            <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>            copy_inline_row(*it, data);</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>            result.refund_request = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>( <span class="stringliteral">&quot;refund_request&quot;</span>, data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>         }</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>      }</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span> </div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>      t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( config::system_account_name, config::system_account_name, <span class="stringliteral">&quot;voters&quot;</span>_n ));</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>      <span class="keywordflow">if</span> (t_id != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name.to_uint64_t() ));</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>         <span class="keywordflow">if</span> ( it != idx.end() ) {</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>            <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>            copy_inline_row(*it, data);</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>            result.voter_info = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>( <span class="stringliteral">&quot;voter_info&quot;</span>, data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>         }</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>      }</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span> </div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>      t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( config::system_account_name, config::system_account_name, <span class="stringliteral">&quot;rexbal&quot;</span>_n ));</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>      <span class="keywordflow">if</span> (t_id != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>         <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>         <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.account_name.to_uint64_t() ));</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>         <span class="keywordflow">if</span>( it != idx.end() ) {</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>            <a class="code hl_class" href="classfc_1_1vector.html">vector&lt;char&gt;</a> data;</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>            copy_inline_row(*it, data);</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>            result.rex_info = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">binary_to_variant</a>( <span class="stringliteral">&quot;rex_balance&quot;</span>, data, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>         }</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>      }</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>   }</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>}</div>
</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span> </div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span><span class="keyword">static</span> <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> action_abi_to_variant( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a>&amp; abi, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a007674e7dd512662e202e2a3268da2c4">type_name</a> <a class="code hl_enumeration" href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a> ) {</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>   <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> v;</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>   <span class="keyword">auto</span> it = std::find_if(abi.structs.begin(), abi.structs.end(), [&amp;](<span class="keyword">auto</span>&amp; x){return x.name == action_type;});</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>   <span class="keywordflow">if</span>( it != abi.structs.end() )</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span>      <a class="code hl_function" href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">to_variant</a>( it-&gt;fields,  v );</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>   <span class="keywordflow">return</span> v;</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>};</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span> </div>
<div class="foldopen" id="foldopen02601" data-start="{" data-end="}">
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__apis_1_1read__only.html#a28457457c5e6c78466a13e1e18545eb3"> 2601</a></span><a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__result.html">read_only::abi_json_to_bin_result</a> read_only::abi_json_to_bin( <span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__params.html">read_only::abi_json_to_bin_params</a>&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const</span> <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>   <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__result.html">abi_json_to_bin_result</a> result;</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>   <span class="keyword">const</span> <span class="keyword">auto</span> code_account = db.db().find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1account__object.html">account_object</a>,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code );</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(code_account != <span class="keyword">nullptr</span>, contract_query_exception, <span class="stringliteral">&quot;Contract can&#39;t be found ${contract}&quot;</span>, (<span class="stringliteral">&quot;contract&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code));</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span> </div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(code_account-&gt;abi, abi) ) {</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__serializer.html">abi_serializer</a> abis( abi, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ) );</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>      <span class="keyword">auto</span> <a class="code hl_enumeration" href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a> = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a76885bc1fc719e1230f5edf19ce5bcb4">get_action_type</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.action);</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(!<a class="code hl_enumeration" href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a>.empty(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a764b50974b9b72a0e233e72176913d6b">action_validate_exception</a>, <span class="stringliteral">&quot;Unknown action ${action} in contract ${contract}&quot;</span>, (<span class="stringliteral">&quot;action&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.action)(<span class="stringliteral">&quot;contract&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code));</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>         result.binargs = abis.<a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a6e978b5089ec66305c0accba348937d1">variant_to_binary</a>( <a class="code hl_enumeration" href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.args, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ), shorten_abi_errors );</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>      } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::invalid_action_args_exception,</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>                                <span class="stringliteral">&quot;&#39;${args}&#39; is invalid args for action &#39;${action}&#39; code &#39;${code}&#39;. expected &#39;${proto}&#39;&quot;</span>,</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>                                (<span class="stringliteral">&quot;args&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.args)(<span class="stringliteral">&quot;action&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.action)(<span class="stringliteral">&quot;code&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code)(<span class="stringliteral">&quot;proto&quot;</span>, action_abi_to_variant(abi, <a class="code hl_enumeration" href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a>)))</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, abi_not_found_exception, <span class="stringliteral">&quot;No ABI found for ${contract}&quot;</span>, (<span class="stringliteral">&quot;contract&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code));</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>   }</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>} <a class="code hl_define" href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a>( warn, <span class="stringliteral">&quot;code: ${code}, action: ${action}, args: ${args}&quot;</span>,</div>
</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>                         (<span class="stringliteral">&quot;code&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code)( <span class="stringliteral">&quot;action&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.action )( <span class="stringliteral">&quot;args&quot;</span>, <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.args ))</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span> </div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span><a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__only.html">read_only</a>::abi_bin_to_json_result <a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__only.html">read_only</a>::abi_bin_to_json( const <a class="code hl_class" href="classsysio_1_1chain__apis_1_1read__only.html">read_only</a>::abi_bin_to_json_params&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>   abi_bin_to_json_result result;</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; code_account = db.db().get&lt;account_object,by_name&gt;( <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.code );</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1abi__def.html">abi_def</a> abi;</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>   <span class="keywordflow">if</span>( <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">abi_serializer::to_abi</a>(code_account.abi, abi) ) {</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>      abi_serializer abis( abi, abi_serializer::create_yield_function( abi_serializer_max_time ) );</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>      result.args = abis.binary_to_variant( abis.get_action_type( params.action ), params.binargs, abi_serializer::create_yield_function( abi_serializer_max_time ), shorten_abi_errors );</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span>      SYS_ASSERT(false, abi_not_found_exception, <span class="stringliteral">&quot;No ABI found for ${contract}&quot;</span>, (<span class="stringliteral">&quot;contract&quot;</span>, params.code));</div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>   }</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>   <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>}</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span> </div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span>read_only::get_required_keys_result read_only::get_required_keys( <span class="keyword">const</span> get_required_keys_params&amp; <a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a> )<span class="keyword">const </span>{</div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>   <a class="code hl_struct" href="structsysio_1_1chain_1_1transaction.html">transaction</a> pretty_input;</div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>   <span class="keyword">auto</span> resolver = make_resolver(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ));</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>   <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>      <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">abi_serializer::from_variant</a>(<a class="code hl_struct" href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">params</a>.transaction, pretty_input, resolver, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ));</div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>   } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::transaction_type_exception, <span class="stringliteral">&quot;Invalid transaction&quot;</span>)</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span> </div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>   auto required_keys_set = db.get_authorization_manager().get_required_keys( pretty_input, <a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>.available_keys, <a class="code hl_namespace" href="namespacefc.html">fc</a>::seconds( pretty_input.delay_sec ));</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>   get_required_keys_result result;</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>   result.required_keys = required_keys_set;</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>   <a class="code hl_variable" href="hello__driver_8cpp.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> result;</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>}</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span><span class="keywordtype">void</span> <a class="code hl_enumvalue" href="namespacefc.html#a3d8a2be677709cc41f09aa7925f2d55fad6bcd1364809e1b881bb22334d14cd56">read_only</a>::compute_transaction(const compute_transaction_params&amp; <a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain_1_1plugin__interface.html#a6ed984ecf76e4d360d5b142d27004c80">next_function</a>&lt;compute_transaction_results&gt; next)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span> </div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>        <span class="keyword">auto</span> pretty_input = std::make_shared&lt;packed_transaction&gt;();</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>        <span class="keyword">auto</span> resolver = make_resolver(db, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ));</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>            <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">abi_serializer::from_variant</a>(<a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>.transaction, *pretty_input, resolver, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ));</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>        } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a>(chain::packed_transaction_type_exception, <span class="stringliteral">&quot;Invalid packed transaction&quot;</span>)</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span> </div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>        <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().get_method&lt;incoming::methods::transaction_async&gt;()(pretty_input, false, true, true,</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>             [this, next](const <a class="code hl_namespace" href="namespacestd.html">std</a>::variant&lt;<a class="code hl_namespace" href="namespacefc.html">fc</a>::<a class="code hl_typedef" href="namespacefc.html#a15170d1be1e682691dfe6ae09790edce">exception_ptr</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&gt;&amp; result) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>                 <span class="keywordflow">if</span> (std::holds_alternative&lt;fc::exception_ptr&gt;(result)) {</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>                     <a class="code hl_function" href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">next</a>(std::get&lt;fc::exception_ptr&gt;(result));</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>                 } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>                     <span class="keyword">auto</span> trx_trace_ptr = std::get&lt;transaction_trace_ptr&gt;(result);</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span> </div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>                     <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>                         <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> output;</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>                         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>                             output = db.to_variant_with_abi( *trx_trace_ptr, <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>( <a class="code hl_variable" href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a> ) );</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>                         } <span class="keywordflow">catch</span>( chain::abi_exception&amp; ) {</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>                             output = *trx_trace_ptr;</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>                         }</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span> </div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>                         <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">chain::transaction_id_type</a>&amp; <span class="keywordtype">id</span> = trx_trace_ptr-&gt;id;</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>                         <a class="code hl_function" href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">next</a>(compute_transaction_results{<a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, output});</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>                     } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>                 }</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>             });</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>    } <span class="keywordflow">catch</span> ( boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>        <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">chain_plugin::handle_db_exhaustion</a>();</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>    } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>        <a class="code hl_function" href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">chain_plugin::handle_bad_alloc</a>();</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>    } <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a>(next);</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span>}</div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>read_only::get_transaction_id_result read_only::get_transaction_id( <span class="keyword">const</span> read_only::get_transaction_id_params&amp; <a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>)<span class="keyword">const </span>{</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>   <span class="keywordflow">return</span> <a class="code hl_typedef" href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a>.id();</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>}</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span> </div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span> </div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>account_query_db::get_accounts_by_authorizers_result read_only::get_accounts_by_authorizers( <span class="keyword">const</span> account_query_db::get_accounts_by_authorizers_params&amp; args)<span class="keyword"> const</span></div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(aqdb.has_value(), plugin_config_exception, <span class="stringliteral">&quot;Account Queries being accessed when not enabled&quot;</span>);</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>   <span class="keywordflow">return</span> aqdb-&gt;get_accounts_by_authorizers(args);</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>}</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span> </div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacedetail.html">detail</a> {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>   <span class="keyword">struct </span>ram_market_exchange_state_t {</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1asset.html">asset</a>  ignore1;</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1asset.html">asset</a>  ignore2;</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>      <span class="keywordtype">double</span> ignore3;</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>      <a class="code hl_struct" href="structsysio_1_1chain_1_1asset.html">asset</a>  core_symbol;</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>      <span class="keywordtype">double</span> ignore4;</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>   };</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>}</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span> </div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span><a class="code hl_class" href="classsysio_1_1chain_1_1symbol.html">chain::symbol</a> read_only::extract_core_symbol()<span class="keyword">const </span>{</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>   <a class="code hl_class" href="classsysio_1_1chain_1_1symbol.html">symbol</a> core_symbol(0);</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span> </div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>   <span class="comment">// The following code makes assumptions about the contract deployed on sysio account (i.e. the system contract) and how it stores its data.</span></div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = db.db();</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* t_id = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.find&lt;<a class="code hl_class" href="classsysio_1_1chain_1_1table__id__object.html">chain::table_id_object</a>, chain::by_code_scope_table&gt;(boost::make_tuple( <span class="stringliteral">&quot;sysio&quot;</span>_n, <span class="stringliteral">&quot;sysio&quot;</span>_n, <span class="stringliteral">&quot;rammarket&quot;</span>_n ));</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>   <span class="keywordflow">if</span>( t_id != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;idx = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a>.get_index&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">key_value_index</a>, by_scope_primary&gt;();</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>      <span class="keyword">auto</span> it = idx.find(boost::make_tuple( t_id-&gt;id, sysio::chain::string_to_symbol_c(4,<span class="stringliteral">&quot;RAMCORE&quot;</span>) ));</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>      <span class="keywordflow">if</span>( it != idx.end() ) {</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>         detail::ram_market_exchange_state_t ram_market_exchange_state;</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span> </div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>         <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char *&gt;</a> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a>( it-&gt;value.data(), it-&gt;value.size() );</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span> </div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>            <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, ram_market_exchange_state);</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>         } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>            <span class="keywordflow">return</span> core_symbol;</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span>         }</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span> </div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>         <span class="keywordflow">if</span>( ram_market_exchange_state.core_symbol.get_symbol().valid() ) {</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>            core_symbol = ram_market_exchange_state.core_symbol.get_symbol();</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>         }</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>      }</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>   }</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span> </div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>   <span class="keywordflow">return</span> core_symbol;</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>}</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span> </div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>} <span class="comment">// namespace chain_apis</span></div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span> </div>
<div class="foldopen" id="foldopen02735" data-start="{" data-end="}">
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#ad8549f01fbc8b47dde7a876c08c83b68"> 2735</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#ad8549f01fbc8b47dde7a876c08c83b68">chain_plugin::get_log_trx_trace</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&amp; trx_trace )<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>    <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> pretty_output;</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>        <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a49420effa78be1a2244df19f295457e8">abi_serializer::to_log_variant</a>(trx_trace, pretty_output,</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>                                       <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">chain_apis::make_resolver</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>(), <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">get_abi_serializer_max_time</a>())),</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span>                                       <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">get_abi_serializer_max_time</a>()));</div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>        pretty_output = trx_trace;</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>    }</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>    <span class="keywordflow">return</span> pretty_output;</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>}</div>
</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span> </div>
<div class="foldopen" id="foldopen02747" data-start="{" data-end="}">
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"><a class="line" href="classsysio_1_1chain__plugin.html#ae56bb5451f52c447629b2cecbd8d4b58"> 2747</a></span><a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> <a class="code hl_function" href="classsysio_1_1chain__plugin.html#ae56bb5451f52c447629b2cecbd8d4b58">chain_plugin::get_log_trx</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structsysio_1_1chain_1_1transaction.html">transaction</a>&amp; trx)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>    <a class="code hl_class" href="classfc_1_1variant.html">fc::variant</a> pretty_output;</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>        <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a49420effa78be1a2244df19f295457e8">abi_serializer::to_log_variant</a>(trx, pretty_output,</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>                                       <a class="code hl_function" href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">chain_apis::make_resolver</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>(), <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">get_abi_serializer_max_time</a>())),</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>                                       <a class="code hl_function" href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">abi_serializer::create_yield_function</a>(<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">get_abi_serializer_max_time</a>()));</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        pretty_output = trx;</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>    }</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>    <span class="keywordflow">return</span> pretty_output;</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>}</div>
</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>} <span class="comment">// namespace sysio</span></div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span> </div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span><a class="code hl_define" href="reflect_8hpp.html#a2ace850e636b1ca0b18fe3177e413d99">FC_REFLECT</a>( sysio::chain_apis::detail::ram_market_exchange_state_t, (ignore1)(ignore2)(ignore3)(core_symbol)(ignore4) )</div>
<div class="ttc" id="a_x02-_disabled_macros_8cpp_html_ae28240b98d91d6eb7da702b770490f39"><div class="ttname"><a href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a></div><div class="ttdeci">foo f</div><div class="ttdef"><b>Definition</b> <a href="_x02-_disabled_macros_8cpp_source.html#l00025">X02-DisabledMacros.cpp:25</a></div></div>
<div class="ttc" id="aauthorization__manager_8hpp_html"><div class="ttname"><a href="authorization__manager_8hpp.html">authorization_manager.hpp</a></div></div>
<div class="ttc" id="ablock__log_8hpp_html"><div class="ttname"><a href="block__log_8hpp.html">block_log.hpp</a></div></div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="abn_8cpp_html_af0a5201ca8846f05f25435b41d7f39f7"><div class="ttname"><a href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a></div><div class="ttdeci">const mie::Vuint &amp; r</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00028">bn.cpp:28</a></div></div>
<div class="ttc" id="abroadcast__server_8cpp_html_a864de25b94a13d8c17e790b2e1638687"><div class="ttname"><a href="broadcast__server_8cpp.html#a864de25b94a13d8c17e790b2e1638687">action_type</a></div><div class="ttdeci">action_type</div><div class="ttdef"><b>Definition</b> <a href="broadcast__server_8cpp_source.html#l00031">broadcast_server.cpp:31</a></div></div>
<div class="ttc" id="acatch__reporter__console_8cpp_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="catch__reporter__console_8cpp_source.html#l00186">catch_reporter_console.cpp:186</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2config_8hpp_html"><div class="ttname"><a href="chain_2include_2sysio_2chain_2config_8hpp.html">config.hpp</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html">exceptions.hpp</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a1bfa656552ea0534b2c91ee0fe33f850"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a></div><div class="ttdeci">#define SYS_THROW(exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00013">exceptions.hpp:13</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a43bd817895cb757183fcecafc6ae7dc1"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a43bd817895cb757183fcecafc6ae7dc1">SYS_RETHROW_EXCEPTIONS</a></div><div class="ttdeci">#define SYS_RETHROW_EXCEPTIONS(exception_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00021">exceptions.hpp:21</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_ab200d016fe1306acaed181b722a3cac6"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#ab200d016fe1306acaed181b722a3cac6">CATCH_AND_CALL</a></div><div class="ttdeci">#define CATCH_AND_CALL(NEXT)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00073">exceptions.hpp:73</a></div></div>
<div class="ttc" id="achain__plugin_8cpp_html_a012f953b2f11a2881c400561bf10cd02"><div class="ttname"><a href="chain__plugin_8cpp.html#a012f953b2f11a2881c400561bf10cd02">_deep_mind_log</a></div><div class="ttdeci">FC_REFLECT_ENUM(chainbase::environment::os_t,(OS_LINUX)(OS_MACOS)(OS_WINDOWS)(OS_OTHER)) FC_REFLECT_ENUM(chainbase sysio::chain::deep_mind_handler _deep_mind_log</div><div class="ttdef"><b>Definition</b> <a href="#l00044">chain_plugin.cpp:37</a></div></div>
<div class="ttc" id="achain__plugin_8cpp_html_ac96900c0c3efb424647faf59995487d6"><div class="ttname"><a href="chain__plugin_8cpp.html#ac96900c0c3efb424647faf59995487d6">LOAD_VALUE_SET</a></div><div class="ttdeci">#define LOAD_VALUE_SET(options, op_name, container)</div><div class="ttdef"><b>Definition</b> <a href="#l00378">chain_plugin.cpp:378</a></div></div>
<div class="ttc" id="achain__plugin_8hpp_html"><div class="ttname"><a href="chain__plugin_8hpp.html">chain_plugin.hpp</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a1d2c585f90007be342c9c64ee9cc0f7c"><div class="ttname"><a href="classappbase_1_1application.html#a1d2c585f90007be342c9c64ee9cc0f7c">appbase::application::find_plugin</a></div><div class="ttdeci">abstract_plugin * find_plugin(const string &amp;name) const</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00511">application.cpp:511</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a5dfd3cfb1124c57963fa17b3f4aabbe1"><div class="ttname"><a href="classappbase_1_1application.html#a5dfd3cfb1124c57963fa17b3f4aabbe1">appbase::application::data_dir</a></div><div class="ttdeci">bfs::path data_dir() const</div><div class="ttdoc">Get data directory.</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00527">application.cpp:527</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a780543c4d0330fe88b912a3fa914f953"><div class="ttname"><a href="classappbase_1_1application.html#a780543c4d0330fe88b912a3fa914f953">appbase::application::version_string</a></div><div class="ttdeci">string version_string() const</div><div class="ttdoc">Get version string; generated from git describe if available.</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00106">application.cpp:106</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a81aa58d3f94570b7976145039155fc46"><div class="ttname"><a href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46">appbase::application::quit</a></div><div class="ttdeci">void quit()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00415">application.cpp:415</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a87887b19b1f639ca551645813bb380de"><div class="ttname"><a href="classappbase_1_1application.html#a87887b19b1f639ca551645813bb380de">appbase::application::get_method</a></div><div class="ttdeci">auto get_method() -&gt; std::enable_if_t&lt; is_method_decl&lt; MethodDecl &gt;::value, typename MethodDecl::method_type &amp; &gt;</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00167">application.hpp:167</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a9b2c99749c7209e218a3dbbe51cfdeac"><div class="ttname"><a href="classappbase_1_1application.html#a9b2c99749c7209e218a3dbbe51cfdeac">appbase::application::config_dir</a></div><div class="ttdeci">bfs::path config_dir() const</div><div class="ttdoc">Get config directory.</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00531">application.cpp:531</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_aa47481ba83e2811dff7f84eff8662a56"><div class="ttname"><a href="classappbase_1_1application.html#aa47481ba83e2811dff7f84eff8662a56">appbase::application::is_quiting</a></div><div class="ttdeci">bool is_quiting() const</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00420">application.cpp:420</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_ab53422301065100de5ac7818f5b9b3fc"><div class="ttname"><a href="classappbase_1_1application.html#ab53422301065100de5ac7818f5b9b3fc">appbase::application::register_config_type</a></div><div class="ttdeci">void register_config_type()</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00123">application.hpp:123</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_ab53fa2d323d053e4e57adc832a9969bb"><div class="ttname"><a href="classappbase_1_1application.html#ab53fa2d323d053e4e57adc832a9969bb">appbase::application::full_version_string</a></div><div class="ttdeci">string full_version_string() const</div><div class="ttdoc">Get full version string; same as version_string() unless set differently.</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00114">application.cpp:114</a></div></div>
<div class="ttc" id="aclassappbase_1_1channel_html"><div class="ttname"><a href="classappbase_1_1channel.html">appbase::channel</a></div><div class="ttdef"><b>Definition</b> <a href="channel_8hpp_source.html#l00047">channel.hpp:47</a></div></div>
<div class="ttc" id="aclassappbase_1_1channel_html_ab30c2df14ba63cb006d8c52b48d19e3b"><div class="ttname"><a href="classappbase_1_1channel.html#ab30c2df14ba63cb006d8c52b48d19e3b">appbase::channel::publish</a></div><div class="ttdeci">void publish(int priority, const Data &amp;data)</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00335">application.hpp:335</a></div></div>
<div class="ttc" id="aclassappbase_1_1method_html"><div class="ttname"><a href="classappbase_1_1method.html">appbase::method</a></div><div class="ttdef"><b>Definition</b> <a href="method_8hpp_source.html#l00197">method.hpp:197</a></div></div>
<div class="ttc" id="aclassappbase_1_1plugin_html_a21e5be5587fca41fbc91367d449b8f27"><div class="ttname"><a href="classappbase_1_1plugin.html#a21e5be5587fca41fbc91367d449b8f27">appbase::plugin&lt; chain_plugin &gt;::shutdown</a></div><div class="ttdeci">virtual void shutdown() override</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00318">application.hpp:318</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html"><div class="ttname"><a href="classchainbase_1_1database.html">chainbase::database</a></div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00252">chainbase.hpp:253</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_a4d5297635dcf70be481d9b600da9bc13"><div class="ttname"><a href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">chainbase::database::get_index</a></div><div class="ttdeci">const generic_index&lt; MultiIndexType &gt; &amp; get_index() const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00425">chainbase.hpp:425</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_aa5a2ca0da0092693ac49b36b7ec6817a"><div class="ttname"><a href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">chainbase::database::find</a></div><div class="ttdeci">const ObjectType * find(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00458">chainbase.hpp:458</a></div></div>
<div class="ttc" id="aclasschainbase_1_1oid_html"><div class="ttname"><a href="classchainbase_1_1oid.html">chainbase::oid</a></div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00070">chainbase.hpp:70</a></div></div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a7fe6684b11f441d2e971fe65166d7d5f"><div class="ttname"><a href="classchainbase_1_1pinnable__mapped__file.html#a7fe6684b11f441d2e971fe65166d7d5f">chainbase::pinnable_mapped_file::map_mode</a></div><div class="ttdeci">map_mode</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00044">pinnable_mapped_file.hpp:44</a></div></div>
<div class="ttc" id="aclasschainbase_1_1pinnable__mapped__file_html_a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7"><div class="ttname"><a href="classchainbase_1_1pinnable__mapped__file.html#a7fe6684b11f441d2e971fe65166d7d5fa65d636fa5a7029aaa40f1d93a52748b7">chainbase::pinnable_mapped_file::mapped</a></div><div class="ttdeci">@ mapped</div><div class="ttdef"><b>Definition</b> <a href="pinnable__mapped__file_8hpp_source.html#l00045">pinnable_mapped_file.hpp:45</a></div></div>
<div class="ttc" id="aclasschainbase_1_1shared__cow__string_html_a3b3c57c0d2ee027bb70beb283be2a0f2"><div class="ttname"><a href="classchainbase_1_1shared__cow__string.html#a3b3c57c0d2ee027bb70beb283be2a0f2">chainbase::shared_cow_string::size</a></div><div class="ttdeci">std::size_t size() const</div><div class="ttdef"><b>Definition</b> <a href="shared__cow__string_8hpp_source.html#l00107">shared_cow_string.hpp:107</a></div></div>
<div class="ttc" id="aclasschainbase_1_1shared__cow__string_html_aa7b1bac206e0abc7e9ea9d642eb0b5b3"><div class="ttname"><a href="classchainbase_1_1shared__cow__string.html#aa7b1bac206e0abc7e9ea9d642eb0b5b3">chainbase::shared_cow_string::data</a></div><div class="ttdeci">const char * data() const</div><div class="ttdef"><b>Definition</b> <a href="shared__cow__string_8hpp_source.html#l00103">shared_cow_string.hpp:103</a></div></div>
<div class="ttc" id="aclassfc_1_1cfile_html_a36ffef39be181b5580952817617ccf24"><div class="ttname"><a href="classfc_1_1cfile.html#a36ffef39be181b5580952817617ccf24">fc::cfile::supports_hole_punching</a></div><div class="ttdeci">static bool supports_hole_punching()</div><div class="ttdef"><b>Definition</b> <a href="cfile_8hpp_source.html#l00182">cfile.hpp:182</a></div></div>
<div class="ttc" id="aclassfc_1_1datastream_html"><div class="ttname"><a href="classfc_1_1datastream.html">fc::datastream</a></div><div class="ttdef"><b>Definition</b> <a href="datastream_8hpp_source.html#l00018">datastream.hpp:18</a></div></div>
<div class="ttc" id="aclassfc_1_1directory__iterator_html"><div class="ttname"><a href="classfc_1_1directory__iterator.html">fc::directory_iterator</a></div><div class="ttdef"><b>Definition</b> <a href="filesystem_8hpp_source.html#l00113">filesystem.hpp:113</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00057">exception.hpp:58</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_a7611ea8fbe25dde56649b685c2298a37"><div class="ttname"><a href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">fc::exception::to_detail_string</a></div><div class="ttdeci">std::string to_detail_string(log_level ll=log_level::all) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00158">exception.cpp:158</a></div></div>
<div class="ttc" id="aclassfc_1_1json_html_a0b324722ac4eb4541d50ddaeed2dcb65"><div class="ttname"><a href="classfc_1_1json.html#a0b324722ac4eb4541d50ddaeed2dcb65">fc::json::from_file</a></div><div class="ttdeci">static variant from_file(const fc::path &amp;p, const parse_type ptype=parse_type::legacy_parser, const uint32_t max_depth=DEFAULT_MAX_RECURSION_DEPTH)</div><div class="ttdef"><b>Definition</b> <a href="json_8cpp_source.html#l00797">json.cpp:797</a></div></div>
<div class="ttc" id="aclassfc_1_1json_html_a7d6bb8dc49fecafcf96688c5202b22e5"><div class="ttname"><a href="classfc_1_1json.html#a7d6bb8dc49fecafcf96688c5202b22e5">fc::json::save_to_file</a></div><div class="ttdeci">static bool save_to_file(const T &amp;v, const fc::path &amp;fi, const bool pretty=true, const output_formatting format=output_formatting::stringify_large_ints_and_doubles)</div><div class="ttdef"><b>Definition</b> <a href="json_8hpp_source.html#l00045">json.hpp:45</a></div></div>
<div class="ttc" id="aclassfc_1_1json_html_ae6c022ab581a9552ae2c97ff5d73aaf8"><div class="ttname"><a href="classfc_1_1json.html#ae6c022ab581a9552ae2c97ff5d73aaf8">fc::json::to_pretty_string</a></div><div class="ttdeci">static string to_pretty_string(const variant &amp;v, const yield_function_t &amp;yield, const output_formatting format=output_formatting::stringify_large_ints_and_doubles)</div><div class="ttdef"><b>Definition</b> <a href="json_8cpp_source.html#l00775">json.cpp:775</a></div></div>
<div class="ttc" id="aclassfc_1_1json_html_afad69f9f9c2a9f0105aae99f532f90cb"><div class="ttname"><a href="classfc_1_1json.html#afad69f9f9c2a9f0105aae99f532f90cb">fc::json::from_string</a></div><div class="ttdeci">static variant from_string(const string &amp;utf8_str, const parse_type ptype=parse_type::legacy_parser, uint32_t max_depth=DEFAULT_MAX_RECURSION_DEPTH)</div><div class="ttdef"><b>Definition</b> <a href="json_8cpp_source.html#l00442">json.cpp:442</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html"><div class="ttname"><a href="classfc_1_1microseconds.html">fc::microseconds</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00011">time.hpp:11</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html_a20fba59ec7e1f50c6b8f2c9443cc9b92"><div class="ttname"><a href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">fc::microseconds::count</a></div><div class="ttdeci">constexpr int64_t count() const</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00026">time.hpp:26</a></div></div>
<div class="ttc" id="aclassfc_1_1mutable__variant__object_html"><div class="ttname"><a href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a></div><div class="ttdoc">An order-preserving dictionary of variants.</div><div class="ttdef"><b>Definition</b> <a href="variant__object_8hpp_source.html#l00117">variant_object.hpp:118</a></div></div>
<div class="ttc" id="aclassfc_1_1optional__delegate_html"><div class="ttname"><a href="classfc_1_1optional__delegate.html">fc::optional_delegate&lt; void(size_t)&gt;</a></div></div>
<div class="ttc" id="aclassfc_1_1path_html"><div class="ttname"><a href="classfc_1_1path.html">fc::path</a></div><div class="ttdoc">wraps boost::filesystem::path to provide platform independent path manipulation.</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8hpp_source.html#l00028">filesystem.hpp:28</a></div></div>
<div class="ttc" id="aclassfc_1_1ripemd160_html"><div class="ttname"><a href="classfc_1_1ripemd160.html">fc::ripemd160</a></div><div class="ttdef"><b>Definition</b> <a href="ripemd160_8hpp_source.html#l00011">ripemd160.hpp:12</a></div></div>
<div class="ttc" id="aclassfc_1_1ripemd160_html_a67956103e03592e90d20654798c44f28"><div class="ttname"><a href="classfc_1_1ripemd160.html#a67956103e03592e90d20654798c44f28">fc::ripemd160::_hash</a></div><div class="ttdeci">uint32_t _hash[5]</div><div class="ttdef"><b>Definition</b> <a href="ripemd160_8hpp_source.html#l00071">ripemd160.hpp:71</a></div></div>
<div class="ttc" id="aclassfc_1_1sha256_html"><div class="ttname"><a href="classfc_1_1sha256.html">fc::sha256</a></div><div class="ttdef"><b>Definition</b> <a href="sha256_8hpp_source.html#l00011">sha256.hpp:12</a></div></div>
<div class="ttc" id="aclassfc_1_1sha256_html_a474784de7d6213b855abd7e952df5e36"><div class="ttname"><a href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a></div><div class="ttdeci">static sha256 hash(const char *d, uint32_t dlen)</div><div class="ttdef"><b>Definition</b> <a href="sha256_8cpp_source.html#l00044">sha256.cpp:44</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html"><div class="ttname"><a href="classfc_1_1time__point.html">fc::time_point</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00042">time.hpp:42</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_aa164ff1268a16d4b32afcff181f6100e"><div class="ttname"><a href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a></div><div class="ttdeci">static time_point now()</div><div class="ttdef"><b>Definition</b> <a href="time_8cpp_source.html#l00014">time.cpp:14</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_abfea5efbe9ef58024cda814395ee9945"><div class="ttname"><a href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945">fc::time_point::time_since_epoch</a></div><div class="ttdeci">constexpr const microseconds &amp; time_since_epoch() const</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00052">time.hpp:52</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_acf917831e171906dbbbd46b17bc6e0a5"><div class="ttname"><a href="classfc_1_1time__point.html#acf917831e171906dbbbd46b17bc6e0a5">fc::time_point::from_iso_string</a></div><div class="ttdeci">static time_point from_iso_string(const fc::string &amp;s)</div><div class="ttdef"><b>Definition</b> <a href="time_8cpp_source.html#l00067">time.cpp:67</a></div></div>
<div class="ttc" id="aclassfc_1_1variant__object_html"><div class="ttname"><a href="classfc_1_1variant__object.html">fc::variant_object</a></div><div class="ttdoc">An order-preserving dictionary of variants.</div><div class="ttdef"><b>Definition</b> <a href="variant__object_8hpp_source.html#l00020">variant_object.hpp:21</a></div></div>
<div class="ttc" id="aclassfc_1_1variant_html"><div class="ttname"><a href="classfc_1_1variant.html">fc::variant</a></div><div class="ttdoc">stores null, int64, uint64, double, bool, string, std::vector&lt;variant&gt;, and variant_object's.</div><div class="ttdef"><b>Definition</b> <a href="fc_2include_2fc_2variant_8hpp_source.html#l00190">variant.hpp:191</a></div></div>
<div class="ttc" id="aclassfc_1_1variant_html_a17a7054a10963360c6a14d60f6e30128"><div class="ttname"><a href="classfc_1_1variant.html#a17a7054a10963360c6a14d60f6e30128">fc::variant::get_object</a></div><div class="ttdeci">variant_object &amp; get_object()</div><div class="ttdef"><b>Definition</b> <a href="variant_8cpp_source.html#l00554">variant.cpp:554</a></div></div>
<div class="ttc" id="aclassfc_1_1variant_html_a61f334febee9b226fb077f6da3c52276"><div class="ttname"><a href="classfc_1_1variant.html#a61f334febee9b226fb077f6da3c52276">fc::variant::as_double</a></div><div class="ttdeci">double as_double() const</div><div class="ttdef"><b>Definition</b> <a href="variant_8cpp_source.html#l00420">variant.cpp:420</a></div></div>
<div class="ttc" id="aclassfc_1_1variant_html_a82edd1f33199355d3a1f19bbb92909cc"><div class="ttname"><a href="classfc_1_1variant.html#a82edd1f33199355d3a1f19bbb92909cc">fc::variant::as</a></div><div class="ttdeci">T as() const</div><div class="ttdef"><b>Definition</b> <a href="fc_2include_2fc_2variant_8hpp_source.html#l00327">variant.hpp:327</a></div></div>
<div class="ttc" id="aclassfc_1_1vector_html"><div class="ttname"><a href="classfc_1_1vector.html">fc::vector</a></div><div class="ttdef"><b>Definition</b> <a href="vector__fwd_8hpp_source.html#l00007">vector_fwd.hpp:7</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1account__metadata__object_html"><div class="ttname"><a href="classsysio_1_1chain_1_1account__metadata__object.html">sysio::chain::account_metadata_object</a></div><div class="ttdef"><b>Definition</b> <a href="account__object_8hpp_source.html#l00047">account_object.hpp:48</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1account__object_html"><div class="ttname"><a href="classsysio_1_1chain_1_1account__object.html">sysio::chain::account_object</a></div><div class="ttdef"><b>Definition</b> <a href="account__object_8hpp_source.html#l00012">account_object.hpp:12</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_a0c03de4dfe3908668418da4620af63e3"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#a0c03de4dfe3908668418da4620af63e3">sysio::chain::block_log::extract_genesis_state</a></div><div class="ttdeci">static std::optional&lt; genesis_state &gt; extract_genesis_state(const fc::path &amp;data_dir)</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00964">block_log.cpp:964</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_a28d7828f2ef978077453c8b0f97f5c04"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#a28d7828f2ef978077453c8b0f97f5c04">sysio::chain::block_log::repair_log</a></div><div class="ttdeci">static fc::path repair_log(const fc::path &amp;data_dir, uint32_t truncate_at_block=0, const char *reversible_block_dir_name=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00751">block_log.cpp:751</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_ad17bd0904611f780b5d49ad14b363208"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#ad17bd0904611f780b5d49ad14b363208">sysio::chain::block_log::extract_chain_id</a></div><div class="ttdeci">static chain_id_type extract_chain_id(const fc::path &amp;data_dir)</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00977">block_log.cpp:977</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1builtin__protocol__feature_html"><div class="ttname"><a href="classsysio_1_1chain_1_1builtin__protocol__feature.html">sysio::chain::builtin_protocol_feature</a></div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8hpp_source.html#l00081">protocol_feature_manager.hpp:81</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1code__object_html"><div class="ttname"><a href="classsysio_1_1chain_1_1code__object.html">sysio::chain::code_object</a></div><div class="ttdef"><b>Definition</b> <a href="code__object_8hpp_source.html#l00009">code_object.hpp:9</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html">sysio::chain::controller</a></div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00063">controller.hpp:63</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a04f3c55da09b359224510af99502490f"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f">sysio::chain::controller::fetch_block_state_by_number</a></div><div class="ttdeci">block_state_ptr fetch_block_state_by_number(uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03088">controller.cpp:3088</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a0c79d00dae8c0d90efc18f4d091b2391"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391">sysio::chain::controller::db</a></div><div class="ttdeci">const chainbase::database &amp; db() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02646">controller.cpp:2646</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a1379e43325b7e517a058bddce15571eb"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb">sysio::chain::controller::fetch_block_by_number</a></div><div class="ttdeci">signed_block_ptr fetch_block_by_number(uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03074">controller.cpp:3074</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a1fba60b779aae78110279aeda9aae351"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a1fba60b779aae78110279aeda9aae351">sysio::chain::controller::extract_chain_id_from_db</a></div><div class="ttdeci">static std::optional&lt; chain_id_type &gt; extract_chain_id_from_db(const path &amp;state_dir)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03522">controller.cpp:3522</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a2c8b0888cae831840ac03980e206c874"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a2c8b0888cae831840ac03980e206c874">sysio::chain::controller::extract_chain_id</a></div><div class="ttdeci">static chain_id_type extract_chain_id(snapshot_reader &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03488">controller.cpp:3488</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a3c16d661e137dbe654a1c40a972759d4"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a3c16d661e137dbe654a1c40a972759d4">sysio::chain::controller::proposed_producers</a></div><div class="ttdeci">std::optional&lt; producer_authority_schedule &gt; proposed_producers() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03211">controller.cpp:3211</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a54645293859c265a7492eb002719c3dc"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a54645293859c265a7492eb002719c3dc">sysio::chain::controller::pending_producers</a></div><div class="ttdeci">const producer_authority_schedule &amp; pending_producers() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03189">controller.cpp:3189</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a7d6e058e892e067510650db853794338"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338">sysio::chain::controller::fetch_block_by_id</a></div><div class="ttdeci">signed_block_ptr fetch_block_by_id(block_id_type id) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03066">controller.cpp:3066</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_acd214861da435dc956d30c81de7c50ff"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#acd214861da435dc956d30c81de7c50ff">sysio::chain::controller::fetch_block_state_by_id</a></div><div class="ttdeci">block_state_ptr fetch_block_state_by_id(block_id_type id) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03083">controller.cpp:3083</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_ae0a1946cc6f7b87bd0cfa94bc9aa20b7"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#ae0a1946cc6f7b87bd0cfa94bc9aa20b7">sysio::chain::controller::active_producers</a></div><div class="ttdeci">const producer_authority_schedule &amp; active_producers() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03179">controller.cpp:3179</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_afca478b72d646f19c87d7e1c4f08453e"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#afca478b72d646f19c87d7e1c4f08453e">sysio::chain::controller::to_variant_with_abi</a></div><div class="ttdeci">fc::variant to_variant_with_abi(const T &amp;obj, const abi_serializer::yield_function_t &amp;yield) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00362">controller.hpp:362</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1deep__mind__handler_html"><div class="ttname"><a href="classsysio_1_1chain_1_1deep__mind__handler.html">sysio::chain::deep_mind_handler</a></div><div class="ttdef"><b>Definition</b> <a href="deep__mind_8hpp_source.html#l00045">deep_mind.hpp:46</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1deep__mind__handler_html_a992e2ea098b7b2288a3be6aa3eeb56e8"><div class="ttname"><a href="classsysio_1_1chain_1_1deep__mind__handler.html#a992e2ea098b7b2288a3be6aa3eeb56e8">sysio::chain::deep_mind_handler::update_logger</a></div><div class="ttdeci">void update_logger(const std::string &amp;logger_name)</div><div class="ttdef"><b>Definition</b> <a href="deep__mind_8cpp_source.html#l00034">deep_mind.cpp:34</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1istream__snapshot__reader_html"><div class="ttname"><a href="classsysio_1_1chain_1_1istream__snapshot__reader.html">sysio::chain::istream_snapshot_reader</a></div><div class="ttdef"><b>Definition</b> <a href="snapshot_8hpp_source.html#l00348">snapshot.hpp:348</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1istream__snapshot__reader_html_a9fc0f95f59a1f10b6b3f73867df394a4"><div class="ttname"><a href="classsysio_1_1chain_1_1istream__snapshot__reader.html#a9fc0f95f59a1f10b6b3f73867df394a4">sysio::chain::istream_snapshot_reader::validate</a></div><div class="ttdeci">void validate() const override</div><div class="ttdef"><b>Definition</b> <a href="snapshot_8cpp_source.html#l00202">snapshot.cpp:202</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1permission__object_html"><div class="ttname"><a href="classsysio_1_1chain_1_1permission__object.html">sysio::chain::permission_object</a></div><div class="ttdef"><b>Definition</b> <a href="permission__object_8hpp_source.html#l00025">permission_object.hpp:25</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html">sysio::chain::protocol_feature_set</a></div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8hpp_source.html#l00131">protocol_feature_manager.hpp:131</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_a28fd3d1ca28469695ff90b0ef03bb601"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#a28fd3d1ca28469695ff90b0ef03bb601">sysio::chain::protocol_feature_set::make_default_builtin_protocol_feature</a></div><div class="ttdeci">static builtin_protocol_feature make_default_builtin_protocol_feature(builtin_protocol_feature_t codename, const std::function&lt; digest_type(builtin_protocol_feature_t dependency)&gt; &amp;handle_dependency)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00471">protocol_feature_manager.cpp:471</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_ad1172cf546f8fb4439de8f99f7edb6de"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#ad1172cf546f8fb4439de8f99f7edb6de">sysio::chain::protocol_feature_set::add_feature</a></div><div class="ttdeci">const protocol_feature &amp; add_feature(const builtin_protocol_feature &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00491">protocol_feature_manager.cpp:491</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1symbol_html"><div class="ttname"><a href="classsysio_1_1chain_1_1symbol.html">sysio::chain::symbol</a></div><div class="ttdef"><b>Definition</b> <a href="symbol_8hpp_source.html#l00057">symbol.hpp:57</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1symbol_html_a31f998c4cfde2fa9148ac3232b11a25d"><div class="ttname"><a href="classsysio_1_1chain_1_1symbol.html#a31f998c4cfde2fa9148ac3232b11a25d">sysio::chain::symbol::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdef"><b>Definition</b> <a href="symbol_8hpp_source.html#l00083">symbol.hpp:83</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1symbol_html_af67333e1badee3ae6d4b0c528a8f89e0"><div class="ttname"><a href="classsysio_1_1chain_1_1symbol.html#af67333e1badee3ae6d4b0c528a8f89e0">sysio::chain::symbol::from_string</a></div><div class="ttdeci">static symbol from_string(const string &amp;from)</div><div class="ttdef"><b>Definition</b> <a href="symbol_8hpp_source.html#l00068">symbol.hpp:68</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1table__id__object_html"><div class="ttname"><a href="classsysio_1_1chain_1_1table__id__object.html">sysio::chain::table_id_object</a></div><div class="ttdoc">The table_id_object class tracks the mapping of (scope, code, table) to an opaque identifier.</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00015">contract_table_objects.hpp:15</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1wasm__interface_html_a6da1804f867828c9d7333aa97b503103"><div class="ttname"><a href="classsysio_1_1chain_1_1wasm__interface.html#a6da1804f867828c9d7333aa97b503103">sysio::chain::wasm_interface::vm_type_string</a></div><div class="ttdeci">static std::string vm_type_string(vm_type vmtype)</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface_8hpp_source.html#l00034">wasm_interface.hpp:34</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1wasm__interface_html_a9053d9e65167e5f241f1f3f27b175f9c"><div class="ttname"><a href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">sysio::chain::wasm_interface::vm_type</a></div><div class="ttdeci">vm_type</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface_8hpp_source.html#l00027">wasm_interface.hpp:27</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html">sysio::chain_apis::read_only</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00088">chain_plugin.hpp:88</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a05fc54d19d5cc028478d766ca45cbe5c"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a05fc54d19d5cc028478d766ca45cbe5c">sysio::chain_apis::read_only::walk_key_value_table</a></div><div class="ttdeci">void walk_key_value_table(const name &amp;code, const name &amp;scope, const name &amp;table, Function f) const</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00459">chain_plugin.hpp:459</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a0dcb14319331c9229b8652e5cc85c60a"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a0dcb14319331c9229b8652e5cc85c60a">sysio::chain_apis::read_only::copy_inline_row</a></div><div class="ttdeci">static void copy_inline_row(const chain::key_value_object &amp;obj, vector&lt; char &gt; &amp;data)</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00453">chain_plugin.hpp:453</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a11a144292087919b2f0a800cfdd356a2"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a11a144292087919b2f0a800cfdd356a2">sysio::chain_apis::read_only::KEYi64</a></div><div class="ttdeci">static const string KEYi64</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00097">chain_plugin.hpp:97</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a523c530709c945a2618c0c82e0aca991"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a523c530709c945a2618c0c82e0aca991">sysio::chain_apis::read_only::get_block_info</a></div><div class="ttdeci">fc::variant get_block_info(const get_block_info_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l02077">chain_plugin.cpp:2077</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a5f5bc599da55b928f71a0b3598854ea6"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a5f5bc599da55b928f71a0b3598854ea6">sysio::chain_apis::read_only::get_block</a></div><div class="ttdeci">fc::variant get_block(const get_block_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l02041">chain_plugin.cpp:2041</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_a7af49932b12b98727f7f2872a40b047e"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#a7af49932b12b98727f7f2872a40b047e">sysio::chain_apis::read_only::get_currency_stats</a></div><div class="ttdeci">fc::variant get_currency_stats(const get_currency_stats_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l01823">chain_plugin.cpp:1823</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_aa4cd64db980084853c87f8886c5f74e8"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#aa4cd64db980084853c87f8886c5f74e8">sysio::chain_apis::read_only::get_producers</a></div><div class="ttdeci">get_producers_result get_producers(const get_producers_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l01864">chain_plugin.cpp:1864</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_acb138f85adb63725d0d62a96ed8bd8f4"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#acb138f85adb63725d0d62a96ed8bd8f4">sysio::chain_apis::read_only::get_scheduled_transactions</a></div><div class="ttdeci">get_scheduled_transactions_result get_scheduled_transactions(const get_scheduled_transactions_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l01969">chain_plugin.cpp:1969</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_aea10610efc15779dd619646ca8ad3bc6"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#aea10610efc15779dd619646ca8ad3bc6">sysio::chain_apis::read_only::get_block_header_state</a></div><div class="ttdeci">fc::variant get_block_header_state(const get_block_header_state_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l02106">chain_plugin.cpp:2106</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__only_html_afd9ddf40d495a3ce12310a2011906ca0"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__only.html#afd9ddf40d495a3ce12310a2011906ca0">sysio::chain_apis::read_only::get_producer_schedule</a></div><div class="ttdeci">get_producer_schedule_result get_producer_schedule(const get_producer_schedule_params &amp;params) const</div><div class="ttdef"><b>Definition</b> <a href="#l01937">chain_plugin.cpp:1937</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html">sysio::chain_apis::read_write</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00653">chain_plugin.hpp:653</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a13de1df62a5b97ae48e8f5793958663f"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a13de1df62a5b97ae48e8f5793958663f">sysio::chain_apis::read_write::push_block</a></div><div class="ttdeci">void push_block(push_block_params &amp;&amp;params, chain::plugin_interface::next_function&lt; push_block_results &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l02129">chain_plugin.cpp:2129</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a1968acd4b02a71786821082283cd2e24"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a1968acd4b02a71786821082283cd2e24">sysio::chain_apis::read_write::push_transactions</a></div><div class="ttdeci">void push_transactions(const push_transactions_params &amp;params, chain::plugin_interface::next_function&lt; push_transactions_results &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l02243">chain_plugin.cpp:2243</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a1da8a36ada58712781b2aef93801c161"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a1da8a36ada58712781b2aef93801c161">sysio::chain_apis::read_write::send_transaction</a></div><div class="ttdeci">void send_transaction(const send_transaction_params &amp;params, chain::plugin_interface::next_function&lt; send_transaction_results &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l02258">chain_plugin.cpp:2258</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a24c1e6d06ebdd8e84f9c265644359a95"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a24c1e6d06ebdd8e84f9c265644359a95">sysio::chain_apis::read_write::read_write</a></div><div class="ttdeci">read_write(controller &amp;db, std::optional&lt; trx_retry_db &gt; &amp;trx_retry, const fc::microseconds &amp;abi_serializer_max_time, bool api_accept_transactions)</div><div class="ttdef"><b>Definition</b> <a href="#l01312">chain_plugin.cpp:1312</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a66864115e8048f66efefa74b3bfd4052"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a66864115e8048f66efefa74b3bfd4052">sysio::chain_apis::read_write::send_transaction2</a></div><div class="ttdeci">void send_transaction2(const send_transaction2_params &amp;params, chain::plugin_interface::next_function&lt; send_transaction_results &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l02294">chain_plugin.cpp:2294</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_a822d28a0a66b040dcecd42f12988649c"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#a822d28a0a66b040dcecd42f12988649c">sysio::chain_apis::read_write::validate</a></div><div class="ttdeci">void validate() const</div><div class="ttdef"><b>Definition</b> <a href="#l01320">chain_plugin.cpp:1320</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1read__write_html_af607f8f57b7e15ce557179795303a4e9"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1read__write.html#af607f8f57b7e15ce557179795303a4e9">sysio::chain_apis::read_write::push_transaction</a></div><div class="ttdeci">void push_transaction(const push_transaction_params &amp;params, chain::plugin_interface::next_function&lt; push_transaction_results &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l02140">chain_plugin.cpp:2140</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__apis_1_1trx__finality__status__processing_html"><div class="ttname"><a href="classsysio_1_1chain__apis_1_1trx__finality__status__processing.html">sysio::chain_apis::trx_finality_status_processing</a></div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00016">trx_finality_status_processing.hpp:16</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html">sysio::chain_plugin_impl</a></div><div class="ttdef"><b>Definition</b> <a href="#l00136">chain_plugin.cpp:136</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a03ba59fa1c74a6a5e4abecef24c12864"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a03ba59fa1c74a6a5e4abecef24c12864">sysio::chain_plugin_impl::chain</a></div><div class="ttdeci">std::optional&lt; controller &gt; chain</div><div class="ttdef"><b>Definition</b> <a href="#l00157">chain_plugin.cpp:157</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a0c356f32d2970edfd8211f565828a5a2"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a0c356f32d2970edfd8211f565828a5a2">sysio::chain_plugin_impl::chain_plugin_impl</a></div><div class="ttdeci">chain_plugin_impl()</div><div class="ttdef"><b>Definition</b> <a href="#l00138">chain_plugin.cpp:138</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a0d81e075d79d8fbf5d8031f46d9b73df"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a0d81e075d79d8fbf5d8031f46d9b73df">sysio::chain_plugin_impl::abi_serializer_max_time_us</a></div><div class="ttdeci">fc::microseconds abi_serializer_max_time_us</div><div class="ttdef"><b>Definition</b> <a href="#l00161">chain_plugin.cpp:161</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a1e1958c4bdad6a1870775ed3547905ae"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a1e1958c4bdad6a1870775ed3547905ae">sysio::chain_plugin_impl::wasm_runtime</a></div><div class="ttdeci">std::optional&lt; vm_type &gt; wasm_runtime</div><div class="ttdef"><b>Definition</b> <a href="#l00160">chain_plugin.cpp:160</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a201d10c1d21807d8a25228303907d100"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a201d10c1d21807d8a25228303907d100">sysio::chain_plugin_impl::api_accept_transactions</a></div><div class="ttdeci">bool api_accept_transactions</div><div class="ttdef"><b>Definition</b> <a href="#l00153">chain_plugin.cpp:153</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a27a394cc59050bf1ad4f429f2ce390c3"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a27a394cc59050bf1ad4f429f2ce390c3">sysio::chain_plugin_impl::get_last_irreversible_block_number_provider</a></div><div class="ttdeci">methods::get_last_irreversible_block_number::method_type::handle get_last_irreversible_block_number_provider</div><div class="ttdef"><b>Definition</b> <a href="#l00181">chain_plugin.cpp:181</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a2a4bc682b9b8c8c43821614e75a620a8"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a2a4bc682b9b8c8c43821614e75a620a8">sysio::chain_plugin_impl::get_head_block_id_provider</a></div><div class="ttdeci">methods::get_head_block_id::method_type::handle get_head_block_id_provider</div><div class="ttdef"><b>Definition</b> <a href="#l00180">chain_plugin.cpp:180</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a2ecc071f301bb00286be48618dbb55b2"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a2ecc071f301bb00286be48618dbb55b2">sysio::chain_plugin_impl::accepted_block_header_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; accepted_block_header_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00185">chain_plugin.cpp:185</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a34693f040cc059e57f0c7ee512db22d0"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a34693f040cc059e57f0c7ee512db22d0">sysio::chain_plugin_impl::get_block_by_id_provider</a></div><div class="ttdeci">methods::get_block_by_id::method_type::handle get_block_by_id_provider</div><div class="ttdef"><b>Definition</b> <a href="#l00179">chain_plugin.cpp:179</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a392f0cb0008c082d11eb37d76dcd2de7"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a392f0cb0008c082d11eb37d76dcd2de7">sysio::chain_plugin_impl::genesis</a></div><div class="ttdeci">std::optional&lt; genesis_state &gt; genesis</div><div class="ttdef"><b>Definition</b> <a href="#l00158">chain_plugin.cpp:158</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a4089653a485d4311fefe712b527cf9f4"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a4089653a485d4311fefe712b527cf9f4">sysio::chain_plugin_impl::accepted_transaction_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; accepted_transaction_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00188">chain_plugin.cpp:188</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a61bf831d5134f234803b35ce57885a86"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a61bf831d5134f234803b35ce57885a86">sysio::chain_plugin_impl::pre_accepted_block_channel</a></div><div class="ttdeci">channels::pre_accepted_block::channel_type &amp; pre_accepted_block_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00166">chain_plugin.cpp:166</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a689ceaa521a84549d169b409af861da7"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a689ceaa521a84549d169b409af861da7">sysio::chain_plugin_impl::irreversible_block_channel</a></div><div class="ttdeci">channels::irreversible_block::channel_type &amp; irreversible_block_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00169">chain_plugin.cpp:169</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a70c415c110b6b7cba1fca287873d6c33"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a70c415c110b6b7cba1fca287873d6c33">sysio::chain_plugin_impl::incoming_block_sync_method</a></div><div class="ttdeci">incoming::methods::block_sync::method_type &amp; incoming_block_sync_method</div><div class="ttdef"><b>Definition</b> <a href="#l00174">chain_plugin.cpp:174</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a74721a6eaab713bfae13267ac93a79d2"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a74721a6eaab713bfae13267ac93a79d2">sysio::chain_plugin_impl::block_start_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; block_start_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00190">chain_plugin.cpp:190</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a8281f4446139b027d83dfb6782deda25"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a8281f4446139b027d83dfb6782deda25">sysio::chain_plugin_impl::producer_plug</a></div><div class="ttdeci">const producer_plugin * producer_plug</div><div class="ttdef"><b>Definition</b> <a href="#l00194">chain_plugin.cpp:194</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a851d57f1e5c809becb941d017681eaa1"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a851d57f1e5c809becb941d017681eaa1">sysio::chain_plugin_impl::accepted_block_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; accepted_block_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00186">chain_plugin.cpp:186</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a853b425fd97fb87e2ed5a7193152de73"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a853b425fd97fb87e2ed5a7193152de73">sysio::chain_plugin_impl::accept_transactions</a></div><div class="ttdeci">bool accept_transactions</div><div class="ttdef"><b>Definition</b> <a href="#l00152">chain_plugin.cpp:152</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a8d577b027c6c2472270d3f4f0cbfc2cf"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a8d577b027c6c2472270d3f4f0cbfc2cf">sysio::chain_plugin_impl::_trx_finality_status_processing</a></div><div class="ttdeci">chain_apis::trx_finality_status_processing_ptr _trx_finality_status_processing</div><div class="ttdef"><b>Definition</b> <a href="#l00196">chain_plugin.cpp:196</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a8d89327f7b8d8d03bc24edd493f5465f"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a8d89327f7b8d8d03bc24edd493f5465f">sysio::chain_plugin_impl::loaded_checkpoints</a></div><div class="ttdeci">flat_map&lt; uint32_t, block_id_type &gt; loaded_checkpoints</div><div class="ttdef"><b>Definition</b> <a href="#l00151">chain_plugin.cpp:151</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_a940c96c232af09e555e68cc09c9197ba"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#a940c96c232af09e555e68cc09c9197ba">sysio::chain_plugin_impl::pre_accepted_block_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; pre_accepted_block_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00184">chain_plugin.cpp:184</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_aa89c83ff8d64f3d613cfd31bf40eb1a4"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#aa89c83ff8d64f3d613cfd31bf40eb1a4">sysio::chain_plugin_impl::accepted_block_header_channel</a></div><div class="ttdeci">channels::accepted_block_header::channel_type &amp; accepted_block_header_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00167">chain_plugin.cpp:167</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_aab9fff8f429d4faa26eca9d2b8c7cffe"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#aab9fff8f429d4faa26eca9d2b8c7cffe">sysio::chain_plugin_impl::get_block_by_number_provider</a></div><div class="ttdeci">methods::get_block_by_number::method_type::handle get_block_by_number_provider</div><div class="ttdef"><b>Definition</b> <a href="#l00178">chain_plugin.cpp:178</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_aac1aa03bcfcf4e419fd270bbf2865933"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#aac1aa03bcfcf4e419fd270bbf2865933">sysio::chain_plugin_impl::account_queries_enabled</a></div><div class="ttdeci">bool account_queries_enabled</div><div class="ttdef"><b>Definition</b> <a href="#l00154">chain_plugin.cpp:154</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ac0ef462d85bd7a3a3dcdaab053ae8482"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ac0ef462d85bd7a3a3dcdaab053ae8482">sysio::chain_plugin_impl::accepted_transaction_channel</a></div><div class="ttdeci">channels::accepted_transaction::channel_type &amp; accepted_transaction_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00170">chain_plugin.cpp:170</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ace66ce40411e5c320c51f9dae6f86f86"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ace66ce40411e5c320c51f9dae6f86f86">sysio::chain_plugin_impl::applied_transaction_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; applied_transaction_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00189">chain_plugin.cpp:189</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ad2d38cac469ec1b9ba247042346bc98a"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ad2d38cac469ec1b9ba247042346bc98a">sysio::chain_plugin_impl::incoming_transaction_async_method</a></div><div class="ttdeci">incoming::methods::transaction_async::method_type &amp; incoming_transaction_async_method</div><div class="ttdef"><b>Definition</b> <a href="#l00175">chain_plugin.cpp:175</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ad722cdcceae58d6566abc49d4ce4b26a"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ad722cdcceae58d6566abc49d4ce4b26a">sysio::chain_plugin_impl::_account_query_db</a></div><div class="ttdeci">std::optional&lt; chain_apis::account_query_db &gt; _account_query_db</div><div class="ttdef"><b>Definition</b> <a href="#l00193">chain_plugin.cpp:193</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ada00f0e476151434a5c37e81b0eae318"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ada00f0e476151434a5c37e81b0eae318">sysio::chain_plugin_impl::irreversible_block_connection</a></div><div class="ttdeci">std::optional&lt; scoped_connection &gt; irreversible_block_connection</div><div class="ttdef"><b>Definition</b> <a href="#l00187">chain_plugin.cpp:187</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_adb419561f9ce673ffa44f7c64081314d"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#adb419561f9ce673ffa44f7c64081314d">sysio::chain_plugin_impl::applied_transaction_channel</a></div><div class="ttdeci">channels::applied_transaction::channel_type &amp; applied_transaction_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00171">chain_plugin.cpp:171</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ae02cf2c451f3e58d31fccb92e885ab82"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ae02cf2c451f3e58d31fccb92e885ab82">sysio::chain_plugin_impl::accepted_block_channel</a></div><div class="ttdeci">channels::accepted_block::channel_type &amp; accepted_block_channel</div><div class="ttdef"><b>Definition</b> <a href="#l00168">chain_plugin.cpp:168</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ae0b2b3dbd06116aeea7fd1c31db32356"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ae0b2b3dbd06116aeea7fd1c31db32356">sysio::chain_plugin_impl::blocks_dir</a></div><div class="ttdeci">bfs::path blocks_dir</div><div class="ttdef"><b>Definition</b> <a href="#l00149">chain_plugin.cpp:149</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_ae0c34127e4076210d163c337076f987f"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#ae0c34127e4076210d163c337076f987f">sysio::chain_plugin_impl::_trx_retry_db</a></div><div class="ttdeci">std::optional&lt; chain_apis::trx_retry_db &gt; _trx_retry_db</div><div class="ttdef"><b>Definition</b> <a href="#l00195">chain_plugin.cpp:195</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_af49f503c76b502b96de84e77b338f039"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#af49f503c76b502b96de84e77b338f039">sysio::chain_plugin_impl::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdef"><b>Definition</b> <a href="#l00150">chain_plugin.cpp:150</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_afa47ac8cd598174ee40348c0a8986602"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#afa47ac8cd598174ee40348c0a8986602">sysio::chain_plugin_impl::chain_config</a></div><div class="ttdeci">std::optional&lt; controller::config &gt; chain_config</div><div class="ttdef"><b>Definition</b> <a href="#l00156">chain_plugin.cpp:156</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin__impl_html_aff761520ebc358d6ec56e4e4a9d41f08"><div class="ttname"><a href="classsysio_1_1chain__plugin__impl.html#aff761520ebc358d6ec56e4e4a9d41f08">sysio::chain_plugin_impl::snapshot_path</a></div><div class="ttdeci">std::optional&lt; bfs::path &gt; snapshot_path</div><div class="ttdef"><b>Definition</b> <a href="#l00162">chain_plugin.cpp:162</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a0192ac61f3f59d4fdf2dcbbd2c7104ca"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca">sysio::chain_plugin::plugin_initialize</a></div><div class="ttdeci">void plugin_initialize(const variables_map &amp;options)</div><div class="ttdef"><b>Definition</b> <a href="#l00654">chain_plugin.cpp:654</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a047022d2589d7624114c1e458b111ea7"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a047022d2589d7624114c1e458b111ea7">sysio::chain_plugin::handle_db_exhaustion</a></div><div class="ttdeci">static void handle_db_exhaustion()</div><div class="ttdef"><b>Definition</b> <a href="#l01383">chain_plugin.cpp:1383</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a0c40ec7186936d460abe2bd8b071c6a5"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5">sysio::chain_plugin::accept_block</a></div><div class="ttdeci">bool accept_block(const chain::signed_block_ptr &amp;block, const chain::block_id_type &amp;id, const chain::block_state_ptr &amp;bsp)</div><div class="ttdef"><b>Definition</b> <a href="#l01334">chain_plugin.cpp:1334</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a130b4296b732c2e362bda14cb117cd59"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a130b4296b732c2e362bda14cb117cd59">sysio::chain_plugin::chain_plugin</a></div><div class="ttdeci">chain_plugin()</div><div class="ttdef"><b>Definition</b> <a href="#l00199">chain_plugin.cpp:199</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a14a5e77b31ecf267c8062267d03440ae"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">sysio::chain_plugin::chain</a></div><div class="ttdeci">controller &amp; chain()</div><div class="ttdef"><b>Definition</b> <a href="#l01342">chain_plugin.cpp:1342</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a1bcb439d384fa26626d027b7556a6db3"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a1bcb439d384fa26626d027b7556a6db3">sysio::chain_plugin::api_accept_transactions</a></div><div class="ttdeci">bool api_accept_transactions() const</div><div class="ttdef"><b>Definition</b> <a href="#l01353">chain_plugin.cpp:1353</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a23c1cb24799600f335f08697a8dca850"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a23c1cb24799600f335f08697a8dca850">sysio::chain_plugin::get_abi_serializer_max_time</a></div><div class="ttdeci">fc::microseconds get_abi_serializer_max_time() const</div><div class="ttdef"><b>Definition</b> <a href="#l01349">chain_plugin.cpp:1349</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a2b4d6a23ecab8f50e42f6c2221124245"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a2b4d6a23ecab8f50e42f6c2221124245">sysio::chain_plugin::get_read_write_api</a></div><div class="ttdeci">chain_apis::read_write get_read_write_api()</div><div class="ttdef"><b>Definition</b> <a href="#l01325">chain_plugin.cpp:1325</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a2c6f70f01e04fc51fedb4654e1948761"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a2c6f70f01e04fc51fedb4654e1948761">sysio::chain_plugin::enable_accept_transactions</a></div><div class="ttdeci">void enable_accept_transactions()</div><div class="ttdef"><b>Definition</b> <a href="#l01361">chain_plugin.cpp:1361</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a3bed4f3e96452168d9ffcfe59faeadd5"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a3bed4f3e96452168d9ffcfe59faeadd5">sysio::chain_plugin::~chain_plugin</a></div><div class="ttdeci">virtual ~chain_plugin()</div><div class="ttdef"><b>Definition</b> <a href="#l00207">chain_plugin.cpp:207</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a3ed4600a8200efd4cbad0e547a3ffbde"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a3ed4600a8200efd4cbad0e547a3ffbde">sysio::chain_plugin::plugin_shutdown</a></div><div class="ttdeci">void plugin_shutdown()</div><div class="ttdef"><b>Definition</b> <a href="#l01295">chain_plugin.cpp:1295</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a3f62770b688da99f7510119225b9249e"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a3f62770b688da99f7510119225b9249e">sysio::chain_plugin::account_queries_enabled</a></div><div class="ttdeci">bool account_queries_enabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l01395">chain_plugin.cpp:1395</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a408e8154def42cdb8be9832b602e0046"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a408e8154def42cdb8be9832b602e0046">sysio::chain_plugin::do_hard_replay</a></div><div class="ttdeci">void do_hard_replay(const variables_map &amp;options)</div><div class="ttdef"><b>Definition</b> <a href="#l00648">chain_plugin.cpp:648</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a53c887a4793a975261562d0f9b49cde6"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a53c887a4793a975261562d0f9b49cde6">sysio::chain_plugin::get_read_only_api</a></div><div class="ttdeci">chain_apis::read_only get_read_only_api() const</div><div class="ttdef"><b>Definition</b> <a href="#l01329">chain_plugin.cpp:1329</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a6042f76be687a9b82332f28e1dc9a3a4"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a6042f76be687a9b82332f28e1dc9a3a4">sysio::chain_plugin::handle_guard_exception</a></div><div class="ttdeci">static void handle_guard_exception(const chain::guard_exception &amp;e)</div><div class="ttdef"><b>Definition</b> <a href="#l01375">chain_plugin.cpp:1375</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a692cb7641b4c84224c1504087f4434d5"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a692cb7641b4c84224c1504087f4434d5">sysio::chain_plugin::transaction_finality_status_enabled</a></div><div class="ttdeci">bool transaction_finality_status_enabled() const</div><div class="ttdef"><b>Definition</b> <a href="#l01399">chain_plugin.cpp:1399</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a87ff3092be673ff51d0b0a4f72ce61ff"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a87ff3092be673ff51d0b0a4f72ce61ff">sysio::chain_plugin::get_chain_id</a></div><div class="ttdeci">chain::chain_id_type get_chain_id() const</div><div class="ttdef"><b>Definition</b> <a href="#l01345">chain_plugin.cpp:1345</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a9fb4d31b915fb0d2ef5392a4284b67e6"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a9fb4d31b915fb0d2ef5392a4284b67e6">sysio::chain_plugin::handle_bad_alloc</a></div><div class="ttdeci">static void handle_bad_alloc()</div><div class="ttdef"><b>Definition</b> <a href="#l01389">chain_plugin.cpp:1389</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_aabb3367fd38e616cedca00bac72ecb28"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#aabb3367fd38e616cedca00bac72ecb28">sysio::chain_plugin::set_program_options</a></div><div class="ttdeci">virtual void set_program_options(options_description &amp;cli, options_description &amp;cfg) override</div><div class="ttdef"><b>Definition</b> <a href="#l00209">chain_plugin.cpp:209</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_ac6ac57ec54c2d3ee93ee361862e86a93"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93">sysio::chain_plugin::accept_transaction</a></div><div class="ttdeci">void accept_transaction(const chain::packed_transaction_ptr &amp;trx, chain::plugin_interface::next_function&lt; chain::transaction_trace_ptr &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="#l01338">chain_plugin.cpp:1338</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_ad8549f01fbc8b47dde7a876c08c83b68"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#ad8549f01fbc8b47dde7a876c08c83b68">sysio::chain_plugin::get_log_trx_trace</a></div><div class="ttdeci">fc::variant get_log_trx_trace(const chain::transaction_trace_ptr &amp;trx_trace) const</div><div class="ttdef"><b>Definition</b> <a href="#l02735">chain_plugin.cpp:2735</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_ad911df70e3131f7a2ed91d1eca08793a"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#ad911df70e3131f7a2ed91d1eca08793a">sysio::chain_plugin::accept_transactions</a></div><div class="ttdeci">bool accept_transactions() const</div><div class="ttdef"><b>Definition</b> <a href="#l01357">chain_plugin.cpp:1357</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_ae56bb5451f52c447629b2cecbd8d4b58"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#ae56bb5451f52c447629b2cecbd8d4b58">sysio::chain_plugin::get_log_trx</a></div><div class="ttdeci">fc::variant get_log_trx(const transaction &amp;trx) const</div><div class="ttdef"><b>Definition</b> <a href="#l02747">chain_plugin.cpp:2747</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_af289b36dc5f753a772617ff3603090df"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#af289b36dc5f753a772617ff3603090df">sysio::chain_plugin::handle_sighup</a></div><div class="ttdeci">void handle_sighup() override</div><div class="ttdef"><b>Definition</b> <a href="#l01308">chain_plugin.cpp:1308</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_affe5ea83d9db4d721af39fd7568c5875"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#affe5ea83d9db4d721af39fd7568c5875">sysio::chain_plugin::plugin_startup</a></div><div class="ttdeci">void plugin_startup()</div><div class="ttdef"><b>Definition</b> <a href="#l01241">chain_plugin.cpp:1241</a></div></div>
<div class="ttc" id="aclasssysio_1_1fixed__bytes_html"><div class="ttname"><a href="classsysio_1_1fixed__bytes.html">sysio::fixed_bytes</a></div><div class="ttdef"><b>Definition</b> <a href="fixed__bytes_8hpp_source.html#l00057">fixed_bytes.hpp:57</a></div></div>
<div class="ttc" id="aclasssysio_1_1fixed__bytes_html_acace65d24dd5689f49ba2dcb3198493a"><div class="ttname"><a href="classsysio_1_1fixed__bytes.html#acace65d24dd5689f49ba2dcb3198493a">sysio::fixed_bytes::extract_as_byte_array</a></div><div class="ttdeci">std::array&lt; uint8_t, Size &gt; extract_as_byte_array() const</div><div class="ttdef"><b>Definition</b> <a href="fixed__bytes_8hpp_source.html#l00222">fixed_bytes.hpp:222</a></div></div>
<div class="ttc" id="aclasssysio_1_1producer__plugin_html"><div class="ttname"><a href="classsysio_1_1producer__plugin.html">sysio::producer_plugin</a></div><div class="ttdef"><b>Definition</b> <a href="producer__plugin_8hpp_source.html#l00012">producer_plugin.hpp:12</a></div></div>
<div class="ttc" id="acode__cache_8cpp_html_aa0efefe21f4700d78692edc823e763be"><div class="ttname"><a href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a></div><div class="ttdeci">uint64_t id</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8cpp_source.html#l00000">code_cache.cpp:0</a></div></div>
<div class="ttc" id="acode__object_8hpp_html"><div class="ttname"><a href="code__object_8hpp.html">code_object.hpp</a></div></div>
<div class="ttc" id="acontroller_8hpp_html"><div class="ttname"><a href="controller_8hpp.html">controller.hpp</a></div></div>
<div class="ttc" id="acoverage-helper_8cpp_html_acf4803e8473417fc0a4ec061a7260106"><div class="ttname"><a href="coverage-helper_8cpp.html#acf4803e8473417fc0a4ec061a7260106">starts_with</a></div><div class="ttdeci">bool starts_with(std::string const &amp;str, std::string const &amp;pref)</div><div class="ttdef"><b>Definition</b> <a href="coverage-helper_8cpp_source.html#l00053">coverage-helper.cpp:53</a></div></div>
<div class="ttc" id="adeep__mind_8hpp_html"><div class="ttname"><a href="deep__mind_8hpp.html">deep_mind.hpp</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html"><div class="ttname"><a href="environment_8hpp.html">environment.hpp</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a3951483d0b31c29ca95336206cd35238"><div class="ttname"><a href="environment_8hpp.html#a3951483d0b31c29ca95336206cd35238">os</a></div><div class="ttdeci">os_t os</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00023">environment.hpp:23</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a398527b3e9e358c345c5047b16871957"><div class="ttname"><a href="environment_8hpp.html#a398527b3e9e358c345c5047b16871957">debug</a></div><div class="ttdeci">bool debug</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00017">environment.hpp:17</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a5e55ee7dabe1ec807ab569fc11babbb0a3d3a12d1d170260bc66459e6437d06cb"><div class="ttname"><a href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0a3d3a12d1d170260bc66459e6437d06cb">OS_OTHER</a></div><div class="ttdeci">@ OS_OTHER</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00009">environment.hpp:8</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a5e55ee7dabe1ec807ab569fc11babbb0a8780f81c6157f670aaa1d4a0f7c15467"><div class="ttname"><a href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0a8780f81c6157f670aaa1d4a0f7c15467">OS_WINDOWS</a></div><div class="ttdeci">@ OS_WINDOWS</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00007">environment.hpp:7</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a5e55ee7dabe1ec807ab569fc11babbb0ac3724e0358f391346c785d3450532797"><div class="ttname"><a href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0ac3724e0358f391346c785d3450532797">OS_LINUX</a></div><div class="ttdeci">@ OS_LINUX</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00005">environment.hpp:5</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_a5e55ee7dabe1ec807ab569fc11babbb0af1b08c91685e3bc4d30e56dfd468e735"><div class="ttname"><a href="environment_8hpp.html#a5e55ee7dabe1ec807ab569fc11babbb0af1b08c91685e3bc4d30e56dfd468e735">OS_MACOS</a></div><div class="ttdeci">@ OS_MACOS</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00006">environment.hpp:6</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa0e431d4d0a75d1ecbdf0c31893c77aa"><div class="ttname"><a href="environment_8hpp.html#aa0e431d4d0a75d1ecbdf0c31893c77aa">arch</a></div><div class="ttdeci">arch_t arch</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00033">environment.hpp:33</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa822d32e7e9853a2388d30a80d4449da"><div class="ttname"><a href="environment_8hpp.html#aa822d32e7e9853a2388d30a80d4449da">boost_version</a></div><div class="ttdeci">unsigned boost_version</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00044">environment.hpp:44</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa8554335c865509d8d68f600b3d97442a0089eec22100f4609dad74f6be4ec601"><div class="ttname"><a href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442a0089eec22100f4609dad74f6be4ec601">ARCH_X86_64</a></div><div class="ttdeci">@ ARCH_X86_64</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00011">environment.hpp:11</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa8554335c865509d8d68f600b3d97442a112b29402ecb654f7f960772b5be24e8"><div class="ttname"><a href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442a112b29402ecb654f7f960772b5be24e8">ARCH_OTHER</a></div><div class="ttdeci">@ ARCH_OTHER</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00015">environment.hpp:14</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa8554335c865509d8d68f600b3d97442aa9fb1533dda1c8184bd7fa0a3f8e88f7"><div class="ttname"><a href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442aa9fb1533dda1c8184bd7fa0a3f8e88f7">ARCH_ARM</a></div><div class="ttdeci">@ ARCH_ARM</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00012">environment.hpp:12</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_aa8554335c865509d8d68f600b3d97442af63fb533173014b205e107cdd13fce75"><div class="ttname"><a href="environment_8hpp.html#aa8554335c865509d8d68f600b3d97442af63fb533173014b205e107cdd13fce75">ARCH_RISCV</a></div><div class="ttdeci">@ ARCH_RISCV</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00013">environment.hpp:13</a></div></div>
<div class="ttc" id="aenvironment_8hpp_html_ada194dda0ebbfb422d370043a4bec4cf"><div class="ttname"><a href="environment_8hpp.html#ada194dda0ebbfb422d370043a4bec4cf">compiler</a></div><div class="ttdeci">char compiler[256]</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00046">environment.hpp:46</a></div></div>
<div class="ttc" id="aexception_8hpp_html_a094902280cad82ad6529ebbd12a697eb"><div class="ttname"><a href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a></div><div class="ttdeci">#define FC_CAPTURE_AND_RETHROW(...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00523">exception.hpp:523</a></div></div>
<div class="ttc" id="aexception_8hpp_html_ae70bfa24f5a3bc0917382b3c17fc033c"><div class="ttname"><a href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a></div><div class="ttdeci">#define FC_LOG_AND_RETHROW()</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00411">exception.hpp:411</a></div></div>
<div class="ttc" id="aexception_8hpp_html_aed56aa2593b6f6fc6a839b7cb5c6e8e3"><div class="ttname"><a href="exception_8hpp.html#aed56aa2593b6f6fc6a839b7cb5c6e8e3">FC_LOG_AND_DROP</a></div><div class="ttdeci">#define FC_LOG_AND_DROP(...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00480">exception.hpp:480</a></div></div>
<div class="ttc" id="aexception_8hpp_html_af3731d6e3beb140d9e652adf7a18113b"><div class="ttname"><a href="exception_8hpp.html#af3731d6e3beb140d9e652adf7a18113b">FC_RETHROW_EXCEPTIONS</a></div><div class="ttdeci">#define FC_RETHROW_EXCEPTIONS(LOG_LEVEL, FORMAT,...)</div><div class="ttdoc">Catchs all exception's, std::exceptions, and ... and rethrows them after appending the provided log m...</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00505">exception.hpp:505</a></div></div>
<div class="ttc" id="afc_2include_2fc_2variant_8hpp_html"><div class="ttname"><a href="fc_2include_2fc_2variant_8hpp.html">variant.hpp</a></div></div>
<div class="ttc" id="afork__database_8hpp_html"><div class="ttname"><a href="fork__database_8hpp.html">fork_database.hpp</a></div></div>
<div class="ttc" id="agenerated__transaction__object_8hpp_html"><div class="ttname"><a href="generated__transaction__object_8hpp.html">generated_transaction_object.hpp</a></div></div>
<div class="ttc" id="agmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition</b> <a href="gmock__stress__test_8cc_source.html#l00177">gmock_stress_test.cc:177</a></div></div>
<div class="ttc" id="ahello__driver_8cpp_html_a9717e7bbecb906637e86cef6da3d83c2"><div class="ttname"><a href="hello__driver_8cpp.html#a9717e7bbecb906637e86cef6da3d83c2">return</a></div><div class="ttdeci">return</div><div class="ttdef"><b>Definition</b> <a href="hello__driver_8cpp_source.html#l00086">hello_driver.cpp:86</a></div></div>
<div class="ttc" id="ajson_8hpp_html"><div class="ttname"><a href="json_8hpp.html">json.hpp</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a1759e5c9691d8ad754bdf5eff8bb23ac"><div class="ttname"><a href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a></div><div class="ttdeci">#define wlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00124">logger.hpp:124</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a3da1571bad6ca6c94df9a3660b2115ee"><div class="ttname"><a href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a></div><div class="ttdeci">#define dlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00101">logger.hpp:101</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00118">logger.hpp:118</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a9e3cdbaecd5a34b42956e888f7326fad"><div class="ttname"><a href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a></div><div class="ttdeci">#define elog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00130">logger.hpp:130</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespaceappbase_html_a99374dc23934f008a09f2f79be9eae40"><div class="ttname"><a href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">appbase::app</a></div><div class="ttdeci">application &amp; app()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00210">application.cpp:210</a></div></div>
<div class="ttc" id="anamespaceboost_1_1filesystem_html"><div class="ttname"><a href="namespaceboost_1_1filesystem.html">boost::filesystem</a></div><div class="ttdef"><b>Definition</b> <a href="filesystem_8hpp_source.html#l00010">filesystem.hpp:10</a></div></div>
<div class="ttc" id="anamespacedetail_html"><div class="ttname"><a href="namespacedetail.html">detail</a></div><div class="ttdef"><b>Definition</b> <a href="programs_2nodeop_2main_8cpp_source.html#l00023">main.cpp:23</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacefc_html"><div class="ttname"><a href="namespacefc.html">fc</a></div><div class="ttdoc">namespace sysio::chain</div><div class="ttdef"><b>Definition</b> <a href="authority_8cpp_source.html#l00003">authority.cpp:3</a></div></div>
<div class="ttc" id="anamespacefc_html_a067b275100894b82b6cf3aa85e804ea5"><div class="ttname"><a href="namespacefc.html#a067b275100894b82b6cf3aa85e804ea5">fc::rename</a></div><div class="ttdeci">void rename(const path &amp;from, const path &amp;to)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00326">filesystem.cpp:326</a></div></div>
<div class="ttc" id="anamespacefc_html_a0db76f35dc060918029b16de918b1e84"><div class="ttname"><a href="namespacefc.html#a0db76f35dc060918029b16de918b1e84">fc::remove</a></div><div class="ttdeci">bool remove(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00350">filesystem.cpp:350</a></div></div>
<div class="ttc" id="anamespacefc_html_a0f3d84fe9e7adcd2d1e0bb7b60b49aa0"><div class="ttname"><a href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">fc::string</a></div><div class="ttdeci">std::string string</div><div class="ttdef"><b>Definition</b> <a href="string_8hpp_source.html#l00010">string.hpp:10</a></div></div>
<div class="ttc" id="anamespacefc_html_a15170d1be1e682691dfe6ae09790edce"><div class="ttname"><a href="namespacefc.html#a15170d1be1e682691dfe6ae09790edce">fc::exception_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; exception &gt; exception_ptr</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00139">exception.hpp:139</a></div></div>
<div class="ttc" id="anamespacefc_html_a3d8a2be677709cc41f09aa7925f2d55fad6bcd1364809e1b881bb22334d14cd56"><div class="ttname"><a href="namespacefc.html#a3d8a2be677709cc41f09aa7925f2d55fad6bcd1364809e1b881bb22334d14cd56">fc::read_only</a></div><div class="ttdeci">@ read_only</div><div class="ttdef"><b>Definition</b> <a href="file__mapping_8hpp_source.html#l00013">file_mapping.hpp:13</a></div></div>
<div class="ttc" id="anamespacefc_html_a3fcf0d920aea28014aacae50a51d8485"><div class="ttname"><a href="namespacefc.html#a3fcf0d920aea28014aacae50a51d8485">fc::exists</a></div><div class="ttdeci">bool exists(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00217">filesystem.cpp:217</a></div></div>
<div class="ttc" id="anamespacefc_html_a50ad24e0099358d167967f9df2e368fc"><div class="ttname"><a href="namespacefc.html#a50ad24e0099358d167967f9df2e368fc">fc::remove_all</a></div><div class="ttdeci">void remove_all(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00248">filesystem.cpp:248</a></div></div>
<div class="ttc" id="anamespacefc_html_a532d37ecf09d0c5d09864fd9ebb2d36a"><div class="ttname"><a href="namespacefc.html#a532d37ecf09d0c5d09864fd9ebb2d36a">fc::uint128_to_float128</a></div><div class="ttdeci">void uint128_to_float128(const sysio::chain::uint128_t &amp;u, float128_t &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="database__utils_8hpp_source.html#l00125">database_utils.hpp:125</a></div></div>
<div class="ttc" id="anamespacefc_html_a6855142912d4cfb89281ba0c7f4938a2"><div class="ttname"><a href="namespacefc.html#a6855142912d4cfb89281ba0c7f4938a2">fc::is_regular_file</a></div><div class="ttdeci">bool is_regular_file(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00226">filesystem.cpp:226</a></div></div>
<div class="ttc" id="anamespacefc_html_a6bf522e3a9abacb2700aa3790f3c9261"><div class="ttname"><a href="namespacefc.html#a6bf522e3a9abacb2700aa3790f3c9261">fc::double_to_float64</a></div><div class="ttdeci">void double_to_float64(const double &amp;d, float64_t &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="database__utils_8hpp_source.html#l00115">database_utils.hpp:115</a></div></div>
<div class="ttc" id="anamespacefc_html_a9623b8cae3f48bbed6aa1fc2afe9b174"><div class="ttname"><a href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a></div><div class="ttdeci">constexpr microseconds seconds(int64_t s)</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00032">time.hpp:32</a></div></div>
<div class="ttc" id="anamespacefc_html_ab123bfeadf918cc293ecad88bca7c499"><div class="ttname"><a href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a></div><div class="ttdeci">bool is_directory(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00225">filesystem.cpp:225</a></div></div>
<div class="ttc" id="anamespacefc_html_ab20c9acf886f89fabeb8a0d9ebc9abb8"><div class="ttname"><a href="namespacefc.html#ab20c9acf886f89fabeb8a0d9ebc9abb8">fc::to_uint64</a></div><div class="ttdeci">uint64_t to_uint64(const fc::string &amp;)</div><div class="ttdef"><b>Definition</b> <a href="string_8cpp_source.html#l00105">string.cpp:105</a></div></div>
<div class="ttc" id="anamespacefc_html_ac4aed50b6ace3ac8741494501f0d03a5"><div class="ttname"><a href="namespacefc.html#ac4aed50b6ace3ac8741494501f0d03a5">fc::operator&lt;&lt;</a></div><div class="ttdeci">datastream&lt; ST &gt; &amp; operator&lt;&lt;(datastream&lt; ST &gt; &amp;s, const sysio::chain::may_not_exist&lt; T &gt; &amp;v)</div><div class="ttdef"><b>Definition</b> <a href="abi__def_8hpp_source.html#l00133">abi_def.hpp:146</a></div></div>
<div class="ttc" id="anamespacefc_html_adea61f2343de94d0fbcb920a32332ad9"><div class="ttname"><a href="namespacefc.html#adea61f2343de94d0fbcb920a32332ad9">fc::to_variant</a></div><div class="ttdeci">void to_variant(const sysio::chain::shared_public_key &amp;var, fc::variant &amp;vo)</div><div class="ttdef"><b>Definition</b> <a href="authority_8cpp_source.html#l00004">authority.cpp:4</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="name_8hpp_source.html#l00106">name.hpp:106</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1config_html"><div class="ttname"><a href="namespacesysio_1_1chain_1_1config.html">sysio::chain::config</a></div><div class="ttdef"><b>Definition</b> <a href="authority_8hpp_source.html#l00148">authority.hpp:148</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1config_html_a376f631fcb770bd4b2e8349a33e52f8a"><div class="ttname"><a href="namespacesysio_1_1chain_1_1config.html#a376f631fcb770bd4b2e8349a33e52f8a">sysio::chain::config::uint128_t</a></div><div class="ttdeci">__uint128_t uint128_t</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2config_8hpp_source.html#l00008">config.hpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1plugin__interface_html"><div class="ttname"><a href="namespacesysio_1_1chain_1_1plugin__interface.html">sysio::chain::plugin_interface</a></div><div class="ttdef"><b>Definition</b> <a href="plugin__interface_8hpp_source.html#l00011">plugin_interface.hpp:11</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1plugin__interface_html_a6ed984ecf76e4d360d5b142d27004c80"><div class="ttname"><a href="namespacesysio_1_1chain_1_1plugin__interface.html#a6ed984ecf76e4d360d5b142d27004c80">sysio::chain::plugin_interface::next_function</a></div><div class="ttdeci">std::function&lt; void(const std::variant&lt; fc::exception_ptr, T &gt; &amp;)&gt; next_function</div><div class="ttdef"><b>Definition</b> <a href="plugin__interface_8hpp_source.html#l00016">plugin_interface.hpp:16</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a0dc2b6941bd899b78a443fedb25354cc"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a0dc2b6941bd899b78a443fedb25354cc">sysio::chain_apis::convert_to_string</a></div><div class="ttdeci">string convert_to_string(const Type &amp;source, const string &amp;key_type, const string &amp;encode_type, const string &amp;desc)</div><div class="ttdef"><b>Definition</b> <a href="#l01628">chain_plugin.cpp:1628</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a0e2fe898ce108132e5941fb41d6e749a"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a0e2fe898ce108132e5941fb41d6e749a">sysio::chain_apis::get_table_type</a></div><div class="ttdeci">string get_table_type(const abi_def &amp;abi, const name &amp;table_name)</div><div class="ttdef"><b>Definition</b> <a href="#l01673">chain_plugin.cpp:1673</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a47b2ffecf4cf6834bb372487ea012708"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a47b2ffecf4cf6834bb372487ea012708">sysio::chain_apis::make_resolver</a></div><div class="ttdeci">auto make_resolver(const controller &amp;control, abi_serializer::yield_function_t yield)</div><div class="ttdef"><b>Definition</b> <a href="#l01964">chain_plugin.cpp:1964</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a4ebb2db783f15e8f2aef59cdc5e96ca1"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a4ebb2db783f15e8f2aef59cdc5e96ca1">sysio::chain_apis::get_abi</a></div><div class="ttdeci">abi_def get_abi(const controller &amp;db, const name &amp;account)</div><div class="ttdef"><b>Definition</b> <a href="#l01664">chain_plugin.cpp:1664</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a7c0a9b3be43e3ab139d31d0d3bb98f5b"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a7c0a9b3be43e3ab139d31d0d3bb98f5b">sysio::chain_apis::next_function</a></div><div class="ttdeci">std::function&lt; void(const std::variant&lt; fc::exception_ptr, T &gt; &amp;)&gt; next_function</div><div class="ttdef"><b>Definition</b> <a href="trx__retry__db_8hpp_source.html#l00009">trx_retry_db.hpp:9</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a7df01d6a5fd1809e162d989a02998ba2"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a7df01d6a5fd1809e162d989a02998ba2">sysio::chain_apis::itoh</a></div><div class="ttdeci">std::string itoh(I n, size_t hlen=sizeof(I)&lt;&lt; 1)</div><div class="ttdef"><b>Definition</b> <a href="#l01408">chain_plugin.cpp:1408</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a836b04c2028748eb9cb50c3d9fb8f473"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a836b04c2028748eb9cb50c3d9fb8f473">sysio::chain_apis::convert_to_type</a></div><div class="ttdeci">uint64_t convert_to_type(const string &amp;str, const string &amp;desc)</div><div class="ttdef"><b>Definition</b> <a href="#l01585">chain_plugin.cpp:1585</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_a8566344f638304618d3768b20885e2b5"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#a8566344f638304618d3768b20885e2b5">sysio::chain_apis::get_global_row</a></div><div class="ttdeci">fc::variant get_global_row(const database &amp;db, const abi_def &amp;abi, const abi_serializer &amp;abis, const fc::microseconds &amp;abi_serializer_max_time_us, bool shorten_abi_errors)</div><div class="ttdef"><b>Definition</b> <a href="#l01848">chain_plugin.cpp:1848</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain__apis_html_abb017a127233edb8335233d631e74951"><div class="ttname"><a href="namespacesysio_1_1chain__apis.html#abb017a127233edb8335233d631e74951">sysio::chain_apis::trx_finality_status_processing_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; trx_finality_status_processing &gt; trx_finality_status_processing_ptr</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00061">trx_finality_status_processing.hpp:61</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html"><div class="ttname"><a href="namespacesysio_1_1chain.html">sysio::chain</a></div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00008">abi_serializer.cpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a007674e7dd512662e202e2a3268da2c4"><div class="ttname"><a href="namespacesysio_1_1chain.html#a007674e7dd512662e202e2a3268da2c4">sysio::chain::type_name</a></div><div class="ttdeci">string type_name</div><div class="ttdef"><b>Definition</b> <a href="abi__def_8hpp_source.html#l00007">abi_def.hpp:7</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a0375f528818d520a3504da1020ff1d28"><div class="ttname"><a href="namespacesysio_1_1chain.html#a0375f528818d520a3504da1020ff1d28">sysio::chain::builtin_protocol_feature_codenames</a></div><div class="ttdeci">const std::unordered_map&lt; builtin_protocol_feature_t, builtin_protocol_feature_spec, enum_hash&lt; builtin_protocol_feature_t &gt; &gt; builtin_protocol_feature_codenames</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00014">protocol_feature_manager.cpp:14</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a255011fa21760c6c73a1187a23d0afd1"><div class="ttname"><a href="namespacesysio_1_1chain.html#a255011fa21760c6c73a1187a23d0afd1">sysio::chain::permission_link_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; permission_link_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, &gt;, ordered_unique&lt; tag&lt; by_action_name &gt;, composite_key&lt; permission_link_object, BOOST_MULTI_INDEX_MEMBER(permission_link_object, account_name, account), BOOST_MULTI_INDEX_MEMBER(permission_link_object, account_name, code), &gt; &gt;, ordered_unique&lt; tag&lt; by_permission_name &gt;, composite_key&lt; permission_link_object, BOOST_MULTI_INDEX_MEMBER(permission_link_object, account_name, account), BOOST_MULTI_INDEX_MEMBER(permission_link_object, permission_name, required_permission), &gt; &gt; &gt; &gt; permission_link_index</div><div class="ttdef"><b>Definition</b> <a href="permission__link__object_8hpp_source.html#l00044">permission_link_object.hpp:44</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a357fd9478475457e5bb386a3143079b6"><div class="ttname"><a href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">sysio::chain::digest_type</a></div><div class="ttdeci">checksum_type digest_type</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00237">types.hpp:237</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a406d45a184cdba0af316b5bf34bf56cf"><div class="ttname"><a href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">sysio::chain::builtin_protocol_feature_t</a></div><div class="ttdeci">builtin_protocol_feature_t</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8hpp_source.html#l00016">protocol_feature_manager.hpp:16</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4404f0f28252f82bd7b98d70d1605e4f"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4404f0f28252f82bd7b98d70d1605e4f">sysio::chain::key256_t</a></div><div class="ttdeci">std::array&lt; uint128_t, 2 &gt; key256_t</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00125">contract_table_objects.hpp:125</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4e24a1668746342d40487d1019880986"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4e24a1668746342d40487d1019880986">sysio::chain::permission_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; permission_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt;, ordered_unique&lt; tag&lt; by_parent &gt;, composite_key&lt; permission_object, member&lt; permission_object, permission_object::id_type, &amp;permission_object::parent &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt; &gt;, ordered_unique&lt; tag&lt; by_owner &gt;, composite_key&lt; permission_object, member&lt; permission_object, account_name, &amp;permission_object::owner &gt;, member&lt; permission_object, permission_name, &amp;permission_object::name &gt; &gt; &gt;, ordered_unique&lt; tag&lt; by_name &gt;, composite_key&lt; permission_object, member&lt; permission_object, permission_name, &amp;permission_object::name &gt;, member&lt; permission_object, permission_object::id_type, &amp;permission_object::id &gt; &gt; &gt; &gt; &gt; permission_index</div><div class="ttdef"><b>Definition</b> <a href="permission__object_8hpp_source.html#l00086">permission_object.hpp:86</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4ee2867a6bec961c7a78b203cfd76be9"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">sysio::chain::transaction_trace_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; transaction_trace &gt; transaction_trace_ptr</div><div class="ttdef"><b>Definition</b> <a href="libraries_2chain_2include_2sysio_2chain_2trace_8hpp_source.html#l00020">trace.hpp:20</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a5dfe17906469eaf079c180c1afb4ad94"><div class="ttname"><a href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">sysio::chain::transaction_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension transaction_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00243">exceptions.hpp:243</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a613ce5969969e88f01eba861173d2b1b"><div class="ttname"><a href="namespacesysio_1_1chain.html#a613ce5969969e88f01eba861173d2b1b">sysio::chain::index_double_index</a></div><div class="ttdeci">secondary_index&lt; float64_t, index_double_object_type, soft_double_less &gt;::index_index index_double_index</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00148">contract_table_objects.hpp:148</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a646553a6af0a730cdb19b9c6023d5132"><div class="ttname"><a href="namespacesysio_1_1chain.html#a646553a6af0a730cdb19b9c6023d5132">sysio::chain::guard_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed Transaction exceeded transient resource limit Account name already exists sysio_assert_message assertion failure Action can not be found Attempt to use unaccessible API Inline Action exceeds maximum size limit sysio_assert_code assertion failure uses restricted error code value action return value size too big Permission Query Exception Contract Table Query Exception Database is an unknown or unsupported version guard_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00328">exceptions.hpp:328</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7041c0316bd294d0866609ab3e0cc7a7"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">sysio::chain::packed_transaction_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; const packed_transaction &gt; packed_transaction_ptr</div><div class="ttdef"><b>Definition</b> <a href="transaction_8hpp_source.html#l00214">transaction.hpp:214</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a764b50974b9b72a0e233e72176913d6b"><div class="ttname"><a href="namespacesysio_1_1chain.html#a764b50974b9b72a0e233e72176913d6b">sysio::chain::action_validate_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed Transaction exceeded transient resource limit action_validate_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00284">exceptions.hpp:284</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7a1685bcc352cda9e45f055932069428"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">sysio::chain::action_name</a></div><div class="ttdeci">sysio::chain::action_name action_name</div><div class="ttdef"><b>Definition</b> <a href="contract__types_8hpp_source.html#l00008">contract_types.hpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7a49a000b5d9da709b8d3132a922d16a"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7a49a000b5d9da709b8d3132a922d16a">sysio::chain::chain_type_exception</a></div><div class="ttdeci">chain type exception chain_type_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00170">exceptions.hpp:170</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7d207c8c6bf978826102eca76da530e0"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0">sysio::chain::validation_mode</a></div><div class="ttdeci">validation_mode</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00058">controller.hpp:58</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7d207c8c6bf978826102eca76da530e0aba7de5bc6888294e5884b024a4c894f1"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0aba7de5bc6888294e5884b024a4c894f1">sysio::chain::validation_mode::FULL</a></div><div class="ttdeci">@ FULL</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7d207c8c6bf978826102eca76da530e0af8589806bbf66241917092b2a6e18c6f"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7d207c8c6bf978826102eca76da530e0af8589806bbf66241917092b2a6e18c6f">sysio::chain::validation_mode::LIGHT</a></div><div class="ttdeci">@ LIGHT</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a98d0965c543569bc5e49006c54964ba4"><div class="ttname"><a href="namespacesysio_1_1chain.html#a98d0965c543569bc5e49006c54964ba4">sysio::chain::builtin_protocol_feature_codename</a></div><div class="ttdeci">const char * builtin_protocol_feature_codename(builtin_protocol_feature_t)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00277">protocol_feature_manager.cpp:277</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a9e9842ee49526c2423e014a696edc602"><div class="ttname"><a href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">sysio::chain::generated_transaction_multi_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; generated_transaction_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, generated_transaction_object::id_type, id)&gt;, ordered_unique&lt; tag&lt; by_trx_id &gt;, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, transaction_id_type, trx_id)&gt;, ordered_unique&lt; tag&lt; by_expiration &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, time_point, expiration), &gt; &gt;, ordered_unique&lt; tag&lt; by_delay &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, time_point, delay_until), &gt; &gt;, ordered_unique&lt; tag&lt; by_sender_id &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, account_name, sender), &gt; &gt; &gt; &gt; generated_transaction_multi_index</div><div class="ttdef"><b>Definition</b> <a href="generated__transaction__object_8hpp_source.html#l00052">generated_transaction_object.hpp:52</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa10ee348c57604b615bc8570f6685102"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">sysio::chain::signed_block_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signed_block &gt; signed_block_ptr</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00105">block.hpp:105</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa56956ceeec88a964737228174aec6d6"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa56956ceeec88a964737228174aec6d6">sysio::chain::validate</a></div><div class="ttdeci">bool validate(const Authority &amp;auth)</div><div class="ttdef"><b>Definition</b> <a href="authority_8hpp_source.html#l00262">authority.hpp:262</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa85a3b49b3b219d1e3840567579e7e63"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">sysio::chain::transaction_id_type</a></div><div class="ttdeci">checksum_type transaction_id_type</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00236">types.hpp:236</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aac1a2c1330fcb6c8002d59d4d1de5858"><div class="ttname"><a href="namespacesysio_1_1chain.html#aac1a2c1330fcb6c8002d59d4d1de5858">sysio::chain::key_value_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; key_value_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; key_value_object, key_value_object::id_type, &amp;key_value_object::id &gt; &gt;, ordered_unique&lt; tag&lt; by_scope_primary &gt;, composite_key&lt; key_value_object, member&lt; key_value_object, table_id, &amp;key_value_object::t_id &gt;, member&lt; key_value_object, uint64_t, &amp;key_value_object::primary_key &gt; &gt;, composite_key_compare&lt; std::less&lt; table_id &gt;, std::less&lt; uint64_t &gt; &gt; &gt; &gt; &gt; key_value_index</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00064">contract_table_objects.hpp:64</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aacd8d660fd83146e0a5d6a9cb7b19a29"><div class="ttname"><a href="namespacesysio_1_1chain.html#aacd8d660fd83146e0a5d6a9cb7b19a29">sysio::chain::table_id_multi_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; table_id_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; table_id_object, table_id_object::id_type, &amp;table_id_object::id &gt; &gt;, ordered_unique&lt; tag&lt; by_code_scope_table &gt;, composite_key&lt; table_id_object, member&lt; table_id_object, account_name, &amp;table_id_object::code &gt;, member&lt; table_id_object, scope_name, &amp;table_id_object::scope &gt;, member&lt; table_id_object, table_name, &amp;table_id_object::table &gt; &gt; &gt; &gt; &gt; table_id_multi_index</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00028">contract_table_objects.hpp:28</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ab9b14f4554cc4a0da2c361e9757b1662"><div class="ttname"><a href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">sysio::chain::block_state_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; block_state &gt; block_state_ptr</div><div class="ttdef"><b>Definition</b> <a href="block__state_8hpp_source.html#l00067">block_state.hpp:67</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ac6f5a1f1e061f000983f5d5f3ac25dfa"><div class="ttname"><a href="namespacesysio_1_1chain.html#ac6f5a1f1e061f000983f5d5f3ac25dfa">sysio::chain::bytes</a></div><div class="ttdeci">vector&lt; char &gt; bytes</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00243">types.hpp:243</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ad795329e0af850251f4f47cc32e8d770"><div class="ttname"><a href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">sysio::chain::transaction_metadata_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; transaction_metadata &gt; transaction_metadata_ptr</div><div class="ttdef"><b>Definition</b> <a href="transaction__metadata_8hpp_source.html#l00014">transaction_metadata.hpp:14</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5e"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">sysio::chain::db_read_mode</a></div><div class="ttdeci">db_read_mode</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00051">controller.hpp:51</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">sysio::chain::db_read_mode::SPECULATIVE</a></div><div class="ttdeci">@ SPECULATIVE</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5ea47c7e7cb36a953a8c47e02000036bb44"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea47c7e7cb36a953a8c47e02000036bb44">sysio::chain::db_read_mode::READ_ONLY</a></div><div class="ttdeci">@ READ_ONLY</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">sysio::chain::db_read_mode::IRREVERSIBLE</a></div><div class="ttdeci">@ IRREVERSIBLE</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5eae15e216fc1c639f787b1231ecdfa1bf8"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5eae15e216fc1c639f787b1231ecdfa1bf8">sysio::chain::db_read_mode::HEAD</a></div><div class="ttdeci">@ HEAD</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca"><div class="ttname"><a href="namespacesysio_1_1chain.html#affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca">sysio::chain::trx_enum_type::incoming</a></div><div class="ttdeci">@ incoming</div></div>
<div class="ttc" id="anamespacesysio_html"><div class="ttname"><a href="namespacesysio.html">sysio</a></div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00008">abi_serializer.cpp:8</a></div></div>
<div class="ttc" id="anamespacesysio_html_a23ea7ef126523715ac0dfa6881b6b7eb"><div class="ttname"><a href="namespacesysio.html#a23ea7ef126523715ac0dfa6881b6b7eb">sysio::calculate_genesis_timestamp</a></div><div class="ttdeci">fc::time_point calculate_genesis_timestamp(string tstr)</div><div class="ttdef"><b>Definition</b> <a href="#l00386">chain_plugin.cpp:386</a></div></div>
<div class="ttc" id="anamespacesysio_html_a42c982ab5630888ec8df71785a9a226c"><div class="ttname"><a href="namespacesysio.html#a42c982ab5630888ec8df71785a9a226c">sysio::initialize_protocol_features</a></div><div class="ttdeci">protocol_feature_set initialize_protocol_features(const fc::path &amp;p, bool populate_missing_builtins=true)</div><div class="ttdef"><b>Definition</b> <a href="#l00438">chain_plugin.cpp:438</a></div></div>
<div class="ttc" id="anamespacesysio_html_a45a53a381269130d87e80a8fb42a24c5"><div class="ttname"><a href="namespacesysio.html#a45a53a381269130d87e80a8fb42a24c5">sysio::read_builtin_protocol_feature</a></div><div class="ttdeci">std::optional&lt; builtin_protocol_feature &gt; read_builtin_protocol_feature(const fc::path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="#l00425">chain_plugin.cpp:425</a></div></div>
<div class="ttc" id="anamespacesysio_html_a735040263215e078563aaca1cfcfc39e"><div class="ttname"><a href="namespacesysio.html#a735040263215e078563aaca1cfcfc39e">sysio::clear_chainbase_files</a></div><div class="ttdeci">void clear_chainbase_files(const fc::path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="#l00417">chain_plugin.cpp:417</a></div></div>
<div class="ttc" id="anamespacesysio_html_aff3a217d3e7006c6f48afb10c16408b9"><div class="ttname"><a href="namespacesysio.html#aff3a217d3e7006c6f48afb10c16408b9">sysio::clear_directory_contents</a></div><div class="ttdeci">void clear_directory_contents(const fc::path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="#l00406">chain_plugin.cpp:406</a></div></div>
<div class="ttc" id="anamespaceutf8_html_afc093dfde66a6f52cb4a5caefe0e580d"><div class="ttname"><a href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">utf8::next</a></div><div class="ttdeci">uint32_t next(octet_iterator &amp;it, octet_iterator end)</div><div class="ttdef"><b>Definition</b> <a href="checked_8h_source.html#l00137">checked.h:137</a></div></div>
<div class="ttc" id="apermission__link__object_8hpp_html"><div class="ttname"><a href="permission__link__object_8hpp.html">permission_link_object.hpp</a></div></div>
<div class="ttc" id="apkcs11_8h_html_a32aff7c6c4cd253fdf6563677afab5ce"><div class="ttname"><a href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a></div><div class="ttdeci">#define value</div><div class="ttdef"><b>Definition</b> <a href="pkcs11_8h_source.html#l00157">pkcs11.h:157</a></div></div>
<div class="ttc" id="apointer_8h_html_adb82dfe18535e9a30aa97d275f82bd55"><div class="ttname"><a href="pointer_8h.html#adb82dfe18535e9a30aa97d275f82bd55">source</a></div><div class="ttdeci">const CharType(&amp; source)[N]</div><div class="ttdef"><b>Definition</b> <a href="pointer_8h_source.html#l01204">pointer.h:1204</a></div></div>
<div class="ttc" id="apointer_8h_html_aeeddce917cf130d62c370b8f216026dd"><div class="ttname"><a href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a></div><div class="ttdeci">const GenericPointer&lt; typename T::ValueType &gt; T2 T::AllocatorType &amp; a</div><div class="ttdef"><b>Definition</b> <a href="pointer_8h_source.html#l01181">pointer.h:1181</a></div></div>
<div class="ttc" id="aproducer__plugin_8hpp_html"><div class="ttname"><a href="producer__plugin_8hpp.html">producer_plugin.hpp</a></div></div>
<div class="ttc" id="aprograms_2clio_2main_8cpp_html_a074511b7997537efa9b642dcddcced71"><div class="ttname"><a href="programs_2clio_2main_8cpp.html#a074511b7997537efa9b642dcddcced71">abi_serializer_max_time</a></div><div class="ttdeci">const fc::microseconds abi_serializer_max_time</div><div class="ttdef"><b>Definition</b> <a href="programs_2clio_2main_8cpp_source.html#l00173">main.cpp:173</a></div></div>
<div class="ttc" id="arapidjson_8h_html_a1d1cfd8ffb84e947f82999c682b666a7"><div class="ttname"><a href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a></div><div class="ttdeci">Type</div><div class="ttdoc">Type of JSON value.</div><div class="ttdef"><b>Definition</b> <a href="rapidjson_8h_source.html#l00644">rapidjson.h:644</a></div></div>
<div class="ttc" id="areflect_8hpp_html_a2ace850e636b1ca0b18fe3177e413d99"><div class="ttname"><a href="reflect_8hpp.html#a2ace850e636b1ca0b18fe3177e413d99">FC_REFLECT</a></div><div class="ttdeci">#define FC_REFLECT(TYPE, MEMBERS)</div><div class="ttdoc">Specializes fc::reflector for TYPE.</div><div class="ttdef"><b>Definition</b> <a href="reflect_8hpp_source.html#l00311">reflect.hpp:311</a></div></div>
<div class="ttc" id="areflect_8hpp_html_a3243e9d5f0a24341d7f7e64f9cd525ee"><div class="ttname"><a href="reflect_8hpp.html#a3243e9d5f0a24341d7f7e64f9cd525ee">FC_REFLECT_ENUM</a></div><div class="ttdeci">#define FC_REFLECT_ENUM(ENUM, FIELDS)</div><div class="ttdef"><b>Definition</b> <a href="reflect_8hpp_source.html#l00194">reflect.hpp:194</a></div></div>
<div class="ttc" id="aresource__limits_8hpp_html"><div class="ttname"><a href="resource__limits_8hpp.html">resource_limits.hpp</a></div></div>
<div class="ttc" id="aresource__monitor__plugin_8hpp_html"><div class="ttname"><a href="resource__monitor__plugin_8hpp.html">resource_monitor_plugin.hpp</a></div></div>
<div class="ttc" id="asnapshot_8hpp_html"><div class="ttname"><a href="snapshot_8hpp.html">snapshot.hpp</a></div></div>
<div class="ttc" id="asoftfloat_2source_2f128__to__f64_8c_html_adc0008cedb156534af8a2d946c2ed61b"><div class="ttname"><a href="softfloat_2source_2f128__to__f64_8c.html#adc0008cedb156534af8a2d946c2ed61b">f128_to_f64</a></div><div class="ttdeci">float64_t f128_to_f64(float128_t a)</div><div class="ttdef"><b>Definition</b> <a href="softfloat_2source_2f128__to__f64_8c_source.html#l00044">f128_to_f64.c:44</a></div></div>
<div class="ttc" id="asoftfloat_2source_2f64__to__f128_m_8c_html_ae37bff64b19e787368a0e7e1122450b7"><div class="ttname"><a href="softfloat_2source_2f64__to__f128_m_8c.html#ae37bff64b19e787368a0e7e1122450b7">f64_to_f128M</a></div><div class="ttdeci">void f64_to_f128M(float64_t a, float128_t *zPtr)</div><div class="ttdef"><b>Definition</b> <a href="softfloat_2source_2f64__to__f128_m_8c_source.html#l00055">f64_to_f128M.c:55</a></div></div>
<div class="ttc" id="asoftfloat_2source_2include_2softfloat_8hpp_html_a94d6a7de67c4c0295bb025e9bc549544"><div class="ttname"><a href="softfloat_2source_2include_2softfloat_8hpp.html#a94d6a7de67c4c0295bb025e9bc549544">to_softfloat64</a></div><div class="ttdeci">float64_t to_softfloat64(double d)</div><div class="ttdef"><b>Definition</b> <a href="softfloat_2source_2include_2softfloat_8hpp_source.html#l00300">softfloat.hpp:300</a></div></div>
<div class="ttc" id="astdint_8h_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00125">stdint.h:125</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="astdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00136">stdint.h:136</a></div></div>
<div class="ttc" id="astructappbase_1_1method__decl_html"><div class="ttname"><a href="structappbase_1_1method__decl.html">appbase::method_decl</a></div><div class="ttdef"><b>Definition</b> <a href="method_8hpp_source.html#l00301">method.hpp:301</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_a89fc0f21b0f87574f0299932fc1724b4"><div class="ttname"><a href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">appbase::priority::medium</a></div><div class="ttdeci">static constexpr int medium</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00013">execution_priority_queue.hpp:13</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_adab9a6659f361fc6ca6c855788b05df0"><div class="ttname"><a href="structappbase_1_1priority.html#adab9a6659f361fc6ca6c855788b05df0">appbase::priority::high</a></div><div class="ttdeci">static constexpr int high</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00015">execution_priority_queue.hpp:15</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_ae0c72abae2c2ba770667fcf90e40d654"><div class="ttname"><a href="structappbase_1_1priority.html#ae0c72abae2c2ba770667fcf90e40d654">appbase::priority::low</a></div><div class="ttdeci">static constexpr int low</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00011">execution_priority_queue.hpp:11</a></div></div>
<div class="ttc" id="astructby__secondary_html"><div class="ttname"><a href="structby__secondary.html">by_secondary</a></div><div class="ttdef"><b>Definition</b> <a href="undo__index_8cpp_source.html#l00596">undo_index.cpp:596</a></div></div>
<div class="ttc" id="astructchainbase_1_1environment_html"><div class="ttname"><a href="structchainbase_1_1environment.html">chainbase::environment</a></div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00010">environment.hpp:10</a></div></div>
<div class="ttc" id="astructchainbase_1_1environment_html_a5230c250a35c7d13c3c059e117c54395"><div class="ttname"><a href="structchainbase_1_1environment.html#a5230c250a35c7d13c3c059e117c54395">chainbase::environment::os_t</a></div><div class="ttdeci">os_t</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00015">environment.hpp:15</a></div></div>
<div class="ttc" id="astructchainbase_1_1environment_html_ad49d26e72b1a5ad85a8d2ccdc85b7fa8"><div class="ttname"><a href="structchainbase_1_1environment.html#ad49d26e72b1a5ad85a8d2ccdc85b7fa8">chainbase::environment::arch_t</a></div><div class="ttdeci">arch_t</div><div class="ttdef"><b>Definition</b> <a href="environment_8hpp_source.html#l00021">environment.hpp:21</a></div></div>
<div class="ttc" id="astructfc_1_1blob_html"><div class="ttname"><a href="structfc_1_1blob.html">fc::blob</a></div><div class="ttdef"><b>Definition</b> <a href="fc_2include_2fc_2variant_8hpp_source.html#l00044">variant.hpp:44</a></div></div>
<div class="ttc" id="astructfc_1_1unsigned__int_html"><div class="ttname"><a href="structfc_1_1unsigned__int.html">fc::unsigned_int</a></div><div class="ttdef"><b>Definition</b> <a href="varint_8hpp_source.html#l00006">varint.hpp:6</a></div></div>
<div class="ttc" id="astructfloat128__t_html"><div class="ttname"><a href="structfloat128__t.html">float128_t</a></div><div class="ttdef"><b>Definition</b> <a href="softfloat_2source_2include_2softfloat__types_8h_source.html#l00053">softfloat_types.h:53</a></div></div>
<div class="ttc" id="astructfloat64__t_html"><div class="ttname"><a href="structfloat64__t.html">float64_t</a></div><div class="ttdef"><b>Definition</b> <a href="softfloat_2source_2include_2softfloat__types_8h_source.html#l00052">softfloat_types.h:52</a></div></div>
<div class="ttc" id="astructmie_1_1_vuint_t_html_a1be409ac9e110dc4b60234ce37cbf0c8"><div class="ttname"><a href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8">mie::VuintT::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition</b> <a href="zm_8h_source.html#l00519">zm.h:519</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__def_html"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__def.html">sysio::chain::abi_def</a></div><div class="ttdef"><b>Definition</b> <a href="abi__def_8hpp_source.html#l00113">abi_def.hpp:113</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html">sysio::chain::abi_serializer</a></div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00032">abi_serializer.hpp:32</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a2dc34bf706557f0c83d61b3791299c98"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a2dc34bf706557f0c83d61b3791299c98">sysio::chain::abi_serializer::create_yield_function</a></div><div class="ttdeci">static yield_function_t create_yield_function(const fc::microseconds &amp;max_serialization_time)</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00123">abi_serializer.hpp:123</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a413ac5143b5f8860d6b16dbc79e950b2"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a413ac5143b5f8860d6b16dbc79e950b2">sysio::chain::abi_serializer::get_table_type</a></div><div class="ttdeci">type_name get_table_type(name action) const</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00609">abi_serializer.cpp:609</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a49420effa78be1a2244df19f295457e8"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a49420effa78be1a2244df19f295457e8">sysio::chain::abi_serializer::to_log_variant</a></div><div class="ttdeci">static void to_log_variant(const T &amp;o, fc::variant &amp;vo, Resolver resolver, const yield_function_t &amp;yield)</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00917">abi_serializer.hpp:917</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a551ed3dd188f2a751a4edf81c76502c2"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a551ed3dd188f2a751a4edf81c76502c2">sysio::chain::abi_serializer::to_abi</a></div><div class="ttdeci">static bool to_abi(const Vec &amp;abi_vec, abi_def &amp;abi)</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00104">abi_serializer.hpp:104</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a6e978b5089ec66305c0accba348937d1"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a6e978b5089ec66305c0accba348937d1">sysio::chain::abi_serializer::variant_to_binary</a></div><div class="ttdeci">bytes variant_to_binary(const std::string_view &amp;type, const fc::variant &amp;var, const fc::microseconds &amp;max_serialization_time, bool short_path=false) const</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00590">abi_serializer.cpp:590</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a76885bc1fc719e1230f5edf19ce5bcb4"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a76885bc1fc719e1230f5edf19ce5bcb4">sysio::chain::abi_serializer::get_action_type</a></div><div class="ttdeci">type_name get_action_type(name action) const</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00604">abi_serializer.cpp:604</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_a7e23d065d4624d99ec1945f3ea429415"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#a7e23d065d4624d99ec1945f3ea429415">sysio::chain::abi_serializer::to_variant</a></div><div class="ttdeci">static void to_variant(const T &amp;o, fc::variant &amp;vo, Resolver resolver, const yield_function_t &amp;yield)</div><div class="ttdoc">namespace sysio::chain::impl</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00904">abi_serializer.hpp:904</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_abe15ed5dd85d87a88cd86a6e45cef4d0"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#abe15ed5dd85d87a88cd86a6e45cef4d0">sysio::chain::abi_serializer::binary_to_variant</a></div><div class="ttdeci">fc::variant binary_to_variant(const std::string_view &amp;type, const bytes &amp;binary, const yield_function_t &amp;yield, bool short_path=false) const</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00445">abi_serializer.cpp:445</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1abi__serializer_html_aff31395c714be1ed778531feadcfa6aa"><div class="ttname"><a href="structsysio_1_1chain_1_1abi__serializer.html#aff31395c714be1ed778531feadcfa6aa">sysio::chain::abi_serializer::from_variant</a></div><div class="ttdeci">static void from_variant(const fc::variant &amp;v, T &amp;o, Resolver resolver, const yield_function_t &amp;yield)</div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8hpp_source.html#l00927">abi_serializer.hpp:927</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1action_html"><div class="ttname"><a href="structsysio_1_1chain_1_1action.html">sysio::chain::action</a></div><div class="ttdef"><b>Definition</b> <a href="action_8hpp_source.html#l00069">action.hpp:69</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1asset_html"><div class="ttname"><a href="structsysio_1_1chain_1_1asset.html">sysio::chain::asset</a></div><div class="ttdef"><b>Definition</b> <a href="asset_8hpp_source.html#l00017">asset.hpp:18</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1asset_html_a807aa81522392e1869c5180289b3a41d"><div class="ttname"><a href="structsysio_1_1chain_1_1asset.html#a807aa81522392e1869c5180289b3a41d">sysio::chain::asset::get_symbol</a></div><div class="ttdeci">const symbol &amp; get_symbol() const</div><div class="ttdef"><b>Definition</b> <a href="asset_8hpp_source.html#l00034">asset.hpp:34</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1block__header__state_html"><div class="ttname"><a href="structsysio_1_1chain_1_1block__header__state.html">sysio::chain::block_header_state</a></div><div class="ttdoc">defines the minimum state necessary to validate transaction headers</div><div class="ttdef"><b>Definition</b> <a href="block__header__state_8hpp_source.html#l00119">block_header_state.hpp:119</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__id__type_html"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__id__type.html">sysio::chain::chain_id_type</a></div><div class="ttdef"><b>Definition</b> <a href="chain__id__type_8hpp_source.html#l00023">chain_id_type.hpp:23</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html">sysio::chain::controller::config</a></div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00065">controller.hpp:65</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1eosvmoc_1_1config_html"><div class="ttname"><a href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">sysio::chain::eosvmoc::config</a></div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2webassembly_2sys-vm-oc_2config_8hpp_source.html#l00013">config.hpp:13</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1genesis__state_html"><div class="ttname"><a href="structsysio_1_1chain_1_1genesis__state.html">sysio::chain::genesis_state</a></div><div class="ttdef"><b>Definition</b> <a href="genesis__state_8hpp_source.html#l00014">genesis_state.hpp:14</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1genesis__state_html_a477c82e4e1b6c19c35f3550f1a61f99b"><div class="ttname"><a href="structsysio_1_1chain_1_1genesis__state.html#a477c82e4e1b6c19c35f3550f1a61f99b">sysio::chain::genesis_state::sysio_root_key</a></div><div class="ttdeci">static const string sysio_root_key</div><div class="ttdef"><b>Definition</b> <a href="genesis__state_8hpp_source.html#l00017">genesis_state.hpp:17</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1genesis__state_html_aa5ee7b68f2765bb346d9ef34cb4d93cc"><div class="ttname"><a href="structsysio_1_1chain_1_1genesis__state.html#aa5ee7b68f2765bb346d9ef34cb4d93cc">sysio::chain::genesis_state::initial_timestamp</a></div><div class="ttdeci">time_point initial_timestamp</div><div class="ttdef"><b>Definition</b> <a href="genesis__state_8hpp_source.html#l00055">genesis_state.hpp:55</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1genesis__state_html_ad6e72f371108e814704865a7f1b4d708"><div class="ttname"><a href="structsysio_1_1chain_1_1genesis__state.html#ad6e72f371108e814704865a7f1b4d708">sysio::chain::genesis_state::compute_chain_id</a></div><div class="ttdeci">chain_id_type compute_chain_id() const</div><div class="ttdef"><b>Definition</b> <a href="genesis__state_8cpp_source.html#l00012">genesis_state.cpp:12</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1key__value__object_html"><div class="ttname"><a href="structsysio_1_1chain_1_1key__value__object.html">sysio::chain::key_value_object</a></div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00051">contract_table_objects.hpp:51</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1key__value__object_html_ab78a91101969265c3e5345d6db5941e3"><div class="ttname"><a href="structsysio_1_1chain_1_1key__value__object.html#ab78a91101969265c3e5345d6db5941e3">sysio::chain::key_value_object::value</a></div><div class="ttdeci">shared_blob value</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00061">contract_table_objects.hpp:61</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1name_html"><div class="ttname"><a href="structsysio_1_1chain_1_1name.html">sysio::chain::name</a></div><div class="ttdoc">Immutable except for fc::from_variant.</div><div class="ttdef"><b>Definition</b> <a href="name_8hpp_source.html#l00043">name.hpp:43</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1name_html_ad1e96c77890d21207fc5cda532244019"><div class="ttname"><a href="structsysio_1_1chain_1_1name.html#ad1e96c77890d21207fc5cda532244019">sysio::chain::name::to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdef"><b>Definition</b> <a href="name_8cpp_source.html#l00019">name.cpp:19</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1packed__transaction_html"><div class="ttname"><a href="structsysio_1_1chain_1_1packed__transaction.html">sysio::chain::packed_transaction</a></div><div class="ttdef"><b>Definition</b> <a href="transaction_8hpp_source.html#l00136">transaction.hpp:136</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1producer__authority__schedule_html_afb0f1bdb282b3d8e1a60ee37c70657d4"><div class="ttname"><a href="structsysio_1_1chain_1_1producer__authority__schedule.html#afb0f1bdb282b3d8e1a60ee37c70657d4">sysio::chain::producer_authority_schedule::producers</a></div><div class="ttdeci">vector&lt; producer_authority &gt; producers</div><div class="ttdef"><b>Definition</b> <a href="producer__schedule_8hpp_source.html#l00273">producer_schedule.hpp:273</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1protocol__feature_html_a4743db595022a0f1782a03d306458d2b"><div class="ttname"><a href="structsysio_1_1chain_1_1protocol__feature.html#a4743db595022a0f1782a03d306458d2b">sysio::chain::protocol_feature::feature_digest</a></div><div class="ttdeci">digest_type feature_digest</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8hpp_source.html#l00107">protocol_feature_manager.hpp:107</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1resource__limits_1_1account__resource__limit_html"><div class="ttname"><a href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">sysio::chain::resource_limits::account_resource_limit</a></div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8hpp_source.html#l00055">resource_limits.hpp:55</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1resource__limits_1_1account__resource__limit_html_a25bb0386b0663efe779b395c992546f3"><div class="ttname"><a href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html#a25bb0386b0663efe779b395c992546f3">sysio::chain::resource_limits::account_resource_limit::used</a></div><div class="ttdeci">int64_t used</div><div class="ttdoc">quantity used in current window</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8hpp_source.html#l00056">resource_limits.hpp:56</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1secondary__index_html"><div class="ttname"><a href="structsysio_1_1chain_1_1secondary__index.html">sysio::chain::secondary_index</a></div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00082">contract_table_objects.hpp:83</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1signed__block_html"><div class="ttname"><a href="structsysio_1_1chain_1_1signed__block.html">sysio::chain::signed_block</a></div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00089">block.hpp:89</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction_html"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction.html">sysio::chain::transaction</a></div><div class="ttdef"><b>Definition</b> <a href="transaction_8hpp_source.html#l00083">transaction.hpp:83</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params.html">sysio::chain_apis::account_query_db::get_accounts_by_authorizers_params</a></div><div class="ttdef"><b>Definition</b> <a href="account__query__db_8hpp_source.html#l00048">account_query_db.hpp:48</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1empty_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1empty.html">sysio::chain_apis::empty</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00049">chain_plugin.hpp:49</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1keytype__converter_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1keytype__converter.html">sysio::chain_apis::keytype_converter</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00705">chain_plugin.hpp:705</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1linked__action_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1linked__action.html">sysio::chain_apis::linked_action</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00051">chain_plugin.hpp:51</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1permission_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1permission.html">sysio::chain_apis::permission</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00056">chain_plugin.hpp:56</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__params.html">sysio::chain_apis::read_only::abi_json_to_bin_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00280">chain_plugin.hpp:280</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1abi__json__to__bin__result.html">sysio::chain_apis::read_only::abi_json_to_bin_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00285">chain_plugin.hpp:285</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__abi__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__abi__params.html">sysio::chain_apis::read_only::get_abi_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00245">chain_plugin.hpp:245</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__abi__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__abi__results.html">sysio::chain_apis::read_only::get_abi_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00240">chain_plugin.hpp:240</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__account__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__account__params.html">sysio::chain_apis::read_only::get_account_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00211">chain_plugin.hpp:211</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__account__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__account__results.html">sysio::chain_apis::read_only::get_account_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00180">chain_plugin.hpp:180</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__params.html">sysio::chain_apis::read_only::get_activated_protocol_features_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00159">chain_plugin.hpp:159</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__activated__protocol__features__results.html">sysio::chain_apis::read_only::get_activated_protocol_features_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00167">chain_plugin.hpp:167</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__block__header__state__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__header__state__params.html">sysio::chain_apis::read_only::get_block_header_state_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00331">chain_plugin.hpp:331</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__block__info__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__info__params.html">sysio::chain_apis::read_only::get_block_info_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00325">chain_plugin.hpp:325</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__block__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__block__params.html">sysio::chain_apis::read_only::get_block_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00319">chain_plugin.hpp:319</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__params.html">sysio::chain_apis::read_only::get_code_hash_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00236">chain_plugin.hpp:236</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__hash__results.html">sysio::chain_apis::read_only::get_code_hash_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00231">chain_plugin.hpp:231</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__code__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__params.html">sysio::chain_apis::read_only::get_code_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00226">chain_plugin.hpp:226</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__code__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__code__results.html">sysio::chain_apis::read_only::get_code_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00218">chain_plugin.hpp:218</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__currency__balance__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__balance__params.html">sysio::chain_apis::read_only::get_currency_balance_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00383">chain_plugin.hpp:383</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__params.html">sysio::chain_apis::read_only::get_currency_stats_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00391">chain_plugin.hpp:391</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__currency__stats__result.html">sysio::chain_apis::read_only::get_currency_stats_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00397">chain_plugin.hpp:397</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__info__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__info__results.html">sysio::chain_apis::read_only::get_info_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00109">chain_plugin.hpp:109</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__params.html">sysio::chain_apis::read_only::get_producer_schedule_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00419">chain_plugin.hpp:419</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__producer__schedule__result.html">sysio::chain_apis::read_only::get_producer_schedule_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00422">chain_plugin.hpp:422</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__producers__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__params.html">sysio::chain_apis::read_only::get_producers_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00405">chain_plugin.hpp:405</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__producers__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__producers__result.html">sysio::chain_apis::read_only::get_producers_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00411">chain_plugin.hpp:411</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__params.html">sysio::chain_apis::read_only::get_raw_abi_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00259">chain_plugin.hpp:259</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__abi__results.html">sysio::chain_apis::read_only::get_raw_abi_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00264">chain_plugin.hpp:264</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__params.html">sysio::chain_apis::read_only::get_raw_code_and_abi_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00255">chain_plugin.hpp:255</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__raw__code__and__abi__results.html">sysio::chain_apis::read_only::get_raw_code_and_abi_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00249">chain_plugin.hpp:249</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__params.html">sysio::chain_apis::read_only::get_scheduled_transactions_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00430">chain_plugin.hpp:430</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__scheduled__transactions__result.html">sysio::chain_apis::read_only::get_scheduled_transactions_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00436">chain_plugin.hpp:436</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__params.html">sysio::chain_apis::read_only::get_table_by_scope_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00361">chain_plugin.hpp:361</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__by__scope__result.html">sysio::chain_apis::read_only::get_table_by_scope_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00376">chain_plugin.hpp:376</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__params.html">sysio::chain_apis::read_only::get_table_rows_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00337">chain_plugin.hpp:337</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__result_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__table__rows__result.html">sysio::chain_apis::read_only::get_table_rows_result</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00353">chain_plugin.hpp:353</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params.html">sysio::chain_apis::read_only::get_transaction_status_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00137">chain_plugin.hpp:137</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params_html_aeadb85e8c10411cf8851cb846b894683"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__params.html#aeadb85e8c10411cf8851cb846b894683">sysio::chain_apis::read_only::get_transaction_status_params::id</a></div><div class="ttdeci">chain::transaction_id_type id</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00138">chain_plugin.hpp:138</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__only_1_1get__transaction__status__results.html">sysio::chain_apis::read_only::get_transaction_status_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00141">chain_plugin.hpp:141</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__write_1_1push__transaction__results_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__write_1_1push__transaction__results.html">sysio::chain_apis::read_write::push_transaction_results</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00667">chain_plugin.hpp:667</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1read__write_1_1send__transaction2__params_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1read__write_1_1send__transaction2__params.html">sysio::chain_apis::read_write::send_transaction2_params</a></div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8hpp_source.html#l00682">chain_plugin.hpp:682</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1resolver__factory_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1resolver__factory.html">sysio::chain_apis::resolver_factory</a></div><div class="ttdef"><b>Definition</b> <a href="#l01949">chain_plugin.cpp:1949</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1resolver__factory_html_a1beb8a75295e98a03a1fb2496887156b"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1resolver__factory.html#a1beb8a75295e98a03a1fb2496887156b">sysio::chain_apis::resolver_factory::make</a></div><div class="ttdeci">static auto make(const controller &amp;control, abi_serializer::yield_function_t yield)</div><div class="ttdef"><b>Definition</b> <a href="#l01950">chain_plugin.cpp:1950</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html">sysio::chain_apis::trx_finality_status_processing::chain_state</a></div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00019">trx_finality_status_processing.hpp:19</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html_a54570454efbb55c86b8c32dae3ac7a74"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#a54570454efbb55c86b8c32dae3ac7a74">sysio::chain_apis::trx_finality_status_processing::chain_state::earliest_tracked_block_id</a></div><div class="ttdeci">chain::block_id_type earliest_tracked_block_id</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00024">trx_finality_status_processing.hpp:24</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html_a64462af537bc88d3813b954b920dabc4"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#a64462af537bc88d3813b954b920dabc4">sysio::chain_apis::trx_finality_status_processing::chain_state::irr_block_timestamp</a></div><div class="ttdeci">chain::block_timestamp_type irr_block_timestamp</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00023">trx_finality_status_processing.hpp:23</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html_ab5000a9e5243236fa603fb7fc524633f"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#ab5000a9e5243236fa603fb7fc524633f">sysio::chain_apis::trx_finality_status_processing::chain_state::head_id</a></div><div class="ttdeci">chain::block_id_type head_id</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00020">trx_finality_status_processing.hpp:20</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html_abf88e35b39e33986866ac5ad1de9098f"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#abf88e35b39e33986866ac5ad1de9098f">sysio::chain_apis::trx_finality_status_processing::chain_state::head_block_timestamp</a></div><div class="ttdeci">chain::block_timestamp_type head_block_timestamp</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00021">trx_finality_status_processing.hpp:21</a></div></div>
<div class="ttc" id="astructsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state_html_adb3533d5c64aa23c265356f610cceb96"><div class="ttname"><a href="structsysio_1_1chain__apis_1_1trx__finality__status__processing_1_1chain__state.html#adb3533d5c64aa23c265356f610cceb96">sysio::chain_apis::trx_finality_status_processing::chain_state::irr_id</a></div><div class="ttdeci">chain::block_id_type irr_id</div><div class="ttdef"><b>Definition</b> <a href="trx__finality__status__processing_8hpp_source.html#l00022">trx_finality_status_processing.hpp:22</a></div></div>
<div class="ttc" id="asysio__contract_8hpp_html"><div class="ttname"><a href="sysio__contract_8hpp.html">sysio_contract.hpp</a></div></div>
<div class="ttc" id="atest__account__query__db_8cpp_html_a33f2983ff61d9343e424c440190d8610"><div class="ttname"><a href="test__account__query__db_8cpp.html#a33f2983ff61d9343e424c440190d8610">results</a></div><div class="ttdeci">account_query_db::get_accounts_by_authorizers_result results</div><div class="ttdef"><b>Definition</b> <a href="test__account__query__db_8cpp_source.html#l00021">test_account_query_db.cpp:21</a></div></div>
<div class="ttc" id="atest__account__query__db_8cpp_html_aedc91aab307c8fb7ad822c3e16a6dd73"><div class="ttname"><a href="test__account__query__db_8cpp.html#aedc91aab307c8fb7ad822c3e16a6dd73">params</a></div><div class="ttdeci">account_query_db::get_accounts_by_authorizers_params params</div><div class="ttdef"><b>Definition</b> <a href="test__account__query__db_8cpp_source.html#l00020">test_account_query_db.cpp:20</a></div></div>
<div class="ttc" id="atrx__finality__status__processing_8hpp_html"><div class="ttname"><a href="trx__finality__status__processing_8hpp.html">trx_finality_status_processing.hpp</a></div></div>
<div class="ttc" id="atrx__retry__db_8hpp_html"><div class="ttname"><a href="trx__retry__db_8hpp.html">trx_retry_db.hpp</a></div></div>
<div class="ttc" id="awasm__interface_8hpp_html"><div class="ttname"><a href="wasm__interface_8hpp.html">wasm_interface.hpp</a></div></div>
<div class="ttc" id="axbyak__mnemonic_8h_html_a4229a9b84f8b8673326f12bd41acd27c"><div class="ttname"><a href="xbyak__mnemonic_8h.html#a4229a9b84f8b8673326f12bd41acd27c">cli</a></div><div class="ttdeci">void cli()</div><div class="ttdef"><b>Definition</b> <a href="xbyak__mnemonic_8h_source.html#l00061">xbyak_mnemonic.h:61</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a107648633008a7f2d872b4b3d98c2f96"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a></div><div class="ttdeci">CK_ULONG d</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l01238">yubihsm_pkcs11.c:1238</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a538d097420e725c4dad63c3caa9e55bd"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a538d097420e725c4dad63c3caa9e55bd">j</a></div><div class="ttdeci">uint16_t j</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00465">yubihsm_pkcs11.c:465</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_ae785d5badbf1f08b491af31f32a135a1"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a></div><div class="ttdeci">memcpy((char *) pInfo-&gt;slotDescription, s, l)</div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_afa4592d59d085cf06cad9000120eba84"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#afa4592d59d085cf06cad9000120eba84">key_type</a></div><div class="ttdeci">struct @108 key_type</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4500636a3a05d93d2a8a287b45607964.html">plugins</a></li><li class="navelem"><a class="el" href="dir_95a45f31b2765047583177e8fd034f3f.html">chain_plugin</a></li><li class="navelem"><a class="el" href="chain__plugin_8cpp.html">chain_plugin.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
