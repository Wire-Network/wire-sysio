\doxysection{approval\+Tests.\+py}
\hypertarget{approval_tests_8py_source}{}\label{approval_tests_8py_source}\index{libraries/sys-\/vm/external/Catch2/scripts/approvalTests.py@{libraries/sys-\/vm/external/Catch2/scripts/approvalTests.py}}
\mbox{\hyperlink{approval_tests_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00001}\mbox{\hyperlink{namespaceapproval_tests}{00001}}\ \textcolor{comment}{\#!/usr/bin/env\ python}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00003}00003\ \textcolor{keyword}{from}\ \_\_future\_\_\ \textcolor{keyword}{import}\ print\_function}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00005}00005\ \textcolor{keyword}{import}\ io}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00006}00006\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00007}00007\ \textcolor{keyword}{import}\ sys}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00008}00008\ \textcolor{keyword}{import}\ subprocess}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00009}00009\ \textcolor{keyword}{import}\ re}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00010}00010\ \textcolor{keyword}{import}\ difflib}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00012}00012\ \textcolor{keyword}{import}\ scriptCommon}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00013}00013\ \textcolor{keyword}{from}\ scriptCommon\ \textcolor{keyword}{import}\ catchPath}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00015}00015\ \textcolor{keywordflow}{if}\ os.name\ ==\ \textcolor{stringliteral}{'nt'}:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00016}00016\ \ \ \ \ \textcolor{comment}{\#\ Enable\ console\ colours\ on\ windows}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00017}00017\ \ \ \ \ os.system(\textcolor{stringliteral}{''})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00019}\mbox{\hyperlink{namespaceapproval_tests_a0e4ccdeac06eaee53f9cae61c35c3564}{00019}}\ rootPath\ =\ os.path.join(catchPath,\ \textcolor{stringliteral}{'projects/SelfTest/Baselines'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00021}\mbox{\hyperlink{namespaceapproval_tests_a74f2e3e79cfce7827b565d680c179e4e}{00021}}\ langFilenameParser\ =\ re.compile(\textcolor{stringliteral}{r'(.+\(\backslash\).[ch]pp)'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00022}\mbox{\hyperlink{namespaceapproval_tests_a34c9ded82d65f4e19332fe86d221880e}{00022}}\ filelocParser\ =\ re.compile(\textcolor{stringliteral}{r'''}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00023}00023\ \textcolor{stringliteral}{\ \ \ \ .*/}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00024}00024\ \textcolor{stringliteral}{\ \ \ \ (.+\(\backslash\).[ch]pp)\ \ \#\ filename}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00025}00025\ \textcolor{stringliteral}{\ \ \ \ (?::|\(\backslash\)()\ \ \ \ \ \ \#\ :\ is\ starting\ separator\ between\ filename\ and\ line\ number\ on\ Linux,\ (\ on\ Windows}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00026}00026\ \textcolor{stringliteral}{\ \ \ \ ([0-\/9]*)\ \ \ \ \ \ \#\ line\ number}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00027}00027\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\))?\ \ \ \ \ \ \ \ \ \ \ \#\ Windows\ also\ has\ an\ ending\ separator,\ )}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00028}00028\ \textcolor{stringliteral}{'''},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00029}\mbox{\hyperlink{namespaceapproval_tests_af193d0c6f1e00facb5b74d1b10af3100}{00029}}\ lineNumberParser\ =\ re.compile(\textcolor{stringliteral}{r'\ line="{}[0-\/9]*"{}'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00030}\mbox{\hyperlink{namespaceapproval_tests_a89f275f12d7ca4ce597704ec8fdc8dc2}{00030}}\ hexParser\ =\ re.compile(\textcolor{stringliteral}{r'\(\backslash\)b(0[xX][0-\/9a-\/fA-\/F]+)\(\backslash\)b'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00031}\mbox{\hyperlink{namespaceapproval_tests_a02022b1d0cacfb209492c417951dc210}{00031}}\ durationsParser\ =\ re.compile(\textcolor{stringliteral}{r'\ time="{}[0-\/9]*\(\backslash\).[0-\/9]*"{}'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00032}\mbox{\hyperlink{namespaceapproval_tests_ad8663be20453812940ea9ffc3d95aa7e}{00032}}\ timestampsParser\ =\ re.compile(\textcolor{stringliteral}{r'\(\backslash\)d\{4\}-\/\(\backslash\)d\{2\}-\/\(\backslash\)d\{2\}T\(\backslash\)d\{2\}\(\backslash\):\(\backslash\)d\{2\}\(\backslash\):\(\backslash\)d\{2\}Z'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00033}\mbox{\hyperlink{namespaceapproval_tests_a3f910e60a43b6ff24a4baab7beb49c57}{00033}}\ versionParser\ =\ re.compile(\textcolor{stringliteral}{r'Catch\ v[0-\/9]+\(\backslash\).[0-\/9]+\(\backslash\).[0-\/9]+(-\/develop\(\backslash\).[0-\/9]+)?'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00034}\mbox{\hyperlink{namespaceapproval_tests_afb844cdfc62bc9d7223216345e9b9119}{00034}}\ nullParser\ =\ re.compile(\textcolor{stringliteral}{r'\(\backslash\)b(\_\_null|nullptr)\(\backslash\)b'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00035}\mbox{\hyperlink{namespaceapproval_tests_a2885976431cb8be45550516fc5ba0d8b}{00035}}\ exeNameParser\ =\ re.compile(\textcolor{stringliteral}{r'''}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00036}00036\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)b}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00037}00037\ \textcolor{stringliteral}{\ \ \ \ (CatchSelfTest|SelfTest)\ \ \#\ Expected\ executable\ name}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00038}00038\ \textcolor{stringliteral}{\ \ \ \ (?:.exe)?\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Executable\ name\ contains\ .exe\ on\ Windows.}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00039}00039\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)b}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00040}00040\ \textcolor{stringliteral}{'''},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00041}00041\ \textcolor{comment}{\#\ This\ is\ a\ hack\ until\ something\ more\ reasonable\ is\ figured\ out}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00042}\mbox{\hyperlink{namespaceapproval_tests_a38adf49dc2cf888362594cfe775f0df6}{00042}}\ specialCaseParser\ =\ re.compile(\textcolor{stringliteral}{r'file\(\backslash\)((\(\backslash\)d+)\(\backslash\))'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00044}00044\ \textcolor{comment}{\#\ errno\ macro\ expands\ into\ various\ names\ depending\ on\ platform,\ so\ we\ need\ to\ fix\ them\ up\ as\ well}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00045}\mbox{\hyperlink{namespaceapproval_tests_aa8bb6a8067a5e5b800c1bc147a69488c}{00045}}\ errnoParser\ =\ re.compile(\textcolor{stringliteral}{r'''}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00046}00046\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)*\_\_errno\_location\(\backslash\)\ \(\backslash\)(\(\backslash\))\(\backslash\))}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00047}00047\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00048}00048\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)*\_\_error\(\backslash\)(\(\backslash\))\(\backslash\))}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00049}00049\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00050}00050\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)*\_errno\(\backslash\)(\(\backslash\))\(\backslash\))}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00051}00051\ \textcolor{stringliteral}{'''},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00052}\mbox{\hyperlink{namespaceapproval_tests_aca0d379d8efe1d15d9c8a1f24cec2e58}{00052}}\ sinceEpochParser\ =\ re.compile(\textcolor{stringliteral}{r'\(\backslash\)d+\ .+\ since\ epoch'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00053}\mbox{\hyperlink{namespaceapproval_tests_a7e8bc6490929aea01a37d425ca342d52}{00053}}\ infParser\ =\ re.compile(\textcolor{stringliteral}{r'''}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00054}00054\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)(float\(\backslash\))\(\backslash\)(1e\(\backslash\)+300\(\backslash\)\ \(\backslash\)*\(\backslash\)\ 1e\(\backslash\)+300\(\backslash\))\(\backslash\))\ \#\ MSVC\ INFINITY\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00055}00055\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00056}00056\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\_\_builtin\_inff\(\backslash\)(\(\backslash\))\(\backslash\))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Linux\ (ubuntu)\ INFINITY\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00057}00057\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00058}00058\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\_\_builtin\_inff\(\backslash\)\ \(\backslash\)(\(\backslash\))\(\backslash\))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Fedora\ INFINITY\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00059}00059\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00060}00060\ \textcolor{stringliteral}{\ \ \ \ \_\_builtin\_huge\_valf\(\backslash\)(\(\backslash\))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \#\ OSX\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00061}00061\ \textcolor{stringliteral}{'''},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00062}\mbox{\hyperlink{namespaceapproval_tests_a47bf82454591c700de587d63c0f35ab4}{00062}}\ nanParser\ =\ re.compile(\textcolor{stringliteral}{r'''}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)(float\(\backslash\))\(\backslash\)(\(\backslash\)(\(\backslash\)(float\(\backslash\))\(\backslash\)(1e\(\backslash\)+300\(\backslash\)\ \(\backslash\)*\(\backslash\)\ 1e\(\backslash\)+300\(\backslash\))\(\backslash\))\(\backslash\)\ \(\backslash\)*\(\backslash\)\ 0\(\backslash\).0F\(\backslash\))\(\backslash\))\ \#\ MSVC\ NAN\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\(\backslash\)(float\(\backslash\))\(\backslash\)(INFINITY\(\backslash\)\ \(\backslash\)*\(\backslash\)\ 0\(\backslash\).0F\(\backslash\))\(\backslash\))\ \#\ Yet\ another\ MSVC\ NAN\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00066}00066\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00067}00067\ \textcolor{stringliteral}{\ \ \ \ \(\backslash\)(\_\_builtin\_nanf\(\backslash\)\ \(\backslash\)("{}"{}\(\backslash\))\(\backslash\))\ \ \ \ \ \ \ \ \ \ \ \#\ Linux\ (ubuntu)\ NAN\ macro}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00068}00068\ \textcolor{stringliteral}{\ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ \_\_builtin\_nanf\(\backslash\)("{}0x<hex\(\backslash\)\ digits>"{}\(\backslash\))\ \ \#\ The\ weird\ content\ of\ the\ brackets\ is\ there\ because\ a\ different\ parser\ has\ already\ ran\ before\ this\ one}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00070}00070\ \textcolor{stringliteral}{'''},\ re.VERBOSE)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00073}00073\ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}(sys.argv)\ ==\ 2:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00074}\mbox{\hyperlink{namespaceapproval_tests_a8c86165c508c9045c702ed1641bbb83a}{00074}}\ \ \ \ \ cmdPath\ =\ sys.argv[1]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00075}00075\ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00076}00076\ \ \ \ \ cmdPath\ =\ os.path.join(catchPath,\ \mbox{\hyperlink{namespacescript_common_a7cc9ec3d9881a6e16d97207c46523893}{scriptCommon.getBuildExecutable}}())}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00078}\mbox{\hyperlink{namespaceapproval_tests_a5b988c09ad10a33b109b47667fc0f0ed}{00078}}\ overallResult\ =\ 0}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00081}\mbox{\hyperlink{namespaceapproval_tests_acc60966d163363c059b628aec3074f8e}{00081}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceapproval_tests_acc60966d163363c059b628aec3074f8e}{diffFiles}}(fileA,\ fileB):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00082}00082\ \ \ \ \ \textcolor{keyword}{with}\ io.open(fileA,\ \textcolor{stringliteral}{'r'},\ encoding=\textcolor{stringliteral}{'utf-\/8'},\ errors=\textcolor{stringliteral}{'surrogateescape'})\ \textcolor{keyword}{as}\ file:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00083}00083\ \ \ \ \ \ \ \ \ aLines\ =\ [line.rstrip()\ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ file.readlines()]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00084}00084\ \ \ \ \ \textcolor{keyword}{with}\ io.open(fileB,\ \textcolor{stringliteral}{'r'},\ encoding=\textcolor{stringliteral}{'utf-\/8'},\ errors=\textcolor{stringliteral}{'surrogateescape'})\ \textcolor{keyword}{as}\ file:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ bLines\ =\ [line.rstrip()\ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ file.readlines()]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00087}00087\ \ \ \ \ shortenedFilenameA\ =\ fileA.rsplit(os.sep,\ 1)[-\/1]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00088}00088\ \ \ \ \ shortenedFilenameB\ =\ fileB.rsplit(os.sep,\ 1)[-\/1]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00090}00090\ \ \ \ \ diff\ =\ difflib.unified\_diff(aLines,\ bLines,\ fromfile=shortenedFilenameA,\ tofile=shortenedFilenameB,\ n=0)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00091}00091\ \ \ \ \ \textcolor{keywordflow}{return}\ [line\ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ diff\ \textcolor{keywordflow}{if}\ line[0]\ \textcolor{keywordflow}{in}\ (\textcolor{stringliteral}{'+'},\ \textcolor{stringliteral}{'-\/'})]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00094}\mbox{\hyperlink{namespaceapproval_tests_a30ec2bee60ef454af995c94c6a2ddd28}{00094}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceapproval_tests_a30ec2bee60ef454af995c94c6a2ddd28}{normalizeFilepath}}(line):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00095}00095\ \ \ \ \ \textcolor{keywordflow}{if}\ catchPath\ \textcolor{keywordflow}{in}\ line:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ make\ paths\ relative\ to\ Catch\ root}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ line\ =\ line.replace(catchPath\ +\ os.sep,\ \textcolor{stringliteral}{''})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00099}00099\ \ \ \ \ m\ =\ langFilenameParser.match(line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00100}00100\ \ \ \ \ \textcolor{keywordflow}{if}\ m:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00101}00101\ \ \ \ \ \ \ \ \ filepath\ =\ m.group(0)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00102}00102\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ go\ from\ \(\backslash\)\ in\ windows\ paths\ to\ /}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00103}00103\ \ \ \ \ \ \ \ \ filepath\ =\ filepath.replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)'},\ \textcolor{stringliteral}{'/'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ remove\ start\ of\ relative\ path}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00105}00105\ \ \ \ \ \ \ \ \ filepath\ =\ filepath.replace(\textcolor{stringliteral}{'../'},\ \textcolor{stringliteral}{''})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00106}00106\ \ \ \ \ \ \ \ \ line\ =\ line[:m.start()]\ +\ filepath\ +\ line[m.end():]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00108}00108\ \ \ \ \ \textcolor{keywordflow}{return}\ line}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00110}\mbox{\hyperlink{namespaceapproval_tests_a68f9b1139e8fcdef8b4381eb551efd65}{00110}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceapproval_tests_a68f9b1139e8fcdef8b4381eb551efd65}{filterLine}}(line,\ isCompact):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00111}00111\ \ \ \ \ line\ =\ \mbox{\hyperlink{namespaceapproval_tests_a30ec2bee60ef454af995c94c6a2ddd28}{normalizeFilepath}}(line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00113}00113\ \ \ \ \ \textcolor{comment}{\#\ strip\ source\ line\ numbers}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00114}00114\ \ \ \ \ m\ =\ filelocParser.match(line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00115}00115\ \ \ \ \ \textcolor{keywordflow}{if}\ m:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00116}00116\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ note\ that\ this\ also\ strips\ directories,\ leaving\ only\ the\ filename}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00117}00117\ \ \ \ \ \ \ \ \ filename,\ lnum\ =\ m.groups()}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00118}00118\ \ \ \ \ \ \ \ \ lnum\ =\ \textcolor{stringliteral}{"{}:<line\ number>"{}}\ \textcolor{keywordflow}{if}\ lnum\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00119}00119\ \ \ \ \ \ \ \ \ line\ =\ filename\ +\ lnum\ +\ line[m.end():]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00120}00120\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00121}00121\ \ \ \ \ \ \ \ \ line\ =\ lineNumberParser.sub(\textcolor{stringliteral}{"{}\ "{}},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00122}00122\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00123}00123\ \ \ \ \ \textcolor{keywordflow}{if}\ isCompact:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00124}00124\ \ \ \ \ \ \ \ \ line\ =\ line.replace(\textcolor{stringliteral}{':\ FAILED'},\ \textcolor{stringliteral}{':\ failed'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00125}00125\ \ \ \ \ \ \ \ \ line\ =\ line.replace(\textcolor{stringliteral}{':\ PASSED'},\ \textcolor{stringliteral}{':\ passed'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00127}00127\ \ \ \ \ \textcolor{comment}{\#\ strip\ Catch\ version\ number}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00128}00128\ \ \ \ \ line\ =\ versionParser.sub(\textcolor{stringliteral}{"{}<version>"{}},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00130}00130\ \ \ \ \ \textcolor{comment}{\#\ replace\ *null*\ with\ 0}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00131}00131\ \ \ \ \ line\ =\ nullParser.sub(\textcolor{stringliteral}{"{}0"{}},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00132}00132\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00133}00133\ \ \ \ \ \textcolor{comment}{\#\ strip\ executable\ name}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00134}00134\ \ \ \ \ line\ =\ exeNameParser.sub(\textcolor{stringliteral}{"{}<exe-\/name>"{}},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00135}00135\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00136}00136\ \ \ \ \ \textcolor{comment}{\#\ strip\ hexadecimal\ numbers\ (presumably\ pointer\ values)}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00137}00137\ \ \ \ \ line\ =\ hexParser.sub(\textcolor{stringliteral}{"{}0x<hex\ digits>"{}},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00139}00139\ \ \ \ \ \textcolor{comment}{\#\ strip\ durations\ and\ timestamps}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00140}00140\ \ \ \ \ line\ =\ durationsParser.sub(\textcolor{stringliteral}{'\ time="{}\{duration\}"{}'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00141}00141\ \ \ \ \ line\ =\ timestampsParser.sub(\textcolor{stringliteral}{'\{iso8601-\/timestamp\}'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00142}00142\ \ \ \ \ line\ =\ specialCaseParser.sub(\textcolor{stringliteral}{'file:\(\backslash\)g<1>'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00143}00143\ \ \ \ \ line\ =\ errnoParser.sub(\textcolor{stringliteral}{'errno'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00144}00144\ \ \ \ \ line\ =\ sinceEpochParser.sub(\textcolor{stringliteral}{'\{since-\/epoch-\/report\}'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00145}00145\ \ \ \ \ line\ =\ infParser.sub(\textcolor{stringliteral}{'INFINITY'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00146}00146\ \ \ \ \ line\ =\ nanParser.sub(\textcolor{stringliteral}{'NAN'},\ line)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00147}00147\ \ \ \ \ \textcolor{keywordflow}{return}\ line}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00149}00149\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00150}\mbox{\hyperlink{namespaceapproval_tests_ae3be5e4e346f8b3560207c724d1b6df4}{00150}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceapprove}{approve}}(baseName,\ args):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00151}00151\ \ \ \ \ \textcolor{keyword}{global}\ overallResult}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00152}00152\ \ \ \ \ args[0:0]\ =\ [cmdPath]}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00153}00153\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ os.path.exists(cmdPath):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ Exception(\textcolor{stringliteral}{"{}Executable\ doesn't\ exist\ at\ "{}}\ +\ cmdPath)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00155}00155\ \ \ \ \ baselinesPath\ =\ os.path.join(rootPath,\ \textcolor{stringliteral}{'\{0\}.approved.txt'}.\mbox{\hyperlink{yubihsm-shell_8h_ae425c09a4c40409de33790765339cb97}{format}}(baseName))}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00156}00156\ \ \ \ \ rawResultsPath\ =\ os.path.join(rootPath,\ \textcolor{stringliteral}{'\_\{0\}.tmp'}.\mbox{\hyperlink{yubihsm-shell_8h_ae425c09a4c40409de33790765339cb97}{format}}(baseName))}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00157}00157\ \ \ \ \ filteredResultsPath\ =\ os.path.join(rootPath,\ \textcolor{stringliteral}{'\{0\}.unapproved.txt'}.\mbox{\hyperlink{yubihsm-shell_8h_ae425c09a4c40409de33790765339cb97}{format}}(baseName))}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00158}00158\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00159}00159\ \ \ \ \ f\ =\ open(rawResultsPath,\ \textcolor{stringliteral}{'w'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00160}00160\ \ \ \ \ subprocess.call(args,\ stdout=f,\ stderr=f)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00161}00161\ \ \ \ \ f.close()}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00162}00162\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00163}00163\ \ \ \ \ rawFile\ =\ io.open(rawResultsPath,\ \textcolor{stringliteral}{'r'},\ encoding=\textcolor{stringliteral}{'utf-\/8'},\ errors=\textcolor{stringliteral}{'surrogateescape'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00164}00164\ \ \ \ \ filteredFile\ =\ io.open(filteredResultsPath,\ \textcolor{stringliteral}{'w'},\ encoding=\textcolor{stringliteral}{'utf-\/8'},\ errors=\textcolor{stringliteral}{'surrogateescape'})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00165}00165\ \ \ \ \ \textcolor{keywordflow}{for}\ line\ \textcolor{keywordflow}{in}\ rawFile:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00166}00166\ \ \ \ \ \ \ \ \ filteredFile.write(\mbox{\hyperlink{namespaceapproval_tests_a68f9b1139e8fcdef8b4381eb551efd65}{filterLine}}(line,\ \textcolor{stringliteral}{'compact'}\ \textcolor{keywordflow}{in}\ baseName).rstrip()\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00167}00167\ \ \ \ \ filteredFile.close()}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00168}00168\ \ \ \ \ rawFile.close()}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00170}00170\ \ \ \ \ os.remove(rawResultsPath)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00171}00171\ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}()}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00172}00172\ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(baseName\ +\ \textcolor{stringliteral}{"{}:"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00173}00173\ \ \ \ \ \textcolor{keywordflow}{if}\ os.path.exists(baselinesPath):}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00174}00174\ \ \ \ \ \ \ \ \ diffResult\ =\ \mbox{\hyperlink{namespaceapproval_tests_acc60966d163363c059b628aec3074f8e}{diffFiles}}(baselinesPath,\ filteredResultsPath)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ diffResult:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{'\(\backslash\)n'}.join(diffResult))}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}\ \ \(\backslash\)n****************************\(\backslash\)n\ \ \(\backslash\)033[91mResults\ differed"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}(diffResult)\ >\ overallResult:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ overallResult\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}(diffResult)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00180}00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ os.remove(filteredResultsPath)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}\ \ \(\backslash\)033[92mResults\ matched"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00183}00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}\(\backslash\)033[0m"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00184}00184\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00185}00185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}\ \ first\ approval"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00186}00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ overallResult\ ==\ 0:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ overallResult\ =\ 1}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00189}00189\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00190}00190\ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}Running\ approvals\ against\ executable:"{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00191}00191\ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}\ \ "{}}\ +\ cmdPath)}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00194}00194\ \textcolor{comment}{\#\ \#\#\ Keep\ default\ reporters\ here\ \#\#}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00195}00195\ \textcolor{comment}{\#\ Standard\ console\ reporter}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00196}00196\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{"{}console.std"{}},\ [\textcolor{stringliteral}{"{}\string~[!nonportable]\string~[!benchmark]\string~[approvals]"{}},\ \textcolor{stringliteral}{"{}-\/-\/order"{}},\ \textcolor{stringliteral}{"{}lex"{}},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00197}00197\ \textcolor{comment}{\#\ console\ reporter,\ include\ passes,\ warn\ about\ No\ Assertions}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00198}00198\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{"{}console.sw"{}},\ [\textcolor{stringliteral}{"{}\string~[!nonportable]\string~[!benchmark]\string~[approvals]"{}},\ \textcolor{stringliteral}{"{}-\/s"{}},\ \textcolor{stringliteral}{"{}-\/w"{}},\ \textcolor{stringliteral}{"{}NoAssertions"{}},\ \textcolor{stringliteral}{"{}-\/-\/order"{}},\ \textcolor{stringliteral}{"{}lex"{}},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00199}00199\ \textcolor{comment}{\#\ console\ reporter,\ include\ passes,\ warn\ about\ No\ Assertions,\ limit\ failures\ to\ first\ 4}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00200}00200\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{"{}console.swa4"{}},\ [\textcolor{stringliteral}{"{}\string~[!nonportable]\string~[!benchmark]\string~[approvals]"{}},\ \textcolor{stringliteral}{"{}-\/s"{}},\ \textcolor{stringliteral}{"{}-\/w"{}},\ \textcolor{stringliteral}{"{}NoAssertions"{}},\ \textcolor{stringliteral}{"{}-\/x"{}},\ \textcolor{stringliteral}{"{}4"{}},\ \textcolor{stringliteral}{"{}-\/-\/order"{}},\ \textcolor{stringliteral}{"{}lex"{}},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00201}00201\ \textcolor{comment}{\#\ junit\ reporter,\ include\ passes,\ warn\ about\ No\ Assertions}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00202}00202\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{"{}junit.sw"{}},\ [\textcolor{stringliteral}{"{}\string~[!nonportable]\string~[!benchmark]\string~[approvals]"{}},\ \textcolor{stringliteral}{"{}-\/s"{}},\ \textcolor{stringliteral}{"{}-\/w"{}},\ \textcolor{stringliteral}{"{}NoAssertions"{}},\ \textcolor{stringliteral}{"{}-\/r"{}},\ \textcolor{stringliteral}{"{}junit"{}},\ \textcolor{stringliteral}{"{}-\/-\/order"{}},\ \textcolor{stringliteral}{"{}lex"{}},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00203}00203\ \textcolor{comment}{\#\ xml\ reporter,\ include\ passes,\ warn\ about\ No\ Assertions}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00204}00204\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{"{}xml.sw"{}},\ [\textcolor{stringliteral}{"{}\string~[!nonportable]\string~[!benchmark]\string~[approvals]"{}},\ \textcolor{stringliteral}{"{}-\/s"{}},\ \textcolor{stringliteral}{"{}-\/w"{}},\ \textcolor{stringliteral}{"{}NoAssertions"{}},\ \textcolor{stringliteral}{"{}-\/r"{}},\ \textcolor{stringliteral}{"{}xml"{}},\ \textcolor{stringliteral}{"{}-\/-\/order"{}},\ \textcolor{stringliteral}{"{}lex"{}},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00205}00205\ \textcolor{comment}{\#\ compact\ reporter,\ include\ passes,\ warn\ about\ No\ Assertions}}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00206}00206\ \mbox{\hyperlink{namespaceapprove}{approve}}(\textcolor{stringliteral}{'compact.sw'},\ [\textcolor{stringliteral}{'\string~[!nonportable]\string~[!benchmark]\string~[approvals]'},\ \textcolor{stringliteral}{'-\/s'},\ \textcolor{stringliteral}{'-\/w'},\ \textcolor{stringliteral}{'NoAssertions'},\ \textcolor{stringliteral}{'-\/r'},\ \textcolor{stringliteral}{'compact'},\ \textcolor{stringliteral}{'-\/-\/order'},\ \textcolor{stringliteral}{'lex'},\ \textcolor{stringliteral}{"{}-\/-\/rng-\/seed"{}},\ \textcolor{stringliteral}{"{}1"{}}])}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00207}00207\ }
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00208}00208\ \textcolor{keywordflow}{if}\ overallResult\ !=\ 0:}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00209}00209\ \ \ \ \ \mbox{\hyperlink{210-_evt-_event_listeners_8cpp_a91b9457094088a57b7ba14d485a8771e}{print}}(\textcolor{stringliteral}{"{}If\ these\ differences\ are\ expected,\ run\ approve.py\ to\ approve\ new\ baselines."{}})}
\DoxyCodeLine{\Hypertarget{approval_tests_8py_source_l00210}00210\ exit(overallResult)}

\end{DoxyCode}
