<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::state_history_plugin_impl::session Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structsysio_1_1state__history__plugin__impl_1_1session.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structsysio_1_1state__history__plugin__impl_1_1session-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::state_history_plugin_impl::session Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for sysio::state_history_plugin_impl::session:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session__inherit__graph.png" border="0" usemap="#asysio_1_1state__history__plugin__impl_1_1session_inherit__map" alt="Inheritance graph"/></div>
<map name="asysio_1_1state__history__plugin__impl_1_1session_inherit__map" id="asysio_1_1state__history__plugin__impl_1_1session_inherit__map">
<area shape="rect" title=" " alt="" coords="8,94,154,135"/>
<area shape="rect" title=" " alt="" coords="5,5,157,46"/>
<area shape="poly" title=" " alt="" coords="84,62,84,94,78,94,78,62"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for sysio::state_history_plugin_impl::session:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session__coll__graph.png" border="0" usemap="#asysio_1_1state__history__plugin__impl_1_1session_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1state__history__plugin__impl_1_1session_coll__map" id="asysio_1_1state__history__plugin__impl_1_1session_coll__map">
<area shape="rect" title=" " alt="" coords="8,94,154,135"/>
<area shape="rect" title=" " alt="" coords="5,5,157,46"/>
<area shape="poly" title=" " alt="" coords="84,62,84,94,78,94,78,62"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adefb2e4dc7f9df0757692d574647b4c2" id="r_adefb2e4dc7f9df0757692d574647b4c2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adefb2e4dc7f9df0757692d574647b4c2">result_type</a> = void</td></tr>
<tr class="separator:adefb2e4dc7f9df0757692d574647b4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cd33110b680ab466ee00253864dd3bf" id="r_a3cd33110b680ab466ee00253864dd3bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3cd33110b680ab466ee00253864dd3bf">session</a> (std::shared_ptr&lt; <a class="el" href="structsysio_1_1state__history__plugin__impl.html">state_history_plugin_impl</a> &gt; <a class="el" href="classappbase_1_1plugin.html">plugin</a>)</td></tr>
<tr class="separator:a3cd33110b680ab466ee00253864dd3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b08f79712865d9f6f7fd9ede4fa857" id="r_a32b08f79712865d9f6f7fd9ede4fa857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b08f79712865d9f6f7fd9ede4fa857">start</a> (tcp::socket socket)</td></tr>
<tr class="separator:a32b08f79712865d9f6f7fd9ede4fa857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11af9b8b9ca48cfa4ba8c0bdfc94f3af" id="r_a11af9b8b9ca48cfa4ba8c0bdfc94f3af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11af9b8b9ca48cfa4ba8c0bdfc94f3af">start_read</a> ()</td></tr>
<tr class="separator:a11af9b8b9ca48cfa4ba8c0bdfc94f3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d48af2140f59121b87b1cb59a83368" id="r_a43d48af2140f59121b87b1cb59a83368"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43d48af2140f59121b87b1cb59a83368">send</a> (const char *<a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>)</td></tr>
<tr class="separator:a43d48af2140f59121b87b1cb59a83368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14c4a6544d49506a065e86c0f3bf2b3" id="r_ac14c4a6544d49506a065e86c0f3bf2b3"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; </td></tr>
<tr class="memitem:ac14c4a6544d49506a065e86c0f3bf2b3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ac14c4a6544d49506a065e86c0f3bf2b3">send</a> (<a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> obj)</td></tr>
<tr class="separator:ac14c4a6544d49506a065e86c0f3bf2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75102a1a12cdf641267a4ad44813503a" id="r_a75102a1a12cdf641267a4ad44813503a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75102a1a12cdf641267a4ad44813503a">send</a> ()</td></tr>
<tr class="separator:a75102a1a12cdf641267a4ad44813503a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a04f269bddae7be304148383eb5f841" id="r_a8a04f269bddae7be304148383eb5f841"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a04f269bddae7be304148383eb5f841">operator()</a> (<a class="el" href="structsysio_1_1state__history_1_1get__status__request__v0.html">get_status_request_v0</a> &amp;)</td></tr>
<tr class="separator:a8a04f269bddae7be304148383eb5f841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2b52fad830aec966bcf5a7bc84ae2a" id="r_a3f2b52fad830aec966bcf5a7bc84ae2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f2b52fad830aec966bcf5a7bc84ae2a">operator()</a> (<a class="el" href="structsysio_1_1state__history_1_1get__blocks__request__v0.html">get_blocks_request_v0</a> &amp;req)</td></tr>
<tr class="separator:a3f2b52fad830aec966bcf5a7bc84ae2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b7afe6688f1c54848a58349a45047c" id="r_a57b7afe6688f1c54848a58349a45047c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57b7afe6688f1c54848a58349a45047c">operator()</a> (<a class="el" href="structsysio_1_1state__history_1_1get__blocks__ack__request__v0.html">get_blocks_ack_request_v0</a> &amp;req)</td></tr>
<tr class="separator:a57b7afe6688f1c54848a58349a45047c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd34f5d9ec817197d11d7e2e6b51292" id="r_a7cd34f5d9ec817197d11d7e2e6b51292"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a> (<a class="el" href="structsysio_1_1state__history_1_1get__blocks__result__v0.html">get_blocks_result_v0</a> result, const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;<a class="el" href="structsysio_1_1chain_1_1block__state.html">block_state</a>)</td></tr>
<tr class="separator:a7cd34f5d9ec817197d11d7e2e6b51292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e595a743feb07936a8ddba0131bc856" id="r_a5e595a743feb07936a8ddba0131bc856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e595a743feb07936a8ddba0131bc856">send_update</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;<a class="el" href="structsysio_1_1chain_1_1block__state.html">block_state</a>)</td></tr>
<tr class="separator:a5e595a743feb07936a8ddba0131bc856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4fee32d71ab41e65315338411c3748c" id="r_aa4fee32d71ab41e65315338411c3748c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa4fee32d71ab41e65315338411c3748c">send_update</a> (bool changed=false)</td></tr>
<tr class="separator:aa4fee32d71ab41e65315338411c3748c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc70d4152ee00348029c61a9bcc85a6f" id="r_abc70d4152ee00348029c61a9bcc85a6f"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:abc70d4152ee00348029c61a9bcc85a6f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#abc70d4152ee00348029c61a9bcc85a6f">catch_and_close</a> (F <a class="el" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)</td></tr>
<tr class="separator:abc70d4152ee00348029c61a9bcc85a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa305d7b95c5825b8b786aebd283d7eb4" id="r_aa305d7b95c5825b8b786aebd283d7eb4"><td class="memTemplParams" colspan="2">template&lt;typename F &gt; </td></tr>
<tr class="memitem:aa305d7b95c5825b8b786aebd283d7eb4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa305d7b95c5825b8b786aebd283d7eb4">callback</a> (boost::system::error_code ec, const char *what, F <a class="el" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)</td></tr>
<tr class="separator:aa305d7b95c5825b8b786aebd283d7eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c66f17854fd671de6749d4c3346207" id="r_a39c66f17854fd671de6749d4c3346207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39c66f17854fd671de6749d4c3346207">on_fail</a> (boost::system::error_code ec, const char *what)</td></tr>
<tr class="separator:a39c66f17854fd671de6749d4c3346207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6261f9fdfff9e0784b09ee4039523a9e" id="r_a6261f9fdfff9e0784b09ee4039523a9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6261f9fdfff9e0784b09ee4039523a9e">close</a> ()</td></tr>
<tr class="separator:a6261f9fdfff9e0784b09ee4039523a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0b52bdba191da292fa565f1dff8428fd" id="r_a0b52bdba191da292fa565f1dff8428fd"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structsysio_1_1state__history__plugin__impl.html">state_history_plugin_impl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a></td></tr>
<tr class="separator:a0b52bdba191da292fa565f1dff8428fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c2ace1089e3f85745575b5202d41d1" id="r_ac8c2ace1089e3f85745575b5202d41d1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; ws::stream&lt; tcp::socket &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a></td></tr>
<tr class="separator:ac8c2ace1089e3f85745575b5202d41d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063d7f178fc69d9090a8aa1b0eb61221" id="r_a063d7f178fc69d9090a8aa1b0eb61221"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a063d7f178fc69d9090a8aa1b0eb61221">sending</a> = false</td></tr>
<tr class="separator:a063d7f178fc69d9090a8aa1b0eb61221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373eff86875491f81d3f8116bc537db0" id="r_a373eff86875491f81d3f8116bc537db0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a373eff86875491f81d3f8116bc537db0">sent_abi</a> = false</td></tr>
<tr class="separator:a373eff86875491f81d3f8116bc537db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43d0e5fd9c0fb69e92fe7cf173082e8" id="r_ad43d0e5fd9c0fb69e92fe7cf173082e8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; char &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a></td></tr>
<tr class="separator:ad43d0e5fd9c0fb69e92fe7cf173082e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69354c3678235cceb5e957452bd2925" id="r_ac69354c3678235cceb5e957452bd2925"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structsysio_1_1state__history_1_1get__blocks__request__v0.html">get_blocks_request_v0</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac69354c3678235cceb5e957452bd2925">current_request</a></td></tr>
<tr class="separator:ac69354c3678235cceb5e957452bd2925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b58c569f9182397a38f5d2c8c84ebcf" id="r_a5b58c569f9182397a38f5d2c8c84ebcf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> = false</td></tr>
<tr class="separator:a5b58c569f9182397a38f5d2c8c84ebcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00100">100</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="adefb2e4dc7f9df0757692d574647b4c2" name="adefb2e4dc7f9df0757692d574647b4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adefb2e4dc7f9df0757692d574647b4c2">&#9670;&#160;</a></span>result_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#adefb2e4dc7f9df0757692d574647b4c2">sysio::state_history_plugin_impl::session::result_type</a> = void</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00173">173</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3cd33110b680ab466ee00253864dd3bf" name="a3cd33110b680ab466ee00253864dd3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd33110b680ab466ee00253864dd3bf">&#9670;&#160;</a></span>session()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::state_history_plugin_impl::session::session </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structsysio_1_1state__history__plugin__impl.html">state_history_plugin_impl</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>plugin</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00109">109</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>          : <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>(std::move(<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>)) {}</div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a0b52bdba191da292fa565f1dff8428fd"><div class="ttname"><a href="#a0b52bdba191da292fa565f1dff8428fd">sysio::state_history_plugin_impl::session::plugin</a></div><div class="ttdeci">std::shared_ptr&lt; state_history_plugin_impl &gt; plugin</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00101">state_history_plugin.cpp:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa305d7b95c5825b8b786aebd283d7eb4" name="aa305d7b95c5825b8b786aebd283d7eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa305d7b95c5825b8b786aebd283d7eb4">&#9670;&#160;</a></span>callback()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::callback </td>
          <td>(</td>
          <td class="paramtype">boost::system::error_code</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>what</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">F</td>          <td class="paramname"><span class="paramname"><em>f</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00281">281</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>                                                                     {</div>
<div class="line"><span class="lineno">  282</span>         <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>(<a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [=]() {</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;stopping)</div>
<div class="line"><span class="lineno">  284</span>               <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  285</span>            <span class="keywordflow">if</span> (ec)</div>
<div class="line"><span class="lineno">  286</span>               <span class="keywordflow">return</span> <a class="code hl_function" href="#a39c66f17854fd671de6749d4c3346207">on_fail</a>(ec, what);</div>
<div class="line"><span class="lineno">  287</span>            <a class="code hl_function" href="#abc70d4152ee00348029c61a9bcc85a6f">catch_and_close</a>(<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>);</div>
<div class="line"><span class="lineno">  288</span>         });</div>
<div class="line"><span class="lineno">  289</span>      }</div>
<div class="ttc" id="a_x02-_disabled_macros_8cpp_html_ae28240b98d91d6eb7da702b770490f39"><div class="ttname"><a href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a></div><div class="ttdeci">foo f</div><div class="ttdef"><b>Definition</b> <a href="_x02-_disabled_macros_8cpp_source.html#l00025">X02-DisabledMacros.cpp:25</a></div></div>
<div class="ttc" id="aclassappbase_1_1application_html_a77aff91b861010fd61a616c59b310dcc"><div class="ttname"><a href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">appbase::application::post</a></div><div class="ttdeci">auto post(int priority, Func &amp;&amp;func)</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00215">application.hpp:215</a></div></div>
<div class="ttc" id="anamespaceappbase_html_a99374dc23934f008a09f2f79be9eae40"><div class="ttname"><a href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">appbase::app</a></div><div class="ttdeci">application &amp; app()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00210">application.cpp:210</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_a89fc0f21b0f87574f0299932fc1724b4"><div class="ttname"><a href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">appbase::priority::medium</a></div><div class="ttdeci">static constexpr int medium</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00013">execution_priority_queue.hpp:13</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a39c66f17854fd671de6749d4c3346207"><div class="ttname"><a href="#a39c66f17854fd671de6749d4c3346207">sysio::state_history_plugin_impl::session::on_fail</a></div><div class="ttdeci">void on_fail(boost::system::error_code ec, const char *what)</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00291">state_history_plugin.cpp:291</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_abc70d4152ee00348029c61a9bcc85a6f"><div class="ttname"><a href="#abc70d4152ee00348029c61a9bcc85a6f">sysio::state_history_plugin_impl::session::catch_and_close</a></div><div class="ttdeci">void catch_and_close(F f)</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00265">state_history_plugin.cpp:265</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_aa305d7b95c5825b8b786aebd283d7eb4_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_aa305d7b95c5825b8b786aebd283d7eb4_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_aa305d7b95c5825b8b786aebd283d7eb4_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_aa305d7b95c5825b8b786aebd283d7eb4_cgraph">
<area shape="rect" title=" " alt="" coords="5,262,152,318"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="223,169,322,195"/>
<area shape="poly" title=" " alt="" coords="116,260,155,233,198,208,217,199,220,204,201,213,158,238,119,264"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#abc70d4152ee00348029c61a9bcc85a6f" title=" " alt="" coords="200,302,346,358"/>
<area shape="poly" title=" " alt="" coords="153,303,185,309,184,315,152,308"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a39c66f17854fd671de6749d4c3346207" title=" " alt="" coords="200,222,346,278"/>
<area shape="poly" title=" " alt="" coords="152,272,184,266,185,271,153,278"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="203,399,343,440"/>
<area shape="poly" title=" " alt="" coords="123,316,230,388,227,393,120,321"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="400,159,541,200"/>
<area shape="poly" title=" " alt="" coords="323,179,385,178,385,183,323,184"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a6261f9fdfff9e0784b09ee4039523a9e" title=" " alt="" coords="398,224,544,279"/>
<area shape="poly" title=" " alt="" coords="344,299,384,283,386,288,346,304"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="394,303,547,344"/>
<area shape="poly" title=" " alt="" coords="346,325,378,324,379,329,346,330"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="404,368,537,394"/>
<area shape="poly" title=" " alt="" coords="347,346,403,361,402,366,346,351"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="595,105,736,131"/>
<area shape="poly" title=" " alt="" coords="529,300,546,289,580,255,610,215,650,144,655,146,614,218,584,258,549,294,532,305"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="599,311,732,336"/>
<area shape="poly" title=" " alt="" coords="548,321,583,321,583,326,548,326"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="604,441,727,467"/>
<area shape="poly" title=" " alt="" coords="528,342,549,353,600,391,642,429,639,433,597,395,546,358,525,347"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="788,5,920,31"/>
<area shape="poly" title=" " alt="" coords="683,103,727,72,782,40,794,35,796,40,785,45,730,77,686,107"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="786,55,922,80"/>
<area shape="poly" title=" " alt="" coords="715,102,788,82,790,87,717,107"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="990,80,1127,106"/>
<area shape="poly" title=" " alt="" coords="736,111,974,96,974,101,736,116"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="809,156,899,182"/>
<area shape="poly" title=" " alt="" coords="717,129,794,150,793,155,715,134"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="977,5,1139,31"/>
<area shape="poly" title=" " alt="" coords="920,16,961,16,961,21,920,21"/>
<area shape="poly" title=" " alt="" coords="923,73,974,80,974,85,922,79"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="784,206,924,246"/>
<area shape="poly" title=" " alt="" coords="689,308,782,257,794,251,796,256,785,262,692,312"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="784,271,924,312"/>
<area shape="poly" title=" " alt="" coords="732,310,768,303,769,309,733,315"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="787,336,920,377"/>
<area shape="poly" title=" " alt="" coords="733,333,773,340,772,345,732,338"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="787,402,920,442"/>
<area shape="poly" title=" " alt="" coords="691,335,785,386,796,392,793,397,782,391,689,339"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="972,213,1144,239"/>
<area shape="poly" title=" " alt="" coords="925,224,956,224,956,229,925,229"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="805,491,903,516"/>
<area shape="poly" title=" " alt="" coords="718,465,790,484,789,489,717,470"/>
<area shape="poly" title=" " alt="" coords="822,492,816,482,820,472,833,466,854,464,877,467,889,473,886,478,875,472,854,469,834,471,824,476,821,481,827,489"/>
<area shape="poly" title=" " alt="" coords="346,248,382,248,382,254,346,253"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="398,418,543,458"/>
<area shape="poly" title=" " alt="" coords="344,423,383,427,382,433,343,429"/>
</map>
</div>

</div>
</div>
<a id="abc70d4152ee00348029c61a9bcc85a6f" name="abc70d4152ee00348029c61a9bcc85a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc70d4152ee00348029c61a9bcc85a6f">&#9670;&#160;</a></span>catch_and_close()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename F &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::catch_and_close </td>
          <td>(</td>
          <td class="paramtype">F</td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00265">265</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  265</span>                                {</div>
<div class="line"><span class="lineno">  266</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>();</div>
<div class="line"><span class="lineno">  268</span>         } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><span class="lineno">  269</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()));</div>
<div class="line"><span class="lineno">  270</span>            <a class="code hl_function" href="#a6261f9fdfff9e0784b09ee4039523a9e">close</a>();</div>
<div class="line"><span class="lineno">  271</span>         } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  272</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.what()));</div>
<div class="line"><span class="lineno">  273</span>            <a class="code hl_function" href="#a6261f9fdfff9e0784b09ee4039523a9e">close</a>();</div>
<div class="line"><span class="lineno">  274</span>         } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  275</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;unknown exception&quot;</span>);</div>
<div class="line"><span class="lineno">  276</span>            <a class="code hl_function" href="#a6261f9fdfff9e0784b09ee4039523a9e">close</a>();</div>
<div class="line"><span class="lineno">  277</span>         }</div>
<div class="line"><span class="lineno">  278</span>      }</div>
<div class="ttc" id="aclassfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00057">exception.hpp:58</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_a7611ea8fbe25dde56649b685c2298a37"><div class="ttname"><a href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">fc::exception::to_detail_string</a></div><div class="ttdeci">std::string to_detail_string(log_level ll=log_level::all) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00158">exception.cpp:158</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a9e3cdbaecd5a34b42956e888f7326fad"><div class="ttname"><a href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a></div><div class="ttdeci">#define elog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00130">logger.hpp:130</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a6261f9fdfff9e0784b09ee4039523a9e"><div class="ttname"><a href="#a6261f9fdfff9e0784b09ee4039523a9e">sysio::state_history_plugin_impl::session::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00304">state_history_plugin.cpp:304</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_cgraph">
<area shape="rect" title=" " alt="" coords="5,297,152,353"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a6261f9fdfff9e0784b09ee4039523a9e" title=" " alt="" coords="203,225,350,281"/>
<area shape="poly" title=" " alt="" coords="151,296,187,282,189,287,153,301"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="200,304,353,345"/>
<area shape="poly" title=" " alt="" coords="152,322,184,322,184,328,152,328"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="210,369,342,395"/>
<area shape="poly" title=" " alt="" coords="153,343,215,362,214,367,151,349"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="401,105,541,131"/>
<area shape="poly" title=" " alt="" coords="335,302,351,291,386,256,415,216,456,144,460,146,420,219,390,259,355,295,338,306"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="405,312,537,338"/>
<area shape="poly" title=" " alt="" coords="354,322,389,322,389,328,354,328"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="410,409,532,435"/>
<area shape="poly" title=" " alt="" coords="330,343,354,354,436,399,433,404,352,359,328,348"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="594,5,725,31"/>
<area shape="poly" title=" " alt="" coords="488,103,532,72,588,40,599,35,602,40,591,45,535,77,491,107"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="591,55,728,80"/>
<area shape="poly" title=" " alt="" coords="521,102,594,82,595,87,522,107"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="795,80,932,106"/>
<area shape="poly" title=" " alt="" coords="542,111,779,96,780,101,542,116"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="614,156,705,182"/>
<area shape="poly" title=" " alt="" coords="522,129,600,150,598,155,521,134"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="783,5,945,31"/>
<area shape="poly" title=" " alt="" coords="726,16,767,16,767,21,726,21"/>
<area shape="poly" title=" " alt="" coords="728,73,780,80,779,85,728,79"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="589,206,730,246"/>
<area shape="poly" title=" " alt="" coords="494,309,588,257,599,251,602,256,591,262,497,314"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="589,271,730,312"/>
<area shape="poly" title=" " alt="" coords="537,310,573,304,574,309,538,316"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="593,336,726,377"/>
<area shape="poly" title=" " alt="" coords="538,333,578,340,577,346,538,339"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="593,402,726,442"/>
<area shape="poly" title=" " alt="" coords="497,336,591,386,602,392,600,397,588,391,495,341"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="778,213,950,239"/>
<area shape="poly" title=" " alt="" coords="730,224,762,224,762,229,730,229"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="610,491,709,516"/>
<area shape="poly" title=" " alt="" coords="504,433,615,482,613,486,502,438"/>
<area shape="poly" title=" " alt="" coords="628,492,622,482,625,472,638,466,660,464,682,467,694,473,692,478,681,472,659,469,640,471,629,476,627,481,632,489"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_icgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_icgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_icgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_abc70d4152ee00348029c61a9bcc85a6f_icgraph">
<area shape="rect" title=" " alt="" coords="200,5,346,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#aa305d7b95c5825b8b786aebd283d7eb4" title=" " alt="" coords="5,5,152,61"/>
<area shape="poly" title=" " alt="" coords="184,36,152,36,152,30,184,30"/>
</map>
</div>

</div>
</div>
<a id="a6261f9fdfff9e0784b09ee4039523a9e" name="a6261f9fdfff9e0784b09ee4039523a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6261f9fdfff9e0784b09ee4039523a9e">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00304">304</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                   {</div>
<div class="line"><span class="lineno">  305</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;next_layer().close();</div>
<div class="line"><span class="lineno">  306</span>         <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;sessions.erase(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  307</span>      }</div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_ac8c2ace1089e3f85745575b5202d41d1"><div class="ttname"><a href="#ac8c2ace1089e3f85745575b5202d41d1">sysio::state_history_plugin_impl::session::socket_stream</a></div><div class="ttdeci">std::unique_ptr&lt; ws::stream&lt; tcp::socket &gt; &gt; socket_stream</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00102">state_history_plugin.cpp:102</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a6261f9fdfff9e0784b09ee4039523a9e_icgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a6261f9fdfff9e0784b09ee4039523a9e_icgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a6261f9fdfff9e0784b09ee4039523a9e_icgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a6261f9fdfff9e0784b09ee4039523a9e_icgraph">
<area shape="rect" title=" " alt="" coords="394,45,540,101"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#abc70d4152ee00348029c61a9bcc85a6f" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="378,58,346,51,347,46,379,52"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a39c66f17854fd671de6749d4c3346207" title=" " alt="" coords="200,85,346,141"/>
<area shape="poly" title=" " alt="" coords="379,94,347,101,346,96,378,89"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#aa305d7b95c5825b8b786aebd283d7eb4" title=" " alt="" coords="5,45,152,101"/>
<area shape="poly" title=" " alt="" coords="185,54,152,61,151,56,184,49"/>
<area shape="poly" title=" " alt="" coords="184,98,151,91,152,86,185,92"/>
</map>
</div>

</div>
</div>
<a id="a39c66f17854fd671de6749d4c3346207" name="a39c66f17854fd671de6749d4c3346207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c66f17854fd671de6749d4c3346207">&#9670;&#160;</a></span>on_fail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::on_fail </td>
          <td>(</td>
          <td class="paramtype">boost::system::error_code</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>what</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00291">291</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                                               {</div>
<div class="line"><span class="lineno">  292</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">if</span> (ec == boost::asio::error::eof) {</div>
<div class="line"><span class="lineno">  294</span>               <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;${w}: ${m}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, what)(<span class="stringliteral">&quot;m&quot;</span>, ec.message()));</div>
<div class="line"><span class="lineno">  295</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  296</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;${w}: ${m}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, what)(<span class="stringliteral">&quot;m&quot;</span>, ec.message()));</div>
<div class="line"><span class="lineno">  297</span>            }</div>
<div class="line"><span class="lineno">  298</span>            <a class="code hl_function" href="#a6261f9fdfff9e0784b09ee4039523a9e">close</a>();</div>
<div class="line"><span class="lineno">  299</span>         } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  300</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;uncaught exception on close&quot;</span>);</div>
<div class="line"><span class="lineno">  301</span>         }</div>
<div class="line"><span class="lineno">  302</span>      }</div>
<div class="ttc" id="alogger_8hpp_html_a3da1571bad6ca6c94df9a3660b2115ee"><div class="ttname"><a href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a></div><div class="ttdeci">#define dlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00101">logger.hpp:101</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a6261f9fdfff9e0784b09ee4039523a9e" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="152,30,185,30,185,36,152,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_icgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_icgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_icgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a39c66f17854fd671de6749d4c3346207_icgraph">
<area shape="rect" title=" " alt="" coords="200,5,346,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#aa305d7b95c5825b8b786aebd283d7eb4" title=" " alt="" coords="5,5,152,61"/>
<area shape="poly" title=" " alt="" coords="184,36,152,36,152,30,184,30"/>
</map>
</div>

</div>
</div>
<a id="a57b7afe6688f1c54848a58349a45047c" name="a57b7afe6688f1c54848a58349a45047c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b7afe6688f1c54848a58349a45047c">&#9670;&#160;</a></span>operator()() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1state__history_1_1get__blocks__ack__request__v0.html">get_blocks_ack_request_v0</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00204">204</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  204</span>                                                      {</div>
<div class="line"><span class="lineno">  205</span>         <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>)</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  207</span>         <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;max_messages_in_flight += req.num_messages;</div>
<div class="line"><span class="lineno">  208</span>         <a class="code hl_function" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a>();</div>
<div class="line"><span class="lineno">  209</span>      }</div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a7cd34f5d9ec817197d11d7e2e6b51292"><div class="ttname"><a href="#a7cd34f5d9ec817197d11d7e2e6b51292">sysio::state_history_plugin_impl::session::send_update</a></div><div class="ttdeci">void send_update(get_blocks_result_v0 result, const block_state_ptr &amp;block_state)</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00211">state_history_plugin.cpp:211</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_ac69354c3678235cceb5e957452bd2925"><div class="ttname"><a href="#ac69354c3678235cceb5e957452bd2925">sysio::state_history_plugin_impl::session::current_request</a></div><div class="ttdeci">std::optional&lt; get_blocks_request_v0 &gt; current_request</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00106">state_history_plugin.cpp:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a57b7afe6688f1c54848a58349a45047c_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a57b7afe6688f1c54848a58349a45047c_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a57b7afe6688f1c54848a58349a45047c_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a57b7afe6688f1c54848a58349a45047c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="152,30,185,30,185,36,152,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="394,13,576,54"/>
<area shape="poly" title=" " alt="" coords="346,39,378,39,378,45,346,44"/>
<area shape="poly" title=" " alt="" coords="393,27,362,27,362,22,393,22"/>
</map>
</div>

</div>
</div>
<a id="a3f2b52fad830aec966bcf5a7bc84ae2a" name="a3f2b52fad830aec966bcf5a7bc84ae2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2b52fad830aec966bcf5a7bc84ae2a">&#9670;&#160;</a></span>operator()() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1state__history_1_1get__blocks__request__v0.html">get_blocks_request_v0</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>req</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00191">191</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                                                  {</div>
<div class="line"><span class="lineno">  192</span>         <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; cp : req.have_positions) {</div>
<div class="line"><span class="lineno">  193</span>            <span class="keywordflow">if</span> (req.start_block_num &lt;= cp.block_num)</div>
<div class="line"><span class="lineno">  194</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  195</span>            <span class="keyword">auto</span> <span class="keywordtype">id</span> = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_block_id(cp.block_num);</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">if</span> (!<span class="keywordtype">id</span> || *<span class="keywordtype">id</span> != cp.block_id)</div>
<div class="line"><span class="lineno">  197</span>               req.start_block_num = std::min(req.start_block_num, cp.block_num);</div>
<div class="line"><span class="lineno">  198</span>         }</div>
<div class="line"><span class="lineno">  199</span>         req.have_positions.clear();</div>
<div class="line"><span class="lineno">  200</span>         <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a> = req;</div>
<div class="line"><span class="lineno">  201</span>         <a class="code hl_function" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  202</span>      }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a3f2b52fad830aec966bcf5a7bc84ae2a_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a3f2b52fad830aec966bcf5a7bc84ae2a_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a3f2b52fad830aec966bcf5a7bc84ae2a_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a3f2b52fad830aec966bcf5a7bc84ae2a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="152,30,185,30,185,36,152,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="394,13,576,54"/>
<area shape="poly" title=" " alt="" coords="346,39,378,39,378,45,346,44"/>
<area shape="poly" title=" " alt="" coords="393,27,362,27,362,22,393,22"/>
</map>
</div>

</div>
</div>
<a id="a8a04f269bddae7be304148383eb5f841" name="a8a04f269bddae7be304148383eb5f841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a04f269bddae7be304148383eb5f841">&#9670;&#160;</a></span>operator()() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::operator() </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1state__history_1_1get__status__request__v0.html">get_status_request_v0</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00174">174</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>                                              {</div>
<div class="line"><span class="lineno">  175</span>         <span class="keyword">auto</span>&amp;                chain = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_plug-&gt;chain();</div>
<div class="line"><span class="lineno">  176</span>         get_status_result_v0 result;</div>
<div class="line"><span class="lineno">  177</span>         result.head              = {chain.head_block_num(), chain.head_block_id()};</div>
<div class="line"><span class="lineno">  178</span>         result.last_irreversible = {chain.last_irreversible_block_num(), chain.last_irreversible_block_id()};</div>
<div class="line"><span class="lineno">  179</span>         result.chain_id          = chain.get_chain_id();</div>
<div class="line"><span class="lineno">  180</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;trace_log) {</div>
<div class="line"><span class="lineno">  181</span>            result.trace_begin_block = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;trace_log-&gt;begin_block();</div>
<div class="line"><span class="lineno">  182</span>            result.trace_end_block   = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;trace_log-&gt;end_block();</div>
<div class="line"><span class="lineno">  183</span>         }</div>
<div class="line"><span class="lineno">  184</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_state_log) {</div>
<div class="line"><span class="lineno">  185</span>            result.chain_state_begin_block = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_state_log-&gt;begin_block();</div>
<div class="line"><span class="lineno">  186</span>            result.chain_state_end_block   = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_state_log-&gt;end_block();</div>
<div class="line"><span class="lineno">  187</span>         }</div>
<div class="line"><span class="lineno">  188</span>         <a class="code hl_function" href="#a75102a1a12cdf641267a4ad44813503a">send</a>(std::move(result));</div>
<div class="line"><span class="lineno">  189</span>      }</div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a75102a1a12cdf641267a4ad44813503a"><div class="ttname"><a href="#a75102a1a12cdf641267a4ad44813503a">sysio::state_history_plugin_impl::session::send</a></div><div class="ttdeci">void send()</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00154">state_history_plugin.cpp:154</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a8a04f269bddae7be304148383eb5f841_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a8a04f269bddae7be304148383eb5f841_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a8a04f269bddae7be304148383eb5f841_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a8a04f269bddae7be304148383eb5f841_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="200,13,382,54"/>
<area shape="poly" title=" " alt="" coords="152,30,184,30,184,36,152,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="430,5,576,61"/>
<area shape="poly" title=" " alt="" coords="382,39,414,39,414,45,382,45"/>
<area shape="poly" title=" " alt="" coords="429,27,398,27,398,22,430,22"/>
</map>
</div>

</div>
</div>
<a id="a75102a1a12cdf641267a4ad44813503a" name="a75102a1a12cdf641267a4ad44813503a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75102a1a12cdf641267a4ad44813503a">&#9670;&#160;</a></span>send() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00154">154</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>                  {</div>
<div class="line"><span class="lineno">  155</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a063d7f178fc69d9090a8aa1b0eb61221">sending</a>)</div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  157</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.empty())</div>
<div class="line"><span class="lineno">  158</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a>();</div>
<div class="line"><span class="lineno">  159</span>         <a class="code hl_variable" href="#a063d7f178fc69d9090a8aa1b0eb61221">sending</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  160</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;binary(<a class="code hl_variable" href="#a373eff86875491f81d3f8116bc537db0">sent_abi</a>);</div>
<div class="line"><span class="lineno">  161</span>         <a class="code hl_variable" href="#a373eff86875491f81d3f8116bc537db0">sent_abi</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  162</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;async_write(             <span class="comment">//</span></div>
<div class="line"><span class="lineno">  163</span>             boost::asio::buffer(<a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>[0]), <span class="comment">//</span></div>
<div class="line"><span class="lineno">  164</span>             [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a> = shared_from_this()](boost::system::error_code ec, <span class="keywordtype">size_t</span>) {</div>
<div class="line"><span class="lineno">  165</span>                <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;callback(ec, <span class="stringliteral">&quot;async_write&quot;</span>, [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>] {</div>
<div class="line"><span class="lineno">  166</span>                   <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;send_queue.erase(<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;send_queue.begin());</div>
<div class="line"><span class="lineno">  167</span>                   <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;sending = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  168</span>                   <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;send();</div>
<div class="line"><span class="lineno">  169</span>                });</div>
<div class="line"><span class="lineno">  170</span>             });</div>
<div class="line"><span class="lineno">  171</span>      }</div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">sysio::self</a></div><div class="ttdeci">@ self</div><div class="ttdoc">the connection is to itself</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00048">protocol.hpp:48</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a063d7f178fc69d9090a8aa1b0eb61221"><div class="ttname"><a href="#a063d7f178fc69d9090a8aa1b0eb61221">sysio::state_history_plugin_impl::session::sending</a></div><div class="ttdeci">bool sending</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00103">state_history_plugin.cpp:103</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a373eff86875491f81d3f8116bc537db0"><div class="ttname"><a href="#a373eff86875491f81d3f8116bc537db0">sysio::state_history_plugin_impl::session::sent_abi</a></div><div class="ttdeci">bool sent_abi</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00104">state_history_plugin.cpp:104</a></div></div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_ad43d0e5fd9c0fb69e92fe7cf173082e8"><div class="ttname"><a href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">sysio::state_history_plugin_impl::session::send_queue</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; char &gt; &gt; send_queue</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00105">state_history_plugin.cpp:105</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,188,54"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="236,5,382,61"/>
<area shape="poly" title=" " alt="" coords="188,39,220,39,220,45,188,45"/>
<area shape="poly" title=" " alt="" coords="235,27,203,27,203,22,235,22"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_icgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_icgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_icgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a75102a1a12cdf641267a4ad44813503a_icgraph">
<area shape="rect" title=" " alt="" coords="430,150,612,191"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a8a04f269bddae7be304148383eb5f841" title=" " alt="" coords="218,5,364,61"/>
<area shape="poly" title=" " alt="" coords="480,143,434,109,381,75,358,64,361,59,383,71,437,105,484,139"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a43d48af2140f59121b87b1cb59a83368" title=" " alt="" coords="200,85,382,126"/>
<area shape="poly" title=" " alt="" coords="432,148,365,129,366,124,434,143"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#ac14c4a6544d49506a065e86c0f3bf2b3" title=" " alt="" coords="200,150,382,191"/>
<area shape="poly" title=" " alt="" coords="415,173,383,173,383,168,415,168"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="218,215,364,270"/>
<area shape="poly" title=" " alt="" coords="463,199,365,231,364,226,461,194"/>
<area shape="poly" title=" " alt="" coords="370,207,429,188,431,193,371,212"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a57b7afe6688f1c54848a58349a45047c" title=" " alt="" coords="5,95,152,150"/>
<area shape="poly" title=" " alt="" coords="206,209,198,205,174,185,150,165,132,153,135,149,153,160,177,181,201,200,209,205"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a3f2b52fad830aec966bcf5a7bc84ae2a" title=" " alt="" coords="5,175,152,230"/>
<area shape="poly" title=" " alt="" coords="202,229,152,219,153,214,203,223"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#aa4fee32d71ab41e65315338411c3748c" title=" " alt="" coords="5,255,152,310"/>
<area shape="poly" title=" " alt="" coords="203,262,153,271,152,266,202,256"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a5e595a743feb07936a8ddba0131bc856" title=" " alt="" coords="5,335,152,390"/>
<area shape="poly" title=" " alt="" coords="230,281,153,325,132,337,130,332,150,320,227,276"/>
</map>
</div>

</div>
</div>
<a id="a43d48af2140f59121b87b1cb59a83368" name="a43d48af2140f59121b87b1cb59a83368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d48af2140f59121b87b1cb59a83368">&#9670;&#160;</a></span>send() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00143">143</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>                               {</div>
<div class="line"><span class="lineno">  144</span>         <a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.push_back({<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> + strlen(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>)});</div>
<div class="line"><span class="lineno">  145</span>         <a class="code hl_function" href="#a75102a1a12cdf641267a4ad44813503a">send</a>();</div>
<div class="line"><span class="lineno">  146</span>      }</div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a43d48af2140f59121b87b1cb59a83368_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a43d48af2140f59121b87b1cb59a83368_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a43d48af2140f59121b87b1cb59a83368_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a43d48af2140f59121b87b1cb59a83368_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,188,54"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="236,13,418,54"/>
<area shape="poly" title=" " alt="" coords="188,30,220,30,220,36,188,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="466,5,612,61"/>
<area shape="poly" title=" " alt="" coords="418,39,450,39,450,45,418,45"/>
<area shape="poly" title=" " alt="" coords="465,27,434,27,434,22,466,22"/>
</map>
</div>

</div>
</div>
<a id="ac14c4a6544d49506a065e86c0f3bf2b3" name="ac14c4a6544d49506a065e86c0f3bf2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14c4a6544d49506a065e86c0f3bf2b3">&#9670;&#160;</a></span>send() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a></td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00149">149</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                       {</div>
<div class="line"><span class="lineno">  150</span>         <a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.push_back(<a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>(<a class="code hl_typedef" href="namespacesysio_1_1state__history.html#a7c0ebdf566e085620947b3981fb324ec">state_result</a>{std::move(obj)}));</div>
<div class="line"><span class="lineno">  151</span>         <a class="code hl_function" href="#a75102a1a12cdf641267a4ad44813503a">send</a>();</div>
<div class="line"><span class="lineno">  152</span>      }</div>
<div class="ttc" id="anamespacefc_1_1raw_html_a3a18d8161aa5b4f4f02b6fcfdff5e5d1"><div class="ttname"><a href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a></div><div class="ttdeci">void pack(Stream &amp;s, const std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00531">raw.hpp:531</a></div></div>
<div class="ttc" id="anamespacesysio_1_1state__history_html_a7c0ebdf566e085620947b3981fb324ec"><div class="ttname"><a href="namespacesysio_1_1state__history.html#a7c0ebdf566e085620947b3981fb324ec">sysio::state_history::state_result</a></div><div class="ttdeci">std::variant&lt; get_status_result_v0, get_blocks_result_v0 &gt; state_result</div><div class="ttdef"><b>Definition</b> <a href="state__history_2include_2sysio_2state__history_2types_8hpp_source.html#l00115">types.hpp:115</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_ac14c4a6544d49506a065e86c0f3bf2b3_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_ac14c4a6544d49506a065e86c0f3bf2b3_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_ac14c4a6544d49506a065e86c0f3bf2b3_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_ac14c4a6544d49506a065e86c0f3bf2b3_cgraph">
<area shape="rect" title=" " alt="" coords="5,51,188,92"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="278,29,376,55"/>
<area shape="poly" title=" " alt="" coords="187,57,263,48,264,53,188,63"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="236,79,418,120"/>
<area shape="poly" title=" " alt="" coords="188,80,220,84,220,89,187,85"/>
<area shape="poly" title=" " alt="" coords="291,31,284,21,289,11,303,5,327,3,353,5,366,12,364,17,351,10,327,8,304,10,292,15,290,20,296,27"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="466,72,612,127"/>
<area shape="poly" title=" " alt="" coords="418,106,450,106,450,111,418,111"/>
<area shape="poly" title=" " alt="" coords="465,94,434,93,434,88,466,88"/>
</map>
</div>

</div>
</div>
<a id="aa4fee32d71ab41e65315338411c3748c" name="aa4fee32d71ab41e65315338411c3748c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4fee32d71ab41e65315338411c3748c">&#9670;&#160;</a></span>send_update() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send_update </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>changed</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00252">252</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  252</span>                                             {</div>
<div class="line"><span class="lineno">  253</span>         <span class="keywordflow">if</span> (changed)</div>
<div class="line"><span class="lineno">  254</span>            <a class="code hl_variable" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  255</span>         <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.empty() || !<a class="code hl_variable" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> || !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a> ||</div>
<div class="line"><span class="lineno">  256</span>             !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;max_messages_in_flight)</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  258</span>         <span class="keyword">auto</span>&amp;                chain = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_plug-&gt;chain();</div>
<div class="line"><span class="lineno">  259</span>         get_blocks_result_v0 result;</div>
<div class="line"><span class="lineno">  260</span>         result.head = {chain.head_block_num(), chain.head_block_id()};</div>
<div class="line"><span class="lineno">  261</span>         <a class="code hl_function" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a>(std::move(result), {});</div>
<div class="line"><span class="lineno">  262</span>      }</div>
<div class="ttc" id="astructsysio_1_1state__history__plugin__impl_1_1session_html_a5b58c569f9182397a38f5d2c8c84ebcf"><div class="ttname"><a href="#a5b58c569f9182397a38f5d2c8c84ebcf">sysio::state_history_plugin_impl::session::need_to_send_update</a></div><div class="ttdeci">bool need_to_send_update</div><div class="ttdef"><b>Definition</b> <a href="state__history__plugin_8cpp_source.html#l00107">state_history_plugin.cpp:107</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_aa4fee32d71ab41e65315338411c3748c_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_aa4fee32d71ab41e65315338411c3748c_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_aa4fee32d71ab41e65315338411c3748c_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_aa4fee32d71ab41e65315338411c3748c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="152,30,185,30,185,36,152,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="394,13,576,54"/>
<area shape="poly" title=" " alt="" coords="346,39,378,39,378,45,346,44"/>
<area shape="poly" title=" " alt="" coords="393,27,362,27,362,22,393,22"/>
</map>
</div>

</div>
</div>
<a id="a5e595a743feb07936a8ddba0131bc856" name="a5e595a743feb07936a8ddba0131bc856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e595a743feb07936a8ddba0131bc856">&#9670;&#160;</a></span>send_update() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send_update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block_state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00243">243</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>                                                           {</div>
<div class="line"><span class="lineno">  244</span>         <a class="code hl_variable" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  245</span>         <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.empty() || !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a> || !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;max_messages_in_flight)</div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  247</span>         get_blocks_result_v0 result;</div>
<div class="line"><span class="lineno">  248</span>         result.head = {block_state-&gt;block_num, block_state-&gt;id};</div>
<div class="line"><span class="lineno">  249</span>         <a class="code hl_function" href="#a7cd34f5d9ec817197d11d7e2e6b51292">send_update</a>(std::move(result), block_state);</div>
<div class="line"><span class="lineno">  250</span>      }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a5e595a743feb07936a8ddba0131bc856_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a5e595a743feb07936a8ddba0131bc856_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a5e595a743feb07936a8ddba0131bc856_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a5e595a743feb07936a8ddba0131bc856_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a7cd34f5d9ec817197d11d7e2e6b51292" title=" " alt="" coords="200,5,346,61"/>
<area shape="poly" title=" " alt="" coords="152,30,185,30,185,36,152,36"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="394,13,576,54"/>
<area shape="poly" title=" " alt="" coords="346,39,378,39,378,45,346,44"/>
<area shape="poly" title=" " alt="" coords="393,27,362,27,362,22,393,22"/>
</map>
</div>

</div>
</div>
<a id="a7cd34f5d9ec817197d11d7e2e6b51292" name="a7cd34f5d9ec817197d11d7e2e6b51292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd34f5d9ec817197d11d7e2e6b51292">&#9670;&#160;</a></span>send_update() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::send_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1state__history_1_1get__blocks__result__v0.html">get_blocks_result_v0</a></td>          <td class="paramname"><span class="paramname"><em>result</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block_state</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00211">211</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span>                                                                                        {</div>
<div class="line"><span class="lineno">  212</span>         <a class="code hl_variable" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span>         <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">send_queue</a>.empty() || !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a> || !<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;max_messages_in_flight)</div>
<div class="line"><span class="lineno">  214</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  215</span>         <span class="keyword">auto</span>&amp; chain              = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_plug-&gt;chain();</div>
<div class="line"><span class="lineno">  216</span>         result.last_irreversible = {chain.last_irreversible_block_num(), chain.last_irreversible_block_id()};</div>
<div class="line"><span class="lineno">  217</span>         <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> current =</div>
<div class="line"><span class="lineno">  218</span>             <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;irreversible_only ? result.last_irreversible.block_num : result.head.block_num;</div>
<div class="line"><span class="lineno">  219</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num &lt;= current &amp;&amp;</div>
<div class="line"><span class="lineno">  220</span>             <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num &lt; <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;end_block_num) {</div>
<div class="line"><span class="lineno">  221</span>            <span class="keyword">auto</span> block_id = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_block_id(<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num);</div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span> (block_id) {</div>
<div class="line"><span class="lineno">  223</span>               result.this_block  = block_position{<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num, *block_id};</div>
<div class="line"><span class="lineno">  224</span>               <span class="keyword">auto</span> prev_block_id = <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_block_id(<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num - 1);</div>
<div class="line"><span class="lineno">  225</span>               <span class="keywordflow">if</span> (prev_block_id)</div>
<div class="line"><span class="lineno">  226</span>                  result.prev_block = block_position{<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num - 1, *prev_block_id};</div>
<div class="line"><span class="lineno">  227</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;fetch_block) {</div>
<div class="line"><span class="lineno">  228</span>                  <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_block( <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num, block_state, result.block );</div>
<div class="line"><span class="lineno">  229</span>               }</div>
<div class="line"><span class="lineno">  230</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;fetch_traces &amp;&amp; <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;trace_log)</div>
<div class="line"><span class="lineno">  231</span>                  <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_log_entry(*<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;trace_log, <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num, result.traces);</div>
<div class="line"><span class="lineno">  232</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;fetch_deltas &amp;&amp; <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_state_log)</div>
<div class="line"><span class="lineno">  233</span>                  <a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;get_log_entry(*<a class="code hl_variable" href="#a0b52bdba191da292fa565f1dff8428fd">plugin</a>-&gt;chain_state_log, <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num, result.deltas);</div>
<div class="line"><span class="lineno">  234</span>            }</div>
<div class="line"><span class="lineno">  235</span>            ++<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num;</div>
<div class="line"><span class="lineno">  236</span>         }</div>
<div class="line"><span class="lineno">  237</span>         <a class="code hl_function" href="#a75102a1a12cdf641267a4ad44813503a">send</a>(std::move(result));</div>
<div class="line"><span class="lineno">  238</span>         --<a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;max_messages_in_flight;</div>
<div class="line"><span class="lineno">  239</span>         <a class="code hl_variable" href="#a5b58c569f9182397a38f5d2c8c84ebcf">need_to_send_update</a> = <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num &lt;= current &amp;&amp;</div>
<div class="line"><span class="lineno">  240</span>                               <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;start_block_num &lt; <a class="code hl_variable" href="#ac69354c3678235cceb5e957452bd2925">current_request</a>-&gt;end_block_num;</div>
<div class="line"><span class="lineno">  241</span>      }</div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,152,61"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="200,13,382,54"/>
<area shape="poly" title=" " alt="" coords="152,39,184,39,184,45,152,44"/>
<area shape="poly" title=" " alt="" coords="199,27,167,27,167,22,199,22"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_icgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_icgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_icgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a7cd34f5d9ec817197d11d7e2e6b51292_icgraph">
<area shape="rect" title=" " alt="" coords="466,157,612,213"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a57b7afe6688f1c54848a58349a45047c" title=" " alt="" coords="254,5,400,61"/>
<area shape="poly" title=" " alt="" coords="501,148,462,111,417,75,397,64,399,59,419,71,465,107,504,144"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a3f2b52fad830aec966bcf5a7bc84ae2a" title=" " alt="" coords="254,85,400,141"/>
<area shape="poly" title=" " alt="" coords="451,158,400,141,401,135,452,153"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a75102a1a12cdf641267a4ad44813503a" title=" " alt="" coords="236,165,418,206"/>
<area shape="poly" title=" " alt="" coords="450,197,419,197,419,191,450,191"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#aa4fee32d71ab41e65315338411c3748c" title=" " alt="" coords="254,229,400,285"/>
<area shape="poly" title=" " alt="" coords="452,217,401,235,400,230,451,212"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a5e595a743feb07936a8ddba0131bc856" title=" " alt="" coords="254,309,400,365"/>
<area shape="poly" title=" " alt="" coords="504,226,465,264,419,299,399,311,397,307,417,295,462,260,501,222"/>
<area shape="poly" title=" " alt="" coords="434,174,466,174,466,179,434,179"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a8a04f269bddae7be304148383eb5f841" title=" " alt="" coords="23,85,170,141"/>
<area shape="poly" title=" " alt="" coords="244,162,170,139,171,134,246,157"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#a43d48af2140f59121b87b1cb59a83368" title=" " alt="" coords="5,165,188,206"/>
<area shape="poly" title=" " alt="" coords="220,188,188,188,188,182,220,182"/>
<area shape="rect" href="structsysio_1_1state__history__plugin__impl_1_1session.html#ac14c4a6544d49506a065e86c0f3bf2b3" title=" " alt="" coords="5,230,188,271"/>
<area shape="poly" title=" " alt="" coords="239,213,172,232,170,227,238,208"/>
</map>
</div>

</div>
</div>
<a id="a32b08f79712865d9f6f7fd9ede4fa857" name="a32b08f79712865d9f6f7fd9ede4fa857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b08f79712865d9f6f7fd9ede4fa857">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::start </td>
          <td>(</td>
          <td class="paramtype">tcp::socket</td>          <td class="paramname"><span class="paramname"><em>socket</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00112">112</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                   {</div>
<div class="line"><span class="lineno">  113</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;incoming connection&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a> = std::make_unique&lt;ws::stream&lt;tcp::socket&gt;&gt;(std::move(socket));</div>
<div class="line"><span class="lineno">  115</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;binary(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  116</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;next_layer().set_option(boost::asio::ip::tcp::no_delay(<span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  117</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;next_layer().set_option(boost::asio::socket_base::send_buffer_size(1024 * 1024));</div>
<div class="line"><span class="lineno">  118</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;next_layer().set_option(boost::asio::socket_base::receive_buffer_size(1024 * 1024));</div>
<div class="line"><span class="lineno">  119</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;async_accept([<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a> = shared_from_this()](boost::system::error_code ec) {</div>
<div class="line"><span class="lineno">  120</span>            <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;callback(ec, <span class="stringliteral">&quot;async_accept&quot;</span>, [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>] {</div>
<div class="line"><span class="lineno">  121</span>               <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;start_read();</div>
<div class="line"><span class="lineno">  122</span>               <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;send(<a class="code hl_variable" href="abi_8cpp.html#ae4097a3d4530483dcbecd2ffc0264aaa">state_history_plugin_abi</a>);</div>
<div class="line"><span class="lineno">  123</span>            });</div>
<div class="line"><span class="lineno">  124</span>         });</div>
<div class="line"><span class="lineno">  125</span>      }</div>
<div class="ttc" id="aabi_8cpp_html_ae4097a3d4530483dcbecd2ffc0264aaa"><div class="ttname"><a href="abi_8cpp.html#ae4097a3d4530483dcbecd2ffc0264aaa">state_history_plugin_abi</a></div><div class="ttdeci">const char *const state_history_plugin_abi</div></div>
<div class="ttc" id="alogger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00118">logger.hpp:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a11af9b8b9ca48cfa4ba8c0bdfc94f3af" name="a11af9b8b9ca48cfa4ba8c0bdfc94f3af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11af9b8b9ca48cfa4ba8c0bdfc94f3af">&#9670;&#160;</a></span>start_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::state_history_plugin_impl::session::start_read </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00127">127</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>                        {</div>
<div class="line"><span class="lineno">  128</span>         <span class="keyword">auto</span> in_buffer = std::make_shared&lt;boost::beast::flat_buffer&gt;();</div>
<div class="line"><span class="lineno">  129</span>         <a class="code hl_variable" href="#ac8c2ace1089e3f85745575b5202d41d1">socket_stream</a>-&gt;async_read(</div>
<div class="line"><span class="lineno">  130</span>             *in_buffer, [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a> = shared_from_this(), in_buffer](boost::system::error_code ec, <span class="keywordtype">size_t</span>) {</div>
<div class="line"><span class="lineno">  131</span>                <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;callback(ec, <span class="stringliteral">&quot;async_read&quot;</span>, [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>, in_buffer] {</div>
<div class="line"><span class="lineno">  132</span>                   <span class="keyword">auto</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a> = boost::asio::buffer_cast&lt;char const*&gt;(boost::beast::buffers_front(in_buffer-&gt;data()));</div>
<div class="line"><span class="lineno">  133</span>                   <span class="keyword">auto</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = boost::asio::buffer_size(in_buffer-&gt;data());</div>
<div class="line"><span class="lineno">  134</span>                   <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char*&gt;</a> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a>(d, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>);</div>
<div class="line"><span class="lineno">  135</span>                   <a class="code hl_typedef" href="namespacesysio_1_1state__history.html#a0e788deef6248a86a8620bdbf4dea020">state_request</a>               req;</div>
<div class="line"><span class="lineno">  136</span>                   <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds, req);</div>
<div class="line"><span class="lineno">  137</span>                   std::visit(*<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>, req);</div>
<div class="line"><span class="lineno">  138</span>                   <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>-&gt;start_read();</div>
<div class="line"><span class="lineno">  139</span>                });</div>
<div class="line"><span class="lineno">  140</span>             });</div>
<div class="line"><span class="lineno">  141</span>      }</div>
<div class="ttc" id="aclassfc_1_1datastream_html"><div class="ttname"><a href="classfc_1_1datastream.html">fc::datastream</a></div><div class="ttdef"><b>Definition</b> <a href="datastream_8hpp_source.html#l00018">datastream.hpp:18</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacesysio_1_1state__history_html_a0e788deef6248a86a8620bdbf4dea020"><div class="ttname"><a href="namespacesysio_1_1state__history.html#a0e788deef6248a86a8620bdbf4dea020">sysio::state_history::state_request</a></div><div class="ttdeci">std::variant&lt; get_status_request_v0, get_blocks_request_v0, get_blocks_ack_request_v0 &gt; state_request</div><div class="ttdef"><b>Definition</b> <a href="state__history_2include_2sysio_2state__history_2types_8hpp_source.html#l00114">types.hpp:114</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a107648633008a7f2d872b4b3d98c2f96"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a107648633008a7f2d872b4b3d98c2f96">d</a></div><div class="ttdeci">CK_ULONG d</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l01238">yubihsm_pkcs11.c:1238</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1state__history__plugin__impl_1_1session_a11af9b8b9ca48cfa4ba8c0bdfc94f3af_cgraph.png" border="0" usemap="#astructsysio_1_1state__history__plugin__impl_1_1session_a11af9b8b9ca48cfa4ba8c0bdfc94f3af_cgraph" alt=""/></div>
<map name="astructsysio_1_1state__history__plugin__impl_1_1session_a11af9b8b9ca48cfa4ba8c0bdfc94f3af_cgraph" id="astructsysio_1_1state__history__plugin__impl_1_1session_a11af9b8b9ca48cfa4ba8c0bdfc94f3af_cgraph">
<area shape="rect" title=" " alt="" coords="5,14,152,70"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="200,29,311,55"/>
<area shape="poly" title=" " alt="" coords="152,40,184,40,184,45,152,45"/>
<area shape="poly" title=" " alt="" coords="225,30,220,21,223,11,235,5,255,3,277,5,288,12,285,16,275,10,255,8,237,10,227,15,225,20,230,28"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac69354c3678235cceb5e957452bd2925" name="ac69354c3678235cceb5e957452bd2925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac69354c3678235cceb5e957452bd2925">&#9670;&#160;</a></span>current_request</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="structsysio_1_1state__history_1_1get__blocks__request__v0.html">get_blocks_request_v0</a>&gt; sysio::state_history_plugin_impl::session::current_request</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00106">106</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="a5b58c569f9182397a38f5d2c8c84ebcf" name="a5b58c569f9182397a38f5d2c8c84ebcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b58c569f9182397a38f5d2c8c84ebcf">&#9670;&#160;</a></span>need_to_send_update</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::state_history_plugin_impl::session::need_to_send_update = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00107">107</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="a0b52bdba191da292fa565f1dff8428fd" name="a0b52bdba191da292fa565f1dff8428fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b52bdba191da292fa565f1dff8428fd">&#9670;&#160;</a></span>plugin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="structsysio_1_1state__history__plugin__impl.html">state_history_plugin_impl</a>&gt; sysio::state_history_plugin_impl::session::plugin</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00101">101</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="ad43d0e5fd9c0fb69e92fe7cf173082e8" name="ad43d0e5fd9c0fb69e92fe7cf173082e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43d0e5fd9c0fb69e92fe7cf173082e8">&#9670;&#160;</a></span>send_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;char&gt; &gt; sysio::state_history_plugin_impl::session::send_queue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00105">105</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="a063d7f178fc69d9090a8aa1b0eb61221" name="a063d7f178fc69d9090a8aa1b0eb61221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063d7f178fc69d9090a8aa1b0eb61221">&#9670;&#160;</a></span>sending</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::state_history_plugin_impl::session::sending = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00103">103</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="a373eff86875491f81d3f8116bc537db0" name="a373eff86875491f81d3f8116bc537db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373eff86875491f81d3f8116bc537db0">&#9670;&#160;</a></span>sent_abi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::state_history_plugin_impl::session::sent_abi = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00104">104</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<a id="ac8c2ace1089e3f85745575b5202d41d1" name="ac8c2ace1089e3f85745575b5202d41d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8c2ace1089e3f85745575b5202d41d1">&#9670;&#160;</a></span>socket_stream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;ws::stream&lt;tcp::socket&gt; &gt; sysio::state_history_plugin_impl::session::socket_stream</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="state__history__plugin_8cpp_source.html#l00102">102</a> of file <a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>plugins/state_history_plugin/<a class="el" href="state__history__plugin_8cpp_source.html">state_history_plugin.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="structsysio_1_1state__history__plugin__impl.html">state_history_plugin_impl</a></li><li class="navelem"><a class="el" href="structsysio_1_1state__history__plugin__impl_1_1session.html">session</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
