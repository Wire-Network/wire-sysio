<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::controller_impl Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structsysio_1_1chain_1_1controller__impl.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structsysio_1_1chain_1_1controller__impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::controller_impl Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for sysio::chain::controller_impl:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl__coll__graph.png" border="0" usemap="#asysio_1_1chain_1_1controller__impl_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1chain_1_1controller__impl_coll__map" id="asysio_1_1chain_1_1controller__impl_coll__map">
<area shape="rect" title=" " alt="" coords="1190,616,1374,641"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl_1_1reset__new__handler.html" title=" " alt="" coords="796,160,966,201"/>
<area shape="poly" title=" " alt="" coords="981,166,1029,167,1078,174,1126,190,1168,217,1191,248,1212,294,1230,351,1246,413,1269,533,1282,615,1276,615,1264,534,1240,414,1225,352,1207,296,1187,250,1165,221,1124,195,1077,179,1028,172,981,171"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html" title=" " alt="" coords="805,225,957,251"/>
<area shape="poly" title=" " alt="" coords="973,235,1086,243,1135,252,1168,268,1205,307,1234,354,1254,404,1269,456,1282,551,1284,615,1278,615,1277,552,1263,457,1249,406,1229,356,1201,310,1165,272,1133,257,1085,248,972,240"/>
<area shape="rect" title=" " alt="" coords="364,25,517,51"/>
<area shape="poly" title=" " alt="" coords="530,20,587,18,648,23,707,41,734,55,758,74,770,91,775,109,772,144,768,178,771,194,782,210,806,227,803,231,778,214,766,196,762,178,766,143,770,109,766,94,754,78,731,60,705,46,647,29,587,23,531,25"/>
<area shape="rect" title=" " alt="" coords="366,75,514,115"/>
<area shape="poly" title=" " alt="" coords="530,92,595,95,661,101,719,112,741,120,758,130,766,140,771,151,771,172,772,192,775,201,782,210,806,225,803,230,778,214,770,204,766,193,766,172,765,152,762,143,754,134,739,125,717,118,661,107,595,100,530,98"/>
<area shape="rect" title=" " alt="" coords="371,140,510,181"/>
<area shape="poly" title=" " alt="" coords="526,171,756,211,812,222,811,227,756,216,525,177"/>
<area shape="rect" title=" " alt="" coords="365,205,516,260"/>
<area shape="poly" title=" " alt="" coords="531,231,804,234,804,239,531,236"/>
<area shape="rect" title=" " alt="" coords="334,284,547,354"/>
<area shape="poly" title=" " alt="" coords="562,294,807,248,808,254,563,299"/>
<area shape="rect" title=" " alt="" coords="377,379,504,419"/>
<area shape="poly" title=" " alt="" coords="519,394,576,387,638,372,700,348,728,332,754,313,763,301,765,289,768,275,778,261,803,246,806,251,782,265,773,277,771,290,768,304,758,317,731,337,702,353,640,377,577,392,520,399"/>
<area shape="rect" href="classchainbase_1_1database.html" title=" " alt="" coords="810,276,952,301"/>
<area shape="poly" title=" " alt="" coords="968,285,1083,291,1133,301,1168,315,1202,349,1228,388,1248,432,1262,476,1278,558,1283,615,1278,615,1273,559,1257,477,1243,434,1223,391,1198,352,1165,320,1132,306,1082,297,967,290"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html" title=" " alt="" coords="804,325,958,351"/>
<area shape="poly" title=" " alt="" coords="974,329,1022,332,1073,340,1123,356,1168,382,1196,408,1219,438,1237,472,1252,506,1272,569,1281,615,1276,616,1267,571,1247,508,1233,474,1214,441,1192,412,1165,386,1121,361,1072,345,1022,337,974,334"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html" title="manages light&#45;weight state for all potential unconfirmed forks" alt="" coords="820,375,942,415"/>
<area shape="poly" title=" " alt="" coords="958,395,1007,402,1062,413,1117,432,1168,460,1208,496,1240,540,1264,582,1278,614,1273,616,1259,584,1236,543,1204,500,1165,464,1115,437,1061,419,1007,407,957,401"/>
<area shape="rect" href="classsysio_1_1chain_1_1wasm__interface.html" title=" " alt="" coords="814,440,948,481"/>
<area shape="poly" title=" " alt="" coords="964,470,1064,494,1117,512,1168,534,1198,552,1227,574,1270,613,1266,617,1223,578,1195,557,1165,539,1115,517,1062,499,963,475"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html" title=" " alt="" coords="804,505,959,560"/>
<area shape="poly" title=" " alt="" coords="975,547,1167,590,1242,612,1240,617,1166,595,974,552"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html" title=" " alt="" coords="794,584,968,625"/>
<area shape="poly" title=" " alt="" coords="984,608,1190,620,1190,626,984,613"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html" title=" " alt="" coords="808,649,954,690"/>
<area shape="poly" title=" " alt="" coords="969,659,1166,639,1190,637,1190,642,1167,645,970,664"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html" title=" " alt="" coords="368,444,513,485"/>
<area shape="poly" title=" " alt="" coords="529,454,586,457,647,467,706,488,734,504,758,524,768,538,773,552,772,580,770,608,773,621,782,634,810,654,807,658,778,638,768,623,764,608,766,580,768,553,764,540,754,528,731,508,704,493,646,472,585,462,529,460"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="5,437,171,492"/>
<area shape="poly" title=" " alt="" coords="186,462,367,462,367,467,186,467"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="351,509,530,580"/>
<area shape="poly" title=" " alt="" coords="546,553,650,575,705,592,757,614,770,624,781,634,809,647,807,652,779,639,766,628,755,619,703,597,649,580,545,558"/>
<area shape="rect" href="classfc_1_1vector.html" title=" " alt="" coords="354,604,527,674"/>
<area shape="poly" title=" " alt="" coords="543,634,646,636,756,643,809,651,808,656,756,648,646,641,543,639"/>
<area shape="rect" title=" " alt="" coords="412,698,468,724"/>
<area shape="poly" title=" " alt="" coords="483,701,571,688,696,677,808,670,808,676,696,682,571,694,484,706"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller_1_1config.html" title=" " alt="" coords="805,715,957,755"/>
<area shape="poly" title=" " alt="" coords="972,719,1066,701,1166,675,1212,658,1253,639,1255,644,1214,663,1167,681,1067,706,973,725"/>
<area shape="rect" title=" " alt="" coords="367,757,514,798"/>
<area shape="poly" title=" " alt="" coords="525,800,572,814,625,825,668,834,688,836,708,834,730,827,754,814,763,804,766,793,769,780,778,766,803,751,806,755,782,770,774,782,771,794,768,807,758,818,732,832,710,839,688,841,667,840,624,830,570,819,524,805"/>
<area shape="rect" title=" " alt="" coords="369,822,512,878"/>
<area shape="poly" title=" " alt="" coords="528,877,583,888,643,892,673,890,702,883,729,873,754,857,763,848,767,838,767,816,766,792,770,779,778,766,803,749,806,753,782,770,775,781,771,792,772,816,772,839,768,851,758,861,732,878,704,888,674,895,643,897,583,894,527,882"/>
<area shape="rect" title=" " alt="" coords="375,901,506,942"/>
<area shape="poly" title=" " alt="" coords="522,929,588,933,657,935,716,929,739,922,754,913,767,897,772,881,768,845,763,806,766,786,778,767,803,748,806,752,782,770,771,788,768,807,773,844,777,881,772,900,758,917,741,927,717,934,657,940,588,939,521,934"/>
<area shape="rect" href="classfc_1_1path.html" title="wraps boost::filesystem::path to provide platform independent path manipulation." alt="" coords="408,966,473,992"/>
<area shape="poly" title=" " alt="" coords="489,983,558,989,637,993,709,988,736,981,754,971,763,956,767,933,767,872,766,811,769,785,778,767,803,747,806,752,782,770,775,787,771,811,773,872,773,933,768,958,758,975,738,986,710,993,637,998,557,995,488,988"/>
<area shape="rect" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html" title=" " alt="" coords="364,1016,516,1057"/>
<area shape="poly" title=" " alt="" coords="532,1056,589,1062,649,1060,678,1054,705,1045,731,1032,754,1014,764,995,769,966,767,894,765,820,768,789,778,767,803,747,806,751,782,770,773,790,770,820,773,894,774,967,770,996,758,1017,734,1036,708,1050,679,1059,649,1065,589,1067,532,1061"/>
<area shape="rect" href="structsysio_1_1chain_1_1chain__id__type.html" title=" " alt="" coords="816,780,946,821"/>
<area shape="poly" title=" " alt="" coords="961,791,1062,772,1115,755,1165,733,1198,712,1227,686,1269,640,1273,643,1231,690,1201,716,1168,738,1117,760,1063,777,962,796"/>
<area shape="rect" href="classfc_1_1sha256.html" title=" " alt="" coords="399,1081,482,1107"/>
<area shape="poly" title=" " alt="" coords="497,1105,557,1114,627,1114,662,1109,696,1100,727,1085,754,1064,764,1046,768,1020,767,951,765,882,769,853,778,832,795,817,814,808,817,812,798,822,782,835,774,854,770,882,772,951,773,1020,769,1048,758,1067,730,1090,698,1105,663,1115,627,1120,557,1119,496,1110"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html" title=" " alt="" coords="812,845,950,886"/>
<area shape="poly" title=" " alt="" coords="966,862,1014,857,1066,846,1118,829,1165,804,1187,786,1206,765,1238,719,1260,674,1274,641,1279,643,1265,677,1242,722,1210,769,1190,790,1168,808,1120,834,1067,852,1015,862,966,868"/>
<area shape="rect" href="structsysio_1_1chain_1_1platform__timer.html" title=" " alt="" coords="808,911,954,951"/>
<area shape="poly" title=" " alt="" coords="970,933,1018,930,1069,921,1120,905,1165,879,1192,852,1215,821,1234,787,1248,752,1268,687,1276,641,1282,642,1273,688,1253,754,1238,790,1220,824,1196,856,1168,883,1122,910,1071,927,1019,935,970,939"/>
<area shape="rect" href="classsysio_1_1chain_1_1deep__mind__handler.html" title=" " alt="" coords="818,976,945,1017"/>
<area shape="poly" title=" " alt="" coords="960,1002,1011,1002,1065,996,1118,980,1142,968,1165,952,1198,917,1224,876,1244,831,1258,785,1274,699,1278,641,1283,642,1279,700,1263,786,1249,833,1229,878,1202,920,1168,956,1145,972,1120,985,1066,1001,1011,1008,960,1008"/>
<area shape="rect" title=" " alt="" coords="796,1041,966,1096"/>
<area shape="poly" title=" " alt="" coords="982,1076,1029,1074,1077,1066,1124,1050,1165,1024,1186,995,1206,951,1224,897,1239,837,1263,720,1276,641,1281,642,1269,721,1245,838,1229,898,1211,953,1191,998,1168,1028,1126,1055,1079,1072,1029,1080,982,1081"/>
<area shape="rect" title=" " alt="" coords="780,1121,982,1221"/>
<area shape="poly" title=" " alt="" coords="998,1172,1042,1167,1086,1156,1128,1138,1164,1111,1189,1075,1210,1019,1229,952,1244,877,1266,735,1277,641,1282,642,1272,736,1250,878,1234,953,1215,1021,1194,1077,1168,1115,1131,1142,1088,1161,1043,1172,998,1178"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1controller__impl_1_1reset__new__handler.html">reset_new_handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a80cb28cfbb823c8688106b0229d0169c" id="r_a80cb28cfbb823c8688106b0229d0169c"><td class="memItemLeft" align="right" valign="top">typedef pair&lt; <a class="el" href="namespacesysio_1_1chain.html#a58379f7b40727cd3645e0f5a9b24e653">scope_name</a>, <a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80cb28cfbb823c8688106b0229d0169c">handler_key</a></td></tr>
<tr class="separator:a80cb28cfbb823c8688106b0229d0169c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a571b0d08f97b43706abab71f59d4d9f7" id="r_a571b0d08f97b43706abab71f59d4d9f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a571b0d08f97b43706abab71f59d4d9f7">pop_block</a> ()</td></tr>
<tr class="separator:a571b0d08f97b43706abab71f59d4d9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1190a7a5947a5d8441eafcf33fba744" id="r_ab1190a7a5947a5d8441eafcf33fba744"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> F&gt; </td></tr>
<tr class="memitem:ab1190a7a5947a5d8441eafcf33fba744"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab1190a7a5947a5d8441eafcf33fba744">on_activation</a> ()</td></tr>
<tr class="separator:ab1190a7a5947a5d8441eafcf33fba744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bfcf9116962baafa5ca07d198183189" id="r_a2bfcf9116962baafa5ca07d198183189"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> F&gt; </td></tr>
<tr class="memitem:a2bfcf9116962baafa5ca07d198183189"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler</a> ()</td></tr>
<tr class="separator:a2bfcf9116962baafa5ca07d198183189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9335673a748ff21decfddf837016e2ff" id="r_a9335673a748ff21decfddf837016e2ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9335673a748ff21decfddf837016e2ff">trigger_activation_handler</a> (<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> <a class="el" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)</td></tr>
<tr class="separator:a9335673a748ff21decfddf837016e2ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866a2ded537cb72ff21ae968a7940432" id="r_a866a2ded537cb72ff21ae968a7940432"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a866a2ded537cb72ff21ae968a7940432">set_apply_handler</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> receiver, <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> contract, <a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a> <a class="el" href="structsysio_1_1chain_1_1action.html">action</a>, <a class="el" href="namespacesysio_1_1chain.html#ab143988ae1cae85e839b01eb768804c3">apply_handler</a> v)</td></tr>
<tr class="separator:a866a2ded537cb72ff21ae968a7940432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd800bda7495ddc4ddee1074d5bfcb7" id="r_afcd800bda7495ddc4ddee1074d5bfcb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcd800bda7495ddc4ddee1074d5bfcb7">controller_impl</a> (const <a class="el" href="structsysio_1_1chain_1_1controller_1_1config.html">controller::config</a> &amp;cfg, <a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a> &amp;<a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, <a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;&amp;pfs, const <a class="el" href="structsysio_1_1chain_1_1chain__id__type.html">chain_id_type</a> &amp;<a class="el" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>)</td></tr>
<tr class="separator:afcd800bda7495ddc4ddee1074d5bfcb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6380e434da95a328ff48ccab33df9cb0" id="r_a6380e434da95a328ff48ccab33df9cb0"><td class="memTemplParams" colspan="2">template&lt;typename Signal , typename Arg &gt; </td></tr>
<tr class="memitem:a6380e434da95a328ff48ccab33df9cb0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a> (const Signal &amp;<a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, Arg &amp;&amp;<a class="el" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>)</td></tr>
<tr class="separator:a6380e434da95a328ff48ccab33df9cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cdd409341efde24915eadc5f25a51f9" id="r_a8cdd409341efde24915eadc5f25a51f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> &amp;t)</td></tr>
<tr class="separator:a8cdd409341efde24915eadc5f25a51f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0130874bac31eb408dd6e766084b814" id="r_ad0130874bac31eb408dd6e766084b814"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0130874bac31eb408dd6e766084b814">log_irreversible</a> ()</td></tr>
<tr class="separator:ad0130874bac31eb408dd6e766084b814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d08d7c15ecb706c0bd54e992019c30d" id="r_a8d08d7c15ecb706c0bd54e992019c30d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d08d7c15ecb706c0bd54e992019c30d">initialize_blockchain_state</a> (const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;genesis)</td></tr>
<tr class="separator:a8d08d7c15ecb706c0bd54e992019c30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a9e4b6fe15eb93e63ac98af9f170647" id="r_a9a9e4b6fe15eb93e63ac98af9f170647"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a9e4b6fe15eb93e63ac98af9f170647">replay</a> (std::function&lt; bool()&gt; check_shutdown)</td></tr>
<tr class="separator:a9a9e4b6fe15eb93e63ac98af9f170647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bcf25847599b0f9caa6566364bb0ac" id="r_a18bcf25847599b0f9caa6566364bb0ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18bcf25847599b0f9caa6566364bb0ac">startup</a> (std::function&lt; void()&gt; <a class="el" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>, std::function&lt; bool()&gt; check_shutdown, const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;snapshot)</td></tr>
<tr class="separator:a18bcf25847599b0f9caa6566364bb0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7863870ecde398ac7def54e4814db6bc" id="r_a7863870ecde398ac7def54e4814db6bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7863870ecde398ac7def54e4814db6bc">startup</a> (std::function&lt; void()&gt; <a class="el" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>, std::function&lt; bool()&gt; check_shutdown, const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;genesis)</td></tr>
<tr class="separator:a7863870ecde398ac7def54e4814db6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90da90c73cb32b5e5ec498da5e02753f" id="r_a90da90c73cb32b5e5ec498da5e02753f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90da90c73cb32b5e5ec498da5e02753f">startup</a> (std::function&lt; void()&gt; <a class="el" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>, std::function&lt; bool()&gt; check_shutdown)</td></tr>
<tr class="separator:a90da90c73cb32b5e5ec498da5e02753f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9efbc515682ae5dede91184c36af73f7" id="r_a9efbc515682ae5dede91184c36af73f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9efbc515682ae5dede91184c36af73f7">init</a> (std::function&lt; bool()&gt; check_shutdown)</td></tr>
<tr class="separator:a9efbc515682ae5dede91184c36af73f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af239089382ffa593908091df9d6d0cbd" id="r_af239089382ffa593908091df9d6d0cbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af239089382ffa593908091df9d6d0cbd">~controller_impl</a> ()</td></tr>
<tr class="separator:af239089382ffa593908091df9d6d0cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7dedae4e6f8bcbd20e69d1e5551e378" id="r_ac7dedae4e6f8bcbd20e69d1e5551e378"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7dedae4e6f8bcbd20e69d1e5551e378">add_indices</a> ()</td></tr>
<tr class="separator:ac7dedae4e6f8bcbd20e69d1e5551e378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7505662796ff416f1d43862b0507fb" id="r_ade7505662796ff416f1d43862b0507fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade7505662796ff416f1d43862b0507fb">clear_all_undo</a> ()</td></tr>
<tr class="separator:ade7505662796ff416f1d43862b0507fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7b8a4e7c718c1262fe755aa1c2f148" id="r_afb7b8a4e7c718c1262fe755aa1c2f148"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb7b8a4e7c718c1262fe755aa1c2f148">add_contract_tables_to_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;snapshot) const</td></tr>
<tr class="separator:afb7b8a4e7c718c1262fe755aa1c2f148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a0087a0d30ff324e2b0bff4a3c4e22" id="r_ab2a0087a0d30ff324e2b0bff4a3c4e22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2a0087a0d30ff324e2b0bff4a3c4e22">read_contract_tables_from_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;snapshot)</td></tr>
<tr class="separator:ab2a0087a0d30ff324e2b0bff4a3c4e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8477bef06de9c6d5f1c8a0a8cf1c8795" id="r_a8477bef06de9c6d5f1c8a0a8cf1c8795"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8477bef06de9c6d5f1c8a0a8cf1c8795">add_to_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;snapshot)</td></tr>
<tr class="separator:a8477bef06de9c6d5f1c8a0a8cf1c8795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247c87d241e707c5e482c3d6d8872a7f" id="r_a247c87d241e707c5e482c3d6d8872a7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a247c87d241e707c5e482c3d6d8872a7f">read_from_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;snapshot, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> blog_start, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> blog_end)</td></tr>
<tr class="separator:a247c87d241e707c5e482c3d6d8872a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae80ad4ddd1eff225dc19c50439d82ef6" id="r_ae80ad4ddd1eff225dc19c50439d82ef6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1sha256.html">sha256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae80ad4ddd1eff225dc19c50439d82ef6">calculate_integrity_hash</a> ()</td></tr>
<tr class="separator:ae80ad4ddd1eff225dc19c50439d82ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c30acb1a0557f6c3967c6a154f7b23" id="r_ae2c30acb1a0557f6c3967c6a154f7b23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2c30acb1a0557f6c3967c6a154f7b23">create_native_account</a> (const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;initial_timestamp, <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> <a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;owner, const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;active, bool is_privileged=false)</td></tr>
<tr class="separator:ae2c30acb1a0557f6c3967c6a154f7b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cf826f5503f482715ca2b724279cde" id="r_a01cf826f5503f482715ca2b724279cde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01cf826f5503f482715ca2b724279cde">initialize_database</a> (const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;genesis)</td></tr>
<tr class="separator:a01cf826f5503f482715ca2b724279cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d9e83d4de2f7aec957e54dce4a76f5" id="r_a89d9e83d4de2f7aec957e54dce4a76f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1scoped__exit.html">fc::scoped_exit</a>&lt; std::function&lt; void()&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89d9e83d4de2f7aec957e54dce4a76f5">make_block_restore_point</a> ()</td></tr>
<tr class="separator:a89d9e83d4de2f7aec957e54dce4a76f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c2a2da2eed15c5d55146b0ebd6646b" id="r_aa7c2a2da2eed15c5d55146b0ebd6646b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7c2a2da2eed15c5d55146b0ebd6646b">apply_onerror</a> (const <a class="el" href="classsysio_1_1chain_1_1generated__transaction.html">generated_transaction</a> &amp;gtrx, <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> block_deadline, <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> max_transaction_time, <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> start, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;cpu_time_to_bill_us, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> billed_cpu_time_us, bool explicit_billed_cpu_time=false, bool enforce_whiteblacklist=true)</td></tr>
<tr class="separator:aa7c2a2da2eed15c5d55146b0ebd6646b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dac6da3cb5899f6bcd62b9012c75e43" id="r_a1dac6da3cb5899f6bcd62b9012c75e43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dac6da3cb5899f6bcd62b9012c75e43">remove_scheduled_transaction</a> (const <a class="el" href="classsysio_1_1chain_1_1generated__transaction__object.html">generated_transaction_object</a> &amp;gto)</td></tr>
<tr class="separator:a1dac6da3cb5899f6bcd62b9012c75e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d5a921dd01458d1464f63b0f0121c6" id="r_ad0d5a921dd01458d1464f63b0f0121c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0d5a921dd01458d1464f63b0f0121c6">failure_is_subjective</a> (const <a class="el" href="classfc_1_1exception.html">fc::exception</a> &amp;e) const</td></tr>
<tr class="separator:ad0d5a921dd01458d1464f63b0f0121c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9468e19953b5bb9ace497c98ee4ecc1" id="r_ab9468e19953b5bb9ace497c98ee4ecc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9468e19953b5bb9ace497c98ee4ecc1">scheduled_failure_is_subjective</a> (const <a class="el" href="classfc_1_1exception.html">fc::exception</a> &amp;e) const</td></tr>
<tr class="separator:ab9468e19953b5bb9ace497c98ee4ecc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148db3e15c5b5a5cd3fd6b42799d1152" id="r_a148db3e15c5b5a5cd3fd6b42799d1152"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a148db3e15c5b5a5cd3fd6b42799d1152">push_scheduled_transaction</a> (const <a class="el" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">transaction_id_type</a> &amp;trxid, <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> block_deadline, <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> max_transaction_time, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> billed_cpu_time_us, bool explicit_billed_cpu_time=false)</td></tr>
<tr class="separator:a148db3e15c5b5a5cd3fd6b42799d1152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b89d301b09c599969412d7db819bd3" id="r_a43b89d301b09c599969412d7db819bd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43b89d301b09c599969412d7db819bd3">push_scheduled_transaction</a> (const <a class="el" href="classsysio_1_1chain_1_1generated__transaction__object.html">generated_transaction_object</a> &amp;gto, <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> block_deadline, <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> max_transaction_time, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> billed_cpu_time_us, bool explicit_billed_cpu_time=false)</td></tr>
<tr class="separator:a43b89d301b09c599969412d7db819bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2b1bfeee1e7c1c0237f12776e75dd7" id="r_aae2b1bfeee1e7c1c0237f12776e75dd7"><td class="memTemplParams" colspan="2">template&lt;typename <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; </td></tr>
<tr class="memitem:aae2b1bfeee1e7c1c0237f12776e75dd7"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="structsysio_1_1chain_1_1transaction__receipt.html">transaction_receipt</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a> (const <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &amp;trx, <a class="el" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55">transaction_receipt_header::status_enum</a> status, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> cpu_usage_us, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> net_usage)</td></tr>
<tr class="memdesc:aae2b1bfeee1e7c1c0237f12776e75dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">push_scheduled_transaction  <br /></td></tr>
<tr class="separator:aae2b1bfeee1e7c1c0237f12776e75dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af381eb0fcede18ab0ae4cddaaa9df6cd" id="r_af381eb0fcede18ab0ae4cddaaa9df6cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af381eb0fcede18ab0ae4cddaaa9df6cd">push_transaction</a> (const <a class="el" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> &amp;trx, <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> block_deadline, <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> max_transaction_time, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> billed_cpu_time_us, bool explicit_billed_cpu_time, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> subjective_cpu_bill_us)</td></tr>
<tr class="separator:af381eb0fcede18ab0ae4cddaaa9df6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbf7da25185959b9a8ea1bf7a47a566" id="r_a9dbf7da25185959b9a8ea1bf7a47a566"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9dbf7da25185959b9a8ea1bf7a47a566">start_block</a> (<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> when, <a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> confirm_block_count, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;new_protocol_feature_activations, <a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a> <a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, const std::optional&lt; <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &gt; &amp;producer_block_id, const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;deadline)</td></tr>
<tr class="memdesc:a9dbf7da25185959b9a8ea1bf7a47a566"><td class="mdescLeft">&#160;</td><td class="mdescRight">push_transaction  <br /></td></tr>
<tr class="separator:a9dbf7da25185959b9a8ea1bf7a47a566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb5bb7961c3ae6496caca42b84ab192" id="r_a5eb5bb7961c3ae6496caca42b84ab192"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eb5bb7961c3ae6496caca42b84ab192">finalize_block</a> ()</td></tr>
<tr class="memdesc:a5eb5bb7961c3ae6496caca42b84ab192"><td class="mdescLeft">&#160;</td><td class="mdescRight">start_block  <br /></td></tr>
<tr class="separator:a5eb5bb7961c3ae6496caca42b84ab192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde6bacce9f720ad552d0e342c52d3b4" id="r_abde6bacce9f720ad552d0e342c52d3b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abde6bacce9f720ad552d0e342c52d3b4">commit_block</a> (bool add_to_fork_db)</td></tr>
<tr class="memdesc:abde6bacce9f720ad552d0e342c52d3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">finalize_block  <br /></td></tr>
<tr class="separator:abde6bacce9f720ad552d0e342c52d3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66494cb9657c0157ee468c21b545f60" id="r_ae66494cb9657c0157ee468c21b545f60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66494cb9657c0157ee468c21b545f60">check_protocol_features</a> (<a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> timestamp, const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;currently_activated_protocol_features, const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;new_protocol_features)</td></tr>
<tr class="separator:ae66494cb9657c0157ee468c21b545f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af932f3160706510eaf30e2b76f386973" id="r_af932f3160706510eaf30e2b76f386973"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af932f3160706510eaf30e2b76f386973">report_block_header_diff</a> (const <a class="el" href="structsysio_1_1chain_1_1block__header.html">block_header</a> &amp;b, const <a class="el" href="structsysio_1_1chain_1_1block__header.html">block_header</a> &amp;ab)</td></tr>
<tr class="separator:af932f3160706510eaf30e2b76f386973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf795677a1a49a35ac1a819a1a157929" id="r_aaf795677a1a49a35ac1a819a1a157929"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;bsp, <a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a> <a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;trx_lookup)</td></tr>
<tr class="separator:aaf795677a1a49a35ac1a819a1a157929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eee00b79604bc3dfa0a93f397a2d4d8" id="r_a2eee00b79604bc3dfa0a93f397a2d4d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2eee00b79604bc3dfa0a93f397a2d4d8">create_block_state_i</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;b, const <a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> &amp;prev)</td></tr>
<tr class="memdesc:a2eee00b79604bc3dfa0a93f397a2d4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">apply_block  <br /></td></tr>
<tr class="separator:a2eee00b79604bc3dfa0a93f397a2d4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1df7b3285411e4e9ae6781353ad4d80" id="r_af1df7b3285411e4e9ae6781353ad4d80"><td class="memItemLeft" align="right" valign="top">std::future&lt; <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1df7b3285411e4e9ae6781353ad4d80">create_block_state_future</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;b)</td></tr>
<tr class="separator:af1df7b3285411e4e9ae6781353ad4d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c91b7cff820c07efed35a7b3912d68" id="r_ad5c91b7cff820c07efed35a7b3912d68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5c91b7cff820c07efed35a7b3912d68">create_block_state</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;b)</td></tr>
<tr class="separator:ad5c91b7cff820c07efed35a7b3912d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d3794f1bd0ff1bd5837d8ead15d289" id="r_ac2d3794f1bd0ff1bd5837d8ead15d289"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2d3794f1bd0ff1bd5837d8ead15d289">push_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;bsp, const <a class="el" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a> &amp;forked_branch_cb, const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;trx_lookup)</td></tr>
<tr class="separator:ac2d3794f1bd0ff1bd5837d8ead15d289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe4194f0202db6c18bc17572b2adaa2" id="r_a2fe4194f0202db6c18bc17572b2adaa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fe4194f0202db6c18bc17572b2adaa2">replay_push_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;b, <a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a> <a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>)</td></tr>
<tr class="separator:a2fe4194f0202db6c18bc17572b2adaa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15d89f9220ba97aa5c521e643746587" id="r_af15d89f9220ba97aa5c521e643746587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af15d89f9220ba97aa5c521e643746587">maybe_switch_forks</a> (const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;new_head, <a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a> <a class="el" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, const <a class="el" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a> &amp;forked_branch_cb, const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;trx_lookup)</td></tr>
<tr class="separator:af15d89f9220ba97aa5c521e643746587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed82882c38a7b9a2ab8ccf26b7d68126" id="r_aed82882c38a7b9a2ab8ccf26b7d68126"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed82882c38a7b9a2ab8ccf26b7d68126">abort_block</a> ()</td></tr>
<tr class="memdesc:aed82882c38a7b9a2ab8ccf26b7d68126"><td class="mdescLeft">&#160;</td><td class="mdescRight">push_block  <br /></td></tr>
<tr class="separator:aed82882c38a7b9a2ab8ccf26b7d68126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d180992926a229a5e3573ea09d762f" id="r_a69d180992926a229a5e3573ea09d762f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69d180992926a229a5e3573ea09d762f">update_producers_authority</a> ()</td></tr>
<tr class="separator:a69d180992926a229a5e3573ea09d762f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78427c6c856e3f2398f434c7d9366a84" id="r_a78427c6c856e3f2398f434c7d9366a84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78427c6c856e3f2398f434c7d9366a84">create_block_summary</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>)</td></tr>
<tr class="separator:a78427c6c856e3f2398f434c7d9366a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338cb13e3b27ade2ee719b5421edcf7e" id="r_a338cb13e3b27ade2ee719b5421edcf7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a338cb13e3b27ade2ee719b5421edcf7e">clear_expired_input_transactions</a> (const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;deadline)</td></tr>
<tr class="separator:a338cb13e3b27ade2ee719b5421edcf7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea41b3020ee2994f7a15980fcbf9b735" id="r_aea41b3020ee2994f7a15980fcbf9b735"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea41b3020ee2994f7a15980fcbf9b735">sender_avoids_whitelist_blacklist_enforcement</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> sender) const</td></tr>
<tr class="separator:aea41b3020ee2994f7a15980fcbf9b735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79d2ab18d201291e9fbd0b38044e1f1" id="r_ac79d2ab18d201291e9fbd0b38044e1f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac79d2ab18d201291e9fbd0b38044e1f1">check_actor_list</a> (const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;actors) const</td></tr>
<tr class="separator:ac79d2ab18d201291e9fbd0b38044e1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16289260be252f6ebbd80763f657fb38" id="r_a16289260be252f6ebbd80763f657fb38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16289260be252f6ebbd80763f657fb38">check_contract_list</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> code) const</td></tr>
<tr class="separator:a16289260be252f6ebbd80763f657fb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9373c6d02a511984f20486e90585f5" id="r_aff9373c6d02a511984f20486e90585f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff9373c6d02a511984f20486e90585f5">check_action_list</a> (<a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> code, <a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a> <a class="el" href="structsysio_1_1chain_1_1action.html">action</a>) const</td></tr>
<tr class="separator:aff9373c6d02a511984f20486e90585f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83ca3895f901f87cbf1060493698f55" id="r_ad83ca3895f901f87cbf1060493698f55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad83ca3895f901f87cbf1060493698f55">check_key_list</a> (const <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &amp;key) const</td></tr>
<tr class="separator:ad83ca3895f901f87cbf1060493698f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2b256d3a667ffeed8f7fd03e36c902" id="r_a3f2b256d3a667ffeed8f7fd03e36c902"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1signed__transaction.html">signed_transaction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f2b256d3a667ffeed8f7fd03e36c902">get_on_block_transaction</a> ()</td></tr>
<tr class="separator:a3f2b256d3a667ffeed8f7fd03e36c902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b67831f3be3a668c170723427236954" id="r_a1b67831f3be3a668c170723427236954"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a> () const</td></tr>
<tr class="separator:a1b67831f3be3a668c170723427236954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8618218d7168450c383cde9860d57706" id="r_a8618218d7168450c383cde9860d57706"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8618218d7168450c383cde9860d57706">earliest_available_block_num</a> () const</td></tr>
<tr class="separator:a8618218d7168450c383cde9860d57706"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:addaaa85d266d34e5f247ec9214354139" id="r_addaaa85d266d34e5f247ec9214354139"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addaaa85d266d34e5f247ec9214354139">validate_db_version</a> (const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;<a class="el" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>)</td></tr>
<tr class="separator:addaaa85d266d34e5f247ec9214354139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6353a2e6b51e1b83231f41a8bcc66c47" id="r_a6353a2e6b51e1b83231f41a8bcc66c47"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6353a2e6b51e1b83231f41a8bcc66c47">extract_legacy_genesis_state</a> (<a class="el" href="classsysio_1_1chain_1_1snapshot__reader.html">snapshot_reader</a> &amp;snapshot, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> version)</td></tr>
<tr class="separator:a6353a2e6b51e1b83231f41a8bcc66c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae4fff15a76a1c3089fdf0f3353a17f" id="r_a9ae4fff15a76a1c3089fdf0f3353a17f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ae4fff15a76a1c3089fdf0f3353a17f">calculate_trx_merkle</a> (const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="structsysio_1_1chain_1_1transaction__receipt.html">transaction_receipt</a> &gt; &amp;trxs)</td></tr>
<tr class="separator:a9ae4fff15a76a1c3089fdf0f3353a17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a342fd89592616d7ca931ff64fe75ead7" id="r_a342fd89592616d7ca931ff64fe75ead7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1controller__impl_1_1reset__new__handler.html">reset_new_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a342fd89592616d7ca931ff64fe75ead7">rnh</a></td></tr>
<tr class="separator:a342fd89592616d7ca931ff64fe75ead7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64851fb4e041dc49ab22cf2ba335720d" id="r_a64851fb4e041dc49ab22cf2ba335720d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a></td></tr>
<tr class="separator:a64851fb4e041dc49ab22cf2ba335720d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8054e1b3da405a7765275b76d6628928" id="r_a8054e1b3da405a7765275b76d6628928"><td class="memItemLeft" align="right" valign="top">std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a></td></tr>
<tr class="separator:a8054e1b3da405a7765275b76d6628928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3e5eaaf816a6fa2f790cd2ef6dbdce" id="r_a1c3e5eaaf816a6fa2f790cd2ef6dbdce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchainbase_1_1database.html">chainbase::database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a></td></tr>
<tr class="separator:a1c3e5eaaf816a6fa2f790cd2ef6dbdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958ab2b868a2a7ec9644199a80e0ad9e" id="r_a958ab2b868a2a7ec9644199a80e0ad9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1block__log.html">block_log</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a></td></tr>
<tr class="separator:a958ab2b868a2a7ec9644199a80e0ad9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e355919fd924a05344ef2b59f7dd587" id="r_a0e355919fd924a05344ef2b59f7dd587"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1pending__state.html">pending_state</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a></td></tr>
<tr class="separator:a0e355919fd924a05344ef2b59f7dd587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a0f369b58e6597b62569ff2853ee90" id="r_a56a0f369b58e6597b62569ff2853ee90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56a0f369b58e6597b62569ff2853ee90">head</a></td></tr>
<tr class="separator:a56a0f369b58e6597b62569ff2853ee90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f72e6389799b7921aa98f30534f0d9" id="r_af7f72e6389799b7921aa98f30534f0d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1fork__database.html">fork_database</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a></td></tr>
<tr class="separator:af7f72e6389799b7921aa98f30534f0d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94aa57dba3a7504a8047a11d37c3b27" id="r_af94aa57dba3a7504a8047a11d37c3b27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1wasm__interface.html">wasm_interface</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af94aa57dba3a7504a8047a11d37c3b27">wasmif</a></td></tr>
<tr class="separator:af94aa57dba3a7504a8047a11d37c3b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a037a61ce8e07b39d2d38b0f54f8f7" id="r_a83a037a61ce8e07b39d2d38b0f54f8f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html">resource_limits_manager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a></td></tr>
<tr class="separator:a83a037a61ce8e07b39d2d38b0f54f8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90d295ac18fa98f2520e4eade5b3773" id="r_ab90d295ac18fa98f2520e4eade5b3773"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1authorization__manager.html">authorization_manager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a></td></tr>
<tr class="separator:ab90d295ac18fa98f2520e4eade5b3773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a100a7be5e562ac3966924b0c9ccb6" id="r_a24a100a7be5e562ac3966924b0c9ccb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1protocol__feature__manager.html">protocol_feature_manager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a></td></tr>
<tr class="separator:a24a100a7be5e562ac3966924b0c9ccb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048ac8e4d4436902a1888df13575b252" id="r_a048ac8e4d4436902a1888df13575b252"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1controller_1_1config.html">controller::config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a048ac8e4d4436902a1888df13575b252">conf</a></td></tr>
<tr class="separator:a048ac8e4d4436902a1888df13575b252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7115cf9c5daa3abca8e0467dce5a5a" id="r_a2f7115cf9c5daa3abca8e0467dce5a5a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structsysio_1_1chain_1_1chain__id__type.html">chain_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a></td></tr>
<tr class="separator:a2f7115cf9c5daa3abca8e0467dce5a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd1eefa999ba89597c3686e0acc463e" id="r_a3bd1eefa999ba89597c3686e0acc463e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bd1eefa999ba89597c3686e0acc463e">replaying</a> = false</td></tr>
<tr class="separator:a3bd1eefa999ba89597c3686e0acc463e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a18397f763ebe4880b6ccd970bedf85" id="r_a4a18397f763ebe4880b6ccd970bedf85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">db_read_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> = <a class="el" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">db_read_mode::SPECULATIVE</a></td></tr>
<tr class="separator:a4a18397f763ebe4880b6ccd970bedf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02dbb970f5b16869e123b77eb090e9b" id="r_ab02dbb970f5b16869e123b77eb090e9b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a> = false</td></tr>
<tr class="memdesc:ab02dbb970f5b16869e123b77eb090e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">if true, checks that are normally skipped on replay (e.g. auth checks) cannot be skipped  <br /></td></tr>
<tr class="separator:ab02dbb970f5b16869e123b77eb090e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab952243b3b18aaec46cce82670687075" id="r_ab952243b3b18aaec46cce82670687075"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab952243b3b18aaec46cce82670687075">subjective_cpu_leeway</a></td></tr>
<tr class="separator:ab952243b3b18aaec46cce82670687075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f88c130012bd7de2401b5b80fd3129" id="r_af3f88c130012bd7de2401b5b80fd3129"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3f88c130012bd7de2401b5b80fd3129">trusted_producer_light_validation</a> = false</td></tr>
<tr class="separator:af3f88c130012bd7de2401b5b80fd3129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8c6fe322a239e2f910f26a385786f0" id="r_afe8c6fe322a239e2f910f26a385786f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe8c6fe322a239e2f910f26a385786f0">snapshot_head_block</a> = 0</td></tr>
<tr class="separator:afe8c6fe322a239e2f910f26a385786f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab76d9091b7e62fb25a0fdd63c8210af9" id="r_ab76d9091b7e62fb25a0fdd63c8210af9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1named__thread__pool.html">named_thread_pool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab76d9091b7e62fb25a0fdd63c8210af9">thread_pool</a></td></tr>
<tr class="separator:ab76d9091b7e62fb25a0fdd63c8210af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c19aea29c2fbb28ca7120d591ba088" id="r_ad3c19aea29c2fbb28ca7120d591ba088"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1chain_1_1platform__timer.html">platform_timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3c19aea29c2fbb28ca7120d591ba088">timer</a></td></tr>
<tr class="separator:ad3c19aea29c2fbb28ca7120d591ba088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f73eb03cb9df364b792166a70f78320" id="r_a4f73eb03cb9df364b792166a70f78320"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f73eb03cb9df364b792166a70f78320">deep_mind_logger</a> = nullptr</td></tr>
<tr class="separator:a4f73eb03cb9df364b792166a70f78320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d7a4050a78ec74aaf524a46bbcdf54" id="r_a67d7a4050a78ec74aaf524a46bbcdf54"><td class="memItemLeft" align="right" valign="top">map&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>, map&lt; <a class="el" href="#a80cb28cfbb823c8688106b0229d0169c">handler_key</a>, <a class="el" href="namespacesysio_1_1chain.html#ab143988ae1cae85e839b01eb768804c3">apply_handler</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67d7a4050a78ec74aaf524a46bbcdf54">apply_handlers</a></td></tr>
<tr class="separator:a67d7a4050a78ec74aaf524a46bbcdf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a42879c69a343b4405b035e7cff29a" id="r_ac9a42879c69a343b4405b035e7cff29a"><td class="memItemLeft" align="right" valign="top">unordered_map&lt; <a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a>, std::function&lt; void(<a class="el" href="structsysio_1_1chain_1_1controller__impl.html">controller_impl</a> &amp;)&gt;, <a class="el" href="structsysio_1_1chain_1_1enum__hash.html">enum_hash</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9a42879c69a343b4405b035e7cff29a">protocol_feature_activation_handlers</a></td></tr>
<tr class="separator:ac9a42879c69a343b4405b035e7cff29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00220">220</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a80cb28cfbb823c8688106b0229d0169c" name="a80cb28cfbb823c8688106b0229d0169c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80cb28cfbb823c8688106b0229d0169c">&#9670;&#160;</a></span>handler_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt;<a class="el" href="namespacesysio_1_1chain.html#a58379f7b40727cd3645e0f5a9b24e653">scope_name</a>,<a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a>&gt; <a class="el" href="#a80cb28cfbb823c8688106b0229d0169c">sysio::chain::controller_impl::handler_key</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00255">255</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afcd800bda7495ddc4ddee1074d5bfcb7" name="afcd800bda7495ddc4ddee1074d5bfcb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd800bda7495ddc4ddee1074d5bfcb7">&#9670;&#160;</a></span>controller_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::controller_impl::controller_impl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1controller_1_1config.html">controller::config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1protocol__feature__set.html">protocol_feature_set</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>pfs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1chain__id__type.html">chain_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>chain_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00297">297</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>   :<a class="code hl_variable" href="#a342fd89592616d7ca931ff64fe75ead7">rnh</a>(),</div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>),</div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>( cfg.state_dir,</div>
<div class="line"><span class="lineno">  301</span>        cfg.read_only ? <a class="code hl_enumvalue" href="classchainbase_1_1database.html#a3d0148ef1d3bf633f3d0bfab420250eea51c3754046d280c74c384e0e74a45b47">database::read_only</a> : <a class="code hl_enumvalue" href="classchainbase_1_1database.html#a3d0148ef1d3bf633f3d0bfab420250eea3ed40e30ae731cdc45c9dc5b782d88f4">database::read_write</a>,</div>
<div class="line"><span class="lineno">  302</span>        cfg.state_size, <span class="keyword">false</span>, cfg.db_map_mode ),</div>
<div class="line"><span class="lineno">  303</span>    <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>( cfg.blocks_dir, cfg.prune_config ),</div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>( cfg.blocks_dir / config::reversible_blocks_dir_name ),</div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_variable" href="#af94aa57dba3a7504a8047a11d37c3b27">wasmif</a>( cfg.wasm_runtime, cfg.eosvmoc_tierup, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, cfg.state_dir, cfg.eosvmoc_config, !cfg.profile_accounts.empty() ),</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [&amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>]() { <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.get_deep_mind_logger(); }),</div>
<div class="line"><span class="lineno">  307</span>    <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a> ),</div>
<div class="line"><span class="lineno">  308</span>    <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>( std::move(pfs), [&amp;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>]() { <span class="keywordflow">return</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.get_deep_mind_logger(); } ),</div>
<div class="line"><span class="lineno">  309</span>    <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>( cfg ),</div>
<div class="line"><span class="lineno">  310</span>    <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>( <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a> ),</div>
<div class="line"><span class="lineno">  311</span>    <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a>( cfg.read_mode ),</div>
<div class="line"><span class="lineno">  312</span>    <a class="code hl_variable" href="#ab76d9091b7e62fb25a0fdd63c8210af9">thread_pool</a>( <span class="stringliteral">&quot;chain&quot;</span>, cfg.thread_pool_size )</div>
<div class="line"><span class="lineno">  313</span>   {</div>
<div class="line"><span class="lineno">  314</span>      <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a378b089fe1ff7ac016ee51058ff52cb2">open</a>( [<span class="keyword">this</span>]( <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> timestamp,</div>
<div class="line"><span class="lineno">  315</span>                            <span class="keyword">const</span> flat_set&lt;digest_type&gt;&amp; cur_features,</div>
<div class="line"><span class="lineno">  316</span>                            <span class="keyword">const</span> vector&lt;digest_type&gt;&amp; new_features )</div>
<div class="line"><span class="lineno">  317</span>                           { <a class="code hl_function" href="#ae66494cb9657c0157ee468c21b545f60">check_protocol_features</a>( timestamp, cur_features, new_features ); }</div>
<div class="line"><span class="lineno">  318</span>      );</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::preactivate_feature&gt;</a>();</div>
<div class="line"><span class="lineno">  321</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::replace_deferred&gt;</a>();</div>
<div class="line"><span class="lineno">  322</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::get_sender&gt;</a>();</div>
<div class="line"><span class="lineno">  323</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::webauthn_key&gt;</a>();</div>
<div class="line"><span class="lineno">  324</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::wtmsig_block_signatures&gt;</a>();</div>
<div class="line"><span class="lineno">  325</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::action_return_value&gt;</a>();</div>
<div class="line"><span class="lineno">  326</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::configurable_wasm_limits&gt;</a>();</div>
<div class="line"><span class="lineno">  327</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::blockchain_parameters&gt;</a>();</div>
<div class="line"><span class="lineno">  328</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::get_code_hash&gt;</a>();</div>
<div class="line"><span class="lineno">  329</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::get_block_num&gt;</a>();</div>
<div class="line"><span class="lineno">  330</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::crypto_primitives&gt;</a>();</div>
<div class="line"><span class="lineno">  331</span>      <a class="code hl_function" href="#a2bfcf9116962baafa5ca07d198183189">set_activation_handler&lt;builtin_protocol_feature_t::em_key&gt;</a>();</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>      <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a27266ebf16b6dd19a860635f7d1f9930">irreversible_block</a>.connect([<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a>&amp; bsp) {</div>
<div class="line"><span class="lineno">  334</span>         <a class="code hl_variable" href="#af94aa57dba3a7504a8047a11d37c3b27">wasmif</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1wasm__interface.html#ab8938ee3dc1cd9964f4d13671f0058bd">current_lib</a>(bsp-&gt;block_num);</div>
<div class="line"><span class="lineno">  335</span>      });</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span><span class="preprocessor">#define SET_APP_HANDLER( receiver, contract, action) \</span></div>
<div class="line"><span class="lineno">  339</span><span class="preprocessor">   set_apply_handler( account_name(#receiver), account_name(#contract), action_name(#action), \</span></div>
<div class="line"><span class="lineno">  340</span><span class="preprocessor">                      &amp;BOOST_PP_CAT(apply_, BOOST_PP_CAT(contract, BOOST_PP_CAT(_,action) ) ) )</span></div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, newaccount );</div>
<div class="line"><span class="lineno">  343</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, setcode );</div>
<div class="line"><span class="lineno">  344</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, setabi );</div>
<div class="line"><span class="lineno">  345</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, updateauth );</div>
<div class="line"><span class="lineno">  346</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, deleteauth );</div>
<div class="line"><span class="lineno">  347</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, linkauth );</div>
<div class="line"><span class="lineno">  348</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, unlinkauth );</div>
<div class="line"><span class="lineno">  349</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">   SET_APP_HANDLER( sysio, sysio, postrecovery );</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">   SET_APP_HANDLER( sysio, sysio, passrecovery );</span></div>
<div class="line"><span class="lineno">  352</span><span class="comment">   SET_APP_HANDLER( sysio, sysio, vetorecovery );</span></div>
<div class="line"><span class="lineno">  353</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>   <a class="code hl_define" href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a>( <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, <a class="code hl_namespace" href="namespacesysio.html">sysio</a>, canceldelay );</div>
<div class="line"><span class="lineno">  356</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a3d0148ef1d3bf633f3d0bfab420250eea3ed40e30ae731cdc45c9dc5b782d88f4"><div class="ttname"><a href="classchainbase_1_1database.html#a3d0148ef1d3bf633f3d0bfab420250eea3ed40e30ae731cdc45c9dc5b782d88f4">chainbase::database::read_write</a></div><div class="ttdeci">@ read_write</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00258">chainbase.hpp:257</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_a3d0148ef1d3bf633f3d0bfab420250eea51c3754046d280c74c384e0e74a45b47"><div class="ttname"><a href="classchainbase_1_1database.html#a3d0148ef1d3bf633f3d0bfab420250eea51c3754046d280c74c384e0e74a45b47">chainbase::database::read_only</a></div><div class="ttdeci">@ read_only</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00256">chainbase.hpp:256</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a27266ebf16b6dd19a860635f7d1f9930"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a27266ebf16b6dd19a860635f7d1f9930">sysio::chain::controller::irreversible_block</a></div><div class="ttdeci">signal&lt; void(const block_state_ptr &amp;)&gt; irreversible_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00330">controller.hpp:330</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a378b089fe1ff7ac016ee51058ff52cb2"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a378b089fe1ff7ac016ee51058ff52cb2">sysio::chain::fork_database::open</a></div><div class="ttdeci">void open(const std::function&lt; void(block_timestamp_type, const flat_set&lt; digest_type &gt; &amp;, const vector&lt; digest_type &gt; &amp;)&gt; &amp;validator)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00105">fork_database.cpp:105</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1wasm__interface_html_ab8938ee3dc1cd9964f4d13671f0058bd"><div class="ttname"><a href="classsysio_1_1chain_1_1wasm__interface.html#ab8938ee3dc1cd9964f4d13671f0058bd">sysio::chain::wasm_interface::current_lib</a></div><div class="ttdeci">void current_lib(const uint32_t lib)</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface_8cpp_source.html#l00077">wasm_interface.cpp:77</a></div></div>
<div class="ttc" id="acontroller_8cpp_html_a903c4d2c725a565b423b8c7978ba252c"><div class="ttname"><a href="controller_8cpp.html#a903c4d2c725a565b423b8c7978ba252c">SET_APP_HANDLER</a></div><div class="ttdeci">#define SET_APP_HANDLER(receiver, contract, action)</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a11965fc424809ea1802175f8b36ae4e5"><div class="ttname"><a href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">sysio::chain::block_timestamp_type</a></div><div class="ttdeci">block_timestamp&lt; config::block_interval_ms, config::block_timestamp_epoch &gt; block_timestamp_type</div><div class="ttdef"><b>Definition</b> <a href="block__timestamp_8hpp_source.html#l00075">block_timestamp.hpp:75</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ab9b14f4554cc4a0da2c361e9757b1662"><div class="ttname"><a href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">sysio::chain::block_state_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; block_state &gt; block_state_ptr</div><div class="ttdef"><b>Definition</b> <a href="block__state_8hpp_source.html#l00067">block_state.hpp:67</a></div></div>
<div class="ttc" id="anamespacesysio_html"><div class="ttname"><a href="namespacesysio.html">sysio</a></div><div class="ttdef"><b>Definition</b> <a href="abi__serializer_8cpp_source.html#l00008">abi_serializer.cpp:8</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a048ac8e4d4436902a1888df13575b252"><div class="ttname"><a href="#a048ac8e4d4436902a1888df13575b252">sysio::chain::controller_impl::conf</a></div><div class="ttdeci">controller::config conf</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00240">controller.cpp:240</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a1c3e5eaaf816a6fa2f790cd2ef6dbdce"><div class="ttname"><a href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">sysio::chain::controller_impl::db</a></div><div class="ttdeci">chainbase::database db</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00231">controller.cpp:231</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a24a100a7be5e562ac3966924b0c9ccb6"><div class="ttname"><a href="#a24a100a7be5e562ac3966924b0c9ccb6">sysio::chain::controller_impl::protocol_features</a></div><div class="ttdeci">protocol_feature_manager protocol_features</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00239">controller.cpp:239</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a2bfcf9116962baafa5ca07d198183189"><div class="ttname"><a href="#a2bfcf9116962baafa5ca07d198183189">sysio::chain::controller_impl::set_activation_handler</a></div><div class="ttdeci">void set_activation_handler()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00282">controller.cpp:282</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a2f7115cf9c5daa3abca8e0467dce5a5a"><div class="ttname"><a href="#a2f7115cf9c5daa3abca8e0467dce5a5a">sysio::chain::controller_impl::chain_id</a></div><div class="ttdeci">const chain_id_type chain_id</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00241">controller.cpp:241</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a342fd89592616d7ca931ff64fe75ead7"><div class="ttname"><a href="#a342fd89592616d7ca931ff64fe75ead7">sysio::chain::controller_impl::rnh</a></div><div class="ttdeci">reset_new_handler rnh</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00228">controller.cpp:228</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a4a18397f763ebe4880b6ccd970bedf85"><div class="ttname"><a href="#a4a18397f763ebe4880b6ccd970bedf85">sysio::chain::controller_impl::read_mode</a></div><div class="ttdeci">db_read_mode read_mode</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00243">controller.cpp:243</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a64851fb4e041dc49ab22cf2ba335720d"><div class="ttname"><a href="#a64851fb4e041dc49ab22cf2ba335720d">sysio::chain::controller_impl::self</a></div><div class="ttdeci">controller &amp; self</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00229">controller.cpp:229</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a83a037a61ce8e07b39d2d38b0f54f8f7"><div class="ttname"><a href="#a83a037a61ce8e07b39d2d38b0f54f8f7">sysio::chain::controller_impl::resource_limits</a></div><div class="ttdeci">resource_limits_manager resource_limits</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00237">controller.cpp:237</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a958ab2b868a2a7ec9644199a80e0ad9e"><div class="ttname"><a href="#a958ab2b868a2a7ec9644199a80e0ad9e">sysio::chain::controller_impl::blog</a></div><div class="ttdeci">block_log blog</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00232">controller.cpp:232</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab76d9091b7e62fb25a0fdd63c8210af9"><div class="ttname"><a href="#ab76d9091b7e62fb25a0fdd63c8210af9">sysio::chain::controller_impl::thread_pool</a></div><div class="ttdeci">named_thread_pool thread_pool</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00248">controller.cpp:248</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab90d295ac18fa98f2520e4eade5b3773"><div class="ttname"><a href="#ab90d295ac18fa98f2520e4eade5b3773">sysio::chain::controller_impl::authorization</a></div><div class="ttdeci">authorization_manager authorization</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00238">controller.cpp:238</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ae66494cb9657c0157ee468c21b545f60"><div class="ttname"><a href="#ae66494cb9657c0157ee468c21b545f60">sysio::chain::controller_impl::check_protocol_features</a></div><div class="ttdeci">void check_protocol_features(block_timestamp_type timestamp, const flat_set&lt; digest_type &gt; &amp;currently_activated_protocol_features, const vector&lt; digest_type &gt; &amp;new_protocol_features)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01875">controller.cpp:1875</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af7f72e6389799b7921aa98f30534f0d9"><div class="ttname"><a href="#af7f72e6389799b7921aa98f30534f0d9">sysio::chain::controller_impl::fork_db</a></div><div class="ttdeci">fork_database fork_db</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00235">controller.cpp:235</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af94aa57dba3a7504a8047a11d37c3b27"><div class="ttname"><a href="#af94aa57dba3a7504a8047a11d37c3b27">sysio::chain::controller_impl::wasmif</a></div><div class="ttdeci">wasm_interface wasmif</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00236">controller.cpp:236</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af239089382ffa593908091df9d6d0cbd" name="af239089382ffa593908091df9d6d0cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af239089382ffa593908091df9d6d0cbd">&#9670;&#160;</a></span>~controller_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::controller_impl::~controller_impl </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00724">724</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  724</span>                      {</div>
<div class="line"><span class="lineno">  725</span>      <a class="code hl_variable" href="#ab76d9091b7e62fb25a0fdd63c8210af9">thread_pool</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1named__thread__pool.html#a2cf9d662cfa57de6d29cd900f8375208">stop</a>();</div>
<div class="line"><span class="lineno">  726</span>      <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>.reset();</div>
<div class="line"><span class="lineno">  727</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1named__thread__pool_html_a2cf9d662cfa57de6d29cd900f8375208"><div class="ttname"><a href="classsysio_1_1chain_1_1named__thread__pool.html#a2cf9d662cfa57de6d29cd900f8375208">sysio::chain::named_thread_pool::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdef"><b>Definition</b> <a href="thread__utils_8cpp_source.html#l00028">thread_utils.cpp:28</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a0e355919fd924a05344ef2b59f7dd587"><div class="ttname"><a href="#a0e355919fd924a05344ef2b59f7dd587">sysio::chain::controller_impl::pending</a></div><div class="ttdeci">std::optional&lt; pending_state &gt; pending</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00233">controller.cpp:233</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af239089382ffa593908091df9d6d0cbd_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af239089382ffa593908091df9d6d0cbd_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af239089382ffa593908091df9d6d0cbd_cgraph" id="astructsysio_1_1chain_1_1controller__impl_af239089382ffa593908091df9d6d0cbd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,158,46"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#a2cf9d662cfa57de6d29cd900f8375208" title=" " alt="" coords="206,5,344,46"/>
<area shape="poly" title=" " alt="" coords="158,23,191,23,191,28,158,28"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aed82882c38a7b9a2ab8ccf26b7d68126" name="aed82882c38a7b9a2ab8ccf26b7d68126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed82882c38a7b9a2ab8ccf26b7d68126">&#9670;&#160;</a></span>abort_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> &gt; sysio::chain::controller_impl::abort_block </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02315">2315</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2315</span>                                                  {</div>
<div class="line"><span class="lineno"> 2316</span>      vector&lt;transaction_metadata_ptr&gt; applied_trxs;</div>
<div class="line"><span class="lineno"> 2317</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a> ) {</div>
<div class="line"><span class="lineno"> 2318</span>         applied_trxs = <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;extract_trx_metas();</div>
<div class="line"><span class="lineno"> 2319</span>         <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>.reset();</div>
<div class="line"><span class="lineno"> 2320</span>         <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c">popped_blocks_to</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num );</div>
<div class="line"><span class="lineno"> 2321</span>      }</div>
<div class="line"><span class="lineno"> 2322</span>      <span class="keywordflow">return</span> applied_trxs;</div>
<div class="line"><span class="lineno"> 2323</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__manager_html_a5b8ed9cc5cb5822d6cb645a3b7a5f98c"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c">sysio::chain::protocol_feature_manager::popped_blocks_to</a></div><div class="ttdeci">void popped_blocks_to(uint32_t block_num)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00773">protocol_feature_manager.cpp:773</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a56a0f369b58e6597b62569ff2853ee90"><div class="ttname"><a href="#a56a0f369b58e6597b62569ff2853ee90">sysio::chain::controller_impl::head</a></div><div class="ttdeci">block_state_ptr head</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00234">controller.cpp:234</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_cgraph" id="astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_cgraph">
<area shape="rect" title="push_block" alt="" coords="5,13,158,54"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="206,5,381,61"/>
<area shape="poly" title=" " alt="" coords="158,30,190,30,190,36,158,36"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5952c7d18c4d936c9416cf7cbce01d87" title=" " alt="" coords="429,13,633,54"/>
<area shape="poly" title=" " alt="" coords="382,30,413,30,413,36,382,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_icgraph" id="astructsysio_1_1chain_1_1controller__impl_aed82882c38a7b9a2ab8ccf26b7d68126_icgraph">
<area shape="rect" title="push_block" alt="" coords="1251,5,1404,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,59,1203,99"/>
<area shape="poly" title=" " alt="" coords="1237,53,1204,61,1203,56,1235,47"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,59,789,99"/>
<area shape="poly" title=" " alt="" coords="1236,33,1058,45,851,63,789,71,789,65,850,58,1057,40,1236,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,116,1003,157"/>
<area shape="poly" title=" " alt="" coords="1040,107,1001,118,1000,113,1039,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,173,803,214"/>
<area shape="poly" title=" " alt="" coords="1095,112,1054,144,1004,171,954,186,901,195,803,201,803,195,901,189,952,180,1002,166,1051,140,1092,108"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,51,574,91"/>
<area shape="poly" title=" " alt="" coords="1035,67,1003,63,813,44,729,43,623,50,575,56,575,51,622,44,729,37,813,38,1003,58,1036,62"/>
<area shape="poly" title=" " alt="" coords="835,115,788,102,790,97,836,109"/>
<area shape="poly" title=" " alt="" coords="836,163,792,175,791,170,835,158"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,116,566,157"/>
<area shape="poly" title=" " alt="" coords="835,139,567,139,567,134,835,134"/>
<area shape="poly" title=" " alt="" coords="804,76,1051,76,1051,82,804,82"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,145,158,186"/>
<area shape="poly" title=" " alt="" coords="607,192,158,172,158,166,607,186"/>
<area shape="poly" title=" " alt="" coords="616,172,566,159,568,153,617,166"/>
<area shape="poly" title=" " alt="" coords="669,166,624,136,573,107,547,94,549,90,576,102,627,132,672,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,84,358,125"/>
<area shape="poly" title=" " alt="" coords="391,90,359,95,358,89,390,84"/>
<area shape="poly" title=" " alt="" coords="199,132,151,147,150,142,198,127"/>
</map>
</div>

</div>
</div>
<a id="afb7b8a4e7c718c1262fe755aa1c2f148" name="afb7b8a4e7c718c1262fe755aa1c2f148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7b8a4e7c718c1262fe755aa1c2f148">&#9670;&#160;</a></span>add_contract_tables_to_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::add_contract_tables_to_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00747">747</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  747</span>                                                                                     {</div>
<div class="line"><span class="lineno">  748</span>      snapshot-&gt;write_section(<span class="stringliteral">&quot;contract_tables&quot;</span>, [<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ) {</div>
<div class="line"><span class="lineno">  749</span>         <a class="code hl_function" href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86">index_utils&lt;table_id_multi_index&gt;::walk</a>(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [<span class="keyword">this</span>, &amp;section]( <span class="keyword">const</span> table_id_object&amp; table_row ){</div>
<div class="line"><span class="lineno">  750</span>            <span class="comment">// add a row for the table</span></div>
<div class="line"><span class="lineno">  751</span>            section.add_row(table_row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>            <span class="comment">// followed by a size row and then N data rows for each type of table</span></div>
<div class="line"><span class="lineno">  754</span>            contract_database_index_set::walk_indices([<span class="keyword">this</span>, &amp;section, &amp;table_row]( <span class="keyword">auto</span> utils ) {</div>
<div class="line"><span class="lineno">  755</span>               <span class="keyword">using </span>utils_t = <span class="keyword">decltype</span>(utils);</div>
<div class="line"><span class="lineno">  756</span>               <span class="keyword">using </span>value_t = <span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type;</div>
<div class="line"><span class="lineno">  757</span>               <span class="keyword">using </span>by_table_id = <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a551a62ef64d082b2bbc5a50e2b6ccaa9">object_to_table_id_tag_t&lt;value_t&gt;</a>;</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>               <span class="keyword">auto</span> tid_key = boost::make_tuple(table_row.id);</div>
<div class="line"><span class="lineno">  760</span>               <span class="keyword">auto</span> next_tid_key = boost::make_tuple(<a class="code hl_typedef" href="structchainbase_1_1object.html#a7c6a0efb95ee67d538a976cfa5be9df9">table_id_object::id_type</a>(table_row.id._id + 1));</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>               unsigned_int size = utils_t::template size_range&lt;by_table_id&gt;(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, tid_key, next_tid_key);</div>
<div class="line"><span class="lineno">  763</span>               section.add_row(size, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>               utils_t::template walk_range&lt;by_table_id&gt;(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, tid_key, next_tid_key, [<span class="keyword">this</span>, &amp;section]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">  766</span>                  section.add_row(row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  767</span>               });</div>
<div class="line"><span class="lineno">  768</span>            });</div>
<div class="line"><span class="lineno">  769</span>         });</div>
<div class="line"><span class="lineno">  770</span>      });</div>
<div class="line"><span class="lineno">  771</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1index__utils_html_a20f6cbb7f55f78ff4d35a4bf7e928a86"><div class="ttname"><a href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86">sysio::chain::index_utils::walk</a></div><div class="ttdeci">static void walk(const chainbase::database &amp;db, F function)</div><div class="ttdef"><b>Definition</b> <a href="database__utils_8hpp_source.html#l00018">database_utils.hpp:18</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a551a62ef64d082b2bbc5a50e2b6ccaa9"><div class="ttname"><a href="namespacesysio_1_1chain.html#a551a62ef64d082b2bbc5a50e2b6ccaa9">sysio::chain::object_to_table_id_tag_t</a></div><div class="ttdeci">typename object_to_table_id_tag&lt; T &gt;::tag_type object_to_table_id_tag_t</div><div class="ttdef"><b>Definition</b> <a href="contract__table__objects_8hpp_source.html#l00238">contract_table_objects.hpp:238</a></div></div>
<div class="ttc" id="astructchainbase_1_1object_html_a7c6a0efb95ee67d538a976cfa5be9df9"><div class="ttname"><a href="structchainbase_1_1object.html#a7c6a0efb95ee67d538a976cfa5be9df9">chainbase::object&lt; table_id_object_type, table_id_object &gt;::id_type</a></div><div class="ttdeci">oid&lt; table_id_object &gt; id_type</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00092">chainbase.hpp:92</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_cgraph" id="astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,183,79"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86" title=" " alt="" coords="231,31,361,71"/>
<area shape="poly" title=" " alt="" coords="183,48,215,48,215,54,183,54"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="409,31,550,71"/>
<area shape="poly" title=" " alt="" coords="362,48,394,48,394,54,362,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="598,13,766,38"/>
<area shape="poly" title=" " alt="" coords="550,39,582,35,583,41,551,45"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="814,5,955,46"/>
<area shape="poly" title=" " alt="" coords="766,32,798,32,798,37,766,37"/>
<area shape="poly" title=" " alt="" coords="814,46,766,54,662,59,566,58,566,53,662,54,765,48,813,41"/>
<area shape="poly" title=" " alt="" coords="813,20,781,19,781,14,813,14"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_icgraph" id="astructsysio_1_1chain_1_1controller__impl_afb7b8a4e7c718c1262fe755aa1c2f148_icgraph">
<area shape="rect" title=" " alt="" coords="661,5,839,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="454,13,613,54"/>
<area shape="poly" title=" " alt="" coords="646,36,614,36,614,30,646,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="206,13,406,54"/>
<area shape="poly" title=" " alt="" coords="438,36,406,36,406,30,438,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="ac7dedae4e6f8bcbd20e69d1e5551e378" name="ac7dedae4e6f8bcbd20e69d1e5551e378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7dedae4e6f8bcbd20e69d1e5551e378">&#9670;&#160;</a></span>add_indices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::add_indices </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00729">729</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>                      {</div>
<div class="line"><span class="lineno">  730</span>      controller_index_set::add_indices(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  731</span>      contract_database_index_set::add_indices(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>      <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a112c1fae696fe6f53103076e9afa5a16">add_indices</a>();</div>
<div class="line"><span class="lineno">  734</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#acc5c0d662f97873d93dadbf8b6451978">add_indices</a>();</div>
<div class="line"><span class="lineno">  735</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a112c1fae696fe6f53103076e9afa5a16"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a112c1fae696fe6f53103076e9afa5a16">sysio::chain::authorization_manager::add_indices</a></div><div class="ttdeci">void add_indices()</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00027">authorization_manager.cpp:27</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_acc5c0d662f97873d93dadbf8b6451978"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#acc5c0d662f97873d93dadbf8b6451978">sysio::chain::resource_limits::resource_limits_manager::add_indices</a></div><div class="ttdeci">void add_indices()</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00051">resource_limits.cpp:51</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ac7dedae4e6f8bcbd20e69d1e5551e378_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ac7dedae4e6f8bcbd20e69d1e5551e378_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ac7dedae4e6f8bcbd20e69d1e5551e378_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ac7dedae4e6f8bcbd20e69d1e5551e378_cgraph">
<area shape="rect" title=" " alt="" coords="5,41,158,82"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a112c1fae696fe6f53103076e9afa5a16" title=" " alt="" coords="206,5,379,46"/>
<area shape="poly" title=" " alt="" coords="158,46,190,40,191,46,158,51"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#acc5c0d662f97873d93dadbf8b6451978" title=" " alt="" coords="215,70,370,126"/>
<area shape="poly" title=" " alt="" coords="158,72,200,79,199,84,158,77"/>
</map>
</div>

</div>
</div>
<a id="a8477bef06de9c6d5f1c8a0a8cf1c8795" name="a8477bef06de9c6d5f1c8a0a8cf1c8795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8477bef06de9c6d5f1c8a0a8cf1c8795">&#9670;&#160;</a></span>add_to_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::add_to_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00802">802</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  802</span>                                                               {</div>
<div class="line"><span class="lineno">  803</span>      <span class="comment">// clear in case the previous call to clear did not finish in time of deadline</span></div>
<div class="line"><span class="lineno">  804</span>      <a class="code hl_function" href="#a338cb13e3b27ade2ee719b5421edcf7e">clear_expired_input_transactions</a>( <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>() );</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>      snapshot-&gt;write_section&lt;chain_snapshot_header&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span> &amp;section ){</div>
<div class="line"><span class="lineno">  807</span>         section.add_row(chain_snapshot_header(), <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  808</span>      });</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>      snapshot-&gt;write_section&lt;block_state&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span> &amp;section ){</div>
<div class="line"><span class="lineno">  811</span>         section.template add_row&lt;block_header_state&gt;(*<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  812</span>      });</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>      controller_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">  815</span>         <span class="keyword">using </span>value_t = <span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>         <span class="comment">// skip the table_id_object as its inlined with contract tables section</span></div>
<div class="line"><span class="lineno">  818</span>         <span class="keywordflow">if</span> (std::is_same&lt;value_t, table_id_object&gt;::value) {</div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  820</span>         }</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>         <span class="comment">// skip the database_header as it is only relevant to in-memory database</span></div>
<div class="line"><span class="lineno">  823</span>         <span class="keywordflow">if</span> (std::is_same&lt;value_t, database_header_object&gt;::value) {</div>
<div class="line"><span class="lineno">  824</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  825</span>         }</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>         snapshot-&gt;write_section&lt;value_t&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ){</div>
<div class="line"><span class="lineno">  828</span>            <span class="keyword">decltype</span>(utils)::walk(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [<span class="keyword">this</span>, &amp;section]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">  829</span>               section.add_row(row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  830</span>            });</div>
<div class="line"><span class="lineno">  831</span>         });</div>
<div class="line"><span class="lineno">  832</span>      });</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>      <a class="code hl_function" href="#afb7b8a4e7c718c1262fe755aa1c2f148">add_contract_tables_to_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>      <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a24e23281d4ccfdddcc761c83e14a4080">add_to_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  837</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7160417d30f5ef3a91467fefebf65dc6">add_to_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  838</span>   }</div>
<div class="ttc" id="aclassfc_1_1time__point_html_aeccf1b70aa34b132c5269313b8a50573"><div class="ttname"><a href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a></div><div class="ttdeci">static constexpr time_point maximum()</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00046">time.hpp:46</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a24e23281d4ccfdddcc761c83e14a4080"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a24e23281d4ccfdddcc761c83e14a4080">sysio::chain::authorization_manager::add_to_snapshot</a></div><div class="ttdeci">void add_to_snapshot(const snapshot_writer_ptr &amp;snapshot) const</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00096">authorization_manager.cpp:96</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a7160417d30f5ef3a91467fefebf65dc6"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7160417d30f5ef3a91467fefebf65dc6">sysio::chain::resource_limits::resource_limits_manager::add_to_snapshot</a></div><div class="ttdeci">void add_to_snapshot(const snapshot_writer_ptr &amp;snapshot) const</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00073">resource_limits.cpp:73</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a338cb13e3b27ade2ee719b5421edcf7e"><div class="ttname"><a href="#a338cb13e3b27ade2ee719b5421edcf7e">sysio::chain::controller_impl::clear_expired_input_transactions</a></div><div class="ttdeci">void clear_expired_input_transactions(const fc::time_point &amp;deadline)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02379">controller.cpp:2379</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_afb7b8a4e7c718c1262fe755aa1c2f148"><div class="ttname"><a href="#afb7b8a4e7c718c1262fe755aa1c2f148">sysio::chain::controller_impl::add_contract_tables_to_snapshot</a></div><div class="ttdeci">void add_contract_tables_to_snapshot(const snapshot_writer_ptr &amp;snapshot) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00747">controller.cpp:747</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,165,198"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#afb7b8a4e7c718c1262fe755aa1c2f148" title=" " alt="" coords="217,5,394,61"/>
<area shape="poly" title=" " alt="" coords="106,154,153,113,211,71,219,66,222,71,214,75,156,118,109,158"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a24e23281d4ccfdddcc761c83e14a4080" title=" " alt="" coords="213,85,398,126"/>
<area shape="poly" title=" " alt="" coords="148,154,225,128,227,133,150,159"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7160417d30f5ef3a91467fefebf65dc6" title=" " alt="" coords="213,149,398,205"/>
<area shape="poly" title=" " alt="" coords="165,174,197,174,197,180,165,180"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a338cb13e3b27ade2ee719b5421edcf7e" title=" " alt="" coords="219,229,392,285"/>
<area shape="poly" title=" " alt="" coords="144,195,214,221,212,226,142,200"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="223,380,388,406"/>
<area shape="poly" title=" " alt="" coords="109,196,282,367,278,371,105,200"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86" title=" " alt="" coords="474,13,604,54"/>
<area shape="poly" title=" " alt="" coords="394,30,459,30,459,36,394,36"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="715,13,856,54"/>
<area shape="poly" title=" " alt="" coords="605,30,700,30,700,36,605,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="941,71,1108,97"/>
<area shape="poly" title=" " alt="" coords="857,45,947,65,945,70,856,51"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1159,64,1300,104"/>
<area shape="poly" title=" " alt="" coords="1109,90,1144,90,1144,95,1109,95"/>
<area shape="poly" title=" " alt="" coords="1158,70,1111,61,986,47,872,39,872,34,986,42,1111,56,1159,65"/>
<area shape="poly" title=" " alt="" coords="1159,78,1124,78,1124,72,1159,73"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="715,78,856,119"/>
<area shape="poly" title=" " alt="" coords="381,227,396,215,412,192,418,168,424,144,432,132,444,122,474,105,506,93,573,79,639,76,699,81,699,86,639,82,574,84,508,98,476,110,448,126,436,136,429,146,423,169,417,194,400,219,385,231"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51" title=" " alt="" coords="463,136,615,176"/>
<area shape="poly" title=" " alt="" coords="373,226,397,215,445,187,460,180,463,185,447,192,399,220,375,231"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263" title=" " alt="" coords="463,201,615,242"/>
<area shape="poly" title=" " alt="" coords="392,241,447,233,448,238,392,246"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="473,266,605,291"/>
<area shape="poly" title=" " alt="" coords="392,262,458,268,457,274,392,268"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="463,316,615,356"/>
<area shape="poly" title=" " alt="" coords="391,283,463,308,461,313,389,288"/>
<area shape="poly" title=" " alt="" coords="856,92,926,87,926,93,857,97"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="715,174,856,215"/>
<area shape="poly" title=" " alt="" coords="596,263,631,251,679,225,700,217,702,222,681,230,633,256,597,268"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="715,240,856,280"/>
<area shape="poly" title=" " alt="" coords="606,271,699,264,700,269,606,276"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="719,370,852,411"/>
<area shape="poly" title=" " alt="" coords="607,289,634,302,650,315,659,329,667,342,682,355,706,367,703,372,679,359,663,346,654,332,646,319,631,306,605,294"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="719,305,852,346"/>
<area shape="poly" title=" " alt="" coords="606,288,704,307,703,312,605,294"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="939,182,1111,207"/>
<area shape="poly" title=" " alt="" coords="856,192,924,192,924,197,856,197"/>
<area shape="poly" title=" " alt="" coords="388,390,703,388,703,394,388,395"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="446,432,632,458"/>
<area shape="poly" title=" " alt="" coords="367,404,464,426,463,431,366,409"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="680,435,891,461"/>
<area shape="poly" title=" " alt="" coords="633,444,665,444,665,449,633,449"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a8477bef06de9c6d5f1c8a0a8cf1c8795_icgraph">
<area shape="rect" title=" " alt="" coords="454,5,613,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="206,5,406,46"/>
<area shape="poly" title=" " alt="" coords="438,28,406,28,406,23,438,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="aaf795677a1a49a35ac1a819a1a157929" name="aaf795677a1a49a35ac1a819a1a157929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf795677a1a49a35ac1a819a1a157929">&#9670;&#160;</a></span>apply_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::apply_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx_lookup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01948">1948</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1949</span>   { <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1950</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1951</span>         <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a>&amp; b = bsp-&gt;block;</div>
<div class="line"><span class="lineno"> 1952</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; new_protocol_feature_activations = bsp-&gt;get_new_protocol_feature_activations();</div>
<div class="line"><span class="lineno"> 1953</span> </div>
<div class="line"><span class="lineno"> 1954</span>         <span class="keyword">auto</span> producer_block_id = bsp-&gt;id;</div>
<div class="line"><span class="lineno"> 1955</span>         <a class="code hl_function" href="#a9dbf7da25185959b9a8ea1bf7a47a566">start_block</a>( b-&gt;timestamp, b-&gt;confirmed, new_protocol_feature_activations, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, producer_block_id, <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>() );</div>
<div class="line"><span class="lineno"> 1956</span> </div>
<div class="line"><span class="lineno"> 1957</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> existing_trxs_metas = !bsp-&gt;trxs_metas().empty();</div>
<div class="line"><span class="lineno"> 1958</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> pub_keys_recovered = bsp-&gt;is_pub_keys_recovered();</div>
<div class="line"><span class="lineno"> 1959</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> skip_auth_checks = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e">skip_auth_check</a>();</div>
<div class="line"><span class="lineno"> 1960</span>         std::vector&lt;std::tuple&lt;transaction_metadata_ptr, recover_keys_future&gt;&gt; trx_metas;</div>
<div class="line"><span class="lineno"> 1961</span>         <span class="keywordtype">bool</span> use_bsp_cached = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1962</span>         <span class="keywordflow">if</span>( pub_keys_recovered || (skip_auth_checks &amp;&amp; existing_trxs_metas) ) {</div>
<div class="line"><span class="lineno"> 1963</span>            use_bsp_cached = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1964</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1965</span>            trx_metas.reserve( b-&gt;transactions.size() );</div>
<div class="line"><span class="lineno"> 1966</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; receipt : b-&gt;transactions ) {</div>
<div class="line"><span class="lineno"> 1967</span>               <span class="keywordflow">if</span>( std::holds_alternative&lt;packed_transaction&gt;(receipt.trx)) {</div>
<div class="line"><span class="lineno"> 1968</span>                  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pt = std::get&lt;packed_transaction&gt;(receipt.trx);</div>
<div class="line"><span class="lineno"> 1969</span>                  <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> trx_meta_ptr = trx_lookup ? trx_lookup( pt.id() ) : <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a>{};</div>
<div class="line"><span class="lineno"> 1970</span>                  <span class="keywordflow">if</span>( trx_meta_ptr &amp;&amp; *trx_meta_ptr-&gt;packed_trx() != pt ) trx_meta_ptr = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1971</span>                  <span class="keywordflow">if</span>( trx_meta_ptr &amp;&amp; ( skip_auth_checks || !trx_meta_ptr-&gt;recovered_keys().empty() ) ) {</div>
<div class="line"><span class="lineno"> 1972</span>                     trx_metas.emplace_back( std::move( trx_meta_ptr ), <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a036ea97f093bf3270bd2c9a097cbcaba">recover_keys_future</a>{} );</div>
<div class="line"><span class="lineno"> 1973</span>                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( skip_auth_checks ) {</div>
<div class="line"><span class="lineno"> 1974</span>                     <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">packed_transaction_ptr</a> ptrx( b, &amp;pt ); <span class="comment">// alias signed_block_ptr</span></div>
<div class="line"><span class="lineno"> 1975</span>                     trx_metas.emplace_back(</div>
<div class="line"><span class="lineno"> 1976</span>                           <a class="code hl_function" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b">transaction_metadata::create_no_recover_keys</a>( std::move(ptrx), <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053edaa43c1b0aa53a0c908810c06ab1ff3967">transaction_metadata::trx_type::input</a> ),</div>
<div class="line"><span class="lineno"> 1977</span>                           <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a036ea97f093bf3270bd2c9a097cbcaba">recover_keys_future</a>{} );</div>
<div class="line"><span class="lineno"> 1978</span>                  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1979</span>                     <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">packed_transaction_ptr</a> ptrx( b, &amp;pt ); <span class="comment">// alias signed_block_ptr</span></div>
<div class="line"><span class="lineno"> 1980</span>                     <span class="keyword">auto</span> fut = <a class="code hl_function" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d">transaction_metadata::start_recover_keys</a>(</div>
<div class="line"><span class="lineno"> 1981</span>                           std::move( ptrx ), <a class="code hl_variable" href="#ab76d9091b7e62fb25a0fdd63c8210af9">thread_pool</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea">get_executor</a>(), <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">microseconds::maximum</a>(), <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053edaa43c1b0aa53a0c908810c06ab1ff3967">transaction_metadata::trx_type::input</a>  );</div>
<div class="line"><span class="lineno"> 1982</span>                     trx_metas.emplace_back( <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a>{}, std::move( fut ) );</div>
<div class="line"><span class="lineno"> 1983</span>                  }</div>
<div class="line"><span class="lineno"> 1984</span>               }</div>
<div class="line"><span class="lineno"> 1985</span>            }</div>
<div class="line"><span class="lineno"> 1986</span>         }</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> trace;</div>
<div class="line"><span class="lineno"> 1989</span> </div>
<div class="line"><span class="lineno"> 1990</span>         <span class="keywordtype">size_t</span> packed_idx = 0;</div>
<div class="line"><span class="lineno"> 1991</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; receipt : b-&gt;transactions ) {</div>
<div class="line"><span class="lineno"> 1992</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; trx_receipts = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._pending_trx_receipts;</div>
<div class="line"><span class="lineno"> 1993</span>            <span class="keyword">auto</span> num_pending_receipts = trx_receipts.size();</div>
<div class="line"><span class="lineno"> 1994</span>            <span class="keywordflow">if</span>( std::holds_alternative&lt;packed_transaction&gt;(receipt.trx) ) {</div>
<div class="line"><span class="lineno"> 1995</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; trx_meta = ( use_bsp_cached ? bsp-&gt;trxs_metas().at( packed_idx )</div>
<div class="line"><span class="lineno"> 1996</span>                                                       : ( !!std::get&lt;0&gt;( trx_metas.at( packed_idx ) ) ?</div>
<div class="line"><span class="lineno"> 1997</span>                                                             std::get&lt;0&gt;( trx_metas.at( packed_idx ) )</div>
<div class="line"><span class="lineno"> 1998</span>                                                             : std::get&lt;1&gt;( trx_metas.at( packed_idx ) ).get() ) );</div>
<div class="line"><span class="lineno"> 1999</span>               trace = <a class="code hl_function" href="#af381eb0fcede18ab0ae4cddaaa9df6cd">push_transaction</a>( trx_meta, <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>(), <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a>(), receipt.cpu_usage_us, <span class="keyword">true</span>, 0 );</div>
<div class="line"><span class="lineno"> 2000</span>               ++packed_idx;</div>
<div class="line"><span class="lineno"> 2001</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( std::holds_alternative&lt;transaction_id_type&gt;(receipt.trx) ) {</div>
<div class="line"><span class="lineno"> 2002</span>               trace = <a class="code hl_function" href="#a148db3e15c5b5a5cd3fd6b42799d1152">push_scheduled_transaction</a>( std::get&lt;transaction_id_type&gt;(receipt.trx), <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>(), <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a>(), receipt.cpu_usage_us, <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 2003</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2004</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keyword">false</span>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;encountered unexpected receipt type&quot;</span> );</div>
<div class="line"><span class="lineno"> 2005</span>            }</div>
<div class="line"><span class="lineno"> 2006</span> </div>
<div class="line"><span class="lineno"> 2007</span>            <span class="keywordtype">bool</span> transaction_failed =  trace &amp;&amp; trace-&gt;except;</div>
<div class="line"><span class="lineno"> 2008</span>            <span class="keywordtype">bool</span> transaction_can_fail = receipt.status == <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55ac705728ca8b5f3a44d8026e14990c463">transaction_receipt_header::hard_fail</a> &amp;&amp; std::holds_alternative&lt;transaction_id_type&gt;(receipt.trx);</div>
<div class="line"><span class="lineno"> 2009</span>            <span class="keywordflow">if</span>( transaction_failed &amp;&amp; !transaction_can_fail) {</div>
<div class="line"><span class="lineno"> 2010</span>               <a class="code hl_define" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((*trace));</div>
<div class="line"><span class="lineno"> 2011</span>               <span class="keywordflow">throw</span> *trace-&gt;except;</div>
<div class="line"><span class="lineno"> 2012</span>            }</div>
<div class="line"><span class="lineno"> 2013</span> </div>
<div class="line"><span class="lineno"> 2014</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( trx_receipts.size() &gt; 0,</div>
<div class="line"><span class="lineno"> 2015</span>                        <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;expected a receipt, block_num ${bn}, block_id ${id}, receipt ${e}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2016</span>                        (<span class="stringliteral">&quot;bn&quot;</span>, b-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, producer_block_id)(<span class="stringliteral">&quot;e&quot;</span>, receipt)</div>
<div class="line"><span class="lineno"> 2017</span>                      );</div>
<div class="line"><span class="lineno"> 2018</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( trx_receipts.size() == num_pending_receipts + 1,</div>
<div class="line"><span class="lineno"> 2019</span>                        <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;expected receipt was not added, block_num ${bn}, block_id ${id}, receipt ${e}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2020</span>                        (<span class="stringliteral">&quot;bn&quot;</span>, b-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, producer_block_id)(<span class="stringliteral">&quot;e&quot;</span>, receipt)</div>
<div class="line"><span class="lineno"> 2021</span>                      );</div>
<div class="line"><span class="lineno"> 2022</span>            <span class="keyword">const</span> transaction_receipt_header&amp; <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> = trx_receipts.back();</div>
<div class="line"><span class="lineno"> 2023</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> == <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>transaction_receipt_header&amp;<span class="keyword">&gt;</span>(receipt),</div>
<div class="line"><span class="lineno"> 2024</span>                        <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;receipt does not match, ${lhs} != ${rhs}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2025</span>                        (<span class="stringliteral">&quot;lhs&quot;</span>, <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>)(<span class="stringliteral">&quot;rhs&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>transaction_receipt_header&amp;<span class="keyword">&gt;</span>(receipt)) );</div>
<div class="line"><span class="lineno"> 2026</span>         }</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>         <span class="comment">// validated in create_block_state_future()</span></div>
<div class="line"><span class="lineno"> 2029</span>         std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._transaction_mroot = b-&gt;transaction_mroot;</div>
<div class="line"><span class="lineno"> 2030</span> </div>
<div class="line"><span class="lineno"> 2031</span>         <span class="comment">// New: Process the s_header from block header extensions</span></div>
<div class="line"><span class="lineno"> 2032</span>         <span class="keyword">auto</span> s_header_it = std::find_if(b-&gt;header_extensions.begin(), b-&gt;header_extensions.end(),</div>
<div class="line"><span class="lineno"> 2033</span>                                       [](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ext) { return ext.first == s_root_extension::extension_id(); });</div>
<div class="line"><span class="lineno"> 2034</span>         <span class="keywordflow">if</span> (s_header_it != b-&gt;header_extensions.end()) {</div>
<div class="line"><span class="lineno"> 2035</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Found s_root_extension in header_extensions, attempting to extract...&quot;</span>);</div>
<div class="line"><span class="lineno"> 2036</span>            s_header extracted_s_header = <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack&lt;s_header&gt;</a>(s_header_it-&gt;second);</div>
<div class="line"><span class="lineno"> 2037</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Extracted s_header: ${s_header}&quot;</span>, (<span class="stringliteral">&quot;s_header&quot;</span>, extracted_s_header.to_string()));</div>
<div class="line"><span class="lineno"> 2038</span>            <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358">set_s_header</a>(extracted_s_header); <span class="comment">// Attempt to set s-header</span></div>
<div class="line"><span class="lineno"> 2039</span>         }</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>         <a class="code hl_function" href="#a5eb5bb7961c3ae6496caca42b84ab192">finalize_block</a>();</div>
<div class="line"><span class="lineno"> 2042</span> </div>
<div class="line"><span class="lineno"> 2043</span>         <span class="keyword">auto</span>&amp; ab = std::get&lt;assembled_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage);</div>
<div class="line"><span class="lineno"> 2044</span> </div>
<div class="line"><span class="lineno"> 2045</span>         </div>
<div class="line"><span class="lineno"> 2046</span> </div>
<div class="line"><span class="lineno"> 2047</span>         <span class="keywordflow">if</span>( producer_block_id != ab._id ) {</div>
<div class="line"><span class="lineno"> 2048</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;Validation block id does not match producer block id&quot;</span> );</div>
<div class="line"><span class="lineno"> 2049</span>            <a class="code hl_function" href="#af932f3160706510eaf30e2b76f386973">report_block_header_diff</a>( *b, *ab._unsigned_block );</div>
<div class="line"><span class="lineno"> 2050</span>            <span class="comment">// this implicitly asserts that all header fields (less the signature) are identical</span></div>
<div class="line"><span class="lineno"> 2051</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( producer_block_id == ab._id, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;Block ID does not match&quot;</span>,</div>
<div class="line"><span class="lineno"> 2052</span>                        (<span class="stringliteral">&quot;producer_block_id&quot;</span>, producer_block_id)(<span class="stringliteral">&quot;validator_block_id&quot;</span>, ab._id) );</div>
<div class="line"><span class="lineno"> 2053</span>         }</div>
<div class="line"><span class="lineno"> 2054</span> </div>
<div class="line"><span class="lineno"> 2055</span>         <span class="keywordflow">if</span>( !use_bsp_cached ) {</div>
<div class="line"><span class="lineno"> 2056</span>            bsp-&gt;set_trxs_metas( std::move( ab._trx_metas ), !skip_auth_checks );</div>
<div class="line"><span class="lineno"> 2057</span>         }</div>
<div class="line"><span class="lineno"> 2058</span>         <span class="comment">// create completed_block with the existing block_state as we just verified it is the same as assembled_block</span></div>
<div class="line"><span class="lineno"> 2059</span>         <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage = completed_block{ bsp };</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>         <a class="code hl_function" href="#abde6bacce9f720ad552d0e342c52d3b4">commit_block</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2062</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2063</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 2064</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2065</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 2066</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2067</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno"> 2068</span>         <a class="code hl_define" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()));</div>
<div class="line"><span class="lineno"> 2069</span>         <a class="code hl_function" href="#aed82882c38a7b9a2ab8ccf26b7d68126">abort_block</a>();</div>
<div class="line"><span class="lineno"> 2070</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2071</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ) {</div>
<div class="line"><span class="lineno"> 2072</span>         <a class="code hl_define" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((e.what()));</div>
<div class="line"><span class="lineno"> 2073</span>         <a class="code hl_function" href="#aed82882c38a7b9a2ab8ccf26b7d68126">abort_block</a>();</div>
<div class="line"><span class="lineno"> 2074</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2075</span>      }</div>
<div class="line"><span class="lineno"> 2076</span>   } <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>() } </div>
<div class="ttc" id="abn_8cpp_html_af0a5201ca8846f05f25435b41d7f39f7"><div class="ttname"><a href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a></div><div class="ttdeci">const mie::Vuint &amp; r</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00028">bn.cpp:28</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00057">exception.hpp:58</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_a7611ea8fbe25dde56649b685c2298a37"><div class="ttname"><a href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">fc::exception::to_detail_string</a></div><div class="ttdeci">std::string to_detail_string(log_level ll=log_level::all) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00158">exception.cpp:158</a></div></div>
<div class="ttc" id="aclassfc_1_1microseconds_html_afc3eb0bfd792c7b1cda062e559e30c2e"><div class="ttname"><a href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a></div><div class="ttdeci">static constexpr microseconds maximum()</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00014">time.hpp:14</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a42a29a059b847799ae3a75953b6bff1e"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e">sysio::chain::controller::skip_auth_check</a></div><div class="ttdeci">bool skip_auth_check() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03238">controller.cpp:3238</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a59e341a41ba27734555c54c37bacf358"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358">sysio::chain::controller::set_s_header</a></div><div class="ttdeci">void set_s_header(const s_header &amp;)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02931">controller.cpp:2931</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1named__thread__pool_html_ae2f5fa4611193d13bb40e34708d897ea"><div class="ttname"><a href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea">sysio::chain::named_thread_pool::get_executor</a></div><div class="ttdeci">boost::asio::io_context &amp; get_executor()</div><div class="ttdef"><b>Definition</b> <a href="thread__utils_8hpp_source.html#l00025">thread_utils.hpp:25</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1transaction__metadata_html_a122861328470aa67ebf9ac5cb798755d"><div class="ttname"><a href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d">sysio::chain::transaction_metadata::start_recover_keys</a></div><div class="ttdeci">static recover_keys_future start_recover_keys(packed_transaction_ptr trx, boost::asio::io_context &amp;thread_pool, const chain_id_type &amp;chain_id, fc::microseconds time_limit, trx_type t, uint32_t max_variable_sig_size=UINT32_MAX)</div><div class="ttdef"><b>Definition</b> <a href="transaction__metadata_8cpp_source.html#l00007">transaction_metadata.cpp:7</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1transaction__metadata_html_a841053d8fa06ceea3cb8096625f053edaa43c1b0aa53a0c908810c06ab1ff3967"><div class="ttname"><a href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053edaa43c1b0aa53a0c908810c06ab1ff3967">sysio::chain::transaction_metadata::trx_type::input</a></div><div class="ttdeci">@ input</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1transaction__metadata_html_acb14de2d02033c2d43c65319825d3d5b"><div class="ttname"><a href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b">sysio::chain::transaction_metadata::create_no_recover_keys</a></div><div class="ttdeci">static transaction_metadata_ptr create_no_recover_keys(packed_transaction_ptr trx, trx_type t)</div><div class="ttdef"><b>Definition</b> <a href="transaction__metadata_8hpp_source.html#l00086">transaction_metadata.hpp:86</a></div></div>
<div class="ttc" id="aexception_8hpp_html_a094902280cad82ad6529ebbd12a697eb"><div class="ttname"><a href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a></div><div class="ttdeci">#define FC_CAPTURE_AND_RETHROW(...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00523">exception.hpp:523</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a26aaf645dd9dc96836635d6b18bd1090"><div class="ttname"><a href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a></div><div class="ttdeci">#define edump(SEQ)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00162">logger.hpp:162</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00118">logger.hpp:118</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a9e3cdbaecd5a34b42956e888f7326fad"><div class="ttname"><a href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a></div><div class="ttdeci">#define elog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00130">logger.hpp:130</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a036ea97f093bf3270bd2c9a097cbcaba"><div class="ttname"><a href="namespacesysio_1_1chain.html#a036ea97f093bf3270bd2c9a097cbcaba">sysio::chain::recover_keys_future</a></div><div class="ttdeci">std::future&lt; transaction_metadata_ptr &gt; recover_keys_future</div><div class="ttdef"><b>Definition</b> <a href="transaction__metadata_8hpp_source.html#l00015">transaction_metadata.hpp:15</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4ee2867a6bec961c7a78b203cfd76be9"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">sysio::chain::transaction_trace_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; transaction_trace &gt; transaction_trace_ptr</div><div class="ttdef"><b>Definition</b> <a href="libraries_2chain_2include_2sysio_2chain_2trace_8hpp_source.html#l00020">trace.hpp:20</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7041c0316bd294d0866609ab3e0cc7a7"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">sysio::chain::packed_transaction_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; const packed_transaction &gt; packed_transaction_ptr</div><div class="ttdef"><b>Definition</b> <a href="transaction_8hpp_source.html#l00214">transaction.hpp:214</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a910243f6a0327fb2d4fc80f7e89f103e"><div class="ttname"><a href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">sysio::chain::block_validate_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found block_validate_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00212">exceptions.hpp:212</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa10ee348c57604b615bc8570f6685102"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">sysio::chain::signed_block_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signed_block &gt; signed_block_ptr</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00105">block.hpp:105</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ad795329e0af850251f4f47cc32e8d770"><div class="ttname"><a href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">sysio::chain::transaction_metadata_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; transaction_metadata &gt; transaction_metadata_ptr</div><div class="ttdef"><b>Definition</b> <a href="transaction__metadata_8hpp_source.html#l00014">transaction_metadata.hpp:14</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a148db3e15c5b5a5cd3fd6b42799d1152"><div class="ttname"><a href="#a148db3e15c5b5a5cd3fd6b42799d1152">sysio::chain::controller_impl::push_scheduled_transaction</a></div><div class="ttdeci">transaction_trace_ptr push_scheduled_transaction(const transaction_id_type &amp;trxid, fc::time_point block_deadline, fc::microseconds max_transaction_time, uint32_t billed_cpu_time_us, bool explicit_billed_cpu_time=false)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01218">controller.cpp:1218</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a5eb5bb7961c3ae6496caca42b84ab192"><div class="ttname"><a href="#a5eb5bb7961c3ae6496caca42b84ab192">sysio::chain::controller_impl::finalize_block</a></div><div class="ttdeci">void finalize_block()</div><div class="ttdoc">start_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01759">controller.cpp:1759</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a9dbf7da25185959b9a8ea1bf7a47a566"><div class="ttname"><a href="#a9dbf7da25185959b9a8ea1bf7a47a566">sysio::chain::controller_impl::start_block</a></div><div class="ttdeci">void start_block(block_timestamp_type when, uint16_t confirm_block_count, const vector&lt; digest_type &gt; &amp;new_protocol_feature_activations, controller::block_status s, const std::optional&lt; block_id_type &gt; &amp;producer_block_id, const fc::time_point &amp;deadline)</div><div class="ttdoc">push_transaction</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01592">controller.cpp:1592</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_abde6bacce9f720ad552d0e342c52d3b4"><div class="ttname"><a href="#abde6bacce9f720ad552d0e342c52d3b4">sysio::chain::controller_impl::commit_block</a></div><div class="ttdeci">void commit_block(bool add_to_fork_db)</div><div class="ttdoc">finalize_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01827">controller.cpp:1827</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_aed82882c38a7b9a2ab8ccf26b7d68126"><div class="ttname"><a href="#aed82882c38a7b9a2ab8ccf26b7d68126">sysio::chain::controller_impl::abort_block</a></div><div class="ttdeci">vector&lt; transaction_metadata_ptr &gt; abort_block()</div><div class="ttdoc">push_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02315">controller.cpp:2315</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af381eb0fcede18ab0ae4cddaaa9df6cd"><div class="ttname"><a href="#af381eb0fcede18ab0ae4cddaaa9df6cd">sysio::chain::controller_impl::push_transaction</a></div><div class="ttdeci">transaction_trace_ptr push_transaction(const transaction_metadata_ptr &amp;trx, fc::time_point block_deadline, fc::microseconds max_transaction_time, uint32_t billed_cpu_time_us, bool explicit_billed_cpu_time, int64_t subjective_cpu_bill_us)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01455">controller.cpp:1455</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af932f3160706510eaf30e2b76f386973"><div class="ttname"><a href="#af932f3160706510eaf30e2b76f386973">sysio::chain::controller_impl::report_block_header_diff</a></div><div class="ttdeci">void report_block_header_diff(const block_header &amp;b, const block_header &amp;ab)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01927">controller.cpp:1927</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction__receipt__header_html_a2bb00bac16048e6f624c2ded867ebf55ac705728ca8b5f3a44d8026e14990c463"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55ac705728ca8b5f3a44d8026e14990c463">sysio::chain::transaction_receipt_header::hard_fail</a></div><div class="ttdeci">@ hard_fail</div><div class="ttdoc">objectively failed and error handler objectively failed thus no state change</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00016">block.hpp:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_cgraph" id="astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_cgraph">
<area shape="rect" title=" " alt="" coords="5,1673,158,1714"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="519,21,671,62"/>
<area shape="poly" title=" " alt="" coords="81,1672,90,1394,113,936,130,698,150,486,174,323,188,266,203,230,232,194,266,162,304,135,344,112,427,77,503,55,505,60,429,82,346,117,306,140,269,166,236,197,208,233,193,268,180,324,155,487,135,699,118,936,96,1394,86,1672"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="242,244,394,284"/>
<area shape="poly" title=" " alt="" coords="81,1672,90,1521,112,1264,148,950,173,787,203,627,226,533,253,441,301,298,306,300,258,442,231,534,208,628,178,788,153,951,117,1265,96,1521,86,1672"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="479,1205,711,1246"/>
<area shape="poly" title=" " alt="" coords="81,1672,88,1609,107,1520,123,1472,144,1425,171,1381,204,1342,232,1318,262,1298,328,1267,397,1245,463,1232,464,1238,399,1250,330,1272,265,1303,235,1323,208,1346,175,1384,149,1428,128,1474,113,1522,94,1610,87,1673"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="242,1608,394,1648"/>
<area shape="poly" title=" " alt="" coords="157,1670,227,1650,228,1655,158,1675"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="229,1838,408,1879"/>
<area shape="poly" title=" " alt="" coords="100,1712,145,1765,174,1793,207,1818,229,1829,226,1834,204,1822,171,1797,141,1768,96,1716"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1024,1927,1210,1953"/>
<area shape="poly" title=" " alt="" coords="107,1712,151,1747,207,1780,240,1791,270,1794,326,1790,353,1789,379,1792,406,1803,433,1825,455,1856,463,1889,461,1922,455,1954,449,1986,449,2017,458,2046,481,2074,542,2118,600,2145,656,2159,713,2159,772,2150,833,2132,973,2077,1012,2055,1047,2025,1075,1993,1097,1964,1101,1967,1080,1996,1051,2029,1015,2059,975,2082,835,2137,773,2155,713,2165,656,2164,598,2150,539,2122,477,2078,453,2049,444,2018,444,1986,450,1953,456,1921,457,1889,450,1858,429,1828,403,1808,378,1797,353,1794,327,1795,270,1799,239,1796,205,1785,148,1752,103,1716"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="512,2038,678,2063"/>
<area shape="poly" title=" " alt="" coords="159,1710,206,1723,242,1729,273,1732,329,1733,355,1736,381,1743,406,1757,433,1781,454,1811,462,1841,462,1871,458,1901,454,1930,454,1959,461,1988,481,2017,500,2031,497,2036,477,2020,457,1990,448,1960,449,1930,453,1900,457,1870,457,1841,449,1813,429,1784,403,1762,379,1748,354,1741,329,1738,273,1737,241,1735,205,1728,158,1715"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="206,1462,431,1503"/>
<area shape="poly" title=" " alt="" coords="104,1670,281,1511,285,1515,108,1674"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="516,897,675,938"/>
<area shape="poly" title=" " alt="" coords="82,1672,93,1554,117,1378,133,1287,153,1203,176,1132,204,1084,234,1051,269,1024,306,1000,346,980,426,949,500,930,501,935,428,954,348,984,309,1004,272,1028,238,1055,208,1087,181,1135,158,1204,138,1288,122,1379,99,1554,87,1673"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="790,1284,943,1324"/>
<area shape="poly" title=" " alt="" coords="83,1672,94,1621,116,1553,131,1518,151,1483,175,1451,204,1424,269,1382,329,1357,386,1346,442,1343,563,1347,633,1345,711,1335,774,1321,775,1327,712,1340,633,1351,563,1353,442,1349,386,1351,330,1362,271,1387,207,1429,179,1455,156,1486,136,1520,121,1555,99,1622,88,1673"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="217,1904,420,1944"/>
<area shape="poly" title=" " alt="" coords="92,1713,108,1751,132,1798,166,1847,207,1888,214,1893,211,1898,204,1893,161,1850,128,1801,103,1753,88,1715"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="242,1969,394,2010"/>
<area shape="poly" title=" " alt="" coords="89,1713,101,1763,123,1828,158,1896,181,1927,207,1954,229,1968,227,1973,204,1958,177,1930,154,1898,118,1830,96,1764,84,1715"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="242,1097,394,1138"/>
<area shape="poly" title=" " alt="" coords="83,1672,94,1600,116,1492,152,1369,176,1307,203,1248,241,1192,282,1147,286,1150,245,1195,208,1250,180,1309,157,1371,122,1493,99,1600,88,1673"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="218,1673,419,1714"/>
<area shape="poly" title=" " alt="" coords="158,1690,202,1690,202,1696,158,1696"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="242,2034,395,2075"/>
<area shape="poly" title=" " alt="" coords="87,1714,95,1774,115,1856,130,1900,151,1943,176,1984,207,2019,229,2034,226,2038,204,2023,172,1987,146,1946,126,1902,110,1857,90,1775,82,1714"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="242,2100,394,2140"/>
<area shape="poly" title=" " alt="" coords="86,1714,90,1784,107,1884,122,1938,143,1991,172,2041,207,2085,230,2100,227,2105,204,2088,167,2044,139,1994,117,1940,102,1885,85,1785,80,1714"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="263,2188,374,2214"/>
<area shape="poly" title=" " alt="" coords="85,1714,88,1793,103,1908,118,1972,140,2035,169,2096,208,2150,227,2167,250,2180,247,2184,224,2171,204,2154,165,2098,135,2037,113,1973,98,1909,83,1793,80,1714"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="252,2238,384,2263"/>
<area shape="poly" title=" " alt="" coords="87,1713,99,1821,123,1975,139,2054,159,2127,182,2186,194,2208,208,2225,222,2235,238,2242,236,2247,219,2240,204,2228,190,2211,177,2188,154,2128,134,2056,117,1976,94,1821,82,1714"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="779,5,954,61"/>
<area shape="poly" title=" " alt="" coords="672,36,763,34,763,39,672,42"/>
<area shape="poly" title=" " alt="" coords="338,241,429,141,451,107,461,93,477,78,504,63,506,67,481,82,465,96,455,110,433,144,342,245"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="534,186,656,227"/>
<area shape="poly" title=" " alt="" coords="394,245,518,220,520,225,395,251"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="790,366,943,407"/>
<area shape="poly" title=" " alt="" coords="337,283,361,312,394,346,435,377,480,401,517,413,555,420,633,424,708,419,775,407,776,413,709,424,633,429,554,425,515,418,478,406,432,382,391,349,357,315,333,286"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="1022,424,1212,464"/>
<area shape="poly" title=" " alt="" coords="394,253,429,235,440,225,446,214,451,190,458,166,465,154,478,144,562,139,729,139,894,142,975,147,1007,172,1034,203,1057,238,1075,275,1100,348,1113,407,1108,409,1095,349,1070,277,1052,241,1030,207,1004,176,973,152,894,147,729,144,562,145,480,149,469,158,463,168,456,191,451,215,444,228,433,239,396,257"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="806,301,927,342"/>
<area shape="poly" title=" " alt="" coords="395,270,479,280,791,311,790,317,479,285,395,276"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="519,352,671,392"/>
<area shape="poly" title=" " alt="" coords="366,282,480,331,515,343,513,349,478,336,364,287"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="790,161,943,202"/>
<area shape="poly" title=" " alt="" coords="345,241,404,203,440,185,478,172,555,158,634,154,709,157,775,163,775,169,709,162,634,159,556,164,480,177,442,190,406,208,348,245"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="1042,815,1192,841"/>
<area shape="poly" title=" " alt="" coords="395,253,538,243,709,238,793,241,869,250,931,264,956,275,975,287,996,308,1009,328,1015,350,1017,371,1017,419,1019,446,1024,475,1111,799,1105,801,1019,476,1013,447,1012,419,1012,372,1010,351,1004,330,992,311,972,291,953,279,929,270,868,255,793,247,709,244,538,248,395,259"/>
<area shape="poly" title=" " alt="" coords="530,395,504,409,481,427,415,498,366,563,329,625,302,687,280,753,259,825,208,1001,181,1095,158,1192,122,1382,100,1546,88,1658,83,1657,95,1545,117,1381,153,1190,176,1093,203,999,254,824,275,751,297,685,325,622,361,560,411,494,477,423,501,405,527,390"/>
<area shape="poly" title=" " alt="" coords="672,373,775,379,775,384,672,379"/>
<area shape="poly" title=" " alt="" coords="671,355,790,333,791,338,672,360"/>
<area shape="poly" title=" " alt="" coords="624,349,822,209,825,213,627,353"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="505,1922,685,1963"/>
<area shape="poly" title=" " alt="" coords="396,1636,416,1645,433,1659,454,1690,462,1721,462,1752,458,1782,454,1812,454,1842,462,1872,481,1902,493,1913,490,1917,477,1906,457,1874,449,1843,449,1812,453,1782,457,1752,457,1722,449,1693,429,1663,413,1650,394,1641"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="797,1874,936,1899"/>
<area shape="poly" title=" " alt="" coords="396,1636,416,1646,433,1659,451,1685,458,1711,458,1738,455,1764,452,1789,454,1813,462,1836,481,1858,502,1870,531,1879,610,1889,699,1891,782,1889,782,1894,699,1897,609,1894,530,1884,500,1875,477,1862,457,1839,448,1814,447,1789,450,1763,453,1737,452,1712,446,1687,429,1663,413,1650,393,1641"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="498,1648,693,1688"/>
<area shape="poly" title=" " alt="" coords="395,1636,482,1649,482,1654,395,1641"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="1041,1190,1193,1231"/>
<area shape="poly" title=" " alt="" coords="349,1605,407,1570,478,1537,542,1520,594,1513,646,1508,711,1493,849,1453,906,1428,972,1384,997,1360,1029,1322,1090,1242,1094,1245,1033,1326,1001,1363,975,1389,908,1433,851,1459,712,1498,647,1513,595,1518,543,1525,480,1542,410,1575,352,1609"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="520,1269,671,1325"/>
<area shape="poly" title=" " alt="" coords="340,1605,383,1564,429,1513,453,1479,477,1444,560,1335,564,1339,481,1447,458,1482,433,1516,387,1567,344,1609"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571" title=" " alt="" coords="502,1552,688,1623"/>
<area shape="poly" title=" " alt="" coords="395,1614,487,1601,488,1606,395,1619"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a" title=" " alt="" coords="489,1712,701,1768"/>
<area shape="poly" title=" " alt="" coords="396,1644,432,1659,457,1678,480,1698,490,1703,488,1708,478,1702,453,1682,430,1663,394,1648"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20" title=" " alt="" coords="488,1792,702,1848"/>
<area shape="poly" title=" " alt="" coords="396,1638,415,1647,433,1659,446,1674,453,1690,458,1720,463,1749,469,1764,481,1778,484,1781,480,1785,477,1782,465,1766,457,1751,453,1721,448,1691,441,1677,429,1663,413,1651,394,1643"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="806,1348,927,1374"/>
<area shape="poly" title=" " alt="" coords="338,1605,397,1551,436,1520,478,1494,558,1454,643,1421,722,1395,791,1376,792,1381,724,1400,644,1426,561,1459,480,1498,439,1525,401,1555,341,1609"/>
<area shape="poly" title=" " alt="" coords="685,1921,785,1900,786,1906,687,1926"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1260,1927,1470,1953"/>
<area shape="poly" title=" " alt="" coords="1210,1937,1245,1937,1245,1942,1210,1942"/>
<area shape="poly" title=" " alt="" coords="659,2034,1037,1954,1038,1959,660,2040"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="800,2028,933,2068"/>
<area shape="poly" title=" " alt="" coords="678,2047,785,2046,785,2051,678,2052"/>
<area shape="poly" title=" " alt="" coords="274,1462,272,1452,279,1443,295,1438,318,1436,344,1438,359,1444,357,1449,343,1443,318,1441,296,1443,282,1447,277,1453,279,1461"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1046,1349,1188,1390"/>
<area shape="poly" title=" " alt="" coords="431,1464,1030,1379,1031,1384,432,1469"/>
<area shape="poly" title=" " alt="" coords="600,896,667,680,713,555,736,504,757,468,784,438,815,414,818,418,788,442,761,471,741,507,718,557,672,682,605,897"/>
<area shape="poly" title=" " alt="" coords="611,936,659,1027,688,1086,714,1148,722,1177,725,1204,726,1250,728,1271,733,1292,743,1312,761,1334,775,1345,792,1352,790,1357,773,1349,758,1338,739,1315,728,1294,723,1272,721,1250,720,1204,717,1178,709,1150,683,1088,655,1029,606,939"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="765,1218,968,1259"/>
<area shape="poly" title=" " alt="" coords="610,936,669,1035,713,1096,761,1154,791,1182,823,1207,820,1211,788,1186,757,1158,708,1099,665,1038,605,939"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="1036,1086,1198,1111"/>
<area shape="poly" title=" " alt="" coords="640,936,760,988,915,1040,1050,1079,1049,1084,914,1045,758,993,638,941"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6" title=" " alt="" coords="790,923,943,978"/>
<area shape="poly" title=" " alt="" coords="676,924,775,937,774,942,675,930"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8cdd409341efde24915eadc5f25a51f9" title=" " alt="" coords="759,481,974,522"/>
<area shape="poly" title=" " alt="" coords="600,896,626,816,665,707,711,602,735,561,757,533,763,528,766,532,761,536,739,564,716,604,670,709,631,818,605,897"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a01f9fd71b2b5511311c8817a8b32c845" title=" " alt="" coords="785,546,948,587"/>
<area shape="poly" title=" " alt="" coords="599,896,615,837,646,757,667,714,693,672,723,632,758,598,769,589,772,594,761,602,727,636,697,675,672,716,651,759,621,839,604,897"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a300b3d2c25e7de11562c579c41f43dda" title=" " alt="" coords="785,612,948,652"/>
<area shape="poly" title=" " alt="" coords="602,895,622,848,655,785,700,720,728,690,758,663,769,655,772,660,761,667,731,693,705,723,660,788,627,850,607,897"/>
<area shape="rect" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c" title=" " alt="" coords="779,677,954,718"/>
<area shape="poly" title=" " alt="" coords="607,895,631,859,665,814,708,768,758,728,768,722,771,727,761,733,712,772,669,818,635,862,611,898"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5d3d1260b6f77fdc4b6a8cef3417e94c" title=" " alt="" coords="772,742,961,783"/>
<area shape="poly" title=" " alt="" coords="617,894,678,844,717,817,758,793,773,786,775,791,761,798,720,822,682,849,621,898"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#adbf0d6f8a8a8d3b4544fafe24cd0a135" title=" " alt="" coords="779,1104,954,1144"/>
<area shape="poly" title=" " alt="" coords="625,936,828,1092,825,1096,622,940"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a89d9e83d4de2f7aec957e54dce4a76f5" title=" " alt="" coords="760,808,973,848"/>
<area shape="poly" title=" " alt="" coords="653,894,758,857,779,851,781,856,760,862,655,899"/>
<area shape="rect" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02" title=" " alt="" coords="806,872,927,898"/>
<area shape="poly" title=" " alt="" coords="675,905,790,891,791,897,676,910"/>
<area shape="poly" title=" " alt="" coords="610,937,657,1028,714,1148,725,1184,731,1214,740,1241,761,1269,778,1281,775,1285,757,1272,735,1244,726,1216,720,1186,709,1150,652,1030,605,939"/>
<area shape="poly" title=" " alt="" coords="968,1225,1025,1218,1025,1223,969,1230"/>
<area shape="poly" title=" " alt="" coords="960,1257,976,1270,994,1307,1014,1375,1055,1564,1091,1767,1114,1911,1109,1912,1085,1768,1049,1565,1009,1376,989,1309,972,1273,957,1261"/>
<area shape="poly" title=" " alt="" coords="945,1257,975,1269,1031,1302,1080,1337,1077,1341,1029,1307,972,1274,942,1262"/>
<area shape="poly" title=" " alt="" coords="904,1215,1078,1117,1080,1122,906,1220"/>
<area shape="poly" title=" " alt="" coords="958,478,1009,466,1011,471,959,483"/>
<area shape="poly" title=" " alt="" coords="929,1142,1042,1182,1041,1187,927,1147"/>
<area shape="poly" title=" " alt="" coords="973,825,1027,825,1027,830,973,830"/>
<area shape="poly" title=" " alt="" coords="322,1096,394,809,440,650,460,593,477,561,499,541,530,521,611,480,703,441,788,410,790,415,705,446,613,484,532,525,502,545,481,564,465,595,445,652,399,811,327,1097"/>
<area shape="poly" title=" " alt="" coords="344,1094,387,1055,429,1004,445,972,454,945,462,918,477,884,536,789,590,721,646,653,709,561,721,534,727,510,737,487,758,467,786,451,817,439,881,424,946,420,1006,423,1006,428,946,425,882,429,818,444,789,456,761,471,741,490,732,511,726,536,714,564,650,656,595,724,540,792,481,886,467,919,459,947,450,974,433,1007,391,1058,347,1098"/>
<area shape="poly" title=" " alt="" coords="322,1096,407,751,477,482,505,458,533,443,560,436,588,433,646,427,677,418,710,402,724,390,733,377,743,365,758,352,790,337,792,342,761,357,746,369,737,381,728,393,713,406,679,423,647,432,589,438,561,441,534,448,508,462,481,485,412,752,327,1097"/>
<area shape="poly" title=" " alt="" coords="395,1115,512,1110,661,1092,741,1075,821,1053,899,1025,972,988,1013,958,1048,922,1077,885,1098,852,1103,855,1082,888,1053,925,1017,962,975,993,901,1029,823,1058,742,1081,662,1097,513,1115,395,1121"/>
<area shape="poly" title=" " alt="" coords="366,1136,480,1184,515,1197,513,1202,478,1189,364,1141"/>
<area shape="poly" title=" " alt="" coords="395,1119,542,1130,712,1147,1026,1194,1025,1199,711,1152,541,1135,395,1124"/>
<area shape="poly" title=" " alt="" coords="340,1136,399,1194,438,1227,480,1255,506,1268,504,1272,478,1259,435,1231,396,1198,336,1140"/>
<area shape="poly" title=" " alt="" coords="396,1130,479,1147,516,1151,548,1152,605,1149,632,1150,658,1156,685,1169,713,1191,733,1214,744,1237,748,1259,749,1282,749,1330,752,1357,762,1386,801,1468,846,1550,943,1704,1033,1830,1097,1913,1093,1917,1028,1833,938,1707,841,1553,796,1471,757,1387,747,1358,743,1331,744,1282,743,1260,739,1238,728,1217,709,1195,682,1174,656,1161,631,1155,605,1154,548,1157,515,1157,479,1152,394,1135"/>
<area shape="poly" title=" " alt="" coords="332,1137,382,1258,410,1340,434,1426,441,1480,443,1548,444,1706,446,1786,451,1861,463,1925,481,1973,494,1990,510,2005,546,2028,543,2033,507,2009,490,1994,477,1976,457,1926,446,1862,441,1787,439,1706,438,1548,435,1480,428,1427,405,1342,377,1259,327,1139"/>
<area shape="poly" title=" " alt="" coords="346,1094,551,945,555,949,350,1099"/>
<area shape="poly" title=" " alt="" coords="405,1712,433,1734,452,1766,459,1798,457,1830,452,1861,448,1891,449,1919,458,1947,481,1972,509,1991,535,2000,560,2002,586,1998,642,1983,675,1976,711,1972,867,1962,1008,1949,1009,1954,868,1967,712,1977,675,1981,643,1988,587,2003,561,2007,534,2005,507,1996,477,1977,453,1949,443,1920,443,1890,447,1860,452,1829,454,1799,447,1768,429,1738,401,1716"/>
<area shape="poly" title=" " alt="" coords="411,1712,433,1730,456,1768,464,1805,463,1841,456,1877,450,1912,449,1947,458,1982,481,2017,500,2032,497,2036,477,2020,453,1984,444,1947,445,1911,451,1876,457,1840,459,1805,451,1770,429,1734,408,1716"/>
<area shape="poly" title=" " alt="" coords="279,2190,271,2180,276,2170,292,2164,318,2162,347,2164,362,2171,360,2176,346,2170,318,2167,293,2169,280,2174,277,2179,283,2186"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_icgraph" id="astructsysio_1_1chain_1_1controller__impl_aaf795677a1a49a35ac1a819a1a157929_icgraph">
<area shape="rect" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="aa7c2a2da2eed15c5d55146b0ebd6646b" name="aa7c2a2da2eed15c5d55146b0ebd6646b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c2a2da2eed15c5d55146b0ebd6646b">&#9670;&#160;</a></span>apply_onerror()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> sysio::chain::controller_impl::apply_onerror </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1generated__transaction.html">generated_transaction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>gtrx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a></td>          <td class="paramname"><span class="paramname"><em>block_deadline</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>max_transaction_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a></td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cpu_time_to_bill_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>billed_cpu_time_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>explicit_billed_cpu_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>enforce_whiteblacklist</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01102">1102</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1111</span>   {</div>
<div class="line"><span class="lineno"> 1112</span>      signed_transaction etrx;</div>
<div class="line"><span class="lineno"> 1113</span>      <span class="comment">// Deliver onerror action containing the failed deferred transaction directly back to the sender.</span></div>
<div class="line"><span class="lineno"> 1114</span>      etrx.actions.emplace_back( vector&lt;permission_level&gt;{{gtrx.sender, config::active_name}},</div>
<div class="line"><span class="lineno"> 1115</span>                                 onerror( gtrx.sender_id, gtrx.packed_trx.data(), gtrx.packed_trx.size() ) );</div>
<div class="line"><span class="lineno"> 1116</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3">is_builtin_activated</a>( <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa1e0a5b7203c3f4124dc8c1880b04e36b">builtin_protocol_feature_t::no_duplicate_deferred_id</a> ) ) {</div>
<div class="line"><span class="lineno"> 1117</span>         etrx.expiration = time_point_sec();</div>
<div class="line"><span class="lineno"> 1118</span>         etrx.ref_block_num = 0;</div>
<div class="line"><span class="lineno"> 1119</span>         etrx.ref_block_prefix = 0;</div>
<div class="line"><span class="lineno"> 1120</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1121</span>         etrx.expiration = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>() + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(999&#39;999); <span class="comment">// Round up to nearest second to avoid appearing expired</span></div>
<div class="line"><span class="lineno"> 1122</span>         etrx.set_reference_block( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124">head_block_id</a>() );</div>
<div class="line"><span class="lineno"> 1123</span>      }</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1126</span>         dm_logger-&gt;on_onerror(etrx);</div>
<div class="line"><span class="lineno"> 1127</span>      }</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>      transaction_checktime_timer trx_timer(<a class="code hl_variable" href="#ad3c19aea29c2fbb28ca7120d591ba088">timer</a>);</div>
<div class="line"><span class="lineno"> 1130</span>      <span class="keyword">const</span> packed_transaction trx( std::move( etrx ) );</div>
<div class="line"><span class="lineno"> 1131</span>      transaction_context trx_context( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>, trx, std::move(trx_timer), start );</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>      trx_context.block_deadline = block_deadline;</div>
<div class="line"><span class="lineno"> 1134</span>      trx_context.max_transaction_time_subjective = max_transaction_time;</div>
<div class="line"><span class="lineno"> 1135</span>      trx_context.explicit_billed_cpu_time = explicit_billed_cpu_time;</div>
<div class="line"><span class="lineno"> 1136</span>      trx_context.billed_cpu_time_us = billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1137</span>      trx_context.enforce_whiteblacklist = enforce_whiteblacklist;</div>
<div class="line"><span class="lineno"> 1138</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> trace = trx_context.trace;</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>      <span class="keyword">auto</span> handle_exception = [&amp;](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e)</div>
<div class="line"><span class="lineno"> 1141</span>      {</div>
<div class="line"><span class="lineno"> 1142</span>         cpu_time_to_bill_us = trx_context.update_billed_cpu_time( <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() );</div>
<div class="line"><span class="lineno"> 1143</span>         trace-&gt;error_code = <a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6">controller::convert_exception_to_error_code</a>( e );</div>
<div class="line"><span class="lineno"> 1144</span>         trace-&gt;except = e;</div>
<div class="line"><span class="lineno"> 1145</span>         trace-&gt;except_ptr = std::current_exception();</div>
<div class="line"><span class="lineno"> 1146</span>      };</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1149</span>         trx_context.init_for_implicit_trx();</div>
<div class="line"><span class="lineno"> 1150</span>         trx_context.published = gtrx.published;</div>
<div class="line"><span class="lineno"> 1151</span>         trx_context.execute_action( trx_context.schedule_action( trx.get_transaction().actions.back(), gtrx.sender, <span class="keyword">false</span>, 0, 0 ), 0 );</div>
<div class="line"><span class="lineno"> 1152</span>         trx_context.finalize(); <span class="comment">// Automatically rounds up network and CPU usage in trace and bills payers if successful</span></div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>         <span class="keyword">auto</span> restore = <a class="code hl_function" href="#a89d9e83d4de2f7aec957e54dce4a76f5">make_block_restore_point</a>();</div>
<div class="line"><span class="lineno"> 1155</span>         trace-&gt;receipt = <a class="code hl_function" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a>( gtrx.trx_id, <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a98d0df834b74445e549f5d2123443b4e">transaction_receipt::soft_fail</a>,</div>
<div class="line"><span class="lineno"> 1156</span>                                        trx_context.billed_cpu_time_us, trace-&gt;net_usage );</div>
<div class="line"><span class="lineno"> 1157</span>         <a class="code hl_function" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02">fc::move_append</a>( std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._action_receipt_digests,</div>
<div class="line"><span class="lineno"> 1158</span>                          std::move(trx_context.executed_action_receipt_digests) );</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>         trx_context.squash();</div>
<div class="line"><span class="lineno"> 1161</span>         restore.cancel();</div>
<div class="line"><span class="lineno"> 1162</span>         <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1163</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> disallowed_transaction_extensions_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1164</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1165</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> protocol_feature_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1166</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1167</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1168</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1169</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1170</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1171</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno"> 1172</span>         handle_exception(e);</div>
<div class="line"><span class="lineno"> 1173</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ) {</div>
<div class="line"><span class="lineno"> 1174</span>         <span class="keyword">auto</span> wrapper = <a class="code hl_function" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c">fc::std_exception_wrapper::from_current_exception</a>(e);</div>
<div class="line"><span class="lineno"> 1175</span>         handle_exception(wrapper);</div>
<div class="line"><span class="lineno"> 1176</span>      }</div>
<div class="line"><span class="lineno"> 1177</span>      <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1178</span>   }</div>
<div class="ttc" id="aclassfc_1_1microseconds_html"><div class="ttname"><a href="classfc_1_1microseconds.html">fc::microseconds</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00011">time.hpp:11</a></div></div>
<div class="ttc" id="aclassfc_1_1std__exception__wrapper_html_ae5ad64f84b1d373f5b92031566284c7c"><div class="ttname"><a href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c">fc::std_exception_wrapper::from_current_exception</a></div><div class="ttdeci">static std_exception_wrapper from_current_exception(const std::exception &amp;e)</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00335">exception.cpp:335</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_aa164ff1268a16d4b32afcff181f6100e"><div class="ttname"><a href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a></div><div class="ttdeci">static time_point now()</div><div class="ttdef"><b>Definition</b> <a href="time_8cpp_source.html#l00014">time.cpp:14</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a37d0a44faef74cf0f96127982c1ce124"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124">sysio::chain::controller::head_block_id</a></div><div class="ttdeci">block_id_type head_block_id() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02955">controller.cpp:2955</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_aa808acf858e93c567ff983ccbf8fb6d3"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3">sysio::chain::controller::is_builtin_activated</a></div><div class="ttdeci">bool is_builtin_activated(builtin_protocol_feature_t f) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03385">controller.cpp:3385</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_abb1d81f96986df3bce46bd37caaf6a69"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">sysio::chain::controller::pending_block_time</a></div><div class="ttdeci">time_point pending_block_time() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03000">controller.cpp:3000</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_ae60743ce36f1fa0912ff26b1da40afe6"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6">sysio::chain::controller::convert_exception_to_error_code</a></div><div class="ttdeci">static std::optional&lt; uint64_t &gt; convert_exception_to_error_code(const fc::exception &amp;e)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03478">controller.cpp:3478</a></div></div>
<div class="ttc" id="anamespacefc_html_a219f556e23004060631ffb2baaeaff02"><div class="ttname"><a href="namespacefc.html#a219f556e23004060631ffb2baaeaff02">fc::move_append</a></div><div class="ttdeci">void move_append(Container &amp;dest, Container &amp;&amp;src)</div><div class="ttdef"><b>Definition</b> <a href="utility_8hpp_source.html#l00151">utility.hpp:151</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a406d45a184cdba0af316b5bf34bf56cfa1e0a5b7203c3f4124dc8c1880b04e36b"><div class="ttname"><a href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa1e0a5b7203c3f4124dc8c1880b04e36b">sysio::chain::builtin_protocol_feature_t::no_duplicate_deferred_id</a></div><div class="ttdeci">@ no_duplicate_deferred_id</div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a1b67831f3be3a668c170723427236954"><div class="ttname"><a href="#a1b67831f3be3a668c170723427236954">sysio::chain::controller_impl::get_deep_mind_logger</a></div><div class="ttdeci">deep_mind_handler * get_deep_mind_logger() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02572">controller.cpp:2572</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a89d9e83d4de2f7aec957e54dce4a76f5"><div class="ttname"><a href="#a89d9e83d4de2f7aec957e54dce4a76f5">sysio::chain::controller_impl::make_block_restore_point</a></div><div class="ttdeci">fc::scoped_exit&lt; std::function&lt; void()&gt; &gt; make_block_restore_point()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01082">controller.cpp:1082</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_aae2b1bfeee1e7c1c0237f12776e75dd7"><div class="ttname"><a href="#aae2b1bfeee1e7c1c0237f12776e75dd7">sysio::chain::controller_impl::push_receipt</a></div><div class="ttdeci">const transaction_receipt &amp; push_receipt(const T &amp;trx, transaction_receipt_header::status_enum status, uint64_t cpu_usage_us, uint64_t net_usage)</div><div class="ttdoc">push_scheduled_transaction</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01437">controller.cpp:1437</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ad3c19aea29c2fbb28ca7120d591ba088"><div class="ttname"><a href="#ad3c19aea29c2fbb28ca7120d591ba088">sysio::chain::controller_impl::timer</a></div><div class="ttdeci">platform_timer timer</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00249">controller.cpp:249</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction__receipt__header_html_a2bb00bac16048e6f624c2ded867ebf55a98d0df834b74445e549f5d2123443b4e"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a98d0df834b74445e549f5d2123443b4e">sysio::chain::transaction_receipt_header::soft_fail</a></div><div class="ttdeci">@ soft_fail</div><div class="ttdoc">objectively failed (not executed), error handler executed</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00015">block.hpp:15</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_cgraph" id="astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_cgraph">
<area shape="rect" title=" " alt="" coords="5,599,158,639"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6" title=" " alt="" coords="235,139,388,195"/>
<area shape="poly" title=" " alt="" coords="81,598,86,527,104,425,120,369,141,313,169,260,204,212,220,197,224,201,208,215,173,263,146,315,125,370,109,426,92,527,86,598"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a300b3d2c25e7de11562c579c41f43dda" title=" " alt="" coords="230,269,394,310"/>
<area shape="poly" title=" " alt="" coords="83,598,94,544,116,472,132,433,152,394,175,358,204,326,217,316,220,320,208,330,180,362,156,397,137,435,121,474,99,545,88,599"/>
<area shape="rect" href="structsysio_1_1chain_1_1packed__transaction.html#ad193d26eb97cfd5b3f7d8b957eaa35a2" title=" " alt="" coords="466,413,655,454"/>
<area shape="poly" title=" " alt="" coords="86,597,100,557,124,508,158,459,180,438,204,421,238,406,273,396,345,389,416,394,479,406,478,412,416,400,346,394,274,401,239,411,207,425,183,442,162,462,128,510,105,559,91,599"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="494,140,627,165"/>
<area shape="poly" title=" " alt="" coords="81,598,86,532,104,439,120,390,141,341,169,295,204,256,230,236,256,225,280,220,305,219,357,219,385,215,417,205,441,190,465,175,484,168,486,173,467,180,443,195,419,209,387,220,357,224,305,224,281,225,257,230,233,241,207,260,173,298,146,343,125,391,109,441,92,532,86,598"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a2f8dc57cb2e3562de132326b0d06e15d" title=" " alt="" coords="479,334,642,390"/>
<area shape="poly" title=" " alt="" coords="84,597,97,552,119,493,154,434,177,408,204,386,234,369,267,357,334,343,402,339,464,343,464,348,402,344,335,348,268,362,237,374,207,391,181,412,159,437,124,496,102,553,89,599"/>
<area shape="rect" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c" title=" " alt="" coords="225,435,399,475"/>
<area shape="poly" title=" " alt="" coords="95,597,140,542,170,512,204,486,215,480,218,485,207,491,174,516,143,545,99,600"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="217,500,407,541"/>
<area shape="poly" title=" " alt="" coords="117,596,205,551,224,544,226,549,207,556,119,600"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="236,565,388,606"/>
<area shape="poly" title=" " alt="" coords="158,605,220,596,221,602,158,611"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5d3d1260b6f77fdc4b6a8cef3417e94c" title=" " alt="" coords="218,631,406,671"/>
<area shape="poly" title=" " alt="" coords="158,627,203,633,202,638,158,632"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="484,684,637,725"/>
<area shape="poly" title=" " alt="" coords="115,637,157,661,206,680,274,695,343,703,469,706,469,712,343,708,273,700,205,686,155,666,112,642"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3" title=" " alt="" coords="236,745,388,786"/>
<area shape="poly" title=" " alt="" coords="104,638,149,681,207,725,230,737,228,741,204,729,145,685,100,642"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a89d9e83d4de2f7aec957e54dce4a76f5" title=" " alt="" coords="206,811,418,851"/>
<area shape="poly" title=" " alt="" coords="94,638,110,672,135,715,168,758,207,796,215,801,212,805,204,800,164,762,131,718,106,675,89,641"/>
<area shape="rect" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02" title=" " alt="" coords="251,876,372,901"/>
<area shape="poly" title=" " alt="" coords="90,639,102,685,125,746,159,808,182,837,207,861,238,877,235,881,204,865,178,840,155,811,120,748,97,687,84,640"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aae2b1bfeee1e7c1c0237f12776e75dd7" title="push_scheduled_transaction" alt="" coords="236,925,388,966"/>
<area shape="poly" title=" " alt="" coords="88,639,98,694,119,767,135,807,155,845,179,880,207,912,223,923,220,927,204,916,174,884,150,848,130,809,114,769,93,695,83,640"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__header.html#a220798b433002112ac85e5545a99ec51" title=" " alt="" coords="216,991,408,1031"/>
<area shape="poly" title=" " alt="" coords="86,640,93,704,112,795,127,843,148,891,174,936,208,976,212,980,208,984,204,980,170,939,143,894,122,845,106,796,88,705,81,640"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a558e8aff8e48deb61fae7407e10e8788" title=" " alt="" coords="230,1056,394,1097"/>
<area shape="poly" title=" " alt="" coords="85,639,88,714,104,822,119,881,140,939,170,993,208,1041,218,1050,215,1054,204,1045,165,996,136,941,114,882,98,823,83,715,80,640"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#ac2563020d92f69f6fe9a0b878f5a86f3" title=" " alt="" coords="470,269,651,310"/>
<area shape="poly" title=" " alt="" coords="394,287,454,287,454,292,394,292"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4c7e83b4e4c21205b0fb9b2e4b7fb227" title=" " alt="" coords="470,190,651,246"/>
<area shape="poly" title=" " alt="" coords="384,266,454,246,456,251,385,271"/>
<area shape="poly" title=" " alt="" coords="338,308,395,353,467,399,478,404,475,409,465,404,392,358,335,312"/>
<area shape="poly" title=" " alt="" coords="387,267,416,249,432,231,439,213,447,194,464,176,479,167,482,171,468,180,452,197,444,215,436,234,420,253,389,271"/>
<area shape="poly" title=" " alt="" coords="385,308,465,331,463,336,384,313"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#afc8b0aff5d6f215c336a682c83badf6e" title=" " alt="" coords="703,269,856,310"/>
<area shape="poly" title=" " alt="" coords="652,287,687,287,687,292,652,292"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7109e865e8dee8629db47f2503e351df" title=" " alt="" coords="907,269,1073,310"/>
<area shape="poly" title=" " alt="" coords="856,287,891,287,891,292,856,292"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="709,5,850,46"/>
<area shape="poly" title=" " alt="" coords="579,137,633,99,702,57,713,51,716,56,705,61,636,104,582,141"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="709,71,850,111"/>
<area shape="poly" title=" " alt="" coords="609,136,693,112,695,117,610,141"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="713,136,846,177"/>
<area shape="poly" title=" " alt="" coords="627,151,697,152,697,158,627,156"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="713,201,846,242"/>
<area shape="poly" title=" " alt="" coords="615,163,656,175,709,193,708,198,655,180,614,168"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="904,13,1076,38"/>
<area shape="poly" title=" " alt="" coords="850,23,888,23,888,28,850,28"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="703,341,856,382"/>
<area shape="poly" title=" " alt="" coords="642,359,688,359,688,364,642,364"/>
<area shape="poly" title=" " alt="" coords="394,628,416,615,456,581,490,542,540,466,544,469,495,545,460,585,420,620,397,633"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="541,634,580,660"/>
<area shape="poly" title=" " alt="" coords="407,647,526,645,526,650,407,652"/>
<area shape="poly" title=" " alt="" coords="407,669,470,682,469,687,406,674"/>
<area shape="poly" title=" " alt="" coords="539,644,521,633,518,620,532,611,561,608,585,610,600,616,604,626,596,636,592,633,599,625,597,620,584,615,561,613,534,616,523,622,525,629,542,639"/>
<area shape="rect" href="struct_a.html#ae6a8af4c0a13366326d0f3784d46847b" title=" " alt="" coords="751,610,808,636"/>
<area shape="poly" title=" " alt="" coords="580,642,736,625,736,630,581,648"/>
<area shape="rect" href="lib_8h.html#a3275d706a60352411b10ffe9c266f0cd" title=" " alt="" coords="748,660,811,685"/>
<area shape="poly" title=" " alt="" coords="581,647,733,664,732,670,580,652"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="484,749,637,790"/>
<area shape="poly" title=" " alt="" coords="388,764,469,766,469,771,388,770"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="486,818,635,844"/>
<area shape="poly" title=" " alt="" coords="419,828,471,828,471,834,419,834"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="482,998,639,1024"/>
<area shape="poly" title=" " alt="" coords="408,1008,467,1008,467,1014,408,1014"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_icgraph" id="astructsysio_1_1chain_1_1controller__impl_aa7c2a2da2eed15c5d55146b0ebd6646b_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,431,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,5,231,46"/>
<area shape="poly" title=" " alt="" coords="263,28,231,28,231,23,263,23"/>
</map>
</div>

</div>
</div>
<a id="ae80ad4ddd1eff225dc19c50439d82ef6" name="ae80ad4ddd1eff225dc19c50439d82ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae80ad4ddd1eff225dc19c50439d82ef6">&#9670;&#160;</a></span>calculate_integrity_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1sha256.html">sha256</a> sysio::chain::controller_impl::calculate_integrity_hash </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00978">978</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  978</span>                                     {</div>
<div class="line"><span class="lineno">  979</span>      sha256::encoder enc;</div>
<div class="line"><span class="lineno">  980</span>      <span class="keyword">auto</span> hash_writer = std::make_shared&lt;integrity_hash_snapshot_writer&gt;(enc);</div>
<div class="line"><span class="lineno">  981</span>      <a class="code hl_function" href="#a8477bef06de9c6d5f1c8a0a8cf1c8795">add_to_snapshot</a>(hash_writer);</div>
<div class="line"><span class="lineno">  982</span>      hash_writer-&gt;finalize();</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>      <span class="keywordflow">return</span> enc.result();</div>
<div class="line"><span class="lineno">  985</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a8477bef06de9c6d5f1c8a0a8cf1c8795"><div class="ttname"><a href="#a8477bef06de9c6d5f1c8a0a8cf1c8795">sysio::chain::controller_impl::add_to_snapshot</a></div><div class="ttdeci">void add_to_snapshot(const snapshot_writer_ptr &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00802">controller.cpp:802</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_cgraph">
<area shape="rect" title=" " alt="" coords="5,286,206,327"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="254,204,413,244"/>
<area shape="poly" title=" " alt="" coords="163,283,260,247,262,252,165,288"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="265,318,402,359"/>
<area shape="poly" title=" " alt="" coords="207,318,250,324,249,329,206,323"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#afb7b8a4e7c718c1262fe755aa1c2f148" title=" " alt="" coords="465,5,642,61"/>
<area shape="poly" title=" " alt="" coords="347,201,393,142,425,108,459,78,474,67,477,72,463,82,428,112,397,146,351,205"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a24e23281d4ccfdddcc761c83e14a4080" title=" " alt="" coords="461,92,646,132"/>
<area shape="poly" title=" " alt="" coords="362,201,407,171,460,141,472,136,474,141,462,146,410,176,365,205"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7160417d30f5ef3a91467fefebf65dc6" title=" " alt="" coords="461,156,646,212"/>
<area shape="poly" title=" " alt="" coords="413,207,445,201,446,206,414,212"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a338cb13e3b27ade2ee719b5421edcf7e" title=" " alt="" coords="468,236,640,292"/>
<area shape="poly" title=" " alt="" coords="414,236,452,243,451,248,413,241"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="471,344,636,370"/>
<area shape="poly" title=" " alt="" coords="368,242,462,302,517,334,514,338,460,306,365,247"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86" title=" " alt="" coords="722,8,853,48"/>
<area shape="poly" title=" " alt="" coords="642,28,707,27,707,32,642,34"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="963,6,1104,47"/>
<area shape="poly" title=" " alt="" coords="853,25,948,24,948,30,853,30"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1190,64,1357,90"/>
<area shape="poly" title=" " alt="" coords="1105,39,1195,58,1194,63,1104,44"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1407,57,1549,98"/>
<area shape="poly" title=" " alt="" coords="1357,83,1392,83,1392,89,1357,89"/>
<area shape="poly" title=" " alt="" coords="1406,63,1359,54,1234,40,1120,33,1120,27,1234,35,1360,49,1407,58"/>
<area shape="poly" title=" " alt="" coords="1407,71,1373,71,1373,66,1407,66"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="963,72,1104,112"/>
<area shape="poly" title=" " alt="" coords="630,233,644,222,655,208,661,194,665,166,671,138,679,125,693,112,722,95,754,83,821,69,888,67,948,72,948,77,888,72,821,74,755,88,725,100,696,117,683,128,676,140,671,167,666,196,660,211,648,226,634,238"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51" title=" " alt="" coords="711,126,864,167"/>
<area shape="poly" title=" " alt="" coords="625,233,645,222,668,200,678,189,693,178,704,171,706,176,696,182,682,193,672,203,648,226,627,238"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263" title=" " alt="" coords="711,192,864,232"/>
<area shape="poly" title=" " alt="" coords="640,242,696,229,697,235,641,247"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="721,256,854,282"/>
<area shape="poly" title=" " alt="" coords="640,263,706,265,706,270,640,268"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="711,306,864,347"/>
<area shape="poly" title=" " alt="" coords="641,284,697,300,696,305,640,290"/>
<area shape="poly" title=" " alt="" coords="1105,85,1174,81,1174,86,1105,90"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="964,165,1104,206"/>
<area shape="poly" title=" " alt="" coords="844,253,880,241,928,216,948,208,950,213,930,221,882,246,846,258"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="964,230,1104,271"/>
<area shape="poly" title=" " alt="" coords="854,262,948,254,948,260,854,267"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="967,361,1100,402"/>
<area shape="poly" title=" " alt="" coords="855,280,882,292,898,306,907,319,916,333,930,346,954,358,951,363,927,350,912,336,903,322,894,309,879,297,853,285"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="967,296,1100,336"/>
<area shape="poly" title=" " alt="" coords="855,279,952,298,951,303,854,284"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="1187,172,1359,198"/>
<area shape="poly" title=" " alt="" coords="1104,182,1172,182,1172,188,1104,188"/>
<area shape="poly" title=" " alt="" coords="637,359,952,374,951,380,636,364"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="694,423,881,449"/>
<area shape="poly" title=" " alt="" coords="613,368,647,379,695,400,734,415,732,420,693,405,645,384,611,373"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="929,426,1139,451"/>
<area shape="poly" title=" " alt="" coords="881,434,913,435,913,440,881,440"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="496,394,611,419"/>
<area shape="poly" title=" " alt="" coords="392,357,462,380,485,387,483,392,460,385,391,362"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ae80ad4ddd1eff225dc19c50439d82ef6_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,406,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a9ae4fff15a76a1c3089fdf0f3353a17f" name="a9ae4fff15a76a1c3089fdf0f3353a17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae4fff15a76a1c3089fdf0f3353a17f">&#9670;&#160;</a></span>calculate_trx_merkle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacesysio_1_1chain.html#a9c3cb5131331ed8d52a589437ccfb03e">checksum256_type</a> sysio::chain::controller_impl::calculate_trx_merkle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="structsysio_1_1chain_1_1transaction__receipt.html">transaction_receipt</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>trxs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02325">2325</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2325</span>                                                                                           {</div>
<div class="line"><span class="lineno"> 2326</span>      vector&lt;digest_type&gt; trx_digests;</div>
<div class="line"><span class="lineno"> 2327</span>      trx_digests.reserve( trxs.size() );</div>
<div class="line"><span class="lineno"> 2328</span>      <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> : trxs )</div>
<div class="line"><span class="lineno"> 2329</span>         trx_digests.emplace_back( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.digest() );</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40">merkle</a>( move(trx_digests) );</div>
<div class="line"><span class="lineno"> 2332</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a80d7ea5476f97bf51a25149b55469c40"><div class="ttname"><a href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40">sysio::chain::merkle</a></div><div class="ttdeci">digest_type merkle(vector&lt; digest_type &gt; ids)</div><div class="ttdef"><b>Definition</b> <a href="merkle_8cpp_source.html#l00035">merkle.cpp:35</a></div></div>
<div class="ttc" id="apointer_8h_html_aeeddce917cf130d62c370b8f216026dd"><div class="ttname"><a href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a></div><div class="ttdeci">const GenericPointer&lt; typename T::ValueType &gt; T2 T::AllocatorType &amp; a</div><div class="ttdef"><b>Definition</b> <a href="pointer_8h_source.html#l01181">pointer.h:1181</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,186,145"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="234,112,372,137"/>
<area shape="poly" title=" " alt="" coords="186,122,218,122,218,127,186,127"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="426,78,545,104"/>
<area shape="poly" title=" " alt="" coords="372,109,411,102,412,107,373,114"/>
<area shape="rect" href="namespacesysio_1_1chain.html#aaef17ed9b59c73f49f1889fe7484314f" title=" " alt="" coords="420,136,551,177"/>
<area shape="poly" title=" " alt="" coords="373,134,405,140,404,145,372,139"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="599,5,736,46"/>
<area shape="poly" title=" " alt="" coords="523,75,593,49,595,54,525,80"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="599,71,736,111"/>
<area shape="poly" title=" " alt="" coords="545,88,584,88,584,94,545,94"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="784,13,899,38"/>
<area shape="poly" title=" " alt="" coords="736,23,768,23,768,28,736,28"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a61210351e5f5e8bb94ca2b2f6a607082" title=" " alt="" coords="602,136,733,177"/>
<area shape="poly" title=" " alt="" coords="552,154,586,154,586,159,552,159"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a5d7ccb3192f954c6f4a4082007c45c04" title=" " alt="" coords="602,201,733,242"/>
<area shape="poly" title=" " alt="" coords="545,175,595,193,594,198,543,180"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a9ae4fff15a76a1c3089fdf0f3353a17f_icgraph">
<area shape="rect" title=" " alt="" coords="1498,60,1678,101"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2eee00b79604bc3dfa0a93f397a2d4d8" title="apply_block" alt="" coords="1269,27,1450,67"/>
<area shape="poly" title=" " alt="" coords="1482,68,1450,63,1451,58,1483,62"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1283,92,1436,133"/>
<area shape="poly" title=" " alt="" coords="1483,98,1437,104,1436,99,1482,92"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad5c91b7cff820c07efed35a7b3912d68" title=" " alt="" coords="1051,27,1221,67"/>
<area shape="poly" title=" " alt="" coords="1254,50,1222,50,1222,44,1254,44"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1060,92,1212,133"/>
<area shape="poly" title=" " alt="" coords="1268,115,1213,115,1213,110,1268,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1044,102,1003,96,1004,91,1045,97"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1045,121,803,137,803,132,1044,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1045,131,1003,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,153,1003,134,1044,126"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="805,21,902,27,954,36,1004,49,1029,61,1052,77,1080,89,1078,94,1050,81,1026,66,1002,53,952,41,901,33,804,26"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="aff9373c6d02a511984f20486e90585f5" name="aff9373c6d02a511984f20486e90585f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9373c6d02a511984f20486e90585f5">&#9670;&#160;</a></span>check_action_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::check_action_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a></td>          <td class="paramname"><span class="paramname"><em>action</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02506">2506</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2506</span>                                                                        {</div>
<div class="line"><span class="lineno"> 2507</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a979219adeffbc78b1fe73460a8005e39">action_blacklist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2508</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a979219adeffbc78b1fe73460a8005e39">action_blacklist</a>.find( std::make_pair(code, <a class="code hl_struct" href="structaction.html">action</a>) ) == <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a979219adeffbc78b1fe73460a8005e39">action_blacklist</a>.end(),</div>
<div class="line"><span class="lineno"> 2509</span>                     action_blacklist_exception,</div>
<div class="line"><span class="lineno"> 2510</span>                     <span class="stringliteral">&quot;action &#39;${code}::${action}&#39; is on the action blacklist&quot;</span>,</div>
<div class="line"><span class="lineno"> 2511</span>                     (<span class="stringliteral">&quot;code&quot;</span>, code)(<span class="stringliteral">&quot;action&quot;</span>, <a class="code hl_struct" href="structaction.html">action</a>)</div>
<div class="line"><span class="lineno"> 2512</span>                   );</div>
<div class="line"><span class="lineno"> 2513</span>      }</div>
<div class="line"><span class="lineno"> 2514</span>   }</div>
<div class="ttc" id="astructaction_html"><div class="ttname"><a href="structaction.html">action</a></div><div class="ttdef"><b>Definition</b> <a href="broadcast__server_8cpp_source.html#l00037">broadcast_server.cpp:37</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a979219adeffbc78b1fe73460a8005e39"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a979219adeffbc78b1fe73460a8005e39">sysio::chain::controller::config::action_blacklist</a></div><div class="ttdeci">flat_set&lt; pair&lt; account_name, action_name &gt; &gt; action_blacklist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00071">controller.hpp:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac79d2ab18d201291e9fbd0b38044e1f1" name="ac79d2ab18d201291e9fbd0b38044e1f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79d2ab18d201291e9fbd0b38044e1f1">&#9670;&#160;</a></span>check_actor_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::check_actor_list </td>
          <td>(</td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>actors</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02407">2407</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2407</span>                                                                      {</div>
<div class="line"><span class="lineno"> 2408</span>      <span class="keywordflow">if</span>( actors.size() == 0 ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2409</span> </div>
<div class="line"><span class="lineno"> 2410</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a64ea139aa98e2d67dfed0a5c2f36eb77">actor_whitelist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2411</span>         <span class="comment">// throw if actors is not a subset of whitelist</span></div>
<div class="line"><span class="lineno"> 2412</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; whitelist = <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a64ea139aa98e2d67dfed0a5c2f36eb77">actor_whitelist</a>;</div>
<div class="line"><span class="lineno"> 2413</span>         <span class="keywordtype">bool</span> is_subset = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2414</span> </div>
<div class="line"><span class="lineno"> 2415</span>         <span class="comment">// quick extents check, then brute force the check actors</span></div>
<div class="line"><span class="lineno"> 2416</span>         <span class="keywordflow">if</span> (*actors.cbegin() &gt;= *whitelist.cbegin() &amp;&amp; *actors.crbegin() &lt;= *whitelist.crbegin() ) {</div>
<div class="line"><span class="lineno"> 2417</span>            <span class="keyword">auto</span> lower_bound = whitelist.cbegin();</div>
<div class="line"><span class="lineno"> 2418</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; actor: actors) {</div>
<div class="line"><span class="lineno"> 2419</span>               lower_bound = std::lower_bound(lower_bound, whitelist.cend(), actor);</div>
<div class="line"><span class="lineno"> 2420</span> </div>
<div class="line"><span class="lineno"> 2421</span>               <span class="comment">// if the actor is not found, this is not a subset</span></div>
<div class="line"><span class="lineno"> 2422</span>               <span class="keywordflow">if</span> (lower_bound == whitelist.cend() || *lower_bound != actor ) {</div>
<div class="line"><span class="lineno"> 2423</span>                  is_subset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2424</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2425</span>               }</div>
<div class="line"><span class="lineno"> 2426</span> </div>
<div class="line"><span class="lineno"> 2427</span>               <span class="comment">// if the actor was found, we are guaranteed that other actors are either not present in the whitelist</span></div>
<div class="line"><span class="lineno"> 2428</span>               <span class="comment">// or will be present in the range defined as [next actor,end)</span></div>
<div class="line"><span class="lineno"> 2429</span>               lower_bound = std::next(lower_bound);</div>
<div class="line"><span class="lineno"> 2430</span>            }</div>
<div class="line"><span class="lineno"> 2431</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2432</span>            is_subset = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2433</span>         }</div>
<div class="line"><span class="lineno"> 2434</span> </div>
<div class="line"><span class="lineno"> 2435</span>         <span class="comment">// helper lambda to lazily calculate the actors for error messaging</span></div>
<div class="line"><span class="lineno"> 2436</span>         <span class="keyword">static</span> <span class="keyword">auto</span> generate_missing_actors = [](<span class="keyword">const</span> flat_set&lt;account_name&gt;&amp; actors, <span class="keyword">const</span> flat_set&lt;account_name&gt;&amp; whitelist) -&gt; vector&lt;account_name&gt; {</div>
<div class="line"><span class="lineno"> 2437</span>            vector&lt;account_name&gt; excluded;</div>
<div class="line"><span class="lineno"> 2438</span>            excluded.reserve( actors.size() );</div>
<div class="line"><span class="lineno"> 2439</span>            set_difference( actors.begin(), actors.end(),</div>
<div class="line"><span class="lineno"> 2440</span>                            whitelist.begin(), whitelist.end(),</div>
<div class="line"><span class="lineno"> 2441</span>                            std::back_inserter(excluded) );</div>
<div class="line"><span class="lineno"> 2442</span>            <span class="keywordflow">return</span> excluded;</div>
<div class="line"><span class="lineno"> 2443</span>         };</div>
<div class="line"><span class="lineno"> 2444</span> </div>
<div class="line"><span class="lineno"> 2445</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( is_subset,  actor_whitelist_exception,</div>
<div class="line"><span class="lineno"> 2446</span>                     <span class="stringliteral">&quot;authorizing actor(s) in transaction are not on the actor whitelist: ${actors}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2447</span>                     (<span class="stringliteral">&quot;actors&quot;</span>, generate_missing_actors(actors, whitelist))</div>
<div class="line"><span class="lineno"> 2448</span>                   );</div>
<div class="line"><span class="lineno"> 2449</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5922ec305c682477fd9ef6ce74293c9d">actor_blacklist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2450</span>         <span class="comment">// throw if actors intersects blacklist</span></div>
<div class="line"><span class="lineno"> 2451</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; blacklist = <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5922ec305c682477fd9ef6ce74293c9d">actor_blacklist</a>;</div>
<div class="line"><span class="lineno"> 2452</span>         <span class="keywordtype">bool</span> intersects = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2453</span> </div>
<div class="line"><span class="lineno"> 2454</span>         <span class="comment">// quick extents check then brute force check actors</span></div>
<div class="line"><span class="lineno"> 2455</span>         <span class="keywordflow">if</span>( *actors.cbegin() &lt;= *blacklist.crbegin() &amp;&amp; *actors.crbegin() &gt;= *blacklist.cbegin() ) {</div>
<div class="line"><span class="lineno"> 2456</span>            <span class="keyword">auto</span> lower_bound = blacklist.cbegin();</div>
<div class="line"><span class="lineno"> 2457</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; actor: actors) {</div>
<div class="line"><span class="lineno"> 2458</span>               lower_bound = std::lower_bound(lower_bound, blacklist.cend(), actor);</div>
<div class="line"><span class="lineno"> 2459</span> </div>
<div class="line"><span class="lineno"> 2460</span>               <span class="comment">// if the lower bound in the blacklist is at the end, all other actors are guaranteed to</span></div>
<div class="line"><span class="lineno"> 2461</span>               <span class="comment">// not exist in the blacklist</span></div>
<div class="line"><span class="lineno"> 2462</span>               <span class="keywordflow">if</span> (lower_bound == blacklist.cend()) {</div>
<div class="line"><span class="lineno"> 2463</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2464</span>               }</div>
<div class="line"><span class="lineno"> 2465</span> </div>
<div class="line"><span class="lineno"> 2466</span>               <span class="comment">// if the lower bound of an actor IS the actor, then we have an intersection</span></div>
<div class="line"><span class="lineno"> 2467</span>               <span class="keywordflow">if</span> (*lower_bound == actor) {</div>
<div class="line"><span class="lineno"> 2468</span>                  intersects = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2469</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2470</span>               }</div>
<div class="line"><span class="lineno"> 2471</span>            }</div>
<div class="line"><span class="lineno"> 2472</span>         }</div>
<div class="line"><span class="lineno"> 2473</span> </div>
<div class="line"><span class="lineno"> 2474</span>         <span class="comment">// helper lambda to lazily calculate the actors for error messaging</span></div>
<div class="line"><span class="lineno"> 2475</span>         <span class="keyword">static</span> <span class="keyword">auto</span> generate_blacklisted_actors = [](<span class="keyword">const</span> flat_set&lt;account_name&gt;&amp; actors, <span class="keyword">const</span> flat_set&lt;account_name&gt;&amp; <a class="code hl_variable" href="spec__test__generator_8cpp.html#a38761dc1394ef77d1a39dd282d9e64f5">blacklist</a>) -&gt; vector&lt;account_name&gt; {</div>
<div class="line"><span class="lineno"> 2476</span>            vector&lt;account_name&gt; blacklisted;</div>
<div class="line"><span class="lineno"> 2477</span>            blacklisted.reserve( actors.size() );</div>
<div class="line"><span class="lineno"> 2478</span>            set_intersection( actors.begin(), actors.end(),</div>
<div class="line"><span class="lineno"> 2479</span>                              blacklist.begin(), blacklist.end(),</div>
<div class="line"><span class="lineno"> 2480</span>                              std::back_inserter(blacklisted)</div>
<div class="line"><span class="lineno"> 2481</span>                            );</div>
<div class="line"><span class="lineno"> 2482</span>            <span class="keywordflow">return</span> blacklisted;</div>
<div class="line"><span class="lineno"> 2483</span>         };</div>
<div class="line"><span class="lineno"> 2484</span> </div>
<div class="line"><span class="lineno"> 2485</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !intersects, actor_blacklist_exception,</div>
<div class="line"><span class="lineno"> 2486</span>                     <span class="stringliteral">&quot;authorizing actor(s) in transaction are on the actor blacklist: ${actors}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2487</span>                     (<span class="stringliteral">&quot;actors&quot;</span>, generate_blacklisted_actors(actors, blacklist))</div>
<div class="line"><span class="lineno"> 2488</span>                   );</div>
<div class="line"><span class="lineno"> 2489</span>      }</div>
<div class="line"><span class="lineno"> 2490</span>   }</div>
<div class="ttc" id="aspec__test__generator_8cpp_html_a38761dc1394ef77d1a39dd282d9e64f5"><div class="ttname"><a href="spec__test__generator_8cpp.html#a38761dc1394ef77d1a39dd282d9e64f5">blacklist</a></div><div class="ttdeci">const std::set&lt; std::string &gt; blacklist</div><div class="ttdef"><b>Definition</b> <a href="spec__test__generator_8cpp_source.html#l01273">spec_test_generator.cpp:1273</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a5922ec305c682477fd9ef6ce74293c9d"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a5922ec305c682477fd9ef6ce74293c9d">sysio::chain::controller::config::actor_blacklist</a></div><div class="ttdeci">flat_set&lt; account_name &gt; actor_blacklist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00068">controller.hpp:68</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a64ea139aa98e2d67dfed0a5c2f36eb77"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a64ea139aa98e2d67dfed0a5c2f36eb77">sysio::chain::controller::config::actor_whitelist</a></div><div class="ttdeci">flat_set&lt; account_name &gt; actor_whitelist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00067">controller.hpp:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ac79d2ab18d201291e9fbd0b38044e1f1_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ac79d2ab18d201291e9fbd0b38044e1f1_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ac79d2ab18d201291e9fbd0b38044e1f1_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ac79d2ab18d201291e9fbd0b38044e1f1_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,434,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,5,231,46"/>
<area shape="poly" title=" " alt="" coords="263,28,231,28,231,23,263,23"/>
</map>
</div>

</div>
</div>
<a id="a16289260be252f6ebbd80763f657fb38" name="a16289260be252f6ebbd80763f657fb38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16289260be252f6ebbd80763f657fb38">&#9670;&#160;</a></span>check_contract_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::check_contract_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02492">2492</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2492</span>                                                      {</div>
<div class="line"><span class="lineno"> 2493</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a0c34416a36f48ede90d9701b986d3487">contract_whitelist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2494</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a0c34416a36f48ede90d9701b986d3487">contract_whitelist</a>.find( code ) != <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a0c34416a36f48ede90d9701b986d3487">contract_whitelist</a>.end(),</div>
<div class="line"><span class="lineno"> 2495</span>                     contract_whitelist_exception,</div>
<div class="line"><span class="lineno"> 2496</span>                     <span class="stringliteral">&quot;account &#39;${code}&#39; is not on the contract whitelist&quot;</span>, (<span class="stringliteral">&quot;code&quot;</span>, code)</div>
<div class="line"><span class="lineno"> 2497</span>                   );</div>
<div class="line"><span class="lineno"> 2498</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a71961d4eb70d927b9d0003f6255db95f">contract_blacklist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2499</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a71961d4eb70d927b9d0003f6255db95f">contract_blacklist</a>.find( code ) == <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a71961d4eb70d927b9d0003f6255db95f">contract_blacklist</a>.end(),</div>
<div class="line"><span class="lineno"> 2500</span>                     contract_blacklist_exception,</div>
<div class="line"><span class="lineno"> 2501</span>                     <span class="stringliteral">&quot;account &#39;${code}&#39; is on the contract blacklist&quot;</span>, (<span class="stringliteral">&quot;code&quot;</span>, code)</div>
<div class="line"><span class="lineno"> 2502</span>                   );</div>
<div class="line"><span class="lineno"> 2503</span>      }</div>
<div class="line"><span class="lineno"> 2504</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a0c34416a36f48ede90d9701b986d3487"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a0c34416a36f48ede90d9701b986d3487">sysio::chain::controller::config::contract_whitelist</a></div><div class="ttdeci">flat_set&lt; account_name &gt; contract_whitelist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00069">controller.hpp:69</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a71961d4eb70d927b9d0003f6255db95f"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a71961d4eb70d927b9d0003f6255db95f">sysio::chain::controller::config::contract_blacklist</a></div><div class="ttdeci">flat_set&lt; account_name &gt; contract_blacklist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00070">controller.hpp:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad83ca3895f901f87cbf1060493698f55" name="ad83ca3895f901f87cbf1060493698f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83ca3895f901f87cbf1060493698f55">&#9670;&#160;</a></span>check_key_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::check_key_list </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a0628a11f388cd2e43b1ccc1260a1042f">public_key_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02516">2516</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2516</span>                                                          {</div>
<div class="line"><span class="lineno"> 2517</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#ae36a724cde28ee8bc40c6b73206f8a61">key_blacklist</a>.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2518</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#ae36a724cde28ee8bc40c6b73206f8a61">key_blacklist</a>.find( key ) == <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#ae36a724cde28ee8bc40c6b73206f8a61">key_blacklist</a>.end(),</div>
<div class="line"><span class="lineno"> 2519</span>                     key_blacklist_exception,</div>
<div class="line"><span class="lineno"> 2520</span>                     <span class="stringliteral">&quot;public key &#39;${key}&#39; is on the key blacklist&quot;</span>,</div>
<div class="line"><span class="lineno"> 2521</span>                     (<span class="stringliteral">&quot;key&quot;</span>, key)</div>
<div class="line"><span class="lineno"> 2522</span>                   );</div>
<div class="line"><span class="lineno"> 2523</span>      }</div>
<div class="line"><span class="lineno"> 2524</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_ae36a724cde28ee8bc40c6b73206f8a61"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#ae36a724cde28ee8bc40c6b73206f8a61">sysio::chain::controller::config::key_blacklist</a></div><div class="ttdeci">flat_set&lt; public_key_type &gt; key_blacklist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00072">controller.hpp:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae66494cb9657c0157ee468c21b545f60" name="ae66494cb9657c0157ee468c21b545f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66494cb9657c0157ee468c21b545f60">&#9670;&#160;</a></span>check_protocol_features()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::check_protocol_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a></td>          <td class="paramname"><span class="paramname"><em>timestamp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>currently_activated_protocol_features</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>new_protocol_features</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called from other threads. The <a class="el" href="structsysio_1_1chain_1_1controller__impl.html">controller_impl</a> should outlive those threads. However, to avoid race conditions, it means that the behavior of this function should not change after <a class="el" href="structsysio_1_1chain_1_1controller__impl.html">controller_impl</a> construction.</p>
<p>This should not be an issue since the purpose of this function is to ensure all of the protocol features in the supplied vector are recognized by the software, and the set of recognized protocol features is determined at startup and cannot be changed without a restart. </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01875">1875</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1878</span>   {</div>
<div class="line"><span class="lineno"> 1879</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pfs = <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">get_protocol_feature_set</a>();</div>
<div class="line"><span class="lineno"> 1880</span> </div>
<div class="line"><span class="lineno"> 1881</span>      <span class="keywordflow">for</span>( <span class="keyword">auto</span> itr = new_protocol_features.begin(); itr != new_protocol_features.end(); ++itr ) {</div>
<div class="line"><span class="lineno"> 1882</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> = *itr;</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>         <span class="keyword">auto</span> status = pfs.is_recognized( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, timestamp );</div>
<div class="line"><span class="lineno"> 1885</span>         <span class="keywordflow">switch</span>( status ) {</div>
<div class="line"><span class="lineno"> 1886</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a96d8e9e3b92248258403f7fc4cb25644">protocol_feature_set::recognized_t::unrecognized</a>:</div>
<div class="line"><span class="lineno"> 1887</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1888</span>                          <span class="stringliteral">&quot;protocol feature with digest &#39;${digest}&#39; is unrecognized&quot;</span>, (<span class="stringliteral">&quot;digest&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>) );</div>
<div class="line"><span class="lineno"> 1889</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1890</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a075ae3d2fc31640504f814f60e5ef713">protocol_feature_set::recognized_t::disabled</a>:</div>
<div class="line"><span class="lineno"> 1891</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1892</span>                          <span class="stringliteral">&quot;protocol feature with digest &#39;${digest}&#39; is disabled&quot;</span>, (<span class="stringliteral">&quot;digest&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>) );</div>
<div class="line"><span class="lineno"> 1893</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1894</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a5d203566b82250f4113257b6db12e488">protocol_feature_set::recognized_t::too_early</a>:</div>
<div class="line"><span class="lineno"> 1895</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1896</span>                          <span class="stringliteral">&quot;${timestamp} is too early for the earliest allowed activation time of the protocol feature with digest &#39;${digest}&#39;&quot;</span>, (<span class="stringliteral">&quot;digest&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)(<span class="stringliteral">&quot;timestamp&quot;</span>, timestamp) );</div>
<div class="line"><span class="lineno"> 1897</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1898</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427ab2fdab230a2c39f3595a947861863cb7">protocol_feature_set::recognized_t::ready</a>:</div>
<div class="line"><span class="lineno"> 1899</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1900</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1901</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>( protocol_feature_exception, <span class="stringliteral">&quot;unexpected recognized_t status&quot;</span> );</div>
<div class="line"><span class="lineno"> 1902</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1903</span>         }</div>
<div class="line"><span class="lineno"> 1904</span> </div>
<div class="line"><span class="lineno"> 1905</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( currently_activated_protocol_features.find( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> ) == currently_activated_protocol_features.end(),</div>
<div class="line"><span class="lineno"> 1906</span>                     protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1907</span>                     <span class="stringliteral">&quot;protocol feature with digest &#39;${digest}&#39; has already been activated&quot;</span>,</div>
<div class="line"><span class="lineno"> 1908</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)</div>
<div class="line"><span class="lineno"> 1909</span>         );</div>
<div class="line"><span class="lineno"> 1910</span> </div>
<div class="line"><span class="lineno"> 1911</span>         <span class="keyword">auto</span> dependency_checker = [&amp;currently_activated_protocol_features, &amp;new_protocol_features, &amp;itr]</div>
<div class="line"><span class="lineno"> 1912</span>                                   ( <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a>&amp; <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> ) -&gt; <span class="keywordtype">bool</span></div>
<div class="line"><span class="lineno"> 1913</span>         {</div>
<div class="line"><span class="lineno"> 1914</span>            <span class="keywordflow">if</span>( currently_activated_protocol_features.find( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> ) != currently_activated_protocol_features.end() )</div>
<div class="line"><span class="lineno"> 1915</span>               <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1916</span> </div>
<div class="line"><span class="lineno"> 1917</span>            <span class="keywordflow">return</span> (std::find( new_protocol_features.begin(), itr, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> ) != itr);</div>
<div class="line"><span class="lineno"> 1918</span>         };</div>
<div class="line"><span class="lineno"> 1919</span> </div>
<div class="line"><span class="lineno"> 1920</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( pfs.validate_dependencies( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>, dependency_checker ), protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1921</span>                     <span class="stringliteral">&quot;not all dependencies of protocol feature with digest &#39;${digest}&#39; have been activated&quot;</span>,</div>
<div class="line"><span class="lineno"> 1922</span>                     (<span class="stringliteral">&quot;digest&quot;</span>, <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>)</div>
<div class="line"><span class="lineno"> 1923</span>         );</div>
<div class="line"><span class="lineno"> 1924</span>      }</div>
<div class="line"><span class="lineno"> 1925</span>   }</div>
<div class="ttc" id="a_x02-_disabled_macros_8cpp_html_ae28240b98d91d6eb7da702b770490f39"><div class="ttname"><a href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a></div><div class="ttdeci">foo f</div><div class="ttdef"><b>Definition</b> <a href="_x02-_disabled_macros_8cpp_source.html#l00025">X02-DisabledMacros.cpp:25</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a1bfa656552ea0534b2c91ee0fe33f850"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a></div><div class="ttdeci">#define SYS_THROW(exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00013">exceptions.hpp:13</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__manager_html_a9e6c1310749c4fd04035aa2c01310ce4"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">sysio::chain::protocol_feature_manager::get_protocol_feature_set</a></div><div class="ttdeci">const protocol_feature_set &amp; get_protocol_feature_set() const</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8hpp_source.html#l00342">protocol_feature_manager.hpp:342</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_a1d6d013242864bc12ae2a1f6fcc95427a075ae3d2fc31640504f814f60e5ef713"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a075ae3d2fc31640504f814f60e5ef713">sysio::chain::protocol_feature_set::recognized_t::disabled</a></div><div class="ttdeci">@ disabled</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_a1d6d013242864bc12ae2a1f6fcc95427a5d203566b82250f4113257b6db12e488"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a5d203566b82250f4113257b6db12e488">sysio::chain::protocol_feature_set::recognized_t::too_early</a></div><div class="ttdeci">@ too_early</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_a1d6d013242864bc12ae2a1f6fcc95427a96d8e9e3b92248258403f7fc4cb25644"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427a96d8e9e3b92248258403f7fc4cb25644">sysio::chain::protocol_feature_set::recognized_t::unrecognized</a></div><div class="ttdeci">@ unrecognized</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__set_html_a1d6d013242864bc12ae2a1f6fcc95427ab2fdab230a2c39f3595a947861863cb7"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__set.html#a1d6d013242864bc12ae2a1f6fcc95427ab2fdab230a2c39f3595a947861863cb7">sysio::chain::protocol_feature_set::recognized_t::ready</a></div><div class="ttdeci">@ ready</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a357fd9478475457e5bb386a3143079b6"><div class="ttname"><a href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">sysio::chain::digest_type</a></div><div class="ttdeci">checksum_type digest_type</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00237">types.hpp:237</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ae66494cb9657c0157ee468c21b545f60_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ae66494cb9657c0157ee468c21b545f60_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ae66494cb9657c0157ee468c21b545f60_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ae66494cb9657c0157ee468c21b545f60_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,208,54"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="256,5,407,61"/>
<area shape="poly" title=" " alt="" coords="208,30,240,30,240,36,208,36"/>
</map>
</div>

</div>
</div>
<a id="ade7505662796ff416f1d43862b0507fb" name="ade7505662796ff416f1d43862b0507fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7505662796ff416f1d43862b0507fb">&#9670;&#160;</a></span>clear_all_undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::clear_all_undo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00737">737</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  737</span>                         {</div>
<div class="line"><span class="lineno">  738</span>      <span class="comment">// Rewind the database to the last irreversible block</span></div>
<div class="line"><span class="lineno">  739</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a832c383b7d8573d399e6149d4c715bd6">undo_all</a>();</div>
<div class="line"><span class="lineno">  740</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  741</span><span class="comment">      FC_ASSERT(db.revision() == self.head_block_num(),</span></div>
<div class="line"><span class="lineno">  742</span><span class="comment">                  &quot;Chainbase revision does not match head block num&quot;,</span></div>
<div class="line"><span class="lineno">  743</span><span class="comment">                  (&quot;rev&quot;, db.revision())(&quot;head_block&quot;, self.head_block_num()));</span></div>
<div class="line"><span class="lineno">  744</span><span class="comment">                  */</span></div>
<div class="line"><span class="lineno">  745</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a832c383b7d8573d399e6149d4c715bd6"><div class="ttname"><a href="classchainbase_1_1database.html#a832c383b7d8573d399e6149d4c715bd6">chainbase::database::undo_all</a></div><div class="ttdeci">void undo_all()</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8cpp_source.html#l00065">chainbase.cpp:65</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ade7505662796ff416f1d43862b0507fb_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ade7505662796ff416f1d43862b0507fb_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ade7505662796ff416f1d43862b0507fb_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ade7505662796ff416f1d43862b0507fb_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,158,46"/>
<area shape="rect" href="classchainbase_1_1database.html#a832c383b7d8573d399e6149d4c715bd6" title=" " alt="" coords="206,5,347,46"/>
<area shape="poly" title=" " alt="" coords="158,23,190,23,190,28,158,28"/>
</map>
</div>

</div>
</div>
<a id="a338cb13e3b27ade2ee719b5421edcf7e" name="a338cb13e3b27ade2ee719b5421edcf7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338cb13e3b27ade2ee719b5421edcf7e">&#9670;&#160;</a></span>clear_expired_input_transactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::clear_expired_input_transactions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>deadline</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02379">2379</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2379</span>                                                                       {</div>
<div class="line"><span class="lineno"> 2380</span>      <span class="comment">//Look for expired transactions in the deduplication list, and remove them.</span></div>
<div class="line"><span class="lineno"> 2381</span>      <span class="keyword">auto</span>&amp; transaction_idx = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">get_mutable_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7ae1398893dd587589ee5593a952a2ef">transaction_multi_index</a>&gt;();</div>
<div class="line"><span class="lineno"> 2382</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; dedupe_index = transaction_idx.indices().get&lt;by_expiration&gt;();</div>
<div class="line"><span class="lineno"> 2383</span>      <span class="keyword">auto</span> now = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263">is_building_block</a>() ? <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>() : <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51">head_block_time</a>();</div>
<div class="line"><span class="lineno"> 2384</span>      <span class="keyword">const</span> <span class="keyword">auto</span> total = dedupe_index.size();</div>
<div class="line"><span class="lineno"> 2385</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_removed = 0;</div>
<div class="line"><span class="lineno"> 2386</span>      <span class="keywordflow">while</span>( (!dedupe_index.empty()) &amp;&amp; ( now &gt; <a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a>(dedupe_index.begin()-&gt;expiration) ) ) {</div>
<div class="line"><span class="lineno"> 2387</span>         transaction_idx.remove(*dedupe_index.begin());</div>
<div class="line"><span class="lineno"> 2388</span>         ++num_removed;</div>
<div class="line"><span class="lineno"> 2389</span>         <span class="keywordflow">if</span>( deadline &lt;= <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() ) {</div>
<div class="line"><span class="lineno"> 2390</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2391</span>         }</div>
<div class="line"><span class="lineno"> 2392</span>      }</div>
<div class="line"><span class="lineno"> 2393</span>      <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;removed ${n} expired transactions of the ${t} input dedup list, pending block time ${pt}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2394</span>           (<span class="stringliteral">&quot;n&quot;</span>, num_removed)(<span class="stringliteral">&quot;t&quot;</span>, total)(<span class="stringliteral">&quot;pt&quot;</span>, now));</div>
<div class="line"><span class="lineno"> 2395</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_afaea057692a8bbbf3f506b64c60308b6"><div class="ttname"><a href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">chainbase::database::get_mutable_index</a></div><div class="ttdeci">generic_index&lt; MultiIndexType &gt; &amp; get_mutable_index()</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00447">chainbase.hpp:447</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html"><div class="ttname"><a href="classfc_1_1time__point.html">fc::time_point</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00042">time.hpp:42</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a286751cd6498b500b70a0d3678672263"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263">sysio::chain::controller::is_building_block</a></div><div class="ttdeci">bool is_building_block() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03328">controller.cpp:3328</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_aea3612e7cb52dfcaa2e6afdc1b3e2f51"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51">sysio::chain::controller::head_block_time</a></div><div class="ttdeci">time_point head_block_time() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02952">controller.cpp:2952</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a3da1571bad6ca6c94df9a3660b2115ee"><div class="ttname"><a href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a></div><div class="ttdeci">#define dlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00101">logger.hpp:101</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7ae1398893dd587589ee5593a952a2ef"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7ae1398893dd587589ee5593a952a2ef">sysio::chain::transaction_multi_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; transaction_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, BOOST_MULTI_INDEX_MEMBER(transaction_object, transaction_object::id_type, id)&gt;, ordered_unique&lt; tag&lt; by_trx_id &gt;, BOOST_MULTI_INDEX_MEMBER(transaction_object, transaction_id_type, trx_id)&gt;, ordered_unique&lt; tag&lt; by_expiration &gt;, composite_key&lt; transaction_object, BOOST_MULTI_INDEX_MEMBER(transaction_object, time_point_sec, expiration), &gt; &gt; &gt; &gt; transaction_multi_index</div><div class="ttdef"><b>Definition</b> <a href="transaction__object_8hpp_source.html#l00031">transaction_object.hpp:31</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_cgraph">
<area shape="rect" title=" " alt="" coords="5,128,178,184"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="231,5,372,46"/>
<area shape="poly" title=" " alt="" coords="125,126,171,91,224,57,235,51,237,56,227,61,174,96,129,130"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51" title=" " alt="" coords="226,71,378,111"/>
<area shape="poly" title=" " alt="" coords="177,127,219,114,221,119,179,132"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263" title=" " alt="" coords="226,136,378,177"/>
<area shape="poly" title=" " alt="" coords="178,154,210,154,210,159,178,159"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="236,201,368,226"/>
<area shape="poly" title=" " alt="" coords="179,177,238,194,237,199,177,182"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="226,251,378,291"/>
<area shape="poly" title=" " alt="" coords="136,182,227,237,236,241,234,246,224,241,133,187"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="426,13,593,38"/>
<area shape="poly" title=" " alt="" coords="373,23,410,23,410,28,373,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="657,5,798,46"/>
<area shape="poly" title=" " alt="" coords="594,32,642,32,642,37,594,37"/>
<area shape="poly" title=" " alt="" coords="656,20,609,19,609,14,656,15"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="862,35,1003,75"/>
<area shape="poly" title=" " alt="" coords="799,33,847,40,846,45,798,38"/>
<area shape="poly" title=" " alt="" coords="861,63,757,67,641,60,569,46,570,41,642,55,757,61,861,58"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="440,120,580,161"/>
<area shape="poly" title=" " alt="" coords="343,198,377,186,438,164,440,169,379,191,344,203"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="440,185,580,226"/>
<area shape="poly" title=" " alt="" coords="369,208,424,206,424,212,369,214"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="443,251,576,291"/>
<area shape="poly" title=" " alt="" coords="352,225,429,246,427,251,351,230"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="443,316,576,357"/>
<area shape="poly" title=" " alt="" coords="358,225,380,237,396,253,405,269,413,285,428,301,435,306,432,310,424,305,408,288,400,272,392,256,376,241,355,229"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="641,128,814,153"/>
<area shape="poly" title=" " alt="" coords="580,138,626,138,626,143,580,143"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a338cb13e3b27ade2ee719b5421edcf7e_icgraph">
<area shape="rect" title=" " alt="" coords="1507,80,1679,136"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="1299,55,1459,95"/>
<area shape="poly" title=" " alt="" coords="1491,95,1459,90,1460,85,1492,90"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1303,120,1455,161"/>
<area shape="poly" title=" " alt="" coords="1492,126,1456,132,1455,126,1491,121"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="1051,31,1251,71"/>
<area shape="poly" title=" " alt="" coords="1283,68,1252,64,1252,59,1284,62"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="851,5,1003,46"/>
<area shape="poly" title=" " alt="" coords="1035,41,1003,37,1004,32,1036,35"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1075,120,1227,161"/>
<area shape="poly" title=" " alt="" coords="1288,143,1228,143,1228,138,1288,138"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,120,1003,161"/>
<area shape="poly" title=" " alt="" coords="1060,143,1004,143,1004,138,1060,138"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,177,803,218"/>
<area shape="poly" title=" " alt="" coords="1060,165,1003,175,900,188,803,195,803,190,899,182,1003,170,1059,159"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,235,574,275"/>
<area shape="poly" title=" " alt="" coords="1087,169,1004,198,889,223,772,240,664,250,575,255,575,250,664,245,772,234,888,218,1002,192,1086,164"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,63,789,103"/>
<area shape="poly" title=" " alt="" coords="835,119,788,106,790,101,836,113"/>
<area shape="poly" title=" " alt="" coords="836,167,792,179,791,174,835,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,120,566,161"/>
<area shape="poly" title=" " alt="" coords="835,143,567,143,567,138,835,138"/>
<area shape="poly" title=" " alt="" coords="805,85,901,93,1003,106,1075,119,1074,125,1003,111,900,98,804,91"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,207,158,247"/>
<area shape="poly" title=" " alt="" coords="607,205,158,226,158,221,607,200"/>
<area shape="poly" title=" " alt="" coords="616,176,566,163,568,157,617,170"/>
<area shape="poly" title=" " alt="" coords="617,225,572,237,571,231,616,220"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,235,358,275"/>
<area shape="poly" title=" " alt="" coords="391,258,359,258,359,252,391,252"/>
<area shape="poly" title=" " alt="" coords="190,245,158,240,158,235,190,240"/>
</map>
</div>

</div>
</div>
<a id="abde6bacce9f720ad552d0e342c52d3b4" name="abde6bacce9f720ad552d0e342c52d3b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde6bacce9f720ad552d0e342c52d3b4">&#9670;&#160;</a></span>commit_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::commit_block </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>add_to_fork_db</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section post"><dt>Postcondition</dt><dd>regardless of the success of commit block there is no active pending block </dd></dl>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01827">1827</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1827</span>                                            {</div>
<div class="line"><span class="lineno"> 1828</span>      <span class="keyword">auto</span> reset_pending_on_exit = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([<span class="keyword">this</span>]{</div>
<div class="line"><span class="lineno"> 1829</span>         <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>.reset();</div>
<div class="line"><span class="lineno"> 1830</span>      });</div>
<div class="line"><span class="lineno"> 1831</span> </div>
<div class="line"><span class="lineno"> 1832</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1833</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( std::holds_alternative&lt;completed_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 1834</span>                     <span class="stringliteral">&quot;cannot call commit_block until pending block is completed&quot;</span> );</div>
<div class="line"><span class="lineno"> 1835</span> </div>
<div class="line"><span class="lineno"> 1836</span>         <span class="keyword">auto</span> bsp = std::get&lt;completed_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._block_state;</div>
<div class="line"><span class="lineno"> 1837</span> </div>
<div class="line"><span class="lineno"> 1838</span>         <span class="keywordflow">if</span>( add_to_fork_db ) {</div>
<div class="line"><span class="lineno"> 1839</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079">add</a>( bsp );</div>
<div class="line"><span class="lineno"> 1840</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a>( bsp );</div>
<div class="line"><span class="lineno"> 1841</span>            <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a0a0659166483870bf065f4d5e671484e">accepted_block_header</a>, bsp );</div>
<div class="line"><span class="lineno"> 1842</span>            <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>();</div>
<div class="line"><span class="lineno"> 1843</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( bsp == <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>, <span class="stringliteral">&quot;committed block did not become the new head in fork database&quot;</span>);</div>
<div class="line"><span class="lineno"> 1844</span>         }</div>
<div class="line"><span class="lineno"> 1845</span> </div>
<div class="line"><span class="lineno"> 1846</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1847</span>            dm_logger-&gt;on_accepted_block(bsp);</div>
<div class="line"><span class="lineno"> 1848</span>         }</div>
<div class="line"><span class="lineno"> 1849</span> </div>
<div class="line"><span class="lineno"> 1850</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a1ff3607461fff45552db45cec5aca012">accepted_block</a>, bsp );</div>
<div class="line"><span class="lineno"> 1851</span> </div>
<div class="line"><span class="lineno"> 1852</span>         <span class="keywordflow">if</span>( add_to_fork_db ) {</div>
<div class="line"><span class="lineno"> 1853</span>            <a class="code hl_function" href="#ad0130874bac31eb408dd6e766084b814">log_irreversible</a>();</div>
<div class="line"><span class="lineno"> 1854</span>         }</div>
<div class="line"><span class="lineno"> 1855</span>      } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1856</span>         <span class="comment">// dont bother resetting pending, instead abort the block</span></div>
<div class="line"><span class="lineno"> 1857</span>         reset_pending_on_exit.cancel();</div>
<div class="line"><span class="lineno"> 1858</span>         <a class="code hl_function" href="#aed82882c38a7b9a2ab8ccf26b7d68126">abort_block</a>();</div>
<div class="line"><span class="lineno"> 1859</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1860</span>      }</div>
<div class="line"><span class="lineno"> 1861</span> </div>
<div class="line"><span class="lineno"> 1862</span>      <span class="comment">// push the state for pending.</span></div>
<div class="line"><span class="lineno"> 1863</span>      <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;push();</div>
<div class="line"><span class="lineno"> 1864</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a0a0659166483870bf065f4d5e671484e"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a0a0659166483870bf065f4d5e671484e">sysio::chain::controller::accepted_block_header</a></div><div class="ttdeci">signal&lt; void(const block_state_ptr &amp;)&gt; accepted_block_header</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00328">controller.hpp:328</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a1ff3607461fff45552db45cec5aca012"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a1ff3607461fff45552db45cec5aca012">sysio::chain::controller::accepted_block</a></div><div class="ttdeci">signal&lt; void(const block_state_ptr &amp;)&gt; accepted_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00329">controller.hpp:329</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a3b128a7d57c262ef6351d83c16cffae3"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">sysio::chain::fork_database::head</a></div><div class="ttdeci">block_state_ptr head() const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00400">fork_database.cpp:400</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a764fc46000bb93901ba6440fec07b5f9"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">sysio::chain::fork_database::mark_valid</a></div><div class="ttdeci">void mark_valid(const block_state_ptr &amp;h)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00543">fork_database.cpp:543</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a97cf1402b71020048ae0054e4d7c8079"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079">sysio::chain::fork_database::add</a></div><div class="ttdeci">void add(const block_state_ptr &amp;next_block, bool ignore_duplicate=false)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00385">fork_database.cpp:385</a></div></div>
<div class="ttc" id="anamespacefc_html_a23d89b54a8ffd84f7e7efeb21747d846"><div class="ttname"><a href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a></div><div class="ttdeci">scoped_exit&lt; Callback &gt; make_scoped_exit(Callback &amp;&amp;c)</div><div class="ttdef"><b>Definition</b> <a href="scoped__exit_8hpp_source.html#l00035">scoped_exit.hpp:35</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_acad19c1ca23d796138841046c67b3ea9"><div class="ttname"><a href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">sysio::chain::fork_database_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type fork_database_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00205">exceptions.hpp:205</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a6380e434da95a328ff48ccab33df9cb0"><div class="ttname"><a href="#a6380e434da95a328ff48ccab33df9cb0">sysio::chain::controller_impl::emit</a></div><div class="ttdeci">void emit(const Signal &amp;s, Arg &amp;&amp;a)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00368">controller.cpp:368</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ad0130874bac31eb408dd6e766084b814"><div class="ttname"><a href="#ad0130874bac31eb408dd6e766084b814">sysio::chain::controller_impl::log_irreversible</a></div><div class="ttdeci">void log_irreversible()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00395">controller.cpp:395</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_cgraph" id="astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_cgraph">
<area shape="rect" title="finalize_block" alt="" coords="5,1104,158,1144"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="660,85,812,126"/>
<area shape="poly" title=" " alt="" coords="81,1103,91,964,112,752,129,641,149,538,174,451,188,417,203,390,248,337,301,290,358,249,419,214,480,184,539,160,644,125,645,130,541,165,482,189,421,219,361,254,304,294,252,341,208,393,193,419,179,453,154,539,134,642,118,753,96,964,87,1103"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="221,404,342,444"/>
<area shape="poly" title=" " alt="" coords="82,1103,93,975,116,785,132,685,152,593,176,515,189,485,204,461,211,452,215,456,208,464,194,487,181,517,157,594,137,686,121,785,98,976,87,1103"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="1203,1422,1355,1463"/>
<area shape="poly" title=" " alt="" coords="86,1144,92,1292,110,1517,125,1635,146,1743,174,1833,190,1867,208,1893,239,1924,270,1947,300,1961,331,1970,402,1975,489,1975,737,1975,789,1970,839,1958,886,1939,931,1914,974,1883,1013,1849,1086,1770,1147,1686,1197,1604,1235,1532,1261,1476,1266,1479,1240,1534,1202,1607,1151,1689,1090,1774,1017,1852,977,1887,934,1918,888,1944,840,1963,790,1975,737,1980,489,1980,402,1981,330,1975,298,1966,267,1951,236,1928,204,1896,185,1869,169,1834,141,1745,120,1636,104,1518,86,1292,81,1145"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="918,765,1108,806"/>
<area shape="poly" title=" " alt="" coords="90,1102,152,988,202,907,264,818,338,727,423,640,469,600,518,564,569,532,622,504,685,478,714,469,741,464,768,465,795,471,822,484,850,505,875,533,885,563,884,594,879,626,874,658,872,690,879,721,899,751,907,759,903,763,895,755,874,723,867,690,868,657,874,625,879,594,879,564,870,535,847,508,819,489,793,476,767,470,741,470,715,474,687,483,624,509,571,536,521,568,472,605,426,644,342,730,268,821,206,910,156,991,95,1104"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="952,1602,1074,1643"/>
<area shape="poly" title=" " alt="" coords="87,1144,98,1273,121,1465,138,1565,158,1658,181,1735,194,1765,208,1789,250,1837,292,1865,342,1882,407,1899,450,1907,494,1909,538,1905,582,1897,667,1869,747,1829,821,1783,886,1735,979,1652,983,1656,889,1739,824,1787,750,1834,669,1874,583,1902,539,1911,494,1914,450,1912,405,1904,341,1887,290,1870,246,1841,204,1792,189,1768,176,1737,152,1659,132,1566,116,1465,93,1273,82,1145"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="206,1454,358,1495"/>
<area shape="poly" title=" " alt="" coords="97,1143,264,1439,259,1442,92,1146"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="938,1378,1088,1403"/>
<area shape="poly" title=" " alt="" coords="155,1100,249,1083,304,1077,361,1076,419,1081,476,1094,529,1115,577,1147,599,1174,607,1203,607,1232,602,1262,597,1292,596,1320,604,1347,625,1372,646,1384,675,1392,752,1401,840,1401,923,1396,923,1402,840,1406,752,1406,674,1398,644,1389,622,1377,600,1350,591,1321,592,1291,597,1262,601,1232,602,1203,594,1176,574,1151,527,1120,474,1099,419,1086,361,1082,304,1083,250,1088,156,1105"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="414,1849,567,1890"/>
<area shape="poly" title=" " alt="" coords="90,1144,132,1297,166,1402,208,1505,251,1607,286,1687,306,1723,332,1758,365,1794,408,1834,414,1838,410,1843,404,1838,361,1798,327,1761,302,1726,281,1689,246,1609,203,1508,161,1403,127,1299,85,1145"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="925,5,1100,61"/>
<area shape="poly" title=" " alt="" coords="812,83,909,57,911,62,813,88"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5952c7d18c4d936c9416cf7cbce01d87" title=" " alt="" coords="1177,13,1381,54"/>
<area shape="poly" title=" " alt="" coords="1101,30,1161,30,1161,36,1101,36"/>
<area shape="poly" title=" " alt="" coords="314,1493,356,1518,407,1537,531,1560,612,1568,702,1572,800,1571,905,1563,1015,1547,1128,1521,1186,1499,1235,1470,1238,1474,1188,1503,1130,1526,1016,1552,906,1568,801,1576,702,1578,611,1573,531,1565,405,1542,354,1523,311,1498"/>
<area shape="poly" title=" " alt="" coords="301,1493,345,1540,374,1563,407,1581,476,1605,548,1622,622,1633,694,1639,829,1638,937,1630,937,1635,829,1644,694,1644,621,1638,547,1627,475,1610,405,1586,371,1568,341,1544,297,1497"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="407,1161,574,1202"/>
<area shape="poly" title=" " alt="" coords="285,1453,298,1405,321,1341,356,1273,378,1241,404,1213,409,1208,413,1212,408,1216,382,1244,360,1275,326,1343,303,1406,290,1454"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227" title=" " alt="" coords="426,1226,556,1267"/>
<area shape="poly" title=" " alt="" coords="289,1453,305,1416,330,1369,363,1321,404,1278,411,1273,414,1277,408,1282,367,1324,335,1372,310,1418,293,1455"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="414,880,567,920"/>
<area shape="poly" title=" " alt="" coords="288,1453,474,934,479,936,293,1455"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="420,1488,561,1528"/>
<area shape="poly" title=" " alt="" coords="359,1484,405,1491,404,1497,358,1489"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="408,1357,573,1398"/>
<area shape="poly" title=" " alt="" coords="320,1451,405,1408,420,1402,422,1406,407,1413,322,1456"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="418,1422,563,1463"/>
<area shape="poly" title=" " alt="" coords="358,1460,402,1453,403,1459,359,1465"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="426,1653,556,1694"/>
<area shape="poly" title=" " alt="" coords="297,1494,341,1561,372,1599,408,1632,422,1643,419,1647,404,1637,368,1602,336,1564,292,1497"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99" title=" " alt="" coords="426,1718,556,1759"/>
<area shape="poly" title=" " alt="" coords="291,1495,306,1538,330,1593,364,1652,384,1679,408,1703,414,1709,411,1713,404,1707,380,1683,359,1655,325,1596,301,1540,286,1496"/>
<area shape="poly" title=" " alt="" coords="293,1495,408,1834,411,1837,408,1841,404,1837,288,1496"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="406,1292,575,1332"/>
<area shape="poly" title=" " alt="" coords="296,1452,341,1399,371,1369,404,1343,413,1337,416,1342,408,1347,375,1373,345,1402,300,1456"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="430,1784,551,1824"/>
<area shape="poly" title=" " alt="" coords="292,1494,342,1639,375,1717,392,1748,408,1769,418,1777,415,1781,404,1772,388,1751,370,1720,337,1641,287,1496"/>
<area shape="poly" title=" " alt="" coords="453,923,135,1098,132,1093,450,918"/>
<area shape="poly" title=" " alt="" coords="492,879,510,723,543,490,582,266,602,187,611,159,621,142,644,124,647,128,625,146,616,162,607,188,587,268,548,490,516,724,497,879"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="897,930,1129,971"/>
<area shape="poly" title=" " alt="" coords="547,876,611,859,688,846,729,844,770,846,811,852,850,865,866,877,876,890,884,904,898,916,907,921,904,926,895,921,880,907,871,893,863,881,847,870,810,858,770,851,729,849,688,851,612,864,548,881"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="660,404,812,444"/>
<area shape="poly" title=" " alt="" coords="492,879,503,811,526,715,543,661,564,607,590,554,621,505,649,475,681,451,684,455,653,479,625,508,595,557,569,609,548,663,531,716,508,812,497,879"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="647,1184,825,1224"/>
<area shape="poly" title=" " alt="" coords="502,920,557,1050,592,1119,610,1145,625,1163,639,1174,636,1178,622,1167,605,1148,588,1121,552,1052,497,922"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1186,830,1372,855"/>
<area shape="poly" title=" " alt="" coords="490,879,496,795,515,669,532,598,554,526,584,456,621,390,679,312,707,283,736,258,768,238,804,220,896,185,962,162,1019,149,1046,148,1073,154,1101,166,1131,186,1141,199,1151,220,1173,285,1216,471,1253,671,1276,814,1271,815,1248,672,1211,472,1168,287,1147,222,1137,202,1127,190,1099,170,1072,159,1046,154,1020,154,964,168,898,190,806,225,771,243,739,263,711,287,684,315,626,393,589,458,559,528,537,599,520,670,501,795,495,879"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="930,880,1096,906"/>
<area shape="poly" title=" " alt="" coords="517,877,564,846,593,832,623,821,686,806,737,799,788,804,850,821,865,830,875,839,884,849,898,859,933,873,931,878,895,864,881,853,871,843,862,834,848,826,787,809,737,805,687,811,624,826,595,837,567,851,520,881"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="623,1322,849,1363"/>
<area shape="poly" title=" " alt="" coords="504,919,538,1000,578,1104,589,1155,593,1197,601,1236,610,1256,625,1278,644,1297,667,1312,664,1317,641,1301,621,1282,606,1259,596,1237,588,1198,584,1156,573,1106,533,1002,499,922"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="933,1126,1092,1167"/>
<area shape="poly" title=" " alt="" coords="500,920,514,964,539,1019,575,1075,598,1099,625,1119,659,1137,696,1150,773,1164,849,1166,917,1161,918,1166,849,1172,772,1169,694,1155,657,1141,622,1123,595,1103,571,1078,534,1022,509,966,495,921"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="1203,1184,1355,1224"/>
<area shape="poly" title=" " alt="" coords="503,920,578,1104,588,1144,591,1178,600,1207,610,1221,625,1234,644,1244,667,1252,727,1261,799,1263,879,1260,1045,1242,1187,1219,1188,1224,1046,1247,880,1265,799,1269,726,1266,666,1257,641,1249,622,1238,606,1224,595,1210,586,1179,582,1145,573,1106,498,922"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="635,584,837,624"/>
<area shape="poly" title=" " alt="" coords="494,878,508,829,532,763,570,695,594,663,622,635,628,630,631,635,625,639,598,666,574,697,537,765,513,830,499,880"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="660,649,812,690"/>
<area shape="poly" title=" " alt="" coords="498,878,515,840,542,792,577,743,622,700,644,687,647,692,625,705,581,746,546,795,520,842,503,880"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="660,880,812,920"/>
<area shape="poly" title=" " alt="" coords="567,897,644,897,644,902,567,902"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="635,518,837,559"/>
<area shape="poly" title=" " alt="" coords="492,879,501,818,523,735,540,691,562,647,589,606,621,570,626,566,630,570,625,574,593,609,567,649,545,693,529,737,507,819,497,879"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="659,714,813,755"/>
<area shape="poly" title=" " alt="" coords="507,877,555,825,587,796,622,771,645,759,648,763,625,775,590,800,559,829,511,881"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="660,945,812,986"/>
<area shape="poly" title=" " alt="" coords="568,918,645,938,644,943,567,923"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="680,1034,792,1059"/>
<area shape="poly" title=" " alt="" coords="518,918,566,956,625,995,686,1025,684,1030,622,999,563,960,515,923"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="670,1083,802,1109"/>
<area shape="poly" title=" " alt="" coords="504,919,522,953,549,994,583,1035,625,1070,656,1083,654,1088,622,1074,580,1039,545,997,518,956,499,922"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="923,85,1103,126"/>
<area shape="poly" title=" " alt="" coords="746,402,803,304,846,243,895,186,928,157,962,132,965,136,931,161,899,190,850,246,808,307,750,404"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="1210,227,1348,253"/>
<area shape="poly" title=" " alt="" coords="812,408,999,375,1082,358,1128,345,1163,327,1197,305,1251,261,1255,265,1200,309,1166,332,1130,350,1083,363,1000,380,813,414"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="915,410,1110,451"/>
<area shape="poly" title=" " alt="" coords="813,423,900,425,900,430,813,428"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="937,621,1089,662"/>
<area shape="poly" title=" " alt="" coords="814,437,833,447,851,461,864,479,872,497,875,532,879,567,885,584,899,601,924,618,920,623,895,604,881,586,873,568,870,533,867,498,860,481,847,464,831,452,812,442"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="937,685,1088,741"/>
<area shape="poly" title=" " alt="" coords="814,436,834,446,851,461,869,488,877,515,878,542,875,568,873,594,874,620,881,645,899,671,925,691,921,695,895,675,876,648,869,621,868,594,870,568,872,542,872,516,864,490,847,464,831,451,811,441"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571" title=" " alt="" coords="920,475,1106,546"/>
<area shape="poly" title=" " alt="" coords="805,442,906,474,905,479,803,447"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a" title=" " alt="" coords="907,200,1119,256"/>
<area shape="poly" title=" " alt="" coords="751,401,810,335,851,298,895,266,904,261,906,265,898,270,854,302,814,339,755,405"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20" title=" " alt="" coords="906,280,1120,336"/>
<area shape="poly" title=" " alt="" coords="784,400,896,352,926,339,928,344,898,357,786,405"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="1219,879,1339,905"/>
<area shape="poly" title=" " alt="" coords="814,439,850,461,868,485,875,510,881,533,887,544,898,555,929,572,958,579,987,579,1016,576,1045,574,1074,575,1103,585,1131,607,1153,640,1162,673,1161,706,1156,739,1150,771,1150,803,1158,835,1179,866,1205,883,1203,887,1175,870,1153,837,1144,804,1145,771,1151,738,1156,705,1157,673,1149,642,1127,611,1100,590,1073,581,1045,579,1017,582,988,585,958,585,927,577,895,559,883,548,876,536,869,511,864,487,847,464,811,443"/>
<area shape="poly" title=" " alt="" coords="1086,124,1130,141,1195,178,1250,215,1247,220,1193,183,1128,146,1084,128"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1429,830,1640,855"/>
<area shape="poly" title=" " alt="" coords="1373,840,1413,840,1413,845,1373,845"/>
<area shape="poly" title=" " alt="" coords="1084,877,1193,856,1194,861,1085,882"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1212,929,1346,970"/>
<area shape="poly" title=" " alt="" coords="1078,904,1198,929,1197,935,1077,909"/>
<area shape="poly" title=" " alt="" coords="690,1322,688,1312,695,1303,711,1298,736,1296,762,1298,778,1304,776,1309,761,1303,736,1301,713,1303,698,1308,693,1313,695,1321"/>
<area shape="poly" title=" " alt="" coords="1035,1166,1251,1409,1247,1412,1031,1169"/>
<area shape="poly" title=" " alt="" coords="1037,1124,1082,1080,1127,1025,1141,995,1146,967,1154,941,1175,915,1203,900,1205,904,1179,919,1159,944,1151,969,1146,996,1131,1028,1086,1084,1041,1127"/>
<area shape="poly" title=" " alt="" coords="1093,1161,1188,1182,1187,1187,1092,1166"/>
<area shape="poly" title=" " alt="" coords="814,908,834,917,851,931,872,962,882,993,883,1022,881,1052,877,1082,877,1112,883,1144,899,1177,921,1203,955,1233,1045,1298,1144,1362,1229,1412,1226,1417,1141,1366,1042,1303,952,1237,917,1207,894,1180,878,1145,871,1113,872,1082,875,1052,878,1022,876,994,867,965,847,935,831,922,811,913"/>
<area shape="poly" title=" " alt="" coords="786,877,946,810,948,814,788,882"/>
<area shape="poly" title=" " alt="" coords="814,907,834,916,851,931,865,954,875,982,885,1052,887,1134,884,1223,878,1396,883,1469,890,1498,899,1523,912,1543,928,1561,964,1591,961,1595,924,1565,908,1546,894,1525,885,1500,878,1469,873,1396,879,1223,882,1134,880,1052,869,984,860,957,847,935,831,921,811,911"/>
<area shape="poly" title=" " alt="" coords="813,911,884,924,883,929,812,916"/>
<area shape="poly" title=" " alt="" coords="755,878,799,828,846,765,859,739,866,715,875,693,895,671,921,656,924,660,898,675,880,696,871,717,864,741,851,768,803,831,759,881"/>
<area shape="poly" title=" " alt="" coords="753,877,812,816,852,781,895,751,921,738,924,742,898,755,855,785,816,819,757,881"/>
<area shape="poly" title=" " alt="" coords="814,914,850,931,865,944,874,958,883,970,898,980,962,1005,1017,1016,1043,1016,1069,1010,1097,998,1127,980,1141,968,1148,956,1152,926,1156,895,1162,879,1175,865,1179,862,1182,866,1179,868,1167,882,1161,896,1157,927,1153,957,1145,972,1131,985,1099,1003,1071,1015,1043,1021,1016,1022,960,1010,895,985,879,974,870,961,861,948,847,935,812,919"/>
<area shape="poly" title=" " alt="" coords="813,895,914,893,915,898,813,901"/>
<area shape="poly" title=" " alt="" coords="814,911,850,931,870,954,878,976,885,999,899,1025,938,1073,979,1113,975,1117,934,1076,894,1028,880,1001,873,978,865,956,847,935,811,916"/>
<area shape="poly" title=" " alt="" coords="814,907,834,917,851,931,870,958,882,984,890,1009,893,1035,889,1085,879,1134,867,1184,863,1234,865,1259,871,1285,882,1311,899,1338,917,1356,939,1369,936,1374,914,1360,895,1342,877,1314,866,1287,859,1260,857,1234,862,1183,873,1133,884,1084,888,1035,885,1010,877,986,865,960,847,935,831,921,812,912"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="942,1472,1084,1512"/>
<area shape="poly" title=" " alt="" coords="813,907,834,917,851,931,862,950,871,973,880,1030,882,1098,880,1171,878,1313,884,1372,890,1395,899,1414,921,1441,950,1462,947,1466,918,1445,894,1417,885,1397,879,1372,873,1313,875,1171,877,1098,875,1031,866,975,857,952,847,935,831,921,811,912"/>
<area shape="poly" title=" " alt="" coords="836,557,851,570,871,602,879,634,877,667,872,698,867,729,867,759,876,788,898,815,917,826,943,835,1012,845,1092,848,1171,847,1171,852,1092,854,1011,850,942,840,915,831,895,819,871,790,862,760,862,729,867,697,872,666,873,635,866,604,847,574,832,561"/>
<area shape="poly" title=" " alt="" coords="836,557,851,570,874,607,883,644,881,681,875,717,869,753,867,789,876,824,899,859,918,874,914,879,895,863,871,826,862,789,863,753,870,716,876,681,878,645,869,609,847,574,832,561"/>
<area shape="poly" title=" " alt="" coords="696,1035,687,1025,692,1015,709,1009,736,1007,767,1010,782,1017,779,1022,765,1015,736,1012,710,1014,696,1019,693,1024,700,1032"/>
<area shape="poly" title=" " alt="" coords="561,1503,926,1492,927,1497,562,1508"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="675,1437,797,1478"/>
<area shape="poly" title=" " alt="" coords="558,1330,577,1343,593,1362,602,1381,609,1399,625,1416,662,1437,659,1441,622,1421,605,1402,597,1383,589,1365,574,1347,555,1335"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_icgraph" id="astructsysio_1_1chain_1_1controller__impl_abde6bacce9f720ad552d0e342c52d3b4_icgraph">
<area shape="rect" title="finalize_block" alt="" coords="1251,39,1404,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,67,1203,107"/>
<area shape="poly" title=" " alt="" coords="1236,74,1204,79,1203,74,1235,69"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,9,1003,50"/>
<area shape="poly" title=" " alt="" coords="1039,64,1000,53,1001,48,1040,59"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,63,803,103"/>
<area shape="poly" title=" " alt="" coords="1036,89,803,87,803,81,1036,83"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,120,574,161"/>
<area shape="poly" title=" " alt="" coords="1036,98,803,118,575,136,574,131,802,112,1035,92"/>
<area shape="poly" title=" " alt="" coords="1019,34,1251,51,1251,56,1018,39"/>
<area shape="poly" title=" " alt="" coords="836,55,798,65,796,59,835,50"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,5,566,46"/>
<area shape="poly" title=" " alt="" coords="835,32,567,29,567,24,836,26"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,92,158,133"/>
<area shape="poly" title=" " alt="" coords="607,91,158,111,158,106,607,85"/>
<area shape="poly" title=" " alt="" coords="616,61,566,48,568,43,617,56"/>
<area shape="poly" title=" " alt="" coords="617,110,572,122,571,117,616,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,120,358,161"/>
<area shape="poly" title=" " alt="" coords="391,143,359,143,359,138,391,138"/>
<area shape="poly" title=" " alt="" coords="190,130,158,126,158,120,190,125"/>
</map>
</div>

</div>
</div>
<a id="ad5c91b7cff820c07efed35a7b3912d68" name="ad5c91b7cff820c07efed35a7b3912d68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c91b7cff820c07efed35a7b3912d68">&#9670;&#160;</a></span>create_block_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::controller_impl::create_block_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02119">2119</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2119</span>                                                                                            {</div>
<div class="line"><span class="lineno"> 2120</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( b, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;null block&quot;</span> );</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>      <span class="comment">// no reason for a block_state if fork_db already knows about block</span></div>
<div class="line"><span class="lineno"> 2123</span>      <span class="keyword">auto</span> existing = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908">get_block</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno"> 2124</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !existing, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>, <span class="stringliteral">&quot;we already know about this block: ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>) );</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>      <span class="comment">// previous not found could mean that previous block not applied yet</span></div>
<div class="line"><span class="lineno"> 2127</span>      <span class="keyword">auto</span> prev = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a681f9146e0afd70a0e8c0421efb0a41f">get_block_header</a>( b-&gt;previous );</div>
<div class="line"><span class="lineno"> 2128</span>      <span class="keywordflow">if</span>( !prev ) <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="#a2eee00b79604bc3dfa0a93f397a2d4d8">create_block_state_i</a>( <span class="keywordtype">id</span>, b, *prev );</div>
<div class="line"><span class="lineno"> 2131</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a681f9146e0afd70a0e8c0421efb0a41f"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a681f9146e0afd70a0e8c0421efb0a41f">sysio::chain::fork_database::get_block_header</a></div><div class="ttdeci">block_header_state_ptr get_block_header(const block_id_type &amp;id) const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00331">fork_database.cpp:331</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_aee9daa00e2698a868ad36853e58d3908"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908">sysio::chain::fork_database::get_block</a></div><div class="ttdeci">block_state_ptr get_block(const block_id_type &amp;id) const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00568">fork_database.cpp:568</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a2eee00b79604bc3dfa0a93f397a2d4d8"><div class="ttname"><a href="#a2eee00b79604bc3dfa0a93f397a2d4d8">sysio::chain::controller_impl::create_block_state_i</a></div><div class="ttdeci">block_state_ptr create_block_state_i(const block_id_type &amp;id, const signed_block_ptr &amp;b, const block_header_state &amp;prev)</div><div class="ttdoc">apply_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02080">controller.cpp:2080</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ad5c91b7cff820c07efed35a7b3912d68_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ad5c91b7cff820c07efed35a7b3912d68_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ad5c91b7cff820c07efed35a7b3912d68_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ad5c91b7cff820c07efed35a7b3912d68_cgraph">
<area shape="rect" title=" " alt="" coords="5,205,176,246"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2eee00b79604bc3dfa0a93f397a2d4d8" title="apply_block" alt="" coords="224,140,404,181"/>
<area shape="poly" title=" " alt="" coords="162,202,226,183,228,188,163,207"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908" title=" " alt="" coords="241,205,386,246"/>
<area shape="poly" title=" " alt="" coords="176,223,225,223,225,228,176,228"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a681f9146e0afd70a0e8c0421efb0a41f" title=" " alt="" coords="241,270,386,326"/>
<area shape="poly" title=" " alt="" coords="156,244,227,267,225,272,155,249"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="452,104,632,145"/>
<area shape="poly" title=" " alt="" coords="404,143,436,138,437,144,405,149"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="466,168,618,224"/>
<area shape="poly" title=" " alt="" coords="405,172,451,179,451,185,404,177"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="680,112,819,137"/>
<area shape="poly" title=" " alt="" coords="633,122,665,122,665,127,633,127"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="873,78,992,104"/>
<area shape="poly" title=" " alt="" coords="818,109,857,102,858,107,819,114"/>
<area shape="rect" href="namespacesysio_1_1chain.html#aaef17ed9b59c73f49f1889fe7484314f" title=" " alt="" coords="867,136,998,177"/>
<area shape="poly" title=" " alt="" coords="819,134,852,140,851,145,818,139"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="1046,5,1182,46"/>
<area shape="poly" title=" " alt="" coords="969,75,1040,49,1042,54,971,80"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="1046,71,1182,111"/>
<area shape="poly" title=" " alt="" coords="992,88,1030,88,1030,94,992,94"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1230,13,1346,38"/>
<area shape="poly" title=" " alt="" coords="1183,23,1214,23,1214,28,1183,28"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a61210351e5f5e8bb94ca2b2f6a607082" title=" " alt="" coords="1048,136,1180,177"/>
<area shape="poly" title=" " alt="" coords="998,154,1033,154,1033,159,998,159"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a5d7ccb3192f954c6f4a4082007c45c04" title=" " alt="" coords="1048,201,1180,242"/>
<area shape="poly" title=" " alt="" coords="992,175,1042,193,1040,198,990,180"/>
</map>
</div>

</div>
</div>
<a id="af1df7b3285411e4e9ae6781353ad4d80" name="af1df7b3285411e4e9ae6781353ad4d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1df7b3285411e4e9ae6781353ad4d80">&#9670;&#160;</a></span>create_block_state_future()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::future&lt; <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &gt; sysio::chain::controller_impl::create_block_state_future </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02102">2102</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2102</span>                                                                                                              {</div>
<div class="line"><span class="lineno"> 2103</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( b, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;null block&quot;</span> );</div>
<div class="line"><span class="lineno"> 2104</span> </div>
<div class="line"><span class="lineno"> 2105</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="namespacesysio_1_1chain.html#a7c89dacf49f9737b2395006400c5a26c">async_thread_pool</a>( <a class="code hl_variable" href="#ab76d9091b7e62fb25a0fdd63c8210af9">thread_pool</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea">get_executor</a>(), [b, <span class="keywordtype">id</span>, control=<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno"> 2106</span>         <span class="comment">// no reason for a block_state if fork_db already knows about block</span></div>
<div class="line"><span class="lineno"> 2107</span>         auto existing = control-&gt;fork_db.get_block( id );</div>
<div class="line"><span class="lineno"> 2108</span>         SYS_ASSERT( !existing, fork_database_exception, <span class="stringliteral">&quot;we already know about this block: ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, id) );</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>         auto prev = control-&gt;fork_db.get_block_header( b-&gt;previous );</div>
<div class="line"><span class="lineno"> 2111</span>         SYS_ASSERT( prev, unlinkable_block_exception,</div>
<div class="line"><span class="lineno"> 2112</span>                     <span class="stringliteral">&quot;unlinkable block ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, id)(<span class="stringliteral">&quot;previous&quot;</span>, b-&gt;previous) );</div>
<div class="line"><span class="lineno"> 2113</span> </div>
<div class="line"><span class="lineno"> 2114</span>         return control-&gt;create_block_state_i( id, b, *prev );</div>
<div class="line"><span class="lineno"> 2115</span>      } );</div>
<div class="line"><span class="lineno"> 2116</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7c89dacf49f9737b2395006400c5a26c"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7c89dacf49f9737b2395006400c5a26c">sysio::chain::async_thread_pool</a></div><div class="ttdeci">auto async_thread_pool(boost::asio::io_context &amp;thread_pool, F &amp;&amp;f)</div><div class="ttdef"><b>Definition</b> <a href="thread__utils_8hpp_source.html#l00041">thread_utils.hpp:41</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af1df7b3285411e4e9ae6781353ad4d80_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af1df7b3285411e4e9ae6781353ad4d80_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af1df7b3285411e4e9ae6781353ad4d80_cgraph" id="astructsysio_1_1chain_1_1controller__impl_af1df7b3285411e4e9ae6781353ad4d80_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,216,79"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a7c89dacf49f9737b2395006400c5a26c" title=" " alt="" coords="286,5,420,46"/>
<area shape="poly" title=" " alt="" coords="216,42,270,34,271,40,217,47"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="264,71,442,111"/>
<area shape="poly" title=" " alt="" coords="217,70,249,75,248,80,216,76"/>
</map>
</div>

</div>
</div>
<a id="a2eee00b79604bc3dfa0a93f397a2d4d8" name="a2eee00b79604bc3dfa0a93f397a2d4d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eee00b79604bc3dfa0a93f397a2d4d8">&#9670;&#160;</a></span>create_block_state_i()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::controller_impl::create_block_state_i </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1block__header__state.html">block_header_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>prev</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02080">2080</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2080</span>                                                                                                                              {</div>
<div class="line"><span class="lineno"> 2081</span>      <span class="keyword">auto</span> trx_mroot = <a class="code hl_function" href="#a9ae4fff15a76a1c3089fdf0f3353a17f">calculate_trx_merkle</a>( b-&gt;transactions );</div>
<div class="line"><span class="lineno"> 2082</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( b-&gt;transaction_mroot == trx_mroot, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 2083</span>                  <span class="stringliteral">&quot;invalid block transaction merkle root ${b} != ${c}&quot;</span>, (<span class="stringliteral">&quot;b&quot;</span>, b-&gt;transaction_mroot)(<span class="stringliteral">&quot;c&quot;</span>, trx_mroot) );</div>
<div class="line"><span class="lineno"> 2084</span> </div>
<div class="line"><span class="lineno"> 2085</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> skip_validate_signee = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2086</span>      <span class="keyword">auto</span> bsp = std::make_shared&lt;block_state&gt;(</div>
<div class="line"><span class="lineno"> 2087</span>            prev,</div>
<div class="line"><span class="lineno"> 2088</span>            b,</div>
<div class="line"><span class="lineno"> 2089</span>            <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">get_protocol_feature_set</a>(),</div>
<div class="line"><span class="lineno"> 2090</span>            [<span class="keyword">this</span>]( <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> timestamp,</div>
<div class="line"><span class="lineno"> 2091</span>                    <span class="keyword">const</span> flat_set&lt;digest_type&gt;&amp; cur_features,</div>
<div class="line"><span class="lineno"> 2092</span>                    <span class="keyword">const</span> vector&lt;digest_type&gt;&amp; new_features )</div>
<div class="line"><span class="lineno"> 2093</span>            { check_protocol_features( timestamp, cur_features, new_features ); },</div>
<div class="line"><span class="lineno"> 2094</span>            skip_validate_signee</div>
<div class="line"><span class="lineno"> 2095</span>      );</div>
<div class="line"><span class="lineno"> 2096</span> </div>
<div class="line"><span class="lineno"> 2097</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <span class="keywordtype">id</span> == bsp-&gt;id, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 2098</span>                  <span class="stringliteral">&quot;provided id ${id} does not match block id ${bid}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>)(<span class="stringliteral">&quot;bid&quot;</span>, bsp-&gt;id) );</div>
<div class="line"><span class="lineno"> 2099</span>      <span class="keywordflow">return</span> bsp;</div>
<div class="line"><span class="lineno"> 2100</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a9ae4fff15a76a1c3089fdf0f3353a17f"><div class="ttname"><a href="#a9ae4fff15a76a1c3089fdf0f3353a17f">sysio::chain::controller_impl::calculate_trx_merkle</a></div><div class="ttdeci">static checksum256_type calculate_trx_merkle(const vector&lt; transaction_receipt &gt; &amp;trxs)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02325">controller.cpp:2325</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_cgraph">
<area shape="rect" title="apply_block" alt="" coords="5,140,186,181"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="234,104,414,145"/>
<area shape="poly" title=" " alt="" coords="186,143,218,138,219,144,186,149"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="248,168,400,224"/>
<area shape="poly" title=" " alt="" coords="186,172,233,179,232,185,186,177"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="462,112,600,137"/>
<area shape="poly" title=" " alt="" coords="414,122,447,122,447,127,414,127"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="655,78,773,104"/>
<area shape="poly" title=" " alt="" coords="600,109,639,102,640,107,601,114"/>
<area shape="rect" href="namespacesysio_1_1chain.html#aaef17ed9b59c73f49f1889fe7484314f" title=" " alt="" coords="648,136,780,177"/>
<area shape="poly" title=" " alt="" coords="601,134,633,140,633,145,600,139"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="828,5,964,46"/>
<area shape="poly" title=" " alt="" coords="751,75,822,49,824,54,753,80"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="828,71,964,111"/>
<area shape="poly" title=" " alt="" coords="774,88,812,88,812,94,774,94"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1012,13,1127,38"/>
<area shape="poly" title=" " alt="" coords="964,23,996,23,996,28,964,28"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a61210351e5f5e8bb94ca2b2f6a607082" title=" " alt="" coords="830,136,962,177"/>
<area shape="poly" title=" " alt="" coords="780,154,815,154,815,159,780,159"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a5d7ccb3192f954c6f4a4082007c45c04" title=" " alt="" coords="830,201,962,242"/>
<area shape="poly" title=" " alt="" coords="773,175,824,193,822,198,772,180"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a2eee00b79604bc3dfa0a93f397a2d4d8_icgraph">
<area shape="rect" title="apply_block" alt="" coords="224,5,404,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad5c91b7cff820c07efed35a7b3912d68" title=" " alt="" coords="5,5,176,46"/>
<area shape="poly" title=" " alt="" coords="208,28,176,28,176,23,208,23"/>
</map>
</div>

</div>
</div>
<a id="a78427c6c856e3f2398f434c7d9366a84" name="a78427c6c856e3f2398f434c7d9366a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78427c6c856e3f2398f434c7d9366a84">&#9670;&#160;</a></span>create_block_summary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::create_block_summary </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02370">2370</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2370</span>                                                      {</div>
<div class="line"><span class="lineno"> 2371</span>      <span class="keyword">auto</span> block_num = <a class="code hl_function" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">block_header::num_from_id</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 2372</span>      <span class="keyword">auto</span> sid = block_num &amp; 0xffff;</div>
<div class="line"><span class="lineno"> 2373</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;block_summary_object,by_id&gt;(sid), [&amp;](block_summary_object&amp; bso ) {</div>
<div class="line"><span class="lineno"> 2374</span>          bso.block_id = id;</div>
<div class="line"><span class="lineno"> 2375</span>      });</div>
<div class="line"><span class="lineno"> 2376</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a9ebc006075e8fc2e84357a0e068b58d4"><div class="ttname"><a href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">chainbase::database::modify</a></div><div class="ttdeci">void modify(const ObjectType &amp;obj, Modifier &amp;&amp;m)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00503">chainbase.hpp:503</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_afcfe00f81a526c1376d4f51197dd3a9a"><div class="ttname"><a href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">chainbase::database::get</a></div><div class="ttdeci">const ObjectType &amp; get(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00477">chainbase.hpp:477</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1block__header_html_a39d57e33ef8d3f6ba59b4c458f0ae375"><div class="ttname"><a href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">sysio::chain::block_header::num_from_id</a></div><div class="ttdeci">static uint32_t num_from_id(const block_id_type &amp;id)</div><div class="ttdef"><b>Definition</b> <a href="block__header_8cpp_source.html#l00013">block_header.cpp:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_cgraph">
<area shape="rect" title=" " alt="" coords="5,33,201,74"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="651,13,819,38"/>
<area shape="poly" title=" " alt="" coords="184,30,248,19,352,11,455,10,636,15,636,21,455,15,352,17,249,24,185,35"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="253,33,394,74"/>
<area shape="poly" title=" " alt="" coords="201,51,237,51,237,56,201,56"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="249,99,399,139"/>
<area shape="poly" title=" " alt="" coords="175,72,239,91,237,96,173,77"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="867,5,1008,46"/>
<area shape="poly" title=" " alt="" coords="819,32,851,32,851,37,819,37"/>
<area shape="poly" title=" " alt="" coords="866,20,834,19,834,14,866,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1056,35,1197,75"/>
<area shape="poly" title=" " alt="" coords="1009,34,1041,39,1041,44,1008,39"/>
<area shape="poly" title=" " alt="" coords="1056,60,1008,60,937,63,866,60,794,46,795,41,867,55,937,58,1008,55,1056,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="454,33,596,74"/>
<area shape="poly" title=" " alt="" coords="395,51,439,51,439,56,395,56"/>
<area shape="poly" title=" " alt="" coords="596,42,636,36,636,42,596,47"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="447,106,603,132"/>
<area shape="poly" title=" " alt="" coords="399,116,431,116,431,122,399,122"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a78427c6c856e3f2398f434c7d9366a84_icgraph">
<area shape="rect" title=" " alt="" coords="1452,92,1647,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="ae2c30acb1a0557f6c3967c6a154f7b23" name="ae2c30acb1a0557f6c3967c6a154f7b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c30acb1a0557f6c3967c6a154f7b23">&#9670;&#160;</a></span>create_native_account()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::create_native_account </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>initial_timestamp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1authority.html">authority</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>active</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>is_privileged</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00987">987</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  987</span>                                                                                                                                                                       {</div>
<div class="line"><span class="lineno">  988</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;account_object&gt;([&amp;](<span class="keyword">auto</span>&amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>) {</div>
<div class="line"><span class="lineno">  989</span>         <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.name = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>;</div>
<div class="line"><span class="lineno">  990</span>         <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.creation_date = initial_timestamp;</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a> == config::system_account_name ) {</div>
<div class="line"><span class="lineno">  993</span>            <span class="comment">// The initial sysio ABI value affects consensus; see  https://github.com/SYSIO/eos/issues/7794</span></div>
<div class="line"><span class="lineno">  994</span>            <span class="comment">// TODO: This doesn&#39;t charge RAM; a fix requires a consensus upgrade.</span></div>
<div class="line"><span class="lineno">  995</span>            <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.abi.assign(<a class="code hl_variable" href="namespacesysio_1_1chain.html#aa290df66096212c62e680f2c839ec925">sysio_abi_bin</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="namespacesysio_1_1chain.html#aa290df66096212c62e680f2c839ec925">sysio_abi_bin</a>));</div>
<div class="line"><span class="lineno">  996</span>         }</div>
<div class="line"><span class="lineno">  997</span>      });</div>
<div class="line"><span class="lineno">  998</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;account_metadata_object&gt;([&amp;](<span class="keyword">auto</span> &amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>) {</div>
<div class="line"><span class="lineno">  999</span>         <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.name = <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>;</div>
<div class="line"><span class="lineno"> 1000</span>         <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>.set_privileged( is_privileged );</div>
<div class="line"><span class="lineno"> 1001</span>      });</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; owner_permission  = <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f">create_permission</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, config::owner_name, 0,</div>
<div class="line"><span class="lineno"> 1004</span>                                                                      owner, initial_timestamp );</div>
<div class="line"><span class="lineno"> 1005</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; active_permission = <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f">create_permission</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, config::active_name, owner_permission.id,</div>
<div class="line"><span class="lineno"> 1006</span>                                                                      active, initial_timestamp );</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605">initialize_account</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> ram_delta = config::overhead_per_account_ram_bytes;</div>
<div class="line"><span class="lineno"> 1011</span>      ram_delta += 2*<a class="code hl_variable" href="namespacesysio_1_1chain_1_1config.html#a2772c77657b1f6fda680bbe8f7282d13">config::billable_size_v&lt;permission_object&gt;</a>;</div>
<div class="line"><span class="lineno"> 1012</span>      ram_delta += owner_permission.auth.get_billable_size();</div>
<div class="line"><span class="lineno"> 1013</span>      ram_delta += active_permission.auth.get_billable_size();</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1016</span>         dm_logger-&gt;on_ram_trace(<a class="code hl_define" href="deep__mind_8hpp.html#aaaa2f1dbd522de03ccbaa73f01db5f50">RAM_EVENT_ID</a>(<span class="stringliteral">&quot;${name}&quot;</span>, (<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>)), <span class="stringliteral">&quot;account&quot;</span>, <span class="stringliteral">&quot;add&quot;</span>, <span class="stringliteral">&quot;newaccount&quot;</span>);</div>
<div class="line"><span class="lineno"> 1017</span>      }</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995">add_pending_ram_usage</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, ram_delta);</div>
<div class="line"><span class="lineno"> 1020</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10">verify_account_ram_usage</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><span class="lineno"> 1021</span>   }</div>
<div class="ttc" id="acatch__reporter__console_8cpp_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="catch__reporter__console_8cpp_source.html#l00186">catch_reporter_console.cpp:186</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_adc8f336b33d7013d1b0400399b16c5a7"><div class="ttname"><a href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">chainbase::database::create</a></div><div class="ttdeci">const ObjectType &amp; create(Constructor &amp;&amp;con)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00519">chainbase.hpp:519</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_aac57733c5aa05c1c78a023a80b2f447f"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f">sysio::chain::authorization_manager::create_permission</a></div><div class="ttdeci">const permission_object &amp; create_permission(account_name account, permission_name name, permission_id_type parent, const authority &amp;auth, time_point initial_creation_time=time_point())</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00133">authorization_manager.cpp:133</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a30cd4db6f08948e05aba424431ec0605"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605">sysio::chain::resource_limits::resource_limits_manager::initialize_account</a></div><div class="ttdeci">void initialize_account(const account_name &amp;account)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00096">resource_limits.cpp:96</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a7fea1de6a3806590de0bda86e53c7995"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995">sysio::chain::resource_limits::resource_limits_manager::add_pending_ram_usage</a></div><div class="ttdeci">void add_pending_ram_usage(const account_name account, int64_t ram_delta)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00206">resource_limits.cpp:206</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_af72734af83f353fae77fbf837776db10"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10">sysio::chain::resource_limits::resource_limits_manager::verify_account_ram_usage</a></div><div class="ttdeci">void verify_account_ram_usage(const account_name accunt) const</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00227">resource_limits.cpp:227</a></div></div>
<div class="ttc" id="adeep__mind_8hpp_html_aaaa2f1dbd522de03ccbaa73f01db5f50"><div class="ttname"><a href="deep__mind_8hpp.html#aaaa2f1dbd522de03ccbaa73f01db5f50">RAM_EVENT_ID</a></div><div class="ttdeci">#define RAM_EVENT_ID(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="deep__mind_8hpp_source.html#l00027">deep_mind.hpp:27</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1config_html_a2772c77657b1f6fda680bbe8f7282d13"><div class="ttname"><a href="namespacesysio_1_1chain_1_1config.html#a2772c77657b1f6fda680bbe8f7282d13">sysio::chain::config::billable_size_v</a></div><div class="ttdeci">constexpr uint64_t billable_size_v</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2config_8hpp_source.html#l00147">config.hpp:147</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa290df66096212c62e680f2c839ec925"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa290df66096212c62e680f2c839ec925">sysio::chain::sysio_abi_bin</a></div><div class="ttdeci">unsigned char sysio_abi_bin[2132]</div><div class="ttdef"><b>Definition</b> <a href="sysio__contract__abi__bin_8cpp_source.html#l00009">sysio_contract_abi_bin.cpp:9</a></div></div>
<div class="ttc" id="astdint_8h_html_a414156feea104f8f75b4ed9e3121b2f6"><div class="ttname"><a href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></div><div class="ttdeci">signed __int64 int64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00135">stdint.h:135</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_cgraph">
<area shape="rect" title=" " alt="" coords="5,184,197,224"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995" title=" " alt="" coords="245,9,475,65"/>
<area shape="poly" title=" " alt="" coords="121,181,174,132,243,82,265,70,268,74,246,86,178,137,125,185"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="538,114,679,155"/>
<area shape="poly" title=" " alt="" coords="130,181,181,150,212,136,244,125,317,113,391,109,461,112,523,118,522,123,461,117,391,115,317,118,245,131,214,141,184,155,132,185"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f" title=" " alt="" coords="264,285,456,326"/>
<area shape="poly" title=" " alt="" coords="143,222,246,269,267,277,266,282,244,274,140,227"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="265,220,455,260"/>
<area shape="poly" title=" " alt="" coords="197,215,250,222,249,227,197,220"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605" title=" " alt="" coords="267,140,453,196"/>
<area shape="poly" title=" " alt="" coords="197,188,251,180,252,186,197,193"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10" title=" " alt="" coords="523,426,694,497"/>
<area shape="poly" title=" " alt="" coords="121,223,174,278,208,309,246,335,311,369,380,397,509,437,507,442,378,402,309,374,243,340,205,313,170,282,118,227"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="986,400,1153,426"/>
<area shape="poly" title=" " alt="" coords="475,13,584,3,645,3,707,8,770,19,831,37,888,64,939,101,970,133,995,169,1016,208,1033,249,1056,325,1067,385,1062,386,1051,327,1028,251,1011,211,991,172,966,136,936,105,885,69,829,42,769,24,707,14,644,9,584,9,475,18"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="538,49,679,90"/>
<area shape="poly" title=" " alt="" coords="476,49,523,56,522,61,475,55"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1201,425,1342,466"/>
<area shape="poly" title=" " alt="" coords="1110,424,1186,438,1185,443,1109,429"/>
<area shape="poly" title=" " alt="" coords="1200,428,1168,423,1169,417,1201,423"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1390,397,1532,438"/>
<area shape="poly" title=" " alt="" coords="1342,432,1375,427,1375,433,1343,437"/>
<area shape="poly" title=" " alt="" coords="1390,417,1342,416,1168,415,1168,410,1342,411,1390,412"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="769,114,911,155"/>
<area shape="poly" title=" " alt="" coords="681,87,755,108,754,113,679,92"/>
<area shape="poly" title=" " alt="" coords="860,154,1050,387,1046,390,856,157"/>
<area shape="poly" title=" " alt="" coords="680,132,754,132,754,137,680,137"/>
<area shape="poly" title=" " alt="" coords="411,324,465,343,524,360,643,381,763,396,970,409,970,414,763,401,642,387,522,365,463,348,409,329"/>
<area shape="poly" title=" " alt="" coords="455,282,473,270,484,258,491,246,497,220,503,193,510,180,521,166,526,162,529,166,525,170,514,183,508,195,502,221,496,248,489,261,477,274,458,287"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="529,180,688,220"/>
<area shape="poly" title=" " alt="" coords="445,282,474,270,498,251,522,231,533,225,535,230,524,235,501,255,476,274,448,287"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="532,245,685,286"/>
<area shape="poly" title=" " alt="" coords="456,287,517,277,517,283,457,292"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="550,310,668,351"/>
<area shape="poly" title=" " alt="" coords="457,312,534,320,534,326,456,318"/>
<area shape="poly" title=" " alt="" coords="453,153,522,143,523,149,454,158"/>
<area shape="poly" title=" " alt="" coords="694,450,970,421,971,426,695,455"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="742,476,938,532"/>
<area shape="poly" title=" " alt="" coords="695,474,727,480,726,486,694,480"/>
<area shape="poly" title=" " alt="" coords="911,473,1019,430,1021,435,913,478"/>
<area shape="poly" title=" " alt="" coords="938,488,1185,454,1186,460,939,493"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ae2c30acb1a0557f6c3967c6a154f7b23_icgraph">
<area shape="rect" title=" " alt="" coords="681,5,873,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,5,633,46"/>
<area shape="poly" title=" " alt="" coords="666,28,634,28,634,23,666,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,5,418,46"/>
<area shape="poly" title=" " alt="" coords="450,28,418,28,418,23,450,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a8cdd409341efde24915eadc5f25a51f9" name="a8cdd409341efde24915eadc5f25a51f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cdd409341efde24915eadc5f25a51f9">&#9670;&#160;</a></span>dmlog_applied_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::dmlog_applied_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00389">389</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  389</span>                                                                  {</div>
<div class="line"><span class="lineno">  390</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  391</span>         dm_logger-&gt;on_applied_transaction(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4">head_block_num</a>() + 1, t);</div>
<div class="line"><span class="lineno">  392</span>      }</div>
<div class="line"><span class="lineno">  393</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a33704b4936bb9bbd2ea6b0874ca521b4"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4">sysio::chain::controller::head_block_num</a></div><div class="ttdeci">uint32_t head_block_num() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02949">controller.cpp:2949</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,220,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="268,5,458,46"/>
<area shape="poly" title=" " alt="" coords="220,42,252,38,253,43,221,47"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="287,71,439,111"/>
<area shape="poly" title=" " alt="" coords="221,70,272,77,271,82,220,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a8cdd409341efde24915eadc5f25a51f9_icgraph">
<area shape="rect" title=" " alt="" coords="1725,60,1939,101"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="1452,27,1677,67"/>
<area shape="poly" title=" " alt="" coords="1709,68,1677,64,1678,58,1710,62"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1485,92,1644,133"/>
<area shape="poly" title=" " alt="" coords="1710,98,1645,105,1644,100,1709,92"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1470,112,1404,111,1251,111,1204,112,1204,107,1251,106,1404,106,1470,107"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,120,1404,161"/>
<area shape="poly" title=" " alt="" coords="1470,126,1404,134,1404,129,1469,121"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
<area shape="poly" title=" " alt="" coords="1235,130,1203,126,1204,120,1236,125"/>
</map>
</div>

</div>
</div>
<a id="a8618218d7168450c383cde9860d57706" name="a8618218d7168450c383cde9860d57706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8618218d7168450c383cde9860d57706">&#9670;&#160;</a></span>earliest_available_block_num()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::controller_impl::earliest_available_block_num </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02576">2576</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2576</span>                                                 {</div>
<div class="line"><span class="lineno"> 2577</span>      <span class="keywordflow">return</span> (<a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>() != 0) ? <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>() : <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num;</div>
<div class="line"><span class="lineno"> 2578</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_ac5f1c1e78e72414fbf9bae75da42303e"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">sysio::chain::block_log::first_block_num</a></div><div class="ttdeci">uint32_t first_block_num() const</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00706">block_log.cpp:706</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a31db3526cc966f5db1046cebcfc45219"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">sysio::chain::fork_database::root</a></div><div class="ttdeci">block_state_ptr root() const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00395">fork_database.cpp:395</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8618218d7168450c383cde9860d57706_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8618218d7168450c383cde9860d57706_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8618218d7168450c383cde9860d57706_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a8618218d7168450c383cde9860d57706_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,166,87"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="214,5,359,46"/>
<area shape="poly" title=" " alt="" coords="166,43,198,38,199,43,167,48"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="226,71,347,111"/>
<area shape="poly" title=" " alt="" coords="167,69,210,76,209,82,166,74"/>
</map>
</div>

</div>
</div>
<a id="a6380e434da95a328ff48ccab33df9cb0" name="a6380e434da95a328ff48ccab33df9cb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6380e434da95a328ff48ccab33df9cb0">&#9670;&#160;</a></span>emit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Signal , typename Arg &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::emit </td>
          <td>(</td>
          <td class="paramtype">const Signal &amp;</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Arg &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>a</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Plugins / observers listening to signals emited (such as accepted_transaction) might trigger errors and throw exceptions. Unless those exceptions are caught it could impact consensus and/or cause a node to fork.</p>
<p>If it is ever desirable to let a signal handler bubble an exception out of this method a full audit of its uses needs to be undertaken. </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00368">368</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  368</span>                                         {</div>
<div class="line"><span class="lineno">  369</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  370</span>         <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>( std::forward&lt;Arg&gt;( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> ));</div>
<div class="line"><span class="lineno">  371</span>      } <span class="keywordflow">catch</span> (std::bad_alloc&amp; e) {</div>
<div class="line"><span class="lineno">  372</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;std::bad_alloc: ${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, e.what()) );</div>
<div class="line"><span class="lineno">  373</span>         <span class="keywordflow">throw</span> e;</div>
<div class="line"><span class="lineno">  374</span>      } <span class="keywordflow">catch</span> (boost::interprocess::bad_alloc&amp; e) {</div>
<div class="line"><span class="lineno">  375</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;boost::interprocess::bad alloc: ${w}&quot;</span>, (<span class="stringliteral">&quot;w&quot;</span>, e.what()) );</div>
<div class="line"><span class="lineno">  376</span>         <span class="keywordflow">throw</span> e;</div>
<div class="line"><span class="lineno">  377</span>      } <span class="keywordflow">catch</span> ( controller_emit_signal_exception&amp; e ) {</div>
<div class="line"><span class="lineno">  378</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;controller_emit_signal_exception: ${details}&quot;</span>, (<span class="stringliteral">&quot;details&quot;</span>, e.to_detail_string()) );</div>
<div class="line"><span class="lineno">  379</span>         <span class="keywordflow">throw</span> e;</div>
<div class="line"><span class="lineno">  380</span>      } <span class="keywordflow">catch</span> ( <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno">  381</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;fc::exception: ${details}&quot;</span>, (<span class="stringliteral">&quot;details&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><span class="lineno">  382</span>      } <span class="keywordflow">catch</span> ( std::exception&amp; e ) {</div>
<div class="line"><span class="lineno">  383</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;std::exception: ${details}&quot;</span>, (<span class="stringliteral">&quot;details&quot;</span>, e.what()) );</div>
<div class="line"><span class="lineno">  384</span>      } <span class="keywordflow">catch</span> ( ... ) {</div>
<div class="line"><span class="lineno">  385</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;signal handler threw exception&quot;</span> );</div>
<div class="line"><span class="lineno">  386</span>      }</div>
<div class="line"><span class="lineno">  387</span>   }</div>
<div class="ttc" id="alogger_8hpp_html_a1759e5c9691d8ad754bdf5eff8bb23ac"><div class="ttname"><a href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a></div><div class="ttdeci">#define wlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00124">logger.hpp:124</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a6380e434da95a328ff48ccab33df9cb0_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a6380e434da95a328ff48ccab33df9cb0_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a6380e434da95a328ff48ccab33df9cb0_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a6380e434da95a328ff48ccab33df9cb0_icgraph">
<area shape="rect" title=" " alt="" coords="1725,144,1877,184"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1251,93,1404,134"/>
<area shape="poly" title=" " alt="" coords="1714,142,1677,135,1532,120,1404,116,1404,110,1532,115,1677,129,1715,137"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,93,1003,134"/>
<area shape="poly" title=" " alt="" coords="1751,138,1715,121,1676,107,1585,87,1490,75,1395,70,1302,71,1133,83,1004,102,1003,96,1132,78,1302,65,1395,65,1490,70,1586,81,1678,102,1717,116,1754,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,90,566,131"/>
<area shape="poly" title=" " alt="" coords="1768,135,1726,101,1676,70,1583,34,1508,15,1429,9,1329,8,926,8,872,10,818,17,712,39,617,66,544,92,542,87,616,61,710,34,817,12,871,5,925,3,1329,3,1430,4,1508,10,1585,29,1678,66,1729,96,1771,131"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,205,574,246"/>
<area shape="poly" title=" " alt="" coords="1778,198,1735,244,1708,267,1678,285,1629,308,1586,323,1547,333,1509,339,1430,341,1329,340,925,340,870,337,815,330,707,307,612,277,538,249,540,244,613,272,709,301,816,325,871,332,926,335,1329,335,1430,336,1509,334,1546,328,1585,318,1627,303,1676,280,1705,263,1731,241,1774,195"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="1452,209,1677,250"/>
<area shape="poly" title=" " alt="" coords="1712,191,1642,211,1640,206,1710,186"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1485,144,1644,184"/>
<area shape="poly" title=" " alt="" coords="1709,167,1645,167,1645,161,1709,161"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,208,1404,248"/>
<area shape="poly" title=" " alt="" coords="1773,198,1731,235,1706,251,1678,264,1640,274,1602,279,1524,278,1451,267,1389,252,1390,247,1452,262,1524,273,1601,274,1639,269,1676,259,1703,247,1728,230,1770,194"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,150,1203,191"/>
<area shape="poly" title=" " alt="" coords="1240,141,1201,152,1200,147,1239,136"/>
<area shape="poly" title=" " alt="" coords="1039,148,1000,137,1001,132,1040,143"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,148,803,188"/>
<area shape="poly" title=" " alt="" coords="1036,173,803,171,803,166,1036,168"/>
<area shape="poly" title=" " alt="" coords="1036,182,803,203,575,222,575,216,802,197,1035,177"/>
<area shape="poly" title=" " alt="" coords="1019,111,1251,111,1251,116,1019,116"/>
<area shape="poly" title=" " alt="" coords="836,139,796,150,794,145,835,134"/>
<area shape="poly" title=" " alt="" coords="835,116,567,114,567,109,836,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,177,158,218"/>
<area shape="poly" title=" " alt="" coords="607,176,158,197,158,191,607,170"/>
<area shape="poly" title=" " alt="" coords="616,146,566,133,568,128,617,141"/>
<area shape="poly" title=" " alt="" coords="617,195,572,207,571,202,616,190"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,205,358,246"/>
<area shape="poly" title=" " alt="" coords="391,228,359,228,359,223,391,223"/>
<area shape="poly" title=" " alt="" coords="190,215,158,211,158,205,190,210"/>
<area shape="poly" title=" " alt="" coords="1469,168,1204,172,1204,167,1469,163"/>
<area shape="poly" title=" " alt="" coords="1473,192,1405,210,1403,205,1471,186"/>
<area shape="poly" title=" " alt="" coords="1239,206,1200,194,1201,189,1240,200"/>
</map>
</div>

</div>
</div>
<a id="a6353a2e6b51e1b83231f41a8bcc66c47" name="a6353a2e6b51e1b83231f41a8bcc66c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6353a2e6b51e1b83231f41a8bcc66c47">&#9670;&#160;</a></span>extract_legacy_genesis_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt; <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &gt; sysio::chain::controller_impl::extract_legacy_genesis_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1snapshot__reader.html">snapshot_reader</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>version</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00840">840</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  840</span>                                                                                                                 {</div>
<div class="line"><span class="lineno">  841</span>      std::optional&lt;genesis_state&gt; genesis;</div>
<div class="line"><span class="lineno">  842</span>      <span class="keyword">using </span>v2 = legacy::snapshot_global_property_object_v2;</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>      <span class="keywordflow">if</span> (std::clamp(version, v2::minimum_version, v2::maximum_version) == version ) {</div>
<div class="line"><span class="lineno">  845</span>         genesis.emplace();</div>
<div class="line"><span class="lineno">  846</span>         snapshot.read_section&lt;genesis_state&gt;([&amp;genesis=*genesis]( <span class="keyword">auto</span> &amp;section ){</div>
<div class="line"><span class="lineno">  847</span>            section.read_row(genesis);</div>
<div class="line"><span class="lineno">  848</span>         });</div>
<div class="line"><span class="lineno">  849</span>      }</div>
<div class="line"><span class="lineno">  850</span>      <span class="keywordflow">return</span> genesis;</div>
<div class="line"><span class="lineno">  851</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a6353a2e6b51e1b83231f41a8bcc66c47_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a6353a2e6b51e1b83231f41a8bcc66c47_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a6353a2e6b51e1b83231f41a8bcc66c47_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a6353a2e6b51e1b83231f41a8bcc66c47_icgraph">
<area shape="rect" title=" " alt="" coords="432,104,665,145"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a2c8b0888cae831840ac03980e206c874" title=" " alt="" coords="219,71,371,111"/>
<area shape="poly" title=" " alt="" coords="416,110,371,104,372,98,417,104"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a247c87d241e707c5e482c3d6d8872a7f" title=" " alt="" coords="206,136,384,177"/>
<area shape="poly" title=" " alt="" coords="417,144,385,148,384,142,416,138"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#aa94514bfa2c9891911d4bf3d03da3cc8" title=" " alt="" coords="14,5,149,46"/>
<area shape="poly" title=" " alt="" coords="211,68,149,49,151,44,212,63"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca" title=" " alt="" coords="15,71,148,111"/>
<area shape="poly" title=" " alt="" coords="203,94,148,94,148,88,203,88"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,136,158,177"/>
<area shape="poly" title=" " alt="" coords="190,159,158,159,158,154,190,154"/>
</map>
</div>

</div>
</div>
<a id="ad0d5a921dd01458d1464f63b0f0121c6" name="ad0d5a921dd01458d1464f63b0f0121c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d5a921dd01458d1464f63b0f0121c6">&#9670;&#160;</a></span>failure_is_subjective()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::failure_is_subjective </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1exception.html">fc::exception</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>e</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01193">1193</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1193</span>                                                            {</div>
<div class="line"><span class="lineno"> 1194</span>      <span class="keyword">auto</span> code = e.<a class="code hl_function" href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f">code</a>();</div>
<div class="line"><span class="lineno"> 1195</span>      <span class="keywordflow">return</span>    (code == subjective_block_production_exception::code_value)</div>
<div class="line"><span class="lineno"> 1196</span>             || (code == block_net_usage_exceeded::code_value)</div>
<div class="line"><span class="lineno"> 1197</span>             || (code == greylist_net_usage_exceeded::code_value)</div>
<div class="line"><span class="lineno"> 1198</span>             || (code == block_cpu_usage_exceeded::code_value)</div>
<div class="line"><span class="lineno"> 1199</span>             || (code == greylist_cpu_usage_exceeded::code_value)</div>
<div class="line"><span class="lineno"> 1200</span>             || (code == deadline_exception::code_value)</div>
<div class="line"><span class="lineno"> 1201</span>             || (code == leeway_deadline_exception::code_value)</div>
<div class="line"><span class="lineno"> 1202</span>             || (code == actor_whitelist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1203</span>             || (code == actor_blacklist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1204</span>             || (code == contract_whitelist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1205</span>             || (code == contract_blacklist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1206</span>             || (code == action_blacklist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1207</span>             || (code == key_blacklist_exception::code_value)</div>
<div class="line"><span class="lineno"> 1208</span>             || (code == sig_variable_size_limit_exception::code_value)</div>
<div class="line"><span class="lineno"> 1209</span>             || (code == inline_action_too_big_nonprivileged::code_value);</div>
<div class="line"><span class="lineno"> 1210</span>   }</div>
<div class="ttc" id="aclassfc_1_1exception_html_a79a36225cde10dcd23057bbe19d3390f"><div class="ttname"><a href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f">fc::exception::code</a></div><div class="ttdeci">int64_t code() const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00122">exception.cpp:122</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,184,46"/>
<area shape="rect" href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f" title=" " alt="" coords="232,13,364,38"/>
<area shape="poly" title=" " alt="" coords="184,23,216,23,216,28,184,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ad0d5a921dd01458d1464f63b0f0121c6_icgraph">
<area shape="rect" title=" " alt="" coords="488,5,666,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,5,231,46"/>
<area shape="poly" title=" " alt="" coords="472,22,440,20,279,20,231,22,231,17,279,15,440,15,472,16"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ab9468e19953b5bb9ace497c98ee4ecc1" title=" " alt="" coords="279,30,440,86"/>
<area shape="poly" title=" " alt="" coords="473,44,441,48,440,43,472,38"/>
<area shape="poly" title=" " alt="" coords="263,48,231,43,232,38,264,42"/>
</map>
</div>

</div>
</div>
<a id="a5eb5bb7961c3ae6496caca42b84ab192" name="a5eb5bb7961c3ae6496caca42b84ab192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb5bb7961c3ae6496caca42b84ab192">&#9670;&#160;</a></span>finalize_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::finalize_block </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01759">1759</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1760</span>   {</div>
<div class="line"><span class="lineno"> 1761</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;it is not valid to finalize when there is no pending block&quot;</span>);</div>
<div class="line"><span class="lineno"> 1762</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( std::holds_alternative&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;already called finalize_block&quot;</span>);</div>
<div class="line"><span class="lineno"> 1763</span> </div>
<div class="line"><span class="lineno"> 1764</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>      <span class="keyword">auto</span>&amp; pbhs = <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;get_pending_block_header_state();</div>
<div class="line"><span class="lineno"> 1767</span> </div>
<div class="line"><span class="lineno"> 1768</span>      <span class="comment">// Update resource limits:</span></div>
<div class="line"><span class="lineno"> 1769</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571">process_account_limit_updates</a>();</div>
<div class="line"><span class="lineno"> 1770</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a> = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().<a class="code hl_variable" href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">configuration</a>;</div>
<div class="line"><span class="lineno"> 1771</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> CPU_TARGET = <a class="code hl_function" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc">SYS_PERCENT</a>(<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a292759d9e893bccf78a5d22279fb5752">max_block_cpu_usage</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#af2b14c2153bc64969ca85c8df8fbb7f9">target_block_cpu_usage_pct</a>);</div>
<div class="line"><span class="lineno"> 1772</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20">set_block_parameters</a>(</div>
<div class="line"><span class="lineno"> 1773</span>         { CPU_TARGET, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a292759d9e893bccf78a5d22279fb5752">max_block_cpu_usage</a>, config::block_cpu_usage_average_window_ms / config::block_interval_ms, config::maximum_elastic_resource_multiplier, {99, 100}, {1000, 999}},</div>
<div class="line"><span class="lineno"> 1774</span>         {<a class="code hl_function" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc">SYS_PERCENT</a>(<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a796dada63527fcff40f838efc42a04ec">max_block_net_usage</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a216d150c1c6ad9ea64aaf82d86926d19">target_block_net_usage_pct</a>), <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">chain_config</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a796dada63527fcff40f838efc42a04ec">max_block_net_usage</a>, config::block_size_average_window_ms / config::block_interval_ms, config::maximum_elastic_resource_multiplier, {99, 100}, {1000, 999}}</div>
<div class="line"><span class="lineno"> 1775</span>      );</div>
<div class="line"><span class="lineno"> 1776</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a">process_block_usage</a>(pbhs.block_num);</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>      <span class="keyword">auto</span>&amp; bb = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage);</div>
<div class="line"><span class="lineno"> 1779</span> </div>
<div class="line"><span class="lineno"> 1780</span>      <span class="keywordflow">if</span> (bb._s_header){</div>
<div class="line"><span class="lineno"> 1781</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;s_header present in finalize block, adding to block header: ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, bb._s_header-&gt;to_string()));</div>
<div class="line"><span class="lineno"> 1782</span>      }</div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>      <span class="comment">// Create (unsigned) block:</span></div>
<div class="line"><span class="lineno"> 1785</span>      <span class="keyword">auto</span> block_ptr = std::make_shared&lt;signed_block&gt;( pbhs.make_block_header(</div>
<div class="line"><span class="lineno"> 1786</span>         bb._transaction_mroot ? *bb._transaction_mroot : <a class="code hl_function" href="#a9ae4fff15a76a1c3089fdf0f3353a17f">calculate_trx_merkle</a>( bb._pending_trx_receipts ),</div>
<div class="line"><span class="lineno"> 1787</span>         <a class="code hl_function" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40">merkle</a>( std::move( std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._action_receipt_digests ) ),</div>
<div class="line"><span class="lineno"> 1788</span>         bb._new_pending_producer_schedule,</div>
<div class="line"><span class="lineno"> 1789</span>         std::move( bb._new_protocol_feature_activations ),</div>
<div class="line"><span class="lineno"> 1790</span>         <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">get_protocol_feature_set</a>(),</div>
<div class="line"><span class="lineno"> 1791</span>         bb._s_header <span class="comment">// Include optional s_header in block header</span></div>
<div class="line"><span class="lineno"> 1792</span>      ) );</div>
<div class="line"><span class="lineno"> 1793</span> </div>
<div class="line"><span class="lineno"> 1794</span>      block_ptr-&gt;transactions = std::move( bb._pending_trx_receipts );</div>
<div class="line"><span class="lineno"> 1795</span> </div>
<div class="line"><span class="lineno"> 1796</span>      <span class="keyword">auto</span> <span class="keywordtype">id</span> = block_ptr-&gt;calculate_id();</div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>      <span class="comment">// Update TaPoS table:</span></div>
<div class="line"><span class="lineno"> 1799</span>      <a class="code hl_function" href="#a78427c6c856e3f2398f434c7d9366a84">create_block_summary</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno"> 1800</span> </div>
<div class="line"><span class="lineno"> 1801</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1802</span><span class="comment">      ilog( &quot;finalized block ${n} (${id}) at ${t} by ${p} (${signing_key}); schedule_version: ${v} lib: ${lib} #dtrxs: ${ndtrxs} ${np}&quot;,</span></div>
<div class="line"><span class="lineno"> 1803</span><span class="comment">            (&quot;n&quot;,pbhs.block_num)</span></div>
<div class="line"><span class="lineno"> 1804</span><span class="comment">            (&quot;id&quot;,id)</span></div>
<div class="line"><span class="lineno"> 1805</span><span class="comment">            (&quot;t&quot;,pbhs.timestamp)</span></div>
<div class="line"><span class="lineno"> 1806</span><span class="comment">            (&quot;p&quot;,pbhs.producer)</span></div>
<div class="line"><span class="lineno"> 1807</span><span class="comment">            (&quot;signing_key&quot;, pbhs.block_signing_key)</span></div>
<div class="line"><span class="lineno"> 1808</span><span class="comment">            (&quot;v&quot;,pbhs.active_schedule_version)</span></div>
<div class="line"><span class="lineno"> 1809</span><span class="comment">            (&quot;lib&quot;,pbhs.dpos_irreversible_blocknum)</span></div>
<div class="line"><span class="lineno"> 1810</span><span class="comment">            (&quot;ndtrxs&quot;,db.get_index&lt;generated_transaction_multi_index,by_trx_id&gt;().size())</span></div>
<div class="line"><span class="lineno"> 1811</span><span class="comment">            (&quot;np&quot;,block_ptr-&gt;new_producers)</span></div>
<div class="line"><span class="lineno"> 1812</span><span class="comment">      );</span></div>
<div class="line"><span class="lineno"> 1813</span><span class="comment">      */</span></div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>      <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage = assembled_block{</div>
<div class="line"><span class="lineno"> 1816</span>                                 <a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>,</div>
<div class="line"><span class="lineno"> 1817</span>                                 std::move( bb._pending_block_header_state ),</div>
<div class="line"><span class="lineno"> 1818</span>                                 std::move( bb._pending_trx_metas ),</div>
<div class="line"><span class="lineno"> 1819</span>                                 std::move( block_ptr ),</div>
<div class="line"><span class="lineno"> 1820</span>                                 std::move( bb._new_pending_producer_schedule )</div>
<div class="line"><span class="lineno"> 1821</span>                              };</div>
<div class="line"><span class="lineno"> 1822</span>   } <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>() } </div>
<div class="ttc" id="achain_2include_2sysio_2chain_2config_8hpp_html_a0b4bacb63f31764f50a185f320551fbc"><div class="ttname"><a href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc">SYS_PERCENT</a></div><div class="ttdeci">constexpr uint64_t SYS_PERCENT(uint64_t value, uint32_t percentage)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2config_8hpp_source.html#l00152">config.hpp:152</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a0bb11e832a05b6437c79bf81758b1b7d"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">sysio::chain::controller::get_global_properties</a></div><div class="ttdeci">const global_property_object &amp; get_global_properties() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03062">controller.cpp:3062</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1global__property__object_html_a7f149fcf87034217c899838eb4430496"><div class="ttname"><a href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">sysio::chain::global_property_object::configuration</a></div><div class="ttdeci">chain_config configuration</div><div class="ttdef"><b>Definition</b> <a href="global__property__object_8hpp_source.html#l00071">global_property_object.hpp:71</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a4396d0acb70ebbd8054b13ff4c564e20"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20">sysio::chain::resource_limits::resource_limits_manager::set_block_parameters</a></div><div class="ttdeci">void set_block_parameters(const elastic_limit_parameters &amp;cpu_limit_parameters, const elastic_limit_parameters &amp;net_limit_parameters)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00109">resource_limits.cpp:109</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a5ebf5f04366d7120f58430d9ba4f8c7a"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a">sysio::chain::resource_limits::resource_limits_manager::process_block_usage</a></div><div class="ttdeci">void process_block_usage(uint32_t block_num)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00363">resource_limits.cpp:363</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a983919d376e5757bceee573e52b3c571"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571">sysio::chain::resource_limits::resource_limits_manager::process_account_limit_updates</a></div><div class="ttdeci">void process_account_limit_updates()</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00320">resource_limits.cpp:320</a></div></div>
<div class="ttc" id="acode__cache_8cpp_html_aa0efefe21f4700d78692edc823e763be"><div class="ttname"><a href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a></div><div class="ttdeci">uint64_t id</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8cpp_source.html#l00000">code_cache.cpp:0</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a99c6aa941a16bc629e8051a0a656dea7"><div class="ttname"><a href="namespacesysio_1_1chain.html#a99c6aa941a16bc629e8051a0a656dea7">sysio::chain::chain_config</a></div><div class="ttdeci">chain_config_v1 chain_config</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00196">chain_config.hpp:196</a></div></div>
<div class="ttc" id="astdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00136">stdint.h:136</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_a216d150c1c6ad9ea64aaf82d86926d19"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#a216d150c1c6ad9ea64aaf82d86926d19">sysio::chain::chain_config_v0::target_block_net_usage_pct</a></div><div class="ttdeci">uint32_t target_block_net_usage_pct</div><div class="ttdoc">the target percent (1% == 100, 100%= 10,000) of maximum net usage; exceeding this triggers congestion...</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00041">chain_config.hpp:41</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_a292759d9e893bccf78a5d22279fb5752"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#a292759d9e893bccf78a5d22279fb5752">sysio::chain::chain_config_v0::max_block_cpu_usage</a></div><div class="ttdeci">uint32_t max_block_cpu_usage</div><div class="ttdoc">the maxiumum billable cpu usage (in microseconds) for a block</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00048">chain_config.hpp:48</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_a796dada63527fcff40f838efc42a04ec"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#a796dada63527fcff40f838efc42a04ec">sysio::chain::chain_config_v0::max_block_net_usage</a></div><div class="ttdeci">uint64_t max_block_net_usage</div><div class="ttdoc">the maxiumum net usage in instructions for a block</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00040">chain_config.hpp:40</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_af2b14c2153bc64969ca85c8df8fbb7f9"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#af2b14c2153bc64969ca85c8df8fbb7f9">sysio::chain::chain_config_v0::target_block_cpu_usage_pct</a></div><div class="ttdeci">uint32_t target_block_cpu_usage_pct</div><div class="ttdoc">the target percent (1% == 100, 100%= 10,000) of maximum cpu usage; exceeding this triggers congestion...</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00049">chain_config.hpp:49</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a78427c6c856e3f2398f434c7d9366a84"><div class="ttname"><a href="#a78427c6c856e3f2398f434c7d9366a84">sysio::chain::controller_impl::create_block_summary</a></div><div class="ttdeci">void create_block_summary(const block_id_type &amp;id)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02370">controller.cpp:2370</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_cgraph">
<area shape="rect" title="start_block" alt="" coords="5,409,158,450"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="223,136,403,177"/>
<area shape="poly" title=" " alt="" coords="86,408,100,364,123,306,158,246,179,218,204,193,218,182,222,187,207,197,183,221,162,249,128,309,105,366,91,410"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="474,144,612,169"/>
<area shape="poly" title=" " alt="" coords="88,408,103,370,128,324,162,277,204,237,233,219,259,208,307,199,357,196,419,186,477,171,478,176,421,191,358,201,308,204,260,213,235,224,207,241,166,280,133,327,108,373,93,410"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="215,251,410,291"/>
<area shape="poly" title=" " alt="" coords="95,407,140,354,170,325,204,301,213,296,215,301,207,305,174,330,144,358,100,411"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="237,568,389,609"/>
<area shape="poly" title=" " alt="" coords="100,449,144,501,174,530,207,554,224,563,221,567,204,559,170,534,140,505,95,452"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="237,632,388,688"/>
<area shape="poly" title=" " alt="" coords="93,449,110,486,135,531,167,577,207,618,225,630,222,635,204,622,163,581,130,534,105,488,89,452"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571" title=" " alt="" coords="220,394,406,465"/>
<area shape="poly" title=" " alt="" coords="158,427,205,427,205,432,158,432"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a" title=" " alt="" coords="207,315,419,371"/>
<area shape="poly" title=" " alt="" coords="134,406,205,379,218,374,220,379,207,384,136,411"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20" title=" " alt="" coords="206,488,420,544"/>
<area shape="poly" title=" " alt="" coords="139,448,207,474,223,480,221,485,205,479,137,453"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="253,713,373,738"/>
<area shape="poly" title=" " alt="" coords="89,450,99,501,121,568,137,604,156,639,180,671,207,698,239,715,236,720,204,702,176,674,152,642,132,606,116,570,94,502,83,451"/>
<area shape="poly" title=" " alt="" coords="403,154,458,154,458,159,403,159"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="685,78,804,104"/>
<area shape="poly" title=" " alt="" coords="584,140,687,107,689,112,586,145"/>
<area shape="rect" href="namespacesysio_1_1chain.html#aaef17ed9b59c73f49f1889fe7484314f" title=" " alt="" coords="679,136,810,177"/>
<area shape="poly" title=" " alt="" coords="613,154,664,154,664,159,613,159"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="886,5,1022,46"/>
<area shape="poly" title=" " alt="" coords="787,75,871,49,873,54,789,80"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="886,71,1022,111"/>
<area shape="poly" title=" " alt="" coords="804,88,871,88,871,94,804,94"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1099,13,1214,38"/>
<area shape="poly" title=" " alt="" coords="1023,23,1084,23,1084,28,1023,28"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a61210351e5f5e8bb94ca2b2f6a607082" title=" " alt="" coords="889,136,1020,177"/>
<area shape="poly" title=" " alt="" coords="811,154,873,154,873,159,811,159"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a5d7ccb3192f954c6f4a4082007c45c04" title=" " alt="" coords="889,201,1020,242"/>
<area shape="poly" title=" " alt="" coords="812,174,875,194,873,199,810,179"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="871,398,1038,424"/>
<area shape="poly" title=" " alt="" coords="399,247,468,236,569,221,651,207,690,205,730,210,774,222,824,243,865,273,899,310,925,349,944,383,939,386,921,352,895,313,862,276,821,248,773,227,729,215,690,211,652,212,570,226,468,242,400,253"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="472,365,614,406"/>
<area shape="poly" title=" " alt="" coords="394,290,421,301,466,326,506,353,503,358,463,330,419,305,392,294"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="468,251,618,291"/>
<area shape="poly" title=" " alt="" coords="411,268,452,268,452,274,411,274"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1086,391,1227,431"/>
<area shape="poly" title=" " alt="" coords="1039,417,1070,417,1070,423,1039,423"/>
<area shape="poly" title=" " alt="" coords="1086,405,1054,405,1054,399,1086,400"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1275,363,1417,403"/>
<area shape="poly" title=" " alt="" coords="1227,398,1260,393,1260,398,1228,403"/>
<area shape="poly" title=" " alt="" coords="1275,383,1227,382,1156,378,1086,382,1015,396,1014,391,1086,376,1156,373,1227,376,1275,378"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="674,391,815,431"/>
<area shape="poly" title=" " alt="" coords="614,392,659,398,658,403,614,397"/>
<area shape="poly" title=" " alt="" coords="815,408,855,408,855,414,815,414"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="666,258,823,284"/>
<area shape="poly" title=" " alt="" coords="618,268,651,268,651,274,618,274"/>
<area shape="poly" title=" " alt="" coords="406,437,494,444,598,449,711,449,822,440,894,426,895,431,823,446,711,454,598,454,494,450,406,443"/>
<area shape="poly" title=" " alt="" coords="406,409,457,399,458,405,407,415"/>
<area shape="poly" title=" " alt="" coords="406,424,618,415,658,413,658,418,618,420,406,429"/>
<area shape="poly" title=" " alt="" coords="419,341,608,350,716,360,823,376,891,391,890,397,822,382,716,366,608,355,419,346"/>
<area shape="poly" title=" " alt="" coords="420,360,458,367,457,372,419,365"/>
<area shape="poly" title=" " alt="" coords="399,542,421,554,436,566,445,578,454,588,469,597,509,609,542,612,576,607,618,596,664,582,710,563,796,518,870,471,923,431,926,436,873,475,799,522,712,568,666,587,619,602,577,612,542,617,508,614,467,601,451,592,441,581,432,570,419,559,397,547"/>
<area shape="poly" title=" " alt="" coords="395,486,419,474,465,445,505,414,508,418,468,449,421,479,397,490"/>
<area shape="rect" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html#a5535b786bf4289eccf551d6b15e5c839" title=" " alt="" coords="468,531,618,587"/>
<area shape="poly" title=" " alt="" coords="420,534,454,540,453,545,420,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a5eb5bb7961c3ae6496caca42b84ab192_icgraph">
<area shape="rect" title="start_block" alt="" coords="1251,92,1404,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a1b67831f3be3a668c170723427236954" name="a1b67831f3be3a668c170723427236954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b67831f3be3a668c170723427236954">&#9670;&#160;</a></span>get_deep_mind_logger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a> * sysio::chain::controller_impl::get_deep_mind_logger </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02572">2572</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2572</span>                                                          {</div>
<div class="line"><span class="lineno"> 2573</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="#a4f73eb03cb9df364b792166a70f78320">deep_mind_logger</a>;</div>
<div class="line"><span class="lineno"> 2574</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a4f73eb03cb9df364b792166a70f78320"><div class="ttname"><a href="#a4f73eb03cb9df364b792166a70f78320">sysio::chain::controller_impl::deep_mind_logger</a></div><div class="ttdeci">deep_mind_handler * deep_mind_logger</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00250">controller.cpp:250</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a1b67831f3be3a668c170723427236954_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a1b67831f3be3a668c170723427236954_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a1b67831f3be3a668c170723427236954_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a1b67831f3be3a668c170723427236954_icgraph">
<area shape="rect" title=" " alt="" coords="2047,274,2238,314"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aa7c2a2da2eed15c5d55146b0ebd6646b" title=" " alt="" coords="1816,123,1968,164"/>
<area shape="poly" title=" " alt="" coords="2109,265,2059,221,1998,179,1967,165,1970,160,2001,174,2062,216,2113,261"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="1512,87,1737,128"/>
<area shape="poly" title=" " alt="" coords="2132,259,2116,206,2090,142,2073,111,2052,81,2027,55,1998,34,1955,15,1908,9,1861,11,1813,21,1768,36,1726,53,1659,89,1657,84,1723,49,1766,31,1812,16,1860,6,1908,3,1956,10,2001,29,2030,51,2056,78,2077,108,2095,140,2121,204,2137,258"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1281,351,1434,392"/>
<area shape="poly" title=" " alt="" coords="2032,315,2000,321,1869,340,1737,355,1575,366,1434,372,1434,367,1575,361,1737,350,1868,335,1999,315,2032,310"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,326,803,366"/>
<area shape="poly" title=" " alt="" coords="2084,323,2000,355,1897,388,1816,412,1733,426,1626,431,1126,431,987,430,926,422,850,406,799,389,754,369,756,364,801,384,851,401,927,417,987,424,1126,426,1626,426,1732,421,1815,407,1896,383,1998,350,2082,318"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,326,158,366"/>
<area shape="poly" title=" " alt="" coords="2133,330,2115,375,2087,428,2050,479,2027,502,2001,520,1950,546,1905,560,1862,566,1821,565,1734,554,1683,548,1626,546,489,546,428,540,369,525,312,503,258,476,167,418,104,369,108,365,170,413,261,472,314,498,371,520,429,535,489,541,1626,541,1684,543,1734,549,1821,560,1862,561,1903,555,1948,541,1998,516,2023,498,2045,476,2083,425,2110,373,2128,328"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="1796,466,1988,506"/>
<area shape="poly" title=" " alt="" coords="2120,329,2070,389,2037,421,2001,449,1966,467,1964,463,1998,445,2033,417,2066,386,2116,325"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8cdd409341efde24915eadc5f25a51f9" title=" " alt="" coords="1785,188,1999,229"/>
<area shape="poly" title=" " alt="" coords="2065,271,1953,232,1955,227,2067,266"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1281,275,1434,316"/>
<area shape="poly" title=" " alt="" coords="2032,292,1999,291,1755,288,1512,291,1434,294,1434,289,1512,286,1755,283,1999,286,2032,287"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a3f2b256d3a667ffeed8f7fd03e36c902" title=" " alt="" coords="1520,300,1728,341"/>
<area shape="poly" title=" " alt="" coords="2032,302,1729,318,1729,313,2032,297"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1dac6da3cb5899f6bcd62b9012c75e43" title=" " alt="" coords="1808,43,1977,99"/>
<area shape="poly" title=" " alt="" coords="2121,262,2071,187,2037,148,1998,113,1976,100,1979,96,2001,109,2040,144,2075,184,2125,259"/>
<area shape="poly" title=" " alt="" coords="1800,134,1737,125,1738,120,1801,128"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,284,1203,325"/>
<area shape="poly" title=" " alt="" coords="1270,349,1199,328,1201,323,1271,344"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,351,1003,392"/>
<area shape="poly" title=" " alt="" coords="1051,333,991,353,989,348,1049,328"/>
<area shape="poly" title=" " alt="" coords="1036,316,803,340,803,334,1035,311"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,268,574,309"/>
<area shape="poly" title=" " alt="" coords="1035,305,575,293,575,288,1035,300"/>
<area shape="poly" title=" " alt="" coords="1019,369,1281,369,1281,374,1019,374"/>
<area shape="poly" title=" " alt="" coords="835,363,803,359,804,354,835,358"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,383,566,424"/>
<area shape="poly" title=" " alt="" coords="836,381,567,400,567,395,835,375"/>
<area shape="poly" title=" " alt="" coords="607,349,158,349,158,343,607,343"/>
<area shape="poly" title=" " alt="" coords="617,373,568,386,566,381,616,368"/>
<area shape="poly" title=" " alt="" coords="616,324,571,312,572,307,617,319"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,268,358,309"/>
<area shape="poly" title=" " alt="" coords="391,291,359,291,359,286,391,286"/>
<area shape="poly" title=" " alt="" coords="195,316,156,328,154,322,193,311"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="1541,466,1708,506"/>
<area shape="poly" title=" " alt="" coords="1781,489,1709,489,1709,483,1781,483"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="1251,466,1464,506"/>
<area shape="poly" title=" " alt="" coords="1525,489,1464,489,1464,483,1525,483"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="1051,466,1203,506"/>
<area shape="poly" title=" " alt="" coords="1236,489,1203,489,1203,483,1236,483"/>
<area shape="poly" title=" " alt="" coords="1806,185,1784,178,1670,131,1672,126,1786,173,1808,180"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1545,186,1704,226"/>
<area shape="poly" title=" " alt="" coords="1769,210,1705,209,1705,204,1769,205"/>
<area shape="poly" title=" " alt="" coords="1530,219,1397,237,1252,266,1185,286,1183,281,1251,261,1396,232,1529,213"/>
<area shape="poly" title=" " alt="" coords="1548,234,1422,277,1420,272,1546,229"/>
<area shape="poly" title=" " alt="" coords="1266,302,1204,304,1204,299,1266,296"/>
<area shape="poly" title=" " alt="" coords="1504,312,1434,305,1434,300,1505,307"/>
<area shape="poly" title=" " alt="" coords="1793,87,1738,95,1737,89,1792,82"/>
</map>
</div>

</div>
</div>
<a id="a3f2b256d3a667ffeed8f7fd03e36c902" name="a3f2b256d3a667ffeed8f7fd03e36c902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2b256d3a667ffeed8f7fd03e36c902">&#9670;&#160;</a></span>get_on_block_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1signed__transaction.html">signed_transaction</a> sysio::chain::controller_impl::get_on_block_transaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>At the start of each block we notify the system contract with a transaction that passes in the block header of the prior block (which is currently our head block) </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02546">2546</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2547</span>   {</div>
<div class="line"><span class="lineno"> 2548</span>      <a class="code hl_struct" href="structaction.html">action</a> on_block_act;</div>
<div class="line"><span class="lineno"> 2549</span>      on_block_act.account = config::system_account_name;</div>
<div class="line"><span class="lineno"> 2550</span>      on_block_act.name = <span class="stringliteral">&quot;onblock&quot;</span>_n;</div>
<div class="line"><span class="lineno"> 2551</span>      on_block_act.authorization = vector&lt;permission_level&gt;{{config::system_account_name, config::active_name}};</div>
<div class="line"><span class="lineno"> 2552</span>      on_block_act.data = <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ad39b3fade2e84d4a743230a27c650f1f">head_block_header</a>());</div>
<div class="line"><span class="lineno"> 2553</span> </div>
<div class="line"><span class="lineno"> 2554</span>      signed_transaction trx;</div>
<div class="line"><span class="lineno"> 2555</span>      trx.actions.emplace_back(std::move(on_block_act));</div>
<div class="line"><span class="lineno"> 2556</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3">is_builtin_activated</a>( <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cfa1e0a5b7203c3f4124dc8c1880b04e36b">builtin_protocol_feature_t::no_duplicate_deferred_id</a> ) ) {</div>
<div class="line"><span class="lineno"> 2557</span>         trx.expiration = time_point_sec();</div>
<div class="line"><span class="lineno"> 2558</span>         trx.ref_block_num = 0;</div>
<div class="line"><span class="lineno"> 2559</span>         trx.ref_block_prefix = 0;</div>
<div class="line"><span class="lineno"> 2560</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2561</span>         trx.expiration = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>() + <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(999&#39;999); <span class="comment">// Round up to nearest second to avoid appearing expired</span></div>
<div class="line"><span class="lineno"> 2562</span>         trx.set_reference_block( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124">head_block_id</a>() );</div>
<div class="line"><span class="lineno"> 2563</span>      }</div>
<div class="line"><span class="lineno"> 2564</span> </div>
<div class="line"><span class="lineno"> 2565</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 2566</span>         dm_logger-&gt;on_onblock(trx);</div>
<div class="line"><span class="lineno"> 2567</span>      }</div>
<div class="line"><span class="lineno"> 2568</span> </div>
<div class="line"><span class="lineno"> 2569</span>      <span class="keywordflow">return</span> trx;</div>
<div class="line"><span class="lineno"> 2570</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_ad39b3fade2e84d4a743230a27c650f1f"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#ad39b3fade2e84d4a743230a27c650f1f">sysio::chain::controller::head_block_header</a></div><div class="ttdeci">const block_header &amp; head_block_header() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02961">controller.cpp:2961</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a3a18d8161aa5b4f4f02b6fcfdff5e5d1"><div class="ttname"><a href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a></div><div class="ttdeci">void pack(Stream &amp;s, const std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00531">raw.hpp:531</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_cgraph">
<area shape="rect" title=" " alt="" coords="5,201,214,242"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="263,5,453,46"/>
<area shape="poly" title=" " alt="" coords="123,200,178,130,216,91,260,57,270,51,272,56,263,61,220,95,182,134,127,203"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ad39b3fade2e84d4a743230a27c650f1f" title=" " alt="" coords="282,71,434,111"/>
<area shape="poly" title=" " alt="" coords="137,199,193,161,260,122,275,115,277,120,263,127,196,165,140,203"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="282,136,434,177"/>
<area shape="poly" title=" " alt="" coords="189,198,266,178,267,183,190,203"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3" title=" " alt="" coords="282,201,434,242"/>
<area shape="poly" title=" " alt="" coords="214,219,266,219,266,224,214,224"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="309,290,406,316"/>
<area shape="poly" title=" " alt="" coords="175,240,302,282,301,287,173,245"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="282,340,434,381"/>
<area shape="poly" title=" " alt="" coords="137,240,193,283,263,326,274,331,272,336,260,331,190,287,134,245"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__header.html#a220798b433002112ac85e5545a99ec51" title=" " alt="" coords="262,405,454,446"/>
<area shape="poly" title=" " alt="" coords="126,241,181,314,219,354,263,390,272,396,269,400,260,395,216,358,177,317,122,244"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="504,201,656,242"/>
<area shape="poly" title=" " alt="" coords="434,219,488,219,488,224,434,224"/>
<area shape="poly" title=" " alt="" coords="321,291,314,282,318,272,333,266,358,264,385,266,399,273,397,278,384,271,358,269,334,271,322,276,319,281,325,288"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="502,413,658,438"/>
<area shape="poly" title=" " alt="" coords="454,423,486,423,486,428,454,428"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a3f2b256d3a667ffeed8f7fd03e36c902_icgraph">
<area shape="rect" title=" " alt="" coords="1452,92,1660,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a9efbc515682ae5dede91184c36af73f7" name="a9efbc515682ae5dede91184c36af73f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9efbc515682ae5dede91184c36af73f7">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::init </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; bool()&gt;</td>          <td class="paramname"><span class="paramname"><em>check_shutdown</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00662">662</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  662</span>                                                 {</div>
<div class="line"><span class="lineno">  663</span>      <span class="keyword">auto</span> header_itr = <a class="code hl_function" href="#addaaa85d266d34e5f247ec9214354139">validate_db_version</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a> );</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>      {</div>
<div class="line"><span class="lineno">  666</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; state_chain_id = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;global_property_object&gt;().<a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>;</div>
<div class="line"><span class="lineno">  667</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( state_chain_id == <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, chain_id_type_exception,</div>
<div class="line"><span class="lineno">  668</span>                     <span class="stringliteral">&quot;chain ID in state (${state_chain_id}) does not match the chain ID that controller was constructed with (${controller_chain_id})&quot;</span>,</div>
<div class="line"><span class="lineno">  669</span>                     (<span class="stringliteral">&quot;state_chain_id&quot;</span>, state_chain_id)(<span class="stringliteral">&quot;controller_chain_id&quot;</span>, <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>)</div>
<div class="line"><span class="lineno">  670</span>         );</div>
<div class="line"><span class="lineno">  671</span>      }</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>      <span class="comment">// upgrade to the latest compatible version</span></div>
<div class="line"><span class="lineno">  674</span>      <span class="keywordflow">if</span> (header_itr-&gt;version != database_header_object::current_version) {</div>
<div class="line"><span class="lineno">  675</span>         <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(*header_itr, [](<span class="keyword">auto</span>&amp; header) {</div>
<div class="line"><span class="lineno">  676</span>            header.version = database_header_object::current_version;</div>
<div class="line"><span class="lineno">  677</span>         });</div>
<div class="line"><span class="lineno">  678</span>      }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>      <span class="comment">// At this point head != nullptr</span></div>
<div class="line"><span class="lineno">  681</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() &gt;= <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>,</div>
<div class="line"><span class="lineno">  682</span>                  <span class="stringliteral">&quot;fork database head (${head}) is inconsistent with state (${db})&quot;</span>,</div>
<div class="line"><span class="lineno">  683</span>                  (<span class="stringliteral">&quot;db&quot;</span>,<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>())(<span class="stringliteral">&quot;head&quot;</span>,<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num) );</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() &gt; <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num ) {</div>
<div class="line"><span class="lineno">  686</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;database revision (${db}) is greater than head block number (${head}), &quot;</span></div>
<div class="line"><span class="lineno">  687</span>               <span class="stringliteral">&quot;attempting to undo pending changes&quot;</span>,</div>
<div class="line"><span class="lineno">  688</span>               (<span class="stringliteral">&quot;db&quot;</span>,<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>())(<span class="stringliteral">&quot;head&quot;</span>,<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num) );</div>
<div class="line"><span class="lineno">  689</span>      }</div>
<div class="line"><span class="lineno">  690</span>      <span class="keywordflow">while</span>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() &gt; <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num ) {</div>
<div class="line"><span class="lineno">  691</span>         <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6">undo</a>();</div>
<div class="line"><span class="lineno">  692</span>      }</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>      <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a573b85f64307919aa077810980b74b43">init</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a> );</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno">  697</span>         dm_logger-&gt;on_startup(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num);</div>
<div class="line"><span class="lineno">  698</span>      }</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>      <a class="code hl_function" href="#a9a9e4b6fe15eb93e63ac98af9f170647">replay</a>( check_shutdown ); <span class="comment">// replay any irreversible and reversible blocks ahead of current head</span></div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>      <span class="keywordflow">if</span>( check_shutdown() ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>      <span class="comment">// At this point head != nullptr &amp;&amp; fork_db.head() != nullptr &amp;&amp; fork_db.root() != nullptr.</span></div>
<div class="line"><span class="lineno">  705</span>      <span class="comment">// Furthermore, fork_db.root()-&gt;block_num &lt;= lib_num.</span></div>
<div class="line"><span class="lineno">  706</span>      <span class="comment">// Also, even though blog.head() may still be nullptr, blog.first_block_num() is guaranteed to be lib_num + 1.</span></div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> != <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a></div>
<div class="line"><span class="lineno">  709</span>          &amp;&amp; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>()-&gt;id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id</div>
<div class="line"><span class="lineno">  710</span>          &amp;&amp; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id == <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id</div>
<div class="line"><span class="lineno">  711</span>      ) {</div>
<div class="line"><span class="lineno">  712</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;read_mode has changed from irreversible: applying best branch from fork database&quot;</span> );</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>         <span class="keywordflow">for</span>( <span class="keyword">auto</span> pending_head = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>();</div>
<div class="line"><span class="lineno">  715</span>              pending_head-&gt;id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id;</div>
<div class="line"><span class="lineno">  716</span>              pending_head = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>()</div>
<div class="line"><span class="lineno">  717</span>         ) {</div>
<div class="line"><span class="lineno">  718</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;applying branch from fork database ending with block: ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, pending_head-&gt;id) );</div>
<div class="line"><span class="lineno">  719</span>            <a class="code hl_function" href="#af15d89f9220ba97aa5c521e643746587">maybe_switch_forks</a>( pending_head, <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1">controller::block_status::complete</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a>{}, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a>{} );</div>
<div class="line"><span class="lineno">  720</span>         }</div>
<div class="line"><span class="lineno">  721</span>      }</div>
<div class="line"><span class="lineno">  722</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a167bce30384de1f373ebe0c25d4d0de6"><div class="ttname"><a href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6">chainbase::database::undo</a></div><div class="ttdeci">void undo()</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8cpp_source.html#l00041">chainbase.cpp:41</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_a224fc0c346a93fd027bfa2515f54bf98"><div class="ttname"><a href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">chainbase::database::revision</a></div><div class="ttdeci">int64_t revision() const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00325">chainbase.hpp:325</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1">sysio::chain::controller::block_status::complete</a></div><div class="ttdeci">@ complete</div><div class="ttdoc">this is a complete block signed by a valid producer but is not yet irreversible nor has it yet been a...</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a16e619525d86741f3e5344b39ab91868"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">sysio::chain::fork_database::pending_head</a></div><div class="ttdeci">block_state_ptr pending_head() const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00405">fork_database.cpp:405</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__manager_html_a573b85f64307919aa077810980b74b43"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__manager.html#a573b85f64307919aa077810980b74b43">sysio::chain::protocol_feature_manager::init</a></div><div class="ttdeci">void init(chainbase::database &amp;db)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00588">protocol_feature_manager.cpp:588</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ad7e9cbb02002c4e7ab9825becb9f9f50"><div class="ttname"><a href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">sysio::chain::trx_meta_cache_lookup</a></div><div class="ttdeci">std::function&lt; transaction_metadata_ptr(const transaction_id_type &amp;)&gt; trx_meta_cache_lookup</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00047">controller.hpp:47</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ae043a3bf1321067bf1e4e7e5ab0ce3cd"><div class="ttname"><a href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">sysio::chain::forked_branch_callback</a></div><div class="ttdeci">std::function&lt; void(const branch_type &amp;)&gt; forked_branch_callback</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00045">controller.hpp:45</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">sysio::chain::db_read_mode::IRREVERSIBLE</a></div><div class="ttdeci">@ IRREVERSIBLE</div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a9a9e4b6fe15eb93e63ac98af9f170647"><div class="ttname"><a href="#a9a9e4b6fe15eb93e63ac98af9f170647">sysio::chain::controller_impl::replay</a></div><div class="ttdeci">void replay(std::function&lt; bool()&gt; check_shutdown)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00475">controller.cpp:475</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_addaaa85d266d34e5f247ec9214354139"><div class="ttname"><a href="#addaaa85d266d34e5f247ec9214354139">sysio::chain::controller_impl::validate_db_version</a></div><div class="ttdeci">static auto validate_db_version(const chainbase::database &amp;db)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00649">controller.cpp:649</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af15d89f9220ba97aa5c521e643746587"><div class="ttname"><a href="#af15d89f9220ba97aa5c521e643746587">sysio::chain::controller_impl::maybe_switch_forks</a></div><div class="ttdeci">void maybe_switch_forks(const block_state_ptr &amp;new_head, controller::block_status s, const forked_branch_callback &amp;forked_branch_cb, const trx_meta_cache_lookup &amp;trx_lookup)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02229">controller.cpp:2229</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9efbc515682ae5dede91184c36af73f7_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9efbc515682ae5dede91184c36af73f7_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9efbc515682ae5dede91184c36af73f7_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a9efbc515682ae5dede91184c36af73f7_cgraph">
<area shape="rect" title=" " alt="" coords="5,524,158,565"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="653,167,820,192"/>
<area shape="poly" title=" " alt="" coords="82,523,92,468,113,394,128,355,149,316,174,281,204,251,253,217,307,193,364,175,423,164,481,159,538,157,637,162,637,167,538,162,482,164,424,170,366,181,309,198,256,222,207,255,178,285,153,319,133,357,118,396,97,469,88,524"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="1407,668,1598,709"/>
<area shape="poly" title=" " alt="" coords="158,549,875,617,1118,635,1224,645,1360,661,1392,666,1391,671,1359,666,1223,650,1117,641,874,622,158,555"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="1670,1808,1791,1849"/>
<area shape="poly" title=" " alt="" coords="86,566,94,844,115,1300,131,1536,152,1746,177,1907,192,1962,208,1995,253,2044,299,2076,346,2093,396,2099,451,2099,510,2094,575,2090,646,2089,737,2094,776,2094,826,2089,948,2068,1072,2041,1193,2009,1309,1975,1514,1907,1662,1853,1664,1858,1516,1912,1311,1980,1194,2014,1073,2046,949,2073,827,2094,776,2099,737,2099,646,2094,575,2095,510,2100,451,2104,396,2105,345,2098,296,2081,249,2048,203,1998,187,1964,172,1908,146,1747,126,1536,109,1300,89,844,81,566"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a573b85f64307919aa077810980b74b43" title=" " alt="" coords="438,286,589,326"/>
<area shape="poly" title=" " alt="" coords="119,521,460,332,463,337,122,526"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="646,870,827,910"/>
<area shape="poly" title=" " alt="" coords="116,563,207,618,469,757,678,860,676,865,466,762,204,623,113,568"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="1646,1982,1815,2022"/>
<area shape="poly" title=" " alt="" coords="86,566,90,864,107,1357,123,1612,144,1839,157,1934,172,2012,189,2070,208,2104,241,2136,274,2157,307,2169,342,2173,419,2170,512,2165,1244,2165,1308,2161,1371,2150,1433,2134,1493,2114,1599,2069,1679,2028,1682,2033,1601,2074,1494,2119,1434,2139,1372,2155,1308,2166,1245,2170,512,2170,419,2175,341,2178,306,2174,272,2162,238,2141,204,2108,184,2072,167,2013,152,1935,139,1840,117,1612,102,1357,85,864,80,566"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="1670,516,1791,557"/>
<area shape="poly" title=" " alt="" coords="82,523,95,425,120,286,136,214,156,150,178,97,204,62,241,33,276,15,311,5,346,3,421,8,512,14,1244,14,1352,13,1397,15,1439,20,1478,31,1517,49,1557,75,1600,112,1637,157,1667,207,1690,261,1706,317,1725,421,1731,501,1726,501,1720,422,1701,318,1685,263,1662,210,1633,160,1596,116,1554,80,1515,53,1477,36,1438,26,1397,20,1352,19,1245,19,512,19,420,14,346,8,312,11,278,20,244,37,208,65,183,99,161,151,142,216,125,287,101,426,88,524"/>
<area shape="rect" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6" title=" " alt="" coords="1172,516,1314,557"/>
<area shape="poly" title=" " alt="" coords="158,538,321,531,512,527,738,527,1157,532,1157,538,738,533,512,533,321,536,158,543"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="223,264,364,305"/>
<area shape="poly" title=" " alt="" coords="94,523,141,455,204,372,257,315,261,318,208,376,145,458,98,526"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="217,1508,370,1549"/>
<area shape="poly" title=" " alt="" coords="90,565,287,1493,282,1494,85,566"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="666,2039,807,2080"/>
<area shape="poly" title=" " alt="" coords="86,566,89,712,105,958,120,1103,142,1256,171,1410,208,1560,229,1639,244,1709,257,1772,273,1829,294,1882,325,1932,369,1980,431,2029,455,2044,482,2055,539,2069,597,2073,650,2070,650,2076,597,2078,539,2074,481,2060,453,2049,427,2034,366,1984,321,1935,289,1884,268,1831,252,1773,238,1710,223,1640,203,1561,166,1412,137,1257,115,1104,100,958,84,712,80,566"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#addaaa85d266d34e5f247ec9214354139" title=" " alt="" coords="206,75,381,116"/>
<area shape="poly" title=" " alt="" coords="82,524,93,458,114,365,150,260,174,208,204,161,221,140,241,123,245,127,225,144,208,164,179,211,155,262,119,366,98,459,88,525"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="906,155,1048,196"/>
<area shape="poly" title=" " alt="" coords="820,184,891,183,891,188,820,189"/>
<area shape="poly" title=" " alt="" coords="906,171,836,172,836,166,906,166"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1432,126,1573,166"/>
<area shape="poly" title=" " alt="" coords="1048,169,1416,148,1416,154,1048,174"/>
<area shape="poly" title=" " alt="" coords="1431,142,1323,135,1185,131,1030,133,875,146,793,164,792,159,874,141,1030,128,1185,125,1324,130,1431,137"/>
<area shape="poly" title=" " alt="" coords="573,283,597,269,611,257,620,245,630,233,645,220,685,197,688,201,648,224,634,237,625,249,615,261,600,274,575,287"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9fd76dbd437aa9d52791de3e7893be48" title=" " alt="" coords="647,278,826,334"/>
<area shape="poly" title=" " alt="" coords="589,303,632,303,632,309,589,309"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5952c7d18c4d936c9416cf7cbce01d87" title=" " alt="" coords="875,220,1079,261"/>
<area shape="poly" title=" " alt="" coords="573,283,646,263,755,248,859,241,859,246,755,254,647,269,574,288"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="1428,416,1577,442"/>
<area shape="poly" title=" " alt="" coords="582,325,647,344,760,377,810,389,875,401,1022,417,1169,425,1412,428,1412,434,1169,431,1022,422,874,406,809,395,759,382,646,349,581,330"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#ae8a1236ae57e1bc45fbd29c4b9ae1643" title=" " alt="" coords="904,351,1050,392"/>
<area shape="poly" title=" " alt="" coords="827,328,890,345,889,350,826,333"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#aa3d76a6a13d7d417794cad6739b30683" title=" " alt="" coords="904,286,1050,326"/>
<area shape="poly" title=" " alt="" coords="827,303,889,303,889,309,827,309"/>
<area shape="poly" title=" " alt="" coords="826,279,884,263,886,268,827,284"/>
<area shape="poly" title=" " alt="" coords="745,868,764,833,792,792,828,751,850,733,874,718,915,704,970,693,1108,681,1258,678,1392,681,1392,686,1258,684,1108,686,971,698,916,709,876,723,853,737,832,754,796,795,768,836,750,870"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="901,1202,1053,1242"/>
<area shape="poly" title=" " alt="" coords="755,909,954,1187,950,1190,751,912"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1426,1552,1579,1593"/>
<area shape="poly" title=" " alt="" coords="744,910,772,1038,800,1130,838,1231,889,1334,920,1383,954,1431,991,1475,1033,1515,1078,1550,1128,1578,1162,1592,1198,1601,1273,1609,1346,1605,1411,1594,1412,1600,1346,1610,1273,1614,1197,1607,1161,1597,1126,1583,1075,1554,1029,1519,987,1479,949,1434,915,1386,885,1336,834,1233,795,1132,767,1039,739,912"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="1654,1488,1806,1529"/>
<area shape="poly" title=" " alt="" coords="805,867,1126,769,1192,757,1245,750,1297,752,1360,769,1442,803,1474,821,1501,841,1550,893,1600,966,1636,1032,1664,1103,1687,1176,1703,1248,1723,1378,1731,1472,1725,1473,1718,1379,1698,1249,1681,1177,1659,1105,1631,1035,1595,969,1546,896,1498,845,1471,825,1440,808,1358,774,1296,757,1245,755,1193,763,1128,774,806,872"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="1166,972,1320,1013"/>
<area shape="poly" title=" " alt="" coords="754,909,803,964,837,992,876,1013,911,1024,947,1031,1022,1034,1094,1027,1158,1015,1159,1020,1095,1032,1023,1039,947,1036,910,1029,874,1018,834,997,800,968,750,912"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="1177,923,1309,948"/>
<area shape="poly" title=" " alt="" coords="827,879,947,875,1014,877,1079,883,1140,897,1195,914,1193,919,1139,902,1079,889,1013,882,947,880,827,884"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748" title=" " alt="" coords="878,963,1076,1004"/>
<area shape="poly" title=" " alt="" coords="783,908,876,948,896,955,894,960,874,953,781,913"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="901,732,1053,773"/>
<area shape="poly" title=" " alt="" coords="761,867,811,829,873,789,899,777,901,782,876,794,814,833,764,872"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="901,567,1053,608"/>
<area shape="poly" title=" " alt="" coords="746,868,797,781,832,727,873,675,903,643,934,616,938,620,907,647,877,678,837,730,801,784,751,871"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc" title="fetch_branch_from_impl" alt="" coords="911,898,1043,938"/>
<area shape="poly" title=" " alt="" coords="827,898,896,906,895,911,827,903"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="1426,1346,1579,1386"/>
<area shape="poly" title=" " alt="" coords="996,1241,1050,1298,1087,1327,1128,1349,1199,1369,1274,1379,1346,1380,1410,1376,1411,1382,1346,1385,1274,1384,1198,1375,1126,1354,1084,1331,1046,1302,992,1245"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1167,1234,1319,1274"/>
<area shape="poly" title=" " alt="" coords="1054,1229,1152,1240,1151,1246,1053,1234"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="1127,1103,1359,1144"/>
<area shape="poly" title=" " alt="" coords="1021,1199,1126,1154,1150,1146,1151,1151,1128,1159,1023,1204"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1167,1168,1319,1209"/>
<area shape="poly" title=" " alt="" coords="1053,1210,1151,1198,1152,1203,1054,1215"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="1154,1299,1332,1340"/>
<area shape="poly" title=" " alt="" coords="1024,1240,1128,1284,1151,1291,1150,1297,1126,1289,1022,1245"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1409,1425,1596,1451"/>
<area shape="poly" title=" " alt="" coords="992,1241,1013,1275,1044,1315,1083,1354,1128,1386,1193,1413,1262,1429,1331,1438,1394,1441,1394,1446,1330,1443,1261,1435,1192,1418,1126,1391,1079,1359,1040,1318,1009,1278,988,1244"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="1160,1465,1326,1491"/>
<area shape="poly" title=" " alt="" coords="989,1242,1008,1285,1037,1339,1078,1396,1102,1422,1129,1444,1151,1457,1149,1461,1125,1448,1098,1426,1074,1399,1033,1342,1003,1287,984,1244"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="1130,807,1356,848"/>
<area shape="poly" title=" " alt="" coords="986,1200,1077,1014,1097,959,1106,936,1125,908,1156,878,1189,854,1192,858,1159,882,1129,912,1111,938,1101,961,1081,1016,991,1203"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1164,1038,1323,1078"/>
<area shape="poly" title=" " alt="" coords="994,1199,1049,1145,1086,1115,1126,1089,1148,1079,1150,1083,1128,1094,1089,1119,1053,1149,998,1203"/>
<area shape="poly" title=" " alt="" coords="997,1200,1036,1159,1077,1109,1090,1085,1097,1064,1107,1044,1125,1024,1151,1009,1153,1014,1129,1028,1111,1047,1102,1066,1095,1087,1081,1112,1040,1162,1001,1203"/>
<area shape="poly" title=" " alt="" coords="1000,1199,1039,1159,1077,1109,1086,1087,1091,1067,1094,1030,1100,995,1109,977,1125,959,1142,947,1161,939,1163,944,1145,952,1129,963,1114,980,1105,996,1099,1031,1097,1068,1091,1089,1081,1111,1043,1163,1004,1203"/>
<area shape="poly" title=" " alt="" coords="1319,1243,1340,1233,1357,1219,1380,1189,1393,1160,1398,1132,1399,1104,1396,1042,1397,1006,1405,967,1446,831,1485,723,1490,725,1451,833,1410,968,1403,1007,1401,1042,1404,1104,1403,1133,1398,1162,1385,1191,1361,1223,1343,1238,1321,1247"/>
<area shape="poly" title=" " alt="" coords="1321,1260,1343,1270,1361,1286,1388,1326,1399,1365,1399,1403,1393,1441,1386,1480,1384,1519,1390,1560,1410,1603,1435,1638,1464,1670,1531,1725,1600,1768,1663,1799,1661,1804,1598,1773,1528,1729,1460,1674,1430,1641,1405,1606,1385,1561,1379,1519,1381,1479,1388,1440,1393,1403,1393,1366,1383,1328,1357,1289,1340,1275,1318,1265"/>
<area shape="poly" title=" " alt="" coords="1318,1244,1340,1234,1357,1219,1370,1199,1381,1173,1394,1108,1399,1032,1399,948,1396,783,1397,712,1405,656,1422,598,1444,542,1485,454,1489,457,1448,544,1427,600,1410,657,1403,712,1401,783,1405,948,1404,1032,1399,1109,1386,1174,1375,1201,1361,1223,1343,1238,1321,1249"/>
<area shape="poly" title=" " alt="" coords="1320,1271,1360,1285,1411,1309,1457,1335,1454,1340,1408,1314,1358,1290,1319,1276"/>
<area shape="poly" title=" " alt="" coords="1321,1262,1342,1271,1361,1286,1378,1307,1388,1329,1393,1370,1394,1414,1399,1437,1410,1462,1438,1504,1470,1540,1466,1543,1434,1507,1405,1465,1394,1438,1389,1414,1388,1370,1383,1330,1374,1310,1357,1289,1340,1276,1319,1267"/>
<area shape="poly" title=" " alt="" coords="1320,1254,1384,1260,1456,1274,1530,1297,1566,1313,1599,1332,1637,1363,1670,1401,1696,1439,1715,1473,1711,1476,1691,1442,1666,1404,1634,1367,1596,1336,1563,1318,1528,1302,1455,1279,1383,1266,1320,1259"/>
<area shape="poly" title=" " alt="" coords="1576,1591,1600,1610,1614,1630,1622,1649,1627,1687,1630,1725,1636,1745,1648,1766,1680,1797,1676,1801,1644,1769,1631,1747,1625,1726,1622,1688,1617,1651,1610,1632,1596,1613,1573,1596"/>
<area shape="poly" title=" " alt="" coords="1426,1580,1357,1578,1278,1567,1198,1545,1160,1527,1125,1506,1096,1479,1070,1449,1029,1381,1001,1314,984,1258,989,1257,1006,1312,1033,1379,1074,1446,1099,1476,1129,1501,1163,1523,1200,1540,1279,1562,1357,1572,1426,1575"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="1647,1560,1814,1601"/>
<area shape="poly" title=" " alt="" coords="1579,1573,1631,1575,1631,1580,1579,1578"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="1648,1636,1812,1677"/>
<area shape="poly" title=" " alt="" coords="1561,1591,1660,1628,1658,1633,1559,1596"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="1665,1715,1796,1756"/>
<area shape="poly" title=" " alt="" coords="1571,1591,1599,1609,1616,1629,1625,1648,1632,1667,1648,1687,1671,1705,1667,1709,1644,1691,1628,1670,1620,1650,1612,1632,1596,1613,1568,1596"/>
<area shape="poly" title=" " alt="" coords="1577,1549,1640,1531,1642,1536,1578,1554"/>
<area shape="poly" title=" " alt="" coords="1516,1592,1570,1707,1648,1859,1711,1967,1706,1970,1643,1862,1566,1709,1511,1595"/>
<area shape="poly" title=" " alt="" coords="1526,1550,1563,1512,1581,1488,1595,1462,1622,1383,1645,1275,1666,1148,1684,1012,1710,751,1724,572,1729,573,1715,752,1689,1013,1671,1149,1650,1276,1627,1385,1600,1464,1585,1491,1567,1515,1530,1554"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="1863,1982,1984,2022"/>
<area shape="poly" title=" " alt="" coords="1815,1999,1848,1999,1848,2005,1815,2005"/>
<area shape="poly" title=" " alt="" coords="1326,1463,1399,1451,1400,1457,1327,1468"/>
<area shape="poly" title=" " alt="" coords="1252,806,1300,705,1357,568,1382,486,1405,403,1485,179,1490,181,1410,404,1387,487,1362,570,1305,707,1257,808"/>
<area shape="poly" title=" " alt="" coords="1195,807,1192,797,1200,788,1217,782,1243,780,1271,783,1288,789,1286,794,1270,788,1243,786,1218,788,1203,792,1197,798,1200,806"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="1436,980,1569,1006"/>
<area shape="poly" title=" " alt="" coords="1323,1035,1433,1007,1434,1013,1324,1041"/>
<area shape="poly" title=" " alt="" coords="1320,990,1421,990,1421,995,1320,995"/>
<area shape="poly" title=" " alt="" coords="1053,582,1359,566,1654,541,1654,547,1360,571,1054,587"/>
<area shape="poly" title=" " alt="" coords="1053,570,1156,550,1158,556,1054,576"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="443,219,584,260"/>
<area shape="poly" title=" " alt="" coords="364,268,427,254,428,260,365,273"/>
<area shape="poly" title=" " alt="" coords="584,218,671,194,672,199,585,223"/>
<area shape="poly" title=" " alt="" coords="301,1549,314,1599,338,1666,355,1700,376,1734,401,1764,431,1789,470,1814,506,1829,539,1837,573,1839,645,1835,735,1830,1244,1830,1654,1827,1654,1832,1245,1835,735,1835,645,1840,573,1845,539,1842,504,1834,467,1818,427,1794,397,1768,372,1737,351,1703,333,1668,309,1601,296,1550"/>
<area shape="poly" title=" " alt="" coords="330,1547,402,1585,501,1628,557,1648,615,1664,675,1674,735,1678,1244,1678,1357,1671,1468,1652,1570,1628,1653,1604,1654,1609,1571,1633,1469,1657,1357,1676,1245,1683,735,1683,675,1679,614,1669,555,1653,499,1633,400,1590,328,1552"/>
<area shape="poly" title=" " alt="" coords="311,1548,359,1607,392,1639,430,1665,510,1703,576,1722,646,1728,735,1729,1244,1729,1349,1724,1453,1711,1550,1695,1633,1678,1634,1683,1551,1700,1454,1717,1349,1729,1245,1734,735,1734,646,1734,575,1727,508,1708,428,1670,389,1643,355,1611,306,1551"/>
<area shape="poly" title=" " alt="" coords="304,1549,321,1589,347,1639,384,1689,406,1712,430,1731,471,1754,507,1770,541,1779,574,1783,645,1782,735,1779,1244,1779,1355,1776,1465,1767,1649,1745,1650,1750,1465,1773,1355,1781,1245,1785,735,1785,646,1788,574,1788,540,1784,505,1775,469,1759,428,1735,402,1716,380,1693,343,1642,316,1591,299,1551"/>
<area shape="poly" title=" " alt="" coords="370,1526,735,1526,978,1526,1345,1520,1639,1510,1639,1515,1345,1526,978,1531,735,1531,370,1531"/>
<area shape="poly" title=" " alt="" coords="306,1548,343,1638,384,1757,391,1794,392,1827,389,1885,389,1912,394,1937,407,1961,431,1985,450,1998,475,2008,537,2020,611,2024,692,2021,852,2008,975,1999,1244,1999,1630,1999,1630,2005,1244,2005,976,2005,852,2013,692,2027,611,2029,536,2025,474,2013,448,2003,427,1989,403,1964,389,1938,384,1912,383,1885,387,1827,385,1794,378,1759,338,1640,301,1550"/>
<area shape="poly" title=" " alt="" coords="292,1508,296,1411,302,1340,313,1260,329,1174,353,1087,385,1001,427,921,537,739,589,663,644,599,674,571,707,547,742,526,780,509,822,495,869,485,919,479,975,477,1245,477,1357,481,1469,492,1655,520,1654,525,1468,497,1357,486,1244,482,976,482,920,484,869,490,824,500,782,514,744,531,710,551,678,575,648,603,593,667,542,742,431,923,390,1003,358,1088,335,1176,318,1261,307,1341,301,1411,297,1508"/>
<area shape="poly" title=" " alt="" coords="298,1507,314,1462,341,1402,378,1339,401,1309,427,1283,471,1248,513,1220,555,1199,596,1183,677,1163,757,1151,835,1139,914,1117,954,1101,995,1079,1036,1050,1077,1014,1088,1000,1093,987,1098,959,1104,932,1112,919,1125,908,1157,890,1186,878,1214,871,1241,869,1269,873,1297,880,1361,908,1378,922,1386,939,1394,956,1409,971,1423,978,1420,982,1406,975,1390,959,1382,941,1374,925,1358,912,1295,885,1268,878,1241,875,1215,876,1188,883,1159,895,1129,912,1116,923,1109,934,1103,960,1099,989,1092,1003,1081,1017,1039,1054,997,1083,957,1105,916,1122,836,1144,757,1156,678,1168,598,1188,557,1203,516,1225,474,1252,431,1287,405,1313,383,1342,346,1405,319,1464,303,1509"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a99c59d29b262144ad99eacc827f76107" title=" " alt="" coords="429,1935,598,1976"/>
<area shape="poly" title=" " alt="" coords="298,1549,306,1618,327,1717,344,1771,367,1825,395,1875,431,1920,434,1924,431,1927,427,1924,391,1878,362,1827,339,1773,322,1719,301,1619,293,1550"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="430,1296,598,1337"/>
<area shape="poly" title=" " alt="" coords="314,1506,479,1346,483,1349,318,1510"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884" title=" " alt="" coords="660,1400,813,1441"/>
<area shape="poly" title=" " alt="" coords="369,1508,645,1440,646,1445,371,1513"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02" title=" " alt="" coords="453,934,574,974"/>
<area shape="poly" title=" " alt="" coords="295,1508,310,1400,338,1243,356,1163,377,1088,401,1027,427,984,438,975,441,979,431,988,406,1029,382,1090,361,1164,343,1245,315,1401,300,1508"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a17185d8543965b7cd40066019bbf5740" title=" " alt="" coords="439,998,588,1054"/>
<area shape="poly" title=" " alt="" coords="293,1508,299,1430,319,1316,336,1252,359,1189,389,1127,427,1071,436,1062,440,1065,431,1074,394,1130,364,1191,342,1254,325,1317,305,1431,298,1508"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="443,1870,584,1910"/>
<area shape="poly" title=" " alt="" coords="301,1549,313,1607,337,1687,354,1730,376,1773,401,1813,431,1850,442,1859,438,1863,427,1853,397,1816,371,1775,349,1732,332,1689,308,1608,295,1550"/>
<area shape="poly" title=" " alt="" coords="523,1295,715,923,720,926,528,1297"/>
<area shape="poly" title=" " alt="" coords="598,1297,885,1238,886,1243,599,1302"/>
<area shape="poly" title=" " alt="" coords="560,1335,678,1391,676,1396,558,1340"/>
<area shape="poly" title=" " alt="" coords="694,1400,692,1390,699,1381,714,1376,737,1374,761,1376,775,1382,773,1387,759,1381,736,1379,715,1381,702,1386,698,1392,700,1399"/>
<area shape="poly" title=" " alt="" coords="577,1909,600,1921,632,1946,663,1973,711,2025,708,2029,659,1977,629,1950,597,1926,574,1913"/>
<area shape="poly" title=" " alt="" coords="381,84,545,71,735,65,978,65,1086,68,1170,76,1360,110,1417,122,1416,127,1359,115,1169,82,1086,73,978,70,735,70,546,77,382,89"/>
</map>
</div>

</div>
</div>
<a id="a8d08d7c15ecb706c0bd54e992019c30d" name="a8d08d7c15ecb706c0bd54e992019c30d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d08d7c15ecb706c0bd54e992019c30d">&#9670;&#160;</a></span>initialize_blockchain_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::initialize_blockchain_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>genesis</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets fork database head to the genesis state. </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00452">452</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>                                                                  {</div>
<div class="line"><span class="lineno">  453</span>      <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;Initializing new blockchain with genesis state&quot;</span> );</div>
<div class="line"><span class="lineno">  454</span>      producer_authority_schedule initial_schedule = { 0, { producer_authority{config::system_account_name, block_signing_authority_v0{ 1, {{genesis.initial_key, 1}} } } } };</div>
<div class="line"><span class="lineno">  455</span>      legacy::producer_schedule_type initial_legacy_schedule{ 0, {{config::system_account_name, genesis.initial_key}} };</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>      block_header_state genheader;</div>
<div class="line"><span class="lineno">  458</span>      genheader.active_schedule                = initial_schedule;</div>
<div class="line"><span class="lineno">  459</span>      genheader.pending_schedule.schedule      = initial_schedule;</div>
<div class="line"><span class="lineno">  460</span>      <span class="comment">// NOTE: if wtmsig block signatures are enabled at genesis time this should be the hash of a producer authority schedule</span></div>
<div class="line"><span class="lineno">  461</span>      genheader.pending_schedule.schedule_hash = <a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a>(initial_legacy_schedule);</div>
<div class="line"><span class="lineno">  462</span>      genheader.header.timestamp               = genesis.initial_timestamp;</div>
<div class="line"><span class="lineno">  463</span>      genheader.header.action_mroot            = genesis.compute_chain_id();</div>
<div class="line"><span class="lineno">  464</span>      genheader.id                             = genheader.header.calculate_id();</div>
<div class="line"><span class="lineno">  465</span>      genheader.block_num                      = genheader.header.block_num();</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>      <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = std::make_shared&lt;block_state&gt;();</div>
<div class="line"><span class="lineno">  468</span>      <span class="keyword">static_cast&lt;</span>block_header_state&amp;<span class="keyword">&gt;</span>(*head) = genheader;</div>
<div class="line"><span class="lineno">  469</span>      <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;activated_protocol_features = std::make_shared&lt;protocol_feature_activation_set&gt;();</div>
<div class="line"><span class="lineno">  470</span>      <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block = std::make_shared&lt;signed_block&gt;(genheader.header);</div>
<div class="line"><span class="lineno">  471</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed">set_revision</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num );</div>
<div class="line"><span class="lineno">  472</span>      <a class="code hl_function" href="#a01cf826f5503f482715ca2b724279cde">initialize_database</a>(genesis);</div>
<div class="line"><span class="lineno">  473</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a24e7f6336cad0bd2fc280dab381665ed"><div class="ttname"><a href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed">chainbase::database::set_revision</a></div><div class="ttdeci">void set_revision(uint64_t revision)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00336">chainbase.hpp:336</a></div></div>
<div class="ttc" id="aclassfc_1_1sha256_html_a474784de7d6213b855abd7e952df5e36"><div class="ttname"><a href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a></div><div class="ttdeci">static sha256 hash(const char *d, uint32_t dlen)</div><div class="ttdef"><b>Definition</b> <a href="sha256_8cpp_source.html#l00044">sha256.cpp:44</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a01cf826f5503f482715ca2b724279cde"><div class="ttname"><a href="#a01cf826f5503f482715ca2b724279cde">sysio::chain::controller_impl::initialize_database</a></div><div class="ttdeci">void initialize_database(const genesis_state &amp;genesis)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01023">controller.cpp:1023</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_cgraph">
<area shape="rect" title=" " alt="" coords="5,177,218,218"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a84daf28c790313cfaffff12e2a962cdb" title=" " alt="" coords="508,5,647,46"/>
<area shape="poly" title=" " alt="" coords="131,175,188,125,225,99,265,78,322,57,382,42,493,27,494,32,383,48,324,62,267,83,228,104,191,130,135,179"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#ab1f18a64cbf39c54da83f75c9632f9cd" title=" " alt="" coords="277,92,422,133"/>
<area shape="poly" title=" " alt="" coords="169,174,275,136,277,141,171,179"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="778,142,897,168"/>
<area shape="poly" title=" " alt="" coords="218,192,429,184,674,170,763,161,763,166,675,175,429,189,218,198"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="266,676,433,717"/>
<area shape="poly" title=" " alt="" coords="125,217,334,661,329,663,120,220"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="279,892,420,933"/>
<area shape="poly" title=" " alt="" coords="120,218,174,426,217,576,268,727,301,808,333,877,329,879,297,811,263,729,212,577,169,428,115,219"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="762,5,913,46"/>
<area shape="poly" title=" " alt="" coords="647,23,747,23,747,28,647,28"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="1008,24,1164,49"/>
<area shape="poly" title=" " alt="" coords="913,26,992,30,992,35,913,32"/>
<area shape="poly" title=" " alt="" coords="404,89,507,50,509,55,406,94"/>
<area shape="poly" title=" " alt="" coords="422,105,658,86,952,55,992,49,993,55,953,60,658,91,422,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a71165691e3205b1f4dd847b5c6bc5b22" title=" " alt="" coords="512,120,643,161"/>
<area shape="poly" title=" " alt="" coords="422,119,497,128,496,133,422,124"/>
<area shape="poly" title=" " alt="" coords="643,141,763,148,763,153,643,147"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="1018,84,1154,125"/>
<area shape="poly" title=" " alt="" coords="897,140,1002,119,1003,124,898,146"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="1018,149,1154,190"/>
<area shape="poly" title=" " alt="" coords="897,156,1003,162,1003,167,897,161"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1260,92,1375,117"/>
<area shape="poly" title=" " alt="" coords="1155,102,1245,102,1245,107,1155,107"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a32f7ac67403d93f11d6098fb6abd1cc3" title=" " alt="" coords="492,907,664,947"/>
<area shape="poly" title=" " alt="" coords="363,716,409,794,443,839,483,880,508,897,505,901,479,884,439,843,404,797,358,719"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="1016,600,1157,641"/>
<area shape="poly" title=" " alt="" coords="433,685,1000,626,1000,632,434,690"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1463,410,1631,436"/>
<area shape="poly" title=" " alt="" coords="354,675,370,628,396,566,432,499,454,467,479,439,562,354,599,321,637,294,677,273,722,258,774,249,836,246,1088,246,1182,243,1257,241,1293,244,1330,252,1371,265,1417,286,1453,309,1485,339,1531,396,1527,399,1481,342,1450,314,1414,291,1369,270,1329,257,1292,250,1257,246,1182,248,1088,251,836,251,775,254,723,263,679,278,640,298,603,325,566,358,483,442,458,471,436,502,400,568,375,630,359,676"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="482,539,673,579"/>
<area shape="poly" title=" " alt="" coords="384,673,528,585,531,590,386,678"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="1016,403,1157,443"/>
<area shape="poly" title=" " alt="" coords="361,674,409,604,442,563,479,525,539,470,590,430,645,399,722,372,785,358,837,355,888,361,953,372,1020,394,1018,399,952,378,888,366,836,360,786,363,723,378,648,404,593,434,543,474,483,529,446,567,413,608,365,677"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f" title=" " alt="" coords="741,813,934,854"/>
<area shape="poly" title=" " alt="" coords="364,716,383,745,410,779,443,811,482,835,543,854,608,862,672,861,730,854,731,860,672,866,608,867,542,859,480,840,440,815,406,782,379,748,360,719"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="1230,841,1405,882"/>
<area shape="poly" title=" " alt="" coords="362,716,424,854,458,922,483,957,510,971,543,982,624,998,718,1006,820,1006,923,1001,1020,991,1105,977,1171,960,1203,947,1233,930,1283,891,1286,895,1236,934,1205,952,1173,966,1106,982,1021,996,924,1006,820,1012,718,1011,623,1003,541,987,508,975,479,961,454,925,419,856,357,718"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a27cfd5f70c12c10a9939e7bf6b3a52e4" title=" " alt="" coords="481,705,674,746"/>
<area shape="poly" title=" " alt="" coords="434,704,466,709,465,714,433,710"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a1b9d0326965430166923c2241a3a6a45" title=" " alt="" coords="481,770,674,826"/>
<area shape="poly" title=" " alt="" coords="395,715,482,755,495,761,493,766,480,760,393,720"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a6c9919896a775bf8129188b49018d0f5" title=" " alt="" coords="777,909,898,950"/>
<area shape="poly" title=" " alt="" coords="664,925,762,926,762,932,664,931"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a7713bf4dd36535082b854977afddf788" title=" " alt="" coords="1026,911,1146,951"/>
<area shape="poly" title=" " alt="" coords="898,927,1011,928,1011,933,898,933"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="1247,431,1388,471"/>
<area shape="poly" title=" " alt="" coords="1114,597,1274,479,1277,483,1117,602"/>
<area shape="poly" title=" " alt="" coords="1389,440,1448,432,1448,438,1389,445"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1679,376,1820,417"/>
<area shape="poly" title=" " alt="" coords="1631,418,1663,414,1664,419,1632,423"/>
<area shape="poly" title=" " alt="" coords="1679,400,1607,410,1607,404,1678,394"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1868,405,2009,446"/>
<area shape="poly" title=" " alt="" coords="1821,405,1853,410,1853,415,1820,410"/>
<area shape="poly" title=" " alt="" coords="1868,430,1820,431,1679,431,1646,430,1646,425,1679,426,1820,426,1868,425"/>
<area shape="poly" title=" " alt="" coords="644,577,723,596,869,613,1000,618,1000,623,869,618,722,602,642,583"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995" title=" " alt="" coords="722,387,953,443"/>
<area shape="poly" title=" " alt="" coords="601,536,654,495,721,453,732,447,735,452,724,457,657,499,605,540"/>
<area shape="poly" title=" " alt="" coords="600,578,808,800,804,803,596,581"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="742,467,933,507"/>
<area shape="poly" title=" " alt="" coords="653,536,746,509,747,515,654,541"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605" title=" " alt="" coords="744,531,931,587"/>
<area shape="poly" title=" " alt="" coords="674,556,729,556,729,562,674,562"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10" title=" " alt="" coords="1001,308,1172,378"/>
<area shape="poly" title=" " alt="" coords="586,537,605,500,634,454,673,409,696,389,721,373,786,346,855,332,923,327,986,328,985,334,923,333,856,338,787,352,724,377,699,393,677,413,638,458,609,503,590,540"/>
<area shape="poly" title=" " alt="" coords="928,441,1028,466,1150,487,1216,493,1283,495,1350,491,1415,480,1466,463,1510,442,1512,446,1468,468,1416,486,1350,496,1283,500,1216,498,1150,492,1027,471,926,446"/>
<area shape="poly" title=" " alt="" coords="953,416,1000,418,1000,423,953,421"/>
<area shape="poly" title=" " alt="" coords="1158,429,1232,438,1231,443,1157,434"/>
<area shape="poly" title=" " alt="" coords="926,811,951,793,964,777,971,761,975,728,979,693,986,675,999,657,1009,648,1013,652,1003,661,990,678,984,695,980,728,976,762,968,780,954,797,929,815"/>
<area shape="poly" title=" " alt="" coords="933,816,951,805,962,793,969,781,974,755,980,728,987,714,999,701,1021,685,1042,675,1081,668,1123,664,1146,659,1171,650,1242,614,1295,581,1346,545,1414,501,1510,442,1512,447,1417,505,1349,549,1298,585,1245,619,1173,655,1147,664,1123,669,1082,673,1043,680,1024,690,1002,705,991,717,985,730,980,756,974,783,967,796,954,809,935,821"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="1007,715,1166,755"/>
<area shape="poly" title=" " alt="" coords="906,810,952,793,999,766,1014,759,1016,764,1002,771,954,797,908,815"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="1010,780,1162,821"/>
<area shape="poly" title=" " alt="" coords="934,818,994,810,995,815,934,823"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="1027,845,1146,886"/>
<area shape="poly" title=" " alt="" coords="934,843,1012,853,1011,859,934,849"/>
<area shape="poly" title=" " alt="" coords="932,579,1001,597,1000,602,931,585"/>
<area shape="poly" title=" " alt="" coords="1173,357,1220,366,1448,405,1447,410,1220,371,1172,362"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="1220,300,1415,356"/>
<area shape="poly" title=" " alt="" coords="1172,335,1204,333,1204,338,1172,340"/>
<area shape="poly" title=" " alt="" coords="1388,354,1501,401,1499,406,1386,359"/>
<area shape="poly" title=" " alt="" coords="1416,341,1664,380,1663,386,1415,346"/>
<area shape="poly" title=" " alt="" coords="1329,840,1413,695,1481,558,1531,449,1536,451,1486,560,1418,698,1334,842"/>
<area shape="poly" title=" " alt="" coords="675,729,738,728,809,723,882,711,952,691,966,684,976,676,999,657,1020,645,1023,650,1002,661,979,680,969,688,954,696,883,716,809,728,738,733,675,734"/>
<area shape="poly" title=" " alt="" coords="675,800,740,798,812,788,885,767,919,753,951,734,968,717,975,698,983,678,999,657,1013,647,1016,651,1003,661,987,680,980,700,972,720,954,738,922,757,887,772,814,793,741,803,675,806"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="507,1025,648,1066"/>
<area shape="poly" title=" " alt="" coords="377,931,425,967,482,1005,506,1016,503,1021,480,1009,421,972,374,935"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a8d08d7c15ecb706c0bd54e992019c30d_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,418,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a01cf826f5503f482715ca2b724279cde" name="a01cf826f5503f482715ca2b724279cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cf826f5503f482715ca2b724279cde">&#9670;&#160;</a></span>initialize_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::initialize_database </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>genesis</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01023">1023</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1023</span>                                                          {</div>
<div class="line"><span class="lineno"> 1024</span>      <span class="comment">// create the database header sigil</span></div>
<div class="line"><span class="lineno"> 1025</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;database_header_object&gt;([&amp;]( <span class="keyword">auto</span>&amp; header ){</div>
<div class="line"><span class="lineno"> 1026</span>         <span class="comment">// nothing to do for now</span></div>
<div class="line"><span class="lineno"> 1027</span>      });</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>      <span class="comment">// Initialize block summary index</span></div>
<div class="line"><span class="lineno"> 1030</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 0x10000; i++)</div>
<div class="line"><span class="lineno"> 1031</span>         <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;block_summary_object&gt;([&amp;](block_summary_object&amp;) {});</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; tapos_block_summary = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;block_summary_object&gt;(1);</div>
<div class="line"><span class="lineno"> 1034</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( tapos_block_summary, [&amp;]( <span class="keyword">auto</span>&amp; bs ) {</div>
<div class="line"><span class="lineno"> 1035</span>         bs.block_id = <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id;</div>
<div class="line"><span class="lineno"> 1036</span>      });</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>      genesis.initial_configuration.validate();</div>
<div class="line"><span class="lineno"> 1039</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;global_property_object&gt;([&amp;genesis,&amp;<a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>=this-&gt;<a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>](<span class="keyword">auto</span>&amp; gpo ){</div>
<div class="line"><span class="lineno"> 1040</span>         gpo.configuration = genesis.initial_configuration;</div>
<div class="line"><span class="lineno"> 1041</span>         <span class="comment">// TODO: Update this when genesis protocol features are enabled.</span></div>
<div class="line"><span class="lineno"> 1042</span>         gpo.wasm_configuration = <a class="code hl_variable" href="structsysio_1_1chain_1_1genesis__state.html#a3e6e5eb6e7b0107b1f105eb8a4dcca41">genesis_state::default_initial_wasm_configuration</a>;</div>
<div class="line"><span class="lineno"> 1043</span>         gpo.chain_id = <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>;</div>
<div class="line"><span class="lineno"> 1044</span>      });</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;protocol_state_object&gt;([&amp;](<span class="keyword">auto</span>&amp; pso ){</div>
<div class="line"><span class="lineno"> 1047</span>         pso.num_supported_key_types = config::genesis_num_supported_key_types;</div>
<div class="line"><span class="lineno"> 1048</span>         <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; i : <a class="code hl_variable" href="namespacesysio_1_1chain.html#a01ed37e95a76bcd3dec49672be7acfaa">genesis_intrinsics</a> ) {</div>
<div class="line"><span class="lineno"> 1049</span>            <a class="code hl_function" href="namespacesysio_1_1chain.html#a32f7ac67403d93f11d6098fb6abd1cc3">add_intrinsic_to_whitelist</a>( pso.whitelisted_intrinsics, i );</div>
<div class="line"><span class="lineno"> 1050</span>         }</div>
<div class="line"><span class="lineno"> 1051</span>      });</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;dynamic_global_property_object&gt;([](<span class="keyword">auto</span>&amp;){});</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>      <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a27cfd5f70c12c10a9939e7bf6b3a52e4">initialize_database</a>();</div>
<div class="line"><span class="lineno"> 1056</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a1b9d0326965430166923c2241a3a6a45">initialize_database</a>();</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>      authority system_auth(genesis.initial_key);</div>
<div class="line"><span class="lineno"> 1059</span>      <a class="code hl_function" href="#ae2c30acb1a0557f6c3967c6a154f7b23">create_native_account</a>( genesis.initial_timestamp, config::system_account_name, system_auth, system_auth, <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>      <span class="keyword">auto</span> empty_authority = authority(1, {}, {});</div>
<div class="line"><span class="lineno"> 1062</span>      <span class="keyword">auto</span> active_producers_authority = authority(1, {}, {});</div>
<div class="line"><span class="lineno"> 1063</span>      active_producers_authority.accounts.push_back({{config::system_account_name, config::active_name}, 1});</div>
<div class="line"><span class="lineno"> 1064</span> </div>
<div class="line"><span class="lineno"> 1065</span>      <a class="code hl_function" href="#ae2c30acb1a0557f6c3967c6a154f7b23">create_native_account</a>( genesis.initial_timestamp, config::null_account_name, empty_authority, empty_authority );</div>
<div class="line"><span class="lineno"> 1066</span>      <a class="code hl_function" href="#ae2c30acb1a0557f6c3967c6a154f7b23">create_native_account</a>( genesis.initial_timestamp, config::producers_account_name, empty_authority, active_producers_authority );</div>
<div class="line"><span class="lineno"> 1067</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; active_permission       = <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69">get_permission</a>({config::producers_account_name, config::active_name});</div>
<div class="line"><span class="lineno"> 1068</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; majority_permission     = <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f">create_permission</a>( config::producers_account_name,</div>
<div class="line"><span class="lineno"> 1069</span>                                                                             config::majority_producers_permission_name,</div>
<div class="line"><span class="lineno"> 1070</span>                                                                             active_permission.id,</div>
<div class="line"><span class="lineno"> 1071</span>                                                                             active_producers_authority,</div>
<div class="line"><span class="lineno"> 1072</span>                                                                             genesis.initial_timestamp );</div>
<div class="line"><span class="lineno"> 1073</span>                                            <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f">create_permission</a>( config::producers_account_name,</div>
<div class="line"><span class="lineno"> 1074</span>                                                                             config::minority_producers_permission_name,</div>
<div class="line"><span class="lineno"> 1075</span>                                                                             majority_permission.id,</div>
<div class="line"><span class="lineno"> 1076</span>                                                                             active_producers_authority,</div>
<div class="line"><span class="lineno"> 1077</span>                                                                             genesis.initial_timestamp );</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a27cfd5f70c12c10a9939e7bf6b3a52e4"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a27cfd5f70c12c10a9939e7bf6b3a52e4">sysio::chain::authorization_manager::initialize_database</a></div><div class="ttdeci">void initialize_database()</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00031">authorization_manager.cpp:31</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a96924f6aca32a602e24d991d12278a69"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69">sysio::chain::authorization_manager::get_permission</a></div><div class="ttdeci">const permission_object &amp; get_permission(const permission_level &amp;level) const</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00257">authorization_manager.cpp:257</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a1b9d0326965430166923c2241a3a6a45"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a1b9d0326965430166923c2241a3a6a45">sysio::chain::resource_limits::resource_limits_manager::initialize_database</a></div><div class="ttdeci">void initialize_database()</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00055">resource_limits.cpp:55</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a01ed37e95a76bcd3dec49672be7acfaa"><div class="ttname"><a href="namespacesysio_1_1chain.html#a01ed37e95a76bcd3dec49672be7acfaa">sysio::chain::genesis_intrinsics</a></div><div class="ttdeci">const std::vector&lt; const char * &gt; genesis_intrinsics</div><div class="ttdef"><b>Definition</b> <a href="genesis__intrinsics_8cpp_source.html#l00005">genesis_intrinsics.cpp:5</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a32f7ac67403d93f11d6098fb6abd1cc3"><div class="ttname"><a href="namespacesysio_1_1chain.html#a32f7ac67403d93f11d6098fb6abd1cc3">sysio::chain::add_intrinsic_to_whitelist</a></div><div class="ttdeci">void add_intrinsic_to_whitelist(whitelisted_intrinsics_type &amp;whitelisted_intrinsics, std::string_view name)</div><div class="ttdef"><b>Definition</b> <a href="whitelisted__intrinsics_8cpp_source.html#l00051">whitelisted_intrinsics.cpp:51</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ae2c30acb1a0557f6c3967c6a154f7b23"><div class="ttname"><a href="#ae2c30acb1a0557f6c3967c6a154f7b23">sysio::chain::controller_impl::create_native_account</a></div><div class="ttdeci">void create_native_account(const fc::time_point &amp;initial_timestamp, account_name name, const authority &amp;owner, const authority &amp;active, bool is_privileged=false)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00987">controller.cpp:987</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1genesis__state_html_a3e6e5eb6e7b0107b1f105eb8a4dcca41"><div class="ttname"><a href="structsysio_1_1chain_1_1genesis__state.html#a3e6e5eb6e7b0107b1f105eb8a4dcca41">sysio::chain::genesis_state::default_initial_wasm_configuration</a></div><div class="ttdeci">static constexpr wasm_config default_initial_wasm_configuration</div><div class="ttdef"><b>Definition</b> <a href="genesis__state_8hpp_source.html#l00041">genesis_state.hpp:41</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_cgraph">
<area shape="rect" title=" " alt="" coords="5,292,173,333"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a32f7ac67403d93f11d6098fb6abd1cc3" title=" " alt="" coords="231,5,404,46"/>
<area shape="poly" title=" " alt="" coords="93,291,108,245,134,184,170,119,193,89,219,62,233,52,236,56,222,66,197,93,175,122,139,186,113,247,98,292"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="755,364,897,405"/>
<area shape="poly" title=" " alt="" coords="173,313,407,328,550,340,693,356,740,364,740,369,692,362,549,345,407,333,173,318"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1203,329,1370,354"/>
<area shape="poly" title=" " alt="" coords="113,290,161,254,219,221,315,178,392,151,472,136,576,131,827,131,924,135,999,151,1070,179,1156,225,1188,245,1218,269,1266,315,1262,319,1215,273,1185,250,1154,229,1068,184,997,156,923,141,827,136,576,136,473,141,394,156,317,183,222,225,164,259,116,294"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="222,511,413,551"/>
<area shape="poly" title=" " alt="" coords="104,331,151,402,185,443,222,480,254,501,251,505,219,484,181,446,147,405,100,334"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="755,229,897,270"/>
<area shape="poly" title=" " alt="" coords="146,289,288,244,374,223,462,207,526,199,577,196,628,199,693,207,755,222,754,227,692,212,628,204,577,202,527,204,462,212,375,228,290,249,148,294"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f" title=" " alt="" coords="481,699,673,739"/>
<area shape="poly" title=" " alt="" coords="99,332,114,378,139,439,175,504,197,534,222,561,280,606,345,642,411,671,473,691,471,696,409,676,342,647,277,611,219,565,193,537,171,507,134,441,109,380,93,334"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="970,56,1144,97"/>
<area shape="poly" title=" " alt="" coords="94,290,110,251,136,201,172,152,194,130,219,113,246,100,279,90,359,74,455,65,560,60,775,60,954,67,954,72,775,65,560,65,455,70,360,80,280,95,248,105,222,117,198,134,176,155,140,204,115,253,99,292"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a27cfd5f70c12c10a9939e7bf6b3a52e4" title=" " alt="" coords="221,349,414,390"/>
<area shape="poly" title=" " alt="" coords="173,331,220,342,218,348,172,336"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a1b9d0326965430166923c2241a3a6a45" title=" " alt="" coords="221,414,414,470"/>
<area shape="poly" title=" " alt="" coords="119,331,166,365,222,399,232,404,229,409,219,404,163,369,116,335"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a6c9919896a775bf8129188b49018d0f5" title=" " alt="" coords="517,5,637,46"/>
<area shape="poly" title=" " alt="" coords="404,23,501,23,501,28,404,28"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a7713bf4dd36535082b854977afddf788" title=" " alt="" coords="766,5,886,46"/>
<area shape="poly" title=" " alt="" coords="637,23,750,23,750,28,637,28"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="987,239,1128,279"/>
<area shape="poly" title=" " alt="" coords="864,361,1004,285,1006,289,867,366"/>
<area shape="poly" title=" " alt="" coords="1117,277,1235,320,1233,325,1115,282"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1418,353,1560,394"/>
<area shape="poly" title=" " alt="" coords="1327,352,1403,366,1402,372,1326,358"/>
<area shape="poly" title=" " alt="" coords="1418,357,1386,351,1387,346,1418,351"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1608,325,1749,366"/>
<area shape="poly" title=" " alt="" coords="1559,361,1592,356,1593,361,1560,366"/>
<area shape="poly" title=" " alt="" coords="1607,346,1560,344,1386,344,1386,338,1560,339,1608,340"/>
<area shape="poly" title=" " alt="" coords="414,546,480,551,552,548,625,534,659,521,691,503,702,494,709,484,715,462,721,438,738,415,742,412,745,416,742,418,726,441,720,464,713,487,706,498,694,508,661,526,626,539,553,553,480,556,413,551"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995" title=" " alt="" coords="462,222,692,278"/>
<area shape="poly" title=" " alt="" coords="369,508,412,480,457,434,496,383,553,290,557,293,500,386,461,437,416,484,371,512"/>
<area shape="poly" title=" " alt="" coords="340,550,410,625,464,678,485,690,483,694,460,682,406,629,336,554"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="482,453,672,494"/>
<area shape="poly" title=" " alt="" coords="412,507,466,495,467,501,413,513"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605" title=" " alt="" coords="484,568,670,624"/>
<area shape="poly" title=" " alt="" coords="402,549,470,567,468,572,400,555"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10" title=" " alt="" coords="740,429,912,500"/>
<area shape="poly" title=" " alt="" coords="340,550,392,595,426,617,463,634,527,654,580,664,606,664,632,659,660,650,691,634,709,619,718,601,725,580,738,556,777,510,781,513,743,559,730,582,723,603,714,622,694,639,662,654,633,665,606,669,580,670,526,659,461,639,424,622,389,600,336,554"/>
<area shape="poly" title=" " alt="" coords="693,271,741,279,981,310,1187,331,1187,336,981,315,740,284,692,276"/>
<area shape="poly" title=" " alt="" coords="693,247,739,247,739,252,693,252"/>
<area shape="poly" title=" " alt="" coords="897,250,971,253,971,258,897,255"/>
<area shape="poly" title=" " alt="" coords="619,696,658,670,675,654,690,635,705,605,711,577,710,523,708,497,710,470,719,443,738,415,741,411,745,415,742,418,724,445,716,471,714,497,715,523,716,578,710,607,695,638,679,657,661,674,622,700"/>
<area shape="poly" title=" " alt="" coords="642,696,691,670,705,658,714,645,724,632,739,619,797,586,850,565,899,552,947,544,994,535,1043,522,1095,502,1154,470,1187,446,1217,418,1264,365,1268,369,1221,422,1190,450,1156,475,1098,507,1044,527,995,540,948,549,901,558,852,570,800,591,742,624,727,636,718,648,709,661,694,675,644,700"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="746,699,906,739"/>
<area shape="poly" title=" " alt="" coords="674,716,730,716,730,722,674,722"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="750,764,902,805"/>
<area shape="poly" title=" " alt="" coords="658,737,736,758,734,763,657,743"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="767,633,885,674"/>
<area shape="poly" title=" " alt="" coords="657,695,751,670,753,676,658,701"/>
<area shape="poly" title=" " alt="" coords="667,566,690,548,703,531,709,515,713,482,718,449,725,432,738,415,741,412,745,416,742,418,730,434,723,450,719,483,715,517,707,534,694,552,671,570"/>
<area shape="poly" title=" " alt="" coords="890,426,959,390,1017,373,1076,361,1187,345,1188,351,1077,366,1018,378,961,395,892,431"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="960,404,1155,460"/>
<area shape="poly" title=" " alt="" coords="911,450,944,445,945,451,912,455"/>
<area shape="poly" title=" " alt="" coords="1129,401,1237,358,1239,363,1131,406"/>
<area shape="poly" title=" " alt="" coords="1155,416,1402,383,1403,388,1156,422"/>
<area shape="poly" title=" " alt="" coords="1129,95,1157,113,1201,161,1236,216,1262,270,1279,313,1274,315,1257,272,1231,219,1197,165,1153,117,1126,99"/>
<area shape="poly" title=" " alt="" coords="415,370,740,379,740,385,414,375"/>
<area shape="poly" title=" " alt="" coords="414,428,740,391,740,397,415,433"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a01cf826f5503f482715ca2b724279cde_icgraph">
<area shape="rect" title=" " alt="" coords="466,5,633,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,5,418,46"/>
<area shape="poly" title=" " alt="" coords="450,28,418,28,418,23,450,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="ad0130874bac31eb408dd6e766084b814" name="ad0130874bac31eb408dd6e766084b814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0130874bac31eb408dd6e766084b814">&#9670;&#160;</a></span>log_irreversible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::log_irreversible </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00395">395</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  395</span>                           {</div>
<div class="line"><span class="lineno">  396</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>, <span class="stringliteral">&quot;fork database not properly initialized&quot;</span> );</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; log_head = <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>();</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>      <span class="keyword">auto</span> lib_num = log_head ? log_head-&gt;block_num() : (<a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>() - 1);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>      <span class="keyword">auto</span> root_id = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>      <span class="keywordflow">if</span>( log_head ) {</div>
<div class="line"><span class="lineno">  405</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( root_id == <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99">head_id</a>(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>, <span class="stringliteral">&quot;fork database root does not match block log head&quot;</span> );</div>
<div class="line"><span class="lineno">  406</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  407</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num == lib_num, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>,</div>
<div class="line"><span class="lineno">  408</span>                     <span class="stringliteral">&quot;empty block log expects the first appended block to build off a block that is not the fork database root. root block number: ${block_num}, lib: ${lib_num}&quot;</span>, (<span class="stringliteral">&quot;block_num&quot;</span>, <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num) (<span class="stringliteral">&quot;lib_num&quot;</span>, lib_num) );</div>
<div class="line"><span class="lineno">  409</span>      }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>      <span class="keyword">auto</span> fork_head = (<a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a>) ? <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>() : <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>();</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>      <span class="keywordflow">if</span>( fork_head-&gt;dpos_irreversible_blocknum &lt;= lib_num )</div>
<div class="line"><span class="lineno">  414</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>      <span class="keyword">const</span> <span class="keyword">auto</span> branch = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22">fetch_branch</a>( fork_head-&gt;id, fork_head-&gt;dpos_irreversible_blocknum );</div>
<div class="line"><span class="lineno">  417</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>         <span class="keywordflow">for</span>( <span class="keyword">auto</span> bitr = branch.rbegin(); bitr != branch.rend(); ++bitr ) {</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a> ) {</div>
<div class="line"><span class="lineno">  421</span>               <a class="code hl_function" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a>( *bitr, <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1">controller::block_status::complete</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a>{} );</div>
<div class="line"><span class="lineno">  422</span>               <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = (*bitr);</div>
<div class="line"><span class="lineno">  423</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> );</div>
<div class="line"><span class="lineno">  424</span>            }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>            <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a27266ebf16b6dd19a860635f7d1f9930">irreversible_block</a>, *bitr );</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>            <span class="comment">// blog.append could fail due to failures like running out of space.</span></div>
<div class="line"><span class="lineno">  429</span>            <span class="comment">// Do it before commit so that in case it throws, DB can be rolled back.</span></div>
<div class="line"><span class="lineno">  430</span>            <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227">append</a>( (*bitr)-&gt;block );</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>            <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef">commit</a>( (*bitr)-&gt;block_num );</div>
<div class="line"><span class="lineno">  433</span>            root_id = (*bitr)-&gt;id;</div>
<div class="line"><span class="lineno">  434</span>         }</div>
<div class="line"><span class="lineno">  435</span>      } <span class="keywordflow">catch</span>( std::exception&amp; ) {</div>
<div class="line"><span class="lineno">  436</span>         <span class="keywordflow">if</span>( root_id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id ) {</div>
<div class="line"><span class="lineno">  437</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45">advance_root</a>( root_id );</div>
<div class="line"><span class="lineno">  438</span>         }</div>
<div class="line"><span class="lineno">  439</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  440</span>      }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>      <span class="comment">//db.commit( fork_head-&gt;dpos_irreversible_blocknum ); // redundant</span></div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>      <span class="keywordflow">if</span>( root_id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id ) {</div>
<div class="line"><span class="lineno">  445</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45">advance_root</a>( root_id );</div>
<div class="line"><span class="lineno">  446</span>      }</div>
<div class="line"><span class="lineno">  447</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_aca6d7bcd700644f077b89203b2e8b7ef"><div class="ttname"><a href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef">chainbase::database::commit</a></div><div class="ttdeci">void commit(int64_t revision)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8cpp_source.html#l00057">chainbase.cpp:57</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_a4d0b6ecf420faffc4f00ba6af3d0af99"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99">sysio::chain::block_log::head_id</a></div><div class="ttdeci">const block_id_type &amp; head_id() const</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00702">block_log.cpp:702</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_aca2eca093aee072fc3f599a7c642a227"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227">sysio::chain::block_log::append</a></div><div class="ttdeci">void append(const signed_block_ptr &amp;b)</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00358">block_log.cpp:358</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_ae787e7866ebfcd4c5dd5632c15c07c88"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">sysio::chain::block_log::head</a></div><div class="ttdeci">const signed_block_ptr &amp; head() const</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00698">block_log.cpp:698</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a18e51b748469f97473d120ef69e1da22"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22">sysio::chain::fork_database::fetch_branch</a></div><div class="ttdeci">branch_type fetch_branch(const block_id_type &amp;h, uint32_t trim_after_block_num=std::numeric_limits&lt; uint32_t &gt;::max()) const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00418">fork_database.cpp:418</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_ae911acbc996994cb6dfd21fddfb89a45"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45">sysio::chain::fork_database::advance_root</a></div><div class="ttdeci">void advance_root(const block_id_type &amp;id)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00293">fork_database.cpp:293</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_aaf795677a1a49a35ac1a819a1a157929"><div class="ttname"><a href="#aaf795677a1a49a35ac1a819a1a157929">sysio::chain::controller_impl::apply_block</a></div><div class="ttdeci">void apply_block(const block_state_ptr &amp;bsp, controller::block_status s, const trx_meta_cache_lookup &amp;trx_lookup)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01948">controller.cpp:1948</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_cgraph">
<area shape="rect" title=" " alt="" coords="5,1447,158,1487"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="207,700,374,741"/>
<area shape="poly" title=" " alt="" coords="81,1446,90,1309,110,1102,126,993,147,893,172,810,187,777,204,752,206,749,210,753,208,755,192,780,177,812,152,894,132,994,116,1102,95,1309,86,1446"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227" title=" " alt="" coords="225,765,356,806"/>
<area shape="poly" title=" " alt="" coords="81,1446,92,1320,114,1132,130,1034,150,944,175,869,189,840,204,817,211,810,215,814,208,821,193,843,180,871,156,946,135,1035,119,1133,97,1320,87,1446"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="214,831,366,871"/>
<area shape="poly" title=" " alt="" coords="87,1445,275,885,280,887,92,1447"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="994,1169,1146,1210"/>
<area shape="poly" title=" " alt="" coords="107,1444,151,1414,205,1387,274,1371,362,1361,568,1351,675,1347,774,1340,861,1328,928,1308,961,1290,991,1268,1040,1220,1044,1224,995,1272,964,1295,930,1313,862,1333,775,1345,675,1352,569,1356,362,1366,275,1376,207,1392,154,1418,110,1448"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="752,1488,873,1529"/>
<area shape="poly" title=" " alt="" coords="158,1461,206,1460,290,1458,375,1460,571,1476,737,1495,736,1501,571,1481,375,1466,290,1464,206,1466,158,1467"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="736,1673,889,1714"/>
<area shape="poly" title=" " alt="" coords="88,1487,98,1538,119,1603,135,1637,154,1669,178,1698,207,1721,246,1736,301,1744,367,1746,439,1743,590,1728,721,1708,722,1713,591,1733,440,1748,367,1751,300,1749,245,1741,204,1725,175,1701,150,1672,130,1640,114,1605,93,1539,83,1488"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="220,1259,361,1299"/>
<area shape="poly" title=" " alt="" coords="93,1445,138,1382,169,1347,204,1316,220,1305,223,1309,207,1320,173,1351,142,1386,98,1448"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="208,1475,372,1515"/>
<area shape="poly" title=" " alt="" coords="158,1475,193,1479,192,1485,157,1480"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="218,1540,363,1581"/>
<area shape="poly" title=" " alt="" coords="125,1485,207,1525,222,1531,220,1536,205,1529,122,1490"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="225,1605,356,1646"/>
<area shape="poly" title=" " alt="" coords="101,1486,146,1537,175,1565,207,1590,216,1595,213,1600,204,1594,172,1569,142,1541,97,1490"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99" title=" " alt="" coords="225,1671,356,1711"/>
<area shape="poly" title=" " alt="" coords="94,1487,110,1523,135,1568,168,1615,207,1656,213,1660,210,1664,204,1660,163,1618,130,1571,105,1525,89,1489"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="206,1851,375,1891"/>
<area shape="poly" title=" " alt="" coords="86,1487,93,1553,112,1646,128,1696,148,1746,175,1794,208,1836,211,1839,207,1843,204,1839,170,1797,143,1749,123,1698,107,1647,88,1554,81,1488"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="230,1785,351,1826"/>
<area shape="poly" title=" " alt="" coords="89,1487,100,1541,122,1615,157,1694,180,1732,208,1765,219,1775,215,1779,204,1769,176,1735,152,1697,117,1617,95,1543,83,1488"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="736,1373,889,1414"/>
<area shape="poly" title=" " alt="" coords="296,871,306,935,328,1024,345,1072,367,1121,393,1167,425,1208,457,1239,493,1266,571,1312,650,1346,722,1370,720,1375,648,1351,568,1317,490,1271,453,1243,421,1211,389,1170,362,1123,340,1074,323,1025,301,936,291,872"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="460,1373,612,1414"/>
<area shape="poly" title=" " alt="" coords="298,871,313,937,339,1034,376,1144,399,1199,425,1252,464,1311,506,1360,502,1364,460,1315,421,1255,395,1202,371,1146,334,1035,308,939,293,872"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="696,799,929,839"/>
<area shape="poly" title=" " alt="" coords="353,828,373,816,387,801,396,786,405,772,422,759,482,738,533,734,585,743,649,759,674,771,697,785,714,791,712,796,695,789,671,775,647,764,584,748,533,740,483,743,424,764,409,775,400,789,392,804,377,820,355,832"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="460,627,612,667"/>
<area shape="poly" title=" " alt="" coords="356,828,373,816,391,792,398,768,404,743,421,716,447,692,475,673,478,677,450,696,425,719,409,745,403,770,395,794,377,820,359,832"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="446,773,625,814"/>
<area shape="poly" title=" " alt="" coords="367,831,431,815,432,821,368,836"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="977,70,1163,96"/>
<area shape="poly" title=" " alt="" coords="361,828,373,816,387,789,397,754,402,713,404,667,399,564,389,454,381,344,379,243,382,198,390,159,403,126,421,100,453,72,488,49,526,32,566,19,650,5,736,4,820,13,898,28,1020,62,1018,67,897,33,819,18,736,9,650,10,567,24,528,37,491,54,456,76,425,103,407,128,395,160,388,199,384,243,386,344,395,454,404,564,409,667,407,714,402,755,392,791,377,819,364,832"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="730,121,895,146"/>
<area shape="poly" title=" " alt="" coords="359,828,373,816,389,790,396,765,397,740,394,715,392,689,394,664,402,638,421,613,450,593,479,585,508,585,538,589,566,592,594,592,621,583,646,562,665,538,678,513,685,488,687,463,682,413,670,362,657,311,652,260,654,234,662,208,675,183,694,157,714,142,718,146,698,161,679,186,667,210,660,235,657,260,662,310,675,361,687,412,693,463,690,489,683,515,670,540,650,566,623,588,595,597,566,597,537,594,508,590,480,590,452,598,425,617,407,641,399,665,397,689,400,714,402,740,401,766,394,793,377,819,362,832"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="423,1027,648,1067"/>
<area shape="poly" title=" " alt="" coords="311,870,360,924,425,982,479,1017,476,1021,421,986,356,927,307,874"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="733,913,892,954"/>
<area shape="poly" title=" " alt="" coords="367,848,499,854,575,861,649,874,701,888,749,905,748,910,699,893,648,879,574,867,499,859,367,853"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="994,1087,1146,1127"/>
<area shape="poly" title=" " alt="" coords="318,870,365,905,424,938,457,949,488,953,544,951,570,951,596,956,623,967,650,989,669,1015,676,1042,676,1070,672,1097,669,1123,670,1148,678,1172,698,1194,727,1214,754,1226,780,1231,806,1231,862,1217,928,1194,942,1186,952,1177,975,1156,1012,1133,1015,1137,978,1160,956,1181,945,1191,930,1199,863,1222,807,1236,779,1236,752,1231,724,1218,695,1198,674,1175,665,1149,664,1123,667,1096,671,1069,671,1043,664,1017,646,993,620,972,595,961,570,957,544,957,488,958,456,954,422,943,362,909,315,874"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="434,1092,637,1133"/>
<area shape="poly" title=" " alt="" coords="300,871,316,914,341,970,378,1028,400,1054,425,1077,431,1081,428,1086,421,1081,396,1058,373,1031,337,972,311,916,295,873"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="460,1157,612,1198"/>
<area shape="poly" title=" " alt="" coords="298,871,309,926,333,999,349,1038,370,1076,395,1111,425,1142,447,1157,444,1161,421,1146,391,1115,366,1079,345,1040,328,1001,304,927,292,872"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="460,888,612,929"/>
<area shape="poly" title=" " alt="" coords="368,866,445,884,444,890,367,871"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="435,113,636,154"/>
<area shape="poly" title=" " alt="" coords="360,828,373,816,384,797,392,774,403,715,408,646,408,570,407,423,411,359,420,310,438,269,460,229,505,165,509,168,464,232,443,271,426,312,416,360,412,423,413,570,413,646,409,716,398,775,389,799,377,819,364,832"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="459,323,612,363"/>
<area shape="poly" title=" " alt="" coords="360,828,373,816,391,787,404,759,410,731,412,704,407,649,394,596,381,542,376,487,379,459,387,431,401,403,421,374,443,357,447,361,425,378,405,406,392,433,385,460,382,487,386,541,399,594,412,648,418,704,416,732,409,761,396,790,377,819,364,832"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="460,388,612,429"/>
<area shape="poly" title=" " alt="" coords="360,828,373,816,389,791,400,767,406,744,408,720,404,674,394,628,384,581,381,535,384,511,391,487,403,463,421,438,444,421,447,425,425,442,408,466,396,489,389,512,386,535,389,580,399,626,409,673,413,720,411,745,405,769,394,794,377,819,364,832"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="480,477,591,502"/>
<area shape="poly" title=" " alt="" coords="359,828,373,816,395,777,403,739,400,701,393,663,386,626,385,588,395,550,421,512,441,497,464,489,466,494,443,502,425,515,400,552,390,588,392,625,398,662,406,700,408,739,400,779,377,819,363,832"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="470,526,602,552"/>
<area shape="poly" title=" " alt="" coords="359,828,373,816,392,785,399,754,399,724,395,693,391,663,391,632,400,601,421,569,436,557,453,548,456,552,439,561,425,573,405,603,396,633,396,662,400,693,404,723,405,755,397,787,377,819,363,832"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="982,1366,1158,1421"/>
<area shape="poly" title=" " alt="" coords="889,1391,967,1391,967,1396,889,1396"/>
<area shape="poly" title=" " alt="" coords="459,1396,339,1402,272,1409,206,1422,142,1443,140,1438,205,1416,271,1404,339,1396,459,1390"/>
<area shape="poly" title=" " alt="" coords="612,1391,721,1391,721,1396,612,1396"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="752,1553,873,1594"/>
<area shape="poly" title=" " alt="" coords="556,1413,615,1475,654,1509,698,1538,738,1555,736,1560,695,1543,651,1513,611,1478,552,1416"/>
<area shape="poly" title=" " alt="" coords="613,1409,697,1423,764,1435,818,1446,843,1448,868,1446,896,1438,927,1424,945,1399,977,1345,1047,1222,1052,1225,982,1348,949,1402,930,1428,898,1443,869,1451,843,1453,817,1451,763,1440,696,1428,612,1415"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="717,1093,908,1134"/>
<area shape="poly" title=" " alt="" coords="571,1371,611,1341,646,1303,658,1281,663,1261,665,1221,670,1183,679,1163,694,1144,702,1137,706,1141,698,1147,683,1166,675,1184,671,1222,668,1261,663,1283,651,1306,614,1345,574,1375"/>
<area shape="poly" title=" " alt="" coords="610,1412,650,1430,674,1449,698,1467,738,1485,736,1490,695,1472,671,1453,647,1435,607,1417"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="738,1158,887,1184"/>
<area shape="poly" title=" " alt="" coords="565,1371,605,1340,646,1302,670,1273,694,1245,734,1214,772,1190,775,1194,737,1219,698,1249,674,1277,650,1306,608,1344,568,1375"/>
<area shape="poly" title=" " alt="" coords="552,1413,611,1500,653,1553,698,1604,733,1635,769,1662,766,1667,730,1639,694,1608,649,1556,607,1503,548,1416"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="722,171,903,211"/>
<area shape="poly" title=" " alt="" coords="611,631,631,621,646,607,663,582,674,559,681,535,683,512,679,466,669,419,659,373,656,326,659,302,665,277,677,253,694,228,707,215,711,219,698,231,682,255,670,279,664,303,661,326,665,372,675,418,685,465,688,512,686,536,679,560,668,585,650,610,634,625,614,636"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="1001,395,1139,421"/>
<area shape="poly" title=" " alt="" coords="612,641,787,624,870,610,903,601,927,590,971,556,1007,514,1035,471,1054,434,1059,436,1039,473,1011,517,974,560,930,595,905,606,872,615,788,630,612,646"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="715,285,910,326"/>
<area shape="poly" title=" " alt="" coords="611,631,630,621,646,607,667,573,675,539,674,506,669,472,663,439,663,405,672,370,694,336,701,330,705,333,698,339,676,372,668,405,669,438,674,472,679,505,680,540,672,575,650,610,633,625,613,635"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="736,655,889,695"/>
<area shape="poly" title=" " alt="" coords="613,652,721,663,721,668,612,657"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="737,719,888,775"/>
<area shape="poly" title=" " alt="" coords="592,665,697,704,723,714,722,719,695,709,591,670"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571" title=" " alt="" coords="720,350,905,421"/>
<area shape="poly" title=" " alt="" coords="611,630,630,620,646,606,662,585,669,564,670,521,671,477,679,454,694,431,705,420,709,424,698,434,683,456,677,477,676,521,674,565,666,587,650,610,633,624,614,634"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a" title=" " alt="" coords="706,444,919,500"/>
<area shape="poly" title=" " alt="" coords="611,628,647,606,664,583,670,560,676,535,694,510,698,507,702,511,698,514,681,537,675,561,668,586,650,610,613,632"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20" title=" " alt="" coords="705,524,920,580"/>
<area shape="poly" title=" " alt="" coords="597,624,714,583,716,588,598,629"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="1010,787,1130,813"/>
<area shape="poly" title=" " alt="" coords="611,631,630,621,646,607,661,585,671,564,678,521,673,478,663,435,654,393,652,351,655,330,663,310,676,291,695,272,724,249,753,234,782,225,811,222,840,226,870,235,900,250,931,272,953,339,992,485,1064,772,1059,773,986,487,947,341,927,275,897,255,868,240,839,231,811,227,783,230,755,239,727,254,698,276,680,294,668,313,660,332,657,351,659,392,668,434,678,477,683,521,676,565,666,588,650,610,633,625,614,636"/>
<area shape="poly" title=" " alt="" coords="897,210,930,227,972,263,1007,305,1057,380,1052,383,1003,308,968,267,927,232,895,214"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1211,70,1421,96"/>
<area shape="poly" title=" " alt="" coords="1164,80,1196,80,1196,86,1164,86"/>
<area shape="poly" title=" " alt="" coords="881,118,986,97,987,102,882,123"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1003,120,1136,161"/>
<area shape="poly" title=" " alt="" coords="896,133,988,136,988,141,896,138"/>
<area shape="poly" title=" " alt="" coords="490,1027,487,1017,495,1008,511,1002,536,1000,562,1002,578,1009,576,1014,561,1008,536,1005,512,1007,498,1012,493,1018,495,1025"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="742,1259,883,1299"/>
<area shape="poly" title=" " alt="" coords="634,1066,650,1078,666,1099,673,1119,675,1160,677,1200,684,1219,698,1238,729,1259,726,1264,694,1242,679,1222,672,1201,670,1160,668,1120,661,1101,646,1082,630,1070"/>
<area shape="poly" title=" " alt="" coords="894,946,913,957,931,970,946,992,954,1013,957,1054,959,1095,965,1116,979,1137,1003,1159,1000,1163,975,1141,961,1118,954,1096,952,1054,949,1014,942,994,927,974,911,961,891,951"/>
<area shape="poly" title=" " alt="" coords="884,910,927,893,988,857,1039,821,1042,825,991,861,930,897,887,915"/>
<area shape="poly" title=" " alt="" coords="892,952,930,970,964,994,995,1021,1044,1073,1040,1076,991,1024,960,998,927,975,890,957"/>
<area shape="poly" title=" " alt="" coords="590,927,697,963,733,971,764,974,821,974,847,975,874,981,901,993,930,1014,944,1029,952,1044,958,1075,962,1106,968,1121,979,1137,1005,1159,1002,1163,975,1141,963,1124,957,1107,952,1076,947,1046,940,1032,927,1018,898,998,872,986,846,980,820,979,764,979,732,976,696,968,589,932"/>
<area shape="poly" title=" " alt="" coords="614,922,633,932,650,945,664,962,671,980,675,1014,678,1047,685,1063,698,1078,706,1085,702,1089,694,1082,681,1065,673,1048,669,1014,666,981,659,965,646,949,630,936,611,927"/>
<area shape="poly" title=" " alt="" coords="582,927,619,953,637,970,651,990,666,1021,677,1050,686,1106,683,1159,674,1209,666,1259,664,1310,673,1365,683,1394,699,1424,723,1454,754,1477,751,1482,720,1458,694,1427,678,1396,668,1366,658,1311,661,1259,669,1208,678,1158,680,1107,672,1052,661,1023,646,992,633,974,616,957,579,931"/>
<area shape="poly" title=" " alt="" coords="613,920,633,931,650,945,668,971,675,997,676,1023,674,1048,671,1073,673,1097,681,1120,698,1144,725,1160,722,1165,695,1148,676,1123,667,1098,666,1073,668,1047,671,1023,670,998,663,973,646,949,630,935,611,925"/>
<area shape="poly" title=" " alt="" coords="600,885,732,842,733,847,602,890"/>
<area shape="poly" title=" " alt="" coords="573,885,611,859,646,824,656,808,662,793,667,763,673,734,681,720,695,705,720,689,723,693,698,709,686,723,678,736,672,764,667,794,661,810,650,827,615,863,576,890"/>
<area shape="poly" title=" " alt="" coords="564,885,647,824,670,803,695,785,721,772,724,777,698,789,673,807,650,828,567,890"/>
<area shape="poly" title=" " alt="" coords="612,900,803,879,885,865,912,857,927,849,944,823,956,789,963,748,966,702,963,597,953,482,943,368,938,261,940,214,947,171,958,135,974,107,977,104,981,108,979,110,963,138,952,173,946,214,944,261,948,367,958,482,968,596,971,702,968,749,961,790,949,825,930,853,914,862,886,870,803,884,613,905"/>
<area shape="poly" title=" " alt="" coords="579,885,616,860,633,843,646,824,657,797,664,764,670,682,667,587,660,486,655,385,655,292,659,251,667,214,678,182,694,157,714,142,717,146,698,161,683,185,672,215,665,251,661,292,660,385,665,485,672,587,675,682,670,765,662,799,651,827,637,847,620,864,583,890"/>
<area shape="poly" title=" " alt="" coords="613,913,718,922,717,928,612,918"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="742,1028,883,1069"/>
<area shape="poly" title=" " alt="" coords="614,925,650,945,666,961,675,977,683,993,698,1007,728,1024,726,1029,695,1012,679,996,670,980,662,964,647,949,611,930"/>
<area shape="poly" title=" " alt="" coords="636,114,696,106,834,93,961,85,961,90,834,98,697,111,637,119"/>
<area shape="poly" title=" " alt="" coords="637,131,714,131,714,136,637,136"/>
<area shape="poly" title=" " alt="" coords="495,478,487,468,492,458,508,452,536,450,566,453,581,460,579,465,565,458,536,455,510,457,495,462,492,468,499,475"/>
<area shape="poly" title=" " alt="" coords="361,1282,428,1280,504,1271,542,1261,580,1248,615,1230,647,1208,660,1193,667,1178,670,1146,674,1113,681,1096,695,1080,726,1060,728,1065,698,1084,686,1099,679,1114,676,1147,672,1180,664,1196,650,1212,617,1235,582,1253,544,1266,505,1276,428,1286,362,1287"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="475,1851,596,1891"/>
<area shape="poly" title=" " alt="" coords="376,1868,459,1868,459,1874,376,1874"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ad0130874bac31eb408dd6e766084b814_icgraph">
<area shape="rect" title=" " alt="" coords="1251,88,1404,129"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="1051,5,1203,46"/>
<area shape="poly" title=" " alt="" coords="1261,84,1178,49,1180,44,1263,79"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,109,803,150"/>
<area shape="poly" title=" " alt="" coords="1236,114,803,129,803,124,1236,109"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,167,566,207"/>
<area shape="poly" title=" " alt="" coords="1236,122,1204,126,803,164,567,184,567,179,802,159,1203,120,1236,117"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="851,55,1003,95"/>
<area shape="poly" title=" " alt="" coords="1036,51,1004,59,1003,54,1035,46"/>
<area shape="poly" title=" " alt="" coords="1019,80,1251,99,1251,105,1018,85"/>
<area shape="poly" title=" " alt="" coords="836,101,796,111,794,106,835,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,52,574,93"/>
<area shape="poly" title=" " alt="" coords="836,77,575,76,575,70,836,72"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,81,158,122"/>
<area shape="poly" title=" " alt="" coords="607,128,158,108,158,102,607,122"/>
<area shape="poly" title=" " alt="" coords="617,157,568,170,566,165,616,152"/>
<area shape="poly" title=" " alt="" coords="616,108,571,96,572,91,617,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,52,358,93"/>
<area shape="poly" title=" " alt="" coords="391,75,359,75,359,70,391,70"/>
<area shape="poly" title=" " alt="" coords="191,88,158,93,158,88,190,83"/>
</map>
</div>

</div>
</div>
<a id="a89d9e83d4de2f7aec957e54dce4a76f5" name="a89d9e83d4de2f7aec957e54dce4a76f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d9e83d4de2f7aec957e54dce4a76f5">&#9670;&#160;</a></span>make_block_restore_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1scoped__exit.html">fc::scoped_exit</a>&lt; std::function&lt; void()&gt; &gt; sysio::chain::controller_impl::make_block_restore_point </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01082">1082</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1082</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1083</span>      <span class="keyword">auto</span>&amp; bb = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage);</div>
<div class="line"><span class="lineno"> 1084</span>      <span class="keyword">auto</span> orig_block_transactions_size = bb._pending_trx_receipts.size();</div>
<div class="line"><span class="lineno"> 1085</span>      <span class="keyword">auto</span> orig_state_transactions_size = bb._pending_trx_metas.size();</div>
<div class="line"><span class="lineno"> 1086</span>      <span class="keyword">auto</span> orig_action_receipt_digests_size = bb._action_receipt_digests.size();</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>      std::function&lt;void()&gt; callback = [<span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 1089</span>                                        orig_block_transactions_size,</div>
<div class="line"><span class="lineno"> 1090</span>                                        orig_state_transactions_size,</div>
<div class="line"><span class="lineno"> 1091</span>                                        orig_action_receipt_digests_size]()</div>
<div class="line"><span class="lineno"> 1092</span>      {</div>
<div class="line"><span class="lineno"> 1093</span>         <span class="keyword">auto</span>&amp; bb = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage);</div>
<div class="line"><span class="lineno"> 1094</span>         bb._pending_trx_receipts.resize(orig_block_transactions_size);</div>
<div class="line"><span class="lineno"> 1095</span>         bb._pending_trx_metas.resize(orig_state_transactions_size);</div>
<div class="line"><span class="lineno"> 1096</span>         bb._action_receipt_digests.resize(orig_action_receipt_digests_size);</div>
<div class="line"><span class="lineno"> 1097</span>      };</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>( std::move(callback) );</div>
<div class="line"><span class="lineno"> 1100</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,218,46"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="266,13,415,38"/>
<area shape="poly" title=" " alt="" coords="218,23,250,23,250,28,218,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a89d9e83d4de2f7aec957e54dce4a76f5_icgraph">
<area shape="rect" title=" " alt="" coords="1732,63,1944,103"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aa7c2a2da2eed15c5d55146b0ebd6646b" title=" " alt="" coords="1528,5,1680,46"/>
<area shape="poly" title=" " alt="" coords="1738,61,1680,47,1682,42,1739,56"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="1251,20,1477,61"/>
<area shape="poly" title=" " alt="" coords="1716,77,1524,60,1477,56,1477,50,1525,55,1717,71"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1525,120,1684,161"/>
<area shape="poly" title=" " alt="" coords="1739,110,1685,123,1684,118,1737,105"/>
<area shape="poly" title=" " alt="" coords="1513,34,1477,36,1477,31,1513,29"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,120,1203,161"/>
<area shape="poly" title=" " alt="" coords="1509,140,1477,139,1251,139,1204,140,1204,135,1251,134,1477,134,1509,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1288,148,1440,189"/>
<area shape="poly" title=" " alt="" coords="1510,154,1441,162,1440,157,1509,149"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,91,1003,131"/>
<area shape="poly" title=" " alt="" coords="1035,130,1003,125,1004,120,1036,124"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,148,803,189"/>
<area shape="poly" title=" " alt="" coords="1036,149,803,165,803,160,1035,144"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,205,574,246"/>
<area shape="poly" title=" " alt="" coords="1036,161,1004,167,904,187,803,203,684,216,575,224,575,218,683,210,802,198,903,182,1002,162,1035,155"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,33,789,74"/>
<area shape="poly" title=" " alt="" coords="835,89,788,77,790,71,836,84"/>
<area shape="poly" title=" " alt="" coords="836,138,792,150,791,145,835,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,91,566,131"/>
<area shape="poly" title=" " alt="" coords="835,114,567,114,567,108,835,108"/>
<area shape="poly" title=" " alt="" coords="804,50,901,57,953,65,1004,76,1052,95,1094,117,1092,122,1050,100,1002,82,952,70,901,62,804,56"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,177,158,218"/>
<area shape="poly" title=" " alt="" coords="607,176,158,197,158,191,607,171"/>
<area shape="poly" title=" " alt="" coords="616,146,566,133,568,128,617,141"/>
<area shape="poly" title=" " alt="" coords="617,196,572,207,571,202,616,190"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,205,358,246"/>
<area shape="poly" title=" " alt="" coords="391,228,359,228,359,223,391,223"/>
<area shape="poly" title=" " alt="" coords="190,216,158,211,158,206,190,210"/>
<area shape="poly" title=" " alt="" coords="1272,160,1203,152,1204,147,1273,155"/>
</map>
</div>

</div>
</div>
<a id="af15d89f9220ba97aa5c521e643746587" name="af15d89f9220ba97aa5c521e643746587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15d89f9220ba97aa5c521e643746587">&#9670;&#160;</a></span>maybe_switch_forks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::maybe_switch_forks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>new_head</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>forked_branch_cb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx_lookup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>end for each block in branch</p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02229">2229</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2231</span>   {</div>
<div class="line"><span class="lineno"> 2232</span>      <span class="keywordtype">bool</span> head_changed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2233</span>      <span class="keywordflow">if</span>( new_head-&gt;header.previous == <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id ) {</div>
<div class="line"><span class="lineno"> 2234</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2235</span>            <a class="code hl_function" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a>( new_head, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, trx_lookup );</div>
<div class="line"><span class="lineno"> 2236</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a>( new_head );</div>
<div class="line"><span class="lineno"> 2237</span>            <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = new_head;</div>
<div class="line"><span class="lineno"> 2238</span>         } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e ) {</div>
<div class="line"><span class="lineno"> 2239</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc">remove</a>( new_head-&gt;id );</div>
<div class="line"><span class="lineno"> 2240</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2241</span>         }</div>
<div class="line"><span class="lineno"> 2242</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( new_head-&gt;id != <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id ) {</div>
<div class="line"><span class="lineno"> 2243</span>         <span class="keyword">auto</span> old_head = <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>;</div>
<div class="line"><span class="lineno"> 2244</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;switching forks from ${current_head_id} (block number ${current_head_num}) to ${new_head_id} (block number ${new_head_num})&quot;</span>,</div>
<div class="line"><span class="lineno"> 2245</span>              (<span class="stringliteral">&quot;current_head_id&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id)(<span class="stringliteral">&quot;current_head_num&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num)(<span class="stringliteral">&quot;new_head_id&quot;</span>, new_head-&gt;id)(<span class="stringliteral">&quot;new_head_num&quot;</span>, new_head-&gt;block_num) );</div>
<div class="line"><span class="lineno"> 2246</span> </div>
<div class="line"><span class="lineno"> 2247</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 2248</span>            dm_logger-&gt;on_switch_forks(<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id, new_head-&gt;id);</div>
<div class="line"><span class="lineno"> 2249</span>         }</div>
<div class="line"><span class="lineno"> 2250</span> </div>
<div class="line"><span class="lineno"> 2251</span>         <span class="keyword">auto</span> branches = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748">fetch_branch_from</a>( new_head-&gt;id, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id );</div>
<div class="line"><span class="lineno"> 2252</span> </div>
<div class="line"><span class="lineno"> 2253</span>         <span class="keywordflow">if</span>( branches.second.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2254</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> itr = branches.second.begin(); itr != branches.second.end(); ++itr ) {</div>
<div class="line"><span class="lineno"> 2255</span>               <a class="code hl_function" href="#a571b0d08f97b43706abab71f59d4d9f7">pop_block</a>();</div>
<div class="line"><span class="lineno"> 2256</span>            }</div>
<div class="line"><span class="lineno"> 2257</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124">head_block_id</a>() == branches.second.back()-&gt;header.previous, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>,</div>
<div class="line"><span class="lineno"> 2258</span>                     <span class="stringliteral">&quot;loss of sync between fork_db and chainbase during fork switch&quot;</span> ); <span class="comment">// _should_ never fail</span></div>
<div class="line"><span class="lineno"> 2259</span> </div>
<div class="line"><span class="lineno"> 2260</span>            <span class="keywordflow">if</span>( forked_branch_cb ) forked_branch_cb( branches.second );</div>
<div class="line"><span class="lineno"> 2261</span>         }</div>
<div class="line"><span class="lineno"> 2262</span> </div>
<div class="line"><span class="lineno"> 2263</span>         <span class="keywordflow">for</span>( <span class="keyword">auto</span> ritr = branches.first.rbegin(); ritr != branches.first.rend(); ++ritr ) {</div>
<div class="line"><span class="lineno"> 2264</span>            <span class="keyword">auto</span> except = std::exception_ptr{};</div>
<div class="line"><span class="lineno"> 2265</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2266</span>               <a class="code hl_function" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a>( *ritr, (*ritr)-&gt;is_valid() ? <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755">controller::block_status::validated</a></div>
<div class="line"><span class="lineno"> 2267</span>                                                       : <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1">controller::block_status::complete</a>, trx_lookup );</div>
<div class="line"><span class="lineno"> 2268</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a>( *ritr );</div>
<div class="line"><span class="lineno"> 2269</span>               <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = *ritr;</div>
<div class="line"><span class="lineno"> 2270</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 2271</span>              <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2272</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 2273</span>              <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2274</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><span class="lineno"> 2275</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;exception thrown while switching forks ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()));</div>
<div class="line"><span class="lineno"> 2276</span>               except = std::current_exception();</div>
<div class="line"><span class="lineno"> 2277</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno"> 2278</span>               <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>(<span class="stringliteral">&quot;exception thrown while switching forks ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>, e.what()));</div>
<div class="line"><span class="lineno"> 2279</span>               except = std::current_exception();</div>
<div class="line"><span class="lineno"> 2280</span>            }</div>
<div class="line"><span class="lineno"> 2281</span> </div>
<div class="line"><span class="lineno"> 2282</span>            <span class="keywordflow">if</span>( except ) {</div>
<div class="line"><span class="lineno"> 2283</span>               <span class="comment">// ritr currently points to the block that threw</span></div>
<div class="line"><span class="lineno"> 2284</span>               <span class="comment">// Remove the block that threw and all forks built off it.</span></div>
<div class="line"><span class="lineno"> 2285</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc">remove</a>( (*ritr)-&gt;id );</div>
<div class="line"><span class="lineno"> 2286</span> </div>
<div class="line"><span class="lineno"> 2287</span>               <span class="comment">// pop all blocks from the bad fork, discarding their transactions</span></div>
<div class="line"><span class="lineno"> 2288</span>               <span class="comment">// ritr base is a forward itr to the last block successfully applied</span></div>
<div class="line"><span class="lineno"> 2289</span>               <span class="keyword">auto</span> applied_itr = ritr.base();</div>
<div class="line"><span class="lineno"> 2290</span>               <span class="keywordflow">for</span>( <span class="keyword">auto</span> itr = applied_itr; itr != branches.first.end(); ++itr ) {</div>
<div class="line"><span class="lineno"> 2291</span>                  <a class="code hl_function" href="#a571b0d08f97b43706abab71f59d4d9f7">pop_block</a>();</div>
<div class="line"><span class="lineno"> 2292</span>               }</div>
<div class="line"><span class="lineno"> 2293</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124">head_block_id</a>() == branches.second.back()-&gt;header.previous, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>,</div>
<div class="line"><span class="lineno"> 2294</span>                           <span class="stringliteral">&quot;loss of sync between fork_db and chainbase during fork switch reversal&quot;</span> ); <span class="comment">// _should_ never fail</span></div>
<div class="line"><span class="lineno"> 2295</span> </div>
<div class="line"><span class="lineno"> 2296</span>               <span class="comment">// re-apply good blocks</span></div>
<div class="line"><span class="lineno"> 2297</span>               <span class="keywordflow">for</span>( <span class="keyword">auto</span> ritr = branches.second.rbegin(); ritr != branches.second.rend(); ++ritr ) {</div>
<div class="line"><span class="lineno"> 2298</span>                  <a class="code hl_function" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a>( *ritr, <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755">controller::block_status::validated</a> <span class="comment">/* we previously validated these blocks*/</span>, trx_lookup );</div>
<div class="line"><span class="lineno"> 2299</span>                  <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = *ritr;</div>
<div class="line"><span class="lineno"> 2300</span>               }</div>
<div class="line"><span class="lineno"> 2301</span>               std::rethrow_exception(except);</div>
<div class="line"><span class="lineno"> 2302</span>            } <span class="comment">// end if exception</span></div>
<div class="line"><span class="lineno"> 2303</span>         } </div>
<div class="line"><span class="lineno"> 2304</span> </div>
<div class="line"><span class="lineno"> 2305</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;successfully switched fork to new head ${new_head_id}&quot;</span>, (<span class="stringliteral">&quot;new_head_id&quot;</span>, new_head-&gt;id));</div>
<div class="line"><span class="lineno"> 2306</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2307</span>         head_changed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2308</span>      }</div>
<div class="line"><span class="lineno"> 2309</span> </div>
<div class="line"><span class="lineno"> 2310</span>      <span class="keywordflow">if</span>( head_changed )</div>
<div class="line"><span class="lineno"> 2311</span>         <a class="code hl_function" href="#ad0130874bac31eb408dd6e766084b814">log_irreversible</a>();</div>
<div class="line"><span class="lineno"> 2312</span> </div>
<div class="line"><span class="lineno"> 2313</span>   } </div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755">sysio::chain::controller::block_status::validated</a></div><div class="ttdeci">@ validated</div><div class="ttdoc">this is a complete block signed by a valid producer and has been previously applied by this node and ...</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a193f10ce12656c580b023d36193a5cdc"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc">sysio::chain::fork_database::remove</a></div><div class="ttdeci">void remove(const block_id_type &amp;id)</div><div class="ttdoc">fetch_branch_from_impl</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00517">fork_database.cpp:517</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a77f152572f2703a40e9c198456fad748"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748">sysio::chain::fork_database::fetch_branch_from</a></div><div class="ttdeci">pair&lt; branch_type, branch_type &gt; fetch_branch_from(const block_id_type &amp;first, const block_id_type &amp;second) const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00451">fork_database.cpp:451</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a571b0d08f97b43706abab71f59d4d9f7"><div class="ttname"><a href="#a571b0d08f97b43706abab71f59d4d9f7">sysio::chain::controller_impl::pop_block</a></div><div class="ttdeci">void pop_block()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00259">controller.cpp:259</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_cgraph" id="astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_cgraph">
<area shape="rect" title=" " alt="" coords="5,960,186,1001"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="256,931,408,971"/>
<area shape="poly" title=" " alt="" coords="186,967,241,960,241,965,186,972"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="773,721,964,762"/>
<area shape="poly" title=" " alt="" coords="101,959,141,859,174,789,216,713,267,635,328,561,398,495,437,467,478,443,540,415,568,406,596,402,623,403,650,410,677,424,706,444,728,467,739,493,741,518,739,545,736,600,741,628,755,658,781,687,813,711,810,715,778,691,750,660,735,630,730,600,734,545,736,518,734,494,724,470,703,448,675,428,648,415,622,409,596,408,569,412,542,420,480,448,440,472,401,499,332,565,272,638,220,716,179,792,146,861,106,961"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="792,541,945,582"/>
<area shape="poly" title=" " alt="" coords="96,959,106,888,129,784,146,726,169,668,197,612,232,560,286,498,338,457,399,429,478,404,541,387,593,380,644,385,705,405,750,429,789,461,822,496,847,527,843,530,818,499,785,465,747,433,703,409,643,390,593,385,542,393,480,410,401,434,341,462,290,502,236,563,202,614,174,670,151,728,134,785,111,889,101,960"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="1050,280,1202,321"/>
<area shape="poly" title=" " alt="" coords="94,959,96,872,102,811,112,742,129,671,154,599,187,531,232,471,273,430,318,395,367,365,419,341,473,320,529,304,643,282,755,272,862,271,956,276,1035,284,1034,289,956,281,861,276,756,277,643,287,530,309,475,325,421,346,370,370,321,400,276,434,236,474,192,534,159,601,134,672,117,743,107,811,101,872,99,959"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="515,1708,668,1749"/>
<area shape="poly" title=" " alt="" coords="140,999,234,1038,265,1045,292,1047,342,1045,366,1045,388,1050,411,1062,433,1083,448,1106,458,1135,467,1208,465,1295,459,1390,452,1484,450,1570,458,1643,468,1672,481,1695,503,1712,499,1716,477,1698,463,1674,453,1644,445,1571,447,1483,454,1389,460,1295,461,1209,453,1136,443,1108,429,1086,408,1066,386,1055,365,1051,342,1050,292,1052,264,1050,233,1043,138,1004"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="526,1658,658,1684"/>
<area shape="poly" title=" " alt="" coords="186,982,257,988,330,999,392,1015,416,1026,433,1039,448,1061,458,1090,464,1124,467,1163,465,1249,459,1342,452,1436,450,1522,458,1594,467,1622,481,1644,495,1656,512,1664,510,1668,492,1660,477,1647,462,1624,453,1595,444,1522,446,1436,453,1342,460,1249,462,1163,459,1125,453,1092,443,1064,429,1042,413,1030,391,1020,329,1004,256,993,186,987"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748" title=" " alt="" coords="234,1096,431,1137"/>
<area shape="poly" title=" " alt="" coords="124,999,174,1037,235,1075,259,1087,257,1092,232,1080,171,1041,121,1003"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="256,1161,408,1202"/>
<area shape="poly" title=" " alt="" coords="111,1000,159,1071,194,1111,235,1146,244,1152,241,1156,232,1150,191,1115,155,1074,106,1003"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="792,143,945,183"/>
<area shape="poly" title=" " alt="" coords="95,960,103,817,125,602,142,490,165,387,195,304,212,272,232,248,261,223,292,202,360,169,433,147,509,135,584,130,655,131,777,143,777,148,655,136,584,136,509,140,435,153,362,174,295,207,264,227,236,252,217,275,200,306,171,389,148,491,130,602,108,818,100,960"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc" title="fetch_branch_from_impl" alt="" coords="266,1227,398,1267"/>
<area shape="poly" title=" " alt="" coords="106,1000,123,1044,149,1101,187,1160,210,1188,235,1212,254,1223,251,1228,232,1216,206,1191,183,1163,145,1103,118,1046,101,1002"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="792,349,945,390"/>
<area shape="poly" title=" " alt="" coords="334,930,351,827,382,681,402,606,425,537,450,481,477,444,510,419,546,399,585,384,625,373,705,362,777,360,777,365,705,367,626,378,586,389,548,404,513,423,481,448,454,484,430,539,407,607,387,682,357,828,339,931"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="516,931,668,971"/>
<area shape="poly" title=" " alt="" coords="409,948,500,948,500,954,409,954"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="752,1103,985,1143"/>
<area shape="poly" title=" " alt="" coords="407,970,433,988,444,1002,451,1017,456,1046,461,1072,468,1084,481,1096,510,1113,542,1126,611,1142,680,1147,745,1143,746,1148,680,1152,610,1148,541,1131,508,1118,477,1100,464,1088,456,1074,450,1047,446,1018,440,1005,429,992,404,974"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="516,1247,668,1287"/>
<area shape="poly" title=" " alt="" coords="409,970,433,988,448,1007,456,1026,463,1062,466,1099,471,1119,481,1140,518,1192,558,1234,554,1238,514,1195,477,1143,466,1120,461,1100,457,1062,451,1027,443,1010,429,992,406,974"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="502,457,681,498"/>
<area shape="poly" title=" " alt="" coords="331,930,338,852,346,798,358,739,377,677,402,616,435,559,477,509,487,501,491,505,481,513,439,562,407,619,382,679,364,740,351,799,343,852,337,930"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1033,1518,1219,1544"/>
<area shape="poly" title=" " alt="" coords="404,970,420,981,433,995,451,1024,462,1053,468,1081,470,1109,463,1164,450,1217,438,1269,434,1321,438,1346,446,1371,460,1397,481,1422,517,1448,571,1469,638,1486,714,1500,874,1517,1017,1526,1017,1531,874,1523,713,1505,637,1492,570,1474,515,1453,477,1426,456,1400,441,1374,433,1347,429,1321,433,1268,445,1216,458,1163,464,1109,463,1082,457,1054,446,1026,429,998,416,985,401,974"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="786,1544,951,1569"/>
<area shape="poly" title=" " alt="" coords="411,969,433,988,445,1009,453,1036,459,1102,458,1179,453,1261,448,1344,448,1419,458,1480,468,1504,481,1522,500,1535,528,1545,602,1557,687,1560,770,1559,770,1565,687,1566,601,1562,526,1550,498,1540,477,1526,463,1507,453,1482,443,1419,443,1343,447,1261,453,1179,454,1102,447,1037,440,1012,429,991,407,973"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="479,547,704,587"/>
<area shape="poly" title=" " alt="" coords="333,930,345,866,370,776,388,728,412,681,442,637,477,598,483,594,486,598,481,602,446,640,417,684,393,731,375,778,350,867,339,931"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="789,988,948,1029"/>
<area shape="poly" title=" " alt="" coords="410,967,479,980,634,996,773,1004,773,1009,634,1002,479,986,409,972"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="1050,1213,1202,1254"/>
<area shape="poly" title=" " alt="" coords="403,970,419,980,433,995,456,1035,464,1074,463,1111,458,1148,452,1184,451,1221,459,1258,481,1297,510,1333,539,1359,568,1378,598,1391,666,1409,753,1427,819,1443,872,1453,897,1454,923,1450,952,1442,983,1427,1007,1413,1028,1395,1064,1352,1091,1307,1109,1267,1114,1269,1095,1309,1068,1355,1032,1398,1010,1417,986,1432,953,1447,924,1455,898,1459,872,1459,818,1449,752,1432,665,1414,596,1396,565,1382,536,1363,507,1336,477,1301,454,1260,446,1221,447,1184,453,1147,458,1111,459,1074,451,1037,429,998,416,985,400,974"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="490,612,693,653"/>
<area shape="poly" title=" " alt="" coords="336,929,352,877,380,807,421,734,447,699,477,669,492,658,495,663,481,673,451,703,426,737,385,810,357,879,341,931"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="516,727,668,767"/>
<area shape="poly" title=" " alt="" coords="343,929,395,855,433,814,478,778,500,766,502,771,480,783,437,818,400,859,348,932"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="516,1045,668,1086"/>
<area shape="poly" title=" " alt="" coords="395,970,432,987,457,1006,480,1025,506,1037,504,1042,478,1029,453,1011,430,992,393,974"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="491,1593,692,1634"/>
<area shape="poly" title=" " alt="" coords="411,968,433,988,446,1011,455,1040,463,1111,462,1194,457,1283,452,1372,451,1455,460,1524,469,1552,481,1573,489,1582,485,1585,477,1577,464,1554,455,1525,446,1455,446,1372,451,1283,457,1194,457,1111,449,1041,441,1013,429,991,407,973"/>
<area shape="poly" title=" " alt="" coords="369,970,404,999,420,1018,433,1039,444,1067,450,1101,455,1182,453,1276,447,1375,443,1474,444,1564,456,1640,466,1671,481,1695,503,1712,499,1716,477,1698,462,1673,451,1642,439,1565,437,1474,442,1375,447,1276,450,1182,445,1102,438,1069,429,1041,416,1021,400,1003,366,974"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="516,792,668,833"/>
<area shape="poly" title=" " alt="" coords="355,928,409,885,478,842,500,832,502,837,480,847,412,889,358,932"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="536,881,647,906"/>
<area shape="poly" title=" " alt="" coords="408,932,520,907,521,912,410,937"/>
<area shape="poly" title=" " alt="" coords="411,968,433,988,447,1014,457,1047,464,1126,462,1220,454,1320,447,1421,446,1513,449,1554,456,1590,466,1620,481,1644,495,1656,512,1664,510,1668,492,1660,477,1647,461,1622,451,1591,444,1554,441,1513,442,1420,449,1320,456,1220,459,1126,451,1048,442,1016,429,991,407,972"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="1038,135,1214,191"/>
<area shape="poly" title=" " alt="" coords="884,347,944,277,986,237,1031,201,1038,197,1040,201,1034,205,989,241,948,281,888,350"/>
<area shape="poly" title=" " alt="" coords="667,940,687,931,702,917,713,900,721,879,730,824,732,758,731,687,729,547,735,489,741,465,750,446,774,417,803,396,807,400,778,421,755,448,746,467,740,490,734,548,736,687,738,758,735,824,726,880,718,903,706,921,690,935,670,945"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="808,607,929,647"/>
<area shape="poly" title=" " alt="" coords="667,939,686,930,702,917,723,886,731,856,731,825,726,793,722,762,721,729,729,697,750,664,770,648,792,637,794,642,772,652,754,667,734,699,727,730,727,761,732,793,736,824,736,856,728,888,706,921,689,935,669,944"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="1050,933,1202,974"/>
<area shape="poly" title=" " alt="" coords="667,936,703,917,713,906,719,894,724,869,731,844,738,832,751,822,812,791,841,784,869,781,896,784,925,791,986,822,999,833,1007,844,1013,869,1018,895,1024,907,1035,918,1040,923,1036,927,1031,922,1020,910,1013,896,1008,870,1002,847,995,836,983,827,923,796,895,789,869,786,842,789,814,796,754,827,742,836,735,846,729,870,724,896,717,909,706,921,670,941"/>
<area shape="poly" title=" " alt="" coords="667,938,686,929,702,917,716,901,723,884,726,850,729,814,737,796,750,778,763,768,766,772,754,782,741,799,735,816,731,850,728,886,720,903,706,921,689,934,669,942"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="1065,868,1186,909"/>
<area shape="poly" title=" " alt="" coords="667,939,686,930,702,917,720,891,726,865,726,838,722,811,719,784,720,757,729,732,751,708,781,686,810,672,839,663,867,660,896,664,925,673,955,687,986,708,1003,724,1011,742,1014,779,1016,817,1022,835,1035,853,1053,867,1049,871,1031,857,1017,838,1010,818,1009,779,1006,743,998,727,983,712,953,692,923,678,895,669,867,666,840,668,812,676,783,691,754,712,734,734,725,758,724,784,728,810,731,838,732,866,725,894,706,921,689,934,669,944"/>
<area shape="poly" title=" " alt="" coords="667,940,686,931,702,917,717,897,727,877,736,837,734,798,726,758,718,717,715,676,724,635,735,614,750,593,777,574,780,578,754,597,739,617,729,637,721,677,723,716,731,757,739,797,741,838,733,879,722,900,706,921,689,935,669,944"/>
<area shape="poly" title=" " alt="" coords="667,940,686,931,702,917,720,893,732,869,740,846,743,822,741,776,732,729,721,682,717,633,724,582,735,555,750,528,776,497,803,477,831,464,860,456,920,439,951,423,983,400,997,382,1006,366,1014,349,1031,332,1038,326,1041,331,1034,336,1019,352,1010,368,1002,385,986,404,954,428,922,444,861,461,833,469,806,482,780,501,755,531,739,558,729,583,722,633,727,681,737,728,746,775,749,823,745,847,737,871,725,896,706,921,689,935,669,945"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="794,837,943,862"/>
<area shape="poly" title=" " alt="" coords="667,931,703,917,727,898,751,879,787,865,789,870,754,884,730,902,706,921,669,936"/>
<area shape="poly" title=" " alt="" coords="793,578,754,597,739,614,731,631,723,649,706,666,675,683,645,691,591,691,538,693,510,701,481,717,455,738,433,762,395,816,367,870,348,917,343,915,362,868,390,813,429,759,452,734,477,713,508,696,537,687,591,686,645,685,673,678,703,662,718,646,726,629,734,611,751,593,791,573"/>
<area shape="poly" title=" " alt="" coords="946,568,968,578,987,593,1002,614,1013,635,1022,676,1020,717,1013,757,1005,797,1002,837,1011,878,1020,898,1035,919,1039,924,1035,927,1031,922,1016,901,1005,879,997,837,1000,796,1007,756,1015,716,1017,677,1008,637,998,617,983,597,965,582,944,573"/>
<area shape="poly" title=" " alt="" coords="946,568,968,578,987,593,1009,626,1017,659,1017,692,1012,724,1008,757,1007,789,1014,821,1035,853,1053,868,1050,872,1031,857,1010,823,1002,789,1002,756,1007,724,1012,692,1012,660,1004,629,983,597,965,583,944,573"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="1042,476,1210,517"/>
<area shape="poly" title=" " alt="" coords="945,540,1027,518,1029,524,946,545"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227" title=" " alt="" coords="1061,541,1191,582"/>
<area shape="poly" title=" " alt="" coords="945,559,1045,559,1045,564,945,564"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="1055,607,1196,647"/>
<area shape="poly" title=" " alt="" coords="946,578,1041,603,1039,608,945,584"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="1044,672,1208,713"/>
<area shape="poly" title=" " alt="" coords="946,574,986,593,1003,609,1011,625,1019,641,1034,657,1042,662,1039,666,1031,661,1015,644,1007,628,998,612,983,597,944,578"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="1053,737,1198,778"/>
<area shape="poly" title=" " alt="" coords="946,570,967,579,986,593,1000,609,1008,626,1012,659,1016,691,1022,707,1035,722,1042,729,1038,733,1031,726,1018,709,1011,692,1007,659,1002,627,996,612,983,597,965,584,944,575"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="1061,803,1191,843"/>
<area shape="poly" title=" " alt="" coords="946,569,968,579,987,593,1004,618,1012,643,1014,667,1012,692,1010,716,1011,740,1018,764,1035,788,1049,800,1045,804,1031,791,1014,766,1006,741,1005,716,1007,691,1009,667,1007,644,1000,620,983,597,965,583,944,574"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99" title=" " alt="" coords="1061,345,1191,386"/>
<area shape="poly" title=" " alt="" coords="909,539,947,514,983,483,998,460,1005,439,1013,418,1031,397,1045,387,1048,391,1034,401,1018,421,1010,441,1002,463,987,486,950,518,911,543"/>
<area shape="poly" title=" " alt="" coords="913,539,950,515,983,483,994,463,1000,444,1004,407,1008,370,1016,351,1031,332,1035,328,1039,332,1035,335,1021,354,1013,371,1009,407,1006,445,999,465,987,486,953,519,916,543"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="1041,411,1210,451"/>
<area shape="poly" title=" " alt="" coords="899,539,959,501,1031,462,1047,455,1049,460,1034,467,962,505,902,543"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="1065,215,1186,255"/>
<area shape="poly" title=" " alt="" coords="885,540,932,479,982,400,996,363,1000,330,1008,299,1017,283,1031,266,1050,252,1053,257,1034,270,1021,286,1013,301,1006,331,1001,364,987,403,937,482,890,543"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="778,1312,959,1353"/>
<area shape="poly" title=" " alt="" coords="669,1282,766,1305,764,1311,668,1288"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="771,1377,966,1418"/>
<area shape="poly" title=" " alt="" coords="623,1286,682,1324,753,1362,772,1369,770,1374,751,1367,679,1328,620,1290"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="792,1247,945,1287"/>
<area shape="poly" title=" " alt="" coords="668,1264,777,1264,777,1270,668,1270"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="793,1167,944,1223"/>
<area shape="poly" title=" " alt="" coords="668,1245,777,1216,778,1221,669,1250"/>
<area shape="poly" title=" " alt="" coords="952,1546,1017,1539,1017,1544,952,1551"/>
<area shape="poly" title=" " alt="" coords="543,547,541,537,549,528,566,522,592,520,620,522,636,529,634,534,618,528,592,525,567,527,552,532,546,538,548,545"/>
<area shape="poly" title=" " alt="" coords="948,989,1034,970,1035,976,949,994"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="1060,1645,1192,1670"/>
<area shape="poly" title=" " alt="" coords="917,1027,955,1053,973,1070,987,1090,1004,1123,1016,1154,1027,1213,1026,1267,1019,1320,1010,1373,1007,1429,1013,1489,1035,1555,1048,1578,1063,1598,1097,1633,1094,1636,1059,1602,1043,1581,1030,1557,1008,1490,1001,1429,1005,1373,1013,1320,1021,1267,1022,1213,1011,1156,999,1125,982,1092,969,1074,952,1057,914,1031"/>
<area shape="poly" title=" " alt="" coords="950,1025,986,1045,1026,1080,1061,1121,1110,1198,1105,1201,1056,1125,1023,1084,983,1049,947,1030"/>
<area shape="poly" title=" " alt="" coords="619,1043,678,1006,714,988,752,974,824,957,899,948,970,945,1034,945,1034,951,971,950,899,954,825,963,753,979,716,993,680,1010,622,1047"/>
<area shape="poly" title=" " alt="" coords="631,1043,669,1016,702,981,714,960,721,941,726,903,730,865,737,845,750,823,779,792,811,768,814,773,782,796,754,826,742,847,735,867,731,904,726,942,719,962,706,985,672,1020,634,1047"/>
<area shape="poly" title=" " alt="" coords="621,1043,703,981,725,959,751,941,828,914,908,897,984,888,1050,885,1050,890,985,894,909,902,829,919,754,945,729,963,706,985,624,1047"/>
<area shape="poly" title=" " alt="" coords="628,1043,666,1016,702,981,717,954,723,929,731,904,751,880,778,863,780,868,754,884,736,907,728,931,722,956,706,985,670,1020,631,1047"/>
<area shape="poly" title=" " alt="" coords="669,1079,753,1096,752,1102,668,1084"/>
<area shape="poly" title=" " alt="" coords="609,1085,666,1157,707,1198,754,1233,779,1245,777,1250,751,1237,704,1202,662,1161,605,1088"/>
<area shape="poly" title=" " alt="" coords="628,1084,686,1118,753,1153,779,1163,777,1168,751,1157,683,1123,625,1089"/>
<area shape="poly" title=" " alt="" coords="668,1058,753,1055,847,1057,930,1067,963,1076,986,1089,1006,1108,1018,1128,1024,1148,1026,1168,1027,1213,1029,1238,1035,1265,1080,1399,1117,1503,1112,1505,1075,1401,1030,1266,1024,1239,1021,1213,1020,1169,1018,1149,1013,1130,1002,1112,983,1093,961,1081,929,1072,846,1062,753,1060,668,1063"/>
<area shape="poly" title=" " alt="" coords="612,1085,659,1149,685,1190,707,1234,724,1288,729,1333,735,1377,742,1401,755,1428,774,1458,796,1486,841,1531,837,1535,792,1490,769,1462,750,1431,737,1403,730,1378,723,1334,718,1289,702,1236,680,1193,655,1152,608,1088"/>
<area shape="poly" title=" " alt="" coords="668,1047,773,1025,774,1031,669,1053"/>
<area shape="poly" title=" " alt="" coords="693,1610,832,1602,909,1593,984,1579,1034,1565,1080,1548,1081,1553,1036,1570,985,1584,909,1598,832,1607,693,1615"/>
<area shape="poly" title=" " alt="" coords="692,1590,788,1570,789,1575,693,1595"/>
<area shape="poly" title=" " alt="" coords="693,1619,1044,1648,1044,1654,693,1625"/>
<area shape="poly" title=" " alt="" coords="669,1738,737,1745,816,1749,901,1745,984,1731,1014,1721,1043,1707,1093,1678,1096,1682,1046,1712,1016,1726,985,1736,902,1750,816,1754,737,1751,668,1743"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="798,1797,939,1822"/>
<area shape="poly" title=" " alt="" coords="660,1747,753,1775,804,1790,803,1795,752,1780,658,1752"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="807,1696,930,1721"/>
<area shape="poly" title=" " alt="" coords="668,1720,792,1711,792,1716,669,1725"/>
<area shape="poly" title=" " alt="" coords="549,882,541,872,546,862,563,856,592,854,624,857,640,864,637,869,622,862,592,859,564,862,549,866,546,872,553,879"/>
<area shape="poly" title=" " alt="" coords="945,160,1023,160,1023,166,945,166"/>
<area shape="poly" title=" " alt="" coords="945,181,1051,211,1050,217,943,186"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908" title=" " alt="" coords="1053,5,1198,46"/>
<area shape="poly" title=" " alt="" coords="897,140,957,99,1031,57,1046,50,1048,55,1034,61,960,104,900,144"/>
<area shape="rect" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6" title=" " alt="" coords="1055,71,1196,111"/>
<area shape="poly" title=" " alt="" coords="943,140,1039,112,1041,117,945,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_icgraph" id="astructsysio_1_1chain_1_1controller__impl_af15d89f9220ba97aa5c521e643746587_icgraph">
<area shape="rect" title=" " alt="" coords="622,23,803,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,27,158,68"/>
<area shape="poly" title=" " alt="" coords="620,22,574,14,461,8,347,12,243,23,158,36,158,31,243,18,347,7,461,3,575,9,621,17"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,23,566,64"/>
<area shape="poly" title=" " alt="" coords="607,46,567,46,567,41,607,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,88,574,129"/>
<area shape="poly" title=" " alt="" coords="627,71,563,90,561,85,626,66"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,55,358,96"/>
<area shape="poly" title=" " alt="" coords="390,95,358,90,359,85,391,90"/>
<area shape="poly" title=" " alt="" coords="190,65,158,61,158,55,190,60"/>
</map>
</div>

</div>
</div>
<a id="ab1190a7a5947a5d8441eafcf33fba744" name="ab1190a7a5947a5d8441eafcf33fba744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1190a7a5947a5d8441eafcf33fba744">&#9670;&#160;</a></span>on_activation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> F&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::on_activation </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ab1190a7a5947a5d8441eafcf33fba744_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ab1190a7a5947a5d8441eafcf33fba744_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ab1190a7a5947a5d8441eafcf33fba744_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ab1190a7a5947a5d8441eafcf33fba744_icgraph">
<area shape="rect" title=" " alt="" coords="244,5,396,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2bfcf9116962baafa5ca07d198183189" title=" " alt="" coords="5,5,196,46"/>
<area shape="poly" title=" " alt="" coords="228,28,196,28,196,23,228,23"/>
</map>
</div>

</div>
</div>
<a id="a571b0d08f97b43706abab71f59d4d9f7" name="a571b0d08f97b43706abab71f59d4d9f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571b0d08f97b43706abab71f59d4d9f7">&#9670;&#160;</a></span>pop_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::pop_block </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00259">259</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  259</span>                    {</div>
<div class="line"><span class="lineno">  260</span>      <span class="keyword">auto</span> prev = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908">get_block</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;header.previous );</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>      <span class="keywordflow">if</span>( !prev ) {</div>
<div class="line"><span class="lineno">  263</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id == <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;header.previous, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;attempt to pop beyond last irreversible block&quot;</span> );</div>
<div class="line"><span class="lineno">  264</span>         prev = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>();</div>
<div class="line"><span class="lineno">  265</span>      }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>      <span class="keywordflow">if</span> ( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">db_read_mode::SPECULATIVE</a> ) {</div>
<div class="line"><span class="lineno">  268</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;attempting to pop a block that was sparsely loaded from a snapshot&quot;</span>);</div>
<div class="line"><span class="lineno">  269</span>      }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>      <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = prev;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6">undo</a>();</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>      <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c">popped_blocks_to</a>( prev-&gt;block_num );</div>
<div class="line"><span class="lineno">  276</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581"><div class="ttname"><a href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">sysio::chain::db_read_mode::SPECULATIVE</a></div><div class="ttdeci">@ SPECULATIVE</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_cgraph">
<area shape="rect" title=" " alt="" coords="5,113,158,154"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908" title=" " alt="" coords="221,5,366,46"/>
<area shape="poly" title=" " alt="" coords="111,111,154,83,204,55,216,50,218,55,207,60,157,87,114,115"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="206,70,381,126"/>
<area shape="poly" title=" " alt="" coords="157,118,190,113,191,118,158,123"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="233,149,354,190"/>
<area shape="poly" title=" " alt="" coords="158,144,217,154,216,159,157,149"/>
<area shape="rect" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6" title=" " alt="" coords="223,215,364,255"/>
<area shape="poly" title=" " alt="" coords="119,152,207,199,221,206,219,211,204,204,116,157"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5952c7d18c4d936c9416cf7cbce01d87" title=" " alt="" coords="429,77,633,118"/>
<area shape="poly" title=" " alt="" coords="382,95,413,95,413,100,382,100"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a571b0d08f97b43706abab71f59d4d9f7_icgraph">
<area shape="rect" title=" " alt="" coords="851,23,1003,64"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,23,803,64"/>
<area shape="poly" title=" " alt="" coords="835,46,803,46,803,41,835,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,27,158,68"/>
<area shape="poly" title=" " alt="" coords="620,22,574,14,461,8,347,12,243,23,158,36,158,31,243,18,347,7,461,3,575,9,621,17"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,23,566,64"/>
<area shape="poly" title=" " alt="" coords="607,46,567,46,567,41,607,41"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,88,574,129"/>
<area shape="poly" title=" " alt="" coords="627,71,563,90,561,85,626,66"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,55,358,96"/>
<area shape="poly" title=" " alt="" coords="390,95,358,90,359,85,391,90"/>
<area shape="poly" title=" " alt="" coords="190,65,158,61,158,55,190,60"/>
</map>
</div>

</div>
</div>
<a id="ac2d3794f1bd0ff1bd5837d8ead15d289" name="ac2d3794f1bd0ff1bd5837d8ead15d289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d3794f1bd0ff1bd5837d8ead15d289">&#9670;&#160;</a></span>push_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::push_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>bsp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>forked_branch_cb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx_lookup</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02133">2133</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2136</span>   {</div>
<div class="line"><span class="lineno"> 2137</span>      <a class="code hl_enumeration" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ad9a22d7a8178d5b42a8750123cbfe5b1">controller::block_status::complete</a>;</div>
<div class="line"><span class="lineno"> 2138</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(!<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;it is not valid to push a block when there is a pending block&quot;</span>);</div>
<div class="line"><span class="lineno"> 2139</span> </div>
<div class="line"><span class="lineno"> 2140</span>      <span class="keyword">auto</span> reset_prod_light_validation = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([old_value=<a class="code hl_variable" href="#af3f88c130012bd7de2401b5b80fd3129">trusted_producer_light_validation</a>, <span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno"> 2141</span>         <a class="code hl_variable" href="#af3f88c130012bd7de2401b5b80fd3129">trusted_producer_light_validation</a> = old_value;</div>
<div class="line"><span class="lineno"> 2142</span>      });</div>
<div class="line"><span class="lineno"> 2143</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2144</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( bsp, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;null block&quot;</span> );</div>
<div class="line"><span class="lineno"> 2145</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; b = bsp-&gt;block;</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a> &lt; <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4">head_block_num</a>()) {</div>
<div class="line"><span class="lineno"> 2148</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Reached configured maximum block ${num}; terminating&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a>) );</div>
<div class="line"><span class="lineno"> 2149</span>            <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>();</div>
<div class="line"><span class="lineno"> 2150</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2151</span>         }</div>
<div class="line"><span class="lineno"> 2152</span> </div>
<div class="line"><span class="lineno"> 2153</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a4fc6dcda025714506dce2a3ed924a21c">pre_accepted_block</a>, b );</div>
<div class="line"><span class="lineno"> 2154</span> </div>
<div class="line"><span class="lineno"> 2155</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079">add</a>( bsp );</div>
<div class="line"><span class="lineno"> 2156</span> </div>
<div class="line"><span class="lineno"> 2157</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a1196ffe0c4905238026e4923cf24cb3e">is_trusted_producer</a>(b-&gt;producer)) {</div>
<div class="line"><span class="lineno"> 2158</span>            <a class="code hl_variable" href="#af3f88c130012bd7de2401b5b80fd3129">trusted_producer_light_validation</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2159</span>         };</div>
<div class="line"><span class="lineno"> 2160</span> </div>
<div class="line"><span class="lineno"> 2161</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a0a0659166483870bf065f4d5e671484e">accepted_block_header</a>, bsp );</div>
<div class="line"><span class="lineno"> 2162</span> </div>
<div class="line"><span class="lineno"> 2163</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> != <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a> ) {</div>
<div class="line"><span class="lineno"> 2164</span>            <a class="code hl_function" href="#af15d89f9220ba97aa5c521e643746587">maybe_switch_forks</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>(), <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, forked_branch_cb, trx_lookup );</div>
<div class="line"><span class="lineno"> 2165</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2166</span>            <a class="code hl_function" href="#ad0130874bac31eb408dd6e766084b814">log_irreversible</a>();</div>
<div class="line"><span class="lineno"> 2167</span>         }</div>
<div class="line"><span class="lineno"> 2168</span> </div>
<div class="line"><span class="lineno"> 2169</span>      } <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>( )</div>
<div class="line"><span class="lineno"> 2170</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a1196ffe0c4905238026e4923cf24cb3e"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a1196ffe0c4905238026e4923cf24cb3e">sysio::chain::controller::is_trusted_producer</a></div><div class="ttdeci">bool is_trusted_producer(const account_name &amp;producer) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03261">controller.cpp:3261</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a4fc6dcda025714506dce2a3ed924a21c"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a4fc6dcda025714506dce2a3ed924a21c">sysio::chain::controller::pre_accepted_block</a></div><div class="ttdeci">signal&lt; void(const signed_block_ptr &amp;)&gt; pre_accepted_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00327">controller.hpp:327</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8b5124e077de1a73bb193e9c72b366b6"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">sysio::chain::controller::block_status</a></div><div class="ttdeci">block_status</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00106">controller.hpp:106</a></div></div>
<div class="ttc" id="aexception_8hpp_html_ae70bfa24f5a3bc0917382b3c17fc033c"><div class="ttname"><a href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a></div><div class="ttdeci">#define FC_LOG_AND_RETHROW()</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00411">exception.hpp:411</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a5352099a52d4b3f078ec78122393ba21"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">sysio::chain::controller::config::terminate_at_block</a></div><div class="ttdeci">uint32_t terminate_at_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00088">controller.hpp:88</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a8054e1b3da405a7765275b76d6628928"><div class="ttname"><a href="#a8054e1b3da405a7765275b76d6628928">sysio::chain::controller_impl::shutdown</a></div><div class="ttdeci">std::function&lt; void()&gt; shutdown</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00230">controller.cpp:230</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_af3f88c130012bd7de2401b5b80fd3129"><div class="ttname"><a href="#af3f88c130012bd7de2401b5b80fd3129">sysio::chain::controller_impl::trusted_producer_light_validation</a></div><div class="ttdeci">bool trusted_producer_light_validation</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00246">controller.cpp:246</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ac2d3794f1bd0ff1bd5837d8ead15d289_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ac2d3794f1bd0ff1bd5837d8ead15d289_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ac2d3794f1bd0ff1bd5837d8ead15d289_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ac2d3794f1bd0ff1bd5837d8ead15d289_cgraph">
<area shape="rect" title=" " alt="" coords="5,195,158,236"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="1226,95,1347,136"/>
<area shape="poly" title=" " alt="" coords="94,193,137,138,169,109,204,87,251,68,291,56,328,51,363,51,438,56,531,61,765,61,888,65,1010,75,1211,101,1210,106,1009,81,888,70,765,66,531,66,438,62,363,56,328,57,292,62,252,73,207,91,172,114,141,142,98,197"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="1467,382,1620,423"/>
<area shape="poly" title=" " alt="" coords="89,194,106,161,131,122,164,82,204,51,249,28,289,14,325,6,361,3,437,6,531,10,1011,10,1127,6,1221,5,1265,11,1308,24,1354,47,1404,82,1436,112,1463,148,1485,186,1503,226,1527,304,1540,366,1535,367,1522,305,1498,228,1480,189,1458,150,1432,116,1401,86,1352,52,1306,29,1263,16,1221,10,1127,11,1011,16,531,16,437,12,361,8,326,11,290,19,251,33,207,55,168,86,135,125,111,164,94,196"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="220,101,372,141"/>
<area shape="poly" title=" " alt="" coords="121,192,205,152,221,145,223,150,207,157,123,197"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1196ffe0c4905238026e4923cf24cb3e" title=" " alt="" coords="220,166,372,207"/>
<area shape="poly" title=" " alt="" coords="158,203,204,196,204,202,158,208"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="456,637,609,677"/>
<area shape="poly" title=" " alt="" coords="106,235,208,337,501,624,497,628,204,340,102,239"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="1212,440,1361,466"/>
<area shape="poly" title=" " alt="" coords="159,228,1202,434,1201,439,158,233"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="679,141,849,181"/>
<area shape="poly" title=" " alt="" coords="158,215,206,216,419,216,512,208,631,190,669,183,670,188,632,196,513,214,420,221,206,221,158,220"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="206,1341,386,1381"/>
<area shape="poly" title=" " alt="" coords="89,236,291,1325,285,1326,84,237"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a125b3c8fdc58904ce8179b68d1ea4172" title=" " alt="" coords="456,141,609,181"/>
<area shape="poly" title=" " alt="" coords="372,176,441,168,442,173,373,181"/>
<area shape="poly" title=" " alt="" coords="535,636,547,577,573,498,592,455,615,414,644,376,678,343,769,280,812,257,855,240,896,227,938,219,1021,215,1106,225,1196,246,1403,311,1460,337,1508,370,1505,374,1458,342,1401,316,1195,251,1105,230,1020,220,938,224,898,232,856,245,815,262,772,285,681,347,648,379,620,417,596,458,578,500,552,579,540,637"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="680,407,848,448"/>
<area shape="poly" title=" " alt="" coords="542,635,563,598,593,551,632,502,678,459,685,454,688,458,681,463,636,506,597,554,567,601,547,638"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#aca2eca093aee072fc3f599a7c642a227" title=" " alt="" coords="699,473,829,513"/>
<area shape="poly" title=" " alt="" coords="551,635,605,581,640,551,678,524,688,518,691,523,681,529,643,555,608,585,554,638"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="688,1125,840,1165"/>
<area shape="poly" title=" " alt="" coords="546,677,749,1109,744,1112,541,679"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="1226,490,1347,531"/>
<area shape="poly" title=" " alt="" coords="547,676,567,710,597,750,635,789,657,806,680,819,727,838,768,848,787,847,806,843,826,834,847,819,868,795,877,770,877,743,873,715,869,686,868,656,875,627,895,599,929,571,967,548,1008,532,1051,519,1135,506,1210,503,1210,509,1136,511,1052,524,1010,537,969,553,932,575,899,603,880,630,873,657,874,685,878,714,882,743,882,771,873,798,850,823,829,838,808,848,788,853,767,853,726,843,678,824,654,810,631,793,593,754,563,713,542,679"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="1210,325,1362,365"/>
<area shape="poly" title=" " alt="" coords="536,636,551,584,578,517,597,482,619,449,646,419,678,394,741,360,808,337,878,322,949,314,1018,312,1084,314,1195,325,1195,331,1083,319,1018,317,949,319,879,327,810,342,743,365,681,398,650,422,624,452,601,485,583,519,556,586,541,637"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="693,899,835,940"/>
<area shape="poly" title=" " alt="" coords="545,677,565,718,594,772,634,828,681,879,695,889,691,893,678,883,629,832,590,775,560,721,540,679"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="682,538,846,579"/>
<area shape="poly" title=" " alt="" coords="578,634,678,589,695,582,697,587,680,594,580,639"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="691,603,837,644"/>
<area shape="poly" title=" " alt="" coords="608,644,675,634,676,639,609,649"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="699,669,829,709"/>
<area shape="poly" title=" " alt="" coords="609,665,684,675,683,681,609,670"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a4d0b6ecf420faffc4f00ba6af3d0af99" title=" " alt="" coords="699,734,829,775"/>
<area shape="poly" title=" " alt="" coords="581,676,680,719,697,725,695,730,678,724,579,680"/>
<area shape="poly" title=" " alt="" coords="532,636,540,557,561,442,580,378,605,314,637,253,677,198,687,189,691,193,681,202,641,256,610,316,585,380,567,443,545,558,538,637"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="703,1207,825,1248"/>
<area shape="poly" title=" " alt="" coords="537,678,544,764,564,894,583,967,608,1040,640,1111,681,1175,704,1197,700,1200,677,1179,636,1113,603,1042,578,968,559,895,538,765,532,678"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="1210,1511,1362,1552"/>
<area shape="poly" title=" " alt="" coords="817,1164,835,1177,851,1194,871,1238,877,1280,873,1321,866,1360,859,1398,859,1434,871,1470,882,1487,898,1504,918,1517,947,1526,1024,1536,1111,1538,1194,1536,1194,1541,1111,1544,1023,1541,946,1531,916,1521,895,1509,878,1490,866,1472,854,1435,854,1397,861,1359,868,1320,872,1280,866,1239,846,1197,832,1181,814,1168"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="933,433,1086,473"/>
<area shape="poly" title=" " alt="" coords="774,1123,810,1048,846,951,857,904,863,864,867,793,872,723,880,683,894,636,913,593,936,552,981,484,985,487,940,555,918,595,899,638,885,684,877,724,872,793,868,864,863,905,851,953,815,1051,779,1125"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="1170,1090,1402,1131"/>
<area shape="poly" title=" " alt="" coords="840,1137,1154,1116,1155,1122,840,1143"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="933,714,1086,755"/>
<area shape="poly" title=" " alt="" coords="777,1123,812,1067,846,995,856,961,859,930,857,874,858,848,862,821,874,794,895,766,918,749,921,753,899,770,878,797,867,823,863,848,863,874,864,930,861,962,851,997,817,1069,782,1126"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="920,779,1098,820"/>
<area shape="poly" title=" " alt="" coords="776,1123,810,1066,846,995,854,970,858,948,861,908,868,870,878,851,895,831,905,822,909,827,899,835,883,854,873,872,866,909,864,949,860,972,851,997,815,1069,781,1126"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1450,1259,1637,1285"/>
<area shape="poly" title=" " alt="" coords="820,1163,897,1187,1042,1215,1187,1236,1435,1262,1434,1267,1187,1242,1041,1220,896,1192,819,1168"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="1204,1312,1369,1338"/>
<area shape="poly" title=" " alt="" coords="813,1164,833,1177,851,1194,862,1213,868,1231,871,1265,876,1297,884,1311,898,1324,919,1334,948,1340,1022,1345,1107,1342,1188,1335,1188,1340,1107,1348,1022,1351,947,1346,917,1339,895,1329,880,1314,871,1299,866,1266,863,1232,858,1215,847,1197,830,1181,810,1168"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="897,1007,1122,1048"/>
<area shape="poly" title=" " alt="" coords="795,1122,841,1093,896,1064,925,1051,927,1056,898,1069,844,1097,798,1126"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1206,863,1366,904"/>
<area shape="poly" title=" " alt="" coords="840,1122,896,1108,961,1097,1013,1093,1063,1083,1090,1073,1121,1057,1165,1026,1204,988,1236,950,1261,915,1266,918,1241,953,1208,992,1168,1030,1123,1062,1092,1078,1064,1088,1014,1098,962,1102,897,1113,841,1127"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="1467,1015,1620,1056"/>
<area shape="poly" title=" " alt="" coords="841,1157,953,1172,1094,1181,1171,1180,1250,1173,1327,1160,1401,1140,1433,1126,1463,1107,1511,1065,1515,1069,1466,1111,1436,1130,1403,1145,1328,1166,1250,1178,1172,1185,1094,1186,952,1178,840,1162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="908,1274,1110,1315"/>
<area shape="poly" title=" " alt="" coords="807,1164,850,1194,865,1210,874,1225,883,1240,898,1254,918,1265,915,1270,895,1258,879,1243,870,1228,861,1213,847,1198,804,1168"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="933,1454,1086,1495"/>
<area shape="poly" title=" " alt="" coords="816,1164,835,1177,851,1194,868,1228,875,1261,875,1292,871,1322,868,1351,869,1380,878,1410,899,1439,921,1456,917,1460,895,1443,873,1412,864,1381,863,1351,866,1321,869,1292,870,1261,863,1230,846,1197,831,1181,813,1168"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="933,845,1086,885"/>
<area shape="poly" title=" " alt="" coords="775,1123,846,995,858,966,865,941,874,918,895,895,918,881,921,885,898,899,879,921,870,943,863,967,851,997,780,1126"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="909,1389,1110,1429"/>
<area shape="poly" title=" " alt="" coords="815,1164,834,1177,851,1194,865,1218,872,1241,873,1285,875,1327,883,1347,899,1369,909,1378,906,1382,895,1372,878,1350,870,1328,868,1285,866,1242,860,1220,847,1197,831,1181,812,1168"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="933,1619,1086,1660"/>
<area shape="poly" title=" " alt="" coords="817,1164,836,1177,851,1194,867,1223,877,1252,882,1279,884,1306,879,1358,868,1408,858,1457,856,1506,859,1530,867,1555,880,1580,899,1606,920,1623,917,1627,895,1610,875,1583,862,1557,854,1531,850,1506,853,1456,863,1407,874,1357,879,1306,877,1280,872,1253,862,1226,846,1197,832,1181,814,1168"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="933,649,1086,689"/>
<area shape="poly" title=" " alt="" coords="778,1123,813,1067,846,995,857,951,860,911,854,840,852,806,856,772,869,737,895,701,918,683,921,687,899,704,874,740,861,773,857,806,859,839,865,911,862,952,851,997,817,1069,782,1126"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="954,934,1065,959"/>
<area shape="poly" title=" " alt="" coords="773,1123,791,1089,818,1047,853,1005,895,970,916,959,938,952,940,957,918,964,898,974,857,1009,822,1050,796,1092,777,1125"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="943,1570,1076,1595"/>
<area shape="poly" title=" " alt="" coords="817,1164,836,1177,851,1194,865,1219,874,1244,881,1290,877,1335,869,1378,861,1421,860,1463,871,1505,882,1527,899,1549,913,1561,929,1569,927,1574,910,1565,895,1552,878,1530,866,1507,855,1463,856,1420,864,1377,872,1334,876,1290,869,1245,860,1221,846,1197,832,1181,814,1168"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="1456,1587,1631,1642"/>
<area shape="poly" title=" " alt="" coords="1353,1550,1442,1579,1440,1584,1351,1555"/>
<area shape="poly" title=" " alt="" coords="1025,431,1256,147,1260,150,1029,434"/>
<area shape="poly" title=" " alt="" coords="1085,437,1170,425,1318,412,1452,404,1452,409,1319,417,1170,430,1086,442"/>
<area shape="poly" title=" " alt="" coords="934,469,915,479,899,494,885,512,877,531,870,569,873,607,881,644,888,682,889,719,879,754,867,772,850,788,829,804,809,813,789,818,769,817,727,807,678,789,641,770,608,745,556,691,560,688,611,741,644,765,680,784,728,802,769,812,788,812,807,808,826,799,847,784,863,768,874,752,884,718,883,683,876,645,868,607,865,568,872,529,881,510,895,490,912,475,932,464"/>
<area shape="poly" title=" " alt="" coords="1030,473,1079,542,1105,588,1125,636,1140,691,1150,742,1159,834,1156,917,1147,994,1139,1072,1137,1154,1146,1245,1157,1295,1173,1350,1190,1392,1213,1432,1260,1498,1255,1501,1208,1435,1185,1394,1167,1351,1152,1297,1141,1246,1132,1154,1134,1072,1142,994,1151,916,1153,834,1145,743,1135,692,1119,638,1100,590,1075,545,1026,476"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="1191,591,1381,632"/>
<area shape="poly" title=" " alt="" coords="1048,472,1237,581,1235,586,1045,476"/>
<area shape="poly" title=" " alt="" coords="1086,466,1211,492,1209,497,1085,471"/>
<area shape="poly" title=" " alt="" coords="1086,450,1196,450,1196,456,1086,456"/>
<area shape="poly" title=" " alt="" coords="1055,430,1169,381,1204,368,1206,373,1171,386,1057,435"/>
<area shape="poly" title=" " alt="" coords="1351,1309,1462,1286,1464,1291,1352,1314"/>
<area shape="poly" title=" " alt="" coords="963,1007,961,997,969,988,985,983,1009,981,1036,983,1051,989,1049,994,1035,988,1009,986,986,988,972,993,966,999,968,1006"/>
<area shape="poly" title=" " alt="" coords="1331,861,1368,837,1400,806,1431,760,1458,710,1479,659,1497,607,1522,511,1535,438,1540,439,1527,512,1502,608,1484,661,1462,713,1436,763,1404,809,1371,841,1334,865"/>
<area shape="poly" title=" " alt="" coords="1324,902,1496,1005,1493,1010,1321,907"/>
<area shape="poly" title=" " alt="" coords="1086,858,1159,848,1243,828,1285,813,1327,794,1365,771,1401,743,1432,709,1458,670,1480,628,1498,585,1522,503,1535,438,1540,439,1528,504,1503,587,1485,630,1463,673,1436,712,1404,747,1368,775,1329,798,1287,817,1244,833,1160,853,1086,864"/>
<area shape="poly" title=" " alt="" coords="1085,851,1104,842,1120,830,1134,812,1142,795,1146,758,1149,720,1155,700,1168,679,1192,656,1219,638,1222,642,1195,660,1172,683,1160,703,1154,721,1151,759,1147,796,1139,815,1124,834,1106,847,1087,856"/>
<area shape="poly" title=" " alt="" coords="1085,852,1104,843,1120,830,1141,799,1150,769,1151,740,1148,709,1144,678,1143,646,1150,613,1168,578,1190,555,1216,536,1219,541,1193,559,1172,581,1155,615,1148,647,1149,678,1153,709,1156,739,1155,770,1146,802,1124,834,1107,848,1087,857"/>
<area shape="poly" title=" " alt="" coords="1085,853,1104,844,1120,830,1136,808,1147,786,1153,764,1155,742,1152,698,1142,654,1132,610,1129,566,1132,543,1139,521,1151,499,1168,476,1195,458,1198,463,1172,480,1155,502,1144,523,1137,545,1134,566,1137,609,1147,653,1157,697,1161,742,1158,765,1152,788,1141,811,1124,834,1107,848,1087,858"/>
<area shape="poly" title=" " alt="" coords="1087,875,1106,883,1124,895,1144,919,1152,943,1158,968,1172,996,1210,1040,1250,1078,1246,1082,1206,1044,1168,999,1153,970,1147,945,1139,922,1120,899,1104,888,1085,880"/>
<area shape="poly" title=" " alt="" coords="1087,881,1123,895,1209,935,1274,970,1334,1014,1404,1077,1444,1119,1479,1165,1530,1244,1525,1247,1475,1168,1440,1123,1400,1080,1330,1018,1271,975,1206,939,1121,900,1085,886"/>
<area shape="poly" title=" " alt="" coords="1087,872,1107,881,1124,895,1146,926,1158,955,1162,983,1161,1012,1158,1072,1162,1105,1172,1141,1194,1187,1219,1230,1267,1298,1263,1302,1214,1233,1189,1189,1168,1143,1157,1106,1153,1072,1156,1012,1157,984,1153,956,1142,928,1120,899,1104,886,1085,877"/>
<area shape="poly" title=" " alt="" coords="1086,868,1191,875,1191,880,1086,873"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="1216,693,1357,733"/>
<area shape="poly" title=" " alt="" coords="1085,847,1120,830,1136,815,1144,801,1153,785,1168,768,1216,738,1219,743,1172,772,1157,788,1149,803,1140,819,1124,834,1087,852"/>
<area shape="poly" title=" " alt="" coords="1110,1402,1250,1385,1327,1369,1401,1348,1460,1321,1510,1291,1513,1296,1463,1326,1403,1353,1328,1374,1251,1390,1111,1407"/>
<area shape="poly" title=" " alt="" coords="1077,1386,1169,1357,1225,1340,1226,1345,1171,1362,1079,1391"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="1216,1627,1356,1653"/>
<area shape="poly" title=" " alt="" coords="1086,1637,1200,1637,1200,1642,1086,1642"/>
<area shape="poly" title=" " alt="" coords="969,935,961,925,966,915,982,909,1009,907,1040,910,1055,917,1053,922,1038,915,1009,912,983,914,969,919,966,924,973,931"/>
<area shape="poly" title=" " alt="" coords="826,897,847,879,864,848,870,816,869,784,864,753,859,722,860,692,871,663,895,635,936,611,982,600,1030,600,1078,609,1126,624,1170,643,1243,682,1240,687,1168,648,1124,629,1077,614,1029,606,982,605,938,616,898,639,875,666,865,693,865,722,869,752,874,784,876,816,869,849,851,883,830,901"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="949,141,1070,181"/>
<area shape="poly" title=" " alt="" coords="849,158,933,158,933,164,849,164"/>
<area shape="poly" title=" " alt="" coords="302,1340,517,691,522,693,307,1341"/>
<area shape="poly" title=" " alt="" coords="341,1338,703,1170,705,1175,343,1343"/>
<area shape="poly" title=" " alt="" coords="316,1338,367,1289,432,1232,496,1188,555,1156,661,1109,710,1085,757,1054,802,1011,846,950,866,907,871,866,867,825,859,786,853,747,853,709,865,672,878,653,895,635,915,623,942,614,1013,603,1095,600,1175,602,1175,607,1095,605,1013,608,943,619,917,628,898,639,882,657,870,674,858,710,858,747,864,785,872,824,876,866,871,909,851,953,806,1014,760,1058,713,1090,663,1114,557,1161,498,1192,436,1237,371,1293,319,1342"/>
<area shape="poly" title=" " alt="" coords="294,1340,298,1227,316,1047,333,942,357,834,389,726,432,624,480,529,503,492,528,459,556,429,589,401,678,343,738,311,792,288,843,275,892,269,942,269,995,275,1123,297,1147,306,1171,316,1196,323,1195,328,1169,321,1145,311,1121,302,994,280,941,274,892,274,844,280,794,293,741,315,681,347,592,405,560,433,532,462,508,495,485,532,436,626,394,728,362,835,338,943,321,1047,304,1228,300,1341"/>
<area shape="poly" title=" " alt="" coords="320,1380,371,1423,435,1465,497,1495,562,1521,693,1565,816,1598,918,1621,917,1626,814,1604,691,1571,560,1526,495,1500,433,1470,367,1427,317,1384"/>
<area shape="poly" title=" " alt="" coords="365,1379,951,1562,950,1567,363,1384"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748" title=" " alt="" coords="434,1661,631,1701"/>
<area shape="poly" title=" " alt="" coords="304,1381,319,1433,344,1502,383,1576,408,1610,436,1640,449,1651,446,1655,432,1644,403,1613,379,1579,340,1504,314,1434,299,1383"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="456,1726,609,1767"/>
<area shape="poly" title=" " alt="" coords="302,1381,312,1445,335,1533,352,1581,374,1628,402,1672,436,1711,445,1719,441,1723,432,1715,398,1676,370,1631,347,1583,329,1535,307,1446,297,1382"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="456,1341,609,1381"/>
<area shape="poly" title=" " alt="" coords="386,1358,441,1358,441,1364,386,1364"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc" title="fetch_branch_from_impl" alt="" coords="466,1791,599,1832"/>
<area shape="poly" title=" " alt="" coords="300,1382,307,1455,327,1561,344,1619,367,1676,398,1729,436,1777,454,1790,451,1794,432,1780,393,1732,362,1678,339,1620,321,1562,302,1456,295,1382"/>
<area shape="poly" title=" " alt="" coords="551,1380,601,1442,680,1524,728,1567,781,1607,838,1642,897,1669,987,1673,1155,1671,1402,1662,1463,1645,1464,1651,1403,1668,1155,1677,986,1679,896,1674,835,1647,778,1612,725,1571,677,1528,597,1445,547,1383"/>
<area shape="poly" title=" " alt="" coords="568,1338,713,1254,715,1258,571,1343"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#aee9daa00e2698a868ad36853e58d3908" title=" " alt="" coords="691,1309,837,1349"/>
<area shape="poly" title=" " alt="" coords="609,1348,675,1339,676,1344,609,1353"/>
<area shape="rect" href="classchainbase_1_1database.html#a167bce30384de1f373ebe0c25d4d0de6" title=" " alt="" coords="693,1374,835,1415"/>
<area shape="poly" title=" " alt="" coords="609,1369,679,1380,678,1385,608,1375"/>
</map>
</div>

</div>
</div>
<a id="aae2b1bfeee1e7c1c0237f12776e75dd7" name="aae2b1bfeee1e7c1c0237f12776e75dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2b1bfeee1e7c1c0237f12776e75dd7">&#9670;&#160;</a></span>push_receipt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsysio_1_1chain_1_1transaction__receipt.html">transaction_receipt</a> &amp; sysio::chain::controller_impl::push_receipt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="prettywritertest_8cpp.html#a6283df8c4e365cc8a01727e2d7ad44bf">T</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55">transaction_receipt_header::status_enum</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>cpu_usage_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>net_usage</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds the transaction receipt to the pending block and returns it. </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01437">1437</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1438</span>                                                                                        {</div>
<div class="line"><span class="lineno"> 1439</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> net_usage_words = net_usage / 8;</div>
<div class="line"><span class="lineno"> 1440</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( net_usage_words*8 == net_usage, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;net_usage is not divisible by 8&quot;</span> );</div>
<div class="line"><span class="lineno"> 1441</span>      <span class="keyword">auto</span>&amp; receipts = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._pending_trx_receipts;</div>
<div class="line"><span class="lineno"> 1442</span>      receipts.emplace_back( trx );</div>
<div class="line"><span class="lineno"> 1443</span>      transaction_receipt&amp; <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a> = receipts.back();</div>
<div class="line"><span class="lineno"> 1444</span>      <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.cpu_usage_us         = cpu_usage_us;</div>
<div class="line"><span class="lineno"> 1445</span>      <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.net_usage_words      = net_usage_words;</div>
<div class="line"><span class="lineno"> 1446</span>      <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.status               = status;</div>
<div class="line"><span class="lineno"> 1447</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>;</div>
<div class="line"><span class="lineno"> 1448</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a5dfe17906469eaf079c180c1afb4ad94"><div class="ttname"><a href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">sysio::chain::transaction_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension transaction_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00243">exceptions.hpp:243</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aae2b1bfeee1e7c1c0237f12776e75dd7_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aae2b1bfeee1e7c1c0237f12776e75dd7_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aae2b1bfeee1e7c1c0237f12776e75dd7_icgraph" id="astructsysio_1_1chain_1_1controller__impl_aae2b1bfeee1e7c1c0237f12776e75dd7_icgraph">
<area shape="rect" title="push_scheduled_transaction" alt="" coords="1732,63,1884,103"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aa7c2a2da2eed15c5d55146b0ebd6646b" title=" " alt="" coords="1528,5,1680,46"/>
<area shape="poly" title=" " alt="" coords="1719,61,1678,49,1680,44,1720,55"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="1251,20,1477,61"/>
<area shape="poly" title=" " alt="" coords="1716,78,1524,60,1477,55,1477,50,1525,55,1716,73"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1525,120,1684,161"/>
<area shape="poly" title=" " alt="" coords="1720,111,1680,122,1678,117,1719,105"/>
<area shape="poly" title=" " alt="" coords="1513,34,1477,36,1477,31,1513,29"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,120,1203,161"/>
<area shape="poly" title=" " alt="" coords="1509,140,1477,139,1251,139,1204,140,1204,135,1251,134,1477,134,1509,134"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1288,148,1440,189"/>
<area shape="poly" title=" " alt="" coords="1510,154,1441,162,1440,157,1509,149"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,91,1003,131"/>
<area shape="poly" title=" " alt="" coords="1035,130,1003,125,1004,120,1036,124"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,148,803,189"/>
<area shape="poly" title=" " alt="" coords="1036,149,803,165,803,160,1035,144"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,205,574,246"/>
<area shape="poly" title=" " alt="" coords="1036,161,1004,167,904,187,803,203,684,216,575,224,575,218,683,210,802,198,903,182,1002,162,1035,155"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,33,789,74"/>
<area shape="poly" title=" " alt="" coords="835,89,788,77,790,71,836,84"/>
<area shape="poly" title=" " alt="" coords="836,138,792,150,791,145,835,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,91,566,131"/>
<area shape="poly" title=" " alt="" coords="835,114,567,114,567,108,835,108"/>
<area shape="poly" title=" " alt="" coords="804,50,901,57,953,65,1004,76,1052,95,1094,117,1092,122,1050,100,1002,82,952,70,901,62,804,56"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,177,158,218"/>
<area shape="poly" title=" " alt="" coords="607,176,158,197,158,191,607,171"/>
<area shape="poly" title=" " alt="" coords="616,146,566,133,568,128,617,141"/>
<area shape="poly" title=" " alt="" coords="617,196,572,207,571,202,616,190"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,205,358,246"/>
<area shape="poly" title=" " alt="" coords="391,228,359,228,359,223,391,223"/>
<area shape="poly" title=" " alt="" coords="190,216,158,211,158,206,190,210"/>
<area shape="poly" title=" " alt="" coords="1272,160,1203,152,1204,147,1273,155"/>
</map>
</div>

</div>
</div>
<a id="a43b89d301b09c599969412d7db819bd3" name="a43b89d301b09c599969412d7db819bd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b89d301b09c599969412d7db819bd3">&#9670;&#160;</a></span>push_scheduled_transaction() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> sysio::chain::controller_impl::push_scheduled_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1generated__transaction__object.html">generated_transaction_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>gto</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a></td>          <td class="paramname"><span class="paramname"><em>block_deadline</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>max_transaction_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>billed_cpu_time_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>explicit_billed_cpu_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01228">1228</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1231</span>   { <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> validating = !<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0fcc85a590581560765686050fe105a8">is_producing_block</a>();</div>
<div class="line"><span class="lineno"> 1234</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !validating || explicit_billed_cpu_time, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;validating requires explicit billing&quot;</span> );</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>      maybe_session undo_session;</div>
<div class="line"><span class="lineno"> 1237</span>      <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884">skip_db_sessions</a>() )</div>
<div class="line"><span class="lineno"> 1238</span>         undo_session = maybe_session(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno"> 1239</span> </div>
<div class="line"><span class="lineno"> 1240</span>      <span class="keyword">auto</span> gtrx = generated_transaction(gto);</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>      <span class="comment">// remove the generated transaction object after making a copy</span></div>
<div class="line"><span class="lineno"> 1243</span>      <span class="comment">// this will ensure that anything which affects the GTO multi-index-container will not invalidate</span></div>
<div class="line"><span class="lineno"> 1244</span>      <span class="comment">// data we need to successfully retire this transaction.</span></div>
<div class="line"><span class="lineno"> 1245</span>      <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1246</span>      <span class="comment">// IF the transaction FAILs in a subjective way, `undo_session` should expire without being squashed</span></div>
<div class="line"><span class="lineno"> 1247</span>      <span class="comment">// resulting in the GTO being restored and available for a future block to retire.</span></div>
<div class="line"><span class="lineno"> 1248</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> trx_removal_ram_delta = <a class="code hl_function" href="#a1dac6da3cb5899f6bcd62b9012c75e43">remove_scheduled_transaction</a>(gto);</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>      <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;const char*&gt;</a> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a>( gtrx.packed_trx.data(), gtrx.packed_trx.size() );</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( gtrx.delay_until &lt;= <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;this transaction isn&#39;t ready&quot;</span>,</div>
<div class="line"><span class="lineno"> 1253</span>                 (<span class="stringliteral">&quot;gtrx.delay_until&quot;</span>,gtrx.delay_until)(<span class="stringliteral">&quot;pbt&quot;</span>,<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>())          );</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>      signed_transaction dtrx;</div>
<div class="line"><span class="lineno"> 1256</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>(ds,<span class="keyword">static_cast&lt;</span>transaction&amp;<span class="keyword">&gt;</span>(dtrx) );</div>
<div class="line"><span class="lineno"> 1257</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> trx =</div>
<div class="line"><span class="lineno"> 1258</span>            <a class="code hl_function" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b">transaction_metadata::create_no_recover_keys</a>( std::make_shared&lt;packed_transaction&gt;( std::move(dtrx)  ),</div>
<div class="line"><span class="lineno"> 1259</span>                                                          <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053eda638a6d925c422c868b28b9562498ea1d">transaction_metadata::trx_type::scheduled</a> );</div>
<div class="line"><span class="lineno"> 1260</span>      trx-&gt;accepted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> trace;</div>
<div class="line"><span class="lineno"> 1263</span>      <span class="keywordflow">if</span>( gtrx.expiration &lt; <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>() ) {</div>
<div class="line"><span class="lineno"> 1264</span>         trace = std::make_shared&lt;transaction_trace&gt;();</div>
<div class="line"><span class="lineno"> 1265</span>         trace-&gt;id = gtrx.trx_id;</div>
<div class="line"><span class="lineno"> 1266</span>         trace-&gt;block_num = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4">head_block_num</a>() + 1;</div>
<div class="line"><span class="lineno"> 1267</span>         trace-&gt;block_time = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>();</div>
<div class="line"><span class="lineno"> 1268</span>         trace-&gt;producer_block_id = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a8ad92bdf81057887fdc4b732cb864bc4">pending_producer_block_id</a>();</div>
<div class="line"><span class="lineno"> 1269</span>         trace-&gt;scheduled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1270</span>         trace-&gt;receipt = <a class="code hl_function" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a>( gtrx.trx_id, <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55ac9a3d403c49bf068d1f8f07e20df72b5">transaction_receipt::expired</a>, billed_cpu_time_us, 0 ); <span class="comment">// expire the transaction</span></div>
<div class="line"><span class="lineno"> 1271</span>         trace-&gt;account_ram_delta = account_delta( gtrx.payer, trx_removal_ram_delta );</div>
<div class="line"><span class="lineno"> 1272</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx );</div>
<div class="line"><span class="lineno"> 1273</span>         <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1274</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()) );</div>
<div class="line"><span class="lineno"> 1275</span>         undo_session.squash();</div>
<div class="line"><span class="lineno"> 1276</span>         <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1277</span>      }</div>
<div class="line"><span class="lineno"> 1278</span> </div>
<div class="line"><span class="lineno"> 1279</span>      <span class="keyword">auto</span> reset_in_trx_requiring_checks = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([old_value=<a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a>,<span class="keyword">this</span>](){</div>
<div class="line"><span class="lineno"> 1280</span>         <a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a> = old_value;</div>
<div class="line"><span class="lineno"> 1281</span>      });</div>
<div class="line"><span class="lineno"> 1282</span>      <a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> cpu_time_to_bill_us = billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>      transaction_checktime_timer trx_timer(<a class="code hl_variable" href="#ad3c19aea29c2fbb28ca7120d591ba088">timer</a>);</div>
<div class="line"><span class="lineno"> 1287</span>      transaction_context trx_context( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>, *trx-&gt;packed_trx(), std::move(trx_timer) );</div>
<div class="line"><span class="lineno"> 1288</span>      trx_context.leeway =  <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>(0); <span class="comment">// avoid stealing cpu resource</span></div>
<div class="line"><span class="lineno"> 1289</span>      trx_context.block_deadline = block_deadline;</div>
<div class="line"><span class="lineno"> 1290</span>      trx_context.max_transaction_time_subjective = max_transaction_time;</div>
<div class="line"><span class="lineno"> 1291</span>      trx_context.explicit_billed_cpu_time = explicit_billed_cpu_time;</div>
<div class="line"><span class="lineno"> 1292</span>      trx_context.billed_cpu_time_us = billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1293</span>      trx_context.enforce_whiteblacklist = gtrx.sender.empty() ? true : !<a class="code hl_function" href="#aea41b3020ee2994f7a15980fcbf9b735">sender_avoids_whitelist_blacklist_enforcement</a>( gtrx.sender );</div>
<div class="line"><span class="lineno"> 1294</span>      trace = trx_context.trace;</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>      <span class="keyword">auto</span> handle_exception = [&amp;](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e)</div>
<div class="line"><span class="lineno"> 1297</span>      {</div>
<div class="line"><span class="lineno"> 1298</span>         cpu_time_to_bill_us = trx_context.update_billed_cpu_time( <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() );</div>
<div class="line"><span class="lineno"> 1299</span>         trace-&gt;error_code = <a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6">controller::convert_exception_to_error_code</a>( e );</div>
<div class="line"><span class="lineno"> 1300</span>         trace-&gt;except = e;</div>
<div class="line"><span class="lineno"> 1301</span>         trace-&gt;except_ptr = std::current_exception();</div>
<div class="line"><span class="lineno"> 1302</span>         trace-&gt;elapsed = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() - trx_context.start;</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1305</span>            dm_logger-&gt;on_fail_deferred();</div>
<div class="line"><span class="lineno"> 1306</span>         }</div>
<div class="line"><span class="lineno"> 1307</span>      };</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1310</span>         trx_context.init_for_deferred_trx( gtrx.published );</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>         <span class="keywordflow">if</span>( trx_context.enforce_whiteblacklist &amp;&amp; <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_status == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00">controller::block_status::incomplete</a> ) {</div>
<div class="line"><span class="lineno"> 1313</span>            flat_set&lt;account_name&gt; actors;</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; act : trx-&gt;packed_trx()-&gt;get_transaction().actions ) {</div>
<div class="line"><span class="lineno"> 1315</span>               <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; auth : act.authorization ) {</div>
<div class="line"><span class="lineno"> 1316</span>                  actors.insert( auth.actor );</div>
<div class="line"><span class="lineno"> 1317</span>               }</div>
<div class="line"><span class="lineno"> 1318</span>            }</div>
<div class="line"><span class="lineno"> 1319</span>            <a class="code hl_function" href="#ac79d2ab18d201291e9fbd0b38044e1f1">check_actor_list</a>( actors );</div>
<div class="line"><span class="lineno"> 1320</span>         }</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>         trx_context.exec();</div>
<div class="line"><span class="lineno"> 1323</span>         trx_context.finalize(); <span class="comment">// Automatically rounds up network and CPU usage in trace and bills payers if successful</span></div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>         <span class="keyword">auto</span> restore = <a class="code hl_function" href="#a89d9e83d4de2f7aec957e54dce4a76f5">make_block_restore_point</a>();</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>         trace-&gt;receipt = <a class="code hl_function" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a>( gtrx.trx_id,</div>
<div class="line"><span class="lineno"> 1328</span>                                        <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a7a6de58f1f84063a5f85bbfb59b43608">transaction_receipt::executed</a>,</div>
<div class="line"><span class="lineno"> 1329</span>                                        trx_context.billed_cpu_time_us,</div>
<div class="line"><span class="lineno"> 1330</span>                                        trace-&gt;net_usage );</div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>         <a class="code hl_function" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02">fc::move_append</a>( std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._action_receipt_digests,</div>
<div class="line"><span class="lineno"> 1333</span>                          std::move(trx_context.executed_action_receipt_digests) );</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>         trace-&gt;account_ram_delta = account_delta( gtrx.payer, trx_removal_ram_delta );</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx );</div>
<div class="line"><span class="lineno"> 1338</span>         <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1339</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()) );</div>
<div class="line"><span class="lineno"> 1340</span> </div>
<div class="line"><span class="lineno"> 1341</span>         trx_context.squash();</div>
<div class="line"><span class="lineno"> 1342</span>         undo_session.squash();</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>         restore.cancel();</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>         <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1347</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> disallowed_transaction_extensions_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1348</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1349</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> protocol_feature_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1350</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1351</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1352</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1353</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1354</span>         <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1355</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno"> 1356</span>        handle_exception(e);</div>
<div class="line"><span class="lineno"> 1357</span>      } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno"> 1358</span>        <span class="keyword">auto</span> wrapper = <a class="code hl_function" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c">fc::std_exception_wrapper::from_current_exception</a>(e);</div>
<div class="line"><span class="lineno"> 1359</span>        handle_exception(wrapper);</div>
<div class="line"><span class="lineno"> 1360</span>      }</div>
<div class="line"><span class="lineno"> 1361</span> </div>
<div class="line"><span class="lineno"> 1362</span>      trx_context.undo();</div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>      <span class="comment">// Only subjective OR soft OR hard failure logic below:</span></div>
<div class="line"><span class="lineno"> 1365</span> </div>
<div class="line"><span class="lineno"> 1366</span>      <span class="keywordflow">if</span>( gtrx.sender != <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>() &amp;&amp; !(validating ? <a class="code hl_function" href="#ad0d5a921dd01458d1464f63b0f0121c6">failure_is_subjective</a>(*trace-&gt;except) : <a class="code hl_function" href="#ab9468e19953b5bb9ace497c98ee4ecc1">scheduled_failure_is_subjective</a>(*trace-&gt;except))) {</div>
<div class="line"><span class="lineno"> 1367</span>         <span class="comment">// Attempt error handling for the generated transaction.</span></div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>         <span class="keyword">auto</span> error_trace = <a class="code hl_function" href="#aa7c2a2da2eed15c5d55146b0ebd6646b">apply_onerror</a>( gtrx, block_deadline, max_transaction_time, trx_context.pseudo_start,</div>
<div class="line"><span class="lineno"> 1370</span>                                           cpu_time_to_bill_us, billed_cpu_time_us, explicit_billed_cpu_time,</div>
<div class="line"><span class="lineno"> 1371</span>                                           trx_context.enforce_whiteblacklist );</div>
<div class="line"><span class="lineno"> 1372</span>         error_trace-&gt;failed_dtrx_trace = trace;</div>
<div class="line"><span class="lineno"> 1373</span>         trace = error_trace;</div>
<div class="line"><span class="lineno"> 1374</span>         <span class="keywordflow">if</span>( !trace-&gt;except_ptr ) {</div>
<div class="line"><span class="lineno"> 1375</span>            trace-&gt;account_ram_delta = account_delta( gtrx.payer, trx_removal_ram_delta );</div>
<div class="line"><span class="lineno"> 1376</span>            <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx );</div>
<div class="line"><span class="lineno"> 1377</span>            <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1378</span>            <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()) );</div>
<div class="line"><span class="lineno"> 1379</span>            undo_session.squash();</div>
<div class="line"><span class="lineno"> 1380</span>            <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1381</span>         }</div>
<div class="line"><span class="lineno"> 1382</span>         trace-&gt;elapsed = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() - trx_context.start;</div>
<div class="line"><span class="lineno"> 1383</span>      }</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span>      <span class="comment">// Only subjective OR hard failure logic below:</span></div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>      <span class="comment">// subjectivity changes based on producing vs validating</span></div>
<div class="line"><span class="lineno"> 1388</span>      <span class="keywordtype">bool</span> subjective  = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1389</span>      <span class="keywordflow">if</span> (validating) {</div>
<div class="line"><span class="lineno"> 1390</span>         subjective = <a class="code hl_function" href="#ad0d5a921dd01458d1464f63b0f0121c6">failure_is_subjective</a>(*trace-&gt;except);</div>
<div class="line"><span class="lineno"> 1391</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1392</span>         subjective = <a class="code hl_function" href="#ab9468e19953b5bb9ace497c98ee4ecc1">scheduled_failure_is_subjective</a>(*trace-&gt;except);</div>
<div class="line"><span class="lineno"> 1393</span>      }</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>      <span class="keywordflow">if</span> ( !subjective ) {</div>
<div class="line"><span class="lineno"> 1396</span>         <span class="comment">// hard failure logic</span></div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>         <span class="keywordflow">if</span>( !validating ) {</div>
<div class="line"><span class="lineno"> 1399</span>            <span class="keyword">auto</span>&amp; rl = <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#add2453cf4d0208ca9f277337c9a5ed7a">get_mutable_resource_limits_manager</a>();</div>
<div class="line"><span class="lineno"> 1400</span>            rl.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#aaa7345adbf341592a81c087c50655597">update_account_usage</a>( trx_context.bill_to_accounts, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>()).<a class="code hl_variable" href="classsysio_1_1chain_1_1block__timestamp.html#a1bdb67323980085a2d4002d877b6c232">slot</a> );</div>
<div class="line"><span class="lineno"> 1401</span>            <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> account_cpu_limit = 0;</div>
<div class="line"><span class="lineno"> 1402</span>            std::tie( std::ignore, account_cpu_limit, std::ignore, std::ignore ) = trx_context.max_bandwidth_billed_accounts_can_pay( <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>            <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> limited_cpu_time_to_bill_us = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>( std::min(</div>
<div class="line"><span class="lineno"> 1405</span>                  std::min( <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a><span class="keyword">&gt;</span>(cpu_time_to_bill_us), account_cpu_limit ),</div>
<div class="line"><span class="lineno"> 1406</span>                  trx_context.initial_objective_duration_limit.count() ) );</div>
<div class="line"><span class="lineno"> 1407</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !explicit_billed_cpu_time || (cpu_time_to_bill_us == limited_cpu_time_to_bill_us),</div>
<div class="line"><span class="lineno"> 1408</span>                        <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;cpu to bill ${cpu} != limited ${limit}&quot;</span>, (<span class="stringliteral">&quot;cpu&quot;</span>, cpu_time_to_bill_us)(<span class="stringliteral">&quot;limit&quot;</span>, limited_cpu_time_to_bill_us) );</div>
<div class="line"><span class="lineno"> 1409</span>            cpu_time_to_bill_us = limited_cpu_time_to_bill_us;</div>
<div class="line"><span class="lineno"> 1410</span>         }</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>         <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#ae6e413bd0a6e43b36deff7aacdd0bfd6">add_transaction_usage</a>( trx_context.bill_to_accounts, cpu_time_to_bill_us, 0,</div>
<div class="line"><span class="lineno"> 1413</span>                                                <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69">pending_block_time</a>()).<a class="code hl_variable" href="classsysio_1_1chain_1_1block__timestamp.html#a1bdb67323980085a2d4002d877b6c232">slot</a> ); <span class="comment">// Should never fail</span></div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>         trace-&gt;receipt = <a class="code hl_function" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a>(gtrx.trx_id, <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55ac705728ca8b5f3a44d8026e14990c463">transaction_receipt::hard_fail</a>, cpu_time_to_bill_us, 0);</div>
<div class="line"><span class="lineno"> 1416</span>         trace-&gt;account_ram_delta = account_delta( gtrx.payer, trx_removal_ram_delta );</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx );</div>
<div class="line"><span class="lineno"> 1419</span>         <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1420</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()) );</div>
<div class="line"><span class="lineno"> 1421</span> </div>
<div class="line"><span class="lineno"> 1422</span>         undo_session.squash();</div>
<div class="line"><span class="lineno"> 1423</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1424</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx );</div>
<div class="line"><span class="lineno"> 1425</span>         <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1426</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()) );</div>
<div class="line"><span class="lineno"> 1427</span>      }</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>      <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1430</span>   } <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>() } </div>
<div class="ttc" id="aclassfc_1_1datastream_html"><div class="ttname"><a href="classfc_1_1datastream.html">fc::datastream</a></div><div class="ttdef"><b>Definition</b> <a href="datastream_8hpp_source.html#l00018">datastream.hpp:18</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__timestamp_html_a1bdb67323980085a2d4002d877b6c232"><div class="ttname"><a href="classsysio_1_1chain_1_1block__timestamp.html#a1bdb67323980085a2d4002d877b6c232">sysio::chain::block_timestamp::slot</a></div><div class="ttdeci">uint32_t slot</div><div class="ttdef"><b>Definition</b> <a href="block__timestamp_8hpp_source.html#l00060">block_timestamp.hpp:60</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a063e3e3149bf8b88460900cef4b4571b"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">sysio::chain::controller::accepted_transaction</a></div><div class="ttdeci">signal&lt; void(const transaction_metadata_ptr &amp;)&gt; accepted_transaction</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00331">controller.hpp:331</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a0fcc85a590581560765686050fe105a8"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a0fcc85a590581560765686050fe105a8">sysio::chain::controller::is_producing_block</a></div><div class="ttdeci">bool is_producing_block() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03332">controller.cpp:3332</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8ad92bdf81057887fdc4b732cb864bc4"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8ad92bdf81057887fdc4b732cb864bc4">sysio::chain::controller::pending_producer_block_id</a></div><div class="ttdeci">std::optional&lt; block_id_type &gt; pending_producer_block_id() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03036">controller.cpp:3036</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00">sysio::chain::controller::block_status::incomplete</a></div><div class="ttdeci">@ incomplete</div><div class="ttdoc">this is an incomplete block (either being produced by a producer or speculatively produced by a node)</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_ac5fbe5586943483c7d167bc0088098b1"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">sysio::chain::controller::applied_transaction</a></div><div class="ttdeci">signal&lt; void(std::tuple&lt; const transaction_trace_ptr &amp;, const packed_transaction_ptr &amp; &gt;)&gt; applied_transaction</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00332">controller.hpp:332</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_ac8eea0639eeef0fc0d304f645b80d884"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884">sysio::chain::controller::skip_db_sessions</a></div><div class="ttdeci">bool skip_db_sessions() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03253">controller.cpp:3253</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_add2453cf4d0208ca9f277337c9a5ed7a"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#add2453cf4d0208ca9f277337c9a5ed7a">sysio::chain::controller::get_mutable_resource_limits_manager</a></div><div class="ttdeci">resource_limits_manager &amp; get_mutable_resource_limits_manager()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02586">controller.cpp:2586</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_aaa7345adbf341592a81c087c50655597"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#aaa7345adbf341592a81c087c50655597">sysio::chain::resource_limits::resource_limits_manager::update_account_usage</a></div><div class="ttdeci">void update_account_usage(const flat_set&lt; account_name &gt; &amp;accounts, uint32_t ordinal)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00125">resource_limits.cpp:125</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_ae6e413bd0a6e43b36deff7aacdd0bfd6"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#ae6e413bd0a6e43b36deff7aacdd0bfd6">sysio::chain::resource_limits::resource_limits_manager::add_transaction_usage</a></div><div class="ttdeci">void add_transaction_usage(const flat_set&lt; account_name &gt; &amp;accounts, uint64_t cpu_usage, uint64_t net_usage, uint32_t ordinal)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00136">resource_limits.cpp:136</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1transaction__metadata_html_a841053d8fa06ceea3cb8096625f053eda638a6d925c422c868b28b9562498ea1d"><div class="ttname"><a href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053eda638a6d925c422c868b28b9562498ea1d">sysio::chain::transaction_metadata::trx_type::scheduled</a></div><div class="ttdeci">@ scheduled</div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ac32ce8e75243f2b3f76aff0c1984f11b"><div class="ttname"><a href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">sysio::chain::account_name</a></div><div class="ttdeci">name account_name</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00120">types.hpp:120</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a1dac6da3cb5899f6bcd62b9012c75e43"><div class="ttname"><a href="#a1dac6da3cb5899f6bcd62b9012c75e43">sysio::chain::controller_impl::remove_scheduled_transaction</a></div><div class="ttdeci">int64_t remove_scheduled_transaction(const generated_transaction_object &amp;gto)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01180">controller.cpp:1180</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a8cdd409341efde24915eadc5f25a51f9"><div class="ttname"><a href="#a8cdd409341efde24915eadc5f25a51f9">sysio::chain::controller_impl::dmlog_applied_transaction</a></div><div class="ttdeci">void dmlog_applied_transaction(const transaction_trace_ptr &amp;t)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00389">controller.cpp:389</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_aa7c2a2da2eed15c5d55146b0ebd6646b"><div class="ttname"><a href="#aa7c2a2da2eed15c5d55146b0ebd6646b">sysio::chain::controller_impl::apply_onerror</a></div><div class="ttdeci">transaction_trace_ptr apply_onerror(const generated_transaction &amp;gtrx, fc::time_point block_deadline, fc::microseconds max_transaction_time, fc::time_point start, uint32_t &amp;cpu_time_to_bill_us, uint32_t billed_cpu_time_us, bool explicit_billed_cpu_time=false, bool enforce_whiteblacklist=true)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01102">controller.cpp:1102</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab02dbb970f5b16869e123b77eb090e9b"><div class="ttname"><a href="#ab02dbb970f5b16869e123b77eb090e9b">sysio::chain::controller_impl::in_trx_requiring_checks</a></div><div class="ttdeci">bool in_trx_requiring_checks</div><div class="ttdoc">if true, checks that are normally skipped on replay (e.g. auth checks) cannot be skipped</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00244">controller.cpp:244</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab9468e19953b5bb9ace497c98ee4ecc1"><div class="ttname"><a href="#ab9468e19953b5bb9ace497c98ee4ecc1">sysio::chain::controller_impl::scheduled_failure_is_subjective</a></div><div class="ttdeci">bool scheduled_failure_is_subjective(const fc::exception &amp;e) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01212">controller.cpp:1212</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ac79d2ab18d201291e9fbd0b38044e1f1"><div class="ttname"><a href="#ac79d2ab18d201291e9fbd0b38044e1f1">sysio::chain::controller_impl::check_actor_list</a></div><div class="ttdeci">void check_actor_list(const flat_set&lt; account_name &gt; &amp;actors) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02407">controller.cpp:2407</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ad0d5a921dd01458d1464f63b0f0121c6"><div class="ttname"><a href="#ad0d5a921dd01458d1464f63b0f0121c6">sysio::chain::controller_impl::failure_is_subjective</a></div><div class="ttdeci">bool failure_is_subjective(const fc::exception &amp;e) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l01193">controller.cpp:1193</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_aea41b3020ee2994f7a15980fcbf9b735"><div class="ttname"><a href="#aea41b3020ee2994f7a15980fcbf9b735">sysio::chain::controller_impl::sender_avoids_whitelist_blacklist_enforcement</a></div><div class="ttdeci">bool sender_avoids_whitelist_blacklist_enforcement(account_name sender) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02397">controller.cpp:2397</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction__receipt__header_html_a2bb00bac16048e6f624c2ded867ebf55a7a6de58f1f84063a5f85bbfb59b43608"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a7a6de58f1f84063a5f85bbfb59b43608">sysio::chain::transaction_receipt_header::executed</a></div><div class="ttdeci">@ executed</div><div class="ttdoc">succeed, no error handler executed</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00014">block.hpp:14</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction__receipt__header_html_a2bb00bac16048e6f624c2ded867ebf55ac9a3d403c49bf068d1f8f07e20df72b5"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55ac9a3d403c49bf068d1f8f07e20df72b5">sysio::chain::transaction_receipt_header::expired</a></div><div class="ttdeci">@ expired</div><div class="ttdoc">transaction expired and storage space refuned to user</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00019">block.hpp:18</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a43b89d301b09c599969412d7db819bd3_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a43b89d301b09c599969412d7db819bd3_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a43b89d301b09c599969412d7db819bd3_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a43b89d301b09c599969412d7db819bd3_cgraph">
<area shape="rect" title=" " alt="" coords="5,1404,231,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#ae6e413bd0a6e43b36deff7aacdd0bfd6" title=" " alt="" coords="285,46,505,102"/>
<area shape="poly" title=" " alt="" coords="117,1404,120,1172,127,992,139,793,158,589,186,400,204,316,225,241,249,178,277,129,297,109,301,112,281,133,254,181,230,243,210,317,192,401,164,590,144,793,132,993,125,1172,122,1404"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aa7c2a2da2eed15c5d55146b0ebd6646b" title=" " alt="" coords="319,864,471,905"/>
<area shape="poly" title=" " alt="" coords="120,1403,135,1329,165,1220,186,1159,211,1096,241,1036,277,979,309,942,346,912,349,916,313,946,281,982,246,1038,216,1099,191,1161,170,1221,141,1330,125,1404"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6" title=" " alt="" coords="588,325,742,380"/>
<area shape="poly" title=" " alt="" coords="118,1403,131,1237,159,978,181,840,207,713,239,607,257,565,277,532,306,498,341,469,378,443,418,421,499,388,573,367,574,372,500,393,420,426,381,448,344,473,310,502,281,535,262,567,244,609,212,715,186,841,165,978,136,1238,123,1404"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a300b3d2c25e7de11562c579c41f43dda" title=" " alt="" coords="584,569,747,610"/>
<area shape="poly" title=" " alt="" coords="118,1403,133,1263,163,1052,185,942,211,840,241,757,258,725,277,700,307,672,342,650,379,631,418,617,496,598,568,589,569,594,497,603,419,622,381,636,344,654,311,676,281,703,263,727,246,759,216,842,190,943,169,1053,138,1264,124,1404"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="848,446,980,472"/>
<area shape="poly" title=" " alt="" coords="117,1404,122,1207,130,1058,143,894,163,728,191,575,208,507,228,448,251,399,277,361,332,306,388,264,445,237,505,222,566,220,631,229,700,250,773,281,796,294,818,312,855,352,883,395,903,431,898,433,879,397,851,355,814,316,793,299,770,285,698,255,630,234,566,225,505,227,447,242,391,269,335,310,281,365,256,401,233,450,214,509,196,576,168,729,149,895,135,1059,128,1208,122,1404"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a2f8dc57cb2e3562de132326b0d06e15d" title=" " alt="" coords="832,497,996,552"/>
<area shape="poly" title=" " alt="" coords="117,1403,127,1222,138,1085,153,935,174,783,201,642,235,524,255,477,277,441,314,407,371,372,440,341,516,316,593,297,666,288,728,292,753,299,773,310,792,330,801,350,803,372,802,394,801,439,807,461,821,483,823,485,819,488,817,486,802,463,796,439,797,394,798,372,796,352,787,333,770,314,751,304,727,297,666,294,594,302,518,321,442,346,373,377,317,411,281,445,259,480,240,526,206,643,180,784,159,935,143,1086,133,1222,123,1404"/>
<area shape="rect" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c" title=" " alt="" coords="578,404,752,445"/>
<area shape="poly" title=" " alt="" coords="119,1403,134,1253,166,1024,188,903,214,790,243,696,259,659,276,629,305,595,339,564,375,537,414,513,492,474,565,447,567,452,494,479,416,517,378,541,342,568,309,598,281,633,264,661,248,698,219,792,193,904,171,1024,140,1254,124,1404"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="570,1623,760,1663"/>
<area shape="poly" title=" " alt="" coords="129,1444,148,1490,179,1548,223,1605,250,1629,280,1649,316,1664,354,1674,393,1680,432,1681,509,1677,577,1665,578,1670,510,1682,432,1687,392,1685,353,1679,314,1669,277,1653,247,1633,219,1608,175,1550,143,1492,124,1446"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="838,921,990,962"/>
<area shape="poly" title=" " alt="" coords="124,1402,144,1357,176,1301,220,1244,247,1220,277,1201,310,1187,339,1179,365,1177,391,1180,445,1190,511,1200,559,1208,622,1219,672,1232,695,1234,718,1232,743,1224,770,1209,785,1196,794,1182,801,1153,804,1118,817,1079,851,1022,885,973,890,976,855,1025,822,1081,810,1120,806,1154,799,1184,789,1199,773,1213,745,1229,719,1238,695,1239,671,1237,620,1224,559,1214,511,1206,444,1195,390,1185,365,1183,340,1185,312,1192,280,1205,250,1224,224,1248,180,1303,149,1360,129,1404"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="838,1713,990,1754"/>
<area shape="poly" title=" " alt="" coords="124,1445,136,1510,162,1600,182,1647,208,1691,241,1731,280,1763,322,1780,379,1788,449,1790,526,1787,685,1770,822,1748,823,1753,686,1775,526,1792,449,1795,379,1793,320,1785,277,1768,237,1735,204,1694,177,1649,157,1602,130,1511,119,1445"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a89d9e83d4de2f7aec957e54dce4a76f5" title=" " alt="" coords="559,1388,771,1429"/>
<area shape="poly" title=" " alt="" coords="208,1443,279,1454,395,1463,446,1462,511,1454,554,1444,596,1432,598,1437,556,1450,511,1459,446,1467,395,1469,278,1459,207,1448"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="839,1366,989,1392"/>
<area shape="poly" title=" " alt="" coords="131,1402,155,1372,189,1336,230,1301,278,1275,342,1254,395,1246,449,1253,512,1275,528,1286,538,1299,546,1312,560,1323,608,1339,675,1352,824,1369,823,1375,674,1357,606,1344,558,1328,542,1316,533,1302,525,1290,510,1280,447,1258,395,1251,343,1259,280,1280,233,1306,193,1339,159,1375,136,1405"/>
<area shape="rect" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02" title=" " alt="" coords="604,1044,726,1069"/>
<area shape="poly" title=" " alt="" coords="119,1403,130,1336,157,1244,177,1195,204,1148,237,1106,277,1071,315,1051,356,1036,399,1028,443,1024,526,1027,598,1037,597,1042,526,1032,443,1029,400,1033,358,1041,317,1055,280,1076,241,1110,208,1151,182,1197,162,1246,135,1337,124,1404"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aae2b1bfeee1e7c1c0237f12776e75dd7" title="push_scheduled_transaction" alt="" coords="589,1093,741,1134"/>
<area shape="poly" title=" " alt="" coords="119,1403,132,1340,159,1254,180,1210,206,1167,238,1129,277,1098,300,1089,331,1083,407,1081,493,1087,574,1097,574,1102,493,1092,407,1086,331,1088,302,1094,280,1103,242,1133,211,1170,185,1212,164,1256,137,1341,125,1404"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a558e8aff8e48deb61fae7407e10e8788" title=" " alt="" coords="584,1159,747,1199"/>
<area shape="poly" title=" " alt="" coords="121,1403,135,1345,164,1269,185,1229,210,1191,241,1157,277,1130,309,1114,338,1105,364,1102,390,1104,445,1116,512,1130,585,1151,583,1156,510,1135,444,1121,389,1110,364,1108,339,1111,311,1119,280,1135,245,1161,215,1194,190,1232,169,1271,141,1347,126,1404"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac79d2ab18d201291e9fbd0b38044e1f1" title=" " alt="" coords="317,1289,472,1330"/>
<area shape="poly" title=" " alt="" coords="153,1401,211,1370,278,1339,301,1331,303,1336,280,1344,213,1375,156,1406"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="314,1354,476,1380"/>
<area shape="poly" title=" " alt="" coords="219,1401,313,1381,315,1386,220,1406"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="279,1404,511,1445"/>
<area shape="poly" title=" " alt="" coords="231,1422,263,1422,263,1427,231,1427"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8cdd409341efde24915eadc5f25a51f9" title=" " alt="" coords="288,1713,502,1754"/>
<area shape="poly" title=" " alt="" coords="128,1444,147,1494,179,1561,223,1632,250,1664,280,1693,296,1704,293,1708,277,1697,246,1668,219,1635,174,1564,142,1496,123,1446"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="319,1519,471,1559"/>
<area shape="poly" title=" " alt="" coords="160,1443,280,1498,313,1511,312,1516,278,1503,158,1447"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a01f9fd71b2b5511311c8817a8b32c845" title=" " alt="" coords="313,713,476,754"/>
<area shape="poly" title=" " alt="" coords="119,1403,131,1312,159,1172,179,1092,206,1009,238,928,276,851,313,802,354,762,357,766,317,805,281,854,243,930,211,1011,184,1093,164,1173,136,1313,124,1404"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0d5a921dd01458d1464f63b0f0121c6" title=" " alt="" coords="576,2139,754,2179"/>
<area shape="poly" title=" " alt="" coords="122,1445,122,1650,126,1806,137,1977,156,2148,185,2305,204,2373,226,2432,251,2479,280,2513,309,2534,337,2549,364,2557,392,2559,420,2555,448,2546,510,2513,547,2481,578,2443,603,2400,622,2355,647,2266,658,2194,664,2195,652,2267,627,2356,607,2403,582,2446,551,2485,512,2517,450,2551,421,2560,392,2564,363,2562,335,2554,306,2539,277,2517,247,2482,221,2434,198,2375,180,2306,151,2149,132,1978,121,1806,116,1650,116,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#add2453cf4d0208ca9f277337c9a5ed7a" title=" " alt="" coords="586,1829,744,1884"/>
<area shape="poly" title=" " alt="" coords="124,1445,133,1516,158,1616,179,1669,205,1721,239,1768,280,1808,301,1819,330,1828,405,1842,490,1849,572,1853,571,1858,490,1855,404,1847,329,1833,299,1824,277,1812,235,1772,201,1724,174,1672,153,1618,128,1517,118,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a03f76febe2160f0f23a5f60dae262184" title=" " alt="" coords="568,1273,762,1314"/>
<area shape="poly" title=" " alt="" coords="127,1402,148,1363,181,1315,224,1268,250,1247,278,1231,340,1210,367,1206,392,1207,446,1216,512,1231,537,1240,560,1253,592,1265,590,1270,558,1257,534,1245,510,1236,445,1221,392,1212,367,1211,341,1215,280,1236,253,1252,228,1271,185,1318,152,1366,131,1405"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0fcc85a590581560765686050fe105a8" title=" " alt="" coords="589,1995,741,2035"/>
<area shape="poly" title=" " alt="" coords="124,1445,140,1563,172,1736,193,1824,219,1904,248,1968,264,1992,280,2009,314,2030,352,2044,392,2053,432,2056,513,2051,584,2037,585,2042,513,2056,432,2061,391,2058,350,2049,312,2035,277,2013,259,1995,243,1971,214,1906,188,1826,167,1737,135,1564,119,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#ad525fafe1ffad93dc767bf2b5b9ea0cc" title=" " alt="" coords="308,1879,482,1935"/>
<area shape="poly" title=" " alt="" coords="124,1445,134,1521,160,1631,180,1691,207,1751,240,1808,281,1858,296,1872,293,1876,277,1862,236,1811,202,1754,175,1693,155,1633,129,1522,118,1446"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a8ad92bdf81057887fdc4b732cb864bc4" title=" " alt="" coords="302,1959,488,1999"/>
<area shape="poly" title=" " alt="" coords="122,1445,126,1535,133,1599,146,1670,165,1744,193,1817,231,1886,254,1917,281,1945,290,1953,286,1957,277,1949,250,1920,227,1888,189,1819,160,1746,141,1671,128,1600,120,1536,116,1445"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1dac6da3cb5899f6bcd62b9012c75e43" title=" " alt="" coords="310,1583,480,1639"/>
<area shape="poly" title=" " alt="" coords="139,1443,198,1505,237,1539,280,1569,297,1578,294,1582,277,1573,234,1543,194,1509,135,1447"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ab9468e19953b5bb9ace497c98ee4ecc1" title=" " alt="" coords="314,2074,476,2130"/>
<area shape="poly" title=" " alt="" coords="125,1445,143,1568,177,1750,198,1845,223,1932,251,2004,266,2032,281,2053,302,2071,299,2075,277,2057,261,2035,246,2006,218,1934,193,1846,171,1751,138,1568,119,1445"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aea41b3020ee2994f7a15980fcbf9b735" title=" " alt="" coords="295,2154,494,2210"/>
<area shape="poly" title=" " alt="" coords="124,1445,139,1583,170,1792,192,1901,217,2001,247,2084,263,2116,281,2140,285,2145,281,2148,277,2143,259,2119,242,2086,212,2003,187,1902,165,1793,134,1584,119,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884" title=" " alt="" coords="319,2257,471,2298"/>
<area shape="poly" title=" " alt="" coords="124,1445,138,1596,169,1827,191,1949,216,2062,246,2155,263,2192,281,2220,296,2235,314,2248,310,2252,292,2239,277,2223,258,2194,241,2157,211,2063,185,1950,164,1828,133,1596,118,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1maybe__session.html#a1e5c5b89d2b1fac7f982ede7f0b1b545" title=" " alt="" coords="326,2323,464,2363"/>
<area shape="poly" title=" " alt="" coords="123,1445,133,1612,144,1736,159,1872,180,2009,206,2134,222,2190,240,2238,259,2278,281,2308,295,2320,312,2329,310,2334,292,2324,277,2311,255,2281,235,2240,217,2191,201,2136,174,2010,154,1873,138,1736,128,1612,118,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5631f6c990c61c078e0de6f0e53171be" title=" " alt="" coords="313,2388,476,2429"/>
<area shape="poly" title=" " alt="" coords="123,1445,131,1623,141,1756,155,1903,176,2050,203,2186,219,2246,238,2298,258,2341,281,2373,301,2389,298,2393,277,2377,253,2343,233,2300,214,2247,198,2187,170,2051,150,1904,135,1757,126,1624,117,1445"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="339,2477,450,2503"/>
<area shape="poly" title=" " alt="" coords="123,1445,131,1632,141,1774,156,1930,176,2087,203,2234,220,2298,238,2355,258,2402,281,2439,301,2457,326,2471,324,2476,298,2462,277,2442,254,2405,233,2357,215,2300,198,2235,171,2088,151,1930,136,1774,126,1633,117,1445"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#aaa7345adbf341592a81c087c50655597" title=" " alt="" coords="285,143,505,199"/>
<area shape="poly" title=" " alt="" coords="117,1403,120,1185,127,1016,140,830,159,641,187,465,205,387,226,318,250,260,277,216,285,207,289,211,281,219,254,263,231,320,210,388,193,466,165,641,145,830,133,1017,126,1185,122,1404"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="830,44,998,69"/>
<area shape="poly" title=" " alt="" coords="460,43,508,26,558,14,618,5,665,3,772,14,819,23,862,36,861,41,817,28,771,19,665,8,619,10,560,19,509,31,462,48"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="568,29,763,84"/>
<area shape="poly" title=" " alt="" coords="505,64,552,61,552,66,506,69"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="594,108,736,149"/>
<area shape="poly" title=" " alt="" coords="506,93,580,108,578,114,505,99"/>
<area shape="poly" title=" " alt="" coords="763,54,815,54,815,59,763,59"/>
<area shape="poly" title=" " alt="" coords="423,861,469,820,491,794,509,765,527,711,532,662,528,616,521,572,515,529,515,485,528,439,557,391,573,376,577,379,561,394,533,441,521,485,520,528,526,571,533,616,537,662,532,712,513,767,495,797,473,824,427,865"/>
<area shape="poly" title=" " alt="" coords="418,861,463,818,509,764,523,739,532,717,540,696,557,671,586,642,616,617,620,621,589,646,561,674,545,698,537,719,528,741,513,767,467,822,422,865"/>
<area shape="rect" href="structsysio_1_1chain_1_1packed__transaction.html#ad193d26eb97cfd5b3f7d8b957eaa35a2" title=" " alt="" coords="819,741,1009,782"/>
<area shape="poly" title=" " alt="" coords="420,861,481,821,519,800,558,784,620,769,684,760,803,754,804,759,685,765,621,774,560,790,521,805,484,825,423,866"/>
<area shape="poly" title=" " alt="" coords="422,862,468,820,490,793,509,764,522,728,526,694,521,630,519,600,521,569,533,539,557,509,577,496,604,486,675,471,756,462,832,458,832,463,756,467,676,476,606,491,579,501,561,513,538,542,526,571,524,600,526,630,532,694,527,729,513,767,494,797,472,824,426,866"/>
<area shape="poly" title=" " alt="" coords="422,861,467,820,490,793,509,764,521,735,525,707,523,654,522,629,525,604,536,580,557,556,585,535,617,520,650,509,684,502,753,498,817,503,817,508,753,504,685,508,651,514,619,525,588,540,561,560,541,583,530,606,527,629,528,654,530,707,526,736,513,767,494,796,471,823,426,865"/>
<area shape="poly" title=" " alt="" coords="423,862,468,820,490,794,509,765,524,721,529,682,527,644,523,608,519,573,521,537,532,500,557,461,566,452,570,456,561,465,537,502,526,538,525,573,528,608,533,644,535,682,530,723,513,767,495,797,472,824,426,866"/>
<area shape="poly" title=" " alt="" coords="405,904,561,1439,604,1532,646,1608,641,1610,600,1534,557,1441,400,906"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="589,799,741,839"/>
<area shape="poly" title=" " alt="" coords="471,863,574,838,575,843,472,869"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5d3d1260b6f77fdc4b6a8cef3417e94c" title=" " alt="" coords="571,864,759,905"/>
<area shape="poly" title=" " alt="" coords="471,882,556,882,556,887,471,887"/>
<area shape="poly" title=" " alt="" coords="472,899,559,914,697,928,822,936,822,941,697,933,559,919,471,904"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3" title=" " alt="" coords="589,979,741,1019"/>
<area shape="poly" title=" " alt="" coords="440,903,560,958,591,970,589,975,558,963,437,908"/>
<area shape="poly" title=" " alt="" coords="402,905,418,979,448,1087,469,1147,495,1209,526,1269,561,1324,587,1353,617,1377,614,1381,584,1357,557,1327,521,1271,490,1211,464,1149,443,1088,413,980,397,906"/>
<area shape="poly" title=" " alt="" coords="425,903,513,978,535,1006,545,1018,560,1029,590,1042,588,1046,558,1033,542,1021,531,1010,509,982,421,907"/>
<area shape="poly" title=" " alt="" coords="414,904,495,1005,535,1054,561,1080,576,1088,573,1093,557,1084,531,1057,491,1009,410,907"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__header.html#a220798b433002112ac85e5545a99ec51" title=" " alt="" coords="569,684,761,725"/>
<area shape="poly" title=" " alt="" coords="414,862,474,803,515,770,558,741,581,729,584,733,560,745,518,774,478,807,417,865"/>
<area shape="poly" title=" " alt="" coords="410,904,490,1039,533,1108,561,1144,571,1151,568,1155,557,1148,529,1111,485,1042,406,906"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#ac2563020d92f69f6fe9a0b878f5a86f3" title=" " alt="" coords="823,576,1005,617"/>
<area shape="poly" title=" " alt="" coords="748,589,808,591,807,596,747,595"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4c7e83b4e4c21205b0fb9b2e4b7fb227" title=" " alt="" coords="823,641,1005,696"/>
<area shape="poly" title=" " alt="" coords="733,608,810,633,809,638,731,613"/>
<area shape="poly" title=" " alt="" coords="744,608,773,626,790,647,799,666,806,686,821,706,854,731,851,735,817,710,801,689,794,668,786,649,770,630,741,613"/>
<area shape="poly" title=" " alt="" coords="689,567,746,524,818,482,836,475,838,480,821,487,749,529,692,571"/>
<area shape="poly" title=" " alt="" coords="745,566,816,547,818,552,746,571"/>
<area shape="poly" title=" " alt="" coords="740,861,770,849,824,820,871,789,874,793,826,824,772,853,742,866"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="895,1117,933,1143"/>
<area shape="poly" title=" " alt="" coords="697,903,773,965,842,1039,895,1103,891,1106,838,1042,770,969,694,907"/>
<area shape="poly" title=" " alt="" coords="757,903,823,918,822,923,756,908"/>
<area shape="poly" title=" " alt="" coords="893,1127,870,1116,865,1110,866,1103,881,1093,914,1090,943,1093,960,1100,962,1111,949,1121,946,1117,957,1109,956,1103,942,1098,914,1096,883,1099,870,1105,870,1108,874,1112,895,1122"/>
<area shape="poly" title=" " alt="" coords="743,1008,759,1017,773,1029,791,1061,802,1104,808,1155,812,1211,815,1320,822,1404,864,1569,903,1698,898,1699,858,1570,817,1405,810,1321,807,1211,803,1156,797,1105,786,1063,769,1033,756,1021,740,1013"/>
<area shape="poly" title=" " alt="" coords="772,1393,824,1387,824,1392,772,1398"/>
<area shape="poly" title=" " alt="" coords="457,1710,510,1692,587,1666,589,1671,512,1698,459,1715"/>
<area shape="poly" title=" " alt="" coords="503,1731,822,1731,822,1736,503,1736"/>
<area shape="poly" title=" " alt="" coords="438,710,494,687,558,670,618,658,666,652,714,655,772,670,788,677,798,686,821,706,862,731,859,736,818,710,795,690,785,682,770,675,713,660,667,657,619,664,560,675,496,693,440,715"/>
<area shape="rect" href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f" title=" " alt="" coords="848,2117,980,2143"/>
<area shape="poly" title=" " alt="" coords="754,2146,832,2137,833,2142,755,2151"/>
<area shape="poly" title=" " alt="" coords="704,1271,739,1245,769,1210,789,1169,798,1132,801,1098,800,1064,799,994,804,954,817,909,849,845,884,793,889,796,853,848,822,911,809,955,804,994,806,1064,807,1098,804,1133,794,1171,774,1212,743,1248,707,1275"/>
<area shape="poly" title=" " alt="" coords="734,1270,770,1253,805,1229,837,1202,889,1152,893,1156,841,1206,808,1233,773,1257,736,1275"/>
<area shape="rect" href="classfc_1_1time__point__sec.html#ab537213a0f1caf331b0c43cee6297b3f" title=" " alt="" coords="849,1273,979,1314"/>
<area shape="poly" title=" " alt="" coords="763,1291,833,1291,833,1296,763,1296"/>
<area shape="poly" title=" " alt="" coords="482,1888,571,1871,572,1876,483,1893"/>
<area shape="poly" title=" " alt="" coords="481,1933,512,1945,607,1985,605,1990,510,1949,480,1938"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a9d7c53697f9d587b6f2e583af9f7e712" title=" " alt="" coords="589,1908,741,1949"/>
<area shape="poly" title=" " alt="" coords="483,1911,574,1918,573,1924,482,1917"/>
<area shape="poly" title=" " alt="" coords="480,1618,555,1627,554,1633,480,1624"/>
<area shape="poly" title=" " alt="" coords="477,2116,561,2134,560,2139,476,2121"/>
<area shape="poly" title=" " alt="" coords="476,2103,832,2123,832,2128,476,2109"/>
<area shape="poly" title=" " alt="" coords="344,2257,342,2247,350,2238,368,2233,395,2231,424,2233,441,2239,439,2244,423,2238,395,2236,369,2238,353,2243,347,2249,349,2256"/>
<area shape="poly" title=" " alt="" coords="351,2478,342,2468,347,2458,365,2452,395,2450,429,2453,445,2461,443,2465,428,2458,395,2456,366,2458,350,2462,347,2468,354,2475"/>
<area shape="poly" title=" " alt="" coords="506,182,567,185,635,183,704,175,770,158,805,142,837,122,888,78,891,82,840,126,807,147,772,163,705,180,635,188,567,190,505,187"/>
<area shape="poly" title=" " alt="" coords="505,151,579,139,579,144,506,156"/>
</map>
</div>

</div>
</div>
<a id="a148db3e15c5b5a5cd3fd6b42799d1152" name="a148db3e15c5b5a5cd3fd6b42799d1152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a148db3e15c5b5a5cd3fd6b42799d1152">&#9670;&#160;</a></span>push_scheduled_transaction() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> sysio::chain::controller_impl::push_scheduled_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa85a3b49b3b219d1e3840567579e7e63">transaction_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trxid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a></td>          <td class="paramname"><span class="paramname"><em>block_deadline</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>max_transaction_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>billed_cpu_time_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>explicit_billed_cpu_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01218">1218</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1221</span>   {</div>
<div class="line"><span class="lineno"> 1222</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; idx = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">get_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">generated_transaction_multi_index</a>,by_trx_id&gt;();</div>
<div class="line"><span class="lineno"> 1223</span>      <span class="keyword">auto</span> itr = idx.find( trxid );</div>
<div class="line"><span class="lineno"> 1224</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( itr != idx.end(), unknown_transaction_exception, <span class="stringliteral">&quot;unknown transaction&quot;</span> );</div>
<div class="line"><span class="lineno"> 1225</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="#a148db3e15c5b5a5cd3fd6b42799d1152">push_scheduled_transaction</a>( *itr, block_deadline, max_transaction_time, billed_cpu_time_us, explicit_billed_cpu_time );</div>
<div class="line"><span class="lineno"> 1226</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_a4d5297635dcf70be481d9b600da9bc13"><div class="ttname"><a href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">chainbase::database::get_index</a></div><div class="ttdeci">const generic_index&lt; MultiIndexType &gt; &amp; get_index() const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00425">chainbase.hpp:425</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a9e9842ee49526c2423e014a696edc602"><div class="ttname"><a href="namespacesysio_1_1chain.html#a9e9842ee49526c2423e014a696edc602">sysio::chain::generated_transaction_multi_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; generated_transaction_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, generated_transaction_object::id_type, id)&gt;, ordered_unique&lt; tag&lt; by_trx_id &gt;, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, transaction_id_type, trx_id)&gt;, ordered_unique&lt; tag&lt; by_expiration &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, time_point, expiration), &gt; &gt;, ordered_unique&lt; tag&lt; by_delay &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, time_point, delay_until), &gt; &gt;, ordered_unique&lt; tag&lt; by_sender_id &gt;, composite_key&lt; generated_transaction_object, BOOST_MULTI_INDEX_MEMBER(generated_transaction_object, account_name, sender), &gt; &gt; &gt; &gt; generated_transaction_multi_index</div><div class="ttdef"><b>Definition</b> <a href="generated__transaction__object_8hpp_source.html#l00052">generated_transaction_object.hpp:52</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,231,71"/>
<area shape="poly" title=" " alt="" coords="74,31,72,21,79,12,95,6,118,4,143,6,158,13,156,18,142,12,118,9,96,11,83,16,77,22,80,29"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="279,31,420,71"/>
<area shape="poly" title=" " alt="" coords="231,48,263,48,263,54,231,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="468,13,635,38"/>
<area shape="poly" title=" " alt="" coords="420,39,452,35,453,41,421,45"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="683,5,825,46"/>
<area shape="poly" title=" " alt="" coords="636,32,668,32,668,37,636,37"/>
<area shape="poly" title=" " alt="" coords="683,46,636,54,532,59,436,58,436,53,532,54,635,48,683,41"/>
<area shape="poly" title=" " alt="" coords="683,20,651,19,651,14,683,14"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a148db3e15c5b5a5cd3fd6b42799d1152_icgraph">
<area shape="rect" title=" " alt="" coords="1251,92,1477,133"/>
<area shape="poly" title=" " alt="" coords="1403,79,1388,73,1364,71,1341,73,1328,77,1322,83,1325,91,1319,92,1317,82,1325,73,1340,67,1364,65,1390,68,1405,74"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="af381eb0fcede18ab0ae4cddaaa9df6cd" name="af381eb0fcede18ab0ae4cddaaa9df6cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af381eb0fcede18ab0ae4cddaaa9df6cd">&#9670;&#160;</a></span>push_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> sysio::chain::controller_impl::push_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a></td>          <td class="paramname"><span class="paramname"><em>block_deadline</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a></td>          <td class="paramname"><span class="paramname"><em>max_transaction_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>billed_cpu_time_us</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>explicit_billed_cpu_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>subjective_cpu_bill_us</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the entry point for new transactions to the block state. It will check authorization and determine whether to execute it now or to delay it. Lastly it inserts a transaction receipt into the pending block. </p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01455">1455</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1461</span>   {</div>
<div class="line"><span class="lineno"> 1462</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(block_deadline != <a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a>(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>, <span class="stringliteral">&quot;deadline cannot be uninitialized&quot;</span>);</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a> trace;</div>
<div class="line"><span class="lineno"> 1465</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1466</span>         <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a> = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><span class="lineno"> 1467</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> check_auth = !<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e">skip_auth_check</a>() &amp;&amp; !trx-&gt;implicit;</div>
<div class="line"><span class="lineno"> 1468</span>         <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> sig_cpu_usage = trx-&gt;signature_cpu_usage();</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>         <span class="keywordflow">if</span>( !explicit_billed_cpu_time ) {</div>
<div class="line"><span class="lineno"> 1471</span>            <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> already_consumed_time( <a class="code hl_function" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc">SYS_PERCENT</a>(sig_cpu_usage.<a class="code hl_function" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">count</a>(), <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a681e42f55477a7b01ba14c05a76e9b18">sig_cpu_bill_pct</a>) );</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a>.time_since_epoch() &lt;  already_consumed_time ) {</div>
<div class="line"><span class="lineno"> 1474</span>               <a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a> = <a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a>();</div>
<div class="line"><span class="lineno"> 1475</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1476</span>               <a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a> -= already_consumed_time;</div>
<div class="line"><span class="lineno"> 1477</span>            }</div>
<div class="line"><span class="lineno"> 1478</span>         }</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span>         <span class="keyword">const</span> signed_transaction&amp; trn = trx-&gt;packed_trx()-&gt;get_signed_transaction();</div>
<div class="line"><span class="lineno"> 1481</span>         transaction_checktime_timer trx_timer(<a class="code hl_variable" href="#ad3c19aea29c2fbb28ca7120d591ba088">timer</a>);</div>
<div class="line"><span class="lineno"> 1482</span>         transaction_context trx_context(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>, *trx-&gt;packed_trx(), std::move(trx_timer), start, trx-&gt;read_only);</div>
<div class="line"><span class="lineno"> 1483</span>         <span class="keywordflow">if</span> ((<span class="keywordtype">bool</span>)<a class="code hl_variable" href="#ab952243b3b18aaec46cce82670687075">subjective_cpu_leeway</a> &amp;&amp; <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_status == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00">controller::block_status::incomplete</a>) {</div>
<div class="line"><span class="lineno"> 1484</span>            trx_context.leeway = *<a class="code hl_variable" href="#ab952243b3b18aaec46cce82670687075">subjective_cpu_leeway</a>;</div>
<div class="line"><span class="lineno"> 1485</span>         }</div>
<div class="line"><span class="lineno"> 1486</span>         trx_context.block_deadline = block_deadline;</div>
<div class="line"><span class="lineno"> 1487</span>         trx_context.max_transaction_time_subjective = max_transaction_time;</div>
<div class="line"><span class="lineno"> 1488</span>         trx_context.explicit_billed_cpu_time = explicit_billed_cpu_time;</div>
<div class="line"><span class="lineno"> 1489</span>         trx_context.billed_cpu_time_us = billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1490</span>         trx_context.subjective_cpu_bill_us = subjective_cpu_bill_us;</div>
<div class="line"><span class="lineno"> 1491</span>         trace = trx_context.trace;</div>
<div class="line"><span class="lineno"> 1492</span> </div>
<div class="line"><span class="lineno"> 1493</span>         <span class="keyword">auto</span> handle_exception =[&amp;](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; e)</div>
<div class="line"><span class="lineno"> 1494</span>         {</div>
<div class="line"><span class="lineno"> 1495</span>            trace-&gt;error_code = <a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6">controller::convert_exception_to_error_code</a>( e );</div>
<div class="line"><span class="lineno"> 1496</span>            trace-&gt;except = e;</div>
<div class="line"><span class="lineno"> 1497</span>            trace-&gt;except_ptr = std::current_exception();</div>
<div class="line"><span class="lineno"> 1498</span>            trace-&gt;elapsed = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() - trx_context.start;</div>
<div class="line"><span class="lineno"> 1499</span>         };</div>
<div class="line"><span class="lineno"> 1500</span> </div>
<div class="line"><span class="lineno"> 1501</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1502</span>            <span class="keywordflow">if</span>( trx-&gt;implicit ) {</div>
<div class="line"><span class="lineno"> 1503</span>               trx_context.init_for_implicit_trx();</div>
<div class="line"><span class="lineno"> 1504</span>               trx_context.enforce_whiteblacklist = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1505</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1506</span>               trx_context.init_for_input_trx( trx-&gt;packed_trx()-&gt;get_unprunable_size(),</div>
<div class="line"><span class="lineno"> 1507</span>                                               trx-&gt;packed_trx()-&gt;get_prunable_size() );</div>
<div class="line"><span class="lineno"> 1508</span>            }</div>
<div class="line"><span class="lineno"> 1509</span> </div>
<div class="line"><span class="lineno"> 1510</span>            trx_context.delay = <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(trn.delay_sec);</div>
<div class="line"><span class="lineno"> 1511</span> </div>
<div class="line"><span class="lineno"> 1512</span>            <span class="keywordflow">if</span>( check_auth ) {</div>
<div class="line"><span class="lineno"> 1513</span>               <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1">check_authorization</a>(</div>
<div class="line"><span class="lineno"> 1514</span>                       trn.actions,</div>
<div class="line"><span class="lineno"> 1515</span>                       trx-&gt;recovered_keys(),</div>
<div class="line"><span class="lineno"> 1516</span>                       {},</div>
<div class="line"><span class="lineno"> 1517</span>                       trx_context.delay,</div>
<div class="line"><span class="lineno"> 1518</span>                       [&amp;trx_context](){ trx_context.checktime(); },</div>
<div class="line"><span class="lineno"> 1519</span>                       <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1520</span>                       trx-&gt;read_only</div>
<div class="line"><span class="lineno"> 1521</span>               );</div>
<div class="line"><span class="lineno"> 1522</span>            }</div>
<div class="line"><span class="lineno"> 1523</span>            trx_context.exec();</div>
<div class="line"><span class="lineno"> 1524</span>            trx_context.finalize(); <span class="comment">// Automatically rounds up network and CPU usage in trace and bills payers if successful</span></div>
<div class="line"><span class="lineno"> 1525</span> </div>
<div class="line"><span class="lineno"> 1526</span>            <span class="keyword">auto</span> restore = <a class="code hl_function" href="#a89d9e83d4de2f7aec957e54dce4a76f5">make_block_restore_point</a>();</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>            <span class="keywordflow">if</span> (!trx-&gt;implicit) {</div>
<div class="line"><span class="lineno"> 1529</span>               <a class="code hl_enumeration" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55">transaction_receipt::status_enum</a> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = (trx_context.delay == <a class="code hl_function" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a>(0))</div>
<div class="line"><span class="lineno"> 1530</span>                                                    ? <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a7a6de58f1f84063a5f85bbfb59b43608">transaction_receipt::executed</a></div>
<div class="line"><span class="lineno"> 1531</span>                                                    : transaction_receipt::delayed;</div>
<div class="line"><span class="lineno"> 1532</span>               trace-&gt;receipt = <a class="code hl_function" href="#aae2b1bfeee1e7c1c0237f12776e75dd7">push_receipt</a>(*trx-&gt;packed_trx(), <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, trx_context.billed_cpu_time_us, trace-&gt;net_usage);</div>
<div class="line"><span class="lineno"> 1533</span>               trx-&gt;billed_cpu_time_us = trx_context.billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1534</span>               std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._pending_trx_metas.emplace_back(trx);</div>
<div class="line"><span class="lineno"> 1535</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1536</span>               transaction_receipt_header <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>;</div>
<div class="line"><span class="lineno"> 1537</span>               <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.status = <a class="code hl_enumvalue" href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55a7a6de58f1f84063a5f85bbfb59b43608">transaction_receipt::executed</a>;</div>
<div class="line"><span class="lineno"> 1538</span>               <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.cpu_usage_us = trx_context.billed_cpu_time_us;</div>
<div class="line"><span class="lineno"> 1539</span>               <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>.net_usage_words = trace-&gt;net_usage / 8;</div>
<div class="line"><span class="lineno"> 1540</span>               trace-&gt;receipt = <a class="code hl_variable" href="bn_8cpp.html#af0a5201ca8846f05f25435b41d7f39f7">r</a>;</div>
<div class="line"><span class="lineno"> 1541</span>            }</div>
<div class="line"><span class="lineno"> 1542</span> </div>
<div class="line"><span class="lineno"> 1543</span>            <a class="code hl_function" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02">fc::move_append</a>( std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._action_receipt_digests,</div>
<div class="line"><span class="lineno"> 1544</span>                             std::move(trx_context.executed_action_receipt_digests) );</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>            <span class="comment">// call the accept signal but only once for this transaction</span></div>
<div class="line"><span class="lineno"> 1547</span>            <span class="keywordflow">if</span> (!trx-&gt;read_only) {</div>
<div class="line"><span class="lineno"> 1548</span>                <span class="keywordflow">if</span> (!trx-&gt;accepted) {</div>
<div class="line"><span class="lineno"> 1549</span>                    trx-&gt;accepted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1550</span>                    <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx);</div>
<div class="line"><span class="lineno"> 1551</span>                }</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>                <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1554</span>                <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()));</div>
<div class="line"><span class="lineno"> 1555</span>            }</div>
<div class="line"><span class="lineno"> 1556</span> </div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>            <span class="keywordflow">if</span> ( (<a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> != <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">db_read_mode::SPECULATIVE</a> &amp;&amp; <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_status == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00">controller::block_status::incomplete</a>) || trx-&gt;read_only ) {</div>
<div class="line"><span class="lineno"> 1559</span>               <span class="comment">//this may happen automatically in destructor, but I prefer make it more explicit</span></div>
<div class="line"><span class="lineno"> 1560</span>               trx_context.undo();</div>
<div class="line"><span class="lineno"> 1561</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1562</span>               restore.cancel();</div>
<div class="line"><span class="lineno"> 1563</span>               trx_context.squash();</div>
<div class="line"><span class="lineno"> 1564</span>            }</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>            <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1567</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> disallowed_transaction_extensions_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1568</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1569</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> protocol_feature_bad_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1570</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1571</span>         } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1572</span>           <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1573</span>         } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1574</span>           <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1575</span>         } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e) {</div>
<div class="line"><span class="lineno"> 1576</span>           handle_exception(e);</div>
<div class="line"><span class="lineno"> 1577</span>         } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno"> 1578</span>           <span class="keyword">auto</span> wrapper = <a class="code hl_function" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c">fc::std_exception_wrapper::from_current_exception</a>(e);</div>
<div class="line"><span class="lineno"> 1579</span>           handle_exception(wrapper);</div>
<div class="line"><span class="lineno"> 1580</span>         }</div>
<div class="line"><span class="lineno"> 1581</span> </div>
<div class="line"><span class="lineno"> 1582</span>         <span class="keywordflow">if</span> (!trx-&gt;read_only) {</div>
<div class="line"><span class="lineno"> 1583</span>             <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a063e3e3149bf8b88460900cef4b4571b">accepted_transaction</a>, trx);</div>
<div class="line"><span class="lineno"> 1584</span>             <a class="code hl_function" href="#a8cdd409341efde24915eadc5f25a51f9">dmlog_applied_transaction</a>(trace);</div>
<div class="line"><span class="lineno"> 1585</span>             <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>(<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#ac5fbe5586943483c7d167bc0088098b1">applied_transaction</a>, std::tie(trace, trx-&gt;packed_trx()));</div>
<div class="line"><span class="lineno"> 1586</span>         }</div>
<div class="line"><span class="lineno"> 1587</span> </div>
<div class="line"><span class="lineno"> 1588</span>         <span class="keywordflow">return</span> trace;</div>
<div class="line"><span class="lineno"> 1589</span>      } <a class="code hl_define" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>((trace))</div>
<div class="line"><span class="lineno"> 1590</span>   } </div>
<div class="ttc" id="aclassfc_1_1microseconds_html_a20fba59ec7e1f50c6b8f2c9443cc9b92"><div class="ttname"><a href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92">fc::microseconds::count</a></div><div class="ttdeci">constexpr int64_t count() const</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00026">time.hpp:26</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a8566f4407e33eb1e4029455e4feae2f1"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1">sysio::chain::authorization_manager::check_authorization</a></div><div class="ttdeci">void check_authorization(const vector&lt; action &gt; &amp;actions, const flat_set&lt; public_key_type &gt; &amp;provided_keys, const flat_set&lt; permission_level &gt; &amp;provided_permissions=flat_set&lt; permission_level &gt;(), fc::microseconds provided_delay=fc::microseconds(0), const std::function&lt; void()&gt; &amp;checktime=std::function&lt; void()&gt;(), bool allow_unused_keys=false, bool check_but_dont_fail=false, const flat_set&lt; permission_level &gt; &amp;satisfied_authorizations=flat_set&lt; permission_level &gt;()) const</div><div class="ttdoc">Check authorizations of a vector of actions with provided keys, permission levels,...</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00471">authorization_manager.cpp:471</a></div></div>
<div class="ttc" id="anamespace_w_a_s_m_html_a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92"><div class="ttname"><a href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">WASM::SectionType::start</a></div><div class="ttdeci">@ start</div></div>
<div class="ttc" id="anamespacefc_html_a9623b8cae3f48bbed6aa1fc2afe9b174"><div class="ttname"><a href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174">fc::seconds</a></div><div class="ttdeci">constexpr microseconds seconds(int64_t s)</div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00032">time.hpp:32</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a681e42f55477a7b01ba14c05a76e9b18"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a681e42f55477a7b01ba14c05a76e9b18">sysio::chain::controller::config::sig_cpu_bill_pct</a></div><div class="ttdeci">uint32_t sig_cpu_bill_pct</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00078">controller.hpp:78</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab952243b3b18aaec46cce82670687075"><div class="ttname"><a href="#ab952243b3b18aaec46cce82670687075">sysio::chain::controller_impl::subjective_cpu_leeway</a></div><div class="ttdeci">std::optional&lt; fc::microseconds &gt; subjective_cpu_leeway</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00245">controller.cpp:245</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1transaction__receipt__header_html_a2bb00bac16048e6f624c2ded867ebf55"><div class="ttname"><a href="structsysio_1_1chain_1_1transaction__receipt__header.html#a2bb00bac16048e6f624c2ded867ebf55">sysio::chain::transaction_receipt_header::status_enum</a></div><div class="ttdeci">status_enum</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00013">block.hpp:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_cgraph" id="astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_cgraph">
<area shape="rect" title=" " alt="" coords="5,1461,165,1502"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="219,1317,421,1358"/>
<area shape="poly" title=" " alt="" coords="103,1459,149,1413,179,1389,211,1367,222,1362,224,1367,214,1372,182,1393,152,1417,106,1463"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="490,1084,652,1109"/>
<area shape="poly" title=" " alt="" coords="96,1459,142,1387,174,1344,211,1304,277,1243,333,1201,394,1166,474,1126,507,1112,509,1117,476,1131,396,1171,336,1206,280,1247,215,1308,178,1347,146,1390,100,1462"/>
<area shape="rect" href="namespacefc.html#a9623b8cae3f48bbed6aa1fc2afe9b174" title=" " alt="" coords="755,1033,844,1058"/>
<area shape="poly" title=" " alt="" coords="88,1460,102,1411,127,1345,162,1273,185,1239,211,1208,273,1151,329,1116,393,1092,474,1068,544,1053,616,1044,739,1041,739,1046,616,1050,545,1058,476,1074,394,1097,332,1121,276,1155,215,1212,189,1242,167,1276,132,1347,108,1413,94,1462"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6" title=" " alt="" coords="243,1382,396,1438"/>
<area shape="poly" title=" " alt="" coords="153,1458,227,1435,229,1440,154,1463"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8cdd409341efde24915eadc5f25a51f9" title=" " alt="" coords="213,1461,427,1502"/>
<area shape="poly" title=" " alt="" coords="165,1479,197,1479,197,1484,165,1484"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="244,1527,396,1567"/>
<area shape="poly" title=" " alt="" coords="161,1500,230,1519,229,1524,160,1505"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a01f9fd71b2b5511311c8817a8b32c845" title=" " alt="" coords="238,385,402,426"/>
<area shape="poly" title=" " alt="" coords="84,1461,86,1272,92,1130,101,973,117,814,139,666,153,600,170,542,189,493,211,455,234,432,238,436,215,458,194,495,175,543,158,601,144,667,122,814,107,973,97,1130,92,1273,89,1461"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a300b3d2c25e7de11562c579c41f43dda" title=" " alt="" coords="238,244,402,285"/>
<area shape="poly" title=" " alt="" coords="84,1461,92,1263,112,943,129,771,150,610,177,473,193,417,210,372,240,328,276,293,280,297,244,332,215,375,198,419,182,474,156,611,134,772,118,944,97,1263,90,1461"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="505,78,637,104"/>
<area shape="poly" title=" " alt="" coords="85,1461,96,1218,121,827,139,626,160,446,183,308,196,261,210,231,238,200,270,174,305,152,342,134,419,110,489,96,490,101,420,115,344,139,307,157,273,178,241,204,215,234,201,262,189,309,165,447,144,626,127,828,102,1218,90,1461"/>
<area shape="rect" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c" title=" " alt="" coords="233,1592,407,1633"/>
<area shape="poly" title=" " alt="" coords="110,1501,156,1539,214,1577,228,1583,226,1588,211,1581,153,1543,107,1505"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5d3d1260b6f77fdc4b6a8cef3417e94c" title=" " alt="" coords="226,468,414,509"/>
<area shape="poly" title=" " alt="" coords="84,1461,91,1342,110,1148,127,1035,148,916,176,796,210,681,228,636,250,592,293,520,298,523,255,595,233,638,215,683,181,798,153,917,132,1035,116,1149,96,1343,90,1461"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#adbf0d6f8a8a8d3b4544fafe24cd0a135" title=" " alt="" coords="232,693,408,734"/>
<area shape="poly" title=" " alt="" coords="89,1460,137,1281,210,1026,261,870,303,748,308,750,266,872,215,1028,142,1283,94,1461"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a89d9e83d4de2f7aec957e54dce4a76f5" title=" " alt="" coords="214,1657,426,1698"/>
<area shape="poly" title=" " alt="" coords="99,1501,143,1570,176,1609,214,1642,223,1648,220,1652,211,1646,172,1613,139,1574,95,1504"/>
<area shape="rect" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02" title=" " alt="" coords="259,1722,380,1748"/>
<area shape="poly" title=" " alt="" coords="94,1502,108,1545,132,1601,167,1659,189,1685,214,1707,245,1723,243,1728,211,1712,185,1689,163,1662,128,1604,103,1547,89,1503"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aae2b1bfeee1e7c1c0237f12776e75dd7" title="push_scheduled_transaction" alt="" coords="244,1772,396,1813"/>
<area shape="poly" title=" " alt="" coords="92,1502,104,1554,127,1623,143,1660,163,1696,186,1729,214,1758,231,1770,228,1774,211,1762,182,1733,158,1699,138,1662,122,1625,99,1555,87,1503"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="244,1837,396,1878"/>
<area shape="poly" title=" " alt="" coords="90,1502,99,1564,119,1650,135,1697,156,1742,182,1785,214,1822,231,1835,228,1839,211,1826,178,1788,151,1745,130,1699,114,1652,93,1565,85,1503"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a558e8aff8e48deb61fae7407e10e8788" title=" " alt="" coords="238,1903,402,1943"/>
<area shape="poly" title=" " alt="" coords="89,1502,94,1575,111,1678,127,1734,148,1790,177,1842,215,1888,227,1898,223,1902,211,1892,173,1845,144,1792,121,1736,106,1679,88,1575,84,1503"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="260,1968,380,1993"/>
<area shape="poly" title=" " alt="" coords="92,1502,106,1598,132,1734,149,1804,169,1867,191,1919,215,1953,229,1964,246,1971,244,1976,226,1968,211,1957,186,1921,164,1869,144,1805,127,1735,101,1599,86,1503"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5631f6c990c61c078e0de6f0e53171be" title=" " alt="" coords="238,2017,402,2058"/>
<area shape="poly" title=" " alt="" coords="91,1502,105,1607,130,1758,147,1836,167,1907,190,1965,215,2004,226,2014,223,2018,211,2007,185,1967,162,1908,142,1837,125,1759,99,1608,86,1503"/>
<area shape="poly" title=" " alt="" coords="337,1315,379,1266,425,1206,438,1183,445,1164,455,1145,473,1126,494,1113,497,1118,477,1130,459,1148,450,1166,442,1185,429,1208,383,1269,341,1319"/>
<area shape="rect" href="integration_8cpp.html#a6e9635897de7740b7389a391f613626b" title=" " alt="" coords="545,1582,597,1608"/>
<area shape="poly" title=" " alt="" coords="415,1356,429,1368,447,1393,454,1417,456,1442,454,1466,452,1490,453,1514,461,1537,477,1561,502,1579,531,1588,529,1593,499,1583,473,1565,456,1540,448,1515,447,1490,449,1466,451,1442,449,1418,442,1395,425,1371,412,1360"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="723,809,876,850"/>
<area shape="poly" title=" " alt="" coords="418,1315,425,1309,439,1293,445,1276,448,1242,451,1206,459,1188,473,1170,498,1153,522,1144,547,1142,570,1143,618,1143,641,1135,665,1120,712,1019,781,863,786,865,717,1021,669,1123,643,1140,618,1148,570,1149,547,1148,523,1150,500,1158,477,1174,463,1191,457,1207,454,1242,451,1278,443,1296,429,1313,422,1319"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="500,1184,642,1225"/>
<area shape="poly" title=" " alt="" coords="350,1315,407,1279,474,1241,499,1229,502,1233,476,1245,409,1283,353,1319"/>
<area shape="rect" href="structsysio_1_1chain_1_1canceldelay.html#a23c3d201f9917509b74001716daf254f" title=" " alt="" coords="715,1453,884,1494"/>
<area shape="poly" title=" " alt="" coords="412,1356,429,1368,440,1380,447,1394,452,1420,458,1445,465,1456,476,1466,502,1480,529,1490,588,1500,646,1501,701,1495,701,1500,646,1506,587,1505,528,1495,500,1485,474,1471,461,1460,453,1447,447,1422,442,1396,436,1383,425,1372,409,1361"/>
<area shape="rect" href="structsysio_1_1chain_1_1deleteauth.html#add712cbf63b55d0e2db2b874dca6576d" title=" " alt="" coords="720,1521,879,1562"/>
<area shape="poly" title=" " alt="" coords="414,1356,429,1368,443,1386,450,1405,452,1441,455,1476,462,1492,477,1508,502,1524,529,1537,588,1552,648,1557,704,1555,704,1560,648,1563,587,1558,527,1542,499,1529,473,1512,458,1495,450,1478,447,1442,445,1406,438,1388,425,1372,411,1361"/>
<area shape="rect" href="structsysio_1_1chain_1_1linkauth.html#a41eafdd131f5b3c8a8b7688449986f2b" title=" " alt="" coords="727,1669,872,1710"/>
<area shape="poly" title=" " alt="" coords="417,1357,429,1368,447,1393,458,1418,464,1443,466,1468,459,1518,447,1567,435,1615,432,1661,435,1683,443,1705,457,1727,477,1748,508,1767,542,1777,579,1778,618,1772,655,1761,691,1747,753,1716,755,1721,693,1752,657,1766,619,1777,580,1783,542,1782,506,1772,473,1752,453,1730,438,1708,430,1685,426,1661,430,1614,442,1566,454,1517,460,1468,459,1444,453,1420,442,1395,425,1371,413,1360"/>
<area shape="rect" href="structsysio_1_1chain_1_1unlinkauth.html#a438dbc3c8575ab1f129c0fdd5c074327" title=" " alt="" coords="720,1296,879,1337"/>
<area shape="poly" title=" " alt="" coords="421,1331,704,1318,705,1323,421,1336"/>
<area shape="rect" href="structsysio_1_1chain_1_1updateauth.html#afc31c0680242885924f64fc347780814" title=" " alt="" coords="718,1371,881,1411"/>
<area shape="poly" title=" " alt="" coords="421,1346,703,1378,702,1383,421,1351"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="484,1632,658,1673"/>
<area shape="poly" title=" " alt="" coords="416,1356,429,1368,450,1400,459,1432,459,1464,454,1495,450,1526,449,1557,457,1587,477,1619,478,1620,474,1624,473,1622,452,1590,444,1557,444,1525,449,1494,453,1463,453,1433,445,1402,425,1371,412,1360"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a6193726fcf21c9b75f460696a67b6839" title="Find the lowest authority level required for authorizer_account to authorize a message of the specifi..." alt="" coords="479,1400,663,1456"/>
<area shape="poly" title=" " alt="" coords="395,1356,428,1367,491,1392,489,1397,426,1372,393,1361"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a9935b13f160accddca2509476a2cad8b" title="authority_checker" alt="" coords="506,1697,637,1738"/>
<area shape="poly" title=" " alt="" coords="416,1357,429,1368,444,1388,454,1408,464,1448,462,1488,455,1527,447,1565,445,1604,453,1643,463,1663,477,1683,493,1697,490,1701,473,1686,458,1665,448,1645,440,1604,442,1565,449,1526,456,1487,458,1449,449,1410,440,1391,425,1371,413,1361"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="478,1813,664,1838"/>
<area shape="poly" title=" " alt="" coords="417,1356,429,1368,449,1395,462,1423,469,1450,472,1477,467,1529,454,1582,442,1634,437,1686,439,1712,446,1738,458,1765,477,1792,488,1803,485,1807,473,1795,454,1767,441,1740,434,1713,432,1686,437,1633,449,1580,462,1528,466,1477,464,1451,457,1425,444,1398,425,1371,413,1360"/>
<area shape="poly" title=" " alt="" coords="419,1314,561,1277,623,1256,666,1234,706,1197,740,1153,766,1109,784,1072,789,1074,771,1111,744,1156,710,1200,669,1239,625,1261,562,1282,420,1319"/>
<area shape="poly" title=" " alt="" coords="664,1444,700,1451,699,1456,663,1449"/>
<area shape="poly" title=" " alt="" coords="623,1454,717,1503,736,1512,734,1517,714,1508,621,1459"/>
<area shape="poly" title=" " alt="" coords="599,1455,772,1656,768,1659,595,1459"/>
<area shape="poly" title=" " alt="" coords="628,1398,741,1342,744,1346,631,1402"/>
<area shape="poly" title=" " alt="" coords="663,1411,702,1404,703,1409,664,1416"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="476,1928,666,1969"/>
<area shape="poly" title=" " alt="" coords="415,1500,429,1513,447,1539,460,1565,467,1591,470,1616,466,1666,454,1715,443,1764,439,1813,441,1838,448,1862,460,1888,477,1913,479,1916,475,1919,473,1917,455,1890,443,1864,436,1839,434,1813,438,1763,449,1714,460,1665,464,1616,462,1592,455,1567,443,1542,425,1517,411,1504"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="495,1863,647,1903"/>
<area shape="poly" title=" " alt="" coords="415,1500,429,1513,445,1535,456,1557,465,1600,462,1642,454,1683,446,1724,443,1766,452,1807,462,1828,477,1849,484,1856,480,1860,473,1853,457,1831,447,1809,438,1766,441,1724,449,1682,457,1641,459,1600,451,1559,440,1538,425,1517,411,1504"/>
<area shape="rect" href="structsysio_1_1chain_1_1packed__transaction.html#ad193d26eb97cfd5b3f7d8b957eaa35a2" title=" " alt="" coords="476,352,666,393"/>
<area shape="poly" title=" " alt="" coords="402,392,461,384,461,390,402,397"/>
<area shape="poly" title=" " alt="" coords="361,283,476,338,491,344,489,349,474,343,359,288"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#ac2563020d92f69f6fe9a0b878f5a86f3" title=" " alt="" coords="480,208,662,249"/>
<area shape="poly" title=" " alt="" coords="402,250,464,241,465,246,402,255"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4c7e83b4e4c21205b0fb9b2e4b7fb227" title=" " alt="" coords="480,128,662,184"/>
<area shape="poly" title=" " alt="" coords="367,241,474,194,487,188,489,193,476,199,369,246"/>
<area shape="poly" title=" " alt="" coords="335,242,391,179,430,144,474,114,489,107,491,111,476,119,434,148,395,182,339,246"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a2f8dc57cb2e3562de132326b0d06e15d" title=" " alt="" coords="490,272,653,328"/>
<area shape="poly" title=" " alt="" coords="402,273,474,284,474,289,402,279"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#afc8b0aff5d6f215c336a682c83badf6e" title=" " alt="" coords="723,364,876,405"/>
<area shape="poly" title=" " alt="" coords="647,247,669,258,699,279,727,303,773,350,769,354,724,307,696,283,666,263,644,252"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="729,5,870,46"/>
<area shape="poly" title=" " alt="" coords="618,75,714,47,715,53,619,80"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="729,71,870,111"/>
<area shape="poly" title=" " alt="" coords="638,88,713,88,713,94,638,94"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="733,136,866,177"/>
<area shape="poly" title=" " alt="" coords="625,102,668,114,719,129,717,134,667,119,624,107"/>
<area shape="poly" title=" " alt="" coords="655,325,669,339,694,377,707,412,712,447,711,480,706,552,709,592,718,637,749,723,783,794,778,797,745,725,713,638,703,593,701,552,706,480,706,447,702,414,689,379,665,342,652,329"/>
<area shape="poly" title=" " alt="" coords="365,465,426,435,474,409,500,397,502,402,476,413,428,440,367,470"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="552,492,590,517"/>
<area shape="poly" title=" " alt="" coords="415,492,537,500,536,505,414,497"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="723,585,876,626"/>
<area shape="poly" title=" " alt="" coords="373,465,435,446,510,433,551,431,591,432,631,439,668,453,706,476,738,507,764,540,783,571,778,574,759,543,734,511,703,480,666,457,629,444,590,438,551,436,511,438,436,452,374,470"/>
<area shape="poly" title=" " alt="" coords="550,501,530,490,527,477,541,468,571,465,597,467,613,474,616,484,607,494,603,491,611,483,609,477,596,472,571,470,543,473,532,479,534,487,553,497"/>
<area shape="poly" title=" " alt="" coords="374,690,436,672,511,659,551,657,591,659,631,666,668,679,705,702,737,732,763,764,782,794,778,797,758,768,733,736,702,706,666,684,629,671,591,664,551,663,512,665,437,678,376,695"/>
<area shape="poly" title=" " alt="" coords="330,692,399,568,440,501,473,453,500,425,528,401,531,405,503,429,477,457,444,504,404,571,335,694"/>
<area shape="poly" title=" " alt="" coords="344,691,402,647,474,602,528,579,572,568,616,555,666,527,698,502,727,472,774,416,778,419,731,476,702,506,669,532,618,560,574,573,529,584,476,607,405,652,348,695"/>
<area shape="poly" title=" " alt="" coords="332,691,387,615,427,572,474,534,505,518,536,508,537,513,507,523,476,539,431,576,391,619,336,695"/>
<area shape="poly" title=" " alt="" coords="353,690,409,661,474,635,534,621,595,612,707,603,708,609,596,617,535,626,476,640,411,666,356,695"/>
<area shape="rect" href="structsysio_1_1chain_1_1packed__transaction.html#acc706e72aa422ee3e3c02f73871609cb" title=" " alt="" coords="500,759,642,799"/>
<area shape="poly" title=" " alt="" coords="402,732,486,754,485,759,400,737"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0fcc85a590581560765686050fe105a8" title=" " alt="" coords="495,824,647,865"/>
<area shape="poly" title=" " alt="" coords="351,732,408,770,476,809,491,815,489,820,474,813,405,775,348,737"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a3c9f983e8d4aba41afbb0a473feca18f" title=" " alt="" coords="495,968,647,1009"/>
<area shape="poly" title=" " alt="" coords="331,734,351,779,382,838,424,901,449,929,477,954,484,959,481,964,473,958,445,933,419,904,377,841,346,781,326,736"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a7ecbfbb3d05a6a0b128feeb0a469878c" title="record_transaction" alt="" coords="475,888,667,944"/>
<area shape="poly" title=" " alt="" coords="338,733,395,801,434,840,477,874,483,878,480,883,473,878,430,843,391,804,334,736"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a92e84ef71388fa365bcf17a4fbcce047" title=" " alt="" coords="495,693,647,734"/>
<area shape="poly" title=" " alt="" coords="408,711,479,711,479,716,408,716"/>
<area shape="poly" title=" " alt="" coords="644,965,666,954,696,933,724,909,770,860,774,864,728,912,699,937,669,959,647,970"/>
<area shape="poly" title=" " alt="" coords="648,1005,740,1028,739,1033,647,1010"/>
<area shape="poly" title=" " alt="" coords="646,969,665,954,681,936,690,918,698,883,702,844,713,797,747,711,779,639,784,642,752,713,718,798,707,845,704,884,695,920,685,939,669,958,649,973"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="496,1993,646,2018"/>
<area shape="poly" title=" " alt="" coords="416,1696,429,1708,451,1743,460,1778,459,1812,453,1846,448,1879,447,1913,455,1946,477,1979,485,1986,482,1990,473,1982,450,1948,441,1913,442,1879,448,1845,453,1811,454,1778,447,1745,425,1711,412,1700"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_icgraph" id="astructsysio_1_1chain_1_1controller__impl_af381eb0fcede18ab0ae4cddaaa9df6cd_icgraph">
<area shape="rect" title=" " alt="" coords="1452,92,1611,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1436,112,1404,111,1251,111,1204,112,1204,107,1251,106,1404,106,1436,106"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,120,1404,161"/>
<area shape="poly" title=" " alt="" coords="1436,128,1405,132,1404,127,1436,123"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
<area shape="poly" title=" " alt="" coords="1235,130,1203,126,1204,120,1236,125"/>
</map>
</div>

</div>
</div>
<a id="ab2a0087a0d30ff324e2b0bff4a3c4e22" name="ab2a0087a0d30ff324e2b0bff4a3c4e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a0087a0d30ff324e2b0bff4a3c4e22">&#9670;&#160;</a></span>read_contract_tables_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::read_contract_tables_from_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00773">773</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  773</span>                                                                                  {</div>
<div class="line"><span class="lineno">  774</span>      snapshot-&gt;read_section(<span class="stringliteral">&quot;contract_tables&quot;</span>, [<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ) {</div>
<div class="line"><span class="lineno">  775</span>         <span class="keywordtype">bool</span> more = !section.empty();</div>
<div class="line"><span class="lineno">  776</span>         <span class="keywordflow">while</span> (more) {</div>
<div class="line"><span class="lineno">  777</span>            <span class="comment">// read the row for the table</span></div>
<div class="line"><span class="lineno">  778</span>            <a class="code hl_typedef" href="structchainbase_1_1object.html#a7c6a0efb95ee67d538a976cfa5be9df9">table_id_object::id_type</a> t_id;</div>
<div class="line"><span class="lineno">  779</span>            <a class="code hl_function" href="classsysio_1_1chain_1_1index__utils.html#a4ba170946682ddcea81d558b0ee8899a">index_utils&lt;table_id_multi_index&gt;::create</a>(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [<span class="keyword">this</span>, &amp;section, &amp;t_id](<span class="keyword">auto</span>&amp; row) {</div>
<div class="line"><span class="lineno">  780</span>               section.read_row(row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  781</span>               t_id = row.id;</div>
<div class="line"><span class="lineno">  782</span>            });</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>            <span class="comment">// read the size and data rows for each type of table</span></div>
<div class="line"><span class="lineno">  785</span>            contract_database_index_set::walk_indices([<span class="keyword">this</span>, &amp;section, &amp;t_id, &amp;more](<span class="keyword">auto</span> utils) {</div>
<div class="line"><span class="lineno">  786</span>               <span class="keyword">using </span>utils_t = <span class="keyword">decltype</span>(utils);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>               unsigned_int size;</div>
<div class="line"><span class="lineno">  789</span>               more = section.read_row(size, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>               <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx = 0; idx &lt; size.value; idx++) {</div>
<div class="line"><span class="lineno">  792</span>                  utils_t::create(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [<span class="keyword">this</span>, &amp;section, &amp;more, &amp;t_id](<span class="keyword">auto</span>&amp; row) {</div>
<div class="line"><span class="lineno">  793</span>                     row.t_id = t_id;</div>
<div class="line"><span class="lineno">  794</span>                     more = section.read_row(row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  795</span>                  });</div>
<div class="line"><span class="lineno">  796</span>               }</div>
<div class="line"><span class="lineno">  797</span>            });</div>
<div class="line"><span class="lineno">  798</span>         }</div>
<div class="line"><span class="lineno">  799</span>      });</div>
<div class="line"><span class="lineno">  800</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1index__utils_html_a4ba170946682ddcea81d558b0ee8899a"><div class="ttname"><a href="classsysio_1_1chain_1_1index__utils.html#a4ba170946682ddcea81d558b0ee8899a">sysio::chain::index_utils::create</a></div><div class="ttdeci">static void create(chainbase::database &amp;db, F cons)</div><div class="ttdef"><b>Definition</b> <a href="database__utils_8hpp_source.html#l00050">database_utils.hpp:50</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,187,61"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a4ba170946682ddcea81d558b0ee8899a" title=" " alt="" coords="235,13,365,54"/>
<area shape="poly" title=" " alt="" coords="187,30,219,30,219,36,187,36"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="413,13,554,54"/>
<area shape="poly" title=" " alt="" coords="366,30,398,30,398,36,366,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="602,13,744,54"/>
<area shape="poly" title=" " alt="" coords="555,30,587,30,587,36,555,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="792,20,959,46"/>
<area shape="poly" title=" " alt="" coords="744,30,776,30,776,36,744,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1007,13,1148,54"/>
<area shape="poly" title=" " alt="" coords="960,39,991,39,991,45,960,45"/>
<area shape="poly" title=" " alt="" coords="1007,27,975,27,975,22,1007,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1196,42,1338,83"/>
<area shape="poly" title=" " alt="" coords="1149,41,1182,47,1181,52,1148,47"/>
<area shape="poly" title=" " alt="" coords="1196,67,1148,68,1077,71,1007,68,935,53,936,48,1007,63,1077,66,1148,63,1196,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ab2a0087a0d30ff324e2b0bff4a3c4e22_icgraph">
<area shape="rect" title=" " alt="" coords="432,5,613,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a247c87d241e707c5e482c3d6d8872a7f" title=" " alt="" coords="206,13,384,54"/>
<area shape="poly" title=" " alt="" coords="417,36,384,36,384,30,417,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="a247c87d241e707c5e482c3d6d8872a7f" name="a247c87d241e707c5e482c3d6d8872a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247c87d241e707c5e482c3d6d8872a7f">&#9670;&#160;</a></span>read_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::read_from_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>blog_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>blog_end</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>load and upgrade the block header state</p>

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00853">853</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  853</span>                                                                                                          {</div>
<div class="line"><span class="lineno">  854</span>      chain_snapshot_header header;</div>
<div class="line"><span class="lineno">  855</span>      snapshot-&gt;read_section&lt;chain_snapshot_header&gt;([<span class="keyword">this</span>, &amp;header]( <span class="keyword">auto</span> &amp;section ){</div>
<div class="line"><span class="lineno">  856</span>         section.read_row(header, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  857</span>         header.validate();</div>
<div class="line"><span class="lineno">  858</span>      });</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>      { </div>
<div class="line"><span class="lineno">  861</span>         block_header_state head_header_state;</div>
<div class="line"><span class="lineno">  862</span>         <span class="keyword">using </span>v2 = legacy::snapshot_block_header_state_v2;</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>         <span class="keywordflow">if</span> (std::clamp(header.version, v2::minimum_version, v2::maximum_version) == header.version ) {</div>
<div class="line"><span class="lineno">  865</span>            snapshot-&gt;read_section&lt;block_state&gt;([<span class="keyword">this</span>, &amp;head_header_state]( <span class="keyword">auto</span> &amp;section ) {</div>
<div class="line"><span class="lineno">  866</span>               legacy::snapshot_block_header_state_v2 legacy_header_state;</div>
<div class="line"><span class="lineno">  867</span>               section.read_row(legacy_header_state, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  868</span>               head_header_state = block_header_state(std::move(legacy_header_state));</div>
<div class="line"><span class="lineno">  869</span>            });</div>
<div class="line"><span class="lineno">  870</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  871</span>            snapshot-&gt;read_section&lt;block_state&gt;([<span class="keyword">this</span>,&amp;head_header_state]( <span class="keyword">auto</span> &amp;section ){</div>
<div class="line"><span class="lineno">  872</span>               section.read_row(head_header_state, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  873</span>            });</div>
<div class="line"><span class="lineno">  874</span>         }</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>         <a class="code hl_variable" href="#afe8c6fe322a239e2f910f26a385786f0">snapshot_head_block</a> = head_header_state.block_num;</div>
<div class="line"><span class="lineno">  877</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( blog_start &lt;= (<a class="code hl_variable" href="#afe8c6fe322a239e2f910f26a385786f0">snapshot_head_block</a> + 1) &amp;&amp; <a class="code hl_variable" href="#afe8c6fe322a239e2f910f26a385786f0">snapshot_head_block</a> &lt;= blog_end,</div>
<div class="line"><span class="lineno">  878</span>                     block_log_exception,</div>
<div class="line"><span class="lineno">  879</span>                     <span class="stringliteral">&quot;Block log is provided with snapshot but does not contain the head block from the snapshot nor a block right after it&quot;</span>,</div>
<div class="line"><span class="lineno">  880</span>                     (<span class="stringliteral">&quot;snapshot_head_block&quot;</span>, <a class="code hl_variable" href="#afe8c6fe322a239e2f910f26a385786f0">snapshot_head_block</a>)</div>
<div class="line"><span class="lineno">  881</span>                     (<span class="stringliteral">&quot;block_log_first_num&quot;</span>, blog_start)</div>
<div class="line"><span class="lineno">  882</span>                     (<span class="stringliteral">&quot;block_log_last_num&quot;</span>, blog_end)</div>
<div class="line"><span class="lineno">  883</span>         );</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>         <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = std::make_shared&lt;block_state&gt;();</div>
<div class="line"><span class="lineno">  886</span>         <span class="keyword">static_cast&lt;</span>block_header_state&amp;<span class="keyword">&gt;</span>(*head) = head_header_state;</div>
<div class="line"><span class="lineno">  887</span>      }</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>      controller_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot, &amp;header]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">  890</span>         <span class="keyword">using </span>value_t = <span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type;</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>         <span class="comment">// skip the table_id_object as its inlined with contract tables section</span></div>
<div class="line"><span class="lineno">  893</span>         <span class="keywordflow">if</span> (std::is_same&lt;value_t, table_id_object&gt;::value) {</div>
<div class="line"><span class="lineno">  894</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  895</span>         }</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>         <span class="comment">// skip the database_header as it is only relevant to in-memory database</span></div>
<div class="line"><span class="lineno">  898</span>         <span class="keywordflow">if</span> (std::is_same&lt;value_t, database_header_object&gt;::value) {</div>
<div class="line"><span class="lineno">  899</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  900</span>         }</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>         <span class="comment">// special case for in-place upgrade of global_property_object</span></div>
<div class="line"><span class="lineno">  903</span>         <span class="keywordflow">if</span> (std::is_same&lt;value_t, global_property_object&gt;::value) {</div>
<div class="line"><span class="lineno">  904</span>            <span class="keyword">using </span>v2 = legacy::snapshot_global_property_object_v2;</div>
<div class="line"><span class="lineno">  905</span>            <span class="keyword">using </span>v3 = legacy::snapshot_global_property_object_v3;</div>
<div class="line"><span class="lineno">  906</span>            <span class="keyword">using </span>v4 = legacy::snapshot_global_property_object_v4;</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>            <span class="keywordflow">if</span> (std::clamp(header.version, v2::minimum_version, v2::maximum_version) == header.version ) {</div>
<div class="line"><span class="lineno">  909</span>               std::optional&lt;genesis_state&gt; genesis = <a class="code hl_function" href="#a6353a2e6b51e1b83231f41a8bcc66c47">extract_legacy_genesis_state</a>(*snapshot, header.version);</div>
<div class="line"><span class="lineno">  910</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( genesis, snapshot_exception,</div>
<div class="line"><span class="lineno">  911</span>                           <span class="stringliteral">&quot;Snapshot indicates chain_snapshot_header version 2, but does not contain a genesis_state. &quot;</span></div>
<div class="line"><span class="lineno">  912</span>                           <span class="stringliteral">&quot;It must be corrupted.&quot;</span>);</div>
<div class="line"><span class="lineno">  913</span>               snapshot-&gt;read_section&lt;global_property_object&gt;([&amp;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>=this-&gt;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>,gs_chain_id=genesis-&gt;compute_chain_id()]( <span class="keyword">auto</span> &amp;section ) {</div>
<div class="line"><span class="lineno">  914</span>                  v2 legacy_global_properties;</div>
<div class="line"><span class="lineno">  915</span>                  section.read_row(legacy_global_properties, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>                  <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;global_property_object&gt;([&amp;legacy_global_properties,&amp;gs_chain_id](<span class="keyword">auto</span>&amp; gpo ){</div>
<div class="line"><span class="lineno">  918</span>                     gpo.initalize_from(legacy_global_properties, gs_chain_id, kv_database_config{},</div>
<div class="line"><span class="lineno">  919</span>                                       <a class="code hl_variable" href="structsysio_1_1chain_1_1genesis__state.html#a3e6e5eb6e7b0107b1f105eb8a4dcca41">genesis_state::default_initial_wasm_configuration</a>);</div>
<div class="line"><span class="lineno">  920</span>                  });</div>
<div class="line"><span class="lineno">  921</span>               });</div>
<div class="line"><span class="lineno">  922</span>               <span class="keywordflow">return</span>; <span class="comment">// early out to avoid default processing</span></div>
<div class="line"><span class="lineno">  923</span>            }</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>            <span class="keywordflow">if</span> (std::clamp(header.version, v3::minimum_version, v3::maximum_version) == header.version ) {</div>
<div class="line"><span class="lineno">  926</span>               snapshot-&gt;read_section&lt;global_property_object&gt;([&amp;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>=this-&gt;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>]( <span class="keyword">auto</span> &amp;section ) {</div>
<div class="line"><span class="lineno">  927</span>                  v3 legacy_global_properties;</div>
<div class="line"><span class="lineno">  928</span>                  section.read_row(legacy_global_properties, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  929</span> </div>
<div class="line"><span class="lineno">  930</span>                  <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;global_property_object&gt;([&amp;legacy_global_properties](<span class="keyword">auto</span>&amp; gpo ){</div>
<div class="line"><span class="lineno">  931</span>                     gpo.initalize_from(legacy_global_properties, kv_database_config{},</div>
<div class="line"><span class="lineno">  932</span>                                        <a class="code hl_variable" href="structsysio_1_1chain_1_1genesis__state.html#a3e6e5eb6e7b0107b1f105eb8a4dcca41">genesis_state::default_initial_wasm_configuration</a>);</div>
<div class="line"><span class="lineno">  933</span>                  });</div>
<div class="line"><span class="lineno">  934</span>               });</div>
<div class="line"><span class="lineno">  935</span>               <span class="keywordflow">return</span>; <span class="comment">// early out to avoid default processing</span></div>
<div class="line"><span class="lineno">  936</span>            }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>            <span class="keywordflow">if</span> (std::clamp(header.version, v4::minimum_version, v4::maximum_version) == header.version) {</div>
<div class="line"><span class="lineno">  939</span>               snapshot-&gt;read_section&lt;global_property_object&gt;([&amp;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a> = this-&gt;<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>](<span class="keyword">auto</span>&amp; section) {</div>
<div class="line"><span class="lineno">  940</span>                  v4 legacy_global_properties;</div>
<div class="line"><span class="lineno">  941</span>                  section.read_row(legacy_global_properties, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>                  <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;global_property_object&gt;([&amp;legacy_global_properties](<span class="keyword">auto</span>&amp; gpo) {</div>
<div class="line"><span class="lineno">  944</span>                     gpo.initalize_from(legacy_global_properties);</div>
<div class="line"><span class="lineno">  945</span>                  });</div>
<div class="line"><span class="lineno">  946</span>               });</div>
<div class="line"><span class="lineno">  947</span>               <span class="keywordflow">return</span>; <span class="comment">// early out to avoid default processing</span></div>
<div class="line"><span class="lineno">  948</span>            }</div>
<div class="line"><span class="lineno">  949</span>         }</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>         snapshot-&gt;read_section&lt;value_t&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ) {</div>
<div class="line"><span class="lineno">  952</span>            <span class="keywordtype">bool</span> more = !section.empty();</div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">while</span>(more) {</div>
<div class="line"><span class="lineno">  954</span>               <span class="keyword">decltype</span>(utils)::create(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>, [<span class="keyword">this</span>, &amp;section, &amp;more]( <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">  955</span>                  more = section.read_row(row, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>);</div>
<div class="line"><span class="lineno">  956</span>               });</div>
<div class="line"><span class="lineno">  957</span>            }</div>
<div class="line"><span class="lineno">  958</span>         });</div>
<div class="line"><span class="lineno">  959</span>      });</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>      <a class="code hl_function" href="#ab2a0087a0d30ff324e2b0bff4a3c4e22">read_contract_tables_from_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>      <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3">read_from_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  964</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a32baa74135a1423302de3a849dc8b40c">read_from_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed">set_revision</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num );</div>
<div class="line"><span class="lineno">  967</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;database_header_object&gt;([](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; header){</div>
<div class="line"><span class="lineno">  968</span>         <span class="comment">// nothing to do</span></div>
<div class="line"><span class="lineno">  969</span>      });</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; gpo = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;global_property_object&gt;();</div>
<div class="line"><span class="lineno">  972</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( gpo.chain_id == <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, chain_id_type_exception,</div>
<div class="line"><span class="lineno">  973</span>                  <span class="stringliteral">&quot;chain ID in snapshot (${snapshot_chain_id}) does not match the chain ID that controller was constructed with (${controller_chain_id})&quot;</span>,</div>
<div class="line"><span class="lineno">  974</span>                  (<span class="stringliteral">&quot;snapshot_chain_id&quot;</span>, gpo.chain_id)(<span class="stringliteral">&quot;controller_chain_id&quot;</span>, <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>)</div>
<div class="line"><span class="lineno">  975</span>      );</div>
<div class="line"><span class="lineno">  976</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1authorization__manager_html_a7a4d84d47bcd9069ab0c8d8f9f9ac5f3"><div class="ttname"><a href="classsysio_1_1chain_1_1authorization__manager.html#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3">sysio::chain::authorization_manager::read_from_snapshot</a></div><div class="ttdeci">void read_from_snapshot(const snapshot_reader_ptr &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="authorization__manager_8cpp_source.html#l00113">authorization_manager.cpp:113</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a32baa74135a1423302de3a849dc8b40c"><div class="ttname"><a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a32baa74135a1423302de3a849dc8b40c">sysio::chain::resource_limits::resource_limits_manager::read_from_snapshot</a></div><div class="ttdeci">void read_from_snapshot(const snapshot_reader_ptr &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00083">resource_limits.cpp:83</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a6353a2e6b51e1b83231f41a8bcc66c47"><div class="ttname"><a href="#a6353a2e6b51e1b83231f41a8bcc66c47">sysio::chain::controller_impl::extract_legacy_genesis_state</a></div><div class="ttdeci">static std::optional&lt; genesis_state &gt; extract_legacy_genesis_state(snapshot_reader &amp;snapshot, uint32_t version)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00840">controller.cpp:840</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab2a0087a0d30ff324e2b0bff4a3c4e22"><div class="ttname"><a href="#ab2a0087a0d30ff324e2b0bff4a3c4e22">sysio::chain::controller_impl::read_contract_tables_from_snapshot</a></div><div class="ttdeci">void read_contract_tables_from_snapshot(const snapshot_reader_ptr &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00773">controller.cpp:773</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_afe8c6fe322a239e2f910f26a385786f0"><div class="ttname"><a href="#afe8c6fe322a239e2f910f26a385786f0">sysio::chain::controller_impl::snapshot_head_block</a></div><div class="ttdeci">uint32_t snapshot_head_block</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00247">controller.cpp:247</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_cgraph">
<area shape="rect" title=" " alt="" coords="5,222,184,263"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="702,78,844,119"/>
<area shape="poly" title=" " alt="" coords="110,220,159,168,193,142,231,121,289,102,351,88,413,79,474,75,591,75,687,83,686,88,590,80,475,80,413,84,351,93,291,107,233,126,196,146,163,172,114,224"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1081,143,1248,169"/>
<area shape="poly" title=" " alt="" coords="184,231,367,218,582,211,774,211,860,207,946,197,1092,170,1093,175,947,202,861,212,774,216,582,216,368,223,184,237"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6353a2e6b51e1b83231f41a8bcc66c47" title=" " alt="" coords="232,136,465,176"/>
<area shape="poly" title=" " alt="" coords="154,219,231,192,269,179,271,184,233,197,155,224"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ab2a0087a0d30ff324e2b0bff4a3c4e22" title=" " alt="" coords="258,5,439,61"/>
<area shape="poly" title=" " alt="" coords="106,220,155,151,190,112,230,78,248,66,250,71,233,82,194,116,159,155,111,223"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3" title=" " alt="" coords="246,250,450,291"/>
<area shape="poly" title=" " alt="" coords="184,250,231,255,230,260,184,255"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a32baa74135a1423302de3a849dc8b40c" title=" " alt="" coords="246,315,450,370"/>
<area shape="poly" title=" " alt="" coords="142,261,233,300,249,306,247,311,231,305,140,266"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="278,394,419,435"/>
<area shape="poly" title=" " alt="" coords="112,262,162,321,195,353,233,380,264,394,262,399,230,385,192,357,158,325,108,265"/>
<area shape="rect" href="structsysio_1_1chain_1_1chain__snapshot__header.html#a6f183a866ea3a474243c55484f0c700e" title=" " alt="" coords="258,460,438,500"/>
<area shape="poly" title=" " alt="" coords="106,262,124,301,151,351,188,401,233,444,246,452,243,457,230,449,184,405,147,353,119,304,101,264"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="892,106,1033,147"/>
<area shape="poly" title=" " alt="" coords="844,106,877,111,876,116,843,112"/>
<area shape="poly" title=" " alt="" coords="1034,134,1066,139,1065,144,1033,139"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1296,136,1438,176"/>
<area shape="poly" title=" " alt="" coords="1249,162,1281,162,1281,167,1249,167"/>
<area shape="poly" title=" " alt="" coords="1296,150,1264,150,1264,144,1296,145"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1486,165,1627,206"/>
<area shape="poly" title=" " alt="" coords="1438,164,1471,169,1470,175,1437,169"/>
<area shape="poly" title=" " alt="" coords="1486,190,1438,190,1367,194,1296,190,1224,176,1225,171,1297,185,1367,188,1438,185,1485,184"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a4ba170946682ddcea81d558b0ee8899a" title=" " alt="" coords="518,17,649,58"/>
<area shape="poly" title=" " alt="" coords="440,32,503,33,503,38,440,37"/>
<area shape="poly" title=" " alt="" coords="650,56,695,70,693,76,648,61"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="513,394,654,435"/>
<area shape="poly" title=" " alt="" coords="419,412,497,412,497,417,419,417"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="553,467,614,493"/>
<area shape="poly" title=" " alt="" coords="439,477,537,477,537,482,439,482"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a247c87d241e707c5e482c3d6d8872a7f_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,384,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a1dac6da3cb5899f6bcd62b9012c75e43" name="a1dac6da3cb5899f6bcd62b9012c75e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dac6da3cb5899f6bcd62b9012c75e43">&#9670;&#160;</a></span>remove_scheduled_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> sysio::chain::controller_impl::remove_scheduled_transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsysio_1_1chain_1_1generated__transaction__object.html">generated_transaction_object</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>gto</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01180">1180</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1180</span>                                                                                   {</div>
<div class="line"><span class="lineno"> 1181</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1182</span>         dm_logger-&gt;on_ram_trace(<a class="code hl_define" href="deep__mind_8hpp.html#aaaa2f1dbd522de03ccbaa73f01db5f50">RAM_EVENT_ID</a>(<span class="stringliteral">&quot;${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, gto.id)), <span class="stringliteral">&quot;deferred_trx&quot;</span>, <span class="stringliteral">&quot;remove&quot;</span>, <span class="stringliteral">&quot;deferred_trx_removed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1183</span>      }</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> ram_delta = -(<a class="code hl_variable" href="namespacesysio_1_1chain_1_1config.html#a2772c77657b1f6fda680bbe8f7282d13">config::billable_size_v&lt;generated_transaction_object&gt;</a> + gto.packed_trx.size());</div>
<div class="line"><span class="lineno"> 1186</span>      <a class="code hl_variable" href="#a83a037a61ce8e07b39d2d38b0f54f8f7">resource_limits</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995">add_pending_ram_usage</a>( gto.payer, ram_delta );</div>
<div class="line"><span class="lineno"> 1187</span>      <span class="comment">// No need to verify_account_ram_usage since we are only reducing memory</span></div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>      <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b">remove</a>( gto );</div>
<div class="line"><span class="lineno"> 1190</span>      <span class="keywordflow">return</span> ram_delta;</div>
<div class="line"><span class="lineno"> 1191</span>   }</div>
<div class="ttc" id="aclasschainbase_1_1database_html_ac6bb29708e4fdfb6899028e3c351fe0b"><div class="ttname"><a href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b">chainbase::database::remove</a></div><div class="ttdeci">void remove(const ObjectType &amp;obj)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00511">chainbase.hpp:511</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,175,162"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995" title=" " alt="" coords="223,5,453,61"/>
<area shape="poly" title=" " alt="" coords="148,104,222,71,238,64,239,69,224,76,150,109"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="243,85,433,126"/>
<area shape="poly" title=" " alt="" coords="175,122,227,116,227,121,175,127"/>
<area shape="rect" href="classchainbase_1_1database.html#ac6bb29708e4fdfb6899028e3c351fe0b" title=" " alt="" coords="501,138,642,179"/>
<area shape="poly" title=" " alt="" coords="175,136,485,152,485,157,175,141"/>
<area shape="rect" href="classchainbase_1_1shared__cow__string.html#a3b3c57c0d2ee027bb70beb283be2a0f2" title=" " alt="" coords="259,200,417,240"/>
<area shape="poly" title=" " alt="" coords="172,160,224,179,261,191,259,197,222,184,170,165"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="880,50,1047,75"/>
<area shape="poly" title=" " alt="" coords="454,36,864,55,864,61,453,41"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="501,70,642,111"/>
<area shape="poly" title=" " alt="" coords="454,59,487,67,485,72,453,64"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1095,42,1236,83"/>
<area shape="poly" title=" " alt="" coords="1048,69,1079,69,1079,74,1048,74"/>
<area shape="poly" title=" " alt="" coords="1095,57,1063,56,1063,51,1095,51"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1284,72,1426,112"/>
<area shape="poly" title=" " alt="" coords="1237,71,1270,76,1269,81,1236,76"/>
<area shape="poly" title=" " alt="" coords="1284,96,1236,97,1165,100,1095,97,1023,83,1024,77,1095,92,1165,95,1236,92,1284,91"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="690,70,832,111"/>
<area shape="poly" title=" " alt="" coords="643,88,675,88,675,93,643,93"/>
<area shape="poly" title=" " alt="" coords="832,78,864,74,864,79,833,83"/>
<area shape="poly" title=" " alt="" coords="630,135,687,114,689,119,631,140"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a1dac6da3cb5899f6bcd62b9012c75e43_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,448,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,13,231,54"/>
<area shape="poly" title=" " alt="" coords="263,36,231,36,231,30,263,30"/>
</map>
</div>

</div>
</div>
<a id="a9a9e4b6fe15eb93e63ac98af9f170647" name="a9a9e4b6fe15eb93e63ac98af9f170647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a9e4b6fe15eb93e63ac98af9f170647">&#9670;&#160;</a></span>replay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::replay </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; bool()&gt;</td>          <td class="paramname"><span class="paramname"><em>check_shutdown</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00475">475</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  475</span>                                                   {</div>
<div class="line"><span class="lineno">  476</span>      <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>() &amp;&amp; !<a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>() ) {</div>
<div class="line"><span class="lineno">  477</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02">reset</a>( *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> );</div>
<div class="line"><span class="lineno">  478</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  479</span>      }</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>      <span class="keyword">auto</span> blog_head = <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>();</div>
<div class="line"><span class="lineno">  482</span>      <a class="code hl_variable" href="#a3bd1eefa999ba89597c3686e0acc463e">replaying</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  483</span>      <span class="keyword">auto</span> start_block_num = <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1;</div>
<div class="line"><span class="lineno">  484</span>      <span class="keyword">auto</span> <a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a> = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>      std::exception_ptr except_ptr;</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>      <span class="keywordflow">if</span>( blog_head &amp;&amp; start_block_num &lt;= blog_head-&gt;block_num() ) {</div>
<div class="line"><span class="lineno">  489</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;existing block log, attempting to replay from ${s} to ${n} blocks&quot;</span>,</div>
<div class="line"><span class="lineno">  490</span>               (<span class="stringliteral">&quot;s&quot;</span>, start_block_num)(<span class="stringliteral">&quot;n&quot;</span>, blog_head-&gt;block_num()) );</div>
<div class="line"><span class="lineno">  491</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  492</span>            <span class="keywordflow">while</span>( <span class="keyword">auto</span> next = <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#a99c59d29b262144ad99eacc827f76107">read_block_by_num</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1 ) ) {</div>
<div class="line"><span class="lineno">  493</span>               <a class="code hl_function" href="#a2fe4194f0202db6c18bc17572b2adaa2">replay_push_block</a>( next, <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">controller::block_status::irreversible</a> );</div>
<div class="line"><span class="lineno">  494</span>               <span class="keywordflow">if</span>( check_shutdown() ) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  495</span>               <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">next</a>-&gt;block_num() % 500 == 0 ) {</div>
<div class="line"><span class="lineno">  496</span>                  <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;${n} of ${head}&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, <a class="code hl_function" href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">next</a>-&gt;block_num())(<span class="stringliteral">&quot;head&quot;</span>, blog_head-&gt;block_num()) );</div>
<div class="line"><span class="lineno">  497</span>               }</div>
<div class="line"><span class="lineno">  498</span>            }</div>
<div class="line"><span class="lineno">  499</span>         } <span class="keywordflow">catch</span>(  <span class="keyword">const</span> database_guard_exception&amp; e ) {</div>
<div class="line"><span class="lineno">  500</span>            except_ptr = std::current_exception();</div>
<div class="line"><span class="lineno">  501</span>         }</div>
<div class="line"><span class="lineno">  502</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;${n} irreversible blocks replayed&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, 1 + <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num - start_block_num) );</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>         <span class="keyword">auto</span> pending_head = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868">pending_head</a>();</div>
<div class="line"><span class="lineno">  505</span>         <span class="keywordflow">if</span>( pending_head ) {</div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;fork database head ${h}, root ${r}&quot;</span>, (<span class="stringliteral">&quot;h&quot;</span>, pending_head-&gt;block_num)( <span class="stringliteral">&quot;r&quot;</span>, <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num ) );</div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">if</span>( pending_head-&gt;block_num &lt; <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num || <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num &lt; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num ) {</div>
<div class="line"><span class="lineno">  508</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;resetting fork database with new last irreversible block as the new root: ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;id) );</div>
<div class="line"><span class="lineno">  509</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02">reset</a>( *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> );</div>
<div class="line"><span class="lineno">  510</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num ) {</div>
<div class="line"><span class="lineno">  511</span>               <span class="keyword">auto</span> new_root = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a17185d8543965b7cd40066019bbf5740">search_on_branch</a>( pending_head-&gt;id, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num );</div>
<div class="line"><span class="lineno">  512</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( new_root, <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>,</div>
<div class="line"><span class="lineno">  513</span>                           <span class="stringliteral">&quot;unexpected error: could not find new LIB in fork database&quot;</span> );</div>
<div class="line"><span class="lineno">  514</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;advancing fork database root to new last irreversible block within existing fork database: ${id}&quot;</span>,</div>
<div class="line"><span class="lineno">  515</span>                     (<span class="stringliteral">&quot;id&quot;</span>, new_root-&gt;id) );</div>
<div class="line"><span class="lineno">  516</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9">mark_valid</a>( new_root );</div>
<div class="line"><span class="lineno">  517</span>               <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45">advance_root</a>( new_root-&gt;id );</div>
<div class="line"><span class="lineno">  518</span>            }</div>
<div class="line"><span class="lineno">  519</span>         }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>         <span class="comment">// if the irreverible log is played without undo sessions enabled, we need to sync the</span></div>
<div class="line"><span class="lineno">  522</span>         <span class="comment">// revision ordinal to the appropriate expected value here.</span></div>
<div class="line"><span class="lineno">  523</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884">skip_db_sessions</a>( <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">controller::block_status::irreversible</a> ) )</div>
<div class="line"><span class="lineno">  524</span>            <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed">set_revision</a>( <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num );</div>
<div class="line"><span class="lineno">  525</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  526</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;no irreversible blocks need to be replayed&quot;</span> );</div>
<div class="line"><span class="lineno">  527</span>      }</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>      <span class="keywordflow">if</span>( !except_ptr &amp;&amp; !check_shutdown() &amp;&amp; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>() ) {</div>
<div class="line"><span class="lineno">  530</span>         <span class="keyword">auto</span> head_block_num = <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num;</div>
<div class="line"><span class="lineno">  531</span>         <span class="keyword">auto</span> branch = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22">fetch_branch</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id );</div>
<div class="line"><span class="lineno">  532</span>         <span class="keywordtype">int</span> rev = 0;</div>
<div class="line"><span class="lineno">  533</span>         <span class="keywordflow">for</span>( <span class="keyword">auto</span> i = branch.rbegin(); i != branch.rend(); ++i ) {</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">if</span>( check_shutdown() ) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  535</span>            <span class="keywordflow">if</span>( (*i)-&gt;block_num &lt;= head_block_num ) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  536</span>            ++rev;</div>
<div class="line"><span class="lineno">  537</span>            <a class="code hl_function" href="#a2fe4194f0202db6c18bc17572b2adaa2">replay_push_block</a>( (*i)-&gt;block, <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755">controller::block_status::validated</a> );</div>
<div class="line"><span class="lineno">  538</span>         }</div>
<div class="line"><span class="lineno">  539</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;${n} reversible blocks replayed&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>,rev) );</div>
<div class="line"><span class="lineno">  540</span>      }</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>      <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>() ) {</div>
<div class="line"><span class="lineno">  543</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02">reset</a>( *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> );</div>
<div class="line"><span class="lineno">  544</span>      }</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>      <span class="keyword">auto</span> end = <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>();</div>
<div class="line"><span class="lineno">  547</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;replayed ${n} blocks in ${duration} seconds, ${mspb} ms/block&quot;</span>,</div>
<div class="line"><span class="lineno">  548</span>            (<span class="stringliteral">&quot;n&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1 - start_block_num)(<span class="stringliteral">&quot;duration&quot;</span>, (end-start).count()/1000000)</div>
<div class="line"><span class="lineno">  549</span>            (<span class="stringliteral">&quot;mspb&quot;</span>, ((end-start).count()/1000.0)/(<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num-start_block_num)) );</div>
<div class="line"><span class="lineno">  550</span>      <a class="code hl_variable" href="#a3bd1eefa999ba89597c3686e0acc463e">replaying</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>      <span class="keywordflow">if</span>( except_ptr ) {</div>
<div class="line"><span class="lineno">  553</span>         std::rethrow_exception( except_ptr );</div>
<div class="line"><span class="lineno">  554</span>      }</div>
<div class="line"><span class="lineno">  555</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_a99c59d29b262144ad99eacc827f76107"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#a99c59d29b262144ad99eacc827f76107">sysio::chain::block_log::read_block_by_num</a></div><div class="ttdeci">signed_block_ptr read_block_by_num(uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00630">block_log.cpp:630</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">sysio::chain::controller::block_status::irreversible</a></div><div class="ttdeci">@ irreversible</div><div class="ttdoc">this block has already been applied before by this node and is considered irreversible</div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a17185d8543965b7cd40066019bbf5740"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a17185d8543965b7cd40066019bbf5740">sysio::chain::fork_database::search_on_branch</a></div><div class="ttdeci">block_state_ptr search_on_branch(const block_id_type &amp;h, uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00433">fork_database.cpp:433</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a7dd3012e6d7e68e24b2f223d5be09c02"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02">sysio::chain::fork_database::reset</a></div><div class="ttdeci">void reset(const block_header_state &amp;root_bhs)</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00263">fork_database.cpp:263</a></div></div>
<div class="ttc" id="anamespaceutf8_html_afc093dfde66a6f52cb4a5caefe0e580d"><div class="ttname"><a href="namespaceutf8.html#afc093dfde66a6f52cb4a5caefe0e580d">utf8::next</a></div><div class="ttdeci">uint32_t next(octet_iterator &amp;it, octet_iterator end)</div><div class="ttdef"><b>Definition</b> <a href="checked_8h_source.html#l00137">checked.h:137</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a2fe4194f0202db6c18bc17572b2adaa2"><div class="ttname"><a href="#a2fe4194f0202db6c18bc17572b2adaa2">sysio::chain::controller_impl::replay_push_block</a></div><div class="ttdeci">void replay_push_block(const signed_block_ptr &amp;b, controller::block_status s)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02172">controller.cpp:2172</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a3bd1eefa999ba89597c3686e0acc463e"><div class="ttname"><a href="#a3bd1eefa999ba89597c3686e0acc463e">sysio::chain::controller_impl::replaying</a></div><div class="ttdeci">bool replaying</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00242">controller.cpp:242</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_cgraph">
<area shape="rect" title=" " alt="" coords="5,1563,158,1603"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#ae911acbc996994cb6dfd21fddfb89a45" title=" " alt="" coords="207,5,374,46"/>
<area shape="poly" title=" " alt="" coords="81,1562,88,1272,108,793,124,544,145,323,171,152,186,94,203,58,205,55,209,58,208,60,191,96,176,153,150,323,129,545,113,793,93,1272,86,1562"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a18e51b748469f97473d120ef69e1da22" title=" " alt="" coords="208,71,372,111"/>
<area shape="poly" title=" " alt="" coords="81,1562,89,1283,110,825,126,587,147,376,172,213,187,158,203,123,205,121,209,124,208,126,192,159,177,214,152,377,131,588,115,825,94,1283,86,1562"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="225,136,356,177"/>
<area shape="poly" title=" " alt="" coords="81,1562,90,1295,113,861,129,635,150,434,174,280,188,227,203,194,211,185,215,188,208,196,193,229,180,281,155,435,135,636,118,861,96,1296,86,1562"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="1230,1152,1351,1193"/>
<area shape="poly" title=" " alt="" coords="92,1561,147,1479,190,1425,241,1370,299,1319,365,1276,400,1259,437,1246,475,1238,514,1235,755,1235,882,1230,1008,1217,1214,1185,1215,1190,1009,1222,882,1235,755,1240,514,1240,476,1243,438,1251,402,1264,368,1280,303,1323,244,1374,194,1429,152,1482,97,1564"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="1214,1483,1366,1523"/>
<area shape="poly" title=" " alt="" coords="123,1601,195,1637,296,1681,420,1725,559,1763,632,1776,706,1785,781,1789,854,1786,926,1775,996,1756,1062,1728,1124,1689,1140,1673,1148,1655,1150,1616,1150,1575,1157,1554,1172,1534,1198,1517,1201,1521,1176,1538,1162,1557,1156,1576,1155,1617,1153,1656,1145,1676,1128,1693,1065,1732,998,1761,927,1780,855,1791,781,1794,706,1791,632,1782,558,1768,419,1730,294,1686,193,1642,120,1606"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="1481,949,1614,974"/>
<area shape="poly" title=" " alt="" coords="98,1602,142,1659,173,1689,207,1715,263,1745,310,1759,423,1776,578,1807,719,1837,847,1860,908,1867,967,1870,1024,1869,1079,1862,1134,1849,1188,1828,1242,1801,1296,1764,1350,1718,1404,1663,1421,1640,1436,1610,1463,1532,1486,1437,1504,1333,1530,1131,1542,990,1547,991,1535,1132,1509,1334,1491,1438,1468,1533,1441,1612,1425,1643,1408,1666,1353,1722,1299,1768,1245,1805,1190,1833,1136,1854,1080,1867,1024,1874,967,1876,908,1872,846,1865,717,1842,577,1812,423,1782,309,1764,261,1750,204,1720,169,1693,138,1662,94,1605"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a16e619525d86741f3e5344b39ab91868" title=" " alt="" coords="206,1859,375,1899"/>
<area shape="poly" title=" " alt="" coords="90,1603,104,1650,127,1713,161,1779,183,1810,208,1838,219,1848,215,1852,204,1842,179,1814,157,1782,122,1715,99,1652,85,1605"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#a99c59d29b262144ad99eacc827f76107" title=" " alt="" coords="206,1924,375,1965"/>
<area shape="poly" title=" " alt="" coords="87,1603,97,1662,117,1744,133,1788,153,1832,178,1873,208,1909,211,1913,207,1916,204,1913,173,1876,148,1834,128,1790,112,1746,91,1664,82,1604"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="206,1435,374,1475"/>
<area shape="poly" title=" " alt="" coords="115,1560,241,1482,244,1486,118,1564"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884" title=" " alt="" coords="1214,211,1366,251"/>
<area shape="poly" title=" " alt="" coords="80,1562,80,1423,84,1315,93,1191,107,1054,130,911,161,768,203,630,242,519,280,433,304,396,334,359,372,322,421,284,467,254,515,229,566,209,618,193,726,173,835,165,941,168,1039,177,1127,191,1200,205,1199,210,1126,196,1039,182,940,173,835,171,727,178,620,198,568,214,518,234,470,258,425,288,376,326,338,363,308,399,285,436,247,521,208,632,166,769,135,912,113,1055,98,1191,89,1316,85,1423,85,1562"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02" title=" " alt="" coords="230,1989,351,2030"/>
<area shape="poly" title=" " alt="" coords="86,1604,92,1673,109,1772,125,1826,146,1879,173,1930,208,1975,218,1984,215,1988,204,1978,169,1932,141,1881,120,1827,104,1773,86,1674,81,1604"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="230,2055,351,2095"/>
<area shape="poly" title=" " alt="" coords="85,1604,87,1683,92,1738,102,1799,117,1863,139,1926,169,1986,208,2040,218,2049,214,2053,204,2043,164,1989,134,1928,112,1864,97,1800,87,1739,82,1684,80,1604"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a17185d8543965b7cd40066019bbf5740" title=" " alt="" coords="216,2119,365,2175"/>
<area shape="poly" title=" " alt="" coords="88,1604,102,1708,128,1857,144,1935,164,2006,185,2065,208,2105,209,2106,205,2110,203,2109,180,2067,158,2007,139,1936,123,1858,97,1709,83,1604"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="683,268,825,309"/>
<area shape="poly" title=" " alt="" coords="83,1562,116,1334,147,1158,186,963,233,767,289,587,319,508,351,440,385,384,421,342,448,322,478,306,542,286,607,277,668,277,668,282,608,282,543,291,480,311,451,327,425,346,390,387,356,442,324,510,294,589,239,769,191,965,152,1159,122,1335,88,1563"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="1689,876,1829,917"/>
<area shape="poly" title=" " alt="" coords="1599,946,1640,934,1684,920,1685,925,1641,939,1600,951"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="1689,941,1829,982"/>
<area shape="poly" title=" " alt="" coords="1614,959,1673,959,1673,964,1614,964"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1692,696,1826,737"/>
<area shape="poly" title=" " alt="" coords="1613,948,1639,934,1657,909,1684,859,1739,749,1744,752,1689,862,1661,912,1642,938,1616,953"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="1692,1007,1826,1047"/>
<area shape="poly" title=" " alt="" coords="1592,973,1678,999,1676,1004,1591,978"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="1877,884,2049,909"/>
<area shape="poly" title=" " alt="" coords="1830,894,1861,894,1861,899,1830,899"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a4d023005b3b47d76c62beeaebc291fa3" title=" " alt="" coords="454,1859,576,1899"/>
<area shape="poly" title=" " alt="" coords="376,1876,439,1876,439,1882,376,1882"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="1230,1548,1351,1589"/>
<area shape="poly" title=" " alt="" coords="298,1475,311,1523,335,1584,351,1615,372,1645,396,1672,424,1693,461,1710,516,1728,586,1742,670,1752,768,1754,877,1746,997,1725,1125,1688,1164,1671,1200,1648,1258,1598,1261,1602,1203,1652,1167,1676,1127,1694,998,1730,878,1751,768,1759,670,1757,585,1748,514,1733,459,1715,422,1697,392,1675,368,1649,347,1618,330,1586,306,1524,293,1476"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="678,1000,830,1041"/>
<area shape="poly" title=" " alt="" coords="312,1432,718,1050,721,1053,316,1436"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="1471,884,1624,925"/>
<area shape="poly" title=" " alt="" coords="294,1433,311,1366,343,1261,390,1131,454,985,492,909,535,834,583,759,636,688,694,621,757,559,825,504,899,457,972,421,1041,397,1107,385,1171,386,1232,400,1292,427,1350,468,1408,524,1425,544,1436,565,1447,605,1446,645,1439,685,1431,725,1428,765,1435,807,1456,851,1480,874,1476,877,1452,854,1430,809,1423,766,1426,724,1434,684,1441,644,1441,606,1431,567,1420,547,1404,527,1347,472,1289,432,1230,405,1170,391,1108,390,1042,402,974,426,902,461,828,508,760,563,698,625,640,691,588,762,540,836,497,911,459,987,395,1133,348,1263,317,1367,299,1435"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="1214,1396,1366,1452"/>
<area shape="poly" title=" " alt="" coords="334,1473,424,1518,489,1552,538,1580,588,1605,656,1628,723,1644,777,1651,901,1655,936,1659,968,1666,1022,1680,1046,1683,1071,1682,1097,1673,1124,1656,1143,1636,1152,1615,1153,1593,1152,1569,1150,1520,1156,1494,1172,1469,1199,1448,1202,1452,1176,1473,1161,1496,1155,1520,1157,1569,1159,1593,1157,1616,1147,1639,1128,1660,1099,1678,1072,1687,1046,1689,1021,1685,966,1671,935,1664,900,1660,776,1656,722,1650,655,1634,586,1610,535,1585,486,1557,422,1523,332,1478"/>
<area shape="poly" title=" " alt="" coords="289,1434,289,1231,293,1076,301,904,317,731,341,570,356,499,375,436,396,383,421,343,443,321,474,302,511,286,555,272,656,251,770,237,889,228,1005,224,1198,225,1198,230,1005,230,889,234,770,242,657,256,556,277,513,291,476,307,447,325,425,346,401,386,380,438,362,500,346,571,322,731,307,905,298,1076,294,1231,294,1434"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="683,333,825,374"/>
<area shape="poly" title=" " alt="" coords="290,1434,303,1222,329,888,347,718,369,567,393,453,407,414,421,391,447,369,476,354,508,342,541,335,607,331,668,335,668,340,607,336,541,341,509,348,478,358,450,374,425,394,411,416,398,454,374,568,353,718,334,889,308,1222,295,1434"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="439,1403,591,1443"/>
<area shape="poly" title=" " alt="" coords="375,1440,423,1433,424,1439,375,1446"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="425,1468,605,1509"/>
<area shape="poly" title=" " alt="" coords="375,1465,410,1470,409,1475,375,1470"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7b2f18a21e18a1bdc6837a567bb259eb" title=" " alt="" coords="423,1643,607,1683"/>
<area shape="poly" title=" " alt="" coords="305,1474,352,1545,386,1586,425,1622,441,1633,438,1637,421,1626,382,1590,347,1549,301,1477"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="1214,1332,1366,1373"/>
<area shape="poly" title=" " alt="" coords="761,1040,772,1099,797,1179,815,1220,839,1260,868,1295,902,1325,924,1335,954,1343,1030,1352,1117,1355,1199,1354,1199,1359,1117,1361,1030,1358,953,1348,922,1340,899,1329,864,1299,835,1263,811,1222,792,1180,767,1101,755,1041"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="937,1275,1090,1315"/>
<area shape="poly" title=" " alt="" coords="771,1039,826,1115,863,1160,903,1204,972,1263,969,1267,899,1208,859,1164,822,1118,767,1043"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="1174,1047,1406,1087"/>
<area shape="poly" title=" " alt="" coords="771,1040,792,1069,822,1103,859,1135,902,1159,962,1179,1012,1183,1063,1175,1125,1159,1179,1134,1243,1094,1246,1098,1181,1138,1127,1164,1064,1181,1012,1188,961,1184,900,1164,856,1139,819,1107,788,1072,767,1043"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="937,1389,1090,1430"/>
<area shape="poly" title=" " alt="" coords="761,1041,772,1104,797,1192,816,1240,839,1286,868,1330,902,1369,925,1385,922,1389,899,1373,864,1334,835,1289,811,1242,792,1194,767,1105,755,1042"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="924,955,1102,995"/>
<area shape="poly" title=" " alt="" coords="830,1004,908,991,909,996,831,1010"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1454,529,1641,554"/>
<area shape="poly" title=" " alt="" coords="755,999,769,885,797,720,816,635,840,558,867,497,882,474,899,457,936,433,976,415,1017,403,1060,396,1104,395,1148,397,1237,411,1321,435,1398,464,1511,519,1509,523,1396,469,1319,440,1236,416,1148,402,1104,400,1061,402,1018,408,977,420,939,437,902,461,887,477,872,499,845,560,821,636,802,721,774,886,760,1000"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="1208,580,1373,605"/>
<area shape="poly" title=" " alt="" coords="752,1000,754,917,760,860,771,798,788,734,815,673,851,617,874,593,899,571,922,561,954,555,1033,553,1122,561,1205,574,1204,579,1121,567,1033,559,954,560,924,566,902,576,877,597,855,620,820,675,794,736,776,799,765,860,759,917,757,1000"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="901,1044,1126,1085"/>
<area shape="poly" title=" " alt="" coords="831,1031,886,1040,885,1045,830,1036"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1210,941,1370,982"/>
<area shape="poly" title=" " alt="" coords="783,997,835,966,867,951,900,940,977,928,1055,926,1130,931,1196,940,1195,945,1129,936,1055,931,977,933,901,946,869,956,838,971,786,1002"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="1471,800,1624,841"/>
<area shape="poly" title=" " alt="" coords="761,999,780,959,809,911,849,863,873,842,900,826,945,811,1005,801,1077,796,1156,795,1318,800,1456,809,1456,815,1317,805,1156,800,1077,801,1006,806,946,816,902,831,876,847,853,867,813,914,784,962,766,1001"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="912,1109,1114,1150"/>
<area shape="poly" title=" " alt="" coords="792,1039,843,1067,902,1094,922,1101,920,1106,900,1099,840,1071,789,1043"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="937,585,1090,626"/>
<area shape="poly" title=" " alt="" coords="754,999,764,930,787,833,806,780,830,728,861,680,899,637,921,622,924,626,902,641,865,683,835,731,811,782,792,834,769,931,760,1000"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="937,840,1090,881"/>
<area shape="poly" title=" " alt="" coords="773,998,827,948,862,921,899,897,925,884,927,889,902,901,865,925,831,952,777,1002"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="913,471,1114,511"/>
<area shape="poly" title=" " alt="" coords="752,999,757,914,764,854,776,788,794,719,819,650,854,585,899,528,910,518,914,522,903,531,858,588,824,652,799,721,781,789,769,855,762,914,758,999"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="937,1605,1090,1646"/>
<area shape="poly" title=" " alt="" coords="761,1041,776,1117,804,1231,846,1363,872,1428,903,1491,941,1547,981,1592,977,1596,937,1550,898,1494,867,1431,841,1364,799,1233,771,1118,756,1042"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="937,651,1090,691"/>
<area shape="poly" title=" " alt="" coords="756,999,769,940,795,860,814,817,837,775,866,735,899,701,922,686,924,691,902,705,870,739,842,778,819,819,800,862,774,942,761,1000"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="958,740,1069,765"/>
<area shape="poly" title=" " alt="" coords="760,998,778,953,807,895,847,834,872,806,899,782,920,770,942,761,944,766,922,775,902,786,875,810,851,838,811,898,782,956,765,1000"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="947,1454,1080,1480"/>
<area shape="poly" title=" " alt="" coords="762,1041,783,1128,815,1248,857,1365,879,1410,902,1440,933,1457,931,1462,899,1444,875,1413,852,1367,810,1250,777,1129,757,1042"/>
<area shape="poly" title=" " alt="" coords="1089,1272,1125,1254,1139,1242,1148,1229,1157,1216,1173,1203,1213,1185,1216,1190,1175,1208,1161,1220,1152,1232,1143,1245,1127,1259,1091,1277"/>
<area shape="poly" title=" " alt="" coords="1052,1314,1091,1341,1128,1376,1143,1400,1151,1422,1159,1442,1176,1462,1201,1478,1198,1483,1172,1466,1154,1445,1146,1424,1139,1402,1124,1379,1087,1345,1049,1318"/>
<area shape="poly" title=" " alt="" coords="1056,1314,1094,1340,1128,1376,1140,1398,1147,1420,1149,1459,1153,1496,1161,1515,1176,1533,1194,1547,1216,1556,1214,1561,1192,1551,1172,1537,1156,1517,1148,1498,1144,1460,1141,1421,1136,1400,1124,1379,1090,1344,1053,1318"/>
<area shape="poly" title=" " alt="" coords="1090,1308,1199,1331,1198,1336,1089,1313"/>
<area shape="poly" title=" " alt="" coords="1090,1298,1176,1302,1269,1300,1352,1290,1383,1281,1405,1268,1422,1249,1434,1230,1441,1210,1444,1191,1442,1150,1433,1109,1424,1066,1419,1023,1427,979,1437,957,1452,935,1457,930,1461,933,1456,938,1442,959,1432,980,1425,1023,1429,1065,1438,1108,1447,1150,1449,1191,1446,1212,1438,1232,1426,1252,1408,1272,1385,1285,1353,1295,1270,1306,1176,1307,1090,1304"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="1195,1217,1385,1258"/>
<area shape="poly" title=" " alt="" coords="1089,1277,1179,1258,1181,1263,1090,1282"/>
<area shape="poly" title=" " alt="" coords="1090,1411,1199,1417,1199,1422,1090,1416"/>
<area shape="poly" title=" " alt="" coords="1342,603,1678,692,1677,698,1341,608"/>
<area shape="poly" title=" " alt="" coords="1359,576,1464,555,1465,561,1360,582"/>
<area shape="poly" title=" " alt="" coords="965,1044,962,1034,970,1025,987,1019,1013,1017,1041,1020,1058,1026,1056,1031,1040,1025,1013,1023,988,1025,973,1029,968,1035,970,1043"/>
<area shape="poly" title=" " alt="" coords="1370,959,1466,959,1466,964,1370,964"/>
<area shape="poly" title=" " alt="" coords="1370,941,1455,922,1457,927,1371,947"/>
<area shape="poly" title=" " alt="" coords="1328,938,1494,846,1497,851,1330,943"/>
<area shape="poly" title=" " alt="" coords="1056,879,1094,906,1128,941,1141,963,1148,984,1152,1021,1156,1058,1163,1077,1176,1097,1200,1122,1229,1142,1226,1146,1197,1126,1172,1101,1159,1079,1151,1059,1147,1022,1142,985,1136,965,1124,945,1090,910,1053,883"/>
<area shape="poly" title=" " alt="" coords="1090,864,1457,894,1456,900,1089,869"/>
<area shape="poly" title=" " alt="" coords="1058,879,1096,905,1113,922,1128,942,1145,979,1151,1014,1150,1047,1146,1079,1143,1110,1144,1140,1154,1171,1176,1203,1184,1210,1180,1214,1172,1206,1149,1173,1139,1141,1138,1110,1141,1078,1145,1046,1146,1014,1140,980,1124,944,1110,926,1092,909,1055,883"/>
<area shape="poly" title=" " alt="" coords="1047,879,1128,941,1152,967,1176,992,1240,1036,1236,1040,1172,996,1148,970,1124,945,1044,883"/>
<area shape="poly" title=" " alt="" coords="1060,879,1097,905,1114,922,1128,942,1144,973,1154,1004,1159,1034,1160,1063,1155,1118,1143,1170,1133,1222,1131,1274,1135,1300,1143,1327,1157,1354,1176,1383,1202,1404,1199,1408,1172,1386,1152,1357,1138,1329,1130,1302,1126,1274,1128,1222,1138,1169,1149,1117,1155,1062,1154,1034,1149,1005,1139,975,1124,944,1110,926,1094,909,1057,883"/>
<area shape="poly" title=" " alt="" coords="1048,837,1509,561,1512,565,1051,842"/>
<area shape="poly" title=" " alt="" coords="1045,837,1084,809,1124,776,1206,690,1267,616,1271,620,1210,694,1128,780,1087,813,1048,842"/>
<area shape="poly" title=" " alt="" coords="1080,879,1127,897,1175,921,1208,933,1206,938,1173,925,1125,901,1078,884"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="1220,305,1361,346"/>
<area shape="poly" title=" " alt="" coords="1055,837,1092,811,1124,776,1139,748,1149,723,1155,676,1158,627,1162,598,1171,566,1220,450,1268,358,1272,360,1225,452,1177,568,1168,599,1163,627,1161,676,1154,724,1144,750,1128,779,1095,815,1058,842"/>
<area shape="poly" title=" " alt="" coords="1057,837,1094,811,1110,795,1124,776,1140,742,1151,710,1157,678,1159,648,1154,590,1143,533,1132,477,1128,419,1132,389,1139,358,1153,326,1172,292,1189,272,1211,257,1214,261,1193,276,1176,295,1157,328,1145,359,1137,390,1134,419,1137,476,1148,532,1159,589,1164,648,1162,679,1156,711,1145,744,1128,779,1114,798,1097,815,1060,842"/>
<area shape="poly" title=" " alt="" coords="1242,211,1240,201,1248,192,1264,186,1290,184,1318,186,1334,193,1332,198,1317,192,1290,189,1266,191,1250,196,1245,202,1247,209"/>
<area shape="poly" title=" " alt="" coords="1115,509,1174,520,1211,525,1244,525,1302,521,1329,522,1355,528,1381,542,1408,565,1427,588,1439,611,1446,635,1449,658,1445,704,1435,751,1424,797,1420,843,1422,866,1428,889,1439,912,1456,935,1469,945,1466,949,1452,938,1435,914,1423,890,1417,867,1414,843,1419,796,1430,749,1440,703,1444,658,1441,636,1434,613,1422,591,1404,569,1378,546,1353,533,1328,527,1302,527,1244,530,1210,530,1174,526,1114,514"/>
<area shape="poly" title=" " alt="" coords="1115,495,1407,520,1439,524,1439,529,1406,526,1114,500"/>
<area shape="poly" title=" " alt="" coords="1084,509,1127,527,1151,543,1175,558,1214,572,1212,577,1173,563,1148,548,1125,532,1082,514"/>
<area shape="poly" title=" " alt="" coords="1091,1642,1165,1653,1248,1655,1291,1649,1332,1639,1370,1622,1405,1598,1421,1580,1437,1554,1464,1485,1487,1400,1505,1306,1530,1121,1542,990,1547,990,1536,1121,1511,1307,1492,1402,1469,1487,1442,1556,1426,1583,1408,1602,1373,1627,1333,1644,1292,1655,1249,1660,1164,1659,1090,1648"/>
<area shape="poly" title=" " alt="" coords="971,741,962,731,967,721,985,715,1013,713,1046,716,1061,723,1059,728,1044,721,1013,718,986,720,971,725,968,730,975,737"/>
<area shape="poly" title=" " alt="" coords="825,347,1204,327,1204,333,825,353"/>
<area shape="poly" title=" " alt="" coords="606,1503,712,1519,842,1533,984,1540,1055,1539,1126,1534,1198,1522,1199,1527,1126,1539,1056,1544,984,1545,841,1538,711,1524,606,1508"/>
<area shape="poly" title=" " alt="" coords="590,1465,605,1453,627,1423,648,1380,687,1267,720,1148,742,1055,748,1056,725,1149,692,1269,653,1382,631,1426,609,1457,593,1470"/>
<area shape="poly" title=" " alt="" coords="577,1465,606,1453,630,1438,654,1426,710,1411,756,1403,801,1406,854,1426,871,1441,879,1459,886,1476,902,1490,963,1517,991,1525,1017,1529,1043,1528,1069,1522,1096,1509,1124,1490,1142,1472,1151,1454,1154,1434,1154,1413,1154,1368,1159,1344,1172,1319,1200,1288,1232,1264,1236,1268,1204,1292,1176,1322,1164,1345,1159,1368,1159,1413,1160,1434,1156,1455,1147,1475,1128,1494,1098,1514,1071,1527,1044,1533,1017,1534,990,1531,962,1522,899,1495,882,1479,874,1461,867,1444,851,1431,800,1411,757,1408,712,1416,656,1431,632,1442,609,1457,579,1470"/>
<area shape="poly" title=" " alt="" coords="540,1507,590,1548,622,1568,656,1585,723,1605,793,1617,860,1623,921,1626,921,1631,860,1629,792,1622,722,1610,654,1589,620,1573,587,1552,536,1511"/>
<area shape="poly" title=" " alt="" coords="606,1489,655,1490,754,1493,852,1490,932,1480,932,1485,853,1495,754,1498,655,1495,606,1494"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748" title=" " alt="" coords="655,1440,853,1481"/>
<area shape="poly" title=" " alt="" coords="605,1475,640,1471,640,1476,606,1480"/>
<area shape="poly" title=" " alt="" coords="825,291,1204,317,1204,322,825,296"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a9a9e4b6fe15eb93e63ac98af9f170647_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,358,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="a2fe4194f0202db6c18bc17572b2adaa2" name="a2fe4194f0202db6c18bc17572b2adaa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe4194f0202db6c18bc17572b2adaa2">&#9670;&#160;</a></span>replay_push_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::replay_push_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a></td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02172">2172</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2172</span>                                                                                 {</div>
<div class="line"><span class="lineno"> 2173</span>      <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a7b2f18a21e18a1bdc6837a567bb259eb">validate_db_available_size</a>();</div>
<div class="line"><span class="lineno"> 2174</span> </div>
<div class="line"><span class="lineno"> 2175</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(!<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;it is not valid to push a block when there is a pending block&quot;</span>);</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2178</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( b, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;trying to push empty block&quot;</span> );</div>
<div class="line"><span class="lineno"> 2179</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( (<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">controller::block_status::irreversible</a> || <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6ac9e825f4641cd3bec0ba01a0c2d67755">controller::block_status::validated</a>),</div>
<div class="line"><span class="lineno"> 2180</span>                     <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;invalid block status for replay&quot;</span> );</div>
<div class="line"><span class="lineno"> 2181</span> </div>
<div class="line"><span class="lineno"> 2182</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a> &gt; 0 &amp;&amp; <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a> &lt; <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4">head_block_num</a>() ) {</div>
<div class="line"><span class="lineno"> 2183</span>            <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Reached configured maximum block ${num}; terminating&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5352099a52d4b3f078ec78122393ba21">terminate_at_block</a>) );</div>
<div class="line"><span class="lineno"> 2184</span>            <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>();</div>
<div class="line"><span class="lineno"> 2185</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2186</span>         }</div>
<div class="line"><span class="lineno"> 2187</span> </div>
<div class="line"><span class="lineno"> 2188</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a4fc6dcda025714506dce2a3ed924a21c">pre_accepted_block</a>, b );</div>
<div class="line"><span class="lineno"> 2189</span>         <span class="keyword">const</span> <span class="keywordtype">bool</span> skip_validate_signee = !<a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a5845874d26f30413374713814cde5749">force_all_checks</a>;</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>         <span class="keyword">auto</span> bsp = std::make_shared&lt;block_state&gt;(</div>
<div class="line"><span class="lineno"> 2192</span>                        *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>,</div>
<div class="line"><span class="lineno"> 2193</span>                        b,</div>
<div class="line"><span class="lineno"> 2194</span>                        <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">get_protocol_feature_set</a>(),</div>
<div class="line"><span class="lineno"> 2195</span>                        [<span class="keyword">this</span>]( <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a> timestamp,</div>
<div class="line"><span class="lineno"> 2196</span>                                <span class="keyword">const</span> flat_set&lt;digest_type&gt;&amp; cur_features,</div>
<div class="line"><span class="lineno"> 2197</span>                                <span class="keyword">const</span> vector&lt;digest_type&gt;&amp; new_features )</div>
<div class="line"><span class="lineno"> 2198</span>                        { check_protocol_features( timestamp, cur_features, new_features ); },</div>
<div class="line"><span class="lineno"> 2199</span>                        skip_validate_signee</div>
<div class="line"><span class="lineno"> 2200</span>         );</div>
<div class="line"><span class="lineno"> 2201</span> </div>
<div class="line"><span class="lineno"> 2202</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> != <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">controller::block_status::irreversible</a> ) {</div>
<div class="line"><span class="lineno"> 2203</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079">add</a>( bsp, <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 2204</span>         }</div>
<div class="line"><span class="lineno"> 2205</span> </div>
<div class="line"><span class="lineno"> 2206</span>         <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a0a0659166483870bf065f4d5e671484e">accepted_block_header</a>, bsp );</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> == <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a7e6e4eb3ff27864637756cb4d2a2a45d">controller::block_status::irreversible</a> ) {</div>
<div class="line"><span class="lineno"> 2209</span>            <a class="code hl_function" href="#aaf795677a1a49a35ac1a819a1a157929">apply_block</a>( bsp, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a>{} );</div>
<div class="line"><span class="lineno"> 2210</span>            <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = bsp;</div>
<div class="line"><span class="lineno"> 2211</span> </div>
<div class="line"><span class="lineno"> 2212</span>            <span class="comment">// On replay, log_irreversible is not called and so no irreversible_block signal is emitted.</span></div>
<div class="line"><span class="lineno"> 2213</span>            <span class="comment">// So emit it explicitly here.</span></div>
<div class="line"><span class="lineno"> 2214</span>            <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#a27266ebf16b6dd19a860635f7d1f9930">irreversible_block</a>, bsp );</div>
<div class="line"><span class="lineno"> 2215</span> </div>
<div class="line"><span class="lineno"> 2216</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884">skip_db_sessions</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>)) {</div>
<div class="line"><span class="lineno"> 2217</span>               <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef">commit</a>(bsp-&gt;block_num);</div>
<div class="line"><span class="lineno"> 2218</span>            }</div>
<div class="line"><span class="lineno"> 2219</span> </div>
<div class="line"><span class="lineno"> 2220</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2221</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> != <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 2222</span>                        <span class="stringliteral">&quot;invariant failure: cannot replay reversible blocks while in irreversible mode&quot;</span> );</div>
<div class="line"><span class="lineno"> 2223</span>            <a class="code hl_function" href="#af15d89f9220ba97aa5c521e643746587">maybe_switch_forks</a>( bsp, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ae043a3bf1321067bf1e4e7e5ab0ce3cd">forked_branch_callback</a>{}, <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad7e9cbb02002c4e7ab9825becb9f9f50">trx_meta_cache_lookup</a>{} );</div>
<div class="line"><span class="lineno"> 2224</span>         }</div>
<div class="line"><span class="lineno"> 2225</span> </div>
<div class="line"><span class="lineno"> 2226</span>      } <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>( )</div>
<div class="line"><span class="lineno"> 2227</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a7b2f18a21e18a1bdc6837a567bb259eb"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a7b2f18a21e18a1bdc6837a567bb259eb">sysio::chain::controller::validate_db_available_size</a></div><div class="ttdeci">void validate_db_available_size() const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03371">controller.cpp:3371</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a5845874d26f30413374713814cde5749"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a5845874d26f30413374713814cde5749">sysio::chain::controller::config::force_all_checks</a></div><div class="ttdeci">bool force_all_checks</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00082">controller.hpp:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_cgraph">
<area shape="rect" title=" " alt="" coords="5,1346,174,1387"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a97cf1402b71020048ae0054e4d7c8079" title=" " alt="" coords="1028,324,1150,364"/>
<area shape="poly" title=" " alt="" coords="90,1346,100,1264,122,1141,139,1072,160,1000,187,929,219,862,317,683,361,611,408,548,460,492,524,441,602,393,698,346,738,331,779,322,863,313,944,316,1013,325,1012,331,943,322,864,319,780,327,739,336,700,351,604,398,527,445,464,496,412,552,366,614,322,686,224,864,192,931,165,1001,144,1073,127,1143,105,1265,95,1347"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="476,705,629,746"/>
<area shape="poly" title=" " alt="" coords="90,1346,100,1276,123,1176,139,1120,161,1064,187,1009,220,959,249,923,282,890,354,832,427,785,490,751,493,755,430,789,357,836,285,894,253,926,224,962,192,1012,166,1066,145,1122,128,1178,106,1277,96,1346"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="1270,553,1422,594"/>
<area shape="poly" title=" " alt="" coords="90,1346,129,1064,166,846,216,611,246,495,279,384,315,281,355,190,399,113,446,54,471,32,496,16,523,6,551,3,813,3,935,5,987,10,1034,19,1077,36,1120,61,1163,95,1207,141,1228,170,1240,198,1245,224,1245,251,1244,307,1247,339,1256,374,1292,464,1328,538,1324,540,1287,466,1250,376,1242,340,1239,308,1240,251,1239,225,1235,199,1223,173,1203,144,1159,99,1117,65,1075,41,1032,25,986,15,935,10,813,8,551,8,525,11,499,21,474,37,449,58,403,116,360,192,320,283,284,385,251,496,221,612,171,847,134,1065,96,1346"/>
<area shape="rect" href="classchainbase_1_1database.html#aca6d7bcd700644f077b89203b2e8b7ef" title=" " alt="" coords="1276,1702,1417,1743"/>
<area shape="poly" title=" " alt="" coords="98,1387,112,1439,137,1509,173,1585,197,1622,224,1654,300,1732,334,1762,368,1786,405,1805,446,1818,494,1826,551,1828,813,1828,925,1830,1012,1830,1097,1821,1204,1795,1255,1774,1301,1749,1303,1754,1258,1779,1206,1800,1098,1826,1012,1835,925,1835,813,1833,551,1833,494,1831,445,1823,403,1810,366,1791,330,1767,296,1736,220,1658,192,1625,169,1588,132,1511,107,1441,93,1388"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="1013,1051,1164,1107"/>
<area shape="poly" title=" " alt="" coords="145,1343,284,1293,453,1238,751,1156,997,1096,999,1102,752,1161,455,1243,286,1298,147,1348"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884" title=" " alt="" coords="1013,1220,1165,1260"/>
<area shape="poly" title=" " alt="" coords="108,1386,159,1447,238,1528,286,1570,339,1610,396,1644,455,1671,508,1687,552,1692,596,1686,651,1671,741,1637,776,1620,807,1600,835,1577,863,1549,922,1473,934,1453,941,1434,946,1398,951,1362,958,1342,971,1321,999,1291,1032,1267,1035,1271,1003,1295,975,1324,963,1345,956,1363,951,1399,946,1435,939,1455,927,1476,867,1552,839,1581,810,1605,779,1625,743,1642,652,1676,597,1692,552,1698,507,1693,453,1676,393,1649,336,1614,283,1574,234,1532,155,1451,104,1389"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="238,1868,390,1908"/>
<area shape="poly" title=" " alt="" coords="93,1387,96,1470,102,1528,112,1592,128,1659,151,1727,183,1791,224,1848,233,1857,229,1861,220,1851,178,1793,147,1729,123,1661,107,1593,97,1529,91,1471,88,1388"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="224,1346,404,1387"/>
<area shape="poly" title=" " alt="" coords="174,1364,208,1364,208,1369,174,1369"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7b2f18a21e18a1bdc6837a567bb259eb" title=" " alt="" coords="222,1933,406,1974"/>
<area shape="poly" title=" " alt="" coords="96,1387,110,1497,136,1656,154,1738,175,1814,198,1876,224,1918,226,1921,223,1925,220,1922,193,1878,170,1816,149,1740,131,1657,105,1497,90,1388"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aed82882c38a7b9a2ab8ccf26b7d68126" title="push_block" alt="" coords="1013,986,1165,1027"/>
<area shape="poly" title=" " alt="" coords="561,746,574,798,601,867,619,903,642,936,669,967,701,991,735,1009,773,1022,811,1030,851,1034,928,1033,997,1025,998,1030,928,1039,851,1039,811,1035,771,1027,733,1014,698,996,665,971,638,940,615,905,596,869,569,800,555,747"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="736,836,888,876"/>
<area shape="poly" title=" " alt="" coords="581,744,635,782,701,820,722,829,720,834,698,825,632,787,578,748"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="973,258,1205,299"/>
<area shape="poly" title=" " alt="" coords="553,704,561,635,583,537,602,485,627,433,658,386,698,346,726,326,757,309,823,286,892,273,957,268,957,274,893,278,825,291,759,314,729,330,701,350,662,390,631,436,607,487,589,539,566,636,558,705"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="736,1306,888,1347"/>
<area shape="poly" title=" " alt="" coords="562,746,611,915,652,1032,702,1148,746,1227,789,1292,784,1295,741,1230,697,1151,647,1034,606,917,557,747"/>
<area shape="rect" href="classsysio_1_1chain_1_1named__thread__pool.html#ae2f5fa4611193d13bb40e34708d897ea" title=" " alt="" coords="723,485,901,526"/>
<area shape="poly" title=" " alt="" coords="562,703,583,667,613,622,652,576,698,537,708,530,711,535,701,541,656,580,617,626,587,670,567,706"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1253,129,1439,154"/>
<area shape="poly" title=" " alt="" coords="553,705,564,576,589,385,608,287,633,198,662,126,679,99,698,79,734,55,773,36,814,23,856,15,900,12,944,13,1031,24,1116,44,1192,69,1307,119,1305,124,1190,74,1114,49,1030,29,943,18,900,17,857,21,815,29,775,41,737,59,701,83,683,102,667,129,638,200,614,288,595,386,569,577,558,705"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="1006,155,1172,181"/>
<area shape="poly" title=" " alt="" coords="554,705,570,598,599,445,619,367,642,296,668,239,682,217,698,201,719,188,748,179,823,167,909,162,991,162,991,167,909,168,824,172,749,184,721,193,701,205,687,220,673,241,647,298,624,369,605,447,575,599,559,705"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a148db3e15c5b5a5cd3fd6b42799d1152" title=" " alt="" coords="699,574,925,615"/>
<area shape="poly" title=" " alt="" coords="578,702,632,664,698,626,716,618,718,623,701,630,635,668,581,707"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="1009,438,1168,479"/>
<area shape="poly" title=" " alt="" coords="556,704,571,654,598,589,617,555,640,523,667,495,698,471,733,454,770,441,809,433,848,428,925,428,994,436,993,441,925,433,849,434,810,438,772,446,735,458,701,476,670,499,644,527,622,558,603,591,576,656,561,705"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a42a29a059b847799ae3a75953b6bff1e" title=" " alt="" coords="1270,322,1422,363"/>
<area shape="poly" title=" " alt="" coords="551,704,556,626,564,572,576,513,594,452,620,392,654,337,698,290,740,265,799,247,868,234,944,227,1020,224,1093,227,1156,233,1206,244,1237,257,1266,273,1314,310,1311,314,1263,278,1234,262,1204,249,1155,239,1092,232,1020,230,944,232,869,239,800,252,742,270,701,294,658,340,624,395,599,454,581,514,569,573,562,626,557,705"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af932f3160706510eaf30e2b76f386973" title=" " alt="" coords="711,640,913,680"/>
<area shape="poly" title=" " alt="" coords="629,704,713,682,714,687,630,709"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a59e341a41ba27734555c54c37bacf358" title=" " alt="" coords="736,770,888,811"/>
<area shape="poly" title=" " alt="" coords="630,742,721,765,720,770,629,747"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="736,705,888,746"/>
<area shape="poly" title=" " alt="" coords="629,723,720,723,720,728,629,728"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#a122861328470aa67ebf9ac5cb798755d" title=" " alt="" coords="711,93,913,134"/>
<area shape="poly" title=" " alt="" coords="554,704,570,591,601,425,621,339,643,260,669,195,697,150,708,141,712,144,701,154,674,198,648,262,626,340,606,426,576,592,559,705"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="735,1372,889,1412"/>
<area shape="poly" title=" " alt="" coords="560,746,584,879,621,1073,664,1257,684,1322,701,1357,723,1373,720,1377,697,1360,679,1324,659,1259,616,1075,578,880,555,747"/>
<area shape="rect" href="structsysio_1_1chain_1_1s__header.html#a2075610dd92e3718f545b14adcd3ebf7" title=" " alt="" coords="736,901,888,942"/>
<area shape="poly" title=" " alt="" coords="569,745,621,814,658,853,701,886,723,897,720,902,698,890,655,857,617,818,565,748"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="756,385,868,410"/>
<area shape="poly" title=" " alt="" coords="556,704,570,649,597,574,616,534,639,495,666,459,698,427,718,414,741,405,743,410,720,419,701,432,670,463,643,498,620,537,602,576,575,650,561,705"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="746,1437,878,1462"/>
<area shape="poly" title=" " alt="" coords="560,746,629,1118,672,1323,689,1392,701,1422,715,1433,732,1441,730,1445,713,1438,697,1426,684,1393,667,1324,624,1119,555,747"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5b8ed9cc5cb5822d6cb645a3b7a5f98c" title=" " alt="" coords="1258,1810,1434,1865"/>
<area shape="poly" title=" " alt="" coords="1166,1011,1189,1021,1207,1037,1224,1064,1236,1098,1243,1138,1248,1183,1249,1282,1243,1390,1236,1498,1233,1600,1238,1688,1245,1724,1255,1754,1271,1777,1291,1798,1287,1802,1267,1781,1251,1756,1240,1725,1232,1688,1228,1600,1231,1498,1238,1389,1243,1282,1242,1183,1238,1139,1231,1100,1219,1067,1203,1040,1186,1026,1164,1016"/>
<area shape="poly" title=" " alt="" coords="888,844,907,835,923,821,941,796,953,772,961,748,965,725,964,678,955,632,945,584,941,534,947,481,956,454,970,425,996,394,1028,370,1031,375,1000,398,975,428,961,456,952,483,946,534,951,583,960,631,969,678,970,725,966,750,958,774,945,799,927,825,910,839,890,849"/>
<area shape="poly" title=" " alt="" coords="890,868,926,887,944,909,951,931,958,952,974,971,1000,986,997,991,971,975,953,954,946,932,939,911,923,891,887,872"/>
<area shape="poly" title=" " alt="" coords="888,838,1077,795,1159,773,1204,755,1221,738,1230,720,1237,699,1251,676,1312,604,1316,607,1255,679,1242,702,1235,722,1225,741,1206,760,1161,778,1078,800,889,843"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="994,705,1184,746"/>
<area shape="poly" title=" " alt="" coords="887,838,923,821,938,807,946,792,955,777,971,762,991,750,994,755,974,766,960,780,951,795,942,810,926,825,890,843"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="1286,813,1407,854"/>
<area shape="poly" title=" " alt="" coords="888,850,1270,834,1270,839,888,856"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="1013,921,1165,962"/>
<area shape="poly" title=" " alt="" coords="885,875,925,887,1009,913,1008,918,924,892,883,880"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a764fc46000bb93901ba6440fec07b5f9" title=" " alt="" coords="1270,921,1422,962"/>
<area shape="poly" title=" " alt="" coords="889,862,1036,880,1205,907,1255,917,1254,922,1205,912,1035,885,888,867"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="1014,655,1164,681"/>
<area shape="poly" title=" " alt="" coords="887,842,906,833,923,821,935,805,942,790,945,757,949,724,957,707,971,691,998,675,1001,680,974,695,961,710,955,725,951,758,947,791,940,808,927,825,909,837,890,846"/>
<area shape="poly" title=" " alt="" coords="1023,965,953,981,869,990,825,989,781,984,738,973,698,956,671,938,647,915,608,863,580,809,562,762,567,760,585,806,613,860,651,912,674,933,701,951,740,968,782,979,825,984,869,984,952,976,1022,960"/>
<area shape="poly" title=" " alt="" coords="1109,919,1155,867,1203,800,1218,767,1226,738,1234,710,1251,676,1279,637,1310,603,1314,607,1283,640,1255,679,1239,712,1231,740,1223,769,1207,803,1159,870,1113,923"/>
<area shape="poly" title=" " alt="" coords="1138,918,1281,858,1283,863,1140,923"/>
<area shape="poly" title=" " alt="" coords="1166,947,1189,957,1207,973,1223,1001,1234,1035,1241,1076,1244,1121,1241,1223,1233,1332,1224,1441,1221,1543,1224,1588,1230,1628,1240,1662,1255,1689,1264,1699,1260,1702,1251,1692,1235,1664,1225,1629,1219,1589,1216,1543,1219,1441,1228,1332,1236,1222,1238,1121,1236,1076,1229,1037,1219,1003,1203,976,1186,961,1164,952"/>
<area shape="poly" title=" " alt="" coords="1166,939,1255,939,1255,944,1166,944"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="1522,1098,1663,1139"/>
<area shape="poly" title=" " alt="" coords="1416,1705,1437,1689,1464,1648,1489,1588,1512,1515,1532,1434,1564,1274,1583,1154,1589,1155,1569,1275,1537,1435,1517,1516,1494,1590,1469,1651,1441,1693,1419,1709"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9ae4fff15a76a1c3089fdf0f3353a17f" title=" " alt="" coords="999,1702,1179,1743"/>
<area shape="poly" title=" " alt="" coords="890,1334,910,1344,927,1358,942,1379,953,1400,962,1441,960,1482,952,1522,944,1562,942,1602,950,1642,960,1662,975,1682,988,1694,984,1698,971,1686,955,1665,945,1643,937,1602,939,1561,947,1521,954,1481,957,1442,948,1402,938,1382,923,1362,907,1348,887,1339"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a80d7ea5476f97bf51a25149b55469c40" title=" " alt="" coords="1277,1653,1415,1678"/>
<area shape="poly" title=" " alt="" coords="889,1334,909,1344,927,1358,949,1395,957,1432,955,1468,948,1504,941,1540,940,1574,950,1606,974,1638,994,1650,1022,1659,1096,1669,1181,1671,1261,1669,1262,1674,1181,1676,1096,1674,1021,1664,992,1655,971,1642,945,1609,935,1574,936,1539,942,1503,949,1468,952,1432,944,1397,923,1362,907,1348,887,1339"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a78427c6c856e3f2398f434c7d9366a84" title=" " alt="" coords="991,1334,1186,1375"/>
<area shape="poly" title=" " alt="" coords="889,1332,976,1341,975,1346,888,1337"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="1013,1130,1165,1171"/>
<area shape="poly" title=" " alt="" coords="829,1304,888,1244,928,1210,971,1182,997,1170,999,1175,974,1186,931,1215,892,1248,833,1308"/>
<area shape="poly" title=" " alt="" coords="832,1304,875,1257,922,1199,936,1176,943,1156,953,1136,971,1117,998,1100,1000,1105,974,1121,957,1139,948,1158,940,1178,927,1202,879,1260,836,1308"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a983919d376e5757bceee573e52b3c571" title=" " alt="" coords="996,1478,1182,1549"/>
<area shape="poly" title=" " alt="" coords="890,1337,909,1346,926,1358,939,1371,946,1385,952,1412,957,1439,964,1452,975,1465,985,1474,982,1478,971,1469,959,1455,952,1441,947,1413,941,1387,934,1375,923,1362,906,1351,887,1342"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a5ebf5f04366d7120f58430d9ba4f8c7a" title=" " alt="" coords="983,1572,1195,1628"/>
<area shape="poly" title=" " alt="" coords="889,1335,909,1345,927,1358,945,1384,953,1409,954,1435,952,1460,950,1485,951,1509,958,1534,975,1558,977,1560,973,1564,971,1562,953,1536,945,1510,944,1484,947,1459,949,1435,947,1410,940,1386,923,1362,906,1349,887,1340"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a4396d0acb70ebbd8054b13ff4c564e20" title=" " alt="" coords="982,1399,1196,1455"/>
<area shape="poly" title=" " alt="" coords="889,1344,926,1358,974,1384,988,1390,986,1395,971,1389,924,1363,887,1349"/>
<area shape="rect" href="chain_2include_2sysio_2chain_2config_8hpp.html#a0b4bacb63f31764f50a185f320551fbc" title=" " alt="" coords="1286,690,1406,716"/>
<area shape="poly" title=" " alt="" coords="888,1319,1079,1299,1161,1285,1189,1278,1203,1270,1215,1254,1224,1233,1235,1180,1238,1115,1237,1044,1235,905,1239,846,1251,800,1263,778,1279,757,1313,724,1317,728,1283,761,1268,781,1255,802,1244,846,1240,905,1243,1044,1243,1115,1240,1180,1229,1235,1219,1257,1207,1274,1191,1283,1162,1291,1079,1304,889,1324"/>
<area shape="poly" title=" " alt="" coords="1179,1700,1270,1680,1271,1685,1180,1705"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1487,129,1698,154"/>
<area shape="poly" title=" " alt="" coords="1440,139,1472,139,1472,144,1440,144"/>
<area shape="poly" title=" " alt="" coords="1172,157,1237,150,1238,155,1172,162"/>
<area shape="poly" title=" " alt="" coords="763,574,761,564,769,555,786,550,812,548,840,550,856,556,855,561,839,555,812,553,787,555,772,560,766,566,769,573"/>
<area shape="poly" title=" " alt="" coords="1137,477,1286,544,1284,549,1135,482"/>
<area shape="poly" title=" " alt="" coords="1114,478,1322,677,1319,681,1110,481"/>
<area shape="poly" title=" " alt="" coords="1158,435,1204,418,1297,369,1299,374,1206,423,1160,440"/>
<area shape="poly" title=" " alt="" coords="887,709,923,690,939,669,945,647,952,625,971,605,1004,586,1040,573,1114,557,1188,553,1255,557,1254,562,1188,558,1115,562,1041,578,1007,591,974,609,957,628,950,649,944,672,926,694,890,714"/>
<area shape="poly" title=" " alt="" coords="889,723,978,723,978,728,889,728"/>
<area shape="poly" title=" " alt="" coords="888,706,923,690,937,678,946,664,955,651,971,640,1036,616,1091,605,1118,607,1145,613,1206,641,1227,659,1236,679,1243,702,1255,727,1316,800,1312,803,1251,730,1238,704,1231,681,1223,662,1204,645,1144,618,1117,612,1091,611,1037,621,974,645,959,655,950,667,941,681,926,694,890,711"/>
<area shape="poly" title=" " alt="" coords="887,711,906,702,923,690,935,675,942,659,944,625,948,592,956,576,971,561,1012,539,1068,522,1135,509,1206,502,1277,501,1344,507,1400,519,1441,539,1457,556,1473,578,1500,637,1524,711,1544,794,1574,958,1590,1082,1585,1083,1568,959,1539,795,1519,713,1495,639,1468,581,1453,559,1438,544,1398,524,1343,512,1277,507,1206,508,1135,514,1070,527,1014,544,974,565,961,579,953,593,950,626,947,660,940,677,927,694,909,707,890,716"/>
<area shape="poly" title=" " alt="" coords="888,707,1008,682,1009,687,889,712"/>
<area shape="poly" title=" " alt="" coords="887,713,907,704,923,690,940,666,951,643,958,619,960,596,956,549,946,503,935,455,931,408,934,384,941,359,953,335,971,310,973,308,977,311,975,314,957,338,946,361,939,385,937,408,941,455,951,501,962,548,966,596,963,620,956,645,944,669,927,694,910,708,890,718"/>
<area shape="poly" title=" " alt="" coords="890,733,910,742,927,757,944,780,955,804,962,827,964,850,961,895,951,940,941,984,938,1028,940,1050,947,1072,958,1095,975,1117,1000,1136,997,1140,971,1121,954,1097,942,1074,935,1051,933,1028,936,983,946,939,955,894,959,850,956,828,950,805,939,783,923,761,907,747,887,738"/>
<area shape="poly" title=" " alt="" coords="889,733,909,743,927,757,950,793,959,829,958,864,952,899,946,933,945,967,953,1002,975,1037,1001,1057,998,1062,971,1041,948,1004,940,968,941,932,947,898,952,863,953,829,945,795,923,761,907,747,887,738"/>
<area shape="poly" title=" " alt="" coords="888,713,907,703,923,690,944,658,952,625,950,592,945,559,939,525,939,492,948,458,971,425,999,403,1027,393,1056,391,1084,393,1113,397,1143,397,1172,390,1203,374,1226,344,1261,287,1328,166,1333,169,1266,290,1231,347,1207,378,1174,395,1143,402,1113,402,1084,399,1056,396,1028,398,1001,408,975,429,952,460,944,492,945,525,950,558,956,591,957,625,949,660,927,694,910,708,890,717"/>
<area shape="poly" title=" " alt="" coords="888,713,907,704,923,690,943,662,957,635,965,608,969,582,966,529,955,477,944,423,937,367,939,338,944,308,954,277,970,245,984,227,1002,210,1039,186,1042,190,1005,215,988,230,975,248,959,279,949,309,944,338,943,367,949,422,961,476,971,529,974,582,970,609,962,637,947,665,927,694,910,708,890,718"/>
<area shape="poly" title=" " alt="" coords="888,712,907,703,923,690,940,667,947,643,948,619,946,595,944,571,946,546,953,521,971,496,994,478,997,482,975,499,958,523,951,547,950,571,952,595,954,619,952,644,944,669,927,694,910,707,890,717"/>
<area shape="poly" title=" " alt="" coords="890,733,910,742,927,757,946,784,960,811,968,838,971,864,967,916,956,968,944,1019,939,1071,941,1098,947,1125,958,1153,975,1181,989,1197,1007,1210,1004,1214,986,1201,971,1184,953,1155,942,1127,936,1099,934,1071,939,1018,951,966,962,916,966,865,962,839,955,813,942,787,923,761,907,747,888,737"/>
<area shape="poly" title=" " alt="" coords="1041,1220,1038,1210,1046,1201,1063,1195,1089,1193,1116,1195,1133,1202,1131,1207,1115,1201,1089,1198,1064,1200,1049,1205,1043,1211,1046,1218"/>
<area shape="poly" title=" " alt="" coords="913,116,1238,133,1237,138,913,121"/>
<area shape="poly" title=" " alt="" coords="914,131,1006,149,1005,154,913,136"/>
<area shape="poly" title=" " alt="" coords="769,386,761,376,766,366,783,360,812,358,844,361,860,368,858,373,843,366,812,363,784,365,769,370,766,375,773,382"/>
<area shape="poly" title=" " alt="" coords="320,1345,536,759,541,761,325,1347"/>
<area shape="poly" title=" " alt="" coords="322,1345,371,1258,408,1206,452,1158,513,1108,567,1076,698,1020,732,1008,763,1001,816,993,866,982,893,970,923,951,956,918,995,866,1065,758,1069,761,999,869,960,921,926,956,896,975,868,987,817,998,764,1006,734,1013,700,1025,569,1080,516,1112,456,1162,413,1209,376,1261,327,1348"/>
<area shape="poly" title=" " alt="" coords="333,1344,385,1293,452,1238,590,1148,702,1086,819,1033,972,972,997,963,999,968,974,977,821,1038,704,1090,592,1152,456,1242,388,1297,336,1348"/>
<area shape="poly" title=" " alt="" coords="359,1385,491,1453,653,1542,702,1574,742,1605,808,1662,839,1687,875,1711,919,1733,974,1752,1040,1774,1097,1788,1123,1789,1149,1784,1175,1773,1203,1753,1214,1738,1225,1712,1247,1632,1268,1525,1288,1403,1320,1154,1339,977,1344,977,1325,1155,1293,1403,1274,1526,1253,1633,1230,1714,1219,1741,1207,1757,1178,1777,1150,1790,1123,1794,1096,1793,1039,1779,972,1757,917,1738,873,1716,836,1692,804,1666,739,1609,699,1578,650,1546,489,1457,357,1390"/>
<area shape="poly" title=" " alt="" coords="404,1369,720,1385,720,1390,404,1374"/>
<area shape="poly" title=" " alt="" coords="405,1379,731,1433,730,1439,404,1384"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a77f152572f2703a40e9c198456fad748" title=" " alt="" coords="454,1556,651,1596"/>
<area shape="poly" title=" " alt="" coords="329,1386,379,1458,415,1499,456,1535,474,1547,471,1551,452,1540,411,1503,375,1461,325,1389"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="476,1252,629,1292"/>
<area shape="poly" title=" " alt="" coords="359,1343,453,1303,472,1296,474,1301,455,1308,361,1348"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a571b0d08f97b43706abab71f59d4d9f7" title=" " alt="" coords="476,1621,629,1662"/>
<area shape="poly" title=" " alt="" coords="324,1387,341,1432,368,1491,406,1553,429,1581,456,1606,464,1612,461,1617,452,1610,426,1585,402,1556,363,1493,336,1434,319,1388"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a193f10ce12656c580b023d36193a5cdc" title="fetch_branch_from_impl" alt="" coords="486,1317,619,1358"/>
<area shape="poly" title=" " alt="" coords="404,1353,470,1345,471,1350,405,1358"/>
<area shape="poly" title=" " alt="" coords="571,1660,623,1721,659,1752,700,1776,769,1803,842,1822,915,1836,989,1844,1128,1850,1243,1845,1243,1851,1128,1855,989,1850,915,1841,840,1827,768,1808,698,1781,656,1756,619,1724,567,1664"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391" title=" " alt="" coords="466,1969,640,1994"/>
<area shape="poly" title=" " alt="" coords="407,1962,450,1967,450,1972,406,1967"/>
<area shape="rect" href="classchainbase_1_1database.html#a64133afb9e0ae374eeab86bd1d4db08b" title=" " alt="" coords="472,1904,633,1944"/>
<area shape="poly" title=" " alt="" coords="406,1939,456,1933,457,1939,407,1945"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a2fe4194f0202db6c18bc17572b2adaa2_icgraph">
<area shape="rect" title=" " alt="" coords="406,5,574,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,5,358,46"/>
<area shape="poly" title=" " alt="" coords="391,28,359,28,359,23,391,23"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,5,158,46"/>
<area shape="poly" title=" " alt="" coords="190,28,158,28,158,23,190,23"/>
</map>
</div>

</div>
</div>
<a id="af932f3160706510eaf30e2b76f386973" name="af932f3160706510eaf30e2b76f386973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af932f3160706510eaf30e2b76f386973">&#9670;&#160;</a></span>report_block_header_diff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::report_block_header_diff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1block__header.html">block_header</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1block__header.html">block_header</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ab</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01927">1927</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1927</span>                                                                                  {</div>
<div class="line"><span class="lineno"> 1928</span> </div>
<div class="line"><span class="lineno"> 1929</span><span class="preprocessor">#define SYS_REPORT(DESC,A,B) \</span></div>
<div class="line"><span class="lineno"> 1930</span><span class="preprocessor">   if( A != B ) { \</span></div>
<div class="line"><span class="lineno"> 1931</span><span class="preprocessor">      elog(&quot;${desc}: ${bv} != ${abv}&quot;, (&quot;desc&quot;, DESC)(&quot;bv&quot;, A)(&quot;abv&quot;, B)); \</span></div>
<div class="line"><span class="lineno"> 1932</span><span class="preprocessor">   }</span></div>
<div class="line"><span class="lineno"> 1933</span> </div>
<div class="line"><span class="lineno"> 1934</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( <span class="stringliteral">&quot;timestamp&quot;</span>, b.timestamp, ab.timestamp )</div>
<div class="line"><span class="lineno"> 1935</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;producer&quot;, b.producer, ab.producer )</div>
<div class="line"><span class="lineno"> 1936</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;confirmed&quot;, b.confirmed, ab.confirmed )</div>
<div class="line"><span class="lineno"> 1937</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;previous&quot;, b.previous, ab.previous )</div>
<div class="line"><span class="lineno"> 1938</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;transaction_mroot&quot;, b.transaction_mroot, ab.transaction_mroot )</div>
<div class="line"><span class="lineno"> 1939</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;action_mroot&quot;, b.action_mroot, ab.action_mroot )</div>
<div class="line"><span class="lineno"> 1940</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;schedule_version&quot;, b.schedule_version, ab.schedule_version )</div>
<div class="line"><span class="lineno"> 1941</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;new_producers&quot;, b.new_producers, ab.new_producers )</div>
<div class="line"><span class="lineno"> 1942</span>      <a class="code hl_define" href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a>( &quot;header_extensions&quot;, b.header_extensions, ab.header_extensions )</div>
<div class="line"><span class="lineno"> 1943</span> </div>
<div class="line"><span class="lineno"> 1944</span><span class="preprocessor">#undef SYS_REPORT</span></div>
<div class="line"><span class="lineno"> 1945</span>   }</div>
<div class="ttc" id="acontroller_8cpp_html_aefcef1ac3f0ac4f01876837e1e9f66d7"><div class="ttname"><a href="controller_8cpp.html#aefcef1ac3f0ac4f01876837e1e9f66d7">SYS_REPORT</a></div><div class="ttdeci">#define SYS_REPORT(DESC, A, B)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_af932f3160706510eaf30e2b76f386973_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_af932f3160706510eaf30e2b76f386973_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_af932f3160706510eaf30e2b76f386973_icgraph" id="astructsysio_1_1chain_1_1controller__impl_af932f3160706510eaf30e2b76f386973_icgraph">
<area shape="rect" title=" " alt="" coords="1251,92,1454,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="ab9468e19953b5bb9ace497c98ee4ecc1" name="ab9468e19953b5bb9ace497c98ee4ecc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9468e19953b5bb9ace497c98ee4ecc1">&#9670;&#160;</a></span>scheduled_failure_is_subjective()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::scheduled_failure_is_subjective </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfc_1_1exception.html">fc::exception</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>e</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01212">1212</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1212</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1213</span>      <span class="keyword">auto</span> code = e.<a class="code hl_function" href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f">code</a>();</div>
<div class="line"><span class="lineno"> 1214</span>      <span class="keywordflow">return</span>    (code == tx_cpu_usage_exceeded::code_value)</div>
<div class="line"><span class="lineno"> 1215</span>             || <a class="code hl_function" href="#ad0d5a921dd01458d1464f63b0f0121c6">failure_is_subjective</a>(e);</div>
<div class="line"><span class="lineno"> 1216</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_cgraph" id="astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,167,61"/>
<area shape="rect" href="classfc_1_1exception.html#a79a36225cde10dcd23057bbe19d3390f" title=" " alt="" coords="441,20,573,46"/>
<area shape="poly" title=" " alt="" coords="167,28,215,27,393,27,426,27,425,33,393,32,215,32,167,33"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0d5a921dd01458d1464f63b0f0121c6" title=" " alt="" coords="215,41,393,82"/>
<area shape="poly" title=" " alt="" coords="167,41,199,45,199,50,166,46"/>
<area shape="poly" title=" " alt="" coords="393,46,426,42,426,47,394,52"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_icgraph" id="astructsysio_1_1chain_1_1controller__impl_ab9468e19953b5bb9ace497c98ee4ecc1_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,440,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,13,231,54"/>
<area shape="poly" title=" " alt="" coords="263,36,231,36,231,30,263,30"/>
</map>
</div>

</div>
</div>
<a id="aea41b3020ee2994f7a15980fcbf9b735" name="aea41b3020ee2994f7a15980fcbf9b735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea41b3020ee2994f7a15980fcbf9b735">&#9670;&#160;</a></span>sender_avoids_whitelist_blacklist_enforcement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::sender_avoids_whitelist_blacklist_enforcement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>sender</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02397">2397</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2397</span>                                                                                  {</div>
<div class="line"><span class="lineno"> 2398</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a8440b353861fe179036cb8af088323ff">sender_bypass_whiteblacklist</a>.size() &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 2399</span>          ( <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a8440b353861fe179036cb8af088323ff">sender_bypass_whiteblacklist</a>.find( sender ) != <a class="code hl_variable" href="#a048ac8e4d4436902a1888df13575b252">conf</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1controller_1_1config.html#a8440b353861fe179036cb8af088323ff">sender_bypass_whiteblacklist</a>.end() ) )</div>
<div class="line"><span class="lineno"> 2400</span>      {</div>
<div class="line"><span class="lineno"> 2401</span>         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2402</span>      }</div>
<div class="line"><span class="lineno"> 2403</span> </div>
<div class="line"><span class="lineno"> 2404</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2405</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller_1_1config_html_a8440b353861fe179036cb8af088323ff"><div class="ttname"><a href="structsysio_1_1chain_1_1controller_1_1config.html#a8440b353861fe179036cb8af088323ff">sysio::chain::controller::config::sender_bypass_whiteblacklist</a></div><div class="ttdeci">flat_set&lt; account_name &gt; sender_bypass_whiteblacklist</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00066">controller.hpp:66</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_aea41b3020ee2994f7a15980fcbf9b735_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_aea41b3020ee2994f7a15980fcbf9b735_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_aea41b3020ee2994f7a15980fcbf9b735_icgraph" id="astructsysio_1_1chain_1_1controller__impl_aea41b3020ee2994f7a15980fcbf9b735_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,478,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,13,231,54"/>
<area shape="poly" title=" " alt="" coords="263,36,231,36,231,30,263,30"/>
</map>
</div>

</div>
</div>
<a id="a2bfcf9116962baafa5ca07d198183189" name="a2bfcf9116962baafa5ca07d198183189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bfcf9116962baafa5ca07d198183189">&#9670;&#160;</a></span>set_activation_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a> F&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::set_activation_handler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00282">282</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  282</span>                                        {</div>
<div class="line"><span class="lineno">  283</span>      <span class="keyword">auto</span> res = <a class="code hl_variable" href="#ac9a42879c69a343b4405b035e7cff29a">protocol_feature_activation_handlers</a>.emplace( F, &amp;<a class="code hl_function" href="#ab1190a7a5947a5d8441eafcf33fba744">controller_impl::on_activation&lt;F&gt;</a> );</div>
<div class="line"><span class="lineno">  284</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( res.second, misc_exception, <span class="stringliteral">&quot;attempting to set activation handler twice&quot;</span> );</div>
<div class="line"><span class="lineno">  285</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ab1190a7a5947a5d8441eafcf33fba744"><div class="ttname"><a href="#ab1190a7a5947a5d8441eafcf33fba744">sysio::chain::controller_impl::on_activation</a></div><div class="ttdeci">void on_activation()</div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ac9a42879c69a343b4405b035e7cff29a"><div class="ttname"><a href="#ac9a42879c69a343b4405b035e7cff29a">sysio::chain::controller_impl::protocol_feature_activation_handlers</a></div><div class="ttdeci">unordered_map&lt; builtin_protocol_feature_t, std::function&lt; void(controller_impl &amp;)&gt;, enum_hash&lt; builtin_protocol_feature_t &gt; &gt; protocol_feature_activation_handlers</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00257">controller.cpp:257</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a2bfcf9116962baafa5ca07d198183189_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a2bfcf9116962baafa5ca07d198183189_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a2bfcf9116962baafa5ca07d198183189_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a2bfcf9116962baafa5ca07d198183189_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,196,46"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ab1190a7a5947a5d8441eafcf33fba744" title=" " alt="" coords="244,5,396,46"/>
<area shape="poly" title=" " alt="" coords="196,23,228,23,228,28,196,28"/>
</map>
</div>

</div>
</div>
<a id="a866a2ded537cb72ff21ae968a7940432" name="a866a2ded537cb72ff21ae968a7940432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866a2ded537cb72ff21ae968a7940432">&#9670;&#160;</a></span>set_apply_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::set_apply_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>receiver</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>contract</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a7a1685bcc352cda9e45f055932069428">action_name</a></td>          <td class="paramname"><span class="paramname"><em>action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ab143988ae1cae85e839b01eb768804c3">apply_handler</a></td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00293">293</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>                                                                                                               {</div>
<div class="line"><span class="lineno">  294</span>      <a class="code hl_variable" href="#a67d7a4050a78ec74aaf524a46bbcdf54">apply_handlers</a>[receiver][make_pair(contract,<a class="code hl_struct" href="structaction.html">action</a>)] = v;</div>
<div class="line"><span class="lineno">  295</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a67d7a4050a78ec74aaf524a46bbcdf54"><div class="ttname"><a href="#a67d7a4050a78ec74aaf524a46bbcdf54">sysio::chain::controller_impl::apply_handlers</a></div><div class="ttdeci">map&lt; account_name, map&lt; handler_key, apply_handler &gt; &gt; apply_handlers</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00256">controller.cpp:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dbf7da25185959b9a8ea1bf7a47a566" name="a9dbf7da25185959b9a8ea1bf7a47a566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dbf7da25185959b9a8ea1bf7a47a566">&#9670;&#160;</a></span>start_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::start_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a11965fc424809ea1802175f8b36ae4e5">block_timestamp_type</a></td>          <td class="paramname"><span class="paramname"><em>when</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></td>          <td class="paramname"><span class="paramname"><em>confirm_block_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfc_1_1vector.html">vector</a>&lt; <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>new_protocol_feature_activations</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6">controller::block_status</a></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>producer_block_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfc_1_1time__point.html">fc::time_point</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>deadline</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l01592">1592</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1598</span>   {</div>
<div class="line"><span class="lineno"> 1599</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>, <span class="stringliteral">&quot;pending block already exists&quot;</span> );</div>
<div class="line"><span class="lineno"> 1600</span> </div>
<div class="line"><span class="lineno"> 1601</span>      <a class="code hl_function" href="#a6380e434da95a328ff48ccab33df9cb0">emit</a>( <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_variable" href="classsysio_1_1chain_1_1controller.html#adbf19ff6a0a51a5d85e2be416a586dcc">block_start</a>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1 );</div>
<div class="line"><span class="lineno"> 1602</span> </div>
<div class="line"><span class="lineno"> 1603</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = <a class="code hl_function" href="#a1b67831f3be3a668c170723427236954">get_deep_mind_logger</a>()) {</div>
<div class="line"><span class="lineno"> 1604</span>         <span class="comment">// The head block represents the block just before this one that is about to start, so add 1 to get this block num</span></div>
<div class="line"><span class="lineno"> 1605</span>         dm_logger-&gt;on_start_block(<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1);</div>
<div class="line"><span class="lineno"> 1606</span>      }</div>
<div class="line"><span class="lineno"> 1607</span> </div>
<div class="line"><span class="lineno"> 1608</span>      <span class="keyword">auto</span> guard_pending = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([<span class="keyword">this</span>, head_block_num=<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num](){</div>
<div class="line"><span class="lineno"> 1609</span>         protocol_features.popped_blocks_to( head_block_num );</div>
<div class="line"><span class="lineno"> 1610</span>         pending.reset();</div>
<div class="line"><span class="lineno"> 1611</span>      });</div>
<div class="line"><span class="lineno"> 1612</span> </div>
<div class="line"><span class="lineno"> 1613</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884">skip_db_sessions</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>)) {</div>
<div class="line"><span class="lineno"> 1614</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() == <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a6b9cb254135911c4a6d577a9ab7fdd4e">database_exception</a>, <span class="stringliteral">&quot;db revision is not on par with head block&quot;</span>,</div>
<div class="line"><span class="lineno"> 1615</span>                     (<span class="stringliteral">&quot;db.revision()&quot;</span>, <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>())(<span class="stringliteral">&quot;controller_head_block&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num)(<span class="stringliteral">&quot;fork_db_head_block&quot;</span>, <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;block_num) );</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span>         <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>.emplace( maybe_session(<a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>), *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>, when, confirm_block_count, new_protocol_feature_activations );</div>
<div class="line"><span class="lineno"> 1618</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1619</span>         <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>.emplace( maybe_session(), *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>, when, confirm_block_count, new_protocol_feature_activations );</div>
<div class="line"><span class="lineno"> 1620</span>      }</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span>      <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_status = <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1623</span>      <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_producer_block_id = producer_block_id;</div>
<div class="line"><span class="lineno"> 1624</span> </div>
<div class="line"><span class="lineno"> 1625</span>      <span class="keyword">auto</span>&amp; bb = std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage);</div>
<div class="line"><span class="lineno"> 1626</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pbhs = bb._pending_block_header_state;</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>      <span class="comment">// modify state of speculative block only if we are in speculative read mode (otherwise we need clean state for head or read-only modes)</span></div>
<div class="line"><span class="lineno"> 1629</span>      <span class="keywordflow">if</span> ( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">db_read_mode::SPECULATIVE</a> || <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_status != <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1controller.html#a8b5124e077de1a73bb193e9c72b366b6a5ed4e9858ad8d239145ef285b6210a00">controller::block_status::incomplete</a> )</div>
<div class="line"><span class="lineno"> 1630</span>      {</div>
<div class="line"><span class="lineno"> 1631</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pso = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;protocol_state_object&gt;();</div>
<div class="line"><span class="lineno"> 1632</span> </div>
<div class="line"><span class="lineno"> 1633</span>         <span class="keyword">auto</span> num_preactivated_protocol_features = pso.preactivated_protocol_features.size();</div>
<div class="line"><span class="lineno"> 1634</span>         <span class="keywordtype">bool</span> handled_all_preactivated_features = (num_preactivated_protocol_features == 0);</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>         <span class="keywordflow">if</span>( new_protocol_feature_activations.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 1637</span>            flat_map&lt;digest_type, bool&gt; activated_protocol_features;</div>
<div class="line"><span class="lineno"> 1638</span>            activated_protocol_features.reserve( std::max( num_preactivated_protocol_features,</div>
<div class="line"><span class="lineno"> 1639</span>                                                           new_protocol_feature_activations.size() ) );</div>
<div class="line"><span class="lineno"> 1640</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; feature_digest : pso.preactivated_protocol_features ) {</div>
<div class="line"><span class="lineno"> 1641</span>               activated_protocol_features.emplace( feature_digest, <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 1642</span>            }</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>            <span class="keywordtype">size_t</span> num_preactivated_features_that_have_activated = 0;</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; pfs = <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4">get_protocol_feature_set</a>();</div>
<div class="line"><span class="lineno"> 1647</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; feature_digest : new_protocol_feature_activations ) {</div>
<div class="line"><span class="lineno"> 1648</span>               <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> = pfs.get_protocol_feature( feature_digest );</div>
<div class="line"><span class="lineno"> 1649</span> </div>
<div class="line"><span class="lineno"> 1650</span>               <span class="keyword">auto</span> res = activated_protocol_features.emplace( feature_digest, <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 1651</span>               <span class="keywordflow">if</span>( res.second ) {</div>
<div class="line"><span class="lineno"> 1652</span>                  <span class="comment">// feature_digest was not preactivated</span></div>
<div class="line"><span class="lineno"> 1653</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.preactivation_required, protocol_feature_exception,</div>
<div class="line"><span class="lineno"> 1654</span>                              <span class="stringliteral">&quot;attempted to activate protocol feature without prior required preactivation: ${digest}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1655</span>                              (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><span class="lineno"> 1656</span>                  );</div>
<div class="line"><span class="lineno"> 1657</span>               } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1658</span>                  <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( !res.first-&gt;second, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 1659</span>                              <span class="stringliteral">&quot;attempted duplicate activation within a single block: ${digest}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1660</span>                              (<span class="stringliteral">&quot;digest&quot;</span>, feature_digest)</div>
<div class="line"><span class="lineno"> 1661</span>                  );</div>
<div class="line"><span class="lineno"> 1662</span>                  <span class="comment">// feature_digest was preactivated</span></div>
<div class="line"><span class="lineno"> 1663</span>                  res.first-&gt;second = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1664</span>                  ++num_preactivated_features_that_have_activated;</div>
<div class="line"><span class="lineno"> 1665</span>               }</div>
<div class="line"><span class="lineno"> 1666</span> </div>
<div class="line"><span class="lineno"> 1667</span>               <span class="keywordflow">if</span>( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.builtin_feature ) {</div>
<div class="line"><span class="lineno"> 1668</span>                  <a class="code hl_function" href="#a9335673a748ff21decfddf837016e2ff">trigger_activation_handler</a>( *<a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a>.builtin_feature );</div>
<div class="line"><span class="lineno"> 1669</span>               }</div>
<div class="line"><span class="lineno"> 1670</span> </div>
<div class="line"><span class="lineno"> 1671</span>               <a class="code hl_variable" href="#a24a100a7be5e562ac3966924b0c9ccb6">protocol_features</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9fd76dbd437aa9d52791de3e7893be48">activate_feature</a>( feature_digest, pbhs.block_num );</div>
<div class="line"><span class="lineno"> 1672</span> </div>
<div class="line"><span class="lineno"> 1673</span>               ++bb._num_new_protocol_features_that_have_activated;</div>
<div class="line"><span class="lineno"> 1674</span>            }</div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span>            <span class="keywordflow">if</span>( num_preactivated_features_that_have_activated == num_preactivated_protocol_features ) {</div>
<div class="line"><span class="lineno"> 1677</span>               handled_all_preactivated_features = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1678</span>            }</div>
<div class="line"><span class="lineno"> 1679</span>         }</div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( handled_all_preactivated_features, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a>,</div>
<div class="line"><span class="lineno"> 1682</span>                     <span class="stringliteral">&quot;There are pre-activated protocol features that were not activated at the start of this block&quot;</span></div>
<div class="line"><span class="lineno"> 1683</span>         );</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>         <span class="keywordflow">if</span>( new_protocol_feature_activations.size() &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 1686</span>            <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( pso, [&amp;]( <span class="keyword">auto</span>&amp; ps ) {</div>
<div class="line"><span class="lineno"> 1687</span>               ps.preactivated_protocol_features.clear();</div>
<div class="line"><span class="lineno"> 1688</span> </div>
<div class="line"><span class="lineno"> 1689</span>               ps.activated_protocol_features.reserve( ps.activated_protocol_features.size()</div>
<div class="line"><span class="lineno"> 1690</span>                                                         + new_protocol_feature_activations.size() );</div>
<div class="line"><span class="lineno"> 1691</span>               <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; feature_digest : new_protocol_feature_activations ) {</div>
<div class="line"><span class="lineno"> 1692</span>                  ps.activated_protocol_features.emplace_back( feature_digest, pbhs.block_num );</div>
<div class="line"><span class="lineno"> 1693</span>               }</div>
<div class="line"><span class="lineno"> 1694</span>            });</div>
<div class="line"><span class="lineno"> 1695</span>         }</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; gpo = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;global_property_object&gt;();</div>
<div class="line"><span class="lineno"> 1698</span> </div>
<div class="line"><span class="lineno"> 1699</span>         <span class="keywordflow">if</span>( gpo.proposed_schedule_block_num &amp;&amp; <span class="comment">// if there is a proposed schedule that was proposed in a block ...</span></div>
<div class="line"><span class="lineno"> 1700</span>             ( *gpo.proposed_schedule_block_num &lt;= pbhs.dpos_irreversible_blocknum ) &amp;&amp; <span class="comment">// ... that has now become irreversible ...</span></div>
<div class="line"><span class="lineno"> 1701</span>             pbhs.prev_pending_schedule.schedule.producers.size() == 0 <span class="comment">// ... and there was room for a new pending schedule prior to any possible promotion</span></div>
<div class="line"><span class="lineno"> 1702</span>         )</div>
<div class="line"><span class="lineno"> 1703</span>         {</div>
<div class="line"><span class="lineno"> 1704</span>            <span class="comment">// Promote proposed schedule to pending schedule.</span></div>
<div class="line"><span class="lineno"> 1705</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#a3bd1eefa999ba89597c3686e0acc463e">replaying</a> ) {</div>
<div class="line"><span class="lineno"> 1706</span>               <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;promoting proposed schedule (set in block ${proposed_num}) to pending; current block: ${n} lib: ${lib} schedule: ${schedule} &quot;</span>,</div>
<div class="line"><span class="lineno"> 1707</span>                     (<span class="stringliteral">&quot;proposed_num&quot;</span>, *gpo.proposed_schedule_block_num)(<span class="stringliteral">&quot;n&quot;</span>, pbhs.block_num)</div>
<div class="line"><span class="lineno"> 1708</span>                     (<span class="stringliteral">&quot;lib&quot;</span>, pbhs.dpos_irreversible_blocknum)</div>
<div class="line"><span class="lineno"> 1709</span>                     (<span class="stringliteral">&quot;schedule&quot;</span>, <a class="code hl_function" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a4b0d95b22a8be15ac06dc3b105638c54">producer_authority_schedule::from_shared</a>(gpo.proposed_schedule) ) );</div>
<div class="line"><span class="lineno"> 1710</span>            }</div>
<div class="line"><span class="lineno"> 1711</span> </div>
<div class="line"><span class="lineno"> 1712</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( gpo.proposed_schedule.version == pbhs.active_schedule_version + 1,</div>
<div class="line"><span class="lineno"> 1713</span>                        producer_schedule_exception, <span class="stringliteral">&quot;wrong producer schedule version specified&quot;</span> );</div>
<div class="line"><span class="lineno"> 1714</span> </div>
<div class="line"><span class="lineno"> 1715</span>            std::get&lt;building_block&gt;(<a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;_block_stage)._new_pending_producer_schedule = <a class="code hl_function" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a4b0d95b22a8be15ac06dc3b105638c54">producer_authority_schedule::from_shared</a>(gpo.proposed_schedule);</div>
<div class="line"><span class="lineno"> 1716</span>            <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( gpo, [&amp;]( <span class="keyword">auto</span>&amp; gp ) {</div>
<div class="line"><span class="lineno"> 1717</span>               gp.proposed_schedule_block_num = std::optional&lt;block_num_type&gt;();</div>
<div class="line"><span class="lineno"> 1718</span>               gp.proposed_schedule.version=0;</div>
<div class="line"><span class="lineno"> 1719</span>               gp.proposed_schedule.producers.clear();</div>
<div class="line"><span class="lineno"> 1720</span>            });</div>
<div class="line"><span class="lineno"> 1721</span>         }</div>
<div class="line"><span class="lineno"> 1722</span> </div>
<div class="line"><span class="lineno"> 1723</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1724</span>            <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ad795329e0af850251f4f47cc32e8d770">transaction_metadata_ptr</a> onbtrx =</div>
<div class="line"><span class="lineno"> 1725</span>                  <a class="code hl_function" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b">transaction_metadata::create_no_recover_keys</a>( std::make_shared&lt;packed_transaction&gt;( <a class="code hl_function" href="#a3f2b256d3a667ffeed8f7fd03e36c902">get_on_block_transaction</a>() ),</div>
<div class="line"><span class="lineno"> 1726</span>                                                                <a class="code hl_enumvalue" href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053edacd1fed5e3277af3a9210b25059d86ff9">transaction_metadata::trx_type::implicit</a> );</div>
<div class="line"><span class="lineno"> 1727</span>            <span class="keyword">auto</span> reset_in_trx_requiring_checks = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([old_value=<a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a>,<span class="keyword">this</span>](){</div>
<div class="line"><span class="lineno"> 1728</span>                  <a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a> = old_value;</div>
<div class="line"><span class="lineno"> 1729</span>               });</div>
<div class="line"><span class="lineno"> 1730</span>            <a class="code hl_variable" href="#ab02dbb970f5b16869e123b77eb090e9b">in_trx_requiring_checks</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1731</span>            <span class="keyword">auto</span> trace = <a class="code hl_function" href="#af381eb0fcede18ab0ae4cddaaa9df6cd">push_transaction</a>( onbtrx, <a class="code hl_function" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573">fc::time_point::maximum</a>(), <a class="code hl_function" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e">fc::microseconds::maximum</a>(),</div>
<div class="line"><span class="lineno"> 1732</span>                                           <a class="code hl_variable" href="#a64851fb4e041dc49ab22cf2ba335720d">self</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d">get_global_properties</a>().<a class="code hl_variable" href="classsysio_1_1chain_1_1global__property__object.html#a7f149fcf87034217c899838eb4430496">configuration</a>.<a class="code hl_variable" href="structsysio_1_1chain_1_1chain__config__v0.html#a460f6b269c9da35d40b1cc5927c2205a">min_transaction_cpu_usage</a>, <span class="keyword">true</span>, 0 );</div>
<div class="line"><span class="lineno"> 1733</span>            <span class="keywordflow">if</span>( trace-&gt;except ) {</div>
<div class="line"><span class="lineno"> 1734</span>               <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>(<span class="stringliteral">&quot;onblock ${block_num} is REJECTING: ${entire_trace}&quot;</span>,(<span class="stringliteral">&quot;block_num&quot;</span>, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num + 1)(<span class="stringliteral">&quot;entire_trace&quot;</span>, trace));</div>
<div class="line"><span class="lineno"> 1735</span>            }</div>
<div class="line"><span class="lineno"> 1736</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> std::bad_alloc&amp; e ) {</div>
<div class="line"><span class="lineno"> 1737</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;on block transaction failed due to a std::bad_alloc&quot;</span> );</div>
<div class="line"><span class="lineno"> 1738</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1739</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; e ) {</div>
<div class="line"><span class="lineno"> 1740</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;on block transaction failed due to a bad allocation&quot;</span> );</div>
<div class="line"><span class="lineno"> 1741</span>            <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1742</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno"> 1743</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;on block transaction failed, but shouldn&#39;t impact block generation, system contract needs update&quot;</span> );</div>
<div class="line"><span class="lineno"> 1744</span>            <a class="code hl_define" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()));</div>
<div class="line"><span class="lineno"> 1745</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> std::exception&amp; e ) {</div>
<div class="line"><span class="lineno"> 1746</span>            <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;on block transaction failed due to unexpected exception&quot;</span> );</div>
<div class="line"><span class="lineno"> 1747</span>            <a class="code hl_define" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((e.what()));</div>
<div class="line"><span class="lineno"> 1748</span>         } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 1749</span>            <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;on block transaction failed due to unknown exception&quot;</span> );</div>
<div class="line"><span class="lineno"> 1750</span>         }</div>
<div class="line"><span class="lineno"> 1751</span> </div>
<div class="line"><span class="lineno"> 1752</span>         <a class="code hl_function" href="#a338cb13e3b27ade2ee719b5421edcf7e">clear_expired_input_transactions</a>(deadline);</div>
<div class="line"><span class="lineno"> 1753</span>         <a class="code hl_function" href="#a69d180992926a229a5e3573ea09d762f">update_producers_authority</a>();</div>
<div class="line"><span class="lineno"> 1754</span>      }</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>      guard_pending.cancel();</div>
<div class="line"><span class="lineno"> 1757</span>   } </div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_adbf19ff6a0a51a5d85e2be416a586dcc"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#adbf19ff6a0a51a5d85e2be416a586dcc">sysio::chain::controller::block_start</a></div><div class="ttdeci">signal&lt; void(uint32_t)&gt; block_start</div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00326">controller.hpp:326</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1protocol__feature__manager_html_a9fd76dbd437aa9d52791de3e7893be48"><div class="ttname"><a href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9fd76dbd437aa9d52791de3e7893be48">sysio::chain::protocol_feature_manager::activate_feature</a></div><div class="ttdeci">void activate_feature(const digest_type &amp;feature_digest, uint32_t current_block_num)</div><div class="ttdef"><b>Definition</b> <a href="protocol__feature__manager_8cpp_source.html#l00721">protocol_feature_manager.cpp:721</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1transaction__metadata_html_a841053d8fa06ceea3cb8096625f053edacd1fed5e3277af3a9210b25059d86ff9"><div class="ttname"><a href="classsysio_1_1chain_1_1transaction__metadata.html#a841053d8fa06ceea3cb8096625f053edacd1fed5e3277af3a9210b25059d86ff9">sysio::chain::transaction_metadata::trx_type::implicit</a></div><div class="ttdeci">@ implicit</div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a6b9cb254135911c4a6d577a9ab7fdd4e"><div class="ttname"><a href="namespacesysio_1_1chain.html#a6b9cb254135911c4a6d577a9ab7fdd4e">sysio::chain::database_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed Transaction exceeded transient resource limit Account name already exists sysio_assert_message assertion failure Action can not be found Attempt to use unaccessible API Inline Action exceeds maximum size limit sysio_assert_code assertion failure uses restricted error code value action return value size too big database_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00314">exceptions.hpp:314</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1chain__config__v0_html_a460f6b269c9da35d40b1cc5927c2205a"><div class="ttname"><a href="structsysio_1_1chain_1_1chain__config__v0.html#a460f6b269c9da35d40b1cc5927c2205a">sysio::chain::chain_config_v0::min_transaction_cpu_usage</a></div><div class="ttdeci">uint32_t min_transaction_cpu_usage</div><div class="ttdoc">the minimum billable cpu usage (in microseconds) that the chain requires</div><div class="ttdef"><b>Definition</b> <a href="chain__config_8hpp_source.html#l00051">chain_config.hpp:51</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a3f2b256d3a667ffeed8f7fd03e36c902"><div class="ttname"><a href="#a3f2b256d3a667ffeed8f7fd03e36c902">sysio::chain::controller_impl::get_on_block_transaction</a></div><div class="ttdeci">signed_transaction get_on_block_transaction()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02546">controller.cpp:2546</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a69d180992926a229a5e3573ea09d762f"><div class="ttname"><a href="#a69d180992926a229a5e3573ea09d762f">sysio::chain::controller_impl::update_producers_authority</a></div><div class="ttdeci">void update_producers_authority()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02334">controller.cpp:2334</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a9335673a748ff21decfddf837016e2ff"><div class="ttname"><a href="#a9335673a748ff21decfddf837016e2ff">sysio::chain::controller_impl::trigger_activation_handler</a></div><div class="ttdeci">void trigger_activation_handler(builtin_protocol_feature_t f)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00287">controller.cpp:287</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1producer__authority__schedule_html_a4b0d95b22a8be15ac06dc3b105638c54"><div class="ttname"><a href="structsysio_1_1chain_1_1producer__authority__schedule.html#a4b0d95b22a8be15ac06dc3b105638c54">sysio::chain::producer_authority_schedule::from_shared</a></div><div class="ttdeci">static auto from_shared(const shared_producer_authority_schedule &amp;src)</div><div class="ttdef"><b>Definition</b> <a href="producer__schedule_8hpp_source.html#l00261">producer_schedule.hpp:261</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_cgraph">
<area shape="rect" title="push_transaction" alt="" coords="5,1388,158,1429"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9fd76dbd437aa9d52791de3e7893be48" title=" " alt="" coords="232,92,412,148"/>
<area shape="poly" title=" " alt="" coords="80,1388,80,1171,84,1003,92,817,107,627,129,450,144,371,161,300,181,241,203,194,221,172,242,155,245,159,224,176,208,196,185,243,166,302,149,372,134,451,112,628,98,817,89,1004,86,1171,85,1388"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a338cb13e3b27ade2ee719b5421edcf7e" title=" " alt="" coords="507,315,679,371"/>
<area shape="poly" title=" " alt="" coords="81,1387,94,1190,120,884,137,727,157,589,179,483,191,447,204,425,238,413,310,396,491,359,492,364,311,401,240,418,207,429,196,450,184,485,162,590,142,728,125,884,100,1191,87,1388"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1010,230,1178,256"/>
<area shape="poly" title=" " alt="" coords="81,1387,90,1159,112,796,128,610,148,445,173,320,188,278,204,253,229,235,262,220,301,208,346,200,449,190,564,189,684,194,800,203,995,226,995,231,800,209,683,199,564,194,450,196,347,205,302,214,264,225,232,239,208,257,193,281,179,322,154,446,133,610,117,796,95,1159,86,1388"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__metadata.html#acb14de2d02033c2d43c65319825d3d5b" title=" " alt="" coords="206,1572,438,1613"/>
<area shape="poly" title=" " alt="" coords="97,1428,141,1489,172,1522,207,1551,227,1563,225,1568,204,1556,168,1526,137,1492,93,1431"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6380e434da95a328ff48ccab33df9cb0" title=" " alt="" coords="517,1363,669,1403"/>
<area shape="poly" title=" " alt="" coords="158,1402,501,1385,501,1390,158,1407"/>
<area shape="rect" href="structsysio_1_1chain_1_1producer__authority__schedule.html#a4b0d95b22a8be15ac06dc3b105638c54" title=" " alt="" coords="236,1636,408,1692"/>
<area shape="poly" title=" " alt="" coords="91,1428,106,1469,130,1521,164,1575,184,1600,207,1622,224,1634,221,1638,204,1626,181,1604,160,1578,126,1523,101,1471,86,1430"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="749,1352,940,1393"/>
<area shape="poly" title=" " alt="" coords="131,1427,167,1440,206,1450,346,1480,405,1493,459,1502,512,1504,568,1499,629,1484,699,1457,714,1446,723,1433,732,1418,747,1404,756,1398,759,1402,750,1408,736,1421,728,1436,718,1450,702,1461,631,1489,569,1504,513,1509,458,1507,404,1498,345,1486,205,1455,166,1445,129,1432"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0bb11e832a05b6437c79bf81758b1b7d" title=" " alt="" coords="768,663,921,703"/>
<area shape="poly" title=" " alt="" coords="82,1387,89,1327,103,1237,127,1126,164,1004,188,941,216,879,248,818,285,761,327,708,374,659,426,618,485,583,542,561,591,557,641,565,701,583,733,596,762,613,812,650,809,654,759,617,730,601,699,588,640,571,591,562,543,567,487,588,429,622,377,663,331,711,289,764,253,821,221,881,193,943,169,1005,132,1127,108,1238,94,1328,87,1388"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a3f2b256d3a667ffeed8f7fd03e36c902" title=" " alt="" coords="489,1528,697,1569"/>
<area shape="poly" title=" " alt="" coords="104,1427,149,1466,177,1485,207,1501,273,1522,343,1536,411,1544,474,1548,474,1553,410,1550,342,1542,272,1527,205,1505,174,1490,145,1470,101,1431"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a9e6c1310749c4fd04035aa2c01310ce4" title=" " alt="" coords="246,1716,398,1772"/>
<area shape="poly" title=" " alt="" coords="88,1429,99,1483,120,1557,136,1596,155,1634,179,1671,207,1702,234,1720,231,1725,204,1706,175,1674,151,1637,131,1598,115,1558,93,1484,83,1430"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="261,1796,382,1837"/>
<area shape="poly" title=" " alt="" coords="86,1429,91,1497,108,1592,124,1643,145,1694,172,1741,207,1782,226,1795,247,1804,245,1809,223,1800,204,1786,168,1744,140,1696,119,1645,103,1593,86,1497,80,1429"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="770,1152,919,1177"/>
<area shape="poly" title=" " alt="" coords="158,1416,291,1430,450,1440,527,1441,598,1437,656,1428,699,1413,718,1385,754,1323,827,1190,831,1192,758,1326,723,1388,702,1417,658,1433,598,1443,527,1446,449,1446,291,1436,158,1421"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="751,446,938,472"/>
<area shape="poly" title=" " alt="" coords="80,1388,80,1214,85,1085,93,943,108,800,130,669,144,612,161,561,181,519,204,488,221,473,243,461,299,443,366,431,440,425,587,424,701,431,766,440,766,445,700,436,587,430,440,430,367,437,300,448,245,466,224,478,208,491,186,522,166,563,150,613,135,670,113,801,98,943,90,1085,86,1214,85,1388"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="510,446,676,472"/>
<area shape="poly" title=" " alt="" coords="80,1388,82,1223,87,1101,97,968,112,834,133,711,147,656,164,609,182,570,204,540,224,525,252,512,326,490,412,475,494,465,495,470,413,480,327,496,254,517,226,529,208,544,187,572,169,611,153,658,139,712,117,835,102,968,93,1102,88,1223,85,1388"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="522,251,664,291"/>
<area shape="poly" title=" " alt="" coords="81,1388,90,1165,113,813,129,633,149,473,174,353,188,312,204,288,225,274,256,265,334,256,424,256,507,260,507,266,423,261,335,261,257,270,228,279,208,292,193,314,179,354,155,474,134,633,118,813,96,1166,86,1388"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af381eb0fcede18ab0ae4cddaaa9df6cd" title=" " alt="" coords="242,957,402,998"/>
<area shape="poly" title=" " alt="" coords="92,1386,299,1010,304,1013,97,1389"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="251,1861,392,1902"/>
<area shape="poly" title=" " alt="" coords="85,1429,87,1507,92,1560,101,1619,116,1680,138,1740,168,1797,207,1846,238,1866,235,1871,204,1850,164,1800,133,1743,111,1682,96,1620,86,1561,81,1507,79,1429"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ac8eea0639eeef0fc0d304f645b80d884" title=" " alt="" coords="246,1951,398,1991"/>
<area shape="poly" title=" " alt="" coords="85,1429,86,1515,91,1575,100,1642,115,1712,137,1783,168,1851,208,1912,224,1928,243,1941,240,1945,220,1932,204,1915,163,1853,132,1785,110,1713,95,1642,85,1575,81,1515,79,1429"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9335673a748ff21decfddf837016e2ff" title=" " alt="" coords="242,2015,402,2071"/>
<area shape="poly" title=" " alt="" coords="87,1429,98,1546,121,1718,138,1807,157,1888,181,1956,194,1982,208,2001,230,2019,226,2023,204,2005,189,1984,176,1958,152,1890,132,1808,116,1719,93,1546,82,1429"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a69d180992926a229a5e3573ea09d762f" title=" " alt="" coords="240,302,404,358"/>
<area shape="poly" title=" " alt="" coords="80,1388,81,1198,85,1054,93,895,108,735,130,586,144,520,161,461,181,413,204,375,225,355,229,359,208,378,186,415,166,463,150,521,135,587,113,735,99,896,90,1054,86,1198,85,1388"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#ae8a1236ae57e1bc45fbd29c4b9ae1643" title=" " alt="" coords="520,5,666,46"/>
<area shape="poly" title=" " alt="" coords="395,89,485,56,508,49,510,54,487,62,397,94"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__set.html#aa3d76a6a13d7d417794cad6739b30683" title=" " alt="" coords="520,71,666,111"/>
<area shape="poly" title=" " alt="" coords="412,108,505,98,505,103,412,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1protocol__feature__manager.html#a5952c7d18c4d936c9416cf7cbce01d87" title=" " alt="" coords="491,136,695,177"/>
<area shape="poly" title=" " alt="" coords="412,130,476,138,476,143,412,135"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="774,251,915,291"/>
<area shape="poly" title=" " alt="" coords="679,316,758,293,759,298,680,321"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51" title=" " alt="" coords="768,316,921,357"/>
<area shape="poly" title=" " alt="" coords="680,338,753,336,753,341,680,343"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263" title=" " alt="" coords="768,381,921,422"/>
<area shape="poly" title=" " alt="" coords="680,361,754,378,753,383,679,366"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="778,548,911,573"/>
<area shape="poly" title=" " alt="" coords="631,369,702,432,750,482,815,536,811,540,747,486,698,436,627,373"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="768,864,921,905"/>
<area shape="poly" title=" " alt="" coords="643,369,676,397,703,432,725,488,732,538,730,586,723,631,717,676,716,721,726,769,751,822,765,839,783,853,779,857,761,843,746,824,721,771,711,722,712,675,718,630,725,585,727,539,720,489,698,435,672,401,640,373"/>
<area shape="poly" title=" " alt="" coords="915,260,994,251,995,257,916,266"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1247,223,1388,263"/>
<area shape="poly" title=" " alt="" coords="1178,249,1232,249,1232,254,1178,254"/>
<area shape="poly" title=" " alt="" coords="1247,237,1193,237,1193,231,1247,232"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1027,517,1160,558"/>
<area shape="poly" title=" " alt="" coords="911,552,1011,542,1012,548,912,557"/>
<area shape="rect" href="structsysio_1_1chain_1_1producer__authority.html#a1861665169e509d0bcf56bbf6064a1f9" title=" " alt="" coords="514,1644,672,1685"/>
<area shape="poly" title=" " alt="" coords="408,1662,498,1662,498,1667,408,1667"/>
<area shape="poly" title=" " alt="" coords="615,1526,658,1477,680,1447,698,1414,713,1375,722,1340,729,1279,732,1217,746,1138,786,1016,826,918,831,920,791,1017,751,1140,737,1217,734,1280,727,1341,718,1376,703,1416,684,1450,662,1481,619,1529"/>
<area shape="poly" title=" " alt="" coords="672,1525,699,1508,709,1495,716,1483,722,1457,728,1431,735,1417,746,1404,752,1399,755,1403,750,1408,739,1420,733,1432,727,1458,721,1485,714,1498,702,1512,675,1530"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ad39b3fade2e84d4a743230a27c650f1f" title=" " alt="" coords="768,1621,921,1662"/>
<area shape="poly" title=" " alt="" coords="648,1567,749,1606,770,1613,768,1618,747,1611,646,1572"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="768,1687,921,1727"/>
<area shape="poly" title=" " alt="" coords="623,1567,702,1630,725,1652,750,1671,761,1678,759,1682,747,1676,722,1656,699,1634,620,1571"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aa808acf858e93c567ff983ccbf8fb6d3" title=" " alt="" coords="768,1417,921,1458"/>
<area shape="poly" title=" " alt="" coords="662,1525,699,1507,723,1488,747,1467,757,1462,759,1467,750,1472,726,1492,702,1512,664,1530"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="796,1506,893,1532"/>
<area shape="poly" title=" " alt="" coords="697,1533,780,1524,781,1529,698,1539"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__header.html#a220798b433002112ac85e5545a99ec51" title=" " alt="" coords="748,1556,941,1597"/>
<area shape="poly" title=" " alt="" coords="698,1557,733,1561,732,1567,697,1563"/>
<area shape="poly" title=" " alt="" coords="803,1508,795,1498,800,1488,817,1482,845,1480,875,1482,891,1489,888,1494,874,1487,844,1485,818,1487,804,1492,801,1497,807,1504"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="989,446,1199,472"/>
<area shape="poly" title=" " alt="" coords="938,456,973,456,973,462,938,462"/>
<area shape="poly" title=" " alt="" coords="676,470,749,482,1013,523,1012,528,748,487,675,475"/>
<area shape="poly" title=" " alt="" coords="676,456,736,456,736,462,676,462"/>
<area shape="poly" title=" " alt="" coords="664,268,758,268,758,274,664,274"/>
<area shape="poly" title=" " alt="" coords="322,957,332,883,342,834,357,780,378,725,405,672,441,624,484,584,517,564,553,550,590,541,628,536,703,535,768,542,768,547,702,540,629,541,591,546,555,555,520,569,488,588,445,627,410,675,383,727,362,782,347,835,337,884,327,957"/>
<area shape="poly" title=" " alt="" coords="329,998,342,1065,371,1159,392,1210,418,1260,450,1307,488,1348,504,1359,501,1364,484,1352,446,1310,413,1263,387,1212,366,1161,337,1066,324,999"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a8566f4407e33eb1e4029455e4feae2f1" title="Check authorizations of a vector of actions with provided keys, permission levels,..." alt="" coords="492,663,694,703"/>
<area shape="poly" title=" " alt="" coords="328,956,348,906,380,841,426,772,453,740,484,713,489,709,492,714,488,717,457,744,430,775,385,843,352,908,333,958"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="764,785,925,810"/>
<area shape="poly" title=" " alt="" coords="350,955,411,916,485,878,767,812,768,817,487,883,413,920,353,959"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#ae60743ce36f1fa0912ff26b1da40afe6" title=" " alt="" coords="516,1087,670,1143"/>
<area shape="poly" title=" " alt="" coords="355,996,416,1034,487,1073,503,1080,501,1085,485,1077,413,1038,353,1001"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8cdd409341efde24915eadc5f25a51f9" title=" " alt="" coords="486,1297,700,1338"/>
<area shape="poly" title=" " alt="" coords="331,998,348,1054,379,1131,400,1172,425,1212,454,1250,488,1282,494,1287,491,1291,484,1286,450,1253,421,1215,395,1175,374,1133,343,1056,326,999"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a01f9fd71b2b5511311c8817a8b32c845" title=" " alt="" coords="512,1167,675,1207"/>
<area shape="poly" title=" " alt="" coords="339,997,397,1073,440,1116,487,1153,499,1159,496,1164,485,1157,436,1120,393,1077,335,1000"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a300b3d2c25e7de11562c579c41f43dda" title=" " alt="" coords="512,597,675,638"/>
<area shape="poly" title=" " alt="" coords="325,956,341,896,372,814,393,769,418,725,449,685,484,649,496,640,500,644,488,653,453,688,423,728,398,772,376,816,346,898,330,958"/>
<area shape="rect" href="classfc_1_1std__exception__wrapper.html#ae5ad64f84b1d373f5b92031566284c7c" title=" " alt="" coords="506,1232,680,1273"/>
<area shape="poly" title=" " alt="" coords="334,997,355,1043,388,1102,433,1164,459,1192,488,1217,496,1222,493,1227,484,1221,455,1196,428,1167,383,1105,350,1045,329,1000"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5d3d1260b6f77fdc4b6a8cef3417e94c" title=" " alt="" coords="499,892,687,933"/>
<area shape="poly" title=" " alt="" coords="401,956,490,934,491,939,403,961"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#adbf0d6f8a8a8d3b4544fafe24cd0a135" title=" " alt="" coords="506,777,681,818"/>
<area shape="poly" title=" " alt="" coords="340,955,401,896,442,863,485,834,508,822,511,827,487,839,445,867,405,900,344,959"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a89d9e83d4de2f7aec957e54dce4a76f5" title=" " alt="" coords="487,1023,699,1063"/>
<area shape="poly" title=" " alt="" coords="403,994,491,1016,490,1021,401,999"/>
<area shape="rect" href="namespacefc.html#a219f556e23004060631ffb2baaeaff02" title=" " alt="" coords="532,728,654,753"/>
<area shape="poly" title=" " alt="" coords="331,956,353,915,387,862,431,809,457,784,485,763,516,749,518,754,487,768,460,788,435,812,391,865,357,917,335,958"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aae2b1bfeee1e7c1c0237f12776e75dd7" title="push_scheduled_transaction" alt="" coords="517,957,669,998"/>
<area shape="poly" title=" " alt="" coords="402,975,502,975,502,980,402,980"/>
<area shape="poly" title=" " alt="" coords="695,680,753,680,753,686,695,686"/>
<area shape="poly" title=" " alt="" coords="681,660,699,648,711,634,718,621,725,594,730,565,746,533,775,503,807,478,810,483,779,507,751,537,735,567,730,595,723,623,715,637,702,652,684,664"/>
<area shape="poly" title=" " alt="" coords="672,701,701,713,761,743,812,774,810,778,759,748,699,717,670,706"/>
<area shape="poly" title=" " alt="" coords="691,1336,735,1346,734,1351,689,1341"/>
<area shape="poly" title=" " alt="" coords="675,596,770,575,771,580,676,602"/>
<area shape="poly" title=" " alt="" coords="688,899,753,892,753,897,688,904"/>
<area shape="poly" title=" " alt="" coords="656,816,770,856,768,861,654,821"/>
<area shape="poly" title=" " alt="" coords="670,774,699,763,751,737,798,710,801,714,754,742,701,768,672,779"/>
<area shape="poly" title=" " alt="" coords="673,1061,701,1073,763,1106,815,1140,812,1144,760,1110,699,1077,671,1066"/>
<area shape="poly" title=" " alt="" coords="277,1951,274,1941,282,1932,298,1926,322,1924,348,1926,363,1933,361,1938,346,1932,322,1929,299,1931,285,1936,280,1942,282,1949"/>
<area shape="poly" title=" " alt="" coords="404,309,507,287,508,292,405,315"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a9dbf7da25185959b9a8ea1bf7a47a566_icgraph">
<area shape="rect" title="push_transaction" alt="" coords="1251,92,1404,133"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a90da90c73cb32b5e5ec498da5e02753f" name="a90da90c73cb32b5e5ec498da5e02753f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90da90c73cb32b5e5ec498da5e02753f">&#9670;&#160;</a></span>startup() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::startup </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void()&gt;</td>          <td class="paramname"><span class="paramname"><em>shutdown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool()&gt;</td>          <td class="paramname"><span class="paramname"><em>check_shutdown</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00618">618</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  618</span>                                                                                  {</div>
<div class="line"><span class="lineno">  619</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() &gt;= 1, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a6b9cb254135911c4a6d577a9ab7fdd4e">database_exception</a>, <span class="stringliteral">&quot;This version of controller::startup does not work with a fresh state database.&quot;</span> );</div>
<div class="line"><span class="lineno">  620</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#acad19c1ca23d796138841046c67b3ea9">fork_database_exception</a>, <span class="stringliteral">&quot;No existing fork database despite existing chain state. Replay required.&quot;</span> );</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>      this-&gt;shutdown = <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>;</div>
<div class="line"><span class="lineno">  623</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib_num = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;block_num;</div>
<div class="line"><span class="lineno">  624</span>      <span class="keyword">auto</span> first_block_num = <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>();</div>
<div class="line"><span class="lineno">  625</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>() ) {</div>
<div class="line"><span class="lineno">  626</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( first_block_num &lt;= lib_num &amp;&amp; lib_num &lt;= <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>()-&gt;block_num(),</div>
<div class="line"><span class="lineno">  627</span>                     block_log_exception,</div>
<div class="line"><span class="lineno">  628</span>                     <span class="stringliteral">&quot;block log (ranging from ${block_log_first_num} to ${block_log_last_num}) does not contain the last irreversible block (${fork_db_lib})&quot;</span>,</div>
<div class="line"><span class="lineno">  629</span>                     (<span class="stringliteral">&quot;block_log_first_num&quot;</span>, first_block_num)</div>
<div class="line"><span class="lineno">  630</span>                     (<span class="stringliteral">&quot;block_log_last_num&quot;</span>, <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>()-&gt;block_num())</div>
<div class="line"><span class="lineno">  631</span>                     (<span class="stringliteral">&quot;fork_db_lib&quot;</span>, lib_num)</div>
<div class="line"><span class="lineno">  632</span>         );</div>
<div class="line"><span class="lineno">  633</span>         lib_num = <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>()-&gt;block_num();</div>
<div class="line"><span class="lineno">  634</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  635</span>         <span class="keywordflow">if</span>( first_block_num != (lib_num + 1) ) {</div>
<div class="line"><span class="lineno">  636</span>            <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd">reset</a>( <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, lib_num + 1 );</div>
<div class="line"><span class="lineno">  637</span>         }</div>
<div class="line"><span class="lineno">  638</span>      }</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a> &amp;&amp; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id ) {</div>
<div class="line"><span class="lineno">  641</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a611cc70b13dee823c43ffe99df5522d4">rollback_head_to_root</a>();</div>
<div class="line"><span class="lineno">  642</span>      }</div>
<div class="line"><span class="lineno">  643</span>      <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> = <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>();</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>      <a class="code hl_function" href="lib_8h.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a>(check_shutdown);</div>
<div class="line"><span class="lineno">  646</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1block__log_html_af7c368f1aa0e3e827d619228c4e144bd"><div class="ttname"><a href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd">sysio::chain::block_log::reset</a></div><div class="ttdeci">void reset(const genesis_state &amp;gs, const signed_block_ptr &amp;genesis_block)</div><div class="ttdef"><b>Definition</b> <a href="block__log_8cpp_source.html#l00593">block_log.cpp:593</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1fork__database_html_a611cc70b13dee823c43ffe99df5522d4"><div class="ttname"><a href="classsysio_1_1chain_1_1fork__database.html#a611cc70b13dee823c43ffe99df5522d4">sysio::chain::fork_database::rollback_head_to_root</a></div><div class="ttdeci">void rollback_head_to_root()</div><div class="ttdef"><b>Definition</b> <a href="fork__database_8cpp_source.html#l00276">fork_database.cpp:276</a></div></div>
<div class="ttc" id="alib_8h_html_a02fd73d861ef2e4aabb38c0c9ff82947"><div class="ttname"><a href="lib_8h.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition</b> <a href="lib__test_8cpp_source.html#l00003">lib_test.cpp:3</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a90da90c73cb32b5e5ec498da5e02753f_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a90da90c73cb32b5e5ec498da5e02753f_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a90da90c73cb32b5e5ec498da5e02753f_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a90da90c73cb32b5e5ec498da5e02753f_cgraph">
<area shape="rect" title=" " alt="" coords="5,247,158,287"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="206,5,351,46"/>
<area shape="poly" title=" " alt="" coords="88,246,104,207,129,157,162,104,204,57,209,53,212,57,208,61,166,107,133,159,109,209,93,248"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="213,71,344,111"/>
<area shape="poly" title=" " alt="" coords="94,245,139,186,170,152,204,122,211,118,214,122,207,126,174,156,143,189,99,248"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="218,136,339,177"/>
<area shape="poly" title=" " alt="" coords="111,244,204,186,213,182,215,186,207,191,114,249"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="259,225,298,250"/>
<area shape="poly" title=" " alt="" coords="158,253,243,240,244,245,158,258"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd" title=" " alt="" coords="213,275,344,315"/>
<area shape="poly" title=" " alt="" coords="158,275,198,281,197,286,158,280"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="208,340,349,381"/>
<area shape="poly" title=" " alt="" coords="126,285,207,325,219,331,217,335,205,329,124,290"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a611cc70b13dee823c43ffe99df5522d4" title=" " alt="" coords="211,404,346,460"/>
<area shape="poly" title=" " alt="" coords="102,286,147,336,207,390,212,394,209,398,204,394,144,340,98,290"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="218,484,339,525"/>
<area shape="poly" title=" " alt="" coords="93,287,109,325,134,374,167,425,208,470,211,473,207,477,204,474,162,428,129,377,104,327,88,289"/>
<area shape="poly" title=" " alt="" coords="257,230,248,220,249,209,259,201,278,198,302,203,309,214,305,217,299,207,278,203,261,206,253,211,253,218,261,226"/>
<area shape="rect" href="struct_a.html#ae6a8af4c0a13366326d0f3784d46847b" title=" " alt="" coords="402,201,459,226"/>
<area shape="poly" title=" " alt="" coords="298,232,387,218,388,223,298,237"/>
<area shape="rect" href="lib_8h.html#a3275d706a60352411b10ffe9c266f0cd" title=" " alt="" coords="399,250,462,276"/>
<area shape="poly" title=" " alt="" coords="298,238,385,253,384,258,298,243"/>
</map>
</div>

</div>
</div>
<a id="a7863870ecde398ac7def54e4814db6bc" name="a7863870ecde398ac7def54e4814db6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7863870ecde398ac7def54e4814db6bc">&#9670;&#160;</a></span>startup() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::startup </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void()&gt;</td>          <td class="paramname"><span class="paramname"><em>shutdown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool()&gt;</td>          <td class="paramname"><span class="paramname"><em>check_shutdown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1genesis__state.html">genesis_state</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>genesis</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00585">585</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  585</span>                                                                                                                {</div>
<div class="line"><span class="lineno">  586</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98">revision</a>() &lt; 1, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a6b9cb254135911c4a6d577a9ab7fdd4e">database_exception</a>, <span class="stringliteral">&quot;This version of controller::startup only works with a fresh state database.&quot;</span> );</div>
<div class="line"><span class="lineno">  587</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; genesis_chain_id = genesis.compute_chain_id();</div>
<div class="line"><span class="lineno">  588</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( genesis_chain_id == <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, chain_id_type_exception,</div>
<div class="line"><span class="lineno">  589</span>                  <span class="stringliteral">&quot;genesis state provided to startup corresponds to a chain ID (${genesis_chain_id}) that does not match the chain ID that controller was constructed with (${controller_chain_id})&quot;</span>,</div>
<div class="line"><span class="lineno">  590</span>                  (<span class="stringliteral">&quot;genesis_chain_id&quot;</span>, genesis_chain_id)(<span class="stringliteral">&quot;controller_chain_id&quot;</span>, <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>)</div>
<div class="line"><span class="lineno">  591</span>      );</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>      this-&gt;shutdown = <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>;</div>
<div class="line"><span class="lineno">  594</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>() ) {</div>
<div class="line"><span class="lineno">  595</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a4a18397f763ebe4880b6ccd970bedf85">read_mode</a> == <a class="code hl_enumvalue" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea88537e4e57a14e27d354f8ef6fc03d63">db_read_mode::IRREVERSIBLE</a> &amp;&amp; <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>()-&gt;id != <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219">root</a>()-&gt;id ) {</div>
<div class="line"><span class="lineno">  596</span>            <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a611cc70b13dee823c43ffe99df5522d4">rollback_head_to_root</a>();</div>
<div class="line"><span class="lineno">  597</span>         }</div>
<div class="line"><span class="lineno">  598</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;No existing chain state. Initializing fresh blockchain state.&quot;</span> );</div>
<div class="line"><span class="lineno">  599</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  600</span>         <a class="code hl_define" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;No existing chain state or fork database. Initializing fresh blockchain state and resetting fork database.&quot;</span>);</div>
<div class="line"><span class="lineno">  601</span>      }</div>
<div class="line"><span class="lineno">  602</span>      <a class="code hl_function" href="#a8d08d7c15ecb706c0bd54e992019c30d">initialize_blockchain_state</a>(genesis); <span class="comment">// sets head to genesis state</span></div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>      <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3">head</a>() ) {</div>
<div class="line"><span class="lineno">  605</span>         <a class="code hl_variable" href="#af7f72e6389799b7921aa98f30534f0d9">fork_db</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02">reset</a>( *<a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a> );</div>
<div class="line"><span class="lineno">  606</span>      }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>() ) {</div>
<div class="line"><span class="lineno">  609</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>() == 1, block_log_exception,</div>
<div class="line"><span class="lineno">  610</span>                     <span class="stringliteral">&quot;block log does not start with genesis block&quot;</span></div>
<div class="line"><span class="lineno">  611</span>         );</div>
<div class="line"><span class="lineno">  612</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  613</span>         <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd">reset</a>( genesis, <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block );</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span>      <a class="code hl_function" href="lib_8h.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a>(check_shutdown);</div>
<div class="line"><span class="lineno">  616</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a8d08d7c15ecb706c0bd54e992019c30d"><div class="ttname"><a href="#a8d08d7c15ecb706c0bd54e992019c30d">sysio::chain::controller_impl::initialize_blockchain_state</a></div><div class="ttdeci">void initialize_blockchain_state(const genesis_state &amp;genesis)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00452">controller.cpp:452</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a7863870ecde398ac7def54e4814db6bc_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a7863870ecde398ac7def54e4814db6bc_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a7863870ecde398ac7def54e4814db6bc_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a7863870ecde398ac7def54e4814db6bc_cgraph">
<area shape="rect" title=" " alt="" coords="5,435,158,476"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="239,136,384,177"/>
<area shape="poly" title=" " alt="" coords="84,434,96,385,118,318,154,249,177,217,204,188,223,175,226,179,207,192,181,220,158,252,123,320,101,386,89,435"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="247,202,377,242"/>
<area shape="poly" title=" " alt="" coords="88,434,103,395,128,347,161,297,204,253,231,238,234,242,207,258,165,300,132,349,108,397,92,436"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a3b128a7d57c262ef6351d83c16cffae3" title=" " alt="" coords="251,267,372,308"/>
<area shape="poly" title=" " alt="" coords="94,433,138,376,169,344,204,317,236,302,238,307,207,322,173,348,142,379,98,436"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="293,356,331,382"/>
<area shape="poly" title=" " alt="" coords="118,432,159,411,205,392,277,372,278,377,207,397,161,416,120,437"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,406,418,446"/>
<area shape="poly" title=" " alt="" coords="158,443,190,439,191,444,158,448"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="707,1062,849,1102"/>
<area shape="poly" title=" " alt="" coords="158,457,306,473,373,487,400,496,419,507,456,537,485,568,507,600,524,632,546,699,559,767,572,836,591,905,606,939,625,974,651,1008,683,1042,696,1052,693,1056,680,1045,647,1011,621,977,601,942,586,907,566,837,554,768,541,700,519,634,503,602,480,571,452,541,417,511,398,501,372,492,305,478,158,462"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd" title=" " alt="" coords="247,520,377,561"/>
<area shape="poly" title=" " alt="" coords="138,474,207,500,240,512,238,517,205,505,136,479"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a7dd3012e6d7e68e24b2f223d5be09c02" title=" " alt="" coords="251,586,372,626"/>
<area shape="poly" title=" " alt="" coords="101,474,146,523,175,548,207,571,237,585,235,590,204,575,172,553,142,526,97,478"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a611cc70b13dee823c43ffe99df5522d4" title=" " alt="" coords="245,650,379,706"/>
<area shape="poly" title=" " alt="" coords="94,475,111,510,136,553,168,597,207,636,233,652,230,656,204,640,164,601,131,556,106,512,89,477"/>
<area shape="rect" href="classsysio_1_1chain_1_1fork__database.html#a31db3526cc966f5db1046cebcfc45219" title=" " alt="" coords="251,730,372,770"/>
<area shape="poly" title=" " alt="" coords="89,476,101,525,123,590,158,658,181,689,207,716,238,734,235,738,204,720,177,692,154,661,119,592,96,526,84,477"/>
<area shape="poly" title=" " alt="" coords="291,366,271,355,267,342,282,333,312,329,339,332,354,338,357,349,347,359,343,356,352,348,350,342,337,337,312,335,283,338,272,344,275,351,294,361"/>
<area shape="rect" href="struct_a.html#ae6a8af4c0a13366326d0f3784d46847b" title=" " alt="" coords="522,5,578,31"/>
<area shape="poly" title=" " alt="" coords="331,363,375,349,397,336,416,318,436,282,443,247,442,213,437,179,432,145,431,111,441,76,464,40,483,26,505,19,507,24,486,31,468,44,446,78,437,111,437,144,442,178,447,212,448,248,441,284,420,321,400,340,377,353,332,368"/>
<area shape="rect" href="lib_8h.html#a3275d706a60352411b10ffe9c266f0cd" title=" " alt="" coords="518,55,581,80"/>
<area shape="poly" title=" " alt="" coords="331,363,374,348,397,335,416,318,433,290,440,262,441,236,438,209,436,182,437,155,445,126,464,98,482,83,502,74,504,79,484,88,468,101,450,129,442,155,441,182,444,208,446,235,445,263,438,292,420,321,400,340,376,353,332,368"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a84daf28c790313cfaffff12e2a962cdb" title=" " alt="" coords="709,40,847,81"/>
<area shape="poly" title=" " alt="" coords="403,403,416,392,436,362,444,331,443,300,439,269,434,237,434,205,442,174,464,141,492,131,549,114,693,78,694,83,550,120,493,136,468,146,447,176,439,206,439,237,444,268,449,299,449,331,441,364,420,396,407,407"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#ab1f18a64cbf39c54da83f75c9632f9cd" title=" " alt="" coords="478,155,622,196"/>
<area shape="poly" title=" " alt="" coords="403,403,416,392,432,371,440,349,441,306,442,260,449,237,464,212,473,203,477,207,468,216,453,239,447,261,446,306,445,350,437,373,420,396,406,407"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="979,177,1097,203"/>
<area shape="poly" title=" " alt="" coords="387,403,417,392,492,356,547,321,604,288,680,256,754,234,830,217,963,195,964,201,831,222,756,239,682,261,606,293,550,326,494,360,419,397,389,408"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,406,633,446"/>
<area shape="poly" title=" " alt="" coords="418,424,450,424,450,429,418,429"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="479,471,620,512"/>
<area shape="poly" title=" " alt="" coords="389,444,464,465,463,471,388,450"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="963,40,1113,81"/>
<area shape="poly" title=" " alt="" coords="848,58,947,58,947,64,848,64"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="1208,59,1365,84"/>
<area shape="poly" title=" " alt="" coords="1113,61,1193,65,1193,70,1113,67"/>
<area shape="poly" title=" " alt="" coords="599,152,632,135,656,116,680,97,703,85,705,90,683,102,659,120,635,139,602,157"/>
<area shape="poly" title=" " alt="" coords="622,154,681,141,813,121,916,112,1020,105,1153,90,1193,84,1193,90,1153,95,1021,110,917,118,814,127,682,146,623,159"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a71165691e3205b1f4dd847b5c6bc5b22" title=" " alt="" coords="713,155,843,196"/>
<area shape="poly" title=" " alt="" coords="622,173,697,173,697,178,622,178"/>
<area shape="poly" title=" " alt="" coords="844,177,963,183,963,189,843,182"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="1218,119,1355,160"/>
<area shape="poly" title=" " alt="" coords="1097,176,1203,154,1204,159,1098,181"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="1218,184,1355,225"/>
<area shape="poly" title=" " alt="" coords="1098,191,1203,197,1203,203,1097,196"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="1460,127,1576,152"/>
<area shape="poly" title=" " alt="" coords="1355,137,1445,137,1445,142,1355,142"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a32f7ac67403d93f11d6098fb6abd1cc3" title=" " alt="" coords="692,270,864,310"/>
<area shape="poly" title=" " alt="" coords="573,403,621,365,680,327,703,315,705,320,683,331,624,370,576,408"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="1216,490,1357,530"/>
<area shape="poly" title=" " alt="" coords="634,422,681,421,815,419,920,422,1023,434,1154,462,1218,482,1217,487,1152,467,1022,440,919,427,815,425,681,426,634,427"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1664,696,1831,722"/>
<area shape="poly" title=" " alt="" coords="630,403,714,384,815,365,925,351,1036,345,1288,345,1328,348,1368,356,1406,369,1442,386,1511,429,1573,482,1627,538,1672,593,1733,681,1728,684,1668,597,1623,542,1569,486,1508,434,1440,390,1404,374,1366,361,1328,353,1288,350,1037,350,926,356,816,370,715,389,631,408"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="682,726,874,766"/>
<area shape="poly" title=" " alt="" coords="621,445,635,458,655,489,663,520,664,550,661,579,658,608,658,637,666,667,683,698,702,716,699,719,679,701,661,669,653,638,653,608,656,578,659,549,658,521,650,491,631,461,617,449"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="1216,555,1357,596"/>
<area shape="poly" title=" " alt="" coords="618,445,635,458,647,472,654,486,660,513,665,540,672,553,683,566,713,591,740,609,766,622,792,631,850,642,923,653,988,664,1039,670,1089,667,1152,653,1239,602,1242,607,1154,658,1090,672,1039,675,987,670,922,658,849,647,790,636,764,627,737,614,709,595,679,569,668,556,660,542,654,514,649,488,642,475,631,461,615,449"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#aac57733c5aa05c1c78a023a80b2f447f" title=" " alt="" coords="942,798,1134,838"/>
<area shape="poly" title=" " alt="" coords="622,445,635,458,650,479,659,501,666,543,663,584,655,624,647,664,645,702,656,740,667,758,683,776,708,796,736,812,767,823,799,831,864,837,926,835,926,840,864,843,798,836,765,828,734,817,705,801,679,780,663,761,651,742,640,703,642,663,649,623,658,583,661,543,654,502,645,482,631,461,618,449"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="1431,927,1605,968"/>
<area shape="poly" title=" " alt="" coords="622,445,635,458,652,484,664,509,674,558,671,605,662,652,652,698,649,745,657,794,668,819,684,845,718,889,753,927,788,958,824,984,861,1004,899,1019,939,1030,979,1037,1066,1040,1159,1032,1372,997,1415,986,1457,972,1458,977,1417,991,1373,1002,1160,1037,1066,1045,979,1042,937,1035,898,1024,859,1009,821,988,785,962,749,930,714,892,679,848,663,821,652,795,644,746,647,698,657,651,666,605,669,558,659,511,648,486,631,461,618,449"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a27cfd5f70c12c10a9939e7bf6b3a52e4" title=" " alt="" coords="681,435,875,476"/>
<area shape="poly" title=" " alt="" coords="634,434,666,438,665,444,633,440"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a1b9d0326965430166923c2241a3a6a45" title=" " alt="" coords="681,500,875,555"/>
<area shape="poly" title=" " alt="" coords="607,445,635,457,683,485,693,490,691,495,680,490,632,462,605,450"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a6c9919896a775bf8129188b49018d0f5" title=" " alt="" coords="978,270,1098,310"/>
<area shape="poly" title=" " alt="" coords="865,288,962,288,962,293,865,293"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a7713bf4dd36535082b854977afddf788" title=" " alt="" coords="1226,270,1347,310"/>
<area shape="poly" title=" " alt="" coords="1098,288,1211,288,1211,293,1098,293"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="1447,555,1589,596"/>
<area shape="poly" title=" " alt="" coords="1359,528,1433,549,1432,554,1357,533"/>
<area shape="poly" title=" " alt="" coords="1579,594,1617,612,1673,648,1720,684,1717,688,1670,652,1614,616,1577,599"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1879,720,2020,761"/>
<area shape="poly" title=" " alt="" coords="1788,720,1864,734,1863,739,1787,725"/>
<area shape="poly" title=" " alt="" coords="1878,724,1846,718,1847,713,1879,718"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="2068,692,2210,733"/>
<area shape="poly" title=" " alt="" coords="2020,728,2053,723,2053,728,2021,733"/>
<area shape="poly" title=" " alt="" coords="2068,713,2020,711,1846,711,1846,705,2020,706,2068,707"/>
<area shape="poly" title=" " alt="" coords="788,724,809,690,838,649,876,607,921,573,961,561,1033,547,1200,520,1201,525,1034,552,963,566,924,578,880,611,842,652,813,693,793,727"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7fea1de6a3806590de0bda86e53c7995" title=" " alt="" coords="923,718,1153,774"/>
<area shape="poly" title=" " alt="" coords="874,744,907,744,907,749,874,749"/>
<area shape="poly" title=" " alt="" coords="855,765,948,791,946,796,853,770"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1b67831f3be3a668c170723427236954" title=" " alt="" coords="943,912,1133,953"/>
<area shape="poly" title=" " alt="" coords="796,765,849,827,884,862,924,892,946,904,944,908,921,896,881,866,845,831,792,769"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a30cd4db6f08948e05aba424431ec0605" title=" " alt="" coords="945,588,1131,643"/>
<area shape="poly" title=" " alt="" coords="819,723,966,648,968,653,822,728"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10" title=" " alt="" coords="1201,916,1372,987"/>
<area shape="poly" title=" " alt="" coords="803,765,856,807,889,829,924,848,986,869,1036,878,1089,884,1154,898,1187,909,1186,914,1152,903,1088,889,1036,883,984,875,922,853,886,834,853,812,800,769"/>
<area shape="poly" title=" " alt="" coords="1114,715,1152,697,1175,678,1185,670,1200,662,1261,645,1314,634,1361,629,1406,630,1499,642,1616,662,1661,673,1702,687,1701,692,1660,678,1615,667,1498,647,1406,635,1361,635,1315,639,1262,650,1202,667,1188,674,1178,682,1154,702,1117,720"/>
<area shape="poly" title=" " alt="" coords="1125,716,1151,698,1167,677,1175,656,1182,635,1199,612,1213,602,1216,606,1203,616,1187,637,1180,658,1172,679,1155,701,1128,720"/>
<area shape="poly" title=" " alt="" coords="1358,573,1432,573,1432,578,1358,578"/>
<area shape="poly" title=" " alt="" coords="1133,799,1151,784,1171,755,1179,726,1180,696,1176,667,1172,636,1172,605,1179,574,1199,542,1202,539,1206,542,1203,545,1184,576,1177,606,1177,636,1181,666,1185,696,1185,726,1176,757,1155,788,1136,803"/>
<area shape="poly" title=" " alt="" coords="1133,795,1151,784,1167,765,1173,745,1181,724,1200,707,1235,693,1283,685,1401,680,1531,685,1648,695,1648,700,1531,691,1401,685,1283,690,1237,699,1202,711,1185,727,1178,747,1172,768,1155,788,1136,800"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a4f6404b355a3a4bf7fb60c92e85443d1" title=" " alt="" coords="1207,720,1366,761"/>
<area shape="poly" title=" " alt="" coords="1115,795,1152,784,1212,764,1213,769,1154,789,1117,800"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="1210,786,1363,826"/>
<area shape="poly" title=" " alt="" coords="1134,811,1195,808,1195,813,1134,816"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html#aa96a2da856cbba914572aa8629c06c09" title=" " alt="" coords="1228,851,1346,892"/>
<area shape="poly" title=" " alt="" coords="1135,836,1213,853,1212,858,1134,841"/>
<area shape="poly" title=" " alt="" coords="1110,585,1152,566,1200,541,1215,534,1217,539,1202,546,1154,571,1112,590"/>
<area shape="poly" title=" " alt="" coords="1358,914,1370,902,1382,883,1388,865,1390,828,1395,792,1403,775,1419,757,1435,747,1458,738,1515,725,1582,716,1648,710,1648,716,1582,721,1516,730,1459,744,1438,752,1422,762,1407,778,1400,794,1396,829,1393,866,1387,885,1374,905,1362,918"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="1420,772,1616,827"/>
<area shape="poly" title=" " alt="" coords="1351,913,1371,901,1466,835,1469,839,1374,906,1354,918"/>
<area shape="poly" title=" " alt="" coords="1589,769,1697,725,1699,730,1591,774"/>
<area shape="poly" title=" " alt="" coords="1616,784,1863,750,1864,755,1617,789"/>
<area shape="poly" title=" " alt="" coords="1537,925,1721,731,1725,735,1541,929"/>
<area shape="poly" title=" " alt="" coords="875,463,1201,498,1200,504,875,468"/>
<area shape="poly" title=" " alt="" coords="875,522,1200,510,1201,516,875,527"/>
<area shape="poly" title=" " alt="" coords="616,510,635,528,656,564,670,598,678,631,680,664,673,727,658,789,643,850,637,912,640,943,648,975,662,1008,683,1042,696,1054,692,1058,679,1045,657,1011,643,977,635,944,632,912,638,849,653,788,668,726,675,664,672,632,665,599,652,566,631,532,613,514"/>
</map>
</div>

</div>
</div>
<a id="a18bcf25847599b0f9caa6566364bb0ac" name="a18bcf25847599b0f9caa6566364bb0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bcf25847599b0f9caa6566364bb0ac">&#9670;&#160;</a></span>startup() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::startup </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void()&gt;</td>          <td class="paramname"><span class="paramname"><em>shutdown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool()&gt;</td>          <td class="paramname"><span class="paramname"><em>check_shutdown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00557">557</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>                                                                                                                       {</div>
<div class="line"><span class="lineno">  558</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( snapshot, snapshot_exception, <span class="stringliteral">&quot;No snapshot reader provided&quot;</span> );</div>
<div class="line"><span class="lineno">  559</span>      this-&gt;shutdown = <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>;</div>
<div class="line"><span class="lineno">  560</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Starting initialization from snapshot, this may take a significant amount of time&quot;</span> );</div>
<div class="line"><span class="lineno">  561</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  562</span>         snapshot-&gt;validate();</div>
<div class="line"><span class="lineno">  563</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>() ) {</div>
<div class="line"><span class="lineno">  564</span>            <a class="code hl_function" href="#a247c87d241e707c5e482c3d6d8872a7f">read_from_snapshot</a>( snapshot, <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e">first_block_num</a>(), <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88">head</a>()-&gt;block_num() );</div>
<div class="line"><span class="lineno">  565</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  566</span>            <a class="code hl_function" href="#a247c87d241e707c5e482c3d6d8872a7f">read_from_snapshot</a>( snapshot, 0, std::numeric_limits&lt;uint32_t&gt;::max() );</div>
<div class="line"><span class="lineno">  567</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib_num = <a class="code hl_variable" href="#a56a0f369b58e6597b62569ff2853ee90">head</a>-&gt;block_num;</div>
<div class="line"><span class="lineno">  568</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( lib_num &gt; 0, snapshot_exception,</div>
<div class="line"><span class="lineno">  569</span>                        <span class="stringliteral">&quot;Snapshot indicates controller head at block number 0, but that is not allowed. &quot;</span></div>
<div class="line"><span class="lineno">  570</span>                        <span class="stringliteral">&quot;Snapshot is invalid.&quot;</span> );</div>
<div class="line"><span class="lineno">  571</span>            <a class="code hl_variable" href="#a958ab2b868a2a7ec9644199a80e0ad9e">blog</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd">reset</a>( <a class="code hl_variable" href="#a2f7115cf9c5daa3abca8e0467dce5a5a">chain_id</a>, lib_num + 1 );</div>
<div class="line"><span class="lineno">  572</span>         }</div>
<div class="line"><span class="lineno">  573</span>         <span class="keyword">const</span> <span class="keyword">auto</span> hash = <a class="code hl_function" href="#ae80ad4ddd1eff225dc19c50439d82ef6">calculate_integrity_hash</a>();</div>
<div class="line"><span class="lineno">  574</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;database initialized with hash: ${hash}&quot;</span>, (<span class="stringliteral">&quot;hash&quot;</span>, hash) );</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>         <a class="code hl_function" href="lib_8h.html#a02fd73d861ef2e4aabb38c0c9ff82947">init</a>(check_shutdown);</div>
<div class="line"><span class="lineno">  577</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;Finished initialization from snapshot&quot;</span> );</div>
<div class="line"><span class="lineno">  578</span>      } <span class="keywordflow">catch</span> (boost::interprocess::bad_alloc&amp; e) {</div>
<div class="line"><span class="lineno">  579</span>         <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>( <span class="stringliteral">&quot;Failed initialization from snapshot - db storage not configured to have enough storage for the provided snapshot, please increase and retry snapshot&quot;</span> );</div>
<div class="line"><span class="lineno">  580</span>         <a class="code hl_variable" href="#a8054e1b3da405a7765275b76d6628928">shutdown</a>();</div>
<div class="line"><span class="lineno">  581</span>      }</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>   }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_a247c87d241e707c5e482c3d6d8872a7f"><div class="ttname"><a href="#a247c87d241e707c5e482c3d6d8872a7f">sysio::chain::controller_impl::read_from_snapshot</a></div><div class="ttdeci">void read_from_snapshot(const snapshot_reader_ptr &amp;snapshot, uint32_t blog_start, uint32_t blog_end)</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00853">controller.cpp:853</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1controller__impl_html_ae80ad4ddd1eff225dc19c50439d82ef6"><div class="ttname"><a href="#ae80ad4ddd1eff225dc19c50439d82ef6">sysio::chain::controller_impl::calculate_integrity_hash</a></div><div class="ttdeci">sha256 calculate_integrity_hash()</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l00978">controller.cpp:978</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a18bcf25847599b0f9caa6566364bb0ac_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a18bcf25847599b0f9caa6566364bb0ac_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a18bcf25847599b0f9caa6566364bb0ac_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a18bcf25847599b0f9caa6566364bb0ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,222,158,262"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="206,254,406,294"/>
<area shape="poly" title=" " alt="" coords="158,250,191,255,190,260,157,256"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ac5f1c1e78e72414fbf9bae75da42303e" title=" " alt="" coords="233,123,378,164"/>
<area shape="poly" title=" " alt="" coords="117,219,205,174,222,167,224,172,207,179,119,224"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#ae787e7866ebfcd4c5dd5632c15c07c88" title=" " alt="" coords="241,188,371,229"/>
<area shape="poly" title=" " alt="" coords="157,228,225,218,226,223,158,234"/>
<area shape="rect" href="lib__test_8cpp.html#a02fd73d861ef2e4aabb38c0c9ff82947" title=" " alt="" coords="287,73,325,99"/>
<area shape="poly" title=" " alt="" coords="94,220,139,164,169,135,204,109,238,95,271,87,272,92,239,100,207,114,173,139,143,168,99,223"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a247c87d241e707c5e482c3d6d8872a7f" title=" " alt="" coords="217,486,395,526"/>
<area shape="poly" title=" " alt="" coords="102,261,279,472,275,475,98,265"/>
<area shape="rect" href="classsysio_1_1chain_1_1block__log.html#af7c368f1aa0e3e827d619228c4e144bd" title=" " alt="" coords="241,551,371,592"/>
<area shape="poly" title=" " alt="" coords="88,263,99,317,120,391,135,430,155,468,179,505,207,536,228,550,225,555,204,540,175,508,150,471,131,432,115,392,93,318,83,264"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="491,171,650,212"/>
<area shape="poly" title=" " alt="" coords="368,251,453,222,480,214,482,219,455,227,370,256"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="502,236,639,277"/>
<area shape="poly" title=" " alt="" coords="406,265,487,260,487,265,407,270"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#afb7b8a4e7c718c1262fe755aa1c2f148" title=" " alt="" coords="739,324,917,379"/>
<area shape="poly" title=" " alt="" coords="652,203,689,223,707,244,715,267,721,288,737,310,740,312,737,316,733,313,717,291,710,268,702,247,686,227,649,208"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a24e23281d4ccfdddcc761c83e14a4080" title=" " alt="" coords="735,99,921,140"/>
<area shape="poly" title=" " alt="" coords="645,168,737,142,739,147,647,173"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a7160417d30f5ef3a91467fefebf65dc6" title=" " alt="" coords="735,164,921,219"/>
<area shape="poly" title=" " alt="" coords="651,189,720,189,720,194,651,194"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a338cb13e3b27ade2ee719b5421edcf7e" title=" " alt="" coords="742,244,914,299"/>
<area shape="poly" title=" " alt="" coords="647,210,688,222,730,236,728,241,687,227,645,215"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="745,49,911,75"/>
<area shape="poly" title=" " alt="" coords="613,168,686,125,709,104,734,85,749,78,751,83,737,90,712,108,689,130,616,173"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a20f6cbb7f55f78ff4d35a4bf7e928a86" title=" " alt="" coords="997,431,1127,472"/>
<area shape="poly" title=" " alt="" coords="895,377,922,389,970,410,998,422,996,427,968,415,920,394,893,382"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1238,431,1379,472"/>
<area shape="poly" title=" " alt="" coords="1127,449,1222,449,1222,454,1127,454"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="1464,500,1631,526"/>
<area shape="poly" title=" " alt="" coords="1380,467,1480,493,1479,498,1379,472"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="1682,492,1823,533"/>
<area shape="poly" title=" " alt="" coords="1632,519,1667,519,1667,524,1632,524"/>
<area shape="poly" title=" " alt="" coords="1681,499,1633,490,1508,473,1394,461,1395,456,1509,468,1634,485,1682,494"/>
<area shape="poly" title=" " alt="" coords="1682,507,1647,507,1647,501,1682,502"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="1238,496,1379,537"/>
<area shape="poly" title=" " alt="" coords="904,297,922,309,938,325,946,340,955,353,970,367,996,380,1019,387,1063,391,1107,395,1131,403,1157,417,1173,433,1182,450,1190,466,1205,481,1224,493,1222,497,1201,486,1185,469,1177,452,1169,437,1153,422,1129,408,1106,400,1062,396,1018,392,994,385,967,371,951,357,942,342,933,328,919,314,901,302"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#aea3612e7cb52dfcaa2e6afdc1b3e2f51" title=" " alt="" coords="986,316,1138,357"/>
<area shape="poly" title=" " alt="" coords="915,293,972,309,971,314,914,298"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a286751cd6498b500b70a0d3678672263" title=" " alt="" coords="986,186,1138,226"/>
<area shape="poly" title=" " alt="" coords="914,245,971,229,972,234,915,250"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="996,136,1128,162"/>
<area shape="poly" title=" " alt="" coords="901,241,919,229,933,215,942,201,951,186,967,172,980,165,982,170,970,176,955,190,946,203,938,218,922,234,904,246"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#abb1d81f96986df3bce46bd37caaf6a69" title=" " alt="" coords="986,251,1138,292"/>
<area shape="poly" title=" " alt="" coords="915,269,970,269,970,274,915,274"/>
<area shape="poly" title=" " alt="" coords="1379,513,1448,512,1449,517,1379,518"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="1238,186,1378,226"/>
<area shape="poly" title=" " alt="" coords="1121,160,1223,184,1222,189,1120,165"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="1238,120,1378,161"/>
<area shape="poly" title=" " alt="" coords="1128,144,1222,141,1222,146,1129,149"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1242,55,1375,96"/>
<area shape="poly" title=" " alt="" coords="1107,133,1226,97,1228,102,1109,138"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="1242,251,1375,292"/>
<area shape="poly" title=" " alt="" coords="1129,159,1157,172,1173,188,1182,205,1190,221,1205,236,1229,249,1226,254,1201,240,1185,224,1177,207,1169,191,1153,176,1127,163"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="1461,193,1634,219"/>
<area shape="poly" title=" " alt="" coords="1379,204,1446,204,1446,209,1379,209"/>
<area shape="poly" title=" " alt="" coords="911,62,1226,71,1226,76,911,67"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="969,7,1155,32"/>
<area shape="poly" title=" " alt="" coords="902,46,972,33,973,38,903,51"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1203,5,1413,31"/>
<area shape="poly" title=" " alt="" coords="1156,16,1187,16,1188,21,1156,22"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="770,404,886,430"/>
<area shape="poly" title=" " alt="" coords="640,263,666,272,689,287,701,300,708,313,714,340,720,365,726,378,737,389,757,402,754,406,734,394,722,381,715,367,709,341,703,315,697,303,686,291,663,277,638,268"/>
<area shape="poly" title=" " alt="" coords="285,83,265,72,262,59,277,50,306,47,332,49,347,55,350,66,341,76,337,72,345,65,343,59,330,54,306,52,278,55,267,61,270,69,287,78"/>
<area shape="rect" href="struct_a.html#ae6a8af4c0a13366326d0f3784d46847b" title=" " alt="" coords="542,40,599,66"/>
<area shape="poly" title=" " alt="" coords="325,81,527,56,527,61,326,86"/>
<area shape="rect" href="lib_8h.html#a3275d706a60352411b10ffe9c266f0cd" title=" " alt="" coords="539,89,602,115"/>
<area shape="poly" title=" " alt="" coords="326,85,523,97,523,102,325,90"/>
<area shape="poly" title=" " alt="" coords="389,525,478,544,587,565,706,580,827,586,1063,586,1162,584,1239,577,1413,546,1488,528,1489,533,1414,551,1240,583,1162,589,1063,591,827,591,706,585,586,570,477,550,387,530"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="991,496,1132,537"/>
<area shape="poly" title=" " alt="" coords="396,508,454,510,741,514,976,515,976,520,741,520,454,515,396,513"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a6353a2e6b51e1b83231f41a8bcc66c47" title=" " alt="" coords="454,691,687,732"/>
<area shape="poly" title=" " alt="" coords="391,525,408,538,422,555,429,574,432,609,436,643,443,660,456,676,460,680,457,684,452,680,438,663,430,645,427,609,424,575,417,558,404,541,388,529"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ab2a0087a0d30ff324e2b0bff4a3c4e22" title=" " alt="" coords="480,301,661,357"/>
<area shape="poly" title=" " alt="" coords="322,484,377,426,413,395,453,367,464,360,467,365,455,371,416,399,380,430,326,487"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a7a4d84d47bcd9069ab0c8d8f9f9ac5f3" title=" " alt="" coords="468,380,673,421"/>
<area shape="poly" title=" " alt="" coords="342,483,394,456,453,430,471,424,473,429,455,435,396,461,345,488"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a32baa74135a1423302de3a849dc8b40c" title=" " alt="" coords="468,445,673,501"/>
<area shape="poly" title=" " alt="" coords="395,492,453,485,454,490,396,498"/>
<area shape="rect" href="classchainbase_1_1database.html#a24e7f6336cad0bd2fc280dab381665ed" title=" " alt="" coords="500,626,641,666"/>
<area shape="poly" title=" " alt="" coords="386,525,408,537,424,555,432,572,440,589,456,605,487,623,484,627,452,610,436,592,428,575,420,558,404,542,384,529"/>
<area shape="rect" href="structsysio_1_1chain_1_1chain__snapshot__header.html#a6f183a866ea3a474243c55484f0c700e" title=" " alt="" coords="480,756,661,797"/>
<area shape="poly" title=" " alt="" coords="393,525,408,538,426,564,434,591,434,617,432,642,430,668,431,692,438,717,456,742,469,752,465,756,452,745,434,719,426,693,424,667,427,642,429,616,428,591,421,566,404,541,389,529"/>
<area shape="poly" title=" " alt="" coords="1133,514,1222,514,1222,520,1133,520"/>
<area shape="rect" href="classsysio_1_1chain_1_1index__utils.html#a4ba170946682ddcea81d558b0ee8899a" title=" " alt="" coords="763,456,893,497"/>
<area shape="poly" title=" " alt="" coords="663,351,689,367,706,386,714,404,722,422,737,440,751,449,748,454,734,444,717,425,709,406,701,388,686,371,661,356"/>
<area shape="poly" title=" " alt="" coords="894,485,976,500,976,505,893,491"/>
<area shape="rect" href="classchainbase_1_1database.html#a224fc0c346a93fd027bfa2515f54bf98" title=" " alt="" coords="757,626,899,666"/>
<area shape="poly" title=" " alt="" coords="642,644,742,644,742,649,642,649"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="797,764,859,790"/>
<area shape="poly" title=" " alt="" coords="661,774,782,774,782,780,661,780"/>
</map>
</div>

</div>
</div>
<a id="a9335673a748ff21decfddf837016e2ff" name="a9335673a748ff21decfddf837016e2ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9335673a748ff21decfddf837016e2ff">&#9670;&#160;</a></span>trigger_activation_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::trigger_activation_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a></td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00287">287</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  287</span>                                                                          {</div>
<div class="line"><span class="lineno">  288</span>      <span class="keyword">auto</span> itr = <a class="code hl_variable" href="#ac9a42879c69a343b4405b035e7cff29a">protocol_feature_activation_handlers</a>.find( <a class="code hl_variable" href="_x02-_disabled_macros_8cpp.html#ae28240b98d91d6eb7da702b770490f39">f</a> );</div>
<div class="line"><span class="lineno">  289</span>      <span class="keywordflow">if</span>( itr == <a class="code hl_variable" href="#ac9a42879c69a343b4405b035e7cff29a">protocol_feature_activation_handlers</a>.end() ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  290</span>      (itr-&gt;second)( *<span class="keyword">this</span> );</div>
<div class="line"><span class="lineno">  291</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a9335673a748ff21decfddf837016e2ff_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a9335673a748ff21decfddf837016e2ff_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a9335673a748ff21decfddf837016e2ff_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a9335673a748ff21decfddf837016e2ff_icgraph">
<area shape="rect" title=" " alt="" coords="1452,84,1611,140"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a69d180992926a229a5e3573ea09d762f" name="a69d180992926a229a5e3573ea09d762f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d180992926a229a5e3573ea09d762f">&#9670;&#160;</a></span>update_producers_authority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::controller_impl::update_producers_authority </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l02334">2334</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2334</span>                                     {</div>
<div class="line"><span class="lineno"> 2335</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_function" href="programs_2sysio-launcher_2main_8cpp.html#a6d42fdcc89e90507ee6f095c8e92fa2b">producers</a> = <a class="code hl_variable" href="#a0e355919fd924a05344ef2b59f7dd587">pending</a>-&gt;get_pending_block_header_state().active_schedule.producers;</div>
<div class="line"><span class="lineno"> 2336</span> </div>
<div class="line"><span class="lineno"> 2337</span>      <span class="keyword">auto</span> update_permission = [&amp;]( <span class="keyword">auto</span>&amp; permission, <span class="keyword">auto</span> threshold ) {</div>
<div class="line"><span class="lineno"> 2338</span>         <span class="keyword">auto</span> auth = authority( threshold, {}, {});</div>
<div class="line"><span class="lineno"> 2339</span>         <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> : <a class="code hl_function" href="programs_2sysio-launcher_2main_8cpp.html#a6d42fdcc89e90507ee6f095c8e92fa2b">producers</a> ) {</div>
<div class="line"><span class="lineno"> 2340</span>            auth.accounts.push_back({{<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>.producer_name, config::active_name}, 1});</div>
<div class="line"><span class="lineno"> 2341</span>         }</div>
<div class="line"><span class="lineno"> 2342</span> </div>
<div class="line"><span class="lineno"> 2343</span>         <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span>authority<span class="keyword">&gt;</span>(permission.auth) != auth ) { <span class="comment">// TODO: use a more efficient way to check that authority has not changed</span></div>
<div class="line"><span class="lineno"> 2344</span>            <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(permission, [&amp;]( <span class="keyword">auto</span>&amp; po ) {</div>
<div class="line"><span class="lineno"> 2345</span>               po.auth = auth;</div>
<div class="line"><span class="lineno"> 2346</span>            });</div>
<div class="line"><span class="lineno"> 2347</span>         }</div>
<div class="line"><span class="lineno"> 2348</span>      };</div>
<div class="line"><span class="lineno"> 2349</span> </div>
<div class="line"><span class="lineno"> 2350</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> num_producers = <a class="code hl_function" href="programs_2sysio-launcher_2main_8cpp.html#a6d42fdcc89e90507ee6f095c8e92fa2b">producers</a>.size();</div>
<div class="line"><span class="lineno"> 2351</span>      <span class="keyword">auto</span> calculate_threshold = [=]( <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> numerator, <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> denominator ) {</div>
<div class="line"><span class="lineno"> 2352</span>         <span class="keywordflow">return</span> ( (num_producers * numerator) / denominator ) + 1;</div>
<div class="line"><span class="lineno"> 2353</span>      };</div>
<div class="line"><span class="lineno"> 2354</span> </div>
<div class="line"><span class="lineno"> 2355</span>      update_permission( <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69">get_permission</a>({config::producers_account_name,</div>
<div class="line"><span class="lineno"> 2356</span>                                                       config::active_name}),</div>
<div class="line"><span class="lineno"> 2357</span>                         calculate_threshold( 2, 3 ) <span class="comment">/* more than two-thirds */</span>                      );</div>
<div class="line"><span class="lineno"> 2358</span> </div>
<div class="line"><span class="lineno"> 2359</span>      update_permission( <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69">get_permission</a>({config::producers_account_name,</div>
<div class="line"><span class="lineno"> 2360</span>                                                       config::majority_producers_permission_name}),</div>
<div class="line"><span class="lineno"> 2361</span>                         calculate_threshold( 1, 2 ) <span class="comment">/* more than one-half */</span>                        );</div>
<div class="line"><span class="lineno"> 2362</span> </div>
<div class="line"><span class="lineno"> 2363</span>      update_permission( <a class="code hl_variable" href="#ab90d295ac18fa98f2520e4eade5b3773">authorization</a>.<a class="code hl_function" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69">get_permission</a>({config::producers_account_name,</div>
<div class="line"><span class="lineno"> 2364</span>                                                       config::minority_producers_permission_name}),</div>
<div class="line"><span class="lineno"> 2365</span>                         calculate_threshold( 1, 3 ) <span class="comment">/* more than one-third */</span>                       );</div>
<div class="line"><span class="lineno"> 2366</span> </div>
<div class="line"><span class="lineno"> 2367</span>      <span class="comment">//TODO: Add tests</span></div>
<div class="line"><span class="lineno"> 2368</span>   }</div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="aprograms_2sysio-launcher_2main_8cpp_html_a6d42fdcc89e90507ee6f095c8e92fa2b"><div class="ttname"><a href="programs_2sysio-launcher_2main_8cpp.html#a6d42fdcc89e90507ee6f095c8e92fa2b">producers</a></div><div class="ttdeci">schedule config_dir_name data_dir_name p2p_port http_port file_size name name keys peers producers(dont_start)) FC_REFLECT(testnet_def</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_cgraph" id="astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_cgraph">
<area shape="rect" title=" " alt="" coords="5,60,169,116"/>
<area shape="rect" href="classsysio_1_1chain_1_1authorization__manager.html#a96924f6aca32a602e24d991d12278a69" title=" " alt="" coords="406,5,580,46"/>
<area shape="poly" title=" " alt="" coords="169,64,216,54,305,40,391,31,391,36,306,46,217,59,170,69"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="217,68,358,109"/>
<area shape="poly" title=" " alt="" coords="169,86,201,86,201,91,169,91"/>
<area shape="rect" href="programs_2sysio-launcher_2main_8cpp.html#a6d42fdcc89e90507ee6f095c8e92fa2b" title=" " alt="" coords="248,133,326,158"/>
<area shape="poly" title=" " alt="" coords="170,109,234,128,233,133,169,114"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="628,46,796,72"/>
<area shape="poly" title=" " alt="" coords="581,36,613,41,612,47,580,42"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="844,39,985,79"/>
<area shape="poly" title=" " alt="" coords="796,65,828,65,828,71,796,71"/>
<area shape="poly" title=" " alt="" coords="843,53,811,53,811,47,843,48"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1033,68,1174,109"/>
<area shape="poly" title=" " alt="" coords="986,67,1018,72,1018,78,985,73"/>
<area shape="poly" title=" " alt="" coords="1033,93,985,94,914,97,843,94,771,79,772,74,844,88,914,91,985,88,1033,88"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="422,71,564,111"/>
<area shape="poly" title=" " alt="" coords="359,87,407,87,407,93,359,92"/>
<area shape="poly" title=" " alt="" coords="564,78,613,71,613,76,564,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_icgraph" id="astructsysio_1_1chain_1_1controller__impl_a69d180992926a229a5e3573ea09d762f_icgraph">
<area shape="rect" title=" " alt="" coords="1452,84,1615,140"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9dbf7da25185959b9a8ea1bf7a47a566" title="push_transaction" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="addaaa85d266d34e5f247ec9214354139" name="addaaa85d266d34e5f247ec9214354139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addaaa85d266d34e5f247ec9214354139">&#9670;&#160;</a></span>validate_db_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto sysio::chain::controller_impl::validate_db_version </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>db</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00649">649</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  649</span>                                                                  {</div>
<div class="line"><span class="lineno">  650</span>      <span class="comment">// check database version</span></div>
<div class="line"><span class="lineno">  651</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; header_idx = <a class="code hl_variable" href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13">get_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a7d61e01ac919d654401a1db8399a3945">database_header_multi_index</a>&gt;().indices().get&lt;by_id&gt;();</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(header_idx.begin() != header_idx.end(), bad_database_version_exception,</div>
<div class="line"><span class="lineno">  654</span>                 <span class="stringliteral">&quot;state database version pre-dates versioning, please restore from a compatible snapshot or replay!&quot;</span>);</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>      <span class="keyword">auto</span> header_itr = header_idx.begin();</div>
<div class="line"><span class="lineno">  657</span>      header_itr-&gt;validate();</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>      <span class="keywordflow">return</span> header_itr;</div>
<div class="line"><span class="lineno">  660</span>   }</div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a7d61e01ac919d654401a1db8399a3945"><div class="ttname"><a href="namespacesysio_1_1chain.html#a7d61e01ac919d654401a1db8399a3945">sysio::chain::database_header_multi_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; database_header_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, BOOST_MULTI_INDEX_MEMBER(database_header_object, database_header_object::id_type, id)&gt; &gt; &gt; database_header_multi_index</div><div class="ttdef"><b>Definition</b> <a href="database__header__object_8hpp_source.html#l00043">database_header_object.hpp:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_cgraph" id="astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,181,71"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="229,31,370,71"/>
<area shape="poly" title=" " alt="" coords="181,48,213,48,213,54,181,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="418,13,585,38"/>
<area shape="poly" title=" " alt="" coords="370,39,402,35,403,41,371,45"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="633,5,775,46"/>
<area shape="poly" title=" " alt="" coords="586,32,618,32,618,37,586,37"/>
<area shape="poly" title=" " alt="" coords="633,46,586,54,482,59,386,58,386,53,482,54,585,48,633,41"/>
<area shape="poly" title=" " alt="" coords="633,20,601,19,601,14,633,14"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_icgraph" id="astructsysio_1_1chain_1_1controller__impl_addaaa85d266d34e5f247ec9214354139_icgraph">
<area shape="rect" title=" " alt="" coords="598,431,774,471"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1fba60b779aae78110279aeda9aae351" title=" " alt="" coords="372,397,550,438"/>
<area shape="poly" title=" " alt="" coords="583,438,551,434,551,428,583,433"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="385,463,537,503"/>
<area shape="poly" title=" " alt="" coords="583,468,538,475,538,469,583,463"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#af7edc9d3783d21f8f736cf864482bdea" title=" " alt="" coords="189,365,324,406"/>
<area shape="poly" title=" " alt="" coords="356,404,324,399,325,394,357,399"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a0192ac61f3f59d4fdf2dcbbd2c7104ca" title=" " alt="" coords="190,431,322,471"/>
<area shape="poly" title=" " alt="" coords="357,437,323,443,323,438,356,432"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a3fad525eaa1221febd10c786e9dbaaf0" title=" " alt="" coords="5,5,141,46"/>
<area shape="poly" title=" " alt="" coords="249,351,239,290,219,213,186,133,165,95,139,61,124,48,128,44,143,57,169,92,191,131,224,212,244,289,254,350"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a4bc45ee8335f6a9c99bfb044b07f7719" title=" " alt="" coords="5,71,141,111"/>
<area shape="poly" title=" " alt="" coords="245,351,232,302,210,242,180,181,160,152,139,126,124,114,127,110,143,122,165,149,184,178,215,240,237,300,250,349"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a1cbd6f5fc5407a94f5f7b811559cd4f8" title=" " alt="" coords="5,136,141,177"/>
<area shape="poly" title=" " alt="" coords="240,352,201,273,173,230,139,192,122,179,126,175,142,188,177,227,206,270,244,350"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a95257d0bdd37cb42fc3165ea1da98b93" title=" " alt="" coords="5,201,141,242"/>
<area shape="poly" title=" " alt="" coords="230,354,190,306,139,257,120,245,123,240,142,253,194,302,234,351"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a934fa5023a748e09f2396f0e15717024" title=" " alt="" coords="5,267,141,307"/>
<area shape="poly" title=" " alt="" coords="206,360,139,323,115,310,118,305,142,318,208,355"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a096f06629ea18d76bab94b524b056fa2" title=" " alt="" coords="5,332,141,373"/>
<area shape="poly" title=" " alt="" coords="173,373,140,367,141,362,174,368"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#ae6248366957999d23ec595271f91ba5e" title=" " alt="" coords="5,397,141,438"/>
<area shape="poly" title=" " alt="" coords="174,403,141,409,140,403,173,398"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#ae1a7cc9d4def2eb719d95680e5da6e43" title=" " alt="" coords="5,463,141,503"/>
<area shape="poly" title=" " alt="" coords="200,416,190,421,142,452,119,464,116,460,139,447,187,417,197,411"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#aec628f7d49e3600f9863554c5d7c9036" title=" " alt="" coords="5,528,141,569"/>
<area shape="poly" title=" " alt="" coords="194,418,191,421,174,445,167,468,160,492,143,517,127,529,123,525,139,513,155,489,162,466,169,442,187,417,190,414"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#a3eb533660c9e2e024d5dfb3f72a9f884" title=" " alt="" coords="5,593,141,634"/>
<area shape="poly" title=" " alt="" coords="193,418,191,421,177,441,170,461,167,500,164,540,157,560,143,582,128,595,125,591,139,579,152,558,159,538,162,499,165,460,172,439,187,417,189,415"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#aa94514bfa2c9891911d4bf3d03da3cc8" title=" " alt="" coords="5,659,141,699"/>
<area shape="poly" title=" " alt="" coords="193,418,191,421,174,450,166,478,165,505,167,532,170,560,168,588,161,617,143,647,129,660,125,657,139,644,156,615,163,587,164,560,162,533,160,505,161,477,169,448,186,417,189,415"/>
<area shape="rect" href="classsysio_1_1testing_1_1base__tester.html#abc8727b39ac2db73bed6613f22307daf" title=" " alt="" coords="5,724,141,765"/>
<area shape="poly" title=" " alt="" coords="192,418,191,420,170,459,162,495,162,530,167,565,172,600,173,636,164,673,143,713,130,725,126,722,139,709,159,671,167,635,167,600,162,565,157,530,157,494,165,457,186,418,188,415"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a67d7a4050a78ec74aaf524a46bbcdf54" name="a67d7a4050a78ec74aaf524a46bbcdf54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d7a4050a78ec74aaf524a46bbcdf54">&#9670;&#160;</a></span>apply_handlers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a>, map&lt;<a class="el" href="#a80cb28cfbb823c8688106b0229d0169c">handler_key</a>, <a class="el" href="namespacesysio_1_1chain.html#ab143988ae1cae85e839b01eb768804c3">apply_handler</a>&gt; &gt; sysio::chain::controller_impl::apply_handlers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00256">256</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ab90d295ac18fa98f2520e4eade5b3773" name="ab90d295ac18fa98f2520e4eade5b3773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90d295ac18fa98f2520e4eade5b3773">&#9670;&#160;</a></span>authorization</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1authorization__manager.html">authorization_manager</a> sysio::chain::controller_impl::authorization</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00238">238</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a958ab2b868a2a7ec9644199a80e0ad9e" name="a958ab2b868a2a7ec9644199a80e0ad9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a958ab2b868a2a7ec9644199a80e0ad9e">&#9670;&#160;</a></span>blog</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1block__log.html">block_log</a> sysio::chain::controller_impl::blog</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00232">232</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a2f7115cf9c5daa3abca8e0467dce5a5a" name="a2f7115cf9c5daa3abca8e0467dce5a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f7115cf9c5daa3abca8e0467dce5a5a">&#9670;&#160;</a></span>chain_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structsysio_1_1chain_1_1chain__id__type.html">chain_id_type</a> sysio::chain::controller_impl::chain_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00241">241</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a048ac8e4d4436902a1888df13575b252" name="a048ac8e4d4436902a1888df13575b252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048ac8e4d4436902a1888df13575b252">&#9670;&#160;</a></span>conf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1controller_1_1config.html">controller::config</a> sysio::chain::controller_impl::conf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00240">240</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a1c3e5eaaf816a6fa2f790cd2ef6dbdce" name="a1c3e5eaaf816a6fa2f790cd2ef6dbdce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3e5eaaf816a6fa2f790cd2ef6dbdce">&#9670;&#160;</a></span>db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchainbase_1_1database.html">chainbase::database</a> sysio::chain::controller_impl::db</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00231">231</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a4f73eb03cb9df364b792166a70f78320" name="a4f73eb03cb9df364b792166a70f78320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f73eb03cb9df364b792166a70f78320">&#9670;&#160;</a></span>deep_mind_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a>* sysio::chain::controller_impl::deep_mind_logger = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00250">250</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="af7f72e6389799b7921aa98f30534f0d9" name="af7f72e6389799b7921aa98f30534f0d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f72e6389799b7921aa98f30534f0d9">&#9670;&#160;</a></span>fork_db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1fork__database.html">fork_database</a> sysio::chain::controller_impl::fork_db</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00235">235</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a56a0f369b58e6597b62569ff2853ee90" name="a56a0f369b58e6597b62569ff2853ee90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a0f369b58e6597b62569ff2853ee90">&#9670;&#160;</a></span>head</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> sysio::chain::controller_impl::head</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00234">234</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ab02dbb970f5b16869e123b77eb090e9b" name="ab02dbb970f5b16869e123b77eb090e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab02dbb970f5b16869e123b77eb090e9b">&#9670;&#160;</a></span>in_trx_requiring_checks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::in_trx_requiring_checks = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00244">244</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a0e355919fd924a05344ef2b59f7dd587" name="a0e355919fd924a05344ef2b59f7dd587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e355919fd924a05344ef2b59f7dd587">&#9670;&#160;</a></span>pending</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="structsysio_1_1chain_1_1pending__state.html">pending_state</a>&gt; sysio::chain::controller_impl::pending</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00233">233</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ac9a42879c69a343b4405b035e7cff29a" name="ac9a42879c69a343b4405b035e7cff29a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a42879c69a343b4405b035e7cff29a">&#9670;&#160;</a></span>protocol_feature_activation_handlers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt; <a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a>, std::function&lt;void(<a class="el" href="structsysio_1_1chain_1_1controller__impl.html">controller_impl</a>&amp;)&gt;, <a class="el" href="structsysio_1_1chain_1_1enum__hash.html">enum_hash</a>&lt;<a class="el" href="namespacesysio_1_1chain.html#a406d45a184cdba0af316b5bf34bf56cf">builtin_protocol_feature_t</a>&gt; &gt; sysio::chain::controller_impl::protocol_feature_activation_handlers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00257">257</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a24a100a7be5e562ac3966924b0c9ccb6" name="a24a100a7be5e562ac3966924b0c9ccb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a100a7be5e562ac3966924b0c9ccb6">&#9670;&#160;</a></span>protocol_features</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1protocol__feature__manager.html">protocol_feature_manager</a> sysio::chain::controller_impl::protocol_features</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00239">239</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a4a18397f763ebe4880b6ccd970bedf85" name="a4a18397f763ebe4880b6ccd970bedf85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a18397f763ebe4880b6ccd970bedf85">&#9670;&#160;</a></span>read_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5e">db_read_mode</a> sysio::chain::controller_impl::read_mode = <a class="el" href="namespacesysio_1_1chain.html#af3e35f3e1b78dd00fa247009a2d9ba5ea26ca3b6826ca765f741f39ec4754d581">db_read_mode::SPECULATIVE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00243">243</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a3bd1eefa999ba89597c3686e0acc463e" name="a3bd1eefa999ba89597c3686e0acc463e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd1eefa999ba89597c3686e0acc463e">&#9670;&#160;</a></span>replaying</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::replaying = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00242">242</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a83a037a61ce8e07b39d2d38b0f54f8f7" name="a83a037a61ce8e07b39d2d38b0f54f8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83a037a61ce8e07b39d2d38b0f54f8f7">&#9670;&#160;</a></span>resource_limits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html">resource_limits_manager</a> sysio::chain::controller_impl::resource_limits</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00237">237</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a342fd89592616d7ca931ff64fe75ead7" name="a342fd89592616d7ca931ff64fe75ead7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342fd89592616d7ca931ff64fe75ead7">&#9670;&#160;</a></span>rnh</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1controller__impl_1_1reset__new__handler.html">reset_new_handler</a> sysio::chain::controller_impl::rnh</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00228">228</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a64851fb4e041dc49ab22cf2ba335720d" name="a64851fb4e041dc49ab22cf2ba335720d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64851fb4e041dc49ab22cf2ba335720d">&#9670;&#160;</a></span>self</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; sysio::chain::controller_impl::self</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00229">229</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="a8054e1b3da405a7765275b76d6628928" name="a8054e1b3da405a7765275b76d6628928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8054e1b3da405a7765275b76d6628928">&#9670;&#160;</a></span>shutdown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;void()&gt; sysio::chain::controller_impl::shutdown</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00230">230</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="afe8c6fe322a239e2f910f26a385786f0" name="afe8c6fe322a239e2f910f26a385786f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe8c6fe322a239e2f910f26a385786f0">&#9670;&#160;</a></span>snapshot_head_block</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::chain::controller_impl::snapshot_head_block = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00247">247</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ab952243b3b18aaec46cce82670687075" name="ab952243b3b18aaec46cce82670687075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab952243b3b18aaec46cce82670687075">&#9670;&#160;</a></span>subjective_cpu_leeway</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="classfc_1_1microseconds.html">fc::microseconds</a>&gt; sysio::chain::controller_impl::subjective_cpu_leeway</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00245">245</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ab76d9091b7e62fb25a0fdd63c8210af9" name="ab76d9091b7e62fb25a0fdd63c8210af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab76d9091b7e62fb25a0fdd63c8210af9">&#9670;&#160;</a></span>thread_pool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1named__thread__pool.html">named_thread_pool</a> sysio::chain::controller_impl::thread_pool</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00248">248</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="ad3c19aea29c2fbb28ca7120d591ba088" name="ad3c19aea29c2fbb28ca7120d591ba088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c19aea29c2fbb28ca7120d591ba088">&#9670;&#160;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1chain_1_1platform__timer.html">platform_timer</a> sysio::chain::controller_impl::timer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00249">249</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="af3f88c130012bd7de2401b5b80fd3129" name="af3f88c130012bd7de2401b5b80fd3129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f88c130012bd7de2401b5b80fd3129">&#9670;&#160;</a></span>trusted_producer_light_validation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::controller_impl::trusted_producer_light_validation = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00246">246</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a id="af94aa57dba3a7504a8047a11d37c3b27" name="af94aa57dba3a7504a8047a11d37c3b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94aa57dba3a7504a8047a11d37c3b27">&#9670;&#160;</a></span>wasmif</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1chain_1_1wasm__interface.html">wasm_interface</a> sysio::chain::controller_impl::wasmif</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="controller_8cpp_source.html#l00236">236</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>libraries/chain/<a class="el" href="controller_8cpp_source.html">controller.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="structsysio_1_1chain_1_1controller__impl.html">controller_impl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
