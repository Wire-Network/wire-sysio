\chapter{contributing}
\hypertarget{md_libraries_2sys-vm_2external_2_catch2_2docs_2contributing}{}\label{md_libraries_2sys-vm_2external_2_catch2_2docs_2contributing}\index{contributing@{contributing}}
\label{_top}%
 \doxysection*{Contributing to \doxylink{namespace_catch}{Catch}}

So you want to contribute something to \doxylink{namespace_catch}{Catch}? That\textquotesingle{}s great! Whether it\textquotesingle{}s a bug fix, a new feature, support for additional compilers -\/ or just a fix to the documentation -\/ all contributions are very welcome and very much appreciated. Of course so are bug reports and other comments and questions.

If you are contributing to the code base there are a few simple guidelines to keep in mind. This also includes notes to help you find your way around. As this is liable to drift out of date please raise an issue or, better still, a pull request for this file, if you notice that.

\doxysubsection*{Branches}

Ongoing development is currently on {\itshape master}. At some point an integration branch will be set-\/up and PRs should target that -\/ but for now it\textquotesingle{}s all against master. You may see feature branches come and go from time to time, too.

\doxysubsection*{Directory structure}

{\itshape Users} of \doxylink{namespace_catch}{Catch} primarily use the single header version. {\itshape Maintainers} should work with the full source (which is still, primarily, in headers). This can be found in the {\ttfamily include} folder. There are a set of test files, currently under {\ttfamily projects/\+Self\+Test}. The test app can be built via CMake from the {\ttfamily CMake\+Lists.\+txt} file in the root, or you can generate project files for Visual Studio, XCode, and others (instructions in the {\ttfamily projects} folder). If you have access to CLion, it can work with the CMake file directly.

As well as the runtime test files you\textquotesingle{}ll also see a {\ttfamily Surrogate\+Cpps} directory under {\ttfamily projects/\+Self\+Test}. This contains a set of .cpp files that each {\ttfamily \#include} a single header. While these files are not essential to compilation they help to keep the implementation headers self-\/contained. At time of writing this set is not complete but has reasonable coverage. If you add additional headers please try to remember to add a surrogate cpp for it.

The other directories are {\ttfamily scripts} which contains a set of python scripts to help in testing \doxylink{namespace_catch}{Catch} as well as generating the single include, and {\ttfamily docs}, which contains the documentation as a set of markdown files.

{\bfseries{When submitting a pull request please do not include changes to the single include, or to the version number file as these are managed by the scripts!}}

\doxysubsection*{Testing your changes}

Obviously all changes to \doxylink{namespace_catch}{Catch}\textquotesingle{}s code should be tested. If you added new functionality, you should add tests covering and showcasing it. Even if you have only made changes to \doxylink{namespace_catch}{Catch} internals (i.\+e. you implemented some performance improvements), you should still test your changes.

This means 2 things


\begin{DoxyItemize}
\item Compiling \doxylink{namespace_catch}{Catch}\textquotesingle{}s Self\+Test project\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ cd\ Catch2}
\DoxyCodeLine{\$\ cmake\ -\/Bdebug-\/build\ -\/H.\ -\/DCMAKE\_BUILD\_TYPE=Debug}
\DoxyCodeLine{\$\ cmake\ -\/-\/build\ debug-\/build}

\end{DoxyCode}
 because code that does not compile is evidently incorrect. Obviously, you are not expected to have access to all the compilers and platforms supported by Catch2, but you should at least smoke test your changes on your platform. Our CI pipeline will check your PR against most of the supported platforms, but it takes an hour to finish -- compiling locally takes just a few minutes.
\item Running the tests via CTest\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ cd\ debug-\/build}
\DoxyCodeLine{\$\ ctest\ -\/j\ 2\ -\/-\/output-\/on-\/failure}

\end{DoxyCode}
 If you added new tests, approval tests are very likely to fail. If they do not, it means that your changes weren\textquotesingle{}t run as part of them. This {\itshape might} be intentional, but usually is not.
\end{DoxyItemize}

The approval tests compare current output of the Self\+Test binary in various configurations against known good outputs. The reason it fails is, {\itshape usually}, that you\textquotesingle{}ve added new tests but have not yet approved the changes they introduce. This is done with the {\ttfamily scripts/approve.\+py} script, but before you do so, you need to check that the introduced changes are indeed intentional.

\doxysubsection*{\doxylink{struct_code}{Code} constructs to watch out for}

This section is a (sadly incomplete) listing of various constructs that are problematic and are not always caught by our CI infrastructure.

\doxysubsubsection*{Naked exceptions and exceptions-\/related function}

If you are throwing an exception, it should be done via {\ttfamily CATCH\+\_\+\+ERROR} or {\ttfamily CATCH\+\_\+\+RUNTIME\+\_\+\+ERROR} in {\ttfamily \doxylink{catch__enforce_8h}{catch\+\_\+enforce.\+h}}. These macros will handle the differences between compilation with or without exceptions for you. However, some platforms (IAR) also have problems with exceptions-\/related functions, such as {\ttfamily std\+::current\+\_\+exceptions}. We do not have IAR in our CI, but luckily there should not be too many reasons to use these. However, if you do, they should be kept behind a {\ttfamily CATCH\+\_\+\+CONFIG\+\_\+\+DISABLE\+\_\+\+EXCEPTIONS} macro.

\doxysubsubsection*{Unqualified usage of functions from C\textquotesingle{}s stdlib}

If you are using a function from C\textquotesingle{}s stdlib, please include the header as {\ttfamily \texorpdfstring{$<$}{<}cfoo\texorpdfstring{$>$}{>}} and call the function qualified. The common knowledge that there is no difference is wrong, QNX and Vx\+Works won\textquotesingle{}t compile if you include the header as {\ttfamily \texorpdfstring{$<$}{<}cfoo\texorpdfstring{$>$}{>}} and call the function unqualified.

\DoxyHorRuler{0}


{\itshape This documentation will always be in-\/progress as new information comes up, but we are trying to keep it as up to date as possible.}

\DoxyHorRuler{0}


\href{Readme.md\#top}{\texttt{ Home}} 