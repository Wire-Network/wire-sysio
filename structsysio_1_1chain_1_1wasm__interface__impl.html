<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::wasm_interface_impl Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structsysio_1_1chain_1_1wasm__interface__impl.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structsysio_1_1chain_1_1wasm__interface__impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::wasm_interface_impl Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for sysio::chain::wasm_interface_impl:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1wasm__interface__impl__coll__graph.png" border="0" usemap="#asysio_1_1chain_1_1wasm__interface__impl_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1chain_1_1wasm__interface__impl_coll__map" id="asysio_1_1chain_1_1wasm__interface__impl_coll__map">
<area shape="rect" title=" " alt="" coords="9,94,143,135"/>
<area shape="rect" href="classchainbase_1_1database.html" title=" " alt="" coords="5,5,147,31"/>
<area shape="poly" title=" " alt="" coords="79,46,79,93,73,93,73,46"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9980f338dd2ae523f6e5d419a867161d" id="r_a9980f338dd2ae523f6e5d419a867161d"><td class="memItemLeft" align="right" valign="top">typedef boost::multi_index_container&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, indexed_by&lt; ordered_unique&lt; tag&lt; by_hash &gt;, composite_key&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, member&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a2186212ec09b24e80e7b0d9ed08dd1d1">wasm_cache_entry::code_hash</a> &gt;, member&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a743c987a1325f0b7771b545465f80169">wasm_cache_entry::vm_type</a> &gt;, member&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a27d4e0b8c3e923efed41d39c63564e58">wasm_cache_entry::vm_version</a> &gt; &gt; &gt;, ordered_non_unique&lt; tag&lt; by_first_block_num &gt;, member&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#ab6295f4400e2633cebad94850d53ad43">wasm_cache_entry::first_block_num_used</a> &gt; &gt;, ordered_non_unique&lt; tag&lt; by_last_block_num &gt;, member&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a9d845e0e7a7740feb7d1ed68903c9b91">wasm_cache_entry::last_block_num_used</a> &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9980f338dd2ae523f6e5d419a867161d">wasm_cache_index</a></td></tr>
<tr class="separator:a9980f338dd2ae523f6e5d419a867161d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a9123f895d0c469d94e516033fbdeb3" id="r_a4a9123f895d0c469d94e516033fbdeb3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a9123f895d0c469d94e516033fbdeb3">wasm_interface_impl</a> (<a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">wasm_interface::vm_type</a> vm, bool eosvmoc_tierup, const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;d, const boost::filesystem::path data_dir, const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a> &amp;eosvmoc_config, bool profile)</td></tr>
<tr class="separator:a4a9123f895d0c469d94e516033fbdeb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca43cd5121056cba404d048a35cd45c3" id="r_aca43cd5121056cba404d048a35cd45c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca43cd5121056cba404d048a35cd45c3">~wasm_interface_impl</a> ()</td></tr>
<tr class="separator:aca43cd5121056cba404d048a35cd45c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf8b5f51ca4697993edf5c74bc612d6" id="r_acaf8b5f51ca4697993edf5c74bc612d6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acaf8b5f51ca4697993edf5c74bc612d6">parse_initial_memory</a> (const <a class="el" href="struct_i_r_1_1_module.html">Module</a> &amp;module)</td></tr>
<tr class="separator:acaf8b5f51ca4697993edf5c74bc612d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5fe6dd5951729a3a64bbad0657771d" id="r_a7d5fe6dd5951729a3a64bbad0657771d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d5fe6dd5951729a3a64bbad0657771d">code_block_num_last_used</a> (const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;code_hash, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;<a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">vm_type</a>, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;vm_version, const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;block_num)</td></tr>
<tr class="separator:a7d5fe6dd5951729a3a64bbad0657771d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07bc61b782d0a2463a05554909e8a72d" id="r_a07bc61b782d0a2463a05554909e8a72d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07bc61b782d0a2463a05554909e8a72d">current_lib</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib)</td></tr>
<tr class="separator:a07bc61b782d0a2463a05554909e8a72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0db209c4515fe5d680783f7c49ffeecf" id="r_a0db209c4515fe5d680783f7c49ffeecf"><td class="memItemLeft" align="right" valign="top">const std::unique_ptr&lt; <a class="el" href="classsysio_1_1chain_1_1wasm__instantiated__module__interface.html">wasm_instantiated_module_interface</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0db209c4515fe5d680783f7c49ffeecf">get_instantiated_module</a> (const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;code_hash, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;<a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">vm_type</a>, const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;vm_version, <a class="el" href="classsysio_1_1chain_1_1transaction__context.html">transaction_context</a> &amp;trx_context)</td></tr>
<tr class="separator:a0db209c4515fe5d680783f7c49ffeecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4782146a2bda629fc16b5772230ccb54" id="r_a4782146a2bda629fc16b5772230ccb54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4782146a2bda629fc16b5772230ccb54">is_shutting_down</a> = false</td></tr>
<tr class="separator:a4782146a2bda629fc16b5772230ccb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6943b8ec03fdbc69554b814d64f10d1" id="r_ad6943b8ec03fdbc69554b814d64f10d1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classsysio_1_1chain_1_1wasm__runtime__interface.html">wasm_runtime_interface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a></td></tr>
<tr class="separator:ad6943b8ec03fdbc69554b814d64f10d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653b949873ce49be456fb494b4f2e161" id="r_a653b949873ce49be456fb494b4f2e161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9980f338dd2ae523f6e5d419a867161d">wasm_cache_index</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a></td></tr>
<tr class="separator:a653b949873ce49be456fb494b4f2e161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f322279d22bb957853e69cd55e1269" id="r_a75f322279d22bb957853e69cd55e1269"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75f322279d22bb957853e69cd55e1269">db</a></td></tr>
<tr class="separator:a75f322279d22bb957853e69cd55e1269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ac534da54800a99b98db93c2d2ce07" id="r_a22ac534da54800a99b98db93c2d2ce07"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">wasm_interface::vm_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22ac534da54800a99b98db93c2d2ce07">wasm_runtime_time</a></td></tr>
<tr class="separator:a22ac534da54800a99b98db93c2d2ce07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00037">37</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9980f338dd2ae523f6e5d419a867161d" name="a9980f338dd2ae523f6e5d419a867161d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9980f338dd2ae523f6e5d419a867161d">&#9670;&#160;</a></span>wasm_cache_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::multi_index_container&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, indexed_by&lt; ordered_unique&lt;tag&lt;by_hash&gt;, composite_key&lt; <a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, member&lt;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a2186212ec09b24e80e7b0d9ed08dd1d1">wasm_cache_entry::code_hash</a>&gt;, member&lt;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a743c987a1325f0b7771b545465f80169">wasm_cache_entry::vm_type</a>&gt;, member&lt;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a27d4e0b8c3e923efed41d39c63564e58">wasm_cache_entry::vm_version</a>&gt; &gt; &gt;, ordered_non_unique&lt;tag&lt;by_first_block_num&gt;, member&lt;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#ab6295f4400e2633cebad94850d53ad43">wasm_cache_entry::first_block_num_used</a>&gt; &gt;, ordered_non_unique&lt;tag&lt;by_last_block_num&gt;, member&lt;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html">wasm_cache_entry</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>, &amp;<a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl_1_1wasm__cache__entry.html#a9d845e0e7a7740feb7d1ed68903c9b91">wasm_cache_entry::last_block_num_used</a>&gt; &gt; &gt; &gt; <a class="el" href="#a9980f338dd2ae523f6e5d419a867161d">sysio::chain::wasm_interface_impl::wasm_cache_index</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00200">200</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4a9123f895d0c469d94e516033fbdeb3" name="a4a9123f895d0c469d94e516033fbdeb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9123f895d0c469d94e516033fbdeb3">&#9670;&#160;</a></span>wasm_interface_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::wasm_interface_impl::wasm_interface_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">wasm_interface::vm_type</a></td>          <td class="paramname"><span class="paramname"><em>vm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>eosvmoc_tierup</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>d</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path</td>          <td class="paramname"><span class="paramname"><em>data_dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1eosvmoc_1_1config.html">eosvmoc::config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>eosvmoc_config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>profile</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00061">61</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                                                                                                                                                                            : <a class="code hl_variable" href="#a75f322279d22bb957853e69cd55e1269">db</a>(d), <a class="code hl_variable" href="#a22ac534da54800a99b98db93c2d2ce07">wasm_runtime_time</a>(vm) {</div>
<div class="line"><span class="lineno">   62</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_RUNTIME_ENABLED</span></div>
<div class="line"><span class="lineno">   63</span>         <span class="keywordflow">if</span>(vm == wasm_interface::vm_type::eos_vm)</div>
<div class="line"><span class="lineno">   64</span>            <a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a> = std::make_unique&lt;webassembly::eos_vm_runtime::eos_vm_runtime&lt;sysio::vm::interpreter&gt;&gt;();</div>
<div class="line"><span class="lineno">   65</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   66</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_JIT_RUNTIME_ENABLED</span></div>
<div class="line"><span class="lineno">   67</span>         <span class="keywordflow">if</span>(vm == wasm_interface::vm_type::eos_vm_jit &amp;&amp; profile) {</div>
<div class="line"><span class="lineno">   68</span>            <a class="code hl_function" href="namespacesysio_1_1vm.html#adaaff21cfdbe1f41d62269f7117a69b0">sysio::vm::set_profile_interval_us</a>(200);</div>
<div class="line"><span class="lineno">   69</span>            <a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a> = std::make_unique&lt;webassembly::eos_vm_runtime::eos_vm_profile_runtime&gt;();</div>
<div class="line"><span class="lineno">   70</span>         }</div>
<div class="line"><span class="lineno">   71</span>         <span class="keywordflow">if</span>(vm == wasm_interface::vm_type::eos_vm_jit &amp;&amp; !profile)</div>
<div class="line"><span class="lineno">   72</span>            <a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a> = std::make_unique&lt;webassembly::eos_vm_runtime::eos_vm_runtime&lt;sysio::vm::jit&gt;&gt;();</div>
<div class="line"><span class="lineno">   73</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   74</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_OC_RUNTIME_ENABLED</span></div>
<div class="line"><span class="lineno">   75</span>         <span class="keywordflow">if</span>(vm == wasm_interface::vm_type::eos_vm_oc)</div>
<div class="line"><span class="lineno">   76</span>            <a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a> = std::make_unique&lt;webassembly::eosvmoc::eosvmoc_runtime&gt;(data_dir, eosvmoc_config, d);</div>
<div class="line"><span class="lineno">   77</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   78</span>         <span class="keywordflow">if</span>(!<a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a>)</div>
<div class="line"><span class="lineno">   79</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a>(<a class="code hl_variable" href="namespacesysio_1_1chain.html#a489ddfe76234ed9479deafde7d26c2b9">wasm_exception</a>, <span class="stringliteral">&quot;${r} wasm runtime not supported on this platform and/or configuration&quot;</span>, (<span class="stringliteral">&quot;r&quot;</span>, vm));</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_OC_RUNTIME_ENABLED</span></div>
<div class="line"><span class="lineno">   82</span>         <span class="keywordflow">if</span>(eosvmoc_tierup) {</div>
<div class="line"><span class="lineno">   83</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(vm != wasm_interface::vm_type::eos_vm_oc, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a489ddfe76234ed9479deafde7d26c2b9">wasm_exception</a>, <span class="stringliteral">&quot;You can&#39;t use SYS VM OC as the base runtime when tier up is activated&quot;</span>);</div>
<div class="line"><span class="lineno">   84</span>            eosvmoc.emplace(data_dir, eosvmoc_config, d);</div>
<div class="line"><span class="lineno">   85</span>         }</div>
<div class="line"><span class="lineno">   86</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   87</span>      }</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a1bfa656552ea0534b2c91ee0fe33f850"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a1bfa656552ea0534b2c91ee0fe33f850">SYS_THROW</a></div><div class="ttdeci">#define SYS_THROW(exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00013">exceptions.hpp:13</a></div></div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a489ddfe76234ed9479deafde7d26c2b9"><div class="ttname"><a href="namespacesysio_1_1chain.html#a489ddfe76234ed9479deafde7d26c2b9">sysio::chain::wasm_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension Error decompressing transaction Transaction should have at least one required authority Expired Transaction Invalid Reference Block Duplicate deferred transaction The transaction can not be found Transaction is too big Invalid transaction extension Transaction includes disallowed Transaction exceeded transient resource limit Account name already exists sysio_assert_message assertion failure Action can not be found Attempt to use unaccessible API Inline Action exceeds maximum size limit sysio_assert_code assertion failure uses restricted error code value action return value size too big Permission Query Exception Contract Table Query Exception Database is an unknown or unsupported version Database usage is at unsafe levels wasm_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00333">exceptions.hpp:333</a></div></div>
<div class="ttc" id="anamespacesysio_1_1vm_html_adaaff21cfdbe1f41d62269f7117a69b0"><div class="ttname"><a href="namespacesysio_1_1vm.html#adaaff21cfdbe1f41d62269f7117a69b0">sysio::vm::set_profile_interval_us</a></div><div class="ttdeci">void set_profile_interval_us(uint32_t value)</div><div class="ttdef"><b>Definition</b> <a href="sysio_2vm_2profile_8hpp_source.html#l00271">profile.hpp:271</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_a22ac534da54800a99b98db93c2d2ce07"><div class="ttname"><a href="#a22ac534da54800a99b98db93c2d2ce07">sysio::chain::wasm_interface_impl::wasm_runtime_time</a></div><div class="ttdeci">const wasm_interface::vm_type wasm_runtime_time</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00204">wasm_interface_private.hpp:204</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_a75f322279d22bb957853e69cd55e1269"><div class="ttname"><a href="#a75f322279d22bb957853e69cd55e1269">sysio::chain::wasm_interface_impl::db</a></div><div class="ttdeci">const chainbase::database &amp; db</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00203">wasm_interface_private.hpp:203</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_ad6943b8ec03fdbc69554b814d64f10d1"><div class="ttname"><a href="#ad6943b8ec03fdbc69554b814d64f10d1">sysio::chain::wasm_interface_impl::runtime_interface</a></div><div class="ttdeci">std::unique_ptr&lt; wasm_runtime_interface &gt; runtime_interface</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00185">wasm_interface_private.hpp:185</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1wasm__interface__impl_a4a9123f895d0c469d94e516033fbdeb3_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1wasm__interface__impl_a4a9123f895d0c469d94e516033fbdeb3_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1wasm__interface__impl_a4a9123f895d0c469d94e516033fbdeb3_cgraph" id="astructsysio_1_1chain_1_1wasm__interface__impl_a4a9123f895d0c469d94e516033fbdeb3_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,158,61"/>
<area shape="rect" href="namespacesysio_1_1vm.html#adaaff21cfdbe1f41d62269f7117a69b0" title=" " alt="" coords="206,13,352,54"/>
<area shape="poly" title=" " alt="" coords="158,30,191,30,191,36,158,36"/>
</map>
</div>

</div>
</div>
<a id="aca43cd5121056cba404d048a35cd45c3" name="aca43cd5121056cba404d048a35cd45c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca43cd5121056cba404d048a35cd45c3">&#9670;&#160;</a></span>~wasm_interface_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::wasm_interface_impl::~wasm_interface_impl </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00089">89</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>                             {</div>
<div class="line"><span class="lineno">   90</span>         <span class="keywordflow">if</span>(<a class="code hl_variable" href="#a4782146a2bda629fc16b5772230ccb54">is_shutting_down</a>)</div>
<div class="line"><span class="lineno">   91</span>            <span class="keywordflow">for</span>(wasm_cache_index::iterator it = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.begin(); it != <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.end(); ++it)</div>
<div class="line"><span class="lineno">   92</span>               <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.modify(it, [](wasm_cache_entry&amp; e) {</div>
<div class="line"><span class="lineno">   93</span>                  e.module.release()-&gt;fast_shutdown();</div>
<div class="line"><span class="lineno">   94</span>               });</div>
<div class="line"><span class="lineno">   95</span>      }</div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_a4782146a2bda629fc16b5772230ccb54"><div class="ttname"><a href="#a4782146a2bda629fc16b5772230ccb54">sysio::chain::wasm_interface_impl::is_shutting_down</a></div><div class="ttdeci">bool is_shutting_down</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00184">wasm_interface_private.hpp:184</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_a653b949873ce49be456fb494b4f2e161"><div class="ttname"><a href="#a653b949873ce49be456fb494b4f2e161">sysio::chain::wasm_interface_impl::wasm_instantiation_cache</a></div><div class="ttdeci">wasm_cache_index wasm_instantiation_cache</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00201">wasm_interface_private.hpp:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7d5fe6dd5951729a3a64bbad0657771d" name="a7d5fe6dd5951729a3a64bbad0657771d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5fe6dd5951729a3a64bbad0657771d">&#9670;&#160;</a></span>code_block_num_last_used()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::wasm_interface_impl::code_block_num_last_used </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>code_hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vm_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vm_version</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>block_num</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00115">115</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>                                                                                                                                                {</div>
<div class="line"><span class="lineno">  116</span>         wasm_cache_index::iterator it = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.find(boost::make_tuple(code_hash, <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>, vm_version));</div>
<div class="line"><span class="lineno">  117</span>         <span class="keywordflow">if</span>(it != <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.end())</div>
<div class="line"><span class="lineno">  118</span>            <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.modify(it, [block_num](wasm_cache_entry&amp; e) {</div>
<div class="line"><span class="lineno">  119</span>               e.last_block_num_used = block_num;</div>
<div class="line"><span class="lineno">  120</span>            });</div>
<div class="line"><span class="lineno">  121</span>      }</div>
<div class="ttc" id="anamespacesysio_html_af322f17f4ee9adb9dc402c8608dac30e"><div class="ttname"><a href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">sysio::vm_type</a></div><div class="ttdeci">wasm_interface::vm_type vm_type</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8cpp_source.html#l00131">chain_plugin.cpp:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07bc61b782d0a2463a05554909e8a72d" name="a07bc61b782d0a2463a05554909e8a72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07bc61b782d0a2463a05554909e8a72d">&#9670;&#160;</a></span>current_lib()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::wasm_interface_impl::current_lib </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>lib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00123">123</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>                                     {</div>
<div class="line"><span class="lineno">  124</span>         <span class="comment">//anything last used before or on the LIB can be evicted</span></div>
<div class="line"><span class="lineno">  125</span>         <span class="keyword">const</span> <span class="keyword">auto</span> first_it = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.get&lt;by_last_block_num&gt;().begin();</div>
<div class="line"><span class="lineno">  126</span>         <span class="keyword">const</span> <span class="keyword">auto</span> last_it  = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.get&lt;by_last_block_num&gt;().upper_bound(lib);</div>
<div class="line"><span class="lineno">  127</span><span class="preprocessor">#ifdef SYSIO_SYS_VM_OC_RUNTIME_ENABLED</span></div>
<div class="line"><span class="lineno">  128</span>         <span class="keywordflow">if</span>(eosvmoc) <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = first_it; it != last_it; it++)</div>
<div class="line"><span class="lineno">  129</span>            eosvmoc-&gt;cc.free_code(it-&gt;code_hash, it-&gt;vm_version);</div>
<div class="line"><span class="lineno">  130</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  131</span>         <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.get&lt;by_last_block_num&gt;().erase(first_it, last_it);</div>
<div class="line"><span class="lineno">  132</span>      }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0db209c4515fe5d680783f7c49ffeecf" name="a0db209c4515fe5d680783f7c49ffeecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db209c4515fe5d680783f7c49ffeecf">&#9670;&#160;</a></span>get_instantiated_module()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::unique_ptr&lt; <a class="el" href="classsysio_1_1chain_1_1wasm__instantiated__module__interface.html">wasm_instantiated_module_interface</a> &gt; &amp; sysio::chain::wasm_interface_impl::get_instantiated_module </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a357fd9478475457e5bb386a3143079b6">digest_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>code_hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vm_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vm_version</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsysio_1_1chain_1_1transaction__context.html">transaction_context</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>trx_context</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00134">134</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>      {</div>
<div class="line"><span class="lineno">  137</span>         wasm_cache_index::iterator it = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.find(</div>
<div class="line"><span class="lineno">  138</span>                                             boost::make_tuple(code_hash, <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>, vm_version) );</div>
<div class="line"><span class="lineno">  139</span>         <span class="keyword">const</span> code_object* codeobject = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  140</span>         <span class="keywordflow">if</span>(it == <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.end()) {</div>
<div class="line"><span class="lineno">  141</span>            codeobject = &amp;<a class="code hl_variable" href="#a75f322279d22bb957853e69cd55e1269">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;code_object,by_code_hash&gt;(boost::make_tuple(code_hash, <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>, vm_version));</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>            it = <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.emplace( wasm_interface_impl::wasm_cache_entry{</div>
<div class="line"><span class="lineno">  144</span>                                                      .code_hash = code_hash,</div>
<div class="line"><span class="lineno">  145</span>                                                      .first_block_num_used = codeobject-&gt;first_block_used,</div>
<div class="line"><span class="lineno">  146</span>                                                      .last_block_num_used = <a class="code hl_define" href="stdint_8h.html#ab5eb23180f7cc12b7d6c04a8ec067fdd">UINT32_MAX</a>,</div>
<div class="line"><span class="lineno">  147</span>                                                      .module = <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  148</span>                                                      .vm_type = <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>,</div>
<div class="line"><span class="lineno">  149</span>                                                      .vm_version = vm_version</div>
<div class="line"><span class="lineno">  150</span>                                                   } ).first;</div>
<div class="line"><span class="lineno">  151</span>         }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>         <span class="keywordflow">if</span>(!it-&gt;module) {</div>
<div class="line"><span class="lineno">  154</span>            <span class="keywordflow">if</span>(!codeobject)</div>
<div class="line"><span class="lineno">  155</span>               codeobject = &amp;<a class="code hl_variable" href="#a75f322279d22bb957853e69cd55e1269">db</a>.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;code_object,by_code_hash&gt;(boost::make_tuple(code_hash, <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>, vm_version));</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>            <span class="keyword">auto</span> timer_pause = <a class="code hl_function" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a>([&amp;](){</div>
<div class="line"><span class="lineno">  158</span>               trx_context.resume_billing_timer();</div>
<div class="line"><span class="lineno">  159</span>            });</div>
<div class="line"><span class="lineno">  160</span>            trx_context.pause_billing_timer();</div>
<div class="line"><span class="lineno">  161</span>            <a class="code hl_struct" href="struct_i_r_1_1_module.html">IR::Module</a> <a class="code hl_enumvalue" href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">module</a>;</div>
<div class="line"><span class="lineno">  162</span>            std::vector&lt;U8&gt; <a class="code hl_typedef" href="namespacefc.html#a3b175aad68bb918350714284aa76e775">bytes</a> = {</div>
<div class="line"><span class="lineno">  163</span>                (<span class="keyword">const</span> <a class="code hl_typedef" href="_basic_types_8h.html#aa63ef7b996d5487ce35a5a66601f3e73">U8</a>*)codeobject-&gt;code.data(),</div>
<div class="line"><span class="lineno">  164</span>                (<span class="keyword">const</span> <a class="code hl_typedef" href="_basic_types_8h.html#aa63ef7b996d5487ce35a5a66601f3e73">U8</a>*)codeobject-&gt;code.data() + codeobject-&gt;code.size()};</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  166</span>               <a class="code hl_struct" href="struct_serialization_1_1_memory_input_stream.html">Serialization::MemoryInputStream</a> stream((<span class="keyword">const</span> <a class="code hl_typedef" href="_basic_types_8h.html#aa63ef7b996d5487ce35a5a66601f3e73">U8</a>*)<a class="code hl_typedef" href="namespacefc.html#a3b175aad68bb918350714284aa76e775">bytes</a>.data(),</div>
<div class="line"><span class="lineno">  167</span>                                                       <a class="code hl_typedef" href="namespacefc.html#a3b175aad68bb918350714284aa76e775">bytes</a>.size());</div>
<div class="line"><span class="lineno">  168</span>               <a class="code hl_struct" href="struct_w_a_s_m_1_1scoped__skip__checks.html">WASM::scoped_skip_checks</a> no_check;</div>
<div class="line"><span class="lineno">  169</span>               <a class="code hl_function" href="namespace_serialization.html#a2a05c5aff4847073ca0fb887d20ac485">WASM::serialize</a>(stream, <a class="code hl_enumvalue" href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">module</a>);</div>
<div class="line"><span class="lineno">  170</span>               <span class="keyword">module</span>.userSections.clear();</div>
<div class="line"><span class="lineno">  171</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_struct" href="struct_serialization_1_1_fatal_serialization_exception.html">Serialization::FatalSerializationException</a>&amp; e) {</div>
<div class="line"><span class="lineno">  172</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, wasm_serialization_error, e.<a class="code hl_variable" href="struct_serialization_1_1_fatal_serialization_exception.html#ae65cd23b2cf7b4f0c9a062d3584bbdde">message</a>.c_str());</div>
<div class="line"><span class="lineno">  173</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_struct" href="struct_i_r_1_1_validation_exception.html">IR::ValidationException</a>&amp; e) {</div>
<div class="line"><span class="lineno">  174</span>               <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<span class="keyword">false</span>, wasm_serialization_error, e.<a class="code hl_variable" href="struct_i_r_1_1_validation_exception.html#a9308689c3efeb272361bf9a07bf8f8ae">message</a>.c_str());</div>
<div class="line"><span class="lineno">  175</span>            }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>            <a class="code hl_variable" href="#a653b949873ce49be456fb494b4f2e161">wasm_instantiation_cache</a>.modify(it, [&amp;](<span class="keyword">auto</span>&amp; c) {</div>
<div class="line"><span class="lineno">  178</span>               c.module = <a class="code hl_variable" href="#ad6943b8ec03fdbc69554b814d64f10d1">runtime_interface</a>-&gt;instantiate_module((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code hl_typedef" href="namespacefc.html#a3b175aad68bb918350714284aa76e775">bytes</a>.data(), <a class="code hl_typedef" href="namespacefc.html#a3b175aad68bb918350714284aa76e775">bytes</a>.size(), <a class="code hl_function" href="#acaf8b5f51ca4697993edf5c74bc612d6">parse_initial_memory</a>(<a class="code hl_enumvalue" href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">module</a>), code_hash, <a class="code hl_typedef" href="namespacesysio.html#af322f17f4ee9adb9dc402c8608dac30e">vm_type</a>, vm_version);</div>
<div class="line"><span class="lineno">  179</span>            });</div>
<div class="line"><span class="lineno">  180</span>         }</div>
<div class="line"><span class="lineno">  181</span>         <span class="keywordflow">return</span> it-&gt;module;</div>
<div class="line"><span class="lineno">  182</span>      }</div>
<div class="ttc" id="a_basic_types_8h_html_aa63ef7b996d5487ce35a5a66601f3e73"><div class="ttname"><a href="_basic_types_8h.html#aa63ef7b996d5487ce35a5a66601f3e73">U8</a></div><div class="ttdeci">uint8_t U8</div><div class="ttdef"><b>Definition</b> <a href="_basic_types_8h_source.html#l00005">BasicTypes.h:5</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_afcfe00f81a526c1376d4f51197dd3a9a"><div class="ttname"><a href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">chainbase::database::get</a></div><div class="ttdeci">const ObjectType &amp; get(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00477">chainbase.hpp:477</a></div></div>
<div class="ttc" id="anamespace_i_r_html_a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5"><div class="ttname"><a href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">IR::ObjectKind::module</a></div><div class="ttdeci">@ module</div></div>
<div class="ttc" id="anamespace_serialization_html_a2a05c5aff4847073ca0fb887d20ac485"><div class="ttname"><a href="namespace_serialization.html#a2a05c5aff4847073ca0fb887d20ac485">Serialization::serialize</a></div><div class="ttdeci">void serialize(Stream &amp;stream, U8 &amp;i)</div><div class="ttdef"><b>Definition</b> <a href="_serialization_8h_source.html#l00147">Serialization.h:147</a></div></div>
<div class="ttc" id="anamespacefc_html_a23d89b54a8ffd84f7e7efeb21747d846"><div class="ttname"><a href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846">fc::make_scoped_exit</a></div><div class="ttdeci">scoped_exit&lt; Callback &gt; make_scoped_exit(Callback &amp;&amp;c)</div><div class="ttdef"><b>Definition</b> <a href="scoped__exit_8hpp_source.html#l00035">scoped_exit.hpp:35</a></div></div>
<div class="ttc" id="anamespacefc_html_a3b175aad68bb918350714284aa76e775"><div class="ttname"><a href="namespacefc.html#a3b175aad68bb918350714284aa76e775">fc::bytes</a></div><div class="ttdeci">std::vector&lt; char &gt; bytes</div><div class="ttdef"><b>Definition</b> <a href="alt__bn128_8hpp_source.html#l00010">alt_bn128.hpp:10</a></div></div>
<div class="ttc" id="astdint_8h_html_ab5eb23180f7cc12b7d6c04a8ec067fdd"><div class="ttname"><a href="stdint_8h.html#ab5eb23180f7cc12b7d6c04a8ec067fdd">UINT32_MAX</a></div><div class="ttdeci">#define UINT32_MAX</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00188">stdint.h:188</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_module_html"><div class="ttname"><a href="struct_i_r_1_1_module.html">IR::Module</a></div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00129">Module.h:130</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_validation_exception_html"><div class="ttname"><a href="struct_i_r_1_1_validation_exception.html">IR::ValidationException</a></div><div class="ttdef"><b>Definition</b> <a href="_validate_8h_source.html#l00013">Validate.h:14</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_validation_exception_html_a9308689c3efeb272361bf9a07bf8f8ae"><div class="ttname"><a href="struct_i_r_1_1_validation_exception.html#a9308689c3efeb272361bf9a07bf8f8ae">IR::ValidationException::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition</b> <a href="_validate_8h_source.html#l00015">Validate.h:15</a></div></div>
<div class="ttc" id="astruct_serialization_1_1_fatal_serialization_exception_html"><div class="ttname"><a href="struct_serialization_1_1_fatal_serialization_exception.html">Serialization::FatalSerializationException</a></div><div class="ttdef"><b>Definition</b> <a href="_serialization_8h_source.html#l00019">Serialization.h:20</a></div></div>
<div class="ttc" id="astruct_serialization_1_1_fatal_serialization_exception_html_ae65cd23b2cf7b4f0c9a062d3584bbdde"><div class="ttname"><a href="struct_serialization_1_1_fatal_serialization_exception.html#ae65cd23b2cf7b4f0c9a062d3584bbdde">Serialization::FatalSerializationException::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition</b> <a href="_serialization_8h_source.html#l00021">Serialization.h:21</a></div></div>
<div class="ttc" id="astruct_serialization_1_1_memory_input_stream_html"><div class="ttname"><a href="struct_serialization_1_1_memory_input_stream.html">Serialization::MemoryInputStream</a></div><div class="ttdef"><b>Definition</b> <a href="_serialization_8h_source.html#l00124">Serialization.h:125</a></div></div>
<div class="ttc" id="astruct_w_a_s_m_1_1scoped__skip__checks_html"><div class="ttname"><a href="struct_w_a_s_m_1_1scoped__skip__checks.html">WASM::scoped_skip_checks</a></div><div class="ttdef"><b>Definition</b> <a href="_w_a_s_m_8h_source.html#l00015">WASM.h:15</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1wasm__interface__impl_html_acaf8b5f51ca4697993edf5c74bc612d6"><div class="ttname"><a href="#acaf8b5f51ca4697993edf5c74bc612d6">sysio::chain::wasm_interface_impl::parse_initial_memory</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; parse_initial_memory(const Module &amp;module)</div><div class="ttdef"><b>Definition</b> <a href="wasm__interface__private_8hpp_source.html#l00097">wasm_interface_private.hpp:97</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1wasm__interface__impl_a0db209c4515fe5d680783f7c49ffeecf_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1wasm__interface__impl_a0db209c4515fe5d680783f7c49ffeecf_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1wasm__interface__impl_a0db209c4515fe5d680783f7c49ffeecf_cgraph" id="astructsysio_1_1chain_1_1wasm__interface__impl_a0db209c4515fe5d680783f7c49ffeecf_cgraph">
<area shape="rect" title=" " alt="" coords="5,180,150,236"/>
<area shape="rect" href="classchainbase_1_1shared__cow__string.html#aa7b1bac206e0abc7e9ea9d642eb0b5b3" title=" " alt="" coords="218,5,376,46"/>
<area shape="poly" title=" " alt="" coords="92,179,134,117,163,84,196,56,203,51,206,56,199,60,166,88,138,120,96,182"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="213,70,380,96"/>
<area shape="poly" title=" " alt="" coords="103,178,144,140,196,105,209,99,211,104,199,109,148,144,106,182"/>
<area shape="rect" href="namespacefc.html#a23d89b54a8ffd84f7e7efeb21747d846" title=" " alt="" coords="222,120,372,145"/>
<area shape="poly" title=" " alt="" coords="149,179,197,162,238,148,240,153,199,167,151,184"/>
<area shape="rect" href="structsysio_1_1chain_1_1wasm__interface__impl.html#acaf8b5f51ca4697993edf5c74bc612d6" title=" " alt="" coords="451,130,600,186"/>
<area shape="poly" title=" " alt="" coords="150,198,435,165,436,170,150,203"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a26ad1d103e9f47c69dce0a8a85f76039" title=" " alt="" coords="202,275,392,315"/>
<area shape="poly" title=" " alt="" coords="145,234,199,257,224,266,222,271,197,261,143,239"/>
<area shape="rect" href="classsysio_1_1chain_1_1transaction__context.html#a5ca7a519fb084bc4ad8c692a81f69277" title=" " alt="" coords="198,361,396,402"/>
<area shape="poly" title=" " alt="" coords="105,235,147,279,199,325,240,351,237,356,196,329,143,283,101,238"/>
<area shape="rect" href="namespace_serialization.html#a2a05c5aff4847073ca0fb887d20ac485" title=" " alt="" coords="223,221,371,246"/>
<area shape="poly" title=" " alt="" coords="150,214,207,221,207,226,149,219"/>
<area shape="rect" href="classchainbase_1_1shared__cow__string.html#a3b3c57c0d2ee027bb70beb283be2a0f2" title=" " alt="" coords="218,427,376,467"/>
<area shape="poly" title=" " alt="" coords="90,236,106,275,129,322,160,370,199,412,206,417,203,421,196,416,156,374,124,325,101,277,85,237"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="455,15,596,55"/>
<area shape="poly" title=" " alt="" coords="381,72,448,57,450,62,382,77"/>
<area shape="poly" title=" " alt="" coords="455,44,346,68,345,63,454,39"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="659,44,800,85"/>
<area shape="poly" title=" " alt="" coords="597,43,644,49,643,55,596,48"/>
<area shape="poly" title=" " alt="" coords="658,70,396,81,396,76,658,65"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="899,182,970,208"/>
<area shape="poly" title=" " alt="" coords="601,162,883,188,883,193,601,167"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="868,368,1000,393"/>
<area shape="poly" title=" " alt="" coords="387,313,444,324,666,354,853,372,853,377,665,359,444,330,386,319"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__checktime__timer.html#ad84002d0816f8b4b6aa3c2dd3772d1fe" title=" " alt="" coords="444,275,607,315"/>
<area shape="poly" title=" " alt="" coords="392,292,429,292,429,298,392,298"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="1088,265,1228,306"/>
<area shape="poly" title=" " alt="" coords="961,364,1064,317,1082,309,1084,314,1066,321,963,369"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="1088,331,1228,371"/>
<area shape="poly" title=" " alt="" coords="1000,369,1072,360,1073,365,1001,374"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1092,461,1225,502"/>
<area shape="poly" title=" " alt="" coords="960,391,1066,446,1083,453,1081,458,1064,451,957,396"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="1092,396,1225,437"/>
<area shape="poly" title=" " alt="" coords="1001,388,1076,401,1075,406,1000,394"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="1318,273,1491,298"/>
<area shape="poly" title=" " alt="" coords="1229,283,1303,283,1303,288,1229,288"/>
<area shape="rect" href="structsysio_1_1chain_1_1platform__timer.html#a5cb70a095755d00bf02d37d31b6e46af" title=" " alt="" coords="656,275,803,315"/>
<area shape="poly" title=" " alt="" coords="608,292,641,292,641,298,608,298"/>
<area shape="poly" title=" " alt="" coords="397,379,853,378,853,383,397,384"/>
<area shape="rect" href="structsysio_1_1chain_1_1transaction__checktime__timer.html#aef90525b3674b77efd2bb44da3405fc6" title=" " alt="" coords="444,440,607,481"/>
<area shape="poly" title=" " alt="" coords="361,400,397,412,452,432,451,437,395,418,359,405"/>
<area shape="rect" href="structsysio_1_1chain_1_1platform__timer.html#a8396e86c6a626dd2632cb075bd254ad4" title=" " alt="" coords="656,440,803,481"/>
<area shape="poly" title=" " alt="" coords="608,458,641,458,641,463,608,463"/>
<area shape="poly" title=" " alt="" coords="782,437,851,410,884,397,886,402,853,415,784,442"/>
<area shape="poly" title=" " alt="" coords="803,450,1075,422,1076,427,803,456"/>
<area shape="rect" href="classfc_1_1microseconds.html#a20fba59ec7e1f50c6b8f2c9443cc9b92" title=" " alt="" coords="854,518,1015,544"/>
<area shape="poly" title=" " alt="" coords="783,479,853,504,872,511,870,516,851,510,781,484"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="852,469,1017,494"/>
<area shape="poly" title=" " alt="" coords="804,465,836,469,836,474,803,471"/>
<area shape="poly" title=" " alt="" coords="1017,479,1076,479,1076,484,1017,484"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="1065,526,1251,552"/>
<area shape="poly" title=" " alt="" coords="988,493,1091,519,1090,524,987,498"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1299,526,1510,552"/>
<area shape="poly" title=" " alt="" coords="1252,536,1284,536,1284,542,1252,542"/>
<area shape="rect" href="namespace_serialization.html#acbd5d61d25bec4a37a4ecc33f7734155" title=" " alt="" coords="452,209,600,250"/>
<area shape="poly" title=" " alt="" coords="372,230,436,229,436,234,372,235"/>
<area shape="rect" href="namespace_serialization.html#aee190f414695b837a7b75cd86adc516f" title=" " alt="" coords="655,205,804,246"/>
<area shape="poly" title=" " alt="" coords="600,226,639,225,640,230,600,231"/>
<area shape="poly" title=" " alt="" coords="803,212,883,200,884,205,804,217"/>
</map>
</div>

</div>
</div>
<a id="acaf8b5f51ca4697993edf5c74bc612d6" name="acaf8b5f51ca4697993edf5c74bc612d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaf8b5f51ca4697993edf5c74bc612d6">&#9670;&#160;</a></span>parse_initial_memory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> &gt; sysio::chain::wasm_interface_impl::parse_initial_memory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_i_r_1_1_module.html">Module</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>module</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00097">97</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>                                                                    {</div>
<div class="line"><span class="lineno">   98</span>         std::vector&lt;uint8_t&gt; mem_image;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>         <span class="keywordflow">for</span>(<span class="keyword">const</span> <a class="code hl_struct" href="struct_i_r_1_1_data_segment.html">DataSegment</a>&amp; data_segment : <a class="code hl_enumvalue" href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">module</a>.dataSegments) {</div>
<div class="line"><span class="lineno">  101</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a4426062ee993d970dfa7b9e33dd7da6b">baseOffset</a>.<a class="code hl_variable" href="struct_i_r_1_1_initializer_expression.html#a66f8d262d27a9bd6536f0268974c7dd5">type</a> == InitializerExpression::Type::i32_const, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a489ddfe76234ed9479deafde7d26c2b9">wasm_exception</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span>            <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<a class="code hl_enumvalue" href="namespace_i_r.html#a5aed837d1ca89c12d0762ab19f1e3908a22884db148f0ffb0d830ba431102b0b5">module</a>.memories.defs.size(), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a489ddfe76234ed9479deafde7d26c2b9">wasm_exception</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="_basic_types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a> base_offset = data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a4426062ee993d970dfa7b9e33dd7da6b">baseOffset</a>.<a class="code hl_variable" href="struct_i_r_1_1_initializer_expression.html#ae39054471f85529a9a641962618bab7e">i32</a>;</div>
<div class="line"><span class="lineno">  104</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="_basic_types_8h.html#af4b74e6229378a16db5de05834273c54">Uptr</a> <a class="code hl_function" href="namespacefc_1_1tracked.html#a7a874ea77f5afa2de8f3d5fb6d19a241">memory_size</a> = (<span class="keyword">module</span>.memories.defs[0].type.size.min &lt;&lt; IR::numBytesPerPageLog2);</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">if</span>(base_offset &gt;= memory_size || base_offset + data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">data</a>.size() &gt; memory_size)</div>
<div class="line"><span class="lineno">  106</span>               <a class="code hl_define" href="exception_8hpp.html#a7590ddac4f181b661c3eeaf5feccc6ac">FC_THROW_EXCEPTION</a>(wasm_execution_error, <span class="stringliteral">&quot;WASM data segment outside of valid memory range&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordflow">if</span>(base_offset + data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">data</a>.size() &gt; mem_image.size())</div>
<div class="line"><span class="lineno">  108</span>               mem_image.resize(base_offset + data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">data</a>.size(), 0x00);</div>
<div class="line"><span class="lineno">  109</span>            <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mem_image.data() + base_offset, data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">data</a>.data(), data_segment.<a class="code hl_variable" href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">data</a>.size());</div>
<div class="line"><span class="lineno">  110</span>         }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>         <span class="keywordflow">return</span> mem_image;</div>
<div class="line"><span class="lineno">  113</span>      }</div>
<div class="ttc" id="a_basic_types_8h_html_a696390429f2f3b644bde8d0322a24124"><div class="ttname"><a href="_basic_types_8h.html#a696390429f2f3b644bde8d0322a24124">U32</a></div><div class="ttdeci">uint32_t U32</div><div class="ttdef"><b>Definition</b> <a href="_basic_types_8h_source.html#l00009">BasicTypes.h:9</a></div></div>
<div class="ttc" id="a_basic_types_8h_html_af4b74e6229378a16db5de05834273c54"><div class="ttname"><a href="_basic_types_8h.html#af4b74e6229378a16db5de05834273c54">Uptr</a></div><div class="ttdeci">PointerIntHelper&lt; sizeof(size_t)&gt;::UnsignedIntType Uptr</div><div class="ttdef"><b>Definition</b> <a href="_basic_types_8h_source.html#l00022">BasicTypes.h:22</a></div></div>
<div class="ttc" id="aexception_8hpp_html_a7590ddac4f181b661c3eeaf5feccc6ac"><div class="ttname"><a href="exception_8hpp.html#a7590ddac4f181b661c3eeaf5feccc6ac">FC_THROW_EXCEPTION</a></div><div class="ttdeci">#define FC_THROW_EXCEPTION(EXCEPTION, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00395">exception.hpp:395</a></div></div>
<div class="ttc" id="anamespacefc_1_1tracked_html_a7a874ea77f5afa2de8f3d5fb6d19a241"><div class="ttname"><a href="namespacefc_1_1tracked.html#a7a874ea77f5afa2de8f3d5fb6d19a241">fc::tracked::memory_size</a></div><div class="ttdeci">size_t memory_size(const T &amp;obj)</div><div class="ttdef"><b>Definition</b> <a href="tracked__storage_8hpp_source.html#l00016">tracked_storage.hpp:16</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_data_segment_html"><div class="ttname"><a href="struct_i_r_1_1_data_segment.html">IR::DataSegment</a></div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00091">Module.h:92</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_data_segment_html_a32f58a06f3c2dfff7094c92f63ed1d23"><div class="ttname"><a href="struct_i_r_1_1_data_segment.html#a32f58a06f3c2dfff7094c92f63ed1d23">IR::DataSegment::data</a></div><div class="ttdeci">std::vector&lt; U8 &gt; data</div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00095">Module.h:95</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_data_segment_html_a4426062ee993d970dfa7b9e33dd7da6b"><div class="ttname"><a href="struct_i_r_1_1_data_segment.html#a4426062ee993d970dfa7b9e33dd7da6b">IR::DataSegment::baseOffset</a></div><div class="ttdeci">InitializerExpression baseOffset</div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00094">Module.h:94</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_initializer_expression_html_a66f8d262d27a9bd6536f0268974c7dd5"><div class="ttname"><a href="struct_i_r_1_1_initializer_expression.html#a66f8d262d27a9bd6536f0268974c7dd5">IR::InitializerExpression::type</a></div><div class="ttdeci">Type type</div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00023">Module.h:23</a></div></div>
<div class="ttc" id="astruct_i_r_1_1_initializer_expression_html_ae39054471f85529a9a641962618bab7e"><div class="ttname"><a href="struct_i_r_1_1_initializer_expression.html#ae39054471f85529a9a641962618bab7e">IR::InitializerExpression::i32</a></div><div class="ttdeci">I32 i32</div><div class="ttdef"><b>Definition</b> <a href="_module_8h_source.html#l00026">Module.h:26</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_ae785d5badbf1f08b491af31f32a135a1"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a></div><div class="ttdeci">memcpy((char *) pInfo-&gt;slotDescription, s, l)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_cgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_cgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_cgraph" id="astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,155,61"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="203,20,274,46"/>
<area shape="poly" title=" " alt="" coords="155,30,187,30,187,36,155,36"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_icgraph.png" border="0" usemap="#astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_icgraph" alt=""/></div>
<map name="astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_icgraph" id="astructsysio_1_1chain_1_1wasm__interface__impl_acaf8b5f51ca4697993edf5c74bc612d6_icgraph">
<area shape="rect" title=" " alt="" coords="198,5,347,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1wasm__interface__impl.html#a0db209c4515fe5d680783f7c49ffeecf" title=" " alt="" coords="5,5,150,61"/>
<area shape="poly" title=" " alt="" coords="182,36,150,36,150,30,182,30"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a75f322279d22bb957853e69cd55e1269" name="a75f322279d22bb957853e69cd55e1269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f322279d22bb957853e69cd55e1269">&#9670;&#160;</a></span>db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classchainbase_1_1database.html">chainbase::database</a>&amp; sysio::chain::wasm_interface_impl::db</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00203">203</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<a id="a4782146a2bda629fc16b5772230ccb54" name="a4782146a2bda629fc16b5772230ccb54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4782146a2bda629fc16b5772230ccb54">&#9670;&#160;</a></span>is_shutting_down</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::wasm_interface_impl::is_shutting_down = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00184">184</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<a id="ad6943b8ec03fdbc69554b814d64f10d1" name="ad6943b8ec03fdbc69554b814d64f10d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6943b8ec03fdbc69554b814d64f10d1">&#9670;&#160;</a></span>runtime_interface</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classsysio_1_1chain_1_1wasm__runtime__interface.html">wasm_runtime_interface</a>&gt; sysio::chain::wasm_interface_impl::runtime_interface</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00185">185</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<a id="a653b949873ce49be456fb494b4f2e161" name="a653b949873ce49be456fb494b4f2e161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653b949873ce49be456fb494b4f2e161">&#9670;&#160;</a></span>wasm_instantiation_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9980f338dd2ae523f6e5d419a867161d">wasm_cache_index</a> sysio::chain::wasm_interface_impl::wasm_instantiation_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00201">201</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<a id="a22ac534da54800a99b98db93c2d2ce07" name="a22ac534da54800a99b98db93c2d2ce07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22ac534da54800a99b98db93c2d2ce07">&#9670;&#160;</a></span>wasm_runtime_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classsysio_1_1chain_1_1wasm__interface.html#a9053d9e65167e5f241f1f3f27b175f9c">wasm_interface::vm_type</a> sysio::chain::wasm_interface_impl::wasm_runtime_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm__interface__private_8hpp_source.html#l00204">204</a> of file <a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>libraries/chain/include/sysio/chain/<a class="el" href="wasm__interface__private_8hpp_source.html">wasm_interface_private.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="structsysio_1_1chain_1_1wasm__interface__impl.html">wasm_interface_impl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
