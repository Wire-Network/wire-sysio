<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: libraries/fc/test/network/test_message_buffer.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('test__message__buffer_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">test_message_buffer.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="message__buffer_8hpp_source.html">fc/network/message_buffer.hpp</a>&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;boost/test/included/unit_test.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_message_buffer.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp__incl.png" border="0" usemap="#alibraries_2fc_2test_2network_2test__message__buffer_8cpp" alt=""/></div>
<map name="alibraries_2fc_2test_2network_2test__message__buffer_8cpp" id="alibraries_2fc_2test_2network_2test__message__buffer_8cpp">
<area shape="rect" title=" " alt="" coords="726,5,898,46"/>
<area shape="rect" href="message__buffer_8hpp.html" title=" " alt="" coords="620,94,759,135"/>
<area shape="poly" title=" " alt="" coords="786,49,731,87,728,83,783,44"/>
<area shape="rect" title=" " alt="" coords="783,102,841,127"/>
<area shape="poly" title=" " alt="" coords="815,47,815,86,809,86,809,47"/>
<area shape="rect" title=" " alt="" coords="865,94,996,135"/>
<area shape="poly" title=" " alt="" coords="840,44,893,83,890,87,837,49"/>
<area shape="rect" title=" " alt="" coords="36,190,178,216"/>
<area shape="poly" title=" " alt="" coords="619,126,425,149,190,185,171,189,170,184,189,180,425,144,619,120"/>
<area shape="rect" title=" " alt="" coords="202,183,339,223"/>
<area shape="poly" title=" " alt="" coords="620,132,359,185,355,186,354,181,358,180,619,127"/>
<area shape="rect" href="raw_8hpp.html" title=" " alt="" coords="980,190,1074,216"/>
<area shape="poly" title=" " alt="" coords="760,131,965,183,964,188,759,136"/>
<area shape="rect" href="exception_8hpp.html" title="Defines exception&#39;s used by fc." alt="" coords="441,507,618,533"/>
<area shape="poly" title=" " alt="" coords="620,126,543,143,503,157,465,174,431,195,404,222,386,253,380,291,380,374,383,395,390,415,417,449,451,477,487,498,485,502,448,481,413,453,386,417,378,397,375,374,375,290,381,251,400,218,428,191,463,169,501,152,542,138,619,121"/>
<area shape="rect" title=" " alt="" coords="2056,906,2112,931"/>
<area shape="poly" title=" " alt="" coords="760,130,771,132,914,149,1035,158,1242,161,1450,161,1571,167,1715,180,1809,182,1903,174,1995,161,2079,151,2152,152,2184,159,2211,171,2233,189,2249,215,2259,248,2263,290,2263,758,2259,784,2249,808,2234,830,2215,849,2171,881,2128,903,2125,898,2168,876,2211,845,2229,827,2244,806,2254,783,2257,757,2257,290,2254,249,2244,217,2229,193,2208,175,2182,164,2152,157,2080,157,1995,166,1904,179,1809,188,1715,185,1571,172,1449,167,1242,166,1035,163,913,154,770,137,759,135"/>
<area shape="rect" title=" " alt="" coords="2172,279,2222,304"/>
<area shape="poly" title=" " alt="" coords="760,130,771,132,981,160,1160,174,1318,179,1466,180,1614,184,1771,196,1948,223,2154,269,2160,270,2158,276,2153,274,1947,228,1770,202,1614,189,1466,185,1318,184,1160,179,980,166,770,137,759,135"/>
<area shape="rect" href="raw__variant_8hpp.html" title=" " alt="" coords="1708,279,1850,304"/>
<area shape="poly" title=" " alt="" coords="1075,204,1340,225,1517,244,1696,269,1717,272,1716,278,1696,274,1516,249,1340,230,1074,210"/>
<area shape="poly" title=" " alt="" coords="979,207,917,211,842,222,762,242,723,256,687,274,632,306,593,338,563,378,536,435,529,463,529,492,523,491,524,463,531,433,559,375,589,334,629,302,684,269,721,251,761,237,841,217,917,206,979,202"/>
<area shape="rect" href="include_2fc_2time_8hpp.html" title=" " alt="" coords="1342,670,1428,695"/>
<area shape="poly" title=" " alt="" coords="1028,216,1028,261,1033,287,1045,310,1058,325,1077,338,1126,362,1251,406,1316,427,1376,450,1424,476,1442,490,1456,506,1461,518,1460,528,1449,545,1431,562,1414,582,1400,620,1392,655,1386,654,1395,618,1410,580,1427,558,1445,542,1455,527,1455,519,1451,509,1439,494,1421,480,1374,455,1315,432,1249,411,1124,367,1074,342,1055,329,1040,314,1028,289,1022,262,1022,216"/>
<area shape="rect" href="reflect_8hpp.html" title=" " alt="" coords="969,743,1106,769"/>
<area shape="poly" title=" " alt="" coords="979,208,938,214,892,225,848,244,810,273,778,316,770,337,766,357,766,403,773,459,785,545,797,580,822,620,860,659,904,691,949,716,990,735,988,740,947,721,901,695,856,663,818,623,792,583,780,547,768,460,760,403,760,357,765,335,774,314,806,269,845,239,891,220,937,208,979,203"/>
<area shape="poly" title=" " alt="" coords="1074,204,1662,234,1968,253,2068,261,2111,269,2131,292,2138,315,2137,372,2137,758,2134,795,2124,832,2100,893,2095,891,2119,831,2128,794,2132,757,2132,371,2133,316,2126,294,2108,274,2067,267,1968,258,1662,239,1074,209"/>
<area shape="rect" title=" " alt="" coords="1778,906,1824,931"/>
<area shape="poly" title=" " alt="" coords="1074,204,1523,228,1752,247,1827,258,1863,269,1870,284,1875,306,1876,371,1871,457,1860,555,1832,752,1809,891,1803,890,1827,751,1855,554,1865,457,1871,371,1869,307,1865,285,1860,273,1826,263,1751,253,1522,233,1074,209"/>
<area shape="rect" href="raw__fwd_8hpp.html" title=" " alt="" coords="938,360,1062,386"/>
<area shape="poly" title=" " alt="" coords="998,219,963,240,947,255,934,272,929,292,934,311,949,332,968,349,964,353,945,335,930,313,923,292,930,270,943,251,959,236,995,214"/>
<area shape="rect" href="varint_8hpp.html" title=" " alt="" coords="862,507,970,533"/>
<area shape="poly" title=" " alt="" coords="993,219,954,240,937,255,924,273,911,300,904,330,899,391,903,448,912,492,906,493,898,448,893,391,898,329,906,298,919,270,933,251,951,236,990,214"/>
<area shape="rect" href="array_8hpp.html" title=" " alt="" coords="1089,434,1178,459"/>
<area shape="poly" title=" " alt="" coords="1017,218,1001,237,987,261,979,286,980,299,985,311,994,322,1004,329,1025,337,1050,343,1076,358,1103,388,1123,419,1118,422,1099,391,1073,362,1048,348,1024,342,1001,334,990,326,980,313,975,300,974,286,982,259,997,234,1013,215"/>
<area shape="rect" title=" " alt="" coords="1423,581,1561,622"/>
<area shape="poly" title=" " alt="" coords="1031,216,1046,262,1060,288,1079,310,1101,325,1120,335,1159,343,1201,346,1251,357,1337,388,1374,405,1417,431,1466,462,1484,479,1500,506,1506,537,1504,566,1499,566,1501,537,1495,508,1480,482,1463,466,1415,436,1371,410,1335,393,1250,363,1200,351,1158,348,1119,340,1098,330,1076,314,1055,291,1041,264,1026,217"/>
<area shape="rect" href="safe_8hpp.html" title=" " alt="" coords="782,434,868,459"/>
<area shape="poly" title=" " alt="" coords="979,209,942,214,901,225,863,244,833,273,823,290,817,308,811,347,814,386,820,418,815,419,809,386,806,347,811,307,818,287,829,270,860,240,899,220,941,209,979,203"/>
<area shape="rect" href="datastream_8hpp.html" title=" " alt="" coords="567,434,708,459"/>
<area shape="poly" title=" " alt="" coords="979,206,923,209,857,219,789,239,758,254,728,273,697,306,673,346,656,385,646,419,641,418,651,383,668,343,693,303,725,269,755,250,787,234,856,213,923,203,979,200"/>
<area shape="rect" href="fwd_8hpp.html" title=" " alt="" coords="1907,360,1989,386"/>
<area shape="poly" title=" " alt="" coords="1074,202,1267,207,1529,219,1658,227,1771,238,1858,252,1888,260,1907,269,1923,285,1934,304,1947,344,1942,345,1929,307,1919,288,1904,274,1886,265,1857,257,1771,244,1658,232,1529,224,1267,213,1074,208"/>
<area shape="rect" href="filesystem_8hpp.html" title=" " alt="" coords="1975,279,2097,304"/>
<area shape="poly" title=" " alt="" coords="1074,202,1223,207,1441,217,1697,237,1956,269,1977,272,1976,278,1956,274,1696,242,1441,223,1223,212,1074,208"/>
<area shape="rect" href="static__variant_8hpp.html" title=" " alt="" coords="173,434,312,459"/>
<area shape="poly" title=" " alt="" coords="979,209,861,216,710,229,564,248,505,260,461,274,400,306,345,347,299,389,265,424,261,420,295,385,342,343,397,302,459,269,504,255,563,243,710,224,861,211,979,204"/>
<area shape="poly" title=" " alt="" coords="1075,204,1650,230,1968,249,2085,259,2154,269,2160,271,2159,276,2153,274,2084,264,1968,254,1649,235,1074,209"/>
<area shape="rect" title=" " alt="" coords="1089,279,1127,304"/>
<area shape="poly" title=" " alt="" coords="1040,214,1088,266,1085,269,1036,218"/>
<area shape="rect" title=" " alt="" coords="1151,271,1297,312"/>
<area shape="poly" title=" " alt="" coords="1056,214,1166,262,1164,267,1053,219"/>
<area shape="rect" title=" " alt="" coords="1321,271,1479,312"/>
<area shape="poly" title=" " alt="" coords="1075,213,1306,266,1305,271,1074,218"/>
<area shape="rect" title=" " alt="" coords="1503,271,1684,312"/>
<area shape="poly" title=" " alt="" coords="1075,208,1252,232,1488,268,1487,274,1251,238,1074,213"/>
<area shape="rect" href="hex_8hpp.html" title=" " alt="" coords="88,670,210,695"/>
<area shape="poly" title=" " alt="" coords="979,206,826,212,724,222,611,241,493,269,375,310,318,336,263,365,212,398,163,436,116,478,84,520,75,542,71,566,74,592,84,620,98,642,117,659,114,663,94,645,79,623,69,593,66,566,69,541,79,517,113,475,160,432,208,394,261,360,316,331,373,305,491,264,610,236,723,217,826,206,979,201"/>
<area shape="poly" title=" " alt="" coords="1733,308,1696,315,1580,329,1480,337,1311,341,1142,343,1042,350,926,363,867,367,815,367,724,365,683,369,642,380,601,401,557,436,547,448,540,462,533,493,528,492,535,460,542,445,553,432,598,397,641,375,682,364,724,360,815,362,867,362,925,357,1042,345,1141,338,1311,335,1480,331,1579,324,1696,309,1732,302"/>
<area shape="poly" title=" " alt="" coords="1732,308,1696,315,1524,337,1352,354,1078,371,1078,366,1352,348,1523,332,1696,309,1731,302"/>
<area shape="rect" href="fc_2include_2fc_2variant_8hpp.html" title=" " alt="" coords="1616,507,1717,533"/>
<area shape="poly" title=" " alt="" coords="1785,304,1792,342,1791,364,1787,387,1769,421,1746,452,1697,499,1693,496,1742,449,1764,418,1781,385,1786,364,1786,342,1780,305"/>
<area shape="rect" href="variant__object_8hpp.html" title=" " alt="" coords="1630,360,1772,386"/>
<area shape="poly" title=" " alt="" coords="1769,307,1725,351,1722,347,1765,303"/>
<area shape="rect" href="logger_8hpp.html" title=" " alt="" coords="832,588,949,614"/>
<area shape="poly" title=" " alt="" coords="586,531,821,582,819,587,584,536"/>
<area shape="rect" title=" " alt="" coords="320,906,397,931"/>
<area shape="poly" title=" " alt="" coords="489,536,450,554,432,567,417,583,401,607,394,628,392,681,392,758,384,831,370,891,364,890,379,830,387,757,387,681,389,627,396,604,413,579,429,563,447,550,486,531"/>
<area shape="rect" title=" " alt="" coords="427,588,504,614"/>
<area shape="poly" title=" " alt="" coords="522,535,487,578,483,574,518,532"/>
<area shape="rect" title=" " alt="" coords="1024,588,1134,614"/>
<area shape="poly" title=" " alt="" coords="619,530,962,578,1009,586,1008,591,961,584,618,536"/>
<area shape="rect" title=" " alt="" coords="93,588,251,614"/>
<area shape="poly" title=" " alt="" coords="475,536,243,587,241,582,474,531"/>
<area shape="rect" title=" " alt="" coords="528,581,656,622"/>
<area shape="poly" title=" " alt="" coords="541,532,569,567,565,570,537,535"/>
<area shape="poly" title=" " alt="" coords="950,609,1327,669,1326,674,949,615"/>
<area shape="rect" title=" " alt="" coords="528,817,661,858"/>
<area shape="poly" title=" " alt="" coords="877,617,633,810,629,805,874,612"/>
<area shape="rect" title=" " alt="" coords="684,817,817,858"/>
<area shape="poly" title=" " alt="" coords="886,616,772,805,768,802,881,613"/>
<area shape="rect" title=" " alt="" coords="996,817,1129,858"/>
<area shape="poly" title=" " alt="" coords="895,614,914,684,932,727,958,767,981,789,1007,807,1004,811,977,793,954,771,927,730,909,685,890,615"/>
<area shape="rect" title=" " alt="" coords="840,817,973,858"/>
<area shape="poly" title=" " alt="" coords="891,615,885,681,884,724,888,769,896,802,891,803,883,769,879,725,880,680,886,614"/>
<area shape="rect" title=" " alt="" coords="1379,817,1512,858"/>
<area shape="poly" title=" " alt="" coords="920,612,1386,808,1383,813,918,617"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="796,906,860,931"/>
<area shape="poly" title=" " alt="" coords="1413,693,1467,722,1524,762,1546,785,1560,810,1562,835,1549,859,1535,869,1512,877,1445,890,1355,900,1252,908,1039,917,876,920,876,914,1039,911,1251,903,1355,895,1444,885,1510,872,1532,864,1545,856,1557,834,1555,811,1542,789,1521,766,1464,727,1411,698"/>
<area shape="poly" title=" " alt="" coords="1342,695,1112,742,1111,737,1341,690"/>
<area shape="poly" title=" " alt="" coords="1079,767,1115,786,1131,799,1144,816,1152,838,1150,849,1143,859,1125,874,1098,885,1027,902,947,913,876,918,876,913,946,907,1026,897,1096,880,1122,869,1139,856,1145,847,1146,838,1139,818,1127,803,1112,790,1077,772"/>
<area shape="rect" href="utility_8hpp.html" title=" " alt="" coords="262,824,352,850"/>
<area shape="poly" title=" " alt="" coords="969,768,368,832,367,827,968,762"/>
<area shape="rect" title=" " alt="" coords="1204,824,1356,850"/>
<area shape="poly" title=" " alt="" coords="1076,767,1229,817,1228,822,1074,772"/>
<area shape="poly" title=" " alt="" coords="968,770,837,790,676,819,675,814,836,785,968,764"/>
<area shape="poly" title=" " alt="" coords="994,772,833,816,831,811,992,767"/>
<area shape="poly" title=" " alt="" coords="1044,769,1054,801,1049,803,1039,770"/>
<area shape="poly" title=" " alt="" coords="1019,772,953,811,950,807,1016,767"/>
<area shape="poly" title=" " alt="" coords="1107,766,1364,814,1364,819,1106,771"/>
<area shape="rect" title=" " alt="" coords="1637,824,1702,850"/>
<area shape="poly" title=" " alt="" coords="1107,763,1524,814,1623,827,1622,832,1524,820,1106,768"/>
<area shape="rect" href="typename_8hpp.html" title=" " alt="" coords="1838,824,1996,850"/>
<area shape="poly" title=" " alt="" coords="1107,761,1714,814,1823,824,1823,830,1713,820,1106,766"/>
<area shape="poly" title=" " alt="" coords="353,844,422,855,781,908,780,913,421,860,352,849"/>
<area shape="poly" title=" " alt="" coords="317,849,345,891,340,894,312,852"/>
<area shape="rect" title=" " alt="" coords="183,906,265,931"/>
<area shape="poly" title=" " alt="" coords="296,853,250,897,246,893,292,849"/>
<area shape="poly" title=" " alt="" coords="1944,848,2046,896,2044,901,1942,853"/>
<area shape="poly" title=" " alt="" coords="1901,853,1833,899,1830,894,1898,848"/>
<area shape="poly" title=" " alt="" coords="1063,371,1191,376,1272,383,1361,394,1455,411,1549,435,1642,466,1731,505,1790,538,1838,569,1878,600,1912,633,1974,711,2045,816,2065,854,2079,890,2074,892,2060,856,2040,818,1970,714,1908,637,1874,604,1835,573,1787,542,1728,510,1641,470,1548,440,1454,416,1360,400,1272,388,1190,381,1062,376"/>
<area shape="poly" title=" " alt="" coords="1007,385,1072,573,1067,575,1002,387"/>
<area shape="poly" title=" " alt="" coords="995,387,933,495,928,492,991,385"/>
<area shape="poly" title=" " alt="" coords="1024,384,1098,424,1096,428,1021,389"/>
<area shape="poly" title=" " alt="" coords="971,389,870,430,868,425,969,384"/>
<area shape="poly" title=" " alt="" coords="896,536,811,587,694,662,635,704,584,745,543,784,518,818,511,838,513,847,518,856,535,869,561,880,631,897,710,907,780,913,780,918,710,913,630,902,559,885,532,874,514,859,508,849,506,838,514,816,539,781,580,741,632,700,691,658,808,582,894,531"/>
<area shape="poly" title=" " alt="" coords="942,531,1041,579,1039,584,940,536"/>
<area shape="poly" title=" " alt="" coords="1089,456,634,509,633,504,1089,450"/>
<area shape="poly" title=" " alt="" coords="1140,459,1148,488,1155,529,1157,576,1148,622,1132,656,1110,687,1066,734,1062,731,1106,684,1127,653,1143,621,1151,576,1150,530,1143,490,1135,460"/>
<area shape="poly" title=" " alt="" coords="1132,461,1091,575,1086,573,1127,459"/>
<area shape="rect" href="include_2fc_2crypto_2base64_8hpp.html" title=" " alt="" coords="1298,507,1441,533"/>
<area shape="poly" title=" " alt="" coords="1174,457,1315,500,1314,505,1173,462"/>
<area shape="poly" title=" " alt="" coords="1178,451,1601,507,1601,513,1178,456"/>
<area shape="rect" href="city_8hpp.html" title=" " alt="" coords="1326,743,1447,769"/>
<area shape="poly" title=" " alt="" coords="1145,458,1220,557,1333,694,1366,730,1362,734,1329,697,1216,560,1140,462"/>
<area shape="poly" title=" " alt="" coords="1661,535,1627,578,1603,603,1575,624,1543,641,1509,655,1445,673,1443,668,1507,650,1541,636,1572,619,1599,599,1623,574,1657,532"/>
<area shape="poly" title=" " alt="" coords="1666,535,1649,577,1635,602,1617,624,1574,656,1535,674,1441,698,1357,718,1272,733,1122,751,1121,746,1271,728,1356,713,1439,693,1534,669,1571,652,1613,620,1631,599,1644,575,1661,533"/>
<area shape="poly" title=" " alt="" coords="1669,533,1671,670,1672,809,1666,809,1665,670,1664,533"/>
<area shape="poly" title=" " alt="" coords="1685,531,1747,579,1884,691,1941,744,2010,815,2070,892,2066,895,2006,819,1937,747,1880,695,1744,583,1682,536"/>
<area shape="poly" title=" " alt="" coords="1680,532,1702,557,1725,592,1745,635,1751,658,1753,681,1753,757,1757,794,1766,831,1790,891,1785,893,1761,832,1752,795,1748,758,1748,681,1746,659,1740,637,1721,595,1697,560,1676,535"/>
<area shape="poly" title=" " alt="" coords="1616,531,1150,593,1149,588,1616,526"/>
<area shape="poly" title=" " alt="" coords="1641,536,1551,577,1548,572,1639,531"/>
<area shape="poly" title=" " alt="" coords="1448,766,1491,783,1511,798,1526,816,1535,838,1533,849,1526,860,1512,869,1490,876,1426,889,1339,899,1240,907,1034,916,876,919,876,914,1034,911,1239,902,1339,894,1425,884,1489,871,1510,864,1522,856,1528,847,1530,838,1522,818,1507,801,1489,788,1446,770"/>
<area shape="poly" title=" " alt="" coords="782,461,595,506,594,501,781,456"/>
<area shape="poly" title=" " alt="" coords="828,459,834,495,841,514,853,531,866,543,879,550,906,555,934,561,949,567,963,579,991,615,1012,655,1026,694,1035,727,1030,729,1021,696,1007,657,987,618,959,583,946,572,932,566,905,560,877,555,863,547,849,535,837,516,829,496,823,460"/>
<area shape="poly" title=" " alt="" coords="1701,387,1676,493,1671,491,1696,385"/>
<area shape="poly" title=" " alt="" coords="620,462,562,501,559,496,618,458"/>
<area shape="poly" title=" " alt="" coords="646,459,660,488,673,529,679,576,677,600,670,623,646,663,612,697,538,749,508,773,490,797,486,810,487,824,493,839,505,856,523,870,550,881,624,898,708,908,781,913,780,918,707,914,624,904,548,886,520,874,501,860,488,841,482,825,481,809,485,795,504,769,535,745,609,693,642,660,666,621,672,599,674,576,668,530,655,490,641,461"/>
<area shape="poly" title=" " alt="" coords="567,456,494,469,457,480,421,495,389,514,364,537,347,566,341,600,341,684,333,753,318,810,313,809,328,752,336,684,336,600,342,564,360,534,386,510,418,490,455,475,493,464,566,451"/>
<area shape="poly" title=" " alt="" coords="567,458,448,477,395,492,360,509,322,552,291,601,268,655,251,710,239,764,232,814,227,890,221,890,227,813,234,763,246,709,263,653,286,599,317,549,357,505,393,487,447,472,567,452"/>
<area shape="poly" title=" " alt="" coords="708,454,836,474,982,505,1115,539,1218,569,1318,607,1441,667,1501,703,1559,742,1646,812,1643,816,1555,747,1499,707,1439,672,1316,612,1216,574,1114,544,981,510,835,479,708,459"/>
<area shape="poly" title=" " alt="" coords="708,457,982,505,1409,582,1408,587,981,510,707,462"/>
<area shape="rect" href="aligned_8hpp.html" title=" " alt="" coords="1897,434,1999,459"/>
<area shape="poly" title=" " alt="" coords="1951,386,1951,418,1945,418,1945,386"/>
<area shape="poly" title=" " alt="" coords="2037,305,2013,460,1967,662,1927,810,1922,809,1962,661,2008,459,2032,304"/>
<area shape="poly" title=" " alt="" coords="2024,307,1975,351,1971,347,2021,303"/>
<area shape="poly" title=" " alt="" coords="292,457,467,501,465,506,291,462"/>
<area shape="poly" title=" " alt="" coords="215,462,156,492,121,514,87,540,57,570,31,603,14,640,8,681,8,757,12,785,24,810,42,832,64,850,116,880,169,900,167,905,114,885,61,855,38,835,19,813,7,787,3,758,3,681,9,639,27,600,53,566,84,536,118,510,153,488,212,457"/>
<area shape="poly" title=" " alt="" coords="240,461,186,575,182,573,235,459"/>
<area shape="poly" title=" " alt="" coords="164,694,286,812,282,816,160,698"/>
</map>
</div>
</div>
<p><a href="test__message__buffer_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6b2a3852db8bb19ab6909bac01859985" id="r_a6b2a3852db8bb19ab6909bac01859985"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b2a3852db8bb19ab6909bac01859985">BOOST_TEST_MODULE</a>&#160;&#160;&#160;message_buffer</td></tr>
<tr class="separator:a6b2a3852db8bb19ab6909bac01859985"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a726ea74fa85bcd71c27873a80f644ecb" id="r_a726ea74fa85bcd71c27873a80f644ecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a726ea74fa85bcd71c27873a80f644ecb">BOOST_AUTO_TEST_CASE</a> (message_buffer_construction)</td></tr>
<tr class="memdesc:a726ea74fa85bcd71c27873a80f644ecb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> default construction and buffer sequence generation.  <br /></td></tr>
<tr class="separator:a726ea74fa85bcd71c27873a80f644ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64fd5998672b472a05dead509a6e008" id="r_ac64fd5998672b472a05dead509a6e008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac64fd5998672b472a05dead509a6e008">BOOST_AUTO_TEST_CASE</a> (message_buffer_growth)</td></tr>
<tr class="memdesc:ac64fd5998672b472a05dead509a6e008"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> buffer growth and shrinking.  <br /></td></tr>
<tr class="separator:ac64fd5998672b472a05dead509a6e008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f66dfac041e0941e63b810d0cb5315" id="r_ae9f66dfac041e0941e63b810d0cb5315"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9f66dfac041e0941e63b810d0cb5315">BOOST_AUTO_TEST_CASE</a> (message_buffer_peek_read)</td></tr>
<tr class="memdesc:ae9f66dfac041e0941e63b810d0cb5315"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> peek and read across multiple buffers.  <br /></td></tr>
<tr class="separator:ae9f66dfac041e0941e63b810d0cb5315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51213da5fa9bc94beae58bc546fe060c" id="r_a51213da5fa9bc94beae58bc546fe060c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51213da5fa9bc94beae58bc546fe060c">BOOST_AUTO_TEST_CASE</a> (message_buffer_write_ptr_to_end)</td></tr>
<tr class="memdesc:a51213da5fa9bc94beae58bc546fe060c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_test.html">Test</a> automatic allocation when advancing the read_ptr to the end.  <br /></td></tr>
<tr class="separator:a51213da5fa9bc94beae58bc546fe060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03843167006eda627eb916682073ac34" id="r_a03843167006eda627eb916682073ac34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03843167006eda627eb916682073ac34">BOOST_AUTO_TEST_CASE</a> (message_buffer_read_peek_bounds)</td></tr>
<tr class="separator:a03843167006eda627eb916682073ac34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75206947066bd4a065f93c5f01d5caa1" id="r_a75206947066bd4a065f93c5f01d5caa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75206947066bd4a065f93c5f01d5caa1">BOOST_AUTO_TEST_CASE</a> (message_buffer_read_peek_bounds_multi)</td></tr>
<tr class="separator:a75206947066bd4a065f93c5f01d5caa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bbd4a35e35ff3ae3d5b08588c6568e0" id="r_a9bbd4a35e35ff3ae3d5b08588c6568e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bbd4a35e35ff3ae3d5b08588c6568e0">BOOST_AUTO_TEST_CASE</a> (message_buffer_datastream)</td></tr>
<tr class="separator:a9bbd4a35e35ff3ae3d5b08588c6568e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6687d4ea18cd8c8a2244e87202a36dfe" id="r_a6687d4ea18cd8c8a2244e87202a36dfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6687d4ea18cd8c8a2244e87202a36dfe">BOOST_AUTO_TEST_CASE</a> (test_message_buffer)</td></tr>
<tr class="separator:a6687d4ea18cd8c8a2244e87202a36dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a32f1ed79dd03b093450455fc1742066b" id="r_a32f1ed79dd03b093450455fc1742066b"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32f1ed79dd03b093450455fc1742066b">def_buffer_size_mb</a> = 4</td></tr>
<tr class="separator:a32f1ed79dd03b093450455fc1742066b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627ee2f70459014afb1a7b59d8f6280f" id="r_a627ee2f70459014afb1a7b59d8f6280f"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> = 1024*1024*<a class="el" href="#a32f1ed79dd03b093450455fc1742066b">def_buffer_size_mb</a></td></tr>
<tr class="separator:a627ee2f70459014afb1a7b59d8f6280f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6b2a3852db8bb19ab6909bac01859985" name="a6b2a3852db8bb19ab6909bac01859985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b2a3852db8bb19ab6909bac01859985">&#9670;&#160;</a></span>BOOST_TEST_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOST_TEST_MODULE&#160;&#160;&#160;message_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00005">5</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a726ea74fa85bcd71c27873a80f644ecb" name="a726ea74fa85bcd71c27873a80f644ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a726ea74fa85bcd71c27873a80f644ecb">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_construction</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00033">33</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   34</span>{</div>
<div class="line"><span class="lineno">   35</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;def_buffer_size&gt;</a> mb;</div>
<div class="line"><span class="lineno">   37</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   38</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   39</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0u);</div>
<div class="line"><span class="lineno">   40</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">auto</span> mbs = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">get_buffer_sequence_for_boost_async_read</a>();</div>
<div class="line"><span class="lineno">   43</span>    <span class="keyword">auto</span> mbsi = mbs.begin();</div>
<div class="line"><span class="lineno">   44</span>    BOOST_CHECK_EQUAL(mb_size(*mbsi), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   45</span>    BOOST_CHECK_EQUAL(mb_data(*mbsi), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   46</span>    mbsi++;</div>
<div class="line"><span class="lineno">   47</span>    BOOST_CHECK(mbsi == mbs.end());</div>
<div class="line"><span class="lineno">   48</span>  }</div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="aclassfc_1_1message__buffer_html"><div class="ttname"><a href="classfc_1_1message__buffer.html">fc::message_buffer</a></div><div class="ttdoc">abstraction for a message buffer that spans a chain of physical buffers</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00025">message_buffer.hpp:25</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a22920e143abfb93de992f9a14607dea9"><div class="ttname"><a href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">fc::message_buffer::bytes_to_read</a></div><div class="ttdeci">uint32_t bytes_to_read() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00122">message_buffer.hpp:122</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a379d7b684cb512d44740c1e8731348d4"><div class="ttname"><a href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">fc::message_buffer::write_ptr</a></div><div class="ttdeci">char * write_ptr()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00067">message_buffer.hpp:67</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a7d14c84a452f14a0616f90cc3771efa9"><div class="ttname"><a href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">fc::message_buffer::get_buffer_sequence_for_boost_async_read</a></div><div class="ttdeci">std::vector&lt; boost::asio::mutable_buffer &gt; get_buffer_sequence_for_boost_async_read()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00192">message_buffer.hpp:192</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_ae7bf97576095b33852c68dbc3cd7737e"><div class="ttname"><a href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">fc::message_buffer::total_bytes</a></div><div class="ttdeci">uint32_t total_bytes() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00147">message_buffer.hpp:147</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_af4540535b3ef876e42631178c997e59b"><div class="ttname"><a href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">fc::message_buffer::bytes_to_write</a></div><div class="ttdeci">uint32_t bytes_to_write() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00140">message_buffer.hpp:140</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_afa923dc3e69fb4409903c141e2e35a62"><div class="ttname"><a href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">fc::message_buffer::read_ptr</a></div><div class="ttdeci">char * read_ptr()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00059">message_buffer.hpp:59</a></div></div>
<div class="ttc" id="aexception_8hpp_html_ae70bfa24f5a3bc0917382b3c17fc033c"><div class="ttname"><a href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a></div><div class="ttdeci">#define FC_LOG_AND_RETHROW()</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00411">exception.hpp:411</a></div></div>
<div class="ttc" id="atest__message__buffer_8cpp_html_a627ee2f70459014afb1a7b59d8f6280f"><div class="ttname"><a href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a></div><div class="ttdeci">constexpr size_t def_buffer_size</div><div class="ttdef"><b>Definition</b> <a href="test__message__buffer_8cpp_source.html#l00030">test_message_buffer.cpp:30</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a726ea74fa85bcd71c27873a80f644ecb_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a726ea74fa85bcd71c27873a80f644ecb_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a726ea74fa85bcd71c27873a80f644ecb_cgraph" id="atest__message__buffer_8cpp_a726ea74fa85bcd71c27873a80f644ecb_cgraph">
<area shape="rect" title="Test default construction and buffer sequence generation." alt="" coords="5,169,202,194"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9" title=" " alt="" coords="261,5,394,46"/>
<area shape="poly" title=" " alt="" coords="116,166,171,115,208,85,248,57,258,51,260,56,251,61,212,89,174,119,120,170"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="261,71,394,111"/>
<area shape="poly" title=" " alt="" coords="137,166,261,115,263,120,139,171"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="478,99,612,139"/>
<area shape="poly" title=" " alt="" coords="199,166,463,128,464,133,199,171"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9" title=" " alt="" coords="250,186,406,242"/>
<area shape="poly" title=" " alt="" coords="199,193,235,198,234,203,198,198"/>
<area shape="rect" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62" title=" " alt="" coords="261,265,394,306"/>
<area shape="poly" title=" " alt="" coords="131,193,251,251,262,256,260,261,249,256,129,197"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4" title=" " alt="" coords="261,331,394,371"/>
<area shape="poly" title=" " alt="" coords="118,193,172,250,210,285,251,315,260,321,257,325,248,320,207,289,168,254,114,197"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a00128a76bfce283e52ceebd61c30a544" title=" " alt="" coords="454,5,636,46"/>
<area shape="poly" title=" " alt="" coords="395,23,438,23,438,28,395,28"/>
<area shape="poly" title=" " alt="" coords="395,97,464,106,463,111,394,102"/>
</map>
</div>

</div>
</div>
<a id="a9bbd4a35e35ff3ae3d5b08588c6568e0" name="a9bbd4a35e35ff3ae3d5b08588c6568e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bbd4a35e35ff3ae3d5b08588c6568e0">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_datastream</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00317">317</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>                                                {</div>
<div class="line"><span class="lineno">  318</span>   <span class="keyword">using </span>my_message_buffer_t = <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;1024&gt;</a>;</div>
<div class="line"><span class="lineno">  319</span>   my_message_buffer_t mbuff;</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>   <span class="keywordtype">char</span> <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>[1024];</div>
<div class="line"><span class="lineno">  322</span>   <a class="code hl_class" href="classfc_1_1datastream.html">fc::datastream&lt;char*&gt;</a> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a>( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, 1024 );</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>   <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacedevelop_build.html#ade64cd34608f9442ef3049116a2da428">v</a> = 13;</div>
<div class="line"><span class="lineno">  325</span>   <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( ds, v );</div>
<div class="line"><span class="lineno">  326</span>   <a class="code hl_variable" href="namespacedevelop_build.html#ade64cd34608f9442ef3049116a2da428">v</a> = 42;</div>
<div class="line"><span class="lineno">  327</span>   <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( ds, 42 );</div>
<div class="line"><span class="lineno">  328</span>   <a class="code hl_function" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a>( ds, std::string( <span class="stringliteral">&quot;hello&quot;</span> ) );</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>   <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mbuff.write_ptr(), <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a>, 1024);</div>
<div class="line"><span class="lineno">  331</span>   mbuff.advance_write_ptr(1024);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>   <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i ) {</div>
<div class="line"><span class="lineno">  334</span>      <span class="keyword">auto</span> ds2 = mbuff.create_peek_datastream();</div>
<div class="line"><span class="lineno">  335</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, v );</div>
<div class="line"><span class="lineno">  336</span>      BOOST_CHECK_EQUAL( 13, v );</div>
<div class="line"><span class="lineno">  337</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, v );</div>
<div class="line"><span class="lineno">  338</span>      BOOST_CHECK_EQUAL( 42, v );</div>
<div class="line"><span class="lineno">  339</span>      std::string <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  340</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> );</div>
<div class="line"><span class="lineno">  341</span>      BOOST_CHECK_EQUAL( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, std::string( <span class="stringliteral">&quot;hello&quot;</span> ) );</div>
<div class="line"><span class="lineno">  342</span>   }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>   {</div>
<div class="line"><span class="lineno">  345</span>      <span class="keyword">auto</span> ds2 = mbuff.create_datastream();</div>
<div class="line"><span class="lineno">  346</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, v );</div>
<div class="line"><span class="lineno">  347</span>      BOOST_CHECK_EQUAL( 13, v );</div>
<div class="line"><span class="lineno">  348</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, v );</div>
<div class="line"><span class="lineno">  349</span>      BOOST_CHECK_EQUAL( 42, v );</div>
<div class="line"><span class="lineno">  350</span>      std::string <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  351</span>      <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds2, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> );</div>
<div class="line"><span class="lineno">  352</span>      BOOST_CHECK_EQUAL( <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, std::string( <span class="stringliteral">&quot;hello&quot;</span> ) );</div>
<div class="line"><span class="lineno">  353</span>   }</div>
<div class="line"><span class="lineno">  354</span>}</div>
<div class="ttc" id="aclassfc_1_1datastream_html"><div class="ttname"><a href="classfc_1_1datastream.html">fc::datastream</a></div><div class="ttdef"><b>Definition</b> <a href="datastream_8hpp_source.html#l00018">datastream.hpp:18</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespacedevelop_build_html_ade64cd34608f9442ef3049116a2da428"><div class="ttname"><a href="namespacedevelop_build.html#ade64cd34608f9442ef3049116a2da428">developBuild.v</a></div><div class="ttdeci">v</div><div class="ttdef"><b>Definition</b> <a href="develop_build_8py_source.html#l00006">developBuild.py:6</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a3a18d8161aa5b4f4f02b6fcfdff5e5d1"><div class="ttname"><a href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1">fc::raw::pack</a></div><div class="ttdeci">void pack(Stream &amp;s, const std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00531">raw.hpp:531</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a855e99b645b13e7905d074d02fe0bff5"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a855e99b645b13e7905d074d02fe0bff5">buf</a></div><div class="ttdeci">uint8_t buf[2048]</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04770">yubihsm_pkcs11.c:4770</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_ae785d5badbf1f08b491af31f32a135a1"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a></div><div class="ttdeci">memcpy((char *) pInfo-&gt;slotDescription, s, l)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a9bbd4a35e35ff3ae3d5b08588c6568e0_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a9bbd4a35e35ff3ae3d5b08588c6568e0_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a9bbd4a35e35ff3ae3d5b08588c6568e0_cgraph" id="atest__message__buffer_8cpp_a9bbd4a35e35ff3ae3d5b08588c6568e0_cgraph">
<area shape="rect" title=" " alt="" coords="5,79,202,104"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="270,5,341,31"/>
<area shape="poly" title=" " alt="" coords="140,76,254,34,256,39,142,81"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="257,79,354,104"/>
<area shape="poly" title=" " alt="" coords="202,89,241,89,241,94,202,94"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="250,152,361,178"/>
<area shape="poly" title=" " alt="" coords="142,102,254,144,252,149,140,107"/>
<area shape="poly" title=" " alt="" coords="272,80,265,70,269,60,283,54,305,52,330,55,343,62,340,66,329,60,305,57,284,59,273,64,270,69,276,77"/>
<area shape="poly" title=" " alt="" coords="272,153,265,143,269,134,283,127,305,125,330,128,343,135,340,140,329,133,305,131,284,133,273,137,270,143,276,150"/>
</map>
</div>

</div>
</div>
<a id="ac64fd5998672b472a05dead509a6e008" name="ac64fd5998672b472a05dead509a6e008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac64fd5998672b472a05dead509a6e008">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_growth</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00053">53</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{</div>
<div class="line"><span class="lineno">   55</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;def_buffer_size&gt;</a> mb;</div>
<div class="line"><span class="lineno">   57</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a">add_buffer_to_chain</a>();</div>
<div class="line"><span class="lineno">   58</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   59</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   60</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0u);</div>
<div class="line"><span class="lineno">   61</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    {</div>
<div class="line"><span class="lineno">   64</span>      <span class="keyword">auto</span> mbs = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">get_buffer_sequence_for_boost_async_read</a>();</div>
<div class="line"><span class="lineno">   65</span>      <span class="keyword">auto</span> mbsi = mbs.begin();</div>
<div class="line"><span class="lineno">   66</span>      BOOST_CHECK_EQUAL(mb_size(*mbsi), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   67</span>      BOOST_CHECK_EQUAL(mb_data(*mbsi), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   68</span>      mbsi++;</div>
<div class="line"><span class="lineno">   69</span>      BOOST_CHECK(mbsi != mbs.end());</div>
<div class="line"><span class="lineno">   70</span>      BOOST_CHECK_EQUAL(mb_size(*mbsi), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   71</span>      BOOST_CHECK_NE(mb_data(*mbsi), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   72</span>      mbsi++;</div>
<div class="line"><span class="lineno">   73</span>      BOOST_CHECK(mbsi == mbs.end());</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(100);</div>
<div class="line"><span class="lineno">   77</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   78</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 100);</div>
<div class="line"><span class="lineno">   79</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 100u);</div>
<div class="line"><span class="lineno">   80</span>    BOOST_CHECK_NE(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   81</span>    BOOST_CHECK_NE(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>(), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   82</span>    BOOST_CHECK_EQUAL((mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>() + 100), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    {</div>
<div class="line"><span class="lineno">   85</span>      <span class="keyword">auto</span> mbs = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">get_buffer_sequence_for_boost_async_read</a>();</div>
<div class="line"><span class="lineno">   86</span>      <span class="keyword">auto</span> mbsi = mbs.begin();</div>
<div class="line"><span class="lineno">   87</span>      BOOST_CHECK_EQUAL(mb_size(*mbsi), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 100);</div>
<div class="line"><span class="lineno">   88</span>      BOOST_CHECK_EQUAL(mb_data(*mbsi), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">   89</span>      mbsi++;</div>
<div class="line"><span class="lineno">   90</span>      BOOST_CHECK(mbsi != mbs.end());</div>
<div class="line"><span class="lineno">   91</span>      BOOST_CHECK_EQUAL(mb_size(*mbsi), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   92</span>      BOOST_CHECK_NE(mb_data(*mbsi), <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   93</span>      mbsi++;</div>
<div class="line"><span class="lineno">   94</span>      BOOST_CHECK(mbsi == mbs.end());</div>
<div class="line"><span class="lineno">   95</span>    }</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">advance_read_ptr</a>(50);</div>
<div class="line"><span class="lineno">   98</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">   99</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 100);</div>
<div class="line"><span class="lineno">  100</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 50u);</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(<a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  103</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  104</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 100);</div>
<div class="line"><span class="lineno">  105</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 50 + <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">// Moving read_ptr into second block should reset second block to first</span></div>
<div class="line"><span class="lineno">  108</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">advance_read_ptr</a>(<a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  109</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  110</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 100);</div>
<div class="line"><span class="lineno">  111</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 50u);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="comment">// Moving read_ptr to write_ptr should shrink chain and reset ptrs</span></div>
<div class="line"><span class="lineno">  114</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">advance_read_ptr</a>(50);</div>
<div class="line"><span class="lineno">  115</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  116</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  117</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0u);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a">add_buffer_to_chain</a>();</div>
<div class="line"><span class="lineno">  120</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  121</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  122</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0u);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(50);</div>
<div class="line"><span class="lineno">  125</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  126</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 2 * <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a> - 50);</div>
<div class="line"><span class="lineno">  127</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 50u);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="comment">// Moving read_ptr to write_ptr should shrink chain and reset ptrs</span></div>
<div class="line"><span class="lineno">  130</span>    mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">advance_read_ptr</a>(50);</div>
<div class="line"><span class="lineno">  131</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  132</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), <a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  133</span>    BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0u);</div>
<div class="line"><span class="lineno">  134</span>  }</div>
<div class="line"><span class="lineno">  135</span>  <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><span class="lineno">  136</span>}</div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a5c055debbcd5603bce13c26364836226"><div class="ttname"><a href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">fc::message_buffer::advance_write_ptr</a></div><div class="ttdeci">void advance_write_ptr(uint32_t bytes)</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00178">message_buffer.hpp:178</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_aaf26c3308fd006fad3860f4f2c4111aa"><div class="ttname"><a href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">fc::message_buffer::advance_read_ptr</a></div><div class="ttdeci">void advance_read_ptr(uint32_t bytes)</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00159">message_buffer.hpp:159</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_af82cffc17abe2a14429b1d0b8c319f9a"><div class="ttname"><a href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a">fc::message_buffer::add_buffer_to_chain</a></div><div class="ttdeci">void add_buffer_to_chain()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00075">message_buffer.hpp:75</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_ac64fd5998672b472a05dead509a6e008_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_ac64fd5998672b472a05dead509a6e008_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_ac64fd5998672b472a05dead509a6e008_cgraph" id="atest__message__buffer_8cpp_ac64fd5998672b472a05dead509a6e008_cgraph">
<area shape="rect" title="Test buffer growth and shrinking." alt="" coords="5,274,202,300"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a" title=" " alt="" coords="255,5,401,46"/>
<area shape="poly" title=" " alt="" coords="107,273,125,232,155,175,196,113,221,83,248,57,254,52,257,56,251,61,225,87,201,116,160,177,130,234,112,275"/>
<area shape="rect" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa" title=" " alt="" coords="261,136,394,177"/>
<area shape="poly" title=" " alt="" coords="121,271,177,232,248,187,260,181,262,186,251,192,179,236,124,276"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226" title=" " alt="" coords="260,71,396,111"/>
<area shape="poly" title=" " alt="" coords="111,272,164,203,203,160,248,122,256,117,259,122,251,126,207,164,168,206,116,275"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9" title=" " alt="" coords="261,201,394,242"/>
<area shape="poly" title=" " alt="" coords="149,271,245,243,247,248,151,276"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="261,267,394,307"/>
<area shape="poly" title=" " alt="" coords="202,284,246,284,246,290,202,290"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="478,295,612,335"/>
<area shape="poly" title=" " alt="" coords="154,298,250,316,361,322,463,319,463,324,361,327,249,322,153,303"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9" title=" " alt="" coords="250,382,406,438"/>
<area shape="poly" title=" " alt="" coords="130,298,263,372,261,376,128,303"/>
<area shape="rect" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62" title=" " alt="" coords="261,461,394,502"/>
<area shape="poly" title=" " alt="" coords="116,299,168,368,207,410,251,448,257,451,254,456,248,452,203,414,164,371,111,302"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4" title=" " alt="" coords="261,527,394,567"/>
<area shape="poly" title=" " alt="" coords="112,299,130,340,160,396,201,457,225,486,251,512,257,516,254,520,248,516,221,490,196,460,155,399,125,342,108,301"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a79e090da87bf9c39df42c98ee72c4917" title=" " alt="" coords="478,71,612,111"/>
<area shape="poly" title=" " alt="" coords="394,134,463,113,464,118,396,139"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd" title=" " alt="" coords="478,136,612,177"/>
<area shape="poly" title=" " alt="" coords="395,154,463,154,463,159,395,159"/>
<area shape="poly" title=" " alt="" coords="396,88,463,88,463,94,396,94"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a00128a76bfce283e52ceebd61c30a544" title=" " alt="" coords="454,201,636,242"/>
<area shape="poly" title=" " alt="" coords="395,219,438,219,438,224,395,224"/>
<area shape="poly" title=" " alt="" coords="395,293,464,302,463,307,394,298"/>
</map>
</div>

</div>
</div>
<a id="ae9f66dfac041e0941e63b810d0cb5315" name="ae9f66dfac041e0941e63b810d0cb5315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f66dfac041e0941e63b810d0cb5315">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_peek_read</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00139">139</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  142</span>    {</div>
<div class="line"><span class="lineno">  143</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> small = 32;</div>
<div class="line"><span class="lineno">  144</span>      <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;small&gt;</a> mb;</div>
<div class="line"><span class="lineno">  145</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), small);</div>
<div class="line"><span class="lineno">  146</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), small);</div>
<div class="line"><span class="lineno">  147</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0);</div>
<div class="line"><span class="lineno">  148</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  149</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  150</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  151</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  152</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a2df2a20a83e5ba9e0ca7ae56f0f1ff41">add_space</a>(100 - small);</div>
<div class="line"><span class="lineno">  155</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 4 * small);</div>
<div class="line"><span class="lineno">  156</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 4 * small);</div>
<div class="line"><span class="lineno">  157</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0);</div>
<div class="line"><span class="lineno">  158</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>      <span class="keywordtype">char</span>* write_ptr = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>();</div>
<div class="line"><span class="lineno">  161</span>      <span class="keywordflow">for</span> (<span class="keywordtype">char</span> ind = 0; ind &lt; 100; ) {</div>
<div class="line"><span class="lineno">  162</span>        *write_ptr = ind;</div>
<div class="line"><span class="lineno">  163</span>        ind++;</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">if</span> (ind % small == 0) {</div>
<div class="line"><span class="lineno">  165</span>          mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(small);</div>
<div class="line"><span class="lineno">  166</span>          write_ptr = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>();</div>
<div class="line"><span class="lineno">  167</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  168</span>          write_ptr++;</div>
<div class="line"><span class="lineno">  169</span>        }</div>
<div class="line"><span class="lineno">  170</span>      }</div>
<div class="line"><span class="lineno">  171</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(100 % small);</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 4 * small);</div>
<div class="line"><span class="lineno">  174</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 4 * small - 100);</div>
<div class="line"><span class="lineno">  175</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 100);</div>
<div class="line"><span class="lineno">  176</span>      BOOST_CHECK_NE((<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), (<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  177</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  178</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  179</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().first, 3);</div>
<div class="line"><span class="lineno">  180</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().second, 4);</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>      <span class="keywordtype">char</span> buffer[100];</div>
<div class="line"><span class="lineno">  183</span>      <span class="keyword">auto</span> index = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>();</div>
<div class="line"><span class="lineno">  184</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aa313c06931d9d0d21c5cf2a653898121">peek</a>(buffer, 50, index);</div>
<div class="line"><span class="lineno">  185</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aa313c06931d9d0d21c5cf2a653898121">peek</a>(buffer+50, 50, index);</div>
<div class="line"><span class="lineno">  186</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; 100; i++) {</div>
<div class="line"><span class="lineno">  187</span>        BOOST_CHECK_EQUAL(i, buffer[i]);</div>
<div class="line"><span class="lineno">  188</span>      }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 4 * small);</div>
<div class="line"><span class="lineno">  191</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), 4 * small - 100);</div>
<div class="line"><span class="lineno">  192</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 100);</div>
<div class="line"><span class="lineno">  193</span>      BOOST_CHECK_NE((<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), (<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>      <span class="keywordtype">char</span> buffer2[100];</div>
<div class="line"><span class="lineno">  196</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a535ef4f901ac8e5f9008524eafad9447">read</a>(buffer2, 100);</div>
<div class="line"><span class="lineno">  197</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; 100; i++) {</div>
<div class="line"><span class="lineno">  198</span>        BOOST_CHECK_EQUAL(i, buffer2[i]);</div>
<div class="line"><span class="lineno">  199</span>      }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), small);</div>
<div class="line"><span class="lineno">  202</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), small);</div>
<div class="line"><span class="lineno">  203</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0);</div>
<div class="line"><span class="lineno">  204</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  205</span>    }</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span>  <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><span class="lineno">  208</span>}</div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a2df2a20a83e5ba9e0ca7ae56f0f1ff41"><div class="ttname"><a href="classfc_1_1message__buffer.html#a2df2a20a83e5ba9e0ca7ae56f0f1ff41">fc::message_buffer::add_space</a></div><div class="ttdeci">void add_space(uint32_t bytes)</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00085">message_buffer.hpp:85</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a535ef4f901ac8e5f9008524eafad9447"><div class="ttname"><a href="classfc_1_1message__buffer.html#a535ef4f901ac8e5f9008524eafad9447">fc::message_buffer::read</a></div><div class="ttdeci">bool read(void *s, uint32_t size)</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00207">message_buffer.hpp:207</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a84051edbb5bbe011122d7c94edb5070a"><div class="ttname"><a href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">fc::message_buffer::write_index</a></div><div class="ttdeci">index_t write_index() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00053">message_buffer.hpp:53</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_aa313c06931d9d0d21c5cf2a653898121"><div class="ttname"><a href="classfc_1_1message__buffer.html#aa313c06931d9d0d21c5cf2a653898121">fc::message_buffer::peek</a></div><div class="ttdeci">bool peek(void *s, uint32_t size, index_t &amp;index) const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00228">message_buffer.hpp:228</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_ae7cea2fb674c209dc11ca459156b2041"><div class="ttname"><a href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">fc::message_buffer::read_index</a></div><div class="ttdeci">index_t read_index() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00047">message_buffer.hpp:47</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_ae9f66dfac041e0941e63b810d0cb5315_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_ae9f66dfac041e0941e63b810d0cb5315_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_ae9f66dfac041e0941e63b810d0cb5315_cgraph" id="atest__message__buffer_8cpp_ae9f66dfac041e0941e63b810d0cb5315_cgraph">
<area shape="rect" title="Test peek and read across multiple buffers." alt="" coords="5,349,202,374"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a2df2a20a83e5ba9e0ca7ae56f0f1ff41" title=" " alt="" coords="250,5,383,46"/>
<area shape="poly" title=" " alt="" coords="106,347,121,297,150,222,192,139,218,99,248,63,257,53,261,57,252,66,222,102,196,142,155,224,126,298,111,349"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226" title=" " alt="" coords="431,13,566,54"/>
<area shape="poly" title=" " alt="" coords="106,347,122,302,150,237,192,167,218,134,248,106,277,90,319,75,415,49,417,54,320,80,279,95,251,110,222,138,196,170,155,239,126,303,111,349"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9" title=" " alt="" coords="432,295,565,335"/>
<area shape="poly" title=" " alt="" coords="202,347,416,322,417,327,202,353"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="250,449,383,490"/>
<area shape="poly" title=" " alt="" coords="132,373,262,439,260,444,130,377"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="432,435,565,475"/>
<area shape="poly" title=" " alt="" coords="162,373,417,433,416,438,161,378"/>
<area shape="rect" href="classfc_1_1message__buffer.html#aa313c06931d9d0d21c5cf2a653898121" title=" " alt="" coords="250,144,383,185"/>
<area shape="poly" title=" " alt="" coords="112,347,165,277,204,235,248,196,254,191,257,195,251,200,208,238,169,281,116,350"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a535ef4f901ac8e5f9008524eafad9447" title=" " alt="" coords="250,233,383,274"/>
<area shape="poly" title=" " alt="" coords="130,346,260,279,262,284,132,351"/>
<area shape="rect" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62" title=" " alt="" coords="432,360,565,401"/>
<area shape="poly" title=" " alt="" coords="202,364,416,374,416,379,202,369"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041" title=" " alt="" coords="250,515,383,555"/>
<area shape="poly" title=" " alt="" coords="118,373,173,432,210,467,251,500,258,504,255,509,248,504,207,471,169,435,114,377"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a" title=" " alt="" coords="250,580,383,621"/>
<area shape="poly" title=" " alt="" coords="114,374,164,461,204,515,251,565,257,569,253,573,248,569,200,519,159,463,109,376"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4" title=" " alt="" coords="250,645,383,686"/>
<area shape="poly" title=" " alt="" coords="111,374,127,421,156,488,197,563,223,598,252,630,255,634,252,638,248,634,219,602,193,566,151,491,122,423,106,376"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a79e090da87bf9c39df42c98ee72c4917" title=" " alt="" coords="639,71,772,111"/>
<area shape="poly" title=" " alt="" coords="568,50,624,66,623,71,566,55"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a00128a76bfce283e52ceebd61c30a544" title=" " alt="" coords="614,149,797,190"/>
<area shape="poly" title=" " alt="" coords="547,292,565,280,579,264,588,248,597,233,613,216,641,196,644,200,616,220,601,236,593,251,584,267,568,284,550,296"/>
<area shape="poly" title=" " alt="" coords="383,462,416,459,416,464,384,467"/>
<area shape="poly" title=" " alt="" coords="383,149,623,104,624,109,384,155"/>
<area shape="poly" title=" " alt="" coords="384,162,566,164,598,165,598,170,566,170,384,168"/>
<area shape="poly" title=" " alt="" coords="281,144,280,134,285,125,298,119,316,117,336,120,348,126,346,131,335,125,316,123,299,125,289,129,285,135,287,143"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="463,180,534,205"/>
<area shape="poly" title=" " alt="" coords="384,172,448,182,447,187,383,177"/>
<area shape="poly" title=" " alt="" coords="380,272,423,287,421,292,378,277"/>
<area shape="poly" title=" " alt="" coords="378,230,447,207,449,212,380,235"/>
<area shape="poly" title=" " alt="" coords="281,233,280,223,285,214,298,209,316,207,336,209,348,215,346,220,335,214,316,212,299,214,289,218,285,224,287,232"/>
<area shape="rect" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa" title=" " alt="" coords="432,229,565,270"/>
<area shape="poly" title=" " alt="" coords="383,250,416,249,416,254,384,255"/>
<area shape="poly" title=" " alt="" coords="342,273,383,308,432,345,441,350,438,354,430,349,379,312,338,277"/>
<area shape="poly" title=" " alt="" coords="550,227,564,216,580,196,588,177,596,157,612,136,637,117,641,121,616,140,601,160,593,179,585,199,568,220,553,231"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd" title=" " alt="" coords="639,229,772,270"/>
<area shape="poly" title=" " alt="" coords="566,247,623,247,623,252,566,252"/>
</map>
</div>

</div>
</div>
<a id="a03843167006eda627eb916682073ac34" name="a03843167006eda627eb916682073ac34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03843167006eda627eb916682073ac34">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_read_peek_bounds</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00253">253</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>                                                      {</div>
<div class="line"><span class="lineno">  254</span>   <span class="keyword">using </span>my_message_buffer_t = <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;1024&gt;</a>;</div>
<div class="line"><span class="lineno">  255</span>   my_message_buffer_t mbuff;</div>
<div class="line"><span class="lineno">  256</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> stuff[] = {</div>
<div class="line"><span class="lineno">  257</span>      0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff</div>
<div class="line"><span class="lineno">  258</span>   };</div>
<div class="line"><span class="lineno">  259</span>   <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mbuff.write_ptr(), stuff, <span class="keyword">sizeof</span>(stuff));</div>
<div class="line"><span class="lineno">  260</span>   mbuff.advance_write_ptr(<span class="keyword">sizeof</span>(stuff));</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>   my_message_buffer_t::index_t index = mbuff.read_index();</div>
<div class="line"><span class="lineno">  263</span>   <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> throw_away_buffer[4];</div>
<div class="line"><span class="lineno">  264</span>   mbuff.peek(&amp;throw_away_buffer, 4, index); <span class="comment">//8 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  265</span>   mbuff.peek(&amp;throw_away_buffer, 4, index); <span class="comment">//4 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  266</span>   mbuff.peek(&amp;throw_away_buffer, 2, index); <span class="comment">//2 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  267</span>   BOOST_CHECK_THROW(mbuff.peek(&amp;throw_away_buffer, 3, index), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  268</span>   mbuff.peek(&amp;throw_away_buffer, 1, index); <span class="comment">//1 byte left to peek afterwards</span></div>
<div class="line"><span class="lineno">  269</span>   mbuff.peek(&amp;throw_away_buffer, 0, index); <span class="comment">//1 byte left to peek afterwards</span></div>
<div class="line"><span class="lineno">  270</span>   mbuff.peek(&amp;throw_away_buffer, 1, index); <span class="comment">//no bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  271</span>   BOOST_CHECK_THROW(mbuff.peek(&amp;throw_away_buffer, 1, index), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>   mbuff.read(&amp;throw_away_buffer, 4); <span class="comment">//8 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  274</span>   mbuff.read(&amp;throw_away_buffer, 4); <span class="comment">//4 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  275</span>   mbuff.read(&amp;throw_away_buffer, 2); <span class="comment">//2 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  276</span>   BOOST_CHECK_THROW(mbuff.read(&amp;throw_away_buffer, 4), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  277</span>   mbuff.read(&amp;throw_away_buffer, 1); <span class="comment">//1 byte left to read afterwards</span></div>
<div class="line"><span class="lineno">  278</span>   mbuff.read(&amp;throw_away_buffer, 0); <span class="comment">//1 byte left to read afterwards</span></div>
<div class="line"><span class="lineno">  279</span>   mbuff.read(&amp;throw_away_buffer, 1); <span class="comment">//no bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  280</span>   BOOST_CHECK_THROW(mbuff.read(&amp;throw_away_buffer, 1), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  281</span>}</div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a03843167006eda627eb916682073ac34_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a03843167006eda627eb916682073ac34_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a03843167006eda627eb916682073ac34_cgraph" id="atest__message__buffer_8cpp_a03843167006eda627eb916682073ac34_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,202,31"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="250,5,321,31"/>
<area shape="poly" title=" " alt="" coords="202,16,234,16,234,21,202,21"/>
</map>
</div>

</div>
</div>
<a id="a75206947066bd4a065f93c5f01d5caa1" name="a75206947066bd4a065f93c5f01d5caa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75206947066bd4a065f93c5f01d5caa1">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_read_peek_bounds_multi</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00283">283</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  283</span>                                                            {</div>
<div class="line"><span class="lineno">  284</span>   <span class="keyword">using </span>my_message_buffer_t = <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;5&gt;</a>;</div>
<div class="line"><span class="lineno">  285</span>   my_message_buffer_t mbuff;</div>
<div class="line"><span class="lineno">  286</span>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> stuff[] = {</div>
<div class="line"><span class="lineno">  287</span>      0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff</div>
<div class="line"><span class="lineno">  288</span>   };</div>
<div class="line"><span class="lineno">  289</span>   <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mbuff.write_ptr(), stuff, 5);</div>
<div class="line"><span class="lineno">  290</span>   mbuff.advance_write_ptr(5);</div>
<div class="line"><span class="lineno">  291</span>   <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mbuff.write_ptr(), stuff+5, 5);</div>
<div class="line"><span class="lineno">  292</span>   mbuff.advance_write_ptr(5);</div>
<div class="line"><span class="lineno">  293</span>   <a class="code hl_function" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1">memcpy</a>(mbuff.write_ptr(), stuff+10, 2);</div>
<div class="line"><span class="lineno">  294</span>   mbuff.advance_write_ptr(2);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>   my_message_buffer_t::index_t index = mbuff.read_index();</div>
<div class="line"><span class="lineno">  297</span>   <a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> throw_away_buffer[4];</div>
<div class="line"><span class="lineno">  298</span>   mbuff.peek(&amp;throw_away_buffer, 4, index); <span class="comment">//8 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  299</span>   mbuff.peek(&amp;throw_away_buffer, 4, index); <span class="comment">//4 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  300</span>   mbuff.peek(&amp;throw_away_buffer, 2, index); <span class="comment">//2 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  301</span>   BOOST_CHECK_THROW(mbuff.peek(&amp;throw_away_buffer, 3, index), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  302</span>   mbuff.peek(&amp;throw_away_buffer, 1, index); <span class="comment">//1 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  303</span>   mbuff.peek(&amp;throw_away_buffer, 0, index); <span class="comment">//1 bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  304</span>   mbuff.peek(&amp;throw_away_buffer, 1, index); <span class="comment">//no bytes left to peek afterwards</span></div>
<div class="line"><span class="lineno">  305</span>   BOOST_CHECK_THROW(mbuff.peek(&amp;throw_away_buffer, 1, index), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>   mbuff.read(&amp;throw_away_buffer, 4); <span class="comment">//8 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  308</span>   mbuff.read(&amp;throw_away_buffer, 4); <span class="comment">//4 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  309</span>   mbuff.read(&amp;throw_away_buffer, 2); <span class="comment">//2 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  310</span>   BOOST_CHECK_THROW(mbuff.read(&amp;throw_away_buffer, 4), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  311</span>   mbuff.read(&amp;throw_away_buffer, 1); <span class="comment">//1 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  312</span>   mbuff.read(&amp;throw_away_buffer, 0); <span class="comment">//1 bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  313</span>   mbuff.read(&amp;throw_away_buffer, 1); <span class="comment">//no bytes left to read afterwards</span></div>
<div class="line"><span class="lineno">  314</span>   BOOST_CHECK_THROW(mbuff.read(&amp;throw_away_buffer, 1), fc::out_of_range_exception);</div>
<div class="line"><span class="lineno">  315</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a75206947066bd4a065f93c5f01d5caa1_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a75206947066bd4a065f93c5f01d5caa1_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a75206947066bd4a065f93c5f01d5caa1_cgraph" id="atest__message__buffer_8cpp_a75206947066bd4a065f93c5f01d5caa1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,202,31"/>
<area shape="rect" href="yubihsm__pkcs11_8c.html#ae785d5badbf1f08b491af31f32a135a1" title=" " alt="" coords="250,5,321,31"/>
<area shape="poly" title=" " alt="" coords="202,16,234,16,234,21,202,21"/>
</map>
</div>

</div>
</div>
<a id="a51213da5fa9bc94beae58bc546fe060c" name="a51213da5fa9bc94beae58bc546fe060c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51213da5fa9bc94beae58bc546fe060c">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">message_buffer_write_ptr_to_end</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00211">211</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  212</span>{</div>
<div class="line"><span class="lineno">  213</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  214</span>    {</div>
<div class="line"><span class="lineno">  215</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> small = 32;</div>
<div class="line"><span class="lineno">  216</span>      <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;small&gt;</a> mb;</div>
<div class="line"><span class="lineno">  217</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), small);</div>
<div class="line"><span class="lineno">  218</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), small);</div>
<div class="line"><span class="lineno">  219</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), 0);</div>
<div class="line"><span class="lineno">  220</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  221</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  222</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  223</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  224</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>      <span class="keywordtype">char</span>* write_ptr = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>();</div>
<div class="line"><span class="lineno">  227</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ind = 0; ind &lt; small; ind++) {</div>
<div class="line"><span class="lineno">  228</span>        *write_ptr = ind;</div>
<div class="line"><span class="lineno">  229</span>        write_ptr++;</div>
<div class="line"><span class="lineno">  230</span>      }</div>
<div class="line"><span class="lineno">  231</span>      mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(small);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e">total_bytes</a>(), 2 * small);</div>
<div class="line"><span class="lineno">  234</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), small);</div>
<div class="line"><span class="lineno">  235</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9">bytes_to_read</a>(), small);</div>
<div class="line"><span class="lineno">  236</span>      BOOST_CHECK_NE((<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62">read_ptr</a>(), (<span class="keywordtype">void</span>*) mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  237</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().first, 0);</div>
<div class="line"><span class="lineno">  238</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041">read_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  239</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().first, 1);</div>
<div class="line"><span class="lineno">  240</span>      BOOST_CHECK_EQUAL(mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a">write_index</a>().second, 0);</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>      <span class="keyword">auto</span> mbs = mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">get_buffer_sequence_for_boost_async_read</a>();</div>
<div class="line"><span class="lineno">  243</span>      <span class="keyword">auto</span> mbsi = mbs.begin();</div>
<div class="line"><span class="lineno">  244</span>      BOOST_CHECK_EQUAL(mb_size(*mbsi), small);</div>
<div class="line"><span class="lineno">  245</span>      BOOST_CHECK_EQUAL(mb_data(*mbsi), mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4">write_ptr</a>());</div>
<div class="line"><span class="lineno">  246</span>      mbsi++;</div>
<div class="line"><span class="lineno">  247</span>      BOOST_CHECK(mbsi == mbs.end());</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span>  }</div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_define" href="exception_8hpp.html#ae70bfa24f5a3bc0917382b3c17fc033c">FC_LOG_AND_RETHROW</a>()</div>
<div class="line"><span class="lineno">  251</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a51213da5fa9bc94beae58bc546fe060c_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a51213da5fa9bc94beae58bc546fe060c_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a51213da5fa9bc94beae58bc546fe060c_cgraph" id="atest__message__buffer_8cpp_a51213da5fa9bc94beae58bc546fe060c_cgraph">
<area shape="rect" title="Test automatic allocation when advancing the read_ptr to the end." alt="" coords="5,266,202,292"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226" title=" " alt="" coords="260,5,396,46"/>
<area shape="poly" title=" " alt="" coords="108,265,126,225,156,170,197,110,248,57,254,52,257,56,251,61,201,114,161,173,131,227,113,267"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a22920e143abfb93de992f9a14607dea9" title=" " alt="" coords="261,71,394,111"/>
<area shape="poly" title=" " alt="" coords="112,264,165,198,204,158,248,122,257,117,259,121,251,126,208,162,169,202,116,267"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="261,136,394,177"/>
<area shape="poly" title=" " alt="" coords="125,263,248,193,269,182,272,186,251,197,128,268"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="478,164,612,205"/>
<area shape="poly" title=" " alt="" coords="149,263,249,236,463,195,464,200,250,242,150,268"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9" title=" " alt="" coords="250,251,406,307"/>
<area shape="poly" title=" " alt="" coords="202,276,234,276,234,282,202,282"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7cea2fb674c209dc11ca459156b2041" title=" " alt="" coords="261,331,394,371"/>
<area shape="poly" title=" " alt="" coords="147,290,248,323,247,328,145,295"/>
<area shape="rect" href="classfc_1_1message__buffer.html#afa923dc3e69fb4409903c141e2e35a62" title=" " alt="" coords="261,396,394,437"/>
<area shape="poly" title=" " alt="" coords="123,290,178,333,251,381,262,386,259,391,248,385,175,337,119,294"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a84051edbb5bbe011122d7c94edb5070a" title=" " alt="" coords="261,461,394,502"/>
<area shape="poly" title=" " alt="" coords="115,291,167,363,206,407,251,446,259,451,256,456,248,450,203,411,163,366,111,294"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a379d7b684cb512d44740c1e8731348d4" title=" " alt="" coords="261,527,394,567"/>
<area shape="poly" title=" " alt="" coords="112,291,129,333,159,391,200,455,224,485,251,512,257,516,253,520,248,516,220,489,195,458,154,394,125,335,107,293"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a79e090da87bf9c39df42c98ee72c4917" title=" " alt="" coords="478,5,612,46"/>
<area shape="poly" title=" " alt="" coords="396,23,463,23,463,28,396,28"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a00128a76bfce283e52ceebd61c30a544" title=" " alt="" coords="454,71,636,111"/>
<area shape="poly" title=" " alt="" coords="395,88,438,88,438,94,395,94"/>
<area shape="poly" title=" " alt="" coords="395,162,464,171,463,176,394,168"/>
</map>
</div>

</div>
</div>
<a id="a6687d4ea18cd8c8a2244e87202a36dfe" name="a6687d4ea18cd8c8a2244e87202a36dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6687d4ea18cd8c8a2244e87202a36dfe">&#9670;&#160;</a></span>BOOST_AUTO_TEST_CASE() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOST_AUTO_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype">test_message_buffer</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00358">358</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  358</span>                                          {</div>
<div class="line"><span class="lineno">  359</span>   std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  360</span>   <span class="keyword">constexpr</span> <span class="keywordtype">int</span> num_threads = 4;</div>
<div class="line"><span class="lineno">  361</span>   <span class="keyword">constexpr</span> <span class="keywordtype">int</span> iterations = 10000;</div>
<div class="line"><span class="lineno">  362</span>   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; num_threads; ++i) {</div>
<div class="line"><span class="lineno">  363</span>      threads.emplace_back([]{</div>
<div class="line"><span class="lineno">  364</span>         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; iterations; ++i) {</div>
<div class="line"><span class="lineno">  365</span>            <span class="comment">// Use all functions that allocate or free buffers</span></div>
<div class="line"><span class="lineno">  366</span>            <a class="code hl_class" href="classfc_1_1message__buffer.html">fc::message_buffer&lt;def_buffer_size&gt;</a> mb;</div>
<div class="line"><span class="lineno">  367</span>            mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a">add_buffer_to_chain</a>();</div>
<div class="line"><span class="lineno">  368</span>            mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a2df2a20a83e5ba9e0ca7ae56f0f1ff41">add_space</a>(<a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  369</span>            mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd">reset</a>();</div>
<div class="line"><span class="lineno">  370</span>            mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226">advance_write_ptr</a>(<a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  371</span>            mb.<a class="code hl_function" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa">advance_read_ptr</a>(<a class="code hl_variable" href="#a627ee2f70459014afb1a7b59d8f6280f">def_buffer_size</a>);</div>
<div class="line"><span class="lineno">  372</span>         }</div>
<div class="line"><span class="lineno">  373</span>      });</div>
<div class="line"><span class="lineno">  374</span>   }</div>
<div class="line"><span class="lineno">  375</span>   <span class="keywordflow">for</span>(std::thread&amp; t : threads) {</div>
<div class="line"><span class="lineno">  376</span>      t.join();</div>
<div class="line"><span class="lineno">  377</span>   }</div>
<div class="line"><span class="lineno">  378</span>}</div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a49d9f621f19529a42cbfa0de7b9266dd"><div class="ttname"><a href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd">fc::message_buffer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00097">message_buffer.hpp:97</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="test__message__buffer_8cpp_a6687d4ea18cd8c8a2244e87202a36dfe_cgraph.png" border="0" usemap="#atest__message__buffer_8cpp_a6687d4ea18cd8c8a2244e87202a36dfe_cgraph" alt=""/></div>
<map name="atest__message__buffer_8cpp_a6687d4ea18cd8c8a2244e87202a36dfe_cgraph" id="atest__message__buffer_8cpp_a6687d4ea18cd8c8a2244e87202a36dfe_cgraph">
<area shape="rect" title=" " alt="" coords="5,144,202,169"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af82cffc17abe2a14429b1d0b8c319f9a" title=" " alt="" coords="250,5,396,46"/>
<area shape="poly" title=" " alt="" coords="121,141,177,102,248,57,259,51,262,56,251,61,180,106,124,145"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a2df2a20a83e5ba9e0ca7ae56f0f1ff41" title=" " alt="" coords="256,71,390,111"/>
<area shape="poly" title=" " alt="" coords="148,140,241,113,242,118,150,146"/>
<area shape="rect" href="classfc_1_1message__buffer.html#aaf26c3308fd006fad3860f4f2c4111aa" title=" " alt="" coords="256,201,390,242"/>
<area shape="poly" title=" " alt="" coords="150,167,242,195,241,200,148,172"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd" title=" " alt="" coords="444,231,577,271"/>
<area shape="poly" title=" " alt="" coords="120,168,174,212,211,234,250,251,295,261,342,265,429,261,429,267,341,270,294,266,249,256,208,239,171,216,117,172"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a5c055debbcd5603bce13c26364836226" title=" " alt="" coords="255,136,390,177"/>
<area shape="poly" title=" " alt="" coords="202,154,240,154,240,159,202,159"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a79e090da87bf9c39df42c98ee72c4917" title=" " alt="" coords="444,151,577,191"/>
<area shape="poly" title=" " alt="" coords="389,201,428,190,430,196,391,206"/>
<area shape="poly" title=" " alt="" coords="390,229,429,236,428,241,390,235"/>
<area shape="poly" title=" " alt="" coords="391,159,429,162,428,167,391,164"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a627ee2f70459014afb1a7b59d8f6280f" name="a627ee2f70459014afb1a7b59d8f6280f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627ee2f70459014afb1a7b59d8f6280f">&#9670;&#160;</a></span>def_buffer_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t def_buffer_size = 1024*1024*<a class="el" href="#a32f1ed79dd03b093450455fc1742066b">def_buffer_size_mb</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00030">30</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>

</div>
</div>
<a id="a32f1ed79dd03b093450455fc1742066b" name="a32f1ed79dd03b093450455fc1742066b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f1ed79dd03b093450455fc1742066b">&#9670;&#160;</a></span>def_buffer_size_mb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t def_buffer_size_mb = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test__message__buffer_8cpp_source.html#l00029">29</a> of file <a class="el" href="test__message__buffer_8cpp_source.html">test_message_buffer.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_428556e0652617aa37d2f7d8bcaf7fdf.html">libraries</a></li><li class="navelem"><a class="el" href="dir_71436f1774b2d89f0b80ac9efd482f1f.html">fc</a></li><li class="navelem"><a class="el" href="dir_0c422dd11f286140e190d5709e4be443.html">test</a></li><li class="navelem"><a class="el" href="dir_13cf04c55381561f3a5914d65d4c955f.html">network</a></li><li class="navelem"><a class="el" href="test__message__buffer_8cpp.html">test_message_buffer.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
