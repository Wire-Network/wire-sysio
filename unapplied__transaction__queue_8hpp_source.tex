\doxysection{unapplied\+\_\+transaction\+\_\+queue.\+hpp}
\hypertarget{unapplied__transaction__queue_8hpp_source}{}\label{unapplied__transaction__queue_8hpp_source}\index{libraries/chain/include/sysio/chain/unapplied\_transaction\_queue.hpp@{libraries/chain/include/sysio/chain/unapplied\_transaction\_queue.hpp}}
\mbox{\hyperlink{unapplied__transaction__queue_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00001}00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{transaction__metadata_8hpp}{sysio/chain/transaction\_metadata.hpp}}>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{libraries_2chain_2include_2sysio_2chain_2trace_8hpp}{sysio/chain/trace.hpp}}>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{block__state_8hpp}{sysio/chain/block\_state.hpp}}>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp}{sysio/chain/exceptions.hpp}}>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <boost/multi\_index\_container.hpp>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <boost/multi\_index/hashed\_index.hpp>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <boost/multi\_index/member.hpp>}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00012}00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacefc}{fc}}\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00013}\mbox{\hyperlink{namespacefc_a84a53e88f98e144a26071a23f3951847}{00013}}\ \ \ \textcolor{keyword}{inline}\ std::size\_t\ \mbox{\hyperlink{namespacefc_a84a53e88f98e144a26071a23f3951847}{hash\_value}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1sha256}{fc::sha256}}\&\ v\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00014}00014\ \ \ \ \ \ \textcolor{keywordflow}{return}\ v.\_hash[3];}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00015}00015\ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00016}00016\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00018}00018\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesysio}{sysio}}\ \{\ \textcolor{keyword}{namespace\ }chain\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00020}00020\ \textcolor{keyword}{using\ namespace\ }boost::multi\_index;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00022}\mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9b}{00022}}\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9b}{trx\_enum\_type}}\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00023}00023\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9baad921d60486366258809553a3db49a4a}{unknown}}\ =\ 0,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00024}00024\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{persisted}}\ =\ 1,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00025}00025\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba96a3fc7e9e9f98157497c592d3b54730}{forked}}\ =\ 2,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00026}00026\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9badfb7069bfc6e0064a6c667626eca07b4}{aborted}}\ =\ 3,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00027}00027\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{incoming\_persisted}}\ =\ 4,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00028}00028\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca}{incoming}}\ =\ 5\ \textcolor{comment}{//\ incoming\_end()\ needs\ to\ be\ updated\ if\ this\ changes}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00029}00029\ \};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00031}\mbox{\hyperlink{namespacesysio_1_1chain_a47750d720a427777d8c5c17da406b682}{00031}}\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacesysio_1_1chain_a47750d720a427777d8c5c17da406b682}{next\_func\_t}}\ =\ std::function<void(\textcolor{keyword}{const}\ std::variant<fc::exception\_ptr,\ transaction\_trace\_ptr>\&)>;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00033}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{00033}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}}\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00034}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_ad8060f94ecdc85fbedc81bf1025d10f8}{00034}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ad795329e0af850251f4f47cc32e8d770}{transaction\_metadata\_ptr}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_ad8060f94ecdc85fbedc81bf1025d10f8}{trx\_meta}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00035}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a9d9239ababdb97cced44167bc82e3dc3}{00035}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a9d9239ababdb97cced44167bc82e3dc3}{expiry}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00036}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a4d23e5e0d79fa9c6c47360471910f39c}{00036}}\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9b}{trx\_enum\_type}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a4d23e5e0d79fa9c6c47360471910f39c}{trx\_type}}\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9baad921d60486366258809553a3db49a4a}{trx\_enum\_type::unknown}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00037}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_ab630024df2c3a4222031a790d634def2}{00037}}\ \ \ \ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_ab630024df2c3a4222031a790d634def2}{return\_failure\_trace}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00038}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a6b1e1999b57a538dd32df53461ec6c26}{00038}}\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_a47750d720a427777d8c5c17da406b682}{next\_func\_t}}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a6b1e1999b57a538dd32df53461ec6c26}{next}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00040}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a39a0c0fb676c7ee5c251c0ecafec90eb}{00040}}\ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1sha256}{transaction\_id\_type}}\&\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a39a0c0fb676c7ee5c251c0ecafec90eb}{id}}()\textcolor{keyword}{const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_ad8060f94ecdc85fbedc81bf1025d10f8}{trx\_meta}}-\/>id();\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00042}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a5984151c643b92f7dcea76b75eee64a0}{00042}}\ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a5984151c643b92f7dcea76b75eee64a0}{unapplied\_transaction}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00043}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a20027b0bbe7ee9bbfbba49e7bf8afc09}{00043}}\ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a20027b0bbe7ee9bbfbba49e7bf8afc09}{unapplied\_transaction}}()\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00044}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a696a5595a5674d130bb2480a95fc1f41}{00044}}\ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}}\&\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a696a5595a5674d130bb2480a95fc1f41}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00045}\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a48588002dd3884281b417371c40b38f4}{00045}}\ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction_a48588002dd3884281b417371c40b38f4}{unapplied\_transaction}}(\mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00046}00046\ \};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00052}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue}{00052}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue}{unapplied\_transaction\_queue}}\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00053}00053\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00054}00054\ \ \ \ \textcolor{keyword}{struct\ }by\_trx\_id;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00055}00055\ \ \ \ \textcolor{keyword}{struct\ }by\_type;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00056}00056\ \ \ \ \textcolor{keyword}{struct\ }by\_expiry;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00058}00058\ \ \ \ \textcolor{keyword}{typedef}\ multi\_index\_container<\ \mbox{\hyperlink{structsysio_1_1chain_1_1unapplied__transaction}{unapplied\_transaction}},}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00059}00059\ \ \ \ \ \ \ indexed\_by<}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00060}00060\ \ \ \ \ \ \ \ \ \ hashed\_unique<\ tag<by\_trx\_id>,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ const\_mem\_fun<unapplied\_transaction,\ const\ transaction\_id\_type\&,\ \&unapplied\_transaction::id>}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00062}00062\ \ \ \ \ \ \ \ \ \ >,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \ ordered\_non\_unique<\ tag<by\_type>,\ member<unapplied\_transaction,\ trx\_enum\_type,\ \&unapplied\_transaction::trx\_type>\ >,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \ ordered\_non\_unique<\ tag<by\_expiry>,\ member<unapplied\_transaction,\ const\ fc::time\_point,\ \&unapplied\_transaction::expiry>\ >}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00065}00065\ \ \ \ \ \ \ >}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00066}00066\ \ \ \ >\ unapplied\_trx\_queue\_type;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00068}00068\ \ \ \ unapplied\_trx\_queue\_type\ queue;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00069}00069\ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ max\_transaction\_queue\_size\ =\ 1024*1024*1024;\ \textcolor{comment}{//\ enforced\ for\ incoming}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00070}00070\ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ size\_in\_bytes\ =\ 0;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00071}00071\ \ \ \ \textcolor{keywordtype}{size\_t}\ incoming\_count\ =\ 0;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00073}00073\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00075}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ab5d73ba22fee0314d228d1cc9f16e08d}{00075}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ab5d73ba22fee0314d228d1cc9f16e08d}{set\_max\_transaction\_queue\_size}}(\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ v\ )\ \{\ max\_transaction\_queue\_size\ =\ v;\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00076}00076\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00077}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a5a244791044e2d59736ff24339aed822}{00077}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a5a244791044e2d59736ff24339aed822}{empty}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00078}00078\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ queue.empty();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00079}00079\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00080}00080\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00081}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{00081}}\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{size}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00082}00082\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ queue.size();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00083}00083\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00084}00084\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00085}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a36a74a5acca498c05d7a7d7acaae267d}{00085}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a36a74a5acca498c05d7a7d7acaae267d}{clear}}()\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00086}00086\ \ \ \ \ \ \ queue.clear();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00087}00087\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00089}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a2eda9b632f768fb2c1b76133b8d792f0}{00089}}\ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a2eda9b632f768fb2c1b76133b8d792f0}{incoming\_size}}()\textcolor{keyword}{const\ }\{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00090}00090\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ incoming\_count;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00091}00091\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00093}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_aeecdfc8cf255ba408c1c1a42bc83a2d8}{00093}}\ \ \ \ \mbox{\hyperlink{namespacesysio_1_1chain_ad795329e0af850251f4f47cc32e8d770}{transaction\_metadata\_ptr}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_aeecdfc8cf255ba408c1c1a42bc83a2d8}{get\_trx}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1sha256}{transaction\_id\_type}}\&\ \textcolor{keywordtype}{id}\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00094}00094\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ itr\ =\ queue.get<by\_trx\_id>().find(\ \textcolor{keywordtype}{id}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00095}00095\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr\ ==\ queue.get<by\_trx\_id>().end()\ )\ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00096}00096\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ itr-\/>trx\_meta;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00097}00097\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00099}00099\ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Yield,\ \textcolor{keyword}{typename}\ Callback>}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00100}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a0ee4b3f8ad23d7b553e5a0f3224b32d4}{00100}}\ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a0ee4b3f8ad23d7b553e5a0f3224b32d4}{clear\_expired}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classfc_1_1time__point}{time\_point}}\&\ pending\_block\_time,\ Yield\&\&\ yield,\ Callback\&\&\ callback\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00101}00101\ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ persisted\_by\_expiry\ =\ queue.get<by\_expiry>();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00102}00102\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(\ !persisted\_by\_expiry.empty()\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ itr\ =\ persisted\_by\_expiry.begin();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00104}00104\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>expiry\ >\ pending\_block\_time\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00107}00107\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ yield()\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \ callback(\ itr-\/>trx\_meta-\/>packed\_trx(),\ itr-\/>trx\_type\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>next\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \ \ \ itr-\/>next(\ std::static\_pointer\_cast<fc::exception>(}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::make\_shared<expired\_tx\_exception>(}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ error,\ \textcolor{stringliteral}{"{}expired\ transaction\ \$\{id\},\ expiration\ \$\{e\},\ block\ time\ \$\{bt\}"{}},}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}id"{}},\ itr-\/>id())(\textcolor{stringliteral}{"{}e"{}},\ itr-\/>trx\_meta-\/>packed\_trx()-\/>expiration())}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}bt"{}},\ pending\_block\_time)\ )\ )\ )\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00118}00118\ \ \ \ \ \ \ \ \ \ removed(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \ persisted\_by\_expiry.erase(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00120}00120\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00121}00121\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00122}00122\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00124}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ae094df3999abc100626a5fe9f5937561}{00124}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ae094df3999abc100626a5fe9f5937561}{clear\_applied}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ab9b14f4554cc4a0da2c361e9757b1662}{block\_state\_ptr}}\&\ bs\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00125}00125\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a5a244791044e2d59736ff24339aed822}{empty}}()\ )\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00126}00126\ \ \ \ \ \ \ \textcolor{keyword}{auto}\&\ idx\ =\ queue.get<by\_trx\_id>();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00127}00127\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ receipt\ :\ bs-\/>block-\/>transactions\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ std::holds\_alternative<packed\_transaction>(receipt.trx)\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ pt\ =\ std::get<packed\_transaction>(receipt.trx);}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ itr\ =\ idx.find(\ pt.id()\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr\ !=\ idx.end()\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>next\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ itr-\/>next(\ std::static\_pointer\_cast<fc::exception>(\ std::make\_shared<tx\_duplicate>(}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ info,\ \textcolor{stringliteral}{"{}duplicate\ transaction\ \$\{id\}"{}},\ (\textcolor{stringliteral}{"{}id"{}},\ itr-\/>trx\_meta-\/>id())))));}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ removed(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ idx.erase(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00140}00140\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00141}00141\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00143}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a602a769b172f4d7c3737719936f9bc78}{00143}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a602a769b172f4d7c3737719936f9bc78}{add\_forked}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_a3b287e6c2d3717609273c999ef660dea}{branch\_type}}\&\ forked\_branch\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00144}00144\ \ \ \ \ \ \ \textcolor{comment}{//\ forked\_branch\ is\ in\ reverse\ order}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00145}00145\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keyword}{auto}\ ritr\ =\ forked\_branch.rbegin(),\ rend\ =\ forked\_branch.rend();\ ritr\ !=\ rend;\ ++ritr\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ab9b14f4554cc4a0da2c361e9757b1662}{block\_state\_ptr}}\&\ bsptr\ =\ *ritr;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keyword}{auto}\ itr\ =\ bsptr-\/>trxs\_metas().begin(),\ end\ =\ bsptr-\/>trxs\_metas().end();\ itr\ !=\ end;\ ++itr\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ trx\ =\ *itr;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ expiry\ =\ trx-\/>packed\_trx()-\/>expiration();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ insert\_itr\ =\ queue.insert(\ \{\ trx,\ expiry,\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba96a3fc7e9e9f98157497c592d3b54730}{trx\_enum\_type::forked}}\ \}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ insert\_itr.second\ )\ added(\ insert\_itr.first\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00153}00153\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00154}00154\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00155}00155\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00156}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a64a6bf20ec0b7476d2fe310840dc818d}{00156}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a64a6bf20ec0b7476d2fe310840dc818d}{add\_aborted}}(\ std::vector<transaction\_metadata\_ptr>\ aborted\_trxs\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00157}00157\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\ \textcolor{keyword}{auto}\&\ trx\ :\ aborted\_trxs\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ expiry\ =\ trx-\/>packed\_trx()-\/>expiration();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ insert\_itr\ =\ queue.insert(\ \{\ std::move(\ trx\ ),\ expiry,\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9badfb7069bfc6e0064a6c667626eca07b4}{trx\_enum\_type::aborted}}\ \}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ insert\_itr.second\ )\ added(\ insert\_itr.first\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00161}00161\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00162}00162\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00163}00163\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00164}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_acd50dff0ab430cf89bd62ea2ab20d88d}{00164}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_acd50dff0ab430cf89bd62ea2ab20d88d}{add\_persisted}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ad795329e0af850251f4f47cc32e8d770}{transaction\_metadata\_ptr}}\&\ trx\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00165}00165\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ itr\ =\ queue.get<by\_trx\_id>().find(\ trx-\/>id()\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00166}00166\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr\ ==\ queue.get<by\_trx\_id>().end()\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ expiry\ =\ trx-\/>packed\_trx()-\/>expiration();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ insert\_itr\ =\ queue.insert(\ \{\ trx,\ expiry,\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{trx\_enum\_type::persisted}}\ \}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ insert\_itr.second\ )\ added(\ insert\_itr.first\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00170}00170\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\ itr-\/>trx\_type\ !=\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{trx\_enum\_type::persisted}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca}{trx\_enum\_type::incoming}}\ ||\ itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{trx\_enum\_type::incoming\_persisted}})}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ -\/-\/incoming\_count;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00173}00173\ \ \ \ \ \ \ \ \ \ queue.get<by\_trx\_id>().modify(\ itr,\ [](\textcolor{keyword}{auto}\&\ un)\{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ un.trx\_type\ =\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{trx\_enum\_type::persisted}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00176}00176\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00177}00177\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00179}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a62430ce9cd5b76afb9121dd00a01f047}{00179}}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a62430ce9cd5b76afb9121dd00a01f047}{add\_incoming}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ad795329e0af850251f4f47cc32e8d770}{transaction\_metadata\_ptr}}\&\ trx,\ \textcolor{keywordtype}{bool}\ persist\_until\_expired,\ \textcolor{keywordtype}{bool}\ return\_failure\_trace,\ \mbox{\hyperlink{namespacesysio_1_1chain_a47750d720a427777d8c5c17da406b682}{next\_func\_t}}\ next\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00180}00180\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ itr\ =\ queue.get<by\_trx\_id>().find(\ trx-\/>id()\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00181}00181\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr\ ==\ queue.get<by\_trx\_id>().end()\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classfc_1_1time__point}{fc::time\_point}}\ expiry\ =\ trx-\/>packed\_trx()-\/>expiration();}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ insert\_itr\ =\ queue.insert(}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ trx,\ expiry,\ persist\_until\_expired\ ?\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{trx\_enum\_type::incoming\_persisted}}\ :\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca}{trx\_enum\_type::incoming}},\ return\_failure\_trace,\ std::move(\ next\ )\ \}\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ insert\_itr.second\ )\ added(\ insert\_itr.first\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00186}00186\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>trx\_meta\ ==\ trx\ )\ \textcolor{keywordflow}{return};\ \textcolor{comment}{//\ same\ trx\ meta\ pointer}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ next\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ next(\ std::static\_pointer\_cast<fc::exception>(\ std::make\_shared<tx\_duplicate>(}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00190}00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{log__message_8hpp_a4a4df4bb5cffbe07aadf7d29fd44c75e}{FC\_LOG\_MESSAGE}}(\ info,\ \textcolor{stringliteral}{"{}duplicate\ transaction\ \$\{id\}"{}},\ (\textcolor{stringliteral}{"{}id"{}},\ trx-\/>id())\ )\ )\ )\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00192}00192\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00193}00193\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00194}00194\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00195}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{00195}}\ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ =\ unapplied\_trx\_queue\_type::index<by\_type>::type::iterator;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00196}00196\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00197}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a00c597dcd59f3f2008f6950dab21889c}{00197}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a00c597dcd59f3f2008f6950dab21889c}{begin}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a00c597dcd59f3f2008f6950dab21889c}{begin}}();\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00198}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abb075082079145efb8165a652ca5858a}{00198}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abb075082079145efb8165a652ca5858a}{end}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abb075082079145efb8165a652ca5858a}{end}}();\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00199}00199\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00200}00200\ \ \ \ \textcolor{comment}{//\ persisted,\ forked,\ aborted}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00201}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a5906b1ee94fa2e09ae0eaa8d5cbd3711}{00201}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a5906b1ee94fa2e09ae0eaa8d5cbd3711}{unapplied\_begin}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a00c597dcd59f3f2008f6950dab21889c}{begin}}();\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00202}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a428508ff4641d3bf3503fa304696133d}{00202}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a428508ff4641d3bf3503fa304696133d}{unapplied\_end}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().upper\_bound(\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9badfb7069bfc6e0064a6c667626eca07b4}{trx\_enum\_type::aborted}}\ );\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00204}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ac9f23f3629b373f5dd2f62a960472562}{00204}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ac9f23f3629b373f5dd2f62a960472562}{persisted\_begin}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().lower\_bound(\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{trx\_enum\_type::persisted}}\ );\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00205}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a49e515ce9a15ee839fbd8990c8bcb388}{00205}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a49e515ce9a15ee839fbd8990c8bcb388}{persisted\_end}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().upper\_bound(\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba3af65799b58d5c9938325b3af06a0d91}{trx\_enum\_type::persisted}}\ );\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00206}00206\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00207}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a581b5bfdb66db1dba220db3103d78631}{00207}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a581b5bfdb66db1dba220db3103d78631}{incoming\_begin}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().lower\_bound(\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{trx\_enum\_type::incoming\_persisted}}\ );\ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00208}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ac15fce39af8a270bc242c4c09006daec}{00208}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_ac15fce39af8a270bc242c4c09006daec}{incoming\_end}}()\ \{\ \textcolor{keywordflow}{return}\ queue.get<by\_type>().\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abb075082079145efb8165a652ca5858a}{end}}();\ \}\ \textcolor{comment}{//\ if\ changed\ to\ upper\_bound,\ verify\ usage\ performance}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00209}00209\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00211}\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a60c602838e90f62ba458d569cf52dfe5}{00211}}\ \ \ \ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a60c602838e90f62ba458d569cf52dfe5}{erase}}(\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_abd162411f4213438995a770f97afbdfb}{iterator}}\ itr\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00212}00212\ \ \ \ \ \ \ removed(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00213}00213\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ queue.get<by\_type>().\mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a60c602838e90f62ba458d569cf52dfe5}{erase}}(\ itr\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00214}00214\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00215}00215\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00216}00216\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00217}00217\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Itr>}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00218}00218\ \ \ \ \textcolor{keywordtype}{void}\ added(\ Itr\ itr\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00219}00219\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{size}}\ =\ calc\_size(\ itr-\/>trx\_meta\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00220}00220\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca}{trx\_enum\_type::incoming}}\ ||\ itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{trx\_enum\_type::incoming\_persisted}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00221}00221\ \ \ \ \ \ \ \ \ \ ++incoming\_count;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp_a40c2826a6fba35c1ffbf912bdf559792}{SYS\_ASSERT}}(\ size\_in\_bytes\ +\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{size}}\ <\ max\_transaction\_queue\_size,\ tx\_resource\_exhaustion,}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Transaction\ \$\{id\},\ size\ \$\{s\}\ bytes\ would\ exceed\ configured\ "{}}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}incoming-\/transaction-\/queue-\/size-\/mb\ \$\{qs\},\ current\ queue\ size\ \$\{cs\}\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}id"{}},\ itr-\/>trx\_meta-\/>id())(\textcolor{stringliteral}{"{}s"{}},\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{size}})(\textcolor{stringliteral}{"{}qs"{}},\ max\_transaction\_queue\_size/(1024*1024))}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}cs"{}},\ size\_in\_bytes)\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00227}00227\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00228}00228\ \ \ \ \ \ \ size\_in\_bytes\ +=\ \mbox{\hyperlink{classsysio_1_1chain_1_1unapplied__transaction__queue_a7fb8cf5dfb622f9e619be9a4bb5eeba8}{size}};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00229}00229\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00231}00231\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Itr>}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00232}00232\ \ \ \ \textcolor{keywordtype}{void}\ removed(\ Itr\ itr\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00233}00233\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\ itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9bad48f944ac6c78b97d544f98b89b506ca}{trx\_enum\_type::incoming}}\ ||\ itr-\/>trx\_type\ ==\ \mbox{\hyperlink{namespacesysio_1_1chain_affd9603ab5a713a9762157b12c8f6b9ba19690ad10dec174fbc20e26d31019121}{trx\_enum\_type::incoming\_persisted}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \ -\/-\/incoming\_count;}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00235}00235\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00236}00236\ \ \ \ \ \ \ size\_in\_bytes\ -\/=\ calc\_size(\ itr-\/>trx\_meta\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00237}00237\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00239}00239\ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ calc\_size(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacesysio_1_1chain_ad795329e0af850251f4f47cc32e8d770}{transaction\_metadata\_ptr}}\&\ trx\ )\ \{}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00240}00240\ \ \ \ \ \ \ \textcolor{comment}{//\ packed\_trx\ caches\ unpacked\ transaction\ so\ double}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00241}00241\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (trx-\/>packed\_trx()-\/>get\_unprunable\_size()\ +\ trx-\/>packed\_trx()-\/>get\_prunable\_size())\ *\ 2\ +\ \textcolor{keyword}{sizeof}(\ *trx\ );}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00242}00242\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00244}00244\ \};}
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00245}00245\ }
\DoxyCodeLine{\Hypertarget{unapplied__transaction__queue_8hpp_source_l00246}00246\ \}\ \}\ \textcolor{comment}{//sysio::chain}}

\end{DoxyCode}
