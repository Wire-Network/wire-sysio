<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: ci-and-misc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_libraries_2sys-vm_2external_2_catch2_2docs_2ci-and-misc.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ci-and-misc</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="top"></a> </p><h1>CI and other odd pieces</h1>
<p><b>Contents</b><br  />
 Continuous Integration systems<br  />
 Other reporters<br  />
 Low-level tools<br  />
 CMake<br  />
</p>
<p>This page talks about how <a class="el" href="namespace_catch.html">Catch</a> integrates with Continuous Integration Build Systems may refer to low-level tools, like CMake, or larger systems that run on servers, like Jenkins or TeamCity. This page will talk about both.</p>
<h2>Continuous Integration systems</h2>
<p>Probably the most important aspect to using <a class="el" href="namespace_catch.html">Catch</a> with a build server is the use of different reporters. <a class="el" href="namespace_catch.html">Catch</a> comes bundled with three reporters that should cover the majority of build servers out there - although adding more for better integration with some is always a possibility (currently we also offer TeamCity, TAP and Automake reporters).</p>
<p>Two of these reporters are built in (XML and JUnit) and the third (TeamCity) is included as a separate header. It's possible that the other two may be split out in the future too - as that would make the core of <a class="el" href="namespace_catch.html">Catch</a> smaller for those that don't need them.</p>
<h3>XML Reporter</h3>
<div class="fragment"><div class="line">-r xml</div>
</div><!-- fragment --><p>The XML Reporter writes in an XML format that is specific to <a class="el" href="namespace_catch.html">Catch</a>.</p>
<p>The advantage of this format is that it corresponds well to the way <a class="el" href="namespace_catch.html">Catch</a> works (especially the more unusual features, such as nested sections) and is a fully streaming format - that is it writes output as it goes, without having to store up all its results before it can start writing.</p>
<p>The disadvantage is that, being specific to <a class="el" href="namespace_catch.html">Catch</a>, no existing build servers understand the format natively. It can be used as input to an XSLT transformation that could convert it to, say, HTML - although this loses the streaming advantage, of course.</p>
<h3>JUnit Reporter</h3>
<div class="fragment"><div class="line">-r junit</div>
</div><!-- fragment --><p>The JUnit Reporter writes in an XML format that mimics the JUnit ANT schema.</p>
<p>The advantage of this format is that the JUnit Ant schema is widely understood by most build servers and so can usually be consumed with no additional work.</p>
<p>The disadvantage is that this schema was designed to correspond to how JUnit works - and there is a significant mismatch with how <a class="el" href="namespace_catch.html">Catch</a> works. Additionally the format is not streamable (because opening elements hold counts of failed and passing tests as attributes) - so the whole test run must complete before it can be written.</p>
<h2>Other reporters</h2>
<p>Other reporters are not part of the single-header distribution and need to be downloaded and included separately. All reporters are stored in <code>single_include</code> directory in the git repository, and are named <code>catch_reporter_*.hpp</code>. For example, to use the TeamCity reporter you need to download <code>single_include/catch_reporter_teamcity.hpp</code> and include it after <a class="el" href="namespace_catch.html">Catch</a> itself.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define CATCH_CONFIG_MAIN</span></div>
<div class="line"><span class="preprocessor">#include &quot;catch.hpp&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;catch_reporter_teamcity.hpp&quot;</span></div>
</div><!-- fragment --><h3>TeamCity Reporter</h3>
<div class="fragment"><div class="line">-r teamcity</div>
</div><!-- fragment --><p>The TeamCity Reporter writes TeamCity service messages to stdout. In order to be able to use this reporter an additional header must also be included.</p>
<p>Being specific to TeamCity this is the best reporter to use with it - but it is completely unsuitable for any other purpose. It is a streaming format (it writes as it goes) - although test results don't appear in the TeamCity interface until the completion of a suite (usually the whole test run).</p>
<h3>Automake Reporter</h3>
<div class="fragment"><div class="line">-r automake</div>
</div><!-- fragment --><p>The Automake Reporter writes out the <a href="https://www.gnu.org/software/automake/manual/html_node/Log-files-generation-and-test-results-recording.html#Log-files-generation-and-test-results-recording">meta tags</a> expected by automake via <code>make check</code>.</p>
<h3>TAP (<a class="el" href="class_test.html">Test</a> Anything Protocol) Reporter</h3>
<div class="fragment"><div class="line">-r tap</div>
</div><!-- fragment --><p>Because of the incremental nature of <a class="el" href="namespace_catch.html">Catch</a>'s test suites and ability to run specific tests, our implementation of TAP reporter writes out the number of tests in a suite last.</p>
<h2>Low-level tools</h2>
<h3>Precompiled headers (PCHs)</h3>
<p><a class="el" href="namespace_catch.html">Catch</a> offers prototypal support for being included in precompiled headers, but because of its single-header nature it does need some actions by the user:</p><ul>
<li>The precompiled header needs to define <code>CATCH_CONFIG_ALL_PARTS</code></li>
<li>The implementation file needs to<ul>
<li>undefine <code>TWOBLUECUBES_SINGLE_INCLUDE_CATCH_HPP_INCLUDED</code></li>
<li>define <code>CATCH_CONFIG_IMPL_ONLY</code></li>
<li>define <code>CATCH_CONFIG_MAIN</code> or <code>CATCH_CONFIG_RUNNER</code></li>
<li>include "catch.hpp" again</li>
</ul>
</li>
</ul>
<h3>CodeCoverage module (GCOV, LCOV...)</h3>
<p>If you are using GCOV tool to get testing coverage of your code, and are not sure how to integrate it with CMake and <a class="el" href="namespace_catch.html">Catch</a>, there should be an external example over at <a href="https://github.com/fkromer/catch_cmake_coverage">https://github.com/fkromer/catch_cmake_coverage</a></p>
<h3>pkg-config</h3>
<p>Catch2 provides a rudimentary pkg-config integration, by registering itself under the name <code>catch2</code>. This means that after Catch2 is installed, you can use <code>pkg-config</code> to get its include path: <code>pkg-config --cflags catch2</code>.</p>
<h3>gdb and lldb scripts</h3>
<p>Catch2's <code>contrib</code> folder also contains two simple debugger scripts, <code>gdbinit</code> for <code>gdb</code> and <code>lldbinit</code> for <code>lldb</code>. If loaded into their respective debugger, these will tell it to step over Catch2's internals when stepping through code.</p>
<h2>CMake</h2>
<p><a href="cmake-integration.md#top">As it has been getting kinda long, the documentation of Catch2's integration with CMake has been moved to its own page.</a></p>
<hr  />
<p><a href="Readme.md#top">Home</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
