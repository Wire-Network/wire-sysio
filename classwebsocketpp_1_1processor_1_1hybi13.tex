\doxysection{websocketpp\+::processor\+::hybi13\texorpdfstring{$<$}{<} config \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{classwebsocketpp_1_1processor_1_1hybi13}{}\label{classwebsocketpp_1_1processor_1_1hybi13}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}


Processor for Hybi version 13 (RFC6455)  




{\ttfamily \#include $<$hybi13.\+hpp$>$}



Inheritance diagram for websocketpp\+::processor\+::hybi13\texorpdfstring{$<$}{<} config \texorpdfstring{$>$}{>}\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=203pt]{classwebsocketpp_1_1processor_1_1hybi13__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for websocketpp\+::processor\+::hybi13\texorpdfstring{$<$}{<} config \texorpdfstring{$>$}{>}\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{processor}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a998518d18c6fb3298e54d4c39962bf46}{base}}
\item 
typedef config\+::request\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}}
\item 
typedef config\+::response\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}}
\item 
typedef config\+::message\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7470e64efd663c512ff63ce2b51b84e8}{message\+\_\+type}}
\item 
typedef message\+\_\+type\+::ptr \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}
\item 
typedef config\+::con\+\_\+msg\+\_\+manager\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5794ccbbdae4bed3def2f630583cfcb2}{msg\+\_\+manager\+\_\+type}}
\item 
typedef msg\+\_\+manager\+\_\+type\+::ptr \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}{msg\+\_\+manager\+\_\+ptr}}
\item 
typedef config\+::rng\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}{rng\+\_\+type}}
\item 
typedef config\+::permessage\+\_\+deflate\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af4f117355cb9a19e13bf7134f88e1f89}{permessage\+\_\+deflate\+\_\+type}}
\item 
typedef std\+::pair$<$ lib\+::error\+\_\+code, std\+::string $>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{websocketpp\+::processor\+::processor$<$ config $>$}}}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{processor}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a21b9316fbb38a4490cf473a1f0c10edc}{type}}
\item 
typedef config\+::request\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a7d1a063e89720096f33d4b888d2fb677}{request\+\_\+type}}
\item 
typedef config\+::response\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ac9a4d76dd00032f8843374be6fa214b1}{response\+\_\+type}}
\item 
typedef config\+::message\+\_\+type\+::ptr \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}}
\item 
typedef std\+::pair$<$ lib\+::error\+\_\+code, std\+::string $>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aee76e1fc767ad43222e2224dbc33a6d6}{err\+\_\+str\+\_\+pair}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf}{hybi13}} (bool secure, bool p\+\_\+is\+\_\+server, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}{msg\+\_\+manager\+\_\+ptr}} manager, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}{rng\+\_\+type}} \&rng)
\item 
int \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}{get\+\_\+version}} () const
\begin{DoxyCompactList}\small\item\em Get the protocol version of this processor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af6ad6f16537a2d6c389c56f6cfaf3c57}{has\+\_\+permessage\+\_\+deflate}} () const
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1}{negotiate\+\_\+extensions}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&request)
\begin{DoxyCompactList}\small\item\em Initializes extensions based on the Sec-\/\+Web\+Socket-\/\+Extensions header. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3}{negotiate\+\_\+extensions}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} const \&response)
\begin{DoxyCompactList}\small\item\em Initializes extensions based on the Sec-\/\+Web\+Socket-\/\+Extensions header. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename header\+\_\+type $>$ }\\\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393}{negotiate\+\_\+extensions\+\_\+helper}} (header\+\_\+type const \&header)
\begin{DoxyCompactList}\small\item\em Extension negotiation helper function. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c}{validate\+\_\+handshake}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}) const
\begin{DoxyCompactList}\small\item\em validate a Web\+Socket handshake request for this version \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383}{process\+\_\+handshake}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&request, std\+::string const \&subprotocol, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} \&response) const
\begin{DoxyCompactList}\small\item\em Calculate the appropriate response for this websocket request. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38}{client\+\_\+handshake\+\_\+request}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} \&req, \mbox{\hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1uri}{uri}}, std\+::vector$<$ std\+::string $>$ const \&subprotocols) const
\begin{DoxyCompactList}\small\item\em Fill in a set of request headers for a client connection request. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8}{validate\+\_\+server\+\_\+handshake\+\_\+response}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&req, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} \&res) const
\begin{DoxyCompactList}\small\item\em Validate the server\textquotesingle{}s response to an outgoing handshake request. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26}{get\+\_\+raw}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} const \&res) const
\begin{DoxyCompactList}\small\item\em Given a completed response, get the raw bytes to put on the wire. \end{DoxyCompactList}\item 
std\+::string const \& \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d7d6e203cbc4d76bbebcc69f1b01ab0}{get\+\_\+origin}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}) const
\begin{DoxyCompactList}\small\item\em Return the value of the header containing the CORS origin. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34}{extract\+\_\+subprotocols}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&req, std\+::vector$<$ std\+::string $>$ \&subprotocol\+\_\+list)
\begin{DoxyCompactList}\small\item\em Extracts requested subprotocols from a handshake request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0}{get\+\_\+uri}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&request) const
\begin{DoxyCompactList}\small\item\em Extracts client uri from a handshake request. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659}{consume}} (\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}, size\+\_\+t \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}, lib\+::error\+\_\+code \&ec)
\begin{DoxyCompactList}\small\item\em Process new websocket connection bytes. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05}{finalize\+\_\+message}} ()
\begin{DoxyCompactList}\small\item\em Perform any finalization actions on an incoming message. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}{reset\+\_\+headers}} ()
\item 
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{ready}} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_test}{Test} whether or not the processor has a message ready. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd}{get\+\_\+message}} ()
\begin{DoxyCompactList}\small\item\em Retrieves the most recently processed message. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be}{get\+\_\+error}} () const
\begin{DoxyCompactList}\small\item\em \doxylink{class_test}{Test} whether or not the processor is in a fatal error state. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92}{get\+\_\+bytes\+\_\+needed}} () const
\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab}{prepare\+\_\+data\+\_\+frame}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} out)
\begin{DoxyCompactList}\small\item\em Prepare a user data message for writing. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961}{prepare\+\_\+ping}} (std\+::string const \&in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} out) const
\begin{DoxyCompactList}\small\item\em Get URI. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321}{prepare\+\_\+pong}} (std\+::string const \&in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} out) const
\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d}{prepare\+\_\+close}} (\mbox{\hyperlink{namespacewebsocketpp_1_1close_1_1status_a8614a5c4733d708e2d2a32191c5bef84}{close\+::status\+::value}} code, std\+::string const \&reason, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} out) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{websocketpp\+::processor\+::processor$<$ config $>$}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a7313d1efc0cccc44451c4acabc0e7256}{processor}} (bool secure, bool p\+\_\+is\+\_\+server)
\item 
virtual \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_af0f5fc4da52c89b9d1b1ea1318d2101d}{\texorpdfstring{$\sim$}{\string~}processor}} ()
\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ade6eea6e4c97065030ed9106613d47f9}{get\+\_\+max\+\_\+message\+\_\+size}} () const
\begin{DoxyCompactList}\small\item\em Get maximum message size. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ad412d33b168539dfbfa1d7e89908c5d1}{set\+\_\+max\+\_\+message\+\_\+size}} (size\+\_\+t new\+\_\+value)
\begin{DoxyCompactList}\small\item\em Set maximum message size. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aadfe0d42b76757aba603d9cc06c9ffd1}{has\+\_\+permessage\+\_\+compress}} () const
\begin{DoxyCompactList}\small\item\em Returns whether or not the permessage\+\_\+compress extension is implemented. \end{DoxyCompactList}\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a1345763249867d742390aa8e2076cb70}{prepare\+\_\+data\+\_\+frame}} (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}} in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}} out)=0
\begin{DoxyCompactList}\small\item\em Prepare a data message for writing. \end{DoxyCompactList}\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aae3f34ae169c9b5e588cf268e310d6e2}{prepare\+\_\+ping}} (std\+::string const \&in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}} out) const =0
\begin{DoxyCompactList}\small\item\em Prepare a ping frame. \end{DoxyCompactList}\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_afc8206bfe447a461d0e30a969b0af859}{prepare\+\_\+pong}} (std\+::string const \&in, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}} out) const =0
\begin{DoxyCompactList}\small\item\em Prepare a pong frame. \end{DoxyCompactList}\item 
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a189c400df6f5e325291794cb62053911}{prepare\+\_\+close}} (\mbox{\hyperlink{namespacewebsocketpp_1_1close_1_1status_a8614a5c4733d708e2d2a32191c5bef84}{close\+::status\+::value}} code, std\+::string const \&reason, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aa7946fc516a2001f5ffb5cb3fa1fbcbc}{message\+\_\+ptr}} out) const =0
\begin{DoxyCompactList}\small\item\em Prepare a close frame. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}{state}} \{ \newline
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be}{HEADER\+\_\+\+BASIC}} = 0
, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5}{HEADER\+\_\+\+EXTENDED}} = 1
, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04}{EXTENSION}} = 2
, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}{APPLICATION}} = 3
, \newline
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}{READY}} = 4
, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617}{FATAL\+\_\+\+ERROR}} = 5
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}{process\+\_\+handshake\+\_\+key}} (std\+::string \&key) const
\begin{DoxyCompactList}\small\item\em Convert a client handshake key into a server response key in place. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}{copy\+\_\+basic\+\_\+header\+\_\+bytes}} (\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} const \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}, size\+\_\+t \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}})
\begin{DoxyCompactList}\small\item\em Reads bytes from buf into m\+\_\+basic\+\_\+header. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}{copy\+\_\+extended\+\_\+header\+\_\+bytes}} (\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} const \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}, size\+\_\+t \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}})
\begin{DoxyCompactList}\small\item\em Reads bytes from buf into m\+\_\+extended\+\_\+header. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}{process\+\_\+payload\+\_\+bytes}} (\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}, size\+\_\+t \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}, lib\+::error\+\_\+code \&ec)
\begin{DoxyCompactList}\small\item\em Reads bytes from buf into message payload. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}{validate\+\_\+incoming\+\_\+basic\+\_\+header}} (\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}} const \&h, bool is\+\_\+server, bool new\+\_\+msg) const
\begin{DoxyCompactList}\small\item\em Validate an incoming basic header. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}{validate\+\_\+incoming\+\_\+extended\+\_\+header}} (\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}} h, \mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header}} e) const
\begin{DoxyCompactList}\small\item\em Validate an incoming extended header. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{masked\+\_\+copy}} (std\+::string const \&i, std\+::string \&o, \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a8bdac8ec44c78c027fcf55aa3bad3f86}{frame\+::masking\+\_\+key\+\_\+type}} key) const
\begin{DoxyCompactList}\small\item\em Copy and mask/unmask in one operation. \end{DoxyCompactList}\item 
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{prepare\+\_\+control}} (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5e}{frame\+::opcode\+::value}} \mbox{\hyperlink{unionop}{op}}, std\+::string const \&payload, \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} out) const
\begin{DoxyCompactList}\small\item\em Generic prepare control frame with opcode and payload. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\+\_\+basic\+\_\+header}}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}{msg\+\_\+manager\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}{m\+\_\+msg\+\_\+manager}}
\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\+\_\+bytes\+\_\+needed}}
\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}{m\+\_\+cursor}}
\item 
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\+\_\+data\+\_\+msg}}
\item 
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}{m\+\_\+control\+\_\+msg}}
\item 
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\+\_\+current\+\_\+msg}}
\item 
\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\+\_\+extended\+\_\+header}}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}{rng\+\_\+type}} \& \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{m\+\_\+rng}}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}{state}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\+\_\+state}}
\item 
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af4f117355cb9a19e13bf7134f88e1f89}{permessage\+\_\+deflate\+\_\+type}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\+\_\+permessage\+\_\+deflate}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{websocketpp\+::processor\+::processor$<$ config $>$}}}
\begin{DoxyCompactItemize}
\item 
bool const \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aebab411b1ca4d8ab32ee8c13afcf9274}{m\+\_\+secure}}
\item 
bool const \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a584edc3698f98e6eb85ab280f491ac9d}{m\+\_\+server}}
\item 
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a74984af956fccae7e045743cf8ac23b4}{m\+\_\+max\+\_\+message\+\_\+size}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename \mbox{\hyperlink{classconfig}{config}}$>$\newline
class websocketpp\+::processor\+::hybi13$<$ config $>$}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00054}{54}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.



\doxysubsection{Member Typedef Documentation}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a998518d18c6fb3298e54d4c39962bf46}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!base@{base}}
\index{base@{base}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{base}{base}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a998518d18c6fb3298e54d4c39962bf46} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor}{processor}}$<$\mbox{\hyperlink{classconfig}{config}}$>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::base}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00056}{56}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!err\_str\_pair@{err\_str\_pair}}
\index{err\_str\_pair@{err\_str\_pair}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{err\_str\_pair}{err\_str\_pair}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
std\+::pair$<$lib\+::error\+\_\+code,std\+::string$>$ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::err\+\_\+str\+\_\+pair}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00070}{70}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!message\_ptr@{message\_ptr}}
\index{message\_ptr@{message\_ptr}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{message\_ptr}{message\_ptr}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
message\+\_\+type\+::ptr \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\mbox{\hyperlink{debug__client_8cpp_a08398c4d31a4dc3e42d1b9a9ef64c6ad}{\+::message\+\_\+ptr}}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00062}{62}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a7470e64efd663c512ff63ce2b51b84e8}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!message\_type@{message\_type}}
\index{message\_type@{message\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{message\_type}{message\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a7470e64efd663c512ff63ce2b51b84e8} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::message\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::message\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00061}{61}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!msg\_manager\_ptr@{msg\_manager\_ptr}}
\index{msg\_manager\_ptr@{msg\_manager\_ptr}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{msg\_manager\_ptr}{msg\_manager\_ptr}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
msg\+\_\+manager\+\_\+type\+::ptr \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::msg\+\_\+manager\+\_\+ptr}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00065}{65}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5794ccbbdae4bed3def2f630583cfcb2}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!msg\_manager\_type@{msg\_manager\_type}}
\index{msg\_manager\_type@{msg\_manager\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{msg\_manager\_type}{msg\_manager\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a5794ccbbdae4bed3def2f630583cfcb2} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::con\+\_\+msg\+\_\+manager\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::msg\+\_\+manager\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00064}{64}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af4f117355cb9a19e13bf7134f88e1f89}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!permessage\_deflate\_type@{permessage\_deflate\_type}}
\index{permessage\_deflate\_type@{permessage\_deflate\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{permessage\_deflate\_type}{permessage\_deflate\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_af4f117355cb9a19e13bf7134f88e1f89} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::permessage\+\_\+deflate\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::permessage\+\_\+deflate\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00068}{68}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!request\_type@{request\_type}}
\index{request\_type@{request\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{request\_type}{request\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::request\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::request\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00058}{58}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!response\_type@{response\_type}}
\index{response\_type@{response\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{response\_type}{response\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::response\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::response\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00059}{59}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!rng\_type@{rng\_type}}
\index{rng\_type@{rng\_type}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{rng\_type}{rng\_type}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
config\+::rng\+\_\+type \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::rng\+\_\+type}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00066}{66}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.



\doxysubsection{Member Enumeration Documentation}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!state@{state}}
\index{state@{state}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
enum \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}{websocketpp\+::processor\+::hybi13\+::state}}\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyEnumFields}[2]{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{HEADER\_BASIC@{HEADER\_BASIC}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!HEADER\_BASIC@{HEADER\_BASIC}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
HEADER\+\_\+\+BASIC&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{HEADER\_EXTENDED@{HEADER\_EXTENDED}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!HEADER\_EXTENDED@{HEADER\_EXTENDED}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
HEADER\+\_\+\+EXTENDED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{EXTENSION@{EXTENSION}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!EXTENSION@{EXTENSION}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
EXTENSION&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{APPLICATION@{APPLICATION}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!APPLICATION@{APPLICATION}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
APPLICATION&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{READY@{READY}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!READY@{READY}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
READY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{FATAL\_ERROR@{FATAL\_ERROR}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!FATAL\_ERROR@{FATAL\_ERROR}}}\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617}\label{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d} 
FATAL\+\_\+\+ERROR&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00997}{997}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00997\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00998\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be}{HEADER\_BASIC}}\ =\ 0,}
\DoxyCodeLine{00999\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5}{HEADER\_EXTENDED}}\ =\ 1,}
\DoxyCodeLine{01000\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04}{EXTENSION}}\ =\ 2,}
\DoxyCodeLine{01001\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}{APPLICATION}}\ =\ 3,}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}{READY}}\ =\ 4,}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617}{FATAL\_ERROR}}\ =\ 5}
\DoxyCodeLine{01004\ \ \ \ \ \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!hybi13@{hybi13}}
\index{hybi13@{hybi13}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{hybi13()}{hybi13()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::hybi13 (\begin{DoxyParamCaption}\item[{bool}]{secure}{, }\item[{bool}]{p\+\_\+is\+\_\+server}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}{msg\+\_\+manager\+\_\+ptr}}}]{manager}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}{rng\+\_\+type}} \&}]{rng}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00072}{72}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00073\ \ \ \ \ \ \ :\ processor<config>(secure,\ p\_is\_server)}
\DoxyCodeLine{00074\ \ \ \ \ \ \ ,\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}{m\_msg\_manager}}(manager)}
\DoxyCodeLine{00075\ \ \ \ \ \ \ ,\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{m\_rng}}(rng)}
\DoxyCodeLine{00076\ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}{reset\_headers}}();}
\DoxyCodeLine{00078\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_af07830f45e2733bd75db70fe951416cf_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!client\_handshake\_request@{client\_handshake\_request}}
\index{client\_handshake\_request@{client\_handshake\_request}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{client\_handshake\_request()}{client\_handshake\_request()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::client\+\_\+handshake\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} \&}]{req}{, }\item[{\mbox{\hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr}}}]{uri}{, }\item[{std\+::vector$<$ std\+::string $>$ const \&}]{subprotocols}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em req} & Set of headers to fill in \\
\hline
\mbox{\texttt{ in}}  & {\em uri} & The uri being connected to \\
\hline
\mbox{\texttt{ in}}  & {\em subprotocols} & The list of subprotocols to request \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ab5bc7b8f480ee28049f44232115bcaab}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00215}{215}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00217\ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ req.set\_method(\textcolor{stringliteral}{"{}GET"{}});}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ req.set\_uri(uri-\/>get\_resource());}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ req.set\_version(\textcolor{stringliteral}{"{}HTTP/1.1"{}});}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ req.append\_header(\textcolor{stringliteral}{"{}Upgrade"{}},\textcolor{stringliteral}{"{}websocket"{}});}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ req.append\_header(\textcolor{stringliteral}{"{}Connection"{}},\textcolor{stringliteral}{"{}Upgrade"{}});}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ req.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Version"{}},\textcolor{stringliteral}{"{}13"{}});}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ req.replace\_header(\textcolor{stringliteral}{"{}Host"{}},uri-\/>get\_host\_port());}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!subprotocols.empty())\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ std::ostringstream\ result;}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<std::string>::const\_iterator\ it\ =\ subprotocols.begin();}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ result\ <<\ *it++;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (it\ !=\ subprotocols.end())\ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ <<\ \textcolor{stringliteral}{"{},\ "{}}\ <<\ *it++;}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ req.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Protocol"{}},result.str());}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Generate\ handshake\ key}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ frame::uint32\_converter\ conv;}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ raw\_key[16];}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)\ \{}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ conv.i\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{m\_rng}}();}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ std::copy(conv.c,conv.c+4,\&raw\_key[i*4]);}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ req.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Key"{}},\mbox{\hyperlink{namespacewebsocketpp_aff36d40583424a2c879df02219133af8}{base64\_encode}}(raw\_key,\ 16));}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_implemented())\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ offer\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.generate\_offer();}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!offer.empty())\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ req.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Extensions"{}},offer);}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00257\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a587360571f5bb11b7d0c39b69566bf38_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!consume@{consume}}
\index{consume@{consume}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{consume()}{consume()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::consume (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{buf}{, }\item[{size\+\_\+t}]{len}{, }\item[{lib\+::error\+\_\+code \&}]{ec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Hybi 13 data streams represent a series of variable length frames. Each frame is made up of a series of fixed length fields. The lengths of later fields are contained in earlier fields. The first field length is fixed by the spec.

This processor represents a state machine that keeps track of what field is presently being read and how many more bytes are needed to complete it

Read two header bytes Extract full frame length. Read extra header bytes Validate frame header (including extension validate) Read extension data into extension message state object Read payload data into payload


\begin{DoxyParams}{Parameters}
{\em buf} & Input buffer\\
\hline
{\em len} & Length of input buffer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed or zero on error 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a14cb7ee9cd5fa60353ba198f1d3d06c5}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00360}{360}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ =\ 0;}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ ec\ =\ lib::error\_code();}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::cout\ <<\ "{}consume:\ "{}\ <<\ utility::to\_hex(buf,len)\ <<\ std::endl;}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Loop\ while\ we\ don't\ have\ a\ message\ ready\ and\ we\ still\ have\ bytes}}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ left\ to\ process.}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ !=\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}{READY}}\ \&\&\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ !=\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617}{FATAL\_ERROR}}\ \&\&}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ <\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}\ ||\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ ==\ 0))}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be}{HEADER\_BASIC}})\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ +=\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}{copy\_basic\_header\_bytes}}(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}+p,\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}-\/\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ >\ 0)\ \{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}{validate\_incoming\_basic\_header}}(}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a584edc3698f98e6eb85ab280f491ac9d}{base::m\_server}},\ !\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{\textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extract\ full\ header\ size\ and\ adjust\ consume\ state\ accordingly}}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5}{HEADER\_EXTENDED}};}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}{m\_cursor}}\ =\ 0;}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_abd4f23c906cc48fb3b34603fd4284b01}{frame::get\_header\_len}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}})\ -\/}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frame::BASIC\_HEADER\_LENGTH;}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740dae879a8fa0050cadae746a7224211bac5}{HEADER\_EXTENDED}})\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ +=\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}{copy\_extended\_header\_bytes}}(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}+p,\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}-\/\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ >\ 0)\ \{}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}{validate\_incoming\_extended\_header}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}});}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\{\textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00398\ }
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}{APPLICATION}};}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a2ca0b9ba6077f201997da543d45b067f}{get\_payload\_size}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}}));}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ this\ frame\ is\ the\ start\ of\ a\ new\ message\ and\ set\ up}}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ appropriate\ message\ metadata.}}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5e}{frame::opcode::value}}\ \mbox{\hyperlink{unionop}{op}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a235192baaf86f38158dc33f178c04661}{frame::get\_opcode}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}});}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ get\_message\ failure\ conditions}}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}}))\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}{m\_control\_msg}}\ =\ msg\_metadata(}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}{m\_msg\_manager}}-\/>get\_message(\mbox{\hyperlink{unionop}{op}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}),}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_aed7edd146ce3aa5b87adc9fcc5fcb10f}{frame::get\_masking\_key}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}})}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}\ =\ \&\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}{m\_control\_msg}};}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}})\ \{}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ >\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a74984af956fccae7e045743cf8ac23b4}{base::m\_max\_message\_size}})\ \{}
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2}{error::message\_too\_big}});}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}\ =\ msg\_metadata(}
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}{m\_msg\_manager}}-\/>get\_message(\mbox{\hyperlink{unionop}{op}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}),}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_aed7edd146ce3aa5b87adc9fcc5fcb10f}{frame::get\_masking\_key}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}})}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled())\ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>set\_compressed(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a90556de9dd71c1f063153b791abeb81c}{frame::get\_rsv1}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}));}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Fetch\ the\ underlying\ payload\ buffer\ from\ the\ data\ message\ we}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ are\ writing\ into.}}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ \&\ out\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_raw\_payload();}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (out.size()\ +\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ >\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a74984af956fccae7e045743cf8ac23b4}{base::m\_max\_message\_size}})\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad151bfb0d6cd320ae85831715a15f1e2}{error::message\_too\_big}});}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Each\ frame\ starts\ a\ new\ masking\ key.\ All\ other\ state}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ remains\ between\ frames.}}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a4c0cf4af697b0a12396ca5570a888ec1}{prepared\_key}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_af80eee705eb39fb533cf4ab3d7a6d3bb}{prepare\_masking\_key}}(}
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_aed7edd146ce3aa5b87adc9fcc5fcb10f}{frame::get\_masking\_key}}(}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}},}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ out.reserve(out.size()\ +\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}});}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}\ =\ \&\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}};}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da79680e4ca9eec48fcb1160dacfedcd04}{EXTENSION}})\ \{}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}{APPLICATION}};}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740daeddf9b6b1b18ba9e7ee43b77569a200c}{APPLICATION}})\ \{}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bytes\_to\_process\ =\ (std::min)(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}},\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}-\/\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bytes\_to\_process\ >\ 0)\ \{}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}\ +=\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}{process\_payload\_bytes}}(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}+p,bytes\_to\_process,ec);}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{\textcolor{keywordflow}{break};\}}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ >\ 0)\ \{}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ this\ was\ the\ last\ frame\ in\ the\ message\ set\ the\ ready\ flag.}}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Otherwise,\ reset\ processor\ state\ to\ read\ additional\ frames.}}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a66b39e273681d8509128e420cfaef6b0}{frame::get\_fin}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}))\ \{}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05}{finalize\_message}}();}
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}{reset\_headers}}();}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ shouldn't\ be\ here}}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a}{error::general}});}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}};}
\DoxyCodeLine{00486\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a5c5e3234a0067c7f14fe0ceb4e647659_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!copy\_basic\_header\_bytes@{copy\_basic\_header\_bytes}}
\index{copy\_basic\_header\_bytes@{copy\_basic\_header\_bytes}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{copy\_basic\_header\_bytes()}{copy\_basic\_header\_bytes()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::copy\+\_\+basic\+\_\+header\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} const \texorpdfstring{$\ast$}{*}}]{buf}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00722}{722}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}\ ==\ 0\ ||\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ ==\ 0)\ \{}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00726\ }
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}\ >\ 1)\ \{}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ have\ at\ least\ two\ bytes}}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ ==\ 2)\ \{}
\DoxyCodeLine{00730\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a9dcac77e651c455cf3aed687dbd87d7e}{b0}}\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[0];}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a631a0cbf798d7996a4de1d62f03cc470}{b1}}\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[1];}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ -\/=\ 2;}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 2;}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a631a0cbf798d7996a4de1d62f03cc470}{b1}}\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[0];}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}-\/-\/;}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00738\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ have\ exactly\ one\ byte}}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ ==\ 2)\ \{}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a9dcac77e651c455cf3aed687dbd87d7e}{b0}}\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[0];}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}-\/-\/;}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a631a0cbf798d7996a4de1d62f03cc470}{b1}}\ =\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}[0];}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}-\/-\/;}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00751\ \ \ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a737c86ee2ec91709052e69f22083afb9_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!copy\_extended\_header\_bytes@{copy\_extended\_header\_bytes}}
\index{copy\_extended\_header\_bytes@{copy\_extended\_header\_bytes}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{copy\_extended\_header\_bytes()}{copy\_extended\_header\_bytes()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::copy\+\_\+extended\+\_\+header\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} const \texorpdfstring{$\ast$}{*}}]{buf}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00754}{754}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bytes\_to\_read\ =\ (std::min)(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}},\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}});}
\DoxyCodeLine{00756\ }
\DoxyCodeLine{00757\ \ \ \ \ \ \ \ \ std::copy(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}},\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}+bytes\_to\_read,\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header_a64507c32b568d0894b2bf3a2513debd1}{bytes}}+\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}{m\_cursor}});}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}{m\_cursor}}\ +=\ bytes\_to\_read;}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ -\/=\ bytes\_to\_read;}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ bytes\_to\_read;}
\DoxyCodeLine{00762\ \ \ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a79fbd0b0670ab1c345ddbb4db76f6a0b_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!extract\_subprotocols@{extract\_subprotocols}}
\index{extract\_subprotocols@{extract\_subprotocols}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{extract\_subprotocols()}{extract\_subprotocols()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::extract\+\_\+subprotocols (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{req}{, }\item[{std\+::vector$<$ std\+::string $>$ \&}]{subprotocol\+\_\+list}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Extracts a list of all subprotocols that the client has requested in the given opening handshake request.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em req} & The request to extract from \\
\hline
\mbox{\texttt{ out}}  & {\em subprotocol\+\_\+list} & \doxylink{struct_a}{A} reference to a vector of strings to store the results in. \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_abec64a667b46855187d821abcb7a5247}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00310}{310}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00312\ \ \ \ \ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!req.get\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Protocol"{}}).empty())\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ http::parameter\_list\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}};}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!req.get\_header\_as\_plist(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Protocol"{}},\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}))\ \{}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ http::parameter\_list::const\_iterator\ it;}
\DoxyCodeLine{00318\ }
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (it\ =\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.begin();\ it\ !=\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.end();\ ++it)\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ subprotocol\_list.push\_back(it-\/>first);}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_afc5fc4548656f87cfee89994c95bec9c}{error::make\_error\_code}}(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a826cd67f60ca8687720833cea17777ac}{error::subprotocol\_parse\_error}});}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00327\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a3d3b0e51df97cd7c8dcde00fb3003a34_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!finalize\_message@{finalize\_message}}
\index{finalize\_message@{finalize\_message}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{finalize\_message()}{finalize\_message()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::finalize\+\_\+message (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Called after the full message is received. Provides the opportunity for extensions to complete any data post processing as well as final \doxylink{struct_u_t_f8}{UTF8} validation checks for text messages.

\begin{DoxyReturn}{Returns}
\doxylink{struct_a}{A} code indicating errors, if any 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00496}{496}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ std::string\ \&\ out\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_raw\_payload();}
\DoxyCodeLine{00498\ }
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ frame\ is\ compressed,\ append\ the\ compression}}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ trailer\ and\ flush\ the\ compression\ buffer.}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled()}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_compressed())}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}}\ trailer[4]\ =\ \{0x00,\ 0x00,\ 0xff,\ 0xff\};}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Decompress\ current\ buffer\ into\ the\ message\ buffer}}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ lib::error\_code\ ec;}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.decompress(trailer,4,out);}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ec;}
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ensure\ that\ text\ messages\ end\ on\ a\ valid\ UTF8\ code\ point}}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a235192baaf86f38158dc33f178c04661}{frame::get\_opcode}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}})\ ==\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72}{frame::opcode::TEXT}})\ \{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a283c8d119c2c9f2543a2247b465c9416}{validator}}.\mbox{\hyperlink{classwebsocketpp_1_1utf8__validator_1_1validator_a89deb3bdfd8b94da908b806e543491ba}{complete}}())\ \{}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a}{error::invalid\_utf8}});}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}{READY}};}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00524\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a906398e2c23370de53d4f3572657ad05_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_bytes\_needed@{get\_bytes\_needed}}
\index{get\_bytes\_needed@{get\_bytes\_needed}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_bytes\_needed()}{get\_bytes\_needed()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a0e7fbb706a341f7d125c27e7ef001d92} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+bytes\+\_\+needed (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Retrieves the number of bytes presently needed by the processor This value may be used as a hint to the transport layer as to how many bytes to wait for before running consume again. 

Reimplemented from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a141bc4565dc27e047df1251f117543b4}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00568}{568}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}};}
\DoxyCodeLine{00570\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_error@{get\_error}}
\index{get\_error@{get\_error}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_error()}{get\_error()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a6f95f4d45deb00fab39d1fe4441256be} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+error (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ac3767ec87d3d538c429156295edd5144}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00564}{564}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da1af24a6840fa5af96e4a1e15e930d617}{FATAL\_ERROR}};}
\DoxyCodeLine{00566\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_message@{get\_message}}
\index{get\_message@{get\_message}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_message()}{get\_message()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+message (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Retrieves a shared pointer to the recently completed message if there is one. If \doxylink{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{ready()} returns true then there is a message available. Retrieving the message with get\+\_\+message will reset the state of ready. As such, each new message may be retrieved only once. Calling get\+\_\+message when there is no message available will result in a null pointer being returned.

\begin{DoxyReturn}{Returns}
\doxylink{struct_a}{A} pointer to the most recently processed message or a null shared pointer. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_afb9477aa9e49a7dca59d684277b66932}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00545}{545}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}{ready}}())\ \{}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\_ptr}}();}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{debug__client_8cpp_a08398c4d31a4dc3e42d1b9a9ef64c6ad}{message\_ptr}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}};}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}.reset();}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}-\/>get\_opcode()))\ \{}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}{m\_control\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}.reset();}
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}{m\_data\_msg}}.\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}.reset();}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}{reset\_headers}}();}
\DoxyCodeLine{00559\ }
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00561\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a8fe09bba8cbe2821ef5c7cf3fd9573cd_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a9d7d6e203cbc4d76bbebcc69f1b01ab0}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_origin@{get\_origin}}
\index{get\_origin@{get\_origin}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_origin()}{get\_origin()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a9d7d6e203cbc4d76bbebcc69f1b01ab0} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
std\+::string const  \& \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+origin (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{request}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_adbcf94ab5ac6d27d3dc5143701ac2e8a}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00306}{306}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.get\_header(\textcolor{stringliteral}{"{}Origin"{}});}
\DoxyCodeLine{00308\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_raw@{get\_raw}}
\index{get\_raw@{get\_raw}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_raw()}{get\_raw()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_ab1055402f24f2977c8141eab25b5ee26} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
std\+::string \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+raw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} const \&}]{request}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a55ed343fecfcce5f312a2d0bc52c507e}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00302}{302}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res.raw();}
\DoxyCodeLine{00304\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_uri@{get\_uri}}
\index{get\_uri@{get\_uri}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_uri()}{get\_uri()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{namespacewebsocketpp_aae370ea5ac83a8ece7712cb39fc23f5b}{uri\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+uri (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{request}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a8c47ebd7cbf55544b8bc4178dd97a140}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00329}{329}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_a5fa80687521dc24678e773fc3e71e0ce}{get\_uri\_from\_host}}(request,(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aebab411b1ca4d8ab32ee8c13afcf9274}{base::m\_secure}}\ ?\ \textcolor{stringliteral}{"{}wss"{}}\ :\ \textcolor{stringliteral}{"{}ws"{}}));}
\DoxyCodeLine{00331\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a49ae173c8cdef4e78c472a46200df8d0_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!get\_version@{get\_version}}
\index{get\_version@{get\_version}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{get\_version()}{get\_version()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
int \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::get\+\_\+version (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a53427f90f89cf215060ceb3ce7a06c2d}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00080}{80}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 13;}
\DoxyCodeLine{00082\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af6ad6f16537a2d6c389c56f6cfaf3c57}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!has\_permessage\_deflate@{has\_permessage\_deflate}}
\index{has\_permessage\_deflate@{has\_permessage\_deflate}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{has\_permessage\_deflate()}{has\_permessage\_deflate()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_af6ad6f16537a2d6c389c56f6cfaf3c57} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::has\+\_\+permessage\+\_\+deflate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00084}{84}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_implemented();}
\DoxyCodeLine{00086\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!masked\_copy@{masked\_copy}}
\index{masked\_copy@{masked\_copy}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{masked\_copy()}{masked\_copy()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
void \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::masked\+\_\+copy (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{i}{, }\item[{std\+::string \&}]{o}{, }\item[{\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a8bdac8ec44c78c027fcf55aa3bad3f86}{frame\+::masking\+\_\+key\+\_\+type}}}]{key}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

Reads input from one string and writes unmasked output to another.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em i} & The input string. \\
\hline
\mbox{\texttt{ out}}  & {\em o} & The output string. \\
\hline
\mbox{\texttt{ in}}  & {\em key} & The masking key to use for masking/unmasking \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00939}{939}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00941\ \ \ \ \ \{}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a417650d76aa2433163942d6a13334a6a}{frame::byte\_mask}}(i.begin(),i.end(),o.begin(),key);}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ SIMD\ masking}}
\DoxyCodeLine{00944\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!negotiate\_extensions@{negotiate\_extensions}}
\index{negotiate\_extensions@{negotiate\_extensions}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{negotiate\_extensions()}{negotiate\_extensions()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::negotiate\+\_\+extensions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Reads the Sec-\/\+Web\+Socket-\/\+Extensions header and determines if any of the requested extensions are supported by this processor. If they are their settings data is initialized and an extension string to send to the is returned.


\begin{DoxyParams}{Parameters}
{\em request} & The request or response headers to look at. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_aad69873505ba59f4ddf53e864f32bb80}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00088}{88}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393}{negotiate\_extensions\_helper}}(request);}
\DoxyCodeLine{00090\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aee995e6a4a29a800ce3b031885814ed1_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!negotiate\_extensions@{negotiate\_extensions}}
\index{negotiate\_extensions@{negotiate\_extensions}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{negotiate\_extensions()}{negotiate\_extensions()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::negotiate\+\_\+extensions (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} const \&}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Reads the Sec-\/\+Web\+Socket-\/\+Extensions header and determines if any of the requested extensions were accepted by the server. If they are their settings data is initialized. If they are not a list of required extensions (if any) is returned. This list may be sent back to the server as a part of the 1010/\+Extension required close code.


\begin{DoxyParams}{Parameters}
{\em response} & The request or response headers to look at. \\
\hline
\end{DoxyParams}


Reimplemented from \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a236ab7829e607fa58cc94c219a1a680c}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00092}{92}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393}{negotiate\_extensions\_helper}}(response);}
\DoxyCodeLine{00094\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a5b01c6303142aa151cf9bf1fe9ccb6e3_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!negotiate\_extensions\_helper@{negotiate\_extensions\_helper}}
\index{negotiate\_extensions\_helper@{negotiate\_extensions\_helper}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{negotiate\_extensions\_helper()}{negotiate\_extensions\_helper()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
template$<$typename header\+\_\+type $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\+\_\+str\+\_\+pair}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::negotiate\+\_\+extensions\+\_\+helper (\begin{DoxyParamCaption}\item[{header\+\_\+type const \&}]{header}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

This exists mostly because the code for requests and responses is identical and I can\textquotesingle{}t have virtual template methods. 

Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00102}{102}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\_str\_pair}}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Respect\ blanket\ disabling\ of\ all\ extensions\ and\ don't\ even\ parse}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ extension\ header}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!config::enable\_extensions)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}.first\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a529dc9b46308d321bd52d8ced4e566e1}{error::extensions\_disabled}});}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ http::parameter\_list\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ error\ =\ header.get\_header\_as\_plist(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Extensions"{}},\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}});}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (error)\ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}.first\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a595ba53f29be3b66c51ad41bd94ee29c}{error::extension\_parse\_error}});}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ If\ there\ are\ no\ extensions\ parsed\ then\ we\ are\ done!}}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.\mbox{\hyperlink{structmie_1_1_vuint_t_a1be409ac9e110dc4b60234ce37cbf0c8}{size}}()\ ==\ 0)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ http::parameter\_list::const\_iterator\ it;}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_implemented())\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_ab64318651ea4374d57111a754b15d93e}{err\_str\_pair}}\ neg\_ret;}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (it\ =\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.begin();\ it\ !=\ \mbox{\hyperlink{bn_8cpp_a8b0eadcc506862e9d751ab45185053aa}{p}}.end();\ ++it)\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ look\ through\ each\ extension,\ if\ the\ key\ is\ permessage-\/deflate}}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it-\/>first\ ==\ \textcolor{stringliteral}{"{}permessage-\/deflate"{}})\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ have\ already\ successfully\ negotiated\ this\ extension}}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ then\ skip\ any\ other\ requests\ to\ negotiate\ the\ same\ one}}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ with\ different\ parameters\ }}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled())\ \{}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ neg\_ret\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.negotiate(it-\/>second);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (neg\_ret.first)\ \{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Figure\ out\ if\ this\ is\ an\ error\ that\ should\ halt\ all}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extension\ negotiations\ or\ simply\ cause\ negotiation\ of}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ specific\ extension\ to\ fail.}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//std::cout\ <<\ "{}permessage-\/compress\ negotiation\ failed:\ "{}}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ <<\ neg\_ret.first.message()\ <<\ std::endl;}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ this\ list\ will\ need\ commas\ if\ WebSocket++\ ever}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ supports\ more\ than\ one\ extension}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}}.second\ +=\ neg\_ret.second;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.init(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a584edc3698f98e6eb85ab280f491ac9d}{base::m\_server}});}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a3d854b6efad16a16e4d7b4539d4fc71f}{ret}};}
\DoxyCodeLine{00161\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a2bba499a185aa0219c2389532a332393_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!prepare\_close@{prepare\_close}}
\index{prepare\_close@{prepare\_close}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{prepare\_close()}{prepare\_close()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::prepare\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacewebsocketpp_1_1close_1_1status_a8614a5c4733d708e2d2a32191c5bef84}{close\+::status\+::value}}}]{code}{, }\item[{std\+::string const \&}]{reason}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{out}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00674}{674}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00676\ \ \ \ \ \{}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1close_1_1status_af26a61f8a8c3247cf656349f96ea3008}{close::status::reserved}}(code))\ \{}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a57b405ca9c92135c21f4507722503b16}{error::reserved\_close\_code}});}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1close_1_1status_ad024f852889be28eadcec8209fdf9bc8}{close::status::invalid}}(code)\ \&\&\ code\ !=\ close::status::no\_status)\ \{}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a3837b50a5121318129a6d1049196ab33}{error::invalid\_close\_code}});}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (code\ ==\ close::status::no\_status\ \&\&\ reason.size()\ >\ 0)\ \{}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a2ebe84ac88fa4a93dd142d2e1ee2bbee}{error::reason\_requires\_code}});}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00688\ }
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (reason.size()\ >\ frame::\ limits::payload\_size\_basic-\/2)\ \{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71}{error::control\_too\_big}});}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ std::string\ payload;}
\DoxyCodeLine{00694\ }
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (code\ !=\ close::status::no\_status)\ \{}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ close::code\_converter\ val;}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ val.i\ =\ htons(code);}
\DoxyCodeLine{00698\ }
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ payload.resize(reason.size()+2);}
\DoxyCodeLine{00700\ }
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ payload[0]\ =\ val.c[0];}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ payload[1]\ =\ val.c[1];}
\DoxyCodeLine{00703\ }
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ std::copy(reason.begin(),reason.end(),payload.begin()+2);}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{prepare\_control}}(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5eafc878334b78f2baf96d5dbf9e9652066}{frame::opcode::CLOSE}},payload,out);}
\DoxyCodeLine{00708\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a8cbb98af828463c5ef80429a7ade715d_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!prepare\_control@{prepare\_control}}
\index{prepare\_control@{prepare\_control}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{prepare\_control()}{prepare\_control()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::prepare\+\_\+control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5e}{frame\+::opcode\+::value}}}]{op}{, }\item[{std\+::string const \&}]{payload}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{out}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

Internal control frame building method. Handles validation, masking, etc


\begin{DoxyParams}{Parameters}
{\em op} & The control opcode to use \\
\hline
{\em payload} & The payload to use \\
\hline
{\em out} & The message buffer to store the prepared frame in \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code, zero on success, non-\/zero on error 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00955}{955}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00957\ \ \ \ \ \{}
\DoxyCodeLine{00958\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!out)\ \{}
\DoxyCodeLine{00959\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da}{error::invalid\_arguments}});}
\DoxyCodeLine{00960\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00961\ }
\DoxyCodeLine{00962\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}}))\ \{}
\DoxyCodeLine{00963\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc}{error::invalid\_opcode}});}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00965\ }
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (payload.size()\ >\ frame::limits::payload\_size\_basic)\ \{}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71}{error::control\_too\_big}});}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00969\ }
\DoxyCodeLine{00970\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a8bdac8ec44c78c027fcf55aa3bad3f86}{frame::masking\_key\_type}}\ \mbox{\hyperlink{yubico__otp_8c_a9246c20bb98ad2b4c60313c053c70f08}{key}};}
\DoxyCodeLine{00971\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ masked\ =\ !\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a584edc3698f98e6eb85ab280f491ac9d}{base::m\_server}};}
\DoxyCodeLine{00972\ }
\DoxyCodeLine{00973\ \ \ \ \ \ \ \ \ frame::basic\_header\ h(\mbox{\hyperlink{unionop}{op}},payload.size(),\textcolor{keyword}{true},masked);}
\DoxyCodeLine{00974\ }
\DoxyCodeLine{00975\ \ \ \ \ \ \ \ \ std::string\ \&\ o\ =\ out-\/>get\_raw\_payload();}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ o.resize(payload.size());}
\DoxyCodeLine{00977\ }
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (masked)\ \{}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Generate\ masking\ key.}}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \ \ \ \ key.i\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{m\_rng}}();}
\DoxyCodeLine{00981\ }
\DoxyCodeLine{00982\ \ \ \ \ \ \ \ \ \ \ \ \ frame::extended\_header\ e(payload.size(),key.i);}
\DoxyCodeLine{00983\ \ \ \ \ \ \ \ \ \ \ \ \ out-\/>set\_header(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_ae63c3e01399a6787ed09b710853344a4}{frame::prepare\_header}}(h,e));}
\DoxyCodeLine{00984\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{masked\_copy}}(payload,o,key);}
\DoxyCodeLine{00985\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \ \ \ \ frame::extended\_header\ e(payload.size());}
\DoxyCodeLine{00987\ \ \ \ \ \ \ \ \ \ \ \ \ out-\/>set\_header(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_ae63c3e01399a6787ed09b710853344a4}{frame::prepare\_header}}(h,e));}
\DoxyCodeLine{00988\ \ \ \ \ \ \ \ \ \ \ \ \ std::copy(payload.begin(),payload.end(),o.begin());}
\DoxyCodeLine{00989\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00990\ \ \ \ \ }
\DoxyCodeLine{00991\ \ \ \ \ \ \ \ \ out-\/>set\_opcode(\mbox{\hyperlink{unionop}{op}});}
\DoxyCodeLine{00992\ \ \ \ \ \ \ \ \ out-\/>set\_prepared(\textcolor{keyword}{true});}
\DoxyCodeLine{00993\ }
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00995\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!prepare\_data\_frame@{prepare\_data\_frame}}
\index{prepare\_data\_frame@{prepare\_data\_frame}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{prepare\_data\_frame()}{prepare\_data\_frame()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
virtual lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::prepare\+\_\+data\+\_\+frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{in}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{out}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Performs validation, masking, compression, etc. will return an error if there was an error, otherwise msg will be ready to be written

TODO\+: tests


\begin{DoxyParams}{Parameters}
{\em in} & An unprepared message to prepare \\
\hline
{\em out} & \doxylink{struct_a}{A} message to be overwritten with the prepared message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
error code 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00583}{583}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00584\ \ \ \ \ \{}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!in\ ||\ !out)\ \{}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad78ff630d081b41ce9027d4f361df5da}{error::invalid\_arguments}});}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5e}{frame::opcode::value}}\ \mbox{\hyperlink{unionop}{op}}\ =\ in-\/>get\_opcode();}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ validate\ opcode:\ only\ regular\ data\ frames}}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}}))\ \{}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc}{error::invalid\_opcode}});}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ std::string\&\ i\ =\ in-\/>get\_raw\_payload();}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ std::string\&\ o\ =\ out-\/>get\_raw\_payload();}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ validate\ payload\ utf8}}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{unionop}{op}}\ ==\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72}{frame::opcode::TEXT}}\ \&\&\ !\mbox{\hyperlink{namespacewebsocketpp_1_1utf8__validator_ad088137c6f18e6844e20496d8782c835}{utf8\_validator::validate}}(i))\ \{}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5aa221afa85916caeaac59c6a73e59168e}{error::invalid\_payload}});}
\DoxyCodeLine{00602\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a8bdac8ec44c78c027fcf55aa3bad3f86}{frame::masking\_key\_type}}\ \mbox{\hyperlink{yubico__otp_8c_a9246c20bb98ad2b4c60313c053c70f08}{key}};}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ masked\ =\ !\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a584edc3698f98e6eb85ab280f491ac9d}{base::m\_server}};}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ compressed\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled()}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ in-\/>get\_compressed();}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ fin\ =\ in-\/>get\_fin();}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (masked)\ \{}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Generate\ masking\ key.}}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ key.i\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}{m\_rng}}();}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ key.i\ =\ 0;}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ prepare\ payload}}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (compressed)\ \{}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ compress\ and\ store\ in\ o\ after\ header.}}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.compress(i,o);}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (o.size()\ <\ 4)\ \{}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ab126d99835105428d617892fe121706a}{error::general}});}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Strip\ trailing\ 4\ 0x00\ 0x00\ 0xff\ 0xff\ bytes\ before\ writing\ to\ the}}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ wire}}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \ \ \ \ o.resize(o.size()-\/4);}
\DoxyCodeLine{00629\ }
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ mask\ in\ place\ if\ necessary}}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (masked)\ \{}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{masked\_copy}}(o,o,key);}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ no\ compression,\ just\ copy\ data\ into\ the\ output\ buffer}}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \ \ \ \ o.resize(i.size());}
\DoxyCodeLine{00637\ }
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ masked,\ have\ the\ masking\ function\ write\ to\ the\ output}}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ buffer\ directly\ to\ avoid\ another\ copy.\ If\ not\ masked,\ copy}}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ directly\ without\ masking.}}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (masked)\ \{}
\DoxyCodeLine{00642\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a888318b2773af49d458313a96a817a7a}{masked\_copy}}(i,o,key);}
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::copy(i.begin(),i.end(),o.begin());}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00647\ }
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ generate\ header}}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ frame::basic\_header\ h(\mbox{\hyperlink{unionop}{op}},o.size(),fin,masked,compressed);}
\DoxyCodeLine{00650\ }
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (masked)\ \{}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \ \ \ \ frame::extended\_header\ e(o.size(),key.i);}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ out-\/>set\_header(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_ae63c3e01399a6787ed09b710853344a4}{frame::prepare\_header}}(h,e));}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ frame::extended\_header\ e(o.size());}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ out-\/>set\_header(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_ae63c3e01399a6787ed09b710853344a4}{frame::prepare\_header}}(h,e));}
\DoxyCodeLine{00657\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00658\ }
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ out-\/>set\_prepared(\textcolor{keyword}{true});}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ out-\/>set\_opcode(\mbox{\hyperlink{unionop}{op}});}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00663\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a72f4833d66eb51e37a956f434895b3ab_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!prepare\_ping@{prepare\_ping}}
\index{prepare\_ping@{prepare\_ping}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{prepare\_ping()}{prepare\_ping()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::prepare\+\_\+ping (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{in}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{out}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00666}{666}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{prepare\_control}}(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea384ec7a09356db47fdf1646f954aa208}{frame::opcode::PING}},in,out);}
\DoxyCodeLine{00668\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a38d06bc30c10cd1947c9a7b3051f8961_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!prepare\_pong@{prepare\_pong}}
\index{prepare\_pong@{prepare\_pong}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{prepare\_pong()}{prepare\_pong()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::prepare\+\_\+pong (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{in}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a42cdc2fb13fc9ab8554e0cbaae6f2b4d}{message\+\_\+ptr}}}]{out}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00670}{670}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a5aa8f27959beeeef73997a80c2560663}{prepare\_control}}(\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea8674aa04d991121443c8f063e7144284}{frame::opcode::PONG}},in,out);}
\DoxyCodeLine{00672\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_ab5ca972653c126e7c6a05c529b394321_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!process\_handshake@{process\_handshake}}
\index{process\_handshake@{process\_handshake}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{process\_handshake()}{process\_handshake()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::process\+\_\+handshake (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{req}{, }\item[{std\+::string const \&}]{subprotocol}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} \&}]{res}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em req} & The request to process\\
\hline
{\em subprotocol} & The subprotocol in use\\
\hline
{\em res} & The response to store the processed response in\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 on success, non-\/zero for other errors 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a64caf3ebac5333112f48eec496ec2a47}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00187}{187}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00189\ \ \ \ \ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ std::string\ server\_key\ =\ request.get\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Key"{}});}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ lib::error\_code\ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}{process\_handshake\_key}}(server\_key);}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ec;}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ response.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Accept"{}},server\_key);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ response.append\_header(\textcolor{stringliteral}{"{}Upgrade"{}},constants::upgrade\_token);}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ response.append\_header(\textcolor{stringliteral}{"{}Connection"{}},constants::connection\_token);}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!subprotocol.empty())\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ response.replace\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Protocol"{}},subprotocol);}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00207\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aa527ee3ece912ef818a207fce5261383_cgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!process\_handshake\_key@{process\_handshake\_key}}
\index{process\_handshake\_key@{process\_handshake\_key}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{process\_handshake\_key()}{process\_handshake\_key()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::process\+\_\+handshake\+\_\+key (\begin{DoxyParamCaption}\item[{std\+::string \&}]{key}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00711}{711}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ key.append(constants::handshake\_guid);}
\DoxyCodeLine{00713\ }
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ message\_digest[20];}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1sha1_ad75335df7a69d69b3fb8fef3f4594812}{sha1::calc}}(key.c\_str(),key.length(),message\_digest);}
\DoxyCodeLine{00716\ \ \ \ \ \ \ \ \ key\ =\ \mbox{\hyperlink{namespacewebsocketpp_aff36d40583424a2c879df02219133af8}{base64\_encode}}(message\_digest,20);}
\DoxyCodeLine{00717\ }
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00719\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!process\_payload\_bytes@{process\_payload\_bytes}}
\index{process\_payload\_bytes@{process\_payload\_bytes}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{process\_payload\_bytes()}{process\_payload\_bytes()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::process\+\_\+payload\+\_\+bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{buf}{, }\item[{size\+\_\+t}]{len}{, }\item[{lib\+::error\+\_\+code \&}]{ec}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

This function performs unmasking and uncompression, validates the decoded bytes, and writes them to the appropriate message buffer.

This member function will use the input buffer as stratch space for its work. The raw input bytes will not be preserved. This applies only to the bytes actually needed. At most min(m\+\_\+bytes\+\_\+needed,len) will be processed.


\begin{DoxyParams}{Parameters}
{\em buf} & Input/working buffer \\
\hline
{\em len} & Length of buf \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes processed or zero in case of an error 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00777}{777}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00778\ \ \ \ \ \{}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unmask\ if\ masked}}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a4e8cf8ae88a7a8fdb2b3ea86623d01d2}{frame::get\_masked}}(\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}))\ \{}
\DoxyCodeLine{00781\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a4c0cf4af697b0a12396ca5570a888ec1}{prepared\_key}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a3e0ba89b475df758d84dab352a76c3b3}{frame::byte\_mask\_circ}}(}
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}},\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}},\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a4c0cf4af697b0a12396ca5570a888ec1}{prepared\_key}});}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ SIMD\ masking}}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00785\ }
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ std::string\ \&\ out\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_raw\_payload();}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ offset\ =\ out.size();}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ decompress\ message\ if\ needed.}}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled()}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_compressed())}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Decompress\ current\ buffer\ into\ the\ message\ buffer}}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.decompress(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}},\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}},out);}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ compression,\ straight\ copy}}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \ \ \ \ out.append(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{yubihsm__pkcs11_8c_a855e99b645b13e7905d074d02fe0bff5}{buf}}),\mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}});}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00802\ }
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ validate\ unmasked,\ decompressed\ values}}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a49e276abf3be14de45a9111cb13e3d81}{msg\_ptr}}-\/>get\_opcode()\ ==\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea35faaee264826923566fc05bdfd76b72}{frame::opcode::TEXT}})\ \{}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}{m\_current\_msg}}-\/>\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata_a283c8d119c2c9f2543a2247b465c9416}{validator}}.\mbox{\hyperlink{classwebsocketpp_1_1utf8__validator_1_1validator_a2cde6cad6f1a0f66674010848ec80fba}{decode}}(out.begin()+offset,out.end()))\ \{}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ec\ =\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a9439e7491cbd3acf23f6c5bdc2d3b79a}{error::invalid\_utf8}});}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ -\/=\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}};}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}};}
\DoxyCodeLine{00814\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aa7eece3f48840535f41b625061fa7867_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!ready@{ready}}
\index{ready@{ready}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{ready()}{ready()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
bool \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::ready (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a623344489598696c98cecebb03c18333}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00541}{541}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ ==\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da566338b5150068fe319a1159ab395c8a}{READY}});}
\DoxyCodeLine{00543\ \ \ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_af0e73b14cac728a873c8b5c0bc82ed03_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!reset\_headers@{reset\_headers}}
\index{reset\_headers@{reset\_headers}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{reset\_headers()}{reset\_headers()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
void \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::reset\+\_\+headers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00526}{526}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}{m\_state}}\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740da5441abed66bcf688fd3559c9bbcd96be}{HEADER\_BASIC}};}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}{m\_bytes\_needed}}\ =\ frame::BASIC\_HEADER\_LENGTH;}
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a9dcac77e651c455cf3aed687dbd87d7e}{b0}}\ =\ 0x00;}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}{m\_basic\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header_a631a0cbf798d7996a4de1d62f03cc470}{b1}}\ =\ 0x00;}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ std::fill\_n(}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}{m\_extended\_header}}.\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header_a64507c32b568d0894b2bf3a2513debd1}{bytes}},}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ frame::MAX\_EXTENDED\_HEADER\_LENGTH,}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ 0x00}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00538\ \ \ \ \ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a052dd867709539c0a3f70eb271da70ca_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!validate\_handshake@{validate\_handshake}}
\index{validate\_handshake@{validate\_handshake}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{validate\_handshake()}{validate\_handshake()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_af17a224a602ebcda5e481d8c249cf37c} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::validate\+\_\+handshake (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{request}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em request} & The Web\+Socket handshake request to validate. is\+\_\+websocket\+\_\+handshake(request) must be true and get\+\_\+websocket\+\_\+version(request) must equal this-\/\texorpdfstring{$>$}{>}\doxylink{classwebsocketpp_1_1processor_1_1hybi13_afe89fa6418643711130ce3417451738b}{get\+\_\+version()}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{struct_a}{A} status code, 0 on success, non-\/zero for specific sorts of failure 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_a8828f7d91c534309deb966b783eb1f8e}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00163}{163}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.get\_method()\ !=\ \textcolor{stringliteral}{"{}GET"{}})\ \{}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a2490b8f8de563854741a3475c2eaee40}{error::invalid\_http\_method}});}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.get\_version()\ !=\ \textcolor{stringliteral}{"{}HTTP/1.1"{}})\ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ac1a30a2007cfa754da78a486e2a22103}{error::invalid\_http\_version}});}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ required\ headers}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Host\ is\ required\ by\ HTTP/1.1}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Connection\ is\ required\ by\ is\_websocket\_handshake}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Upgrade\ is\ required\ by\ is\_websocket\_handshake}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}.get\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Key"{}}).empty())\ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d}{error::missing\_required\_header}});}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00181\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!validate\_incoming\_basic\_header@{validate\_incoming\_basic\_header}}
\index{validate\_incoming\_basic\_header@{validate\_incoming\_basic\_header}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{validate\_incoming\_basic\_header()}{validate\_incoming\_basic\_header()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::validate\+\_\+incoming\+\_\+basic\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}} const \&}]{h}{, }\item[{bool}]{is\+\_\+server}{, }\item[{bool}]{new\+\_\+msg}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

Validates an incoming \doxylink{classwebsocketpp_1_1processor_1_1hybi13}{hybi13} basic header.


\begin{DoxyParams}{Parameters}
{\em h} & The basic header to validate \\
\hline
{\em is\+\_\+server} & Whether or not the endpoint that received this frame is a server. \\
\hline
{\em new\+\_\+msg} & Whether or not this is the first frame of the message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success or a non-\/zero error code on failure 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00826}{826}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00828\ \ \ \ \ \{}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5e}{frame::opcode::value}}\ \mbox{\hyperlink{unionop}{op}}\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a235192baaf86f38158dc33f178c04661}{frame::get\_opcode}}(h);}
\DoxyCodeLine{00830\ }
\DoxyCodeLine{00831\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ control\ frame\ size\ limit}}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}})\ \&\&}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a2ceb63e6a2fe19964d13363ba2bb9e15}{frame::get\_basic\_size}}(h)\ >\ frame::limits::payload\_size\_basic)}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a10635788a8dffa63bbdfd89b2263be71}{error::control\_too\_big}});}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00837\ }
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ that\ RSV\ bits\ are\ clear}}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ only\ RSV\ bits\ allowed\ are\ rsv1\ if\ the\ permessage\_compress}}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extension\ is\ enabled\ for\ this\ connection\ and\ the\ message\ is\ not}}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ a\ control\ message.}}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ unit\ tests\ for\ this}}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a90556de9dd71c1f063153b791abeb81c}{frame::get\_rsv1}}(h)\ \&\&\ (!\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}{m\_permessage\_deflate}}.is\_enabled()}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ||\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}})))}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1}{error::invalid\_rsv\_bit}});}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a531509bc14ee0a6641662b17d5670460}{frame::get\_rsv2}}(h)\ ||\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a4dc0cc35b38986b9b56120ef297dd795}{frame::get\_rsv3}}(h))\ \{}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a2858ee3d29c64d8a8c7a7d9bcfd165a1}{error::invalid\_rsv\_bit}});}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00854\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ reserved\ opcodes}}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_a9890345367f4c8bdf565d62e00afbc61}{frame::opcode::reserved}}(\mbox{\hyperlink{unionop}{op}}))\ \{}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc}{error::invalid\_opcode}});}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00858\ }
\DoxyCodeLine{00859\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ invalid\ opcodes}}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ unit\ tests\ for\ this?}}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_a6f451ade60e2cca4caac58347643443a}{frame::opcode::invalid}}(\mbox{\hyperlink{unionop}{op}}))\ \{}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a68515957c61c729f4cce0e60ec90ddbc}{error::invalid\_opcode}});}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00864\ }
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ fragmented\ control\ message}}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}})\ \&\&\ !\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a66b39e273681d8509128e420cfaef6b0}{frame::get\_fin}}(h))\ \{}
\DoxyCodeLine{00867\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ade117cb717f8722d226a2f7d4ad4d633}{error::fragmented\_control}});}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00870\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ continuation\ without\ an\ active\ message}}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (new\_msg\ \&\&\ \mbox{\hyperlink{unionop}{op}}\ ==\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d}{frame::opcode::CONTINUATION}})\ \{}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658}{error::invalid\_continuation}});}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ new\ data\ frame\ when\ expecting\ continuation}}
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!new\_msg\ \&\&\ !\mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_aa5e7f94a35f8fb59a925fa01636f08ad}{frame::opcode::is\_control}}(\mbox{\hyperlink{unionop}{op}})\ \&\&}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{unionop}{op}}\ !=\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_1_1opcode_ae68711643096dfc4af6d66ade3f9fd5ea71e8a91139096779a7723c3cc85b5c2d}{frame::opcode::CONTINUATION}})}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5ad848839b79789b2d50e8d3cac7839658}{error::invalid\_continuation}});}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00881\ }
\DoxyCodeLine{00882\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Servers\ should\ reject\ any\ unmasked\ frames\ from\ clients.}}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Clients\ should\ reject\ any\ masked\ frames\ from\ servers.}}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_server\ \&\&\ !\mbox{\hyperlink{namespacewebsocketpp_1_1frame_a4e8cf8ae88a7a8fdb2b3ea86623d01d2}{frame::get\_masked}}(h))\ \{}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a3846b5f6faad1b747b0ed8fd17ba2001}{error::masking\_required}});}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!is\_server\ \&\&\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a4e8cf8ae88a7a8fdb2b3ea86623d01d2}{frame::get\_masked}}(h))\ \{}
\DoxyCodeLine{00887\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a5bdeb11b8137ed6865c188f563afc335}{error::masking\_forbidden}});}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00891\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a0c549a5e2766288fb625c03e507cc9ad_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!validate\_incoming\_extended\_header@{validate\_incoming\_extended\_header}}
\index{validate\_incoming\_extended\_header@{validate\_incoming\_extended\_header}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{validate\_incoming\_extended\_header()}{validate\_incoming\_extended\_header()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::validate\+\_\+incoming\+\_\+extended\+\_\+header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}}}]{h}{, }\item[{\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header}}}]{e}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}

Validates an incoming \doxylink{classwebsocketpp_1_1processor_1_1hybi13}{hybi13} full header.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000022}{Todo}}]unit test for the \texorpdfstring{$>$}{>}32 bit frames on 32 bit systems case\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em h} & The basic header to validate \\
\hline
{\em e} & The extended header to validate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error\+\_\+code, non-\/zero values indicate why the validation failed 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00904}{904}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00906\ \ \ \ \ \{}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t}}\ basic\_size\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a2ceb63e6a2fe19964d13363ba2bb9e15}{frame::get\_basic\_size}}(h);}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ payload\_size\ =\ \mbox{\hyperlink{namespacewebsocketpp_1_1frame_a2ca0b9ba6077f201997da543d45b067f}{frame::get\_payload\_size}}(h,e);}
\DoxyCodeLine{00909\ }
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ non-\/minimally\ encoded\ payloads}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (basic\_size\ ==\ frame::payload\_size\_code\_16bit\ \&\&}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \ \ \ \ payload\_size\ <=\ frame::limits::payload\_size\_basic)}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf}{error::non\_minimal\_encoding}});}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (basic\_size\ ==\ frame::payload\_size\_code\_64bit\ \&\&}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \ \ \ \ \ \ payload\_size\ <=\ frame::limits::payload\_size\_extended)}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5adde28e6715219b68cd21b262d6bbacdf}{error::non\_minimal\_encoding}});}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00922\ }
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ >32bit\ frames\ on\ 32\ bit\ systems}}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{size\_t})\ ==\ 4\ \&\&\ (payload\_size\ >>\ 32))\ \{}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ make\_error\_code(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a812035a236affc596d41288c8f664ee5}{error::requires\_64bit}});}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00929\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_aee8565136bb0820e9a8914dfc5fdb753_icgraph}
\end{center}
\end{figure}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!validate\_server\_handshake\_response@{validate\_server\_handshake\_response}}
\index{validate\_server\_handshake\_response@{validate\_server\_handshake\_response}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{validate\_server\_handshake\_response()}{validate\_server\_handshake\_response()}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
lib\+::error\+\_\+code \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::validate\+\_\+server\+\_\+handshake\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a147c343bb3f7380a9fa7d9463dfb4815}{request\+\_\+type}} const \&}]{req}{, }\item[{\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aa6cd4bee87b00b2d97506aaa5de4a666}{response\+\_\+type}} \&}]{res}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em req} & The original request sent \\
\hline
{\em res} & The reponse to generate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 on success, non-\/zero for other errors 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1processor_ab1228fa9350d9646379888ad528fd4c4}{websocketpp\+::processor\+::processor$<$ config $>$}}.



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l00265}{265}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00267\ \ \ \ \ \{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A\ valid\ response\ has\ an\ HTTP\ 101\ switching\ protocols\ code}}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (res.get\_status\_code()\ !=\ \mbox{\hyperlink{namespacewebsocketpp_1_1http_1_1status__code_ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc}{http::status\_code::switching\_protocols}})\ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_afc5fc4548656f87cfee89994c95bec9c}{error::make\_error\_code}}(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a97235028937f2e70216b725b8c265a64}{error::invalid\_http\_status}});}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ And\ the\ upgrade\ token\ in\ an\ upgrade\ header}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ std::string\ \textcolor{keyword}{const}\ \&\ upgrade\_header\ =\ res.get\_header(\textcolor{stringliteral}{"{}Upgrade"{}});}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1utility_a484f1287b93cf58cc6514e46eed41568}{utility::ci\_find\_substr}}(upgrade\_header,\ constants::upgrade\_token,}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(constants::upgrade\_token)-\/1)\ ==\ upgrade\_header.end())}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_afc5fc4548656f87cfee89994c95bec9c}{error::make\_error\_code}}(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d}{error::missing\_required\_header}});}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ And\ the\ websocket\ token\ in\ the\ connection\ header}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ std::string\ \textcolor{keyword}{const}\ \&\ con\_header\ =\ res.get\_header(\textcolor{stringliteral}{"{}Connection"{}});}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespacewebsocketpp_1_1utility_a484f1287b93cf58cc6514e46eed41568}{utility::ci\_find\_substr}}(con\_header,\ constants::connection\_token,}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(constants::connection\_token)-\/1)\ ==\ con\_header.end())}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_afc5fc4548656f87cfee89994c95bec9c}{error::make\_error\_code}}(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d}{error::missing\_required\_header}});}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ And\ has\ a\ valid\ Sec-\/WebSocket-\/Accept\ value}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ std::string\ key\ =\ req.get\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Key"{}});}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ lib::error\_code\ ec\ =\ \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_afe3d2731a39faebab5f927a13e26fb8c}{process\_handshake\_key}}(key);}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec\ ||\ key\ !=\ res.get\_header(\textcolor{stringliteral}{"{}Sec-\/WebSocket-\/Accept"{}}))\ \{}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_afc5fc4548656f87cfee89994c95bec9c}{error::make\_error\_code}}(\mbox{\hyperlink{namespacewebsocketpp_1_1processor_1_1error_ae6510ada6a25dcd7af258b6e374e3ca5a06199459b5805bf545a7a8b265933d2d}{error::missing\_required\_header}});}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ extensions}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lib::error\_code();}
\DoxyCodeLine{00300\ \ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwebsocketpp_1_1processor_1_1hybi13_a8b3cea2f1526b4982e0836c5705584a8_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_basic\_header@{m\_basic\_header}}
\index{m\_basic\_header@{m\_basic\_header}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_basic\_header}{m\_basic\_header}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_aa1b5aeeb8c4be9460854b1eb972a1563} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1basic__header}{frame\+::basic\+\_\+header}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+basic\+\_\+header\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01022}{1022}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_bytes\_needed@{m\_bytes\_needed}}
\index{m\_bytes\_needed@{m\_bytes\_needed}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_bytes\_needed}{m\_bytes\_needed}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a6e31d9b2d955fbdbd2a05ce325f06326} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+bytes\+\_\+needed\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01028}{1028}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_control\_msg@{m\_control\_msg}}
\index{m\_control\_msg@{m\_control\_msg}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_control\_msg}{m\_control\_msg}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a684c7ab5a31c2becad136063e0cd48a9} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+control\+\_\+msg\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01036}{1036}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_current\_msg@{m\_current\_msg}}
\index{m\_current\_msg@{m\_current\_msg}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_current\_msg}{m\_current\_msg}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a2a1554b49e53c61931e6912bec35c815} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+current\+\_\+msg\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01039}{1039}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_cursor@{m\_cursor}}
\index{m\_cursor@{m\_cursor}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_cursor}{m\_cursor}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a4fd9db5f39ff7ca0796c456b83b74887} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
size\+\_\+t \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+cursor\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01031}{1031}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_data\_msg@{m\_data\_msg}}
\index{m\_data\_msg@{m\_data\_msg}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_data\_msg}{m\_data\_msg}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a7ace361da2e05291aeb029956f20aee3} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{structwebsocketpp_1_1processor_1_1hybi13_1_1msg__metadata}{msg\+\_\+metadata}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+data\+\_\+msg\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01034}{1034}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_extended\_header@{m\_extended\_header}}
\index{m\_extended\_header@{m\_extended\_header}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_extended\_header}{m\_extended\_header}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a7d11d41110cd4b4e746a55ecd9faaaf1} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{structwebsocketpp_1_1frame_1_1extended__header}{frame\+::extended\+\_\+header}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+extended\+\_\+header\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01042}{1042}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_msg\_manager@{m\_msg\_manager}}
\index{m\_msg\_manager@{m\_msg\_manager}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_msg\_manager}{m\_msg\_manager}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a023029768eda304f37698bf63aaa7fdc} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_aec46adaa77bf99e7060b3a0a135df948}{msg\+\_\+manager\+\_\+ptr}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+msg\+\_\+manager\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01025}{1025}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_permessage\_deflate@{m\_permessage\_deflate}}
\index{m\_permessage\_deflate@{m\_permessage\_deflate}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_permessage\_deflate}{m\_permessage\_deflate}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a9103ac43ba28b3b3e5cedf519b1c67c5} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_af4f117355cb9a19e13bf7134f88e1f89}{permessage\+\_\+deflate\+\_\+type}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+permessage\+\_\+deflate\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01050}{1050}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_rng@{m\_rng}}
\index{m\_rng@{m\_rng}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_rng}{m\_rng}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a3e6ee5afc8a635c0a410f678bda8ea84} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a9d308ef0f426a6d7ca24ba8702ab4588}{rng\+\_\+type}}\& \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+rng\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01044}{1044}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.

\Hypertarget{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886}\index{websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}!m\_state@{m\_state}}
\index{m\_state@{m\_state}!websocketpp::processor::hybi13$<$ config $>$@{websocketpp::processor::hybi13$<$ config $>$}}
\doxysubsubsection{\texorpdfstring{m\_state}{m\_state}}
{\footnotesize\ttfamily \label{classwebsocketpp_1_1processor_1_1hybi13_a4660c14a2a241a2439fb3aa497ab5886} 
template$<$typename \mbox{\hyperlink{classconfig}{config}} $>$ \\
\mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13_a56fee5ffbb0b5c2c0708be2338e0740d}{state}} \mbox{\hyperlink{classwebsocketpp_1_1processor_1_1hybi13}{websocketpp\+::processor\+::hybi13}}$<$ \mbox{\hyperlink{classconfig}{config}} $>$\+::m\+\_\+state\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{hybi13_8hpp_source_l01047}{1047}} of file \mbox{\hyperlink{hybi13_8hpp_source}{hybi13.\+hpp}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
libraries/fc/vendor/websocketpp/websocketpp/processors/\mbox{\hyperlink{hybi13_8hpp}{hybi13.\+hpp}}\end{DoxyCompactItemize}
