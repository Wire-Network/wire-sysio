<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::resource_monitor_plugin_impl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1resource__monitor__plugin__impl.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsysio_1_1resource__monitor__plugin__impl-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::resource_monitor_plugin_impl Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac0bf91535f24c4fdfbfe55e1dbd13139" id="r_ac0bf91535f24c4fdfbfe55e1dbd13139"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0bf91535f24c4fdfbfe55e1dbd13139">resource_monitor_plugin_impl</a> ()</td></tr>
<tr class="separator:ac0bf91535f24c4fdfbfe55e1dbd13139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bffc3828b3c596d680d57271dccdea" id="r_a72bffc3828b3c596d680d57271dccdea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72bffc3828b3c596d680d57271dccdea">set_program_options</a> (options_description &amp;, options_description &amp;cfg)</td></tr>
<tr class="separator:a72bffc3828b3c596d680d57271dccdea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0660c265b1bb7600e647c61087be62da" id="r_a0660c265b1bb7600e647c61087be62da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0660c265b1bb7600e647c61087be62da">plugin_initialize</a> (const appbase::variables_map &amp;options)</td></tr>
<tr class="separator:a0660c265b1bb7600e647c61087be62da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06c885da6f082b29ca5b5ff8c5724e4" id="r_ae06c885da6f082b29ca5b5ff8c5724e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae06c885da6f082b29ca5b5ff8c5724e4">plugin_startup</a> ()</td></tr>
<tr class="separator:ae06c885da6f082b29ca5b5ff8c5724e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3fda25f6f91bb22d539fd8df00d8e2" id="r_afb3fda25f6f91bb22d539fd8df00d8e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb3fda25f6f91bb22d539fd8df00d8e2">plugin_shutdown</a> ()</td></tr>
<tr class="separator:afb3fda25f6f91bb22d539fd8df00d8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f86e65106c603d0afa743a2114d96ef" id="r_a8f86e65106c603d0afa743a2114d96ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f86e65106c603d0afa743a2114d96ef">monitor_directory</a> (const bfs::path &amp;<a class="el" href="classfc_1_1path.html">path</a>)</td></tr>
<tr class="separator:a8f86e65106c603d0afa743a2114d96ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00040">40</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac0bf91535f24c4fdfbfe55e1dbd13139" name="ac0bf91535f24c4fdfbfe55e1dbd13139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0bf91535f24c4fdfbfe55e1dbd13139">&#9670;&#160;</a></span>resource_monitor_plugin_impl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::resource_monitor_plugin_impl::resource_monitor_plugin_impl </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00042">42</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>      :space_handler(<a class="code hl_class" href="classsysio_1_1resource__monitor_1_1system__file__space__provider.html">system_file_space_provider</a>(), ctx)</div>
<div class="line"><span class="lineno">   44</span>      {</div>
<div class="line"><span class="lineno">   45</span>      }</div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1system__file__space__provider_html"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1system__file__space__provider.html">sysio::resource_monitor::system_file_space_provider</a></div><div class="ttdef"><b>Definition</b> <a href="system__file__space__provider_8hpp_source.html#l00009">system_file_space_provider.hpp:9</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8f86e65106c603d0afa743a2114d96ef" name="a8f86e65106c603d0afa743a2114d96ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f86e65106c603d0afa743a2114d96ef">&#9670;&#160;</a></span>monitor_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::resource_monitor_plugin_impl::monitor_directory </td>
          <td>(</td>
          <td class="paramtype">const bfs::path &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00132">132</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  132</span>                                               {</div>
<div class="line"><span class="lineno">  133</span>      <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;${path} registered to be monitored&quot;</span>, (<span class="stringliteral">&quot;path&quot;</span>, path.string()));</div>
<div class="line"><span class="lineno">  134</span>      directories_registered.push_back(path);</div>
<div class="line"><span class="lineno">  135</span>   }</div>
<div class="ttc" id="alogger_8hpp_html_a3da1571bad6ca6c94df9a3660b2115ee"><div class="ttname"><a href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a></div><div class="ttdeci">#define dlog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00101">logger.hpp:101</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1resource__monitor__plugin__impl_a8f86e65106c603d0afa743a2114d96ef_cgraph.png" border="0" usemap="#aclasssysio_1_1resource__monitor__plugin__impl_a8f86e65106c603d0afa743a2114d96ef_cgraph" alt=""/></div>
<map name="aclasssysio_1_1resource__monitor__plugin__impl_a8f86e65106c603d0afa743a2114d96ef_cgraph" id="aclasssysio_1_1resource__monitor__plugin__impl_a8f86e65106c603d0afa743a2114d96ef_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,166,61"/>
<area shape="rect" href="classfc_1_1path.html#aaf0107e4a41f9977032b2a604161cf85" title=" " alt="" coords="214,20,319,46"/>
<area shape="poly" title=" " alt="" coords="166,30,198,30,198,36,166,36"/>
</map>
</div>

</div>
</div>
<a id="a0660c265b1bb7600e647c61087be62da" name="a0660c265b1bb7600e647c61087be62da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0660c265b1bb7600e647c61087be62da">&#9670;&#160;</a></span>plugin_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::resource_monitor_plugin_impl::plugin_initialize </td>
          <td>(</td>
          <td class="paramtype">const appbase::variables_map &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00060">60</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                                               {</div>
<div class="line"><span class="lineno">   61</span>      <a class="code hl_define" href="logger_8hpp.html#a3da1571bad6ca6c94df9a3660b2115ee">dlog</a>(<span class="stringliteral">&quot;plugin_initialize&quot;</span>);</div>
<div class="line"><span class="lineno">   62</span>   </div>
<div class="line"><span class="lineno">   63</span>      <span class="keyword">auto</span> interval = options.at(<span class="stringliteral">&quot;resource-monitor-interval-seconds&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><span class="lineno">   64</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(interval &gt;= monitor_interval_min &amp;&amp; interval &lt;= monitor_interval_max, chain::plugin_config_exception,</div>
<div class="line"><span class="lineno">   65</span>         <span class="stringliteral">&quot;\&quot;resource-monitor-interval-seconds\&quot; must be between ${monitor_interval_min} and ${monitor_interval_max}&quot;</span>, (<span class="stringliteral">&quot;monitor_interval_min&quot;</span>, monitor_interval_min) (<span class="stringliteral">&quot;monitor_interval_max&quot;</span>, monitor_interval_max));</div>
<div class="line"><span class="lineno">   66</span>      space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#af1ad683111aac7f94733e3866db0149e">set_sleep_time</a>(interval);</div>
<div class="line"><span class="lineno">   67</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Monitoring interval set to ${interval}&quot;</span>, (<span class="stringliteral">&quot;interval&quot;</span>, interval));</div>
<div class="line"><span class="lineno">   68</span>   </div>
<div class="line"><span class="lineno">   69</span>      <span class="keyword">auto</span> threshold = options.at(<span class="stringliteral">&quot;resource-monitor-space-threshold&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><span class="lineno">   70</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(threshold &gt;= space_threshold_min  &amp;&amp; threshold &lt;= space_threshold_max, chain::plugin_config_exception,</div>
<div class="line"><span class="lineno">   71</span>         <span class="stringliteral">&quot;\&quot;resource-monitor-space-threshold\&quot; must be between ${space_threshold_min} and ${space_threshold_max}&quot;</span>, (<span class="stringliteral">&quot;space_threshold_min&quot;</span>, space_threshold_min) (<span class="stringliteral">&quot;space_threshold_max&quot;</span>, space_threshold_max));</div>
<div class="line"><span class="lineno">   72</span>      space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a51eaff9443b1a88e06cbbd1344a78071">set_threshold</a>(threshold, threshold - space_threshold_warning_diff);</div>
<div class="line"><span class="lineno">   73</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Space usage threshold set to ${threshold}&quot;</span>, (<span class="stringliteral">&quot;threshold&quot;</span>, threshold));</div>
<div class="line"><span class="lineno">   74</span>   </div>
<div class="line"><span class="lineno">   75</span>      <span class="keywordflow">if</span> (options.count(<span class="stringliteral">&quot;resource-monitor-not-shutdown-on-threshold-exceeded&quot;</span>)) {</div>
<div class="line"><span class="lineno">   76</span>         <span class="comment">// If set, not shutdown</span></div>
<div class="line"><span class="lineno">   77</span>         space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#ac0f510cb0298b9cefe68102772fc5db7">set_shutdown_on_exceeded</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   78</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Shutdown flag when threshold exceeded set to false&quot;</span>);</div>
<div class="line"><span class="lineno">   79</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   80</span>         <span class="comment">// Default will shut down</span></div>
<div class="line"><span class="lineno">   81</span>         space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#ac0f510cb0298b9cefe68102772fc5db7">set_shutdown_on_exceeded</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   82</span>         <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Shutdown flag when threshold exceeded set to true&quot;</span>);</div>
<div class="line"><span class="lineno">   83</span>      }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>      <span class="keyword">auto</span> warning_interval = options.at(<span class="stringliteral">&quot;resource-monitor-warning-interval&quot;</span>).as&lt;<a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt;();</div>
<div class="line"><span class="lineno">   86</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(warning_interval &gt;= warning_interval_min &amp;&amp; warning_interval &lt;= warning_interval_max, chain::plugin_config_exception,</div>
<div class="line"><span class="lineno">   87</span>         <span class="stringliteral">&quot;\&quot;resource-monitor-warning-interval\&quot; must be between ${warning_interval_min} and ${warning_interval_max}&quot;</span>, (<span class="stringliteral">&quot;warning_interval_min&quot;</span>, warning_interval_min) (<span class="stringliteral">&quot;warning_interval_max&quot;</span>, warning_interval_max));</div>
<div class="line"><span class="lineno">   88</span>      space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a5465fcb7ca6562cdb3622c5ef09b29a9">set_warning_interval</a>(warning_interval);</div>
<div class="line"><span class="lineno">   89</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Warning interval set to ${warning_interval}&quot;</span>, (<span class="stringliteral">&quot;warning_interval&quot;</span>, warning_interval));</div>
<div class="line"><span class="lineno">   90</span>   }</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_a51eaff9443b1a88e06cbbd1344a78071"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a51eaff9443b1a88e06cbbd1344a78071">sysio::resource_monitor::file_space_handler::set_threshold</a></div><div class="ttdeci">void set_threshold(uint32_t new_threshold, uint32_t new_warning_threshold)</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00027">file_space_handler.hpp:27</a></div></div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_a5465fcb7ca6562cdb3622c5ef09b29a9"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a5465fcb7ca6562cdb3622c5ef09b29a9">sysio::resource_monitor::file_space_handler::set_warning_interval</a></div><div class="ttdeci">void set_warning_interval(uint32_t new_warning_interval)</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00039">file_space_handler.hpp:39</a></div></div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_ac0f510cb0298b9cefe68102772fc5db7"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#ac0f510cb0298b9cefe68102772fc5db7">sysio::resource_monitor::file_space_handler::set_shutdown_on_exceeded</a></div><div class="ttdeci">void set_shutdown_on_exceeded(bool new_shutdown_on_exceeded)</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00035">file_space_handler.hpp:35</a></div></div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_af1ad683111aac7f94733e3866db0149e"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#af1ad683111aac7f94733e3866db0149e">sysio::resource_monitor::file_space_handler::set_sleep_time</a></div><div class="ttdeci">void set_sleep_time(uint32_t sleep_time)</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00021">file_space_handler.hpp:21</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00118">logger.hpp:118</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1resource__monitor__plugin__impl_a0660c265b1bb7600e647c61087be62da_cgraph.png" border="0" usemap="#aclasssysio_1_1resource__monitor__plugin__impl_a0660c265b1bb7600e647c61087be62da_cgraph" alt=""/></div>
<map name="aclasssysio_1_1resource__monitor__plugin__impl_a0660c265b1bb7600e647c61087be62da_cgraph" id="aclasssysio_1_1resource__monitor__plugin__impl_a0660c265b1bb7600e647c61087be62da_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,195,174"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#ac0f510cb0298b9cefe68102772fc5db7" title=" " alt="" coords="243,5,429,61"/>
<area shape="poly" title=" " alt="" coords="134,130,241,71,252,66,254,70,244,76,137,135"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#af1ad683111aac7f94733e3866db0149e" title=" " alt="" coords="256,85,416,141"/>
<area shape="poly" title=" " alt="" coords="195,134,240,127,241,132,196,140"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a51eaff9443b1a88e06cbbd1344a78071" title=" " alt="" coords="256,165,416,221"/>
<area shape="poly" title=" " alt="" coords="196,167,241,174,240,180,195,172"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a5465fcb7ca6562cdb3622c5ef09b29a9" title=" " alt="" coords="256,245,416,301"/>
<area shape="poly" title=" " alt="" coords="137,172,244,231,254,236,252,241,241,236,134,176"/>
</map>
</div>

</div>
</div>
<a id="afb3fda25f6f91bb22d539fd8df00d8e2" name="afb3fda25f6f91bb22d539fd8df00d8e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb3fda25f6f91bb22d539fd8df00d8e2">&#9670;&#160;</a></span>plugin_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::resource_monitor_plugin_impl::plugin_shutdown </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00121">121</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>                          {</div>
<div class="line"><span class="lineno">  122</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;shutdown...&quot;</span>);</div>
<div class="line"><span class="lineno">  123</span>   </div>
<div class="line"><span class="lineno">  124</span>      ctx.stop();</div>
<div class="line"><span class="lineno">  125</span>   </div>
<div class="line"><span class="lineno">  126</span>      <span class="comment">// Wait for the thread to end</span></div>
<div class="line"><span class="lineno">  127</span>      monitor_thread.join();</div>
<div class="line"><span class="lineno">  128</span>   </div>
<div class="line"><span class="lineno">  129</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;exit shutdown&quot;</span>);</div>
<div class="line"><span class="lineno">  130</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae06c885da6f082b29ca5b5ff8c5724e4" name="ae06c885da6f082b29ca5b5ff8c5724e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae06c885da6f082b29ca5b5ff8c5724e4">&#9670;&#160;</a></span>plugin_startup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::resource_monitor_plugin_impl::plugin_startup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00093">93</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>                         {</div>
<div class="line"><span class="lineno">   94</span>      <a class="code hl_define" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>(<span class="stringliteral">&quot;Creating and starting monitor thread&quot;</span>);</div>
<div class="line"><span class="lineno">   95</span>   </div>
<div class="line"><span class="lineno">   96</span>      <span class="comment">// By now all plugins are initialized.</span></div>
<div class="line"><span class="lineno">   97</span>      <span class="comment">// Find out filesystems containing the directories requested</span></div>
<div class="line"><span class="lineno">   98</span>      <span class="comment">// so far.</span></div>
<div class="line"><span class="lineno">   99</span>      <span class="keywordflow">for</span> ( <span class="keyword">auto</span>&amp; dir: directories_registered ) {</div>
<div class="line"><span class="lineno">  100</span>         space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6a5e01f3f35cab4c846640e060b91b63">add_file_system</a>( dir );</div>
<div class="line"><span class="lineno">  101</span>   </div>
<div class="line"><span class="lineno">  102</span>         <span class="comment">// A directory like &quot;data&quot; contains subdirectories like</span></div>
<div class="line"><span class="lineno">  103</span>         <span class="comment">// &quot;block&quot;. Those subdirectories can mount on different</span></div>
<div class="line"><span class="lineno">  104</span>         <span class="comment">// file systems. Make sure they are taken care of.</span></div>
<div class="line"><span class="lineno">  105</span>         <span class="keywordflow">for</span> (bfs::directory_iterator itr(dir); itr != bfs::directory_iterator(); ++itr) {</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a>(itr-&gt;path())) {</div>
<div class="line"><span class="lineno">  107</span>               space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6a5e01f3f35cab4c846640e060b91b63">add_file_system</a>( itr-&gt;path() );</div>
<div class="line"><span class="lineno">  108</span>            }</div>
<div class="line"><span class="lineno">  109</span>         }</div>
<div class="line"><span class="lineno">  110</span>      }</div>
<div class="line"><span class="lineno">  111</span>   </div>
<div class="line"><span class="lineno">  112</span>      monitor_thread = std::thread( [<span class="keyword">this</span>] {</div>
<div class="line"><span class="lineno">  113</span>         <a class="code hl_function" href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595">fc::set_os_thread_name</a>( <span class="stringliteral">&quot;resmon&quot;</span> ); <span class="comment">// console_appender uses 9 chars for thread name reporting. </span></div>
<div class="line"><span class="lineno">  114</span>         space_handler.<a class="code hl_function" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6faa30d2db31020b3db4886a554e147a">space_monitor_loop</a>();</div>
<div class="line"><span class="lineno">  115</span>   </div>
<div class="line"><span class="lineno">  116</span>         ctx.run();</div>
<div class="line"><span class="lineno">  117</span>      } );</div>
<div class="line"><span class="lineno">  118</span>   }</div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_a6a5e01f3f35cab4c846640e060b91b63"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6a5e01f3f35cab4c846640e060b91b63">sysio::resource_monitor::file_space_handler::add_file_system</a></div><div class="ttdeci">void add_file_system(const bfs::path &amp;path_name)</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00077">file_space_handler.hpp:77</a></div></div>
<div class="ttc" id="aclasssysio_1_1resource__monitor_1_1file__space__handler_html_a6faa30d2db31020b3db4886a554e147a"><div class="ttname"><a href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6faa30d2db31020b3db4886a554e147a">sysio::resource_monitor::file_space_handler::space_monitor_loop</a></div><div class="ttdeci">void space_monitor_loop()</div><div class="ttdef"><b>Definition</b> <a href="file__space__handler_8hpp_source.html#l00116">file_space_handler.hpp:116</a></div></div>
<div class="ttc" id="anamespacefc_html_ab123bfeadf918cc293ecad88bca7c499"><div class="ttname"><a href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499">fc::is_directory</a></div><div class="ttdeci">bool is_directory(const path &amp;p)</div><div class="ttdef"><b>Definition</b> <a href="filesystem_8cpp_source.html#l00225">filesystem.cpp:225</a></div></div>
<div class="ttc" id="anamespacefc_html_ab58a7f71e88d7d4d5761bbd24837c595"><div class="ttname"><a href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595">fc::set_os_thread_name</a></div><div class="ttdeci">void set_os_thread_name(const string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="logger__config_8cpp_source.html#l00136">logger_config.cpp:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1resource__monitor__plugin__impl_ae06c885da6f082b29ca5b5ff8c5724e4_cgraph.png" border="0" usemap="#aclasssysio_1_1resource__monitor__plugin__impl_ae06c885da6f082b29ca5b5ff8c5724e4_cgraph" alt=""/></div>
<map name="aclasssysio_1_1resource__monitor__plugin__impl_ae06c885da6f082b29ca5b5ff8c5724e4_cgraph" id="aclasssysio_1_1resource__monitor__plugin__impl_ae06c885da6f082b29ca5b5ff8c5724e4_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,188,144"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6a5e01f3f35cab4c846640e060b91b63" title=" " alt="" coords="236,5,396,61"/>
<area shape="poly" title=" " alt="" coords="147,101,232,65,234,70,149,105"/>
<area shape="rect" href="namespacefc.html#ab123bfeadf918cc293ecad88bca7c499" title=" " alt="" coords="263,86,370,111"/>
<area shape="poly" title=" " alt="" coords="188,111,247,104,247,109,188,116"/>
<area shape="rect" href="namespacefc.html#ab58a7f71e88d7d4d5761bbd24837c595" title=" " alt="" coords="236,135,397,161"/>
<area shape="poly" title=" " alt="" coords="188,131,220,135,220,140,188,136"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a6faa30d2db31020b3db4886a554e147a" title=" " alt="" coords="236,209,396,265"/>
<area shape="poly" title=" " alt="" coords="139,142,249,199,246,204,136,147"/>
<area shape="poly" title=" " alt="" coords="275,209,276,199,283,190,297,185,316,183,338,185,352,192,349,197,337,190,316,188,298,190,286,195,281,201,280,209"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="476,159,575,185"/>
<area shape="poly" title=" " alt="" coords="396,210,466,187,468,192,398,215"/>
<area shape="rect" href="classsysio_1_1resource__monitor_1_1file__space__handler.html#a3571fc8484a45f62857dcbe29d73aa28" title=" " alt="" coords="445,209,605,265"/>
<area shape="poly" title=" " alt="" coords="397,234,429,234,429,240,397,240"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="455,289,595,330"/>
<area shape="poly" title=" " alt="" coords="398,262,451,281,449,286,396,267"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="653,152,794,192"/>
<area shape="poly" title=" " alt="" coords="575,169,638,169,638,174,575,174"/>
</map>
</div>

</div>
</div>
<a id="a72bffc3828b3c596d680d57271dccdea" name="a72bffc3828b3c596d680d57271dccdea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72bffc3828b3c596d680d57271dccdea">&#9670;&#160;</a></span>set_program_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::resource_monitor_plugin_impl::set_program_options </td>
          <td>(</td>
          <td class="paramtype">options_description &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">options_description &amp;</td>          <td class="paramname"><span class="paramname"><em>cfg</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__monitor__plugin_8cpp_source.html#l00047">47</a> of file <a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>                                                                            {</div>
<div class="line"><span class="lineno">   48</span>      cfg.add_options()</div>
<div class="line"><span class="lineno">   49</span>         ( <span class="stringliteral">&quot;resource-monitor-interval-seconds&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(def_interval_in_secs),</div>
<div class="line"><span class="lineno">   50</span>           <span class="stringliteral">&quot;Time in seconds between two consecutive checks of resource usage. Should be between 1 and 300&quot;</span> )</div>
<div class="line"><span class="lineno">   51</span>         ( <span class="stringliteral">&quot;resource-monitor-space-threshold&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(def_space_threshold),</div>
<div class="line"><span class="lineno">   52</span>           <span class="stringliteral">&quot;Threshold in terms of percentage of used space vs total space. If used space is above (threshold - 5%), a warning is generated.  Unless resource-monitor-not-shutdown-on-threshold-exceeded is enabled, a graceful shutdown is initiated if used space is above the threshold. The value should be between 6 and 99&quot;</span> )</div>
<div class="line"><span class="lineno">   53</span>         ( <span class="stringliteral">&quot;resource-monitor-not-shutdown-on-threshold-exceeded&quot;</span>,</div>
<div class="line"><span class="lineno">   54</span>           <span class="stringliteral">&quot;Used to indicate nodeop will not shutdown when threshold is exceeded.&quot;</span> )</div>
<div class="line"><span class="lineno">   55</span>         ( <span class="stringliteral">&quot;resource-monitor-warning-interval&quot;</span>, bpo::value&lt;uint32_t&gt;()-&gt;default_value(def_monitor_warning_interval),</div>
<div class="line"><span class="lineno">   56</span>           <span class="stringliteral">&quot;Number of resource monitor intervals between two consecutive warnings when the threshold is hit. Should be between 1 and 450&quot;</span> )</div>
<div class="line"><span class="lineno">   57</span>         ;</div>
<div class="line"><span class="lineno">   58</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>plugins/resource_monitor_plugin/<a class="el" href="resource__monitor__plugin_8cpp_source.html">resource_monitor_plugin.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="classsysio_1_1resource__monitor__plugin__impl.html">resource_monitor_plugin_impl</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
