\doxysection{libraries/fc/vendor/websocketpp/examples/echo\+\_\+client/echo\+\_\+client.cpp File Reference}
\hypertarget{echo__client_8cpp}{}\label{echo__client_8cpp}\index{libraries/fc/vendor/websocketpp/examples/echo\_client/echo\_client.cpp@{libraries/fc/vendor/websocketpp/examples/echo\_client/echo\_client.cpp}}
{\ttfamily \#include $<$websocketpp/config/asio\+\_\+no\+\_\+tls\+\_\+client.\+hpp$>$}\newline
{\ttfamily \#include $<$websocketpp/client.\+hpp$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
Include dependency graph for echo\+\_\+client.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{echo__client_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{classwebsocketpp_1_1client}{websocketpp\+::client}}$<$ \mbox{\hyperlink{structwebsocketpp_1_1config_1_1asio__client}{websocketpp\+::config\+::asio\+\_\+client}} $>$ \mbox{\hyperlink{echo__client_8cpp_aff8c62b83a9c8aefc476f96166656b76}{client}}
\item 
typedef \mbox{\hyperlink{classwebsocketpp_1_1message__buffer_1_1message_a665ccc8a3883dbea049aef85c46efe7f}{websocketpp\+::config\+::asio\+\_\+client\+::message\+\_\+type\+::ptr}} \mbox{\hyperlink{echo__client_8cpp_a8d7da57f57aec5c532259ba0b3fc7a78}{message\+\_\+ptr}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4}{on\+\_\+message}} (\mbox{\hyperlink{debug__client_8cpp_aff8c62b83a9c8aefc476f96166656b76}{client}} \texorpdfstring{$\ast$}{*}c, \mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp\+::connection\+\_\+hdl}} hdl, \mbox{\hyperlink{debug__client_8cpp_a08398c4d31a4dc3e42d1b9a9ef64c6ad}{message\+\_\+ptr}} msg)
\item 
int \mbox{\hyperlink{echo__client_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{hello__driver_8cpp_af2efa898e9eed6fe6715279cb1ec35b0}{argv}}\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\Hypertarget{echo__client_8cpp_aff8c62b83a9c8aefc476f96166656b76}\index{echo\_client.cpp@{echo\_client.cpp}!client@{client}}
\index{client@{client}!echo\_client.cpp@{echo\_client.cpp}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily \label{echo__client_8cpp_aff8c62b83a9c8aefc476f96166656b76} 
typedef \mbox{\hyperlink{classwebsocketpp_1_1client}{websocketpp\+::client}}$<$\mbox{\hyperlink{structwebsocketpp_1_1config_1_1asio__client}{websocketpp\+::config\+::asio\+\_\+client}}$>$ \mbox{\hyperlink{debug__client_8cpp_aff8c62b83a9c8aefc476f96166656b76}{client}}}



Definition at line \mbox{\hyperlink{echo__client_8cpp_source_l00033}{33}} of file \mbox{\hyperlink{echo__client_8cpp_source}{echo\+\_\+client.\+cpp}}.

\Hypertarget{echo__client_8cpp_a8d7da57f57aec5c532259ba0b3fc7a78}\index{echo\_client.cpp@{echo\_client.cpp}!message\_ptr@{message\_ptr}}
\index{message\_ptr@{message\_ptr}!echo\_client.cpp@{echo\_client.cpp}}
\doxysubsubsection{\texorpdfstring{message\_ptr}{message\_ptr}}
{\footnotesize\ttfamily \label{echo__client_8cpp_a8d7da57f57aec5c532259ba0b3fc7a78} 
typedef \mbox{\hyperlink{classwebsocketpp_1_1message__buffer_1_1message_a665ccc8a3883dbea049aef85c46efe7f}{websocketpp\+::config\+::asio\+\_\+client\+::message\+\_\+type\+::ptr}} \mbox{\hyperlink{debug__client_8cpp_a08398c4d31a4dc3e42d1b9a9ef64c6ad}{message\+\_\+ptr}}}



Definition at line \mbox{\hyperlink{echo__client_8cpp_source_l00040}{40}} of file \mbox{\hyperlink{echo__client_8cpp_source}{echo\+\_\+client.\+cpp}}.



\doxysubsection{Function Documentation}
\Hypertarget{echo__client_8cpp_a0ddf1224851353fc92bfbff6f499fa97}\index{echo\_client.cpp@{echo\_client.cpp}!main@{main}}
\index{main@{main}!echo\_client.cpp@{echo\_client.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{echo__client_8cpp_a0ddf1224851353fc92bfbff6f499fa97} 
int main (\begin{DoxyParamCaption}\item[{int}]{argc}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{argv}{\mbox{[}$\,$\mbox{]}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{echo__client_8cpp_source_l00058}{58}} of file \mbox{\hyperlink{echo__client_8cpp_source}{echo\+\_\+client.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{comment}{//\ Create\ a\ client\ endpoint}}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1client}{client}}\ c;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ std::string\ uri\ =\ \textcolor{stringliteral}{"{}ws://localhost:9002"{}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{if}\ (argc\ ==\ 2)\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ uri\ =\ \mbox{\hyperlink{hello__driver_8cpp_af2efa898e9eed6fe6715279cb1ec35b0}{argv}}[1];}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Set\ logging\ to\ be\ pretty\ verbose\ (everything\ except\ message\ payloads)}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{classwebsocketpp_1_1endpoint_a5d7da609ebd2f797e5e67b6d050ebc59}{set\_access\_channels}}(\mbox{\hyperlink{structwebsocketpp_1_1log_1_1alevel_a853aa0b8976e53f3181af3bc398d493e}{websocketpp::log::alevel::all}});}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{classwebsocketpp_1_1endpoint_a3fe357b3c6434273a9965eb52902575d}{clear\_access\_channels}}(\mbox{\hyperlink{structwebsocketpp_1_1log_1_1alevel_aa38cfdf7a82f33cac319438462707e90}{websocketpp::log::alevel::frame\_payload}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ ASIO}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ c.init\_asio();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Register\ our\ message\ handler}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{classwebsocketpp_1_1endpoint_a34a3a8351bff65ba878975be471cab85}{set\_message\_handler}}(bind(\&\mbox{\hyperlink{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4}{on\_message}},\&c,::\_1,::\_2));}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ websocketpp::lib::error\_code\ ec;}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classwebsocketpp_1_1client_ad9e541a43023d33d5cd5669d62a13edc}{client::connection\_ptr}}\ con\ =\ c.\mbox{\hyperlink{classwebsocketpp_1_1client_aa95cec974921e32bc37a61c683ae240d}{get\_connection}}(uri,\ ec);}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}could\ not\ create\ connection\ because:\ "{}}\ <<\ ec.message()\ <<\ std::endl;}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note\ that\ connect\ here\ only\ requests\ a\ connection.\ No\ network\ messages\ are}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ exchanged\ until\ the\ event\ loop\ starts\ running\ in\ the\ next\ line.}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ c.\mbox{\hyperlink{classwebsocketpp_1_1client_a818c30343180123bf1fee6dc21524bae}{connect}}(con);}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Start\ the\ ASIO\ io\_service\ run\ loop}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ will\ cause\ a\ single\ connection\ to\ be\ made\ to\ the\ server.\ c.run()}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ will\ exit\ when\ this\ connection\ is\ closed.}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ c.run();}
\DoxyCodeLine{00094\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\mbox{\hyperlink{classwebsocketpp_1_1exception}{websocketpp::exception}}\ \textcolor{keyword}{const}\ \&\ e)\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ std::cout\ <<\ e.\mbox{\hyperlink{classwebsocketpp_1_1exception_a62dabd977bc59faaca6dc268744a6089}{what}}()\ <<\ std::endl;}
\DoxyCodeLine{00096\ \ \ \ \ \}}
\DoxyCodeLine{00097\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{echo__client_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}
\Hypertarget{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4}\index{echo\_client.cpp@{echo\_client.cpp}!on\_message@{on\_message}}
\index{on\_message@{on\_message}!echo\_client.cpp@{echo\_client.cpp}}
\doxysubsubsection{\texorpdfstring{on\_message()}{on\_message()}}
{\footnotesize\ttfamily \label{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4} 
void on\+\_\+message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{debug__client_8cpp_aff8c62b83a9c8aefc476f96166656b76}{client}} \texorpdfstring{$\ast$}{*}}]{c}{, }\item[{\mbox{\hyperlink{namespacewebsocketpp_a6b3d26a10ee7229b84b776786332631d}{websocketpp\+::connection\+\_\+hdl}}}]{hdl}{, }\item[{\mbox{\hyperlink{debug__client_8cpp_a08398c4d31a4dc3e42d1b9a9ef64c6ad}{message\+\_\+ptr}}}]{msg}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{echo__client_8cpp_source_l00044}{44}} of file \mbox{\hyperlink{echo__client_8cpp_source}{echo\+\_\+client.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}on\_message\ called\ with\ hdl:\ "{}}\ <<\ hdl.lock().get()}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ and\ message:\ "{}}\ <<\ msg-\/>get\_payload()}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::endl;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ websocketpp::lib::error\_code\ ec;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ c-\/>\mbox{\hyperlink{classwebsocketpp_1_1endpoint_a5341f59de7ef1a565a2fd93daba212d5}{send}}(hdl,\ msg-\/>get\_payload(),\ msg-\/>get\_opcode(),\ ec);}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (ec)\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Echo\ failed\ because:\ "{}}\ <<\ ec.message()\ <<\ std::endl;}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{echo__client_8cpp_a8c13595a4801a15825ae3f8c8bb37ed4_icgraph}
\end{center}
\end{figure}
