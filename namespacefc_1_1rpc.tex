\doxysection{fc\+::rpc Namespace Reference}
\hypertarget{namespacefc_1_1rpc}{}\label{namespacefc_1_1rpc}\index{fc::rpc@{fc::rpc}}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacefc_1_1rpc_1_1detail}{detail}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classfc_1_1rpc_1_1cli}{cli}}
\item 
class \mbox{\hyperlink{classfc_1_1rpc_1_1http__api__connection}{http\+\_\+api\+\_\+connection}}
\item 
class \mbox{\hyperlink{classfc_1_1rpc_1_1variant__connection}{variant\+\_\+connection}}
\begin{DoxyCompactList}\small\item\em Implements JSON-\/\+RPC 2.\+0 over a set of io streams. \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classfc_1_1rpc_1_1websocket__api__connection}{websocket\+\_\+api\+\_\+connection}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classfc_1_1rpc_1_1variant__connection}{variant\+\_\+connection}} $>$ \mbox{\hyperlink{namespacefc_1_1rpc_a2f42adbdd7ff0dd29811a10853bfd6d3}{variant\+\_\+connection\+\_\+ptr}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{namespacefc_1_1rpc_a6e50a2bcfa36775f346d89b0f1ecd4a5}{dupstr}} (const char \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}})
\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{namespacefc_1_1rpc_a5b0fdab4a501d66895000ed73dffbe0d}{my\+\_\+generator}} (const char \texorpdfstring{$\ast$}{*}text, int \mbox{\hyperlink{structstate}{state}})
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a972a1f3a6ecbcfa9287869a080123166}{catch}} (const std\+::bad\+\_\+alloc \&)
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a8722d93a0df89e4a47655ce74f760a69}{catch}} (const boost\+::interprocess\+::bad\+\_\+alloc \&)
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a15052a8bc6135bbb13d3f502b21b6c3b}{catch}} (const \mbox{\hyperlink{classfc_1_1exception}{fc\+::exception}} \&e)
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a4000e6f30ccc6e3774897885bf41cd00}{catch}} (const std\+::exception \&e)
\item 
resp \mbox{\hyperlink{namespacefc_1_1rpc_ae82780722305f60c24ae80a60d4f5a29}{set\+\_\+length}} (resp\+\_\+body.\+length())
\item 
resp \mbox{\hyperlink{namespacefc_1_1rpc_a656aba71dbbc4291f2ca204d15463e1e}{write}} (resp\+\_\+body.\+c\+\_\+str(), resp\+\_\+body.\+length())
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a4b164336e3a18f74beb9a7cc48530f53}{try}}
\item 
\mbox{\hyperlink{namespacefc_1_1rpc_a07dd841319f374bcf4d9a28fe5d25774}{return}}
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\Hypertarget{namespacefc_1_1rpc_a2f42adbdd7ff0dd29811a10853bfd6d3}\index{fc::rpc@{fc::rpc}!variant\_connection\_ptr@{variant\_connection\_ptr}}
\index{variant\_connection\_ptr@{variant\_connection\_ptr}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{variant\_connection\_ptr}{variant\_connection\_ptr}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a2f42adbdd7ff0dd29811a10853bfd6d3} 
typedef std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classfc_1_1rpc_1_1variant__connection}{variant\+\_\+connection}}$>$ \mbox{\hyperlink{namespacefc_1_1rpc_a2f42adbdd7ff0dd29811a10853bfd6d3}{fc\+::rpc\+::variant\+\_\+connection\+\_\+ptr}}}



Definition at line \mbox{\hyperlink{variant__connection_8hpp_source_l00135}{135}} of file \mbox{\hyperlink{variant__connection_8hpp_source}{variant\+\_\+connection.\+hpp}}.



\doxysubsection{Function Documentation}
\Hypertarget{namespacefc_1_1rpc_a8722d93a0df89e4a47655ce74f760a69}\index{fc::rpc@{fc::rpc}!catch@{catch}}
\index{catch@{catch}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{catch()}{catch()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a8722d93a0df89e4a47655ce74f760a69} 
fc\+::rpc\+::catch (\begin{DoxyParamCaption}\item[{const boost\+::interprocess\+::bad\+\_\+alloc \&}]{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00145}{145}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00146\ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00148\ \ \ \ \}\ }

\end{DoxyCode}
\Hypertarget{namespacefc_1_1rpc_a15052a8bc6135bbb13d3f502b21b6c3b}\index{fc::rpc@{fc::rpc}!catch@{catch}}
\index{catch@{catch}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{catch()}{catch()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a15052a8bc6135bbb13d3f502b21b6c3b} 
fc\+::rpc\+::catch (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classfc_1_1exception}{fc\+::exception}} \&}]{e}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00149}{149}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \ \ \ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ handle\_error(e);}
\DoxyCodeLine{00152\ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{namespacefc_1_1rpc_a972a1f3a6ecbcfa9287869a080123166}\index{fc::rpc@{fc::rpc}!catch@{catch}}
\index{catch@{catch}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{catch()}{catch()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a972a1f3a6ecbcfa9287869a080123166} 
fc\+::rpc\+::catch (\begin{DoxyParamCaption}\item[{const std\+::bad\+\_\+alloc \&}]{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00141}{141}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00142\ \ \ \ \{}
\DoxyCodeLine{00143\ \ \ \ \ \ \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00144\ \ \ \ \}\ }

\end{DoxyCode}
\Hypertarget{namespacefc_1_1rpc_a4000e6f30ccc6e3774897885bf41cd00}\index{fc::rpc@{fc::rpc}!catch@{catch}}
\index{catch@{catch}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{catch()}{catch()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a4000e6f30ccc6e3774897885bf41cd00} 
fc\+::rpc\+::catch (\begin{DoxyParamCaption}\item[{const std\+::exception \&}]{e}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00153}{153}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00154\ \ \ \ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ handle\_error(\mbox{\hyperlink{classfc_1_1std__exception__wrapper_ae5ad64f84b1d373f5b92031566284c7c}{fc::std\_exception\_wrapper::from\_current\_exception}}(e));}
\DoxyCodeLine{00156\ \ \ \ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{namespacefc_1_1rpc_a4000e6f30ccc6e3774897885bf41cd00_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacefc_1_1rpc_a6e50a2bcfa36775f346d89b0f1ecd4a5}\index{fc::rpc@{fc::rpc}!dupstr@{dupstr}}
\index{dupstr@{dupstr}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{dupstr()}{dupstr()}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a6e50a2bcfa36775f346d89b0f1ecd4a5} 
char \texorpdfstring{$\ast$}{*} fc\+::rpc\+::dupstr (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{s}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{cli_8cpp_source_l00141}{141}} of file \mbox{\hyperlink{cli_8cpp_source}{cli.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00142\ \ \ \ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}}\ =\ (\textcolor{keywordtype}{char}*)\ malloc\ ((strlen\ (\mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}})\ +\ 1));}
\DoxyCodeLine{00145\ \ \ \ strcpy\ (\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}},\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a506da415c9307c897ca9be93acfe1d0f}{s}});}
\DoxyCodeLine{00146\ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{bn_8cpp_af0a5201ca8846f05f25435b41d7f39f7}{r}});}
\DoxyCodeLine{00147\ \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{namespacefc_1_1rpc_a6e50a2bcfa36775f346d89b0f1ecd4a5_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacefc_1_1rpc_a5b0fdab4a501d66895000ed73dffbe0d}\index{fc::rpc@{fc::rpc}!my\_generator@{my\_generator}}
\index{my\_generator@{my\_generator}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{my\_generator()}{my\_generator()}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a5b0fdab4a501d66895000ed73dffbe0d} 
char \texorpdfstring{$\ast$}{*} fc\+::rpc\+::my\+\_\+generator (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{text}{, }\item[{int}]{state}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{cli_8cpp_source_l00149}{149}} of file \mbox{\hyperlink{cli_8cpp_source}{cli.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \{}
\DoxyCodeLine{00151\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ list\_index,\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}};}
\DoxyCodeLine{00152\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}};}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structstate}{state}})\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ list\_index\ =\ 0;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}}\ =\ strlen\ (text);}
\DoxyCodeLine{00157\ \ \ \ \}}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \textcolor{keyword}{auto}\&\ cmd\ =\ cli\_commands();}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \textcolor{keywordflow}{while}(\ list\_index\ <\ cmd.size()\ )\ }
\DoxyCodeLine{00162\ \ \ \ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}\ =\ cmd[list\_index].c\_str();}
\DoxyCodeLine{00164\ \ \ \ \ \ \ list\_index++;}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strncmp\ (\mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}},\ text,\ \mbox{\hyperlink{yubihsm__pkcs11_8c_a7360b55975153b822efc5217b7734e6a}{len}})\ ==\ 0)}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (dupstr(\mbox{\hyperlink{catch__reporter__console_8cpp_a9b45b3e13bd9167aab02e17e08916231}{name}}));}
\DoxyCodeLine{00168\ \ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \textcolor{comment}{/*\ If\ no\ names\ matched,\ then\ return\ NULL.\ */}}
\DoxyCodeLine{00171\ \ \ \ \textcolor{keywordflow}{return}\ ((\textcolor{keywordtype}{char}\ *)NULL);}
\DoxyCodeLine{00172\ \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{namespacefc_1_1rpc_a5b0fdab4a501d66895000ed73dffbe0d_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacefc_1_1rpc_ae82780722305f60c24ae80a60d4f5a29}\index{fc::rpc@{fc::rpc}!set\_length@{set\_length}}
\index{set\_length@{set\_length}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{set\_length()}{set\_length()}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_ae82780722305f60c24ae80a60d4f5a29} 
resp fc\+::rpc\+::set\+\_\+length (\begin{DoxyParamCaption}\item[{resp\+\_\+body.}]{length}{()}\end{DoxyParamCaption})}

\Hypertarget{namespacefc_1_1rpc_a656aba71dbbc4291f2ca204d15463e1e}\index{fc::rpc@{fc::rpc}!write@{write}}
\index{write@{write}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a656aba71dbbc4291f2ca204d15463e1e} 
resp fc\+::rpc\+::write (\begin{DoxyParamCaption}\item[{resp\+\_\+body.}]{c\+\_\+str}{(), }\item[{resp\+\_\+body.}]{length}{()}\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\Hypertarget{namespacefc_1_1rpc_a07dd841319f374bcf4d9a28fe5d25774}\index{fc::rpc@{fc::rpc}!return@{return}}
\index{return@{return}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{return}{return}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a07dd841319f374bcf4d9a28fe5d25774} 
fc\+::rpc\+::return}



Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00180}{180}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.

\Hypertarget{namespacefc_1_1rpc_a4b164336e3a18f74beb9a7cc48530f53}\index{fc::rpc@{fc::rpc}!try@{try}}
\index{try@{try}!fc::rpc@{fc::rpc}}
\doxysubsubsection{\texorpdfstring{try}{try}}
{\footnotesize\ttfamily \label{namespacefc_1_1rpc_a4b164336e3a18f74beb9a7cc48530f53} 
fc\+::rpc\+::try}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \ \ resp.set\_status(\ resp\_status\ )}

\end{DoxyCode}


Definition at line \mbox{\hyperlink{http__api_8cpp_source_l00158}{158}} of file \mbox{\hyperlink{http__api_8cpp_source}{http\+\_\+api.\+cpp}}.

