<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1connection.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classsysio_1_1connection-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::connection Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for sysio::connection:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection__inherit__graph.png" border="0" usemap="#asysio_1_1connection_inherit__map" alt="Inheritance graph"/></div>
<map name="asysio_1_1connection_inherit__map" id="asysio_1_1connection_inherit__map">
<area shape="rect" title=" " alt="" coords="28,94,152,120"/>
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="poly" title=" " alt="" coords="93,62,93,93,87,93,87,62"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for sysio::connection:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection__coll__graph.png" border="0" usemap="#asysio_1_1connection_coll__map" alt="Collaboration graph"/></div>
<map name="asysio_1_1connection_coll__map" id="asysio_1_1connection_coll__map">
<area shape="rect" title=" " alt="" coords="796,280,919,305"/>
<area shape="rect" title=" " alt="" coords="422,5,592,46"/>
<area shape="poly" title=" " alt="" coords="607,13,649,15,693,22,735,37,773,60,797,84,817,113,831,144,842,176,854,236,858,279,853,280,849,237,837,177,826,146,812,115,793,87,770,64,733,41,692,28,649,20,607,19"/>
<area shape="rect" href="classfc_1_1message__buffer.html" title=" " alt="" coords="440,71,574,111"/>
<area shape="poly" title=" " alt="" coords="589,79,634,79,682,85,730,98,773,121,793,138,809,158,833,202,849,245,856,278,851,280,843,247,828,204,804,161,789,141,770,125,728,103,681,90,634,85,589,85"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html" title=" " alt="" coords="436,136,578,161"/>
<area shape="poly" title=" " alt="" coords="594,140,637,141,683,147,730,159,773,178,801,200,824,228,853,278,848,281,820,231,798,204,770,183,728,164,682,152,637,146,594,145"/>
<area shape="rect" title=" " alt="" coords="143,136,277,161"/>
<area shape="poly" title=" " alt="" coords="293,146,435,146,435,151,293,151"/>
<area shape="rect" href="classfc_1_1sha256.html" title=" " alt="" coords="5,485,88,510"/>
<area shape="poly" title=" " alt="" coords="58,469,89,415,110,385,135,358,203,301,263,264,329,238,415,215,474,206,534,205,594,210,651,221,754,249,827,276,825,281,752,254,650,226,593,216,534,210,474,211,416,220,330,243,265,269,207,305,139,362,114,388,93,417,62,472"/>
<area shape="rect" href="structsysio_1_1handshake__message.html" title=" " alt="" coords="415,553,599,578"/>
<area shape="poly" title=" " alt="" coords="103,502,392,543,431,550,430,555,391,548,103,507"/>
<area shape="rect" href="structsysio_1_1chain_1_1chain__id__type.html" title=" " alt="" coords="145,545,275,586"/>
<area shape="poly" title=" " alt="" coords="94,514,160,542,158,547,92,519"/>
<area shape="rect" title=" " alt="" coords="184,373,237,398"/>
<area shape="poly" title=" " alt="" coords="252,384,405,383,502,377,598,365,660,352,721,336,820,303,821,308,722,341,661,357,599,370,502,382,405,388,252,390"/>
<area shape="poly" title=" " alt="" coords="253,397,285,416,297,433,309,449,331,459,351,462,372,466,393,480,403,495,406,510,408,524,417,537,438,550,435,555,413,541,403,526,400,511,398,497,389,484,370,471,350,467,329,464,306,453,293,436,282,420,250,401"/>
<area shape="rect" href="classfc_1_1time__point.html" title=" " alt="" coords="457,437,557,462"/>
<area shape="poly" title=" " alt="" coords="570,464,617,471,669,473,722,466,747,459,770,447,789,433,804,416,828,376,843,336,851,305,856,306,848,338,833,378,808,419,792,437,773,452,749,464,723,472,669,479,616,476,569,469"/>
<area shape="rect" href="classsysio_1_1block__status__monitor.html" title=" " alt="" coords="440,487,574,527"/>
<area shape="poly" title=" " alt="" coords="590,523,634,526,682,525,728,515,770,494,792,475,810,451,834,397,847,345,853,305,858,306,853,346,839,399,814,454,796,479,773,499,730,520,682,530,634,532,589,528"/>
<area shape="poly" title=" " alt="" coords="564,580,612,590,667,593,721,586,747,577,770,563,798,536,819,503,834,466,845,428,854,356,854,306,859,306,859,357,850,429,839,468,824,505,802,539,773,567,749,581,723,591,667,599,612,595,563,586"/>
<area shape="poly" title=" " alt="" coords="291,563,415,563,415,568,291,568"/>
<area shape="rect" href="classfc_1_1crypto_1_1public__key.html" title=" " alt="" coords="137,610,283,636"/>
<area shape="poly" title=" " alt="" coords="295,604,436,577,437,582,296,609"/>
<area shape="rect" href="classfc_1_1crypto_1_1signature.html" title=" " alt="" coords="142,660,279,685"/>
<area shape="poly" title=" " alt="" coords="287,653,390,621,440,599,481,577,484,581,442,604,392,626,288,658"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2471e946c569bcc409e211e452c4860" id="r_ac2471e946c569bcc409e211e452c4860"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2471e946c569bcc409e211e452c4860">connection</a> (const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp;endpoint)</td></tr>
<tr class="separator:ac2471e946c569bcc409e211e452c4860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20a18eecf990abbc37dd8cf3a221623" id="r_ab20a18eecf990abbc37dd8cf3a221623"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab20a18eecf990abbc37dd8cf3a221623">connection</a> ()</td></tr>
<tr class="separator:ab20a18eecf990abbc37dd8cf3a221623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69709b0cfa29006569e7dcc6cd935c89" id="r_a69709b0cfa29006569e7dcc6cd935c89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69709b0cfa29006569e7dcc6cd935c89">~connection</a> ()=default</td></tr>
<tr class="separator:a69709b0cfa29006569e7dcc6cd935c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4267b7b591fb8051841cf1d11228e0e1" id="r_a4267b7b591fb8051841cf1d11228e0e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4267b7b591fb8051841cf1d11228e0e1">start_session</a> ()</td></tr>
<tr class="separator:a4267b7b591fb8051841cf1d11228e0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee4be2152a35cc0122e53365e8e1937" id="r_adee4be2152a35cc0122e53365e8e1937"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adee4be2152a35cc0122e53365e8e1937">socket_is_open</a> () const</td></tr>
<tr class="separator:adee4be2152a35cc0122e53365e8e1937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca3e3acacf8047c389e0bda758da197d" id="r_aca3e3acacf8047c389e0bda758da197d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a> () const</td></tr>
<tr class="separator:aca3e3acacf8047c389e0bda758da197d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e59aa67f74b1e5bb0a2d8e7db584cdd" id="r_a1e59aa67f74b1e5bb0a2d8e7db584cdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e59aa67f74b1e5bb0a2d8e7db584cdd">set_connection_type</a> (const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp;peer_addr)</td></tr>
<tr class="separator:a1e59aa67f74b1e5bb0a2d8e7db584cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e344302f09cb876c9549cb2aa368f2e" id="r_a9e344302f09cb876c9549cb2aa368f2e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e344302f09cb876c9549cb2aa368f2e">is_transactions_only_connection</a> () const</td></tr>
<tr class="separator:a9e344302f09cb876c9549cb2aa368f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a00f9a9487c8604ac53ff47aa7316e8" id="r_a7a00f9a9487c8604ac53ff47aa7316e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a00f9a9487c8604ac53ff47aa7316e8">is_blocks_only_connection</a> () const</td></tr>
<tr class="separator:a7a00f9a9487c8604ac53ff47aa7316e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a028630cf58fe0facfd2d756f6c203180" id="r_a028630cf58fe0facfd2d756f6c203180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a028630cf58fe0facfd2d756f6c203180">set_heartbeat_timeout</a> (std::chrono::milliseconds msec)</td></tr>
<tr class="separator:a028630cf58fe0facfd2d756f6c203180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7d761d1d284b8cbbeeb74d20615d6d" id="r_a0a7d761d1d284b8cbbeeb74d20615d6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1connection__status.html">connection_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a7d761d1d284b8cbbeeb74d20615d6d">get_status</a> () const</td></tr>
<tr class="separator:a0a7d761d1d284b8cbbeeb74d20615d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389358826bf8da3e54bebbd7db92120c" id="r_a389358826bf8da3e54bebbd7db92120c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a389358826bf8da3e54bebbd7db92120c">connected</a> ()</td></tr>
<tr class="separator:a389358826bf8da3e54bebbd7db92120c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1cd3ec121a5ff8d01c2292834923a1" id="r_aeb1cd3ec121a5ff8d01c2292834923a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb1cd3ec121a5ff8d01c2292834923a1">current</a> ()</td></tr>
<tr class="separator:aeb1cd3ec121a5ff8d01c2292834923a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe7bb50b91bd69cdf56c7c09a868e29" id="r_a7fe7bb50b91bd69cdf56c7c09a868e29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a> (bool reconnect=true, bool shutdown=false)</td></tr>
<tr class="separator:a7fe7bb50b91bd69cdf56c7c09a868e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8d94a6b6483822c52f08624e8dc9e7" id="r_aec8d94a6b6483822c52f08624e8dc9e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec8d94a6b6483822c52f08624e8dc9e7">populate_handshake</a> (<a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;hello)</td></tr>
<tr class="separator:aec8d94a6b6483822c52f08624e8dc9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ecb500e5bd8050f97f0c5a585df2ad" id="r_a11ecb500e5bd8050f97f0c5a585df2ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11ecb500e5bd8050f97f0c5a585df2ad">resolve_and_connect</a> ()</td></tr>
<tr class="separator:a11ecb500e5bd8050f97f0c5a585df2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb332843c0924e4597fe1d992367232" id="r_a4bb332843c0924e4597fe1d992367232"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bb332843c0924e4597fe1d992367232">connect</a> (const std::shared_ptr&lt; tcp::resolver &gt; &amp;resolver, tcp::resolver::results_type endpoints)</td></tr>
<tr class="separator:a4bb332843c0924e4597fe1d992367232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1658474d4667bfca0ee4e1e2c605a8" id="r_a5b1658474d4667bfca0ee4e1e2c605a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b1658474d4667bfca0ee4e1e2c605a8">start_read_message</a> ()</td></tr>
<tr class="separator:a5b1658474d4667bfca0ee4e1e2c605a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f41e41ebd6b4570bc19a31b4bb1fef" id="r_a27f41e41ebd6b4570bc19a31b4bb1fef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27f41e41ebd6b4570bc19a31b4bb1fef">process_next_message</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> message_length)</td></tr>
<tr class="memdesc:a27f41e41ebd6b4570bc19a31b4bb1fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the next message from the pending message buffer.  <br /></td></tr>
<tr class="separator:a27f41e41ebd6b4570bc19a31b4bb1fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b561baeda5353d7c1a1e2a8a0c88e1" id="r_a55b561baeda5353d7c1a1e2a8a0c88e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55b561baeda5353d7c1a1e2a8a0c88e1">send_handshake</a> ()</td></tr>
<tr class="separator:a55b561baeda5353d7c1a1e2a8a0c88e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9e30160fc0db3e2842bcb868cb34a0" id="r_a5b9e30160fc0db3e2842bcb868cb34a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b9e30160fc0db3e2842bcb868cb34a0">blk_send_branch</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;msg_head_id)</td></tr>
<tr class="separator:a5b9e30160fc0db3e2842bcb868cb34a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f2f3f3cbd12528d708c86e7568e282" id="r_a97f2f3f3cbd12528d708c86e7568e282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97f2f3f3cbd12528d708c86e7568e282">blk_send_branch_impl</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> msg_head_num, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib_num, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> head_num)</td></tr>
<tr class="separator:a97f2f3f3cbd12528d708c86e7568e282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26752470d31dda1a5140351cbfa375c4" id="r_a26752470d31dda1a5140351cbfa375c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26752470d31dda1a5140351cbfa375c4">blk_send</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;blkid)</td></tr>
<tr class="separator:a26752470d31dda1a5140351cbfa375c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab07f49d550a613d2ceb2520b331f5ac1" id="r_ab07f49d550a613d2ceb2520b331f5ac1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab07f49d550a613d2ceb2520b331f5ac1">stop_send</a> ()</td></tr>
<tr class="separator:ab07f49d550a613d2ceb2520b331f5ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a1bcdfc4bd9d2c7ab2278240def6b6" id="r_ad6a1bcdfc4bd9d2c7ab2278240def6b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a> (const <a class="el" href="namespacesysio.html#a783ade47a6f13a71a9b75cd2c68d9965">net_message</a> &amp;msg)</td></tr>
<tr class="separator:ad6a1bcdfc4bd9d2c7ab2278240def6b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cc5bf70b8c46a2325c5021a3fd06fb" id="r_af8cc5bf70b8c46a2325c5021a3fd06fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8cc5bf70b8c46a2325c5021a3fd06fb">enqueue_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;sb, bool to_sync_queue=false)</td></tr>
<tr class="separator:af8cc5bf70b8c46a2325c5021a3fd06fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111bb23671fbd3acac7e1196a6cf8617" id="r_a111bb23671fbd3acac7e1196a6cf8617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a111bb23671fbd3acac7e1196a6cf8617">enqueue_buffer</a> (const std::shared_ptr&lt; std::vector&lt; char &gt; &gt; &amp;send_buffer, <a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a> close_after_send, bool to_sync_queue=false)</td></tr>
<tr class="separator:a111bb23671fbd3acac7e1196a6cf8617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088db9bdbe7600d3af19c9272359b7fe" id="r_a088db9bdbe7600d3af19c9272359b7fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a088db9bdbe7600d3af19c9272359b7fe">cancel_sync</a> (<a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a>)</td></tr>
<tr class="separator:a088db9bdbe7600d3af19c9272359b7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ccfb43cb79f666e6548ffeb9f205f2" id="r_a51ccfb43cb79f666e6548ffeb9f205f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51ccfb43cb79f666e6548ffeb9f205f2">flush_queues</a> ()</td></tr>
<tr class="separator:a51ccfb43cb79f666e6548ffeb9f205f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099523d62bc60e4a13deda1fe15845ad" id="r_a099523d62bc60e4a13deda1fe15845ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a099523d62bc60e4a13deda1fe15845ad">enqueue_sync_block</a> ()</td></tr>
<tr class="separator:a099523d62bc60e4a13deda1fe15845ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080e39968a1bee189ac8ae9beca41a62" id="r_a080e39968a1bee189ac8ae9beca41a62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a080e39968a1bee189ac8ae9beca41a62">request_sync_blocks</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> start, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> end)</td></tr>
<tr class="separator:a080e39968a1bee189ac8ae9beca41a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a7d2b5432bfc0eccde29ce39abd4b8" id="r_ae3a7d2b5432bfc0eccde29ce39abd4b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3a7d2b5432bfc0eccde29ce39abd4b8">cancel_wait</a> ()</td></tr>
<tr class="separator:ae3a7d2b5432bfc0eccde29ce39abd4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80478330d64f3618011b52a3d46741bf" id="r_a80478330d64f3618011b52a3d46741bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80478330d64f3618011b52a3d46741bf">sync_wait</a> ()</td></tr>
<tr class="separator:a80478330d64f3618011b52a3d46741bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58095c1fbfc10594cbb531df695da740" id="r_a58095c1fbfc10594cbb531df695da740"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58095c1fbfc10594cbb531df695da740">fetch_wait</a> ()</td></tr>
<tr class="separator:a58095c1fbfc10594cbb531df695da740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e0cfdddd3e9310edf72ac725bbe995" id="r_ad0e0cfdddd3e9310edf72ac725bbe995"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0e0cfdddd3e9310edf72ac725bbe995">sync_timeout</a> (boost::system::error_code ec)</td></tr>
<tr class="separator:ad0e0cfdddd3e9310edf72ac725bbe995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde007266cc5383dab51c24d67d541f5" id="r_adde007266cc5383dab51c24d67d541f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adde007266cc5383dab51c24d67d541f5">fetch_timeout</a> (boost::system::error_code ec)</td></tr>
<tr class="separator:adde007266cc5383dab51c24d67d541f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85a6909e1a531d6c27c0d22f12e61c9" id="r_ae85a6909e1a531d6c27c0d22f12e61c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae85a6909e1a531d6c27c0d22f12e61c9">queue_write</a> (const std::shared_ptr&lt; <a class="el" href="classfc_1_1vector.html">vector</a>&lt; char &gt; &gt; &amp;buff, std::function&lt; void(boost::system::error_code, std::size_t)&gt; callback, bool to_sync_queue=false)</td></tr>
<tr class="separator:ae85a6909e1a531d6c27c0d22f12e61c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6ca81d49c22eef80854175bff8ed42" id="r_a4f6ca81d49c22eef80854175bff8ed42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f6ca81d49c22eef80854175bff8ed42">do_queue_write</a> ()</td></tr>
<tr class="separator:a4f6ca81d49c22eef80854175bff8ed42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f79d24686c4aad7bf12f3784970d98" id="r_ac8f79d24686c4aad7bf12f3784970d98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8f79d24686c4aad7bf12f3784970d98">is_valid</a> (const <a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;msg) const</td></tr>
<tr class="separator:ac8f79d24686c4aad7bf12f3784970d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6969d80878d60791744f4ace46f1b806" id="r_a6969d80878d60791744f4ace46f1b806"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6969d80878d60791744f4ace46f1b806">handle_message</a> (const <a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;msg)</td></tr>
<tr class="separator:a6969d80878d60791744f4ace46f1b806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86eaa1ae6ad496f117a4b6285a5ea960" id="r_a86eaa1ae6ad496f117a4b6285a5ea960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86eaa1ae6ad496f117a4b6285a5ea960">handle_message</a> (const <a class="el" href="structsysio_1_1chain__size__message.html">chain_size_message</a> &amp;msg)</td></tr>
<tr class="separator:a86eaa1ae6ad496f117a4b6285a5ea960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5604a0cfadaf357cee46c842a9a54e" id="r_ace5604a0cfadaf357cee46c842a9a54e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace5604a0cfadaf357cee46c842a9a54e">handle_message</a> (const <a class="el" href="structsysio_1_1go__away__message.html">go_away_message</a> &amp;msg)</td></tr>
<tr class="separator:ace5604a0cfadaf357cee46c842a9a54e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5334d7cde64019b2ab84f3930bb54de9" id="r_a5334d7cde64019b2ab84f3930bb54de9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5334d7cde64019b2ab84f3930bb54de9">handle_message</a> (const <a class="el" href="structsysio_1_1notice__message.html">notice_message</a> &amp;msg)</td></tr>
<tr class="separator:a5334d7cde64019b2ab84f3930bb54de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec6bfca8f639dbced53570e5a41ce36" id="r_a7ec6bfca8f639dbced53570e5a41ce36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ec6bfca8f639dbced53570e5a41ce36">handle_message</a> (const <a class="el" href="structsysio_1_1request__message.html">request_message</a> &amp;msg)</td></tr>
<tr class="separator:a7ec6bfca8f639dbced53570e5a41ce36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ed2c2f522d3a525417073d7548a4b5" id="r_a21ed2c2f522d3a525417073d7548a4b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21ed2c2f522d3a525417073d7548a4b5">handle_message</a> (const <a class="el" href="structsysio_1_1sync__request__message.html">sync_request_message</a> &amp;msg)</td></tr>
<tr class="separator:a21ed2c2f522d3a525417073d7548a4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3087a10ef1596db0cd6b18b1530df0c4" id="r_a3087a10ef1596db0cd6b18b1530df0c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3087a10ef1596db0cd6b18b1530df0c4">handle_message</a> (const <a class="el" href="structsysio_1_1chain_1_1signed__block.html">signed_block</a> &amp;msg)=delete</td></tr>
<tr class="separator:a3087a10ef1596db0cd6b18b1530df0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca549a337da8361f2208ba79d156555c" id="r_aca549a337da8361f2208ba79d156555c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca549a337da8361f2208ba79d156555c">handle_message</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> msg)</td></tr>
<tr class="separator:aca549a337da8361f2208ba79d156555c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e24c2d2916cc6530e1c5526cf7a1316" id="r_a9e24c2d2916cc6530e1c5526cf7a1316"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e24c2d2916cc6530e1c5526cf7a1316">handle_message</a> (const <a class="el" href="structsysio_1_1chain_1_1packed__transaction.html">packed_transaction</a> &amp;msg)=delete</td></tr>
<tr class="separator:a9e24c2d2916cc6530e1c5526cf7a1316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b525888f8a53ca2b7665fc7f5860746" id="r_a5b525888f8a53ca2b7665fc7f5860746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b525888f8a53ca2b7665fc7f5860746">handle_message</a> (<a class="el" href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">packed_transaction_ptr</a> msg)</td></tr>
<tr class="separator:a5b525888f8a53ca2b7665fc7f5860746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f592c3d4516eababd8ecbfac04c4b7e" id="r_a6f592c3d4516eababd8ecbfac04c4b7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f592c3d4516eababd8ecbfac04c4b7e">process_signed_block</a> (const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;<a class="el" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> msg, <a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> bsp)</td></tr>
<tr class="separator:a6f592c3d4516eababd8ecbfac04c4b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cd1f7c86fbfa7801324ea18b9a8ae6" id="r_a48cd1f7c86fbfa7801324ea18b9a8ae6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1variant__object.html">fc::variant_object</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48cd1f7c86fbfa7801324ea18b9a8ae6">get_logger_variant</a> () const</td></tr>
<tr class="separator:a48cd1f7c86fbfa7801324ea18b9a8ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a950c534737276c9d0a2724d9801d7def" id="r_a950c534737276c9d0a2724d9801d7def"><td class="memItemLeft" align="right" valign="top">boost::asio::io_context::strand&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a950c534737276c9d0a2724d9801d7def">strand</a></td></tr>
<tr class="separator:a950c534737276c9d0a2724d9801d7def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb1c345e310c4bf64faa889c01440404" id="r_adb1c345e310c4bf64faa889c01440404"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; tcp::socket &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb1c345e310c4bf64faa889c01440404">socket</a></td></tr>
<tr class="separator:adb1c345e310c4bf64faa889c01440404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af241d498d210d4e238b73f7bcd1c45d1" id="r_af241d498d210d4e238b73f7bcd1c45d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1message__buffer.html">fc::message_buffer</a>&lt; 1024 *1024 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a></td></tr>
<tr class="separator:af241d498d210d4e238b73f7bcd1c45d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de4218791d8273eb83a54409af84cf1" id="r_a3de4218791d8273eb83a54409af84cf1"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3de4218791d8273eb83a54409af84cf1">outstanding_read_bytes</a> {0}</td></tr>
<tr class="separator:a3de4218791d8273eb83a54409af84cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8386b853edf1cbab18a09b8123cc525c" id="r_a8386b853edf1cbab18a09b8123cc525c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1queued__buffer.html">queued_buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a></td></tr>
<tr class="separator:a8386b853edf1cbab18a09b8123cc525c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5876262162c34ec954ada46f15fe9992" id="r_a5876262162c34ec954ada46f15fe9992"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1sha256.html">fc::sha256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a></td></tr>
<tr class="separator:a5876262162c34ec954ada46f15fe9992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855625cd0312ce982b74ddc4e5a753ff" id="r_a855625cd0312ce982b74ddc4e5a753ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a855625cd0312ce982b74ddc4e5a753ff">short_conn_node_id</a></td></tr>
<tr class="separator:a855625cd0312ce982b74ddc4e5a753ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb74503530f57f9cc88f8a33bdb2980" id="r_aaeb74503530f57f9cc88f8a33bdb2980"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeb74503530f57f9cc88f8a33bdb2980">log_p2p_address</a></td></tr>
<tr class="separator:aaeb74503530f57f9cc88f8a33bdb2980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e50a9bca0cca0c77ce7d1763832714" id="r_ac0e50a9bca0cca0c77ce7d1763832714"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0e50a9bca0cca0c77ce7d1763832714">log_remote_endpoint_ip</a></td></tr>
<tr class="separator:ac0e50a9bca0cca0c77ce7d1763832714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6df697090f0105fbcd82ee97f65712" id="r_a9d6df697090f0105fbcd82ee97f65712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d6df697090f0105fbcd82ee97f65712">log_remote_endpoint_port</a></td></tr>
<tr class="separator:a9d6df697090f0105fbcd82ee97f65712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaffefd3dd270392c59a876c12f86bf2" id="r_abaffefd3dd270392c59a876c12f86bf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abaffefd3dd270392c59a876c12f86bf2">local_endpoint_ip</a></td></tr>
<tr class="separator:abaffefd3dd270392c59a876c12f86bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46386111a6f93fe2ce3a9029677dca4" id="r_af46386111a6f93fe2ce3a9029677dca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af46386111a6f93fe2ce3a9029677dca4">local_endpoint_port</a></td></tr>
<tr class="separator:af46386111a6f93fe2ce3a9029677dca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60ce32fad045e086d4681636391851b" id="r_ad60ce32fad045e086d4681636391851b"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad60ce32fad045e086d4681636391851b">trx_in_progress_size</a> {0}</td></tr>
<tr class="separator:ad60ce32fad045e086d4681636391851b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5568620d90b51490488682e99abe1802" id="r_a5568620d90b51490488682e99abe1802"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5568620d90b51490488682e99abe1802">last_dropped_trx_msg_time</a></td></tr>
<tr class="separator:a5568620d90b51490488682e99abe1802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb3bd460e47bead479e1b6f7eb58df4" id="r_a1eb3bd460e47bead479e1b6f7eb58df4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a></td></tr>
<tr class="separator:a1eb3bd460e47bead479e1b6f7eb58df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b487d20a19e5f81f3024d276078d397" id="r_a3b487d20a19e5f81f3024d276078d397"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b487d20a19e5f81f3024d276078d397">sent_handshake_count</a> = 0</td></tr>
<tr class="separator:a3b487d20a19e5f81f3024d276078d397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb1b55074b31325f9845700fd7ede82" id="r_a2cb1b55074b31325f9845700fd7ede82"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a> {true}</td></tr>
<tr class="separator:a2cb1b55074b31325f9845700fd7ede82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab77357d0ed0b422c2d6a15065d818ff6" id="r_ab77357d0ed0b422c2d6a15065d818ff6"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab77357d0ed0b422c2d6a15065d818ff6">syncing</a> {false}</td></tr>
<tr class="separator:ab77357d0ed0b422c2d6a15065d818ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20dc31a68afa8406a64e6e69ecebb02" id="r_ad20dc31a68afa8406a64e6e69ecebb02"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a> = 0</td></tr>
<tr class="separator:ad20dc31a68afa8406a64e6e69ecebb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7543fc95097fd14c4d8f66173af561a" id="r_aa7543fc95097fd14c4d8f66173af561a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a> = <a class="el" href="namespacesysio.html#a0d4d33daf7d396995fc2eb0d016bd1d2">net_version_max</a></td></tr>
<tr class="separator:aa7543fc95097fd14c4d8f66173af561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ba884c29f380a737f997a9ff3264f5" id="r_a92ba884c29f380a737f997a9ff3264f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsysio_1_1block__status__monitor.html">block_status_monitor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92ba884c29f380a737f997a9ff3264f5">block_status_monitor_</a></td></tr>
<tr class="separator:a92ba884c29f380a737f997a9ff3264f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f01e104b28e119cd1dbc3dff3a9af0" id="r_a78f01e104b28e119cd1dbc3dff3a9af0"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78f01e104b28e119cd1dbc3dff3a9af0">consecutive_immediate_connection_close</a> = 0</td></tr>
<tr class="separator:a78f01e104b28e119cd1dbc3dff3a9af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c7d2d3ab6b30deeaf88b98925623c2" id="r_a70c7d2d3ab6b30deeaf88b98925623c2"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70c7d2d3ab6b30deeaf88b98925623c2">response_expected_timer_mtx</a></td></tr>
<tr class="separator:a70c7d2d3ab6b30deeaf88b98925623c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237374fa72d9b4b4e56f6f9a685bed1a" id="r_a237374fa72d9b4b4e56f6f9a685bed1a"><td class="memItemLeft" align="right" valign="top">boost::asio::steady_timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a></td></tr>
<tr class="separator:a237374fa72d9b4b4e56f6f9a685bed1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2649c5a44369243b03ddc3a5ee3695" id="r_a6b2649c5a44369243b03ddc3a5ee3695"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> {<a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>}</td></tr>
<tr class="separator:a6b2649c5a44369243b03ddc3a5ee3695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675e5b04f968aa689c49d511c601fffa" id="r_a675e5b04f968aa689c49d511c601fffa"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a></td></tr>
<tr class="separator:a675e5b04f968aa689c49d511c601fffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba96e14eb1339b623e37c8e097560e8f" id="r_aba96e14eb1339b623e37c8e097560e8f"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structsysio_1_1request__message.html">request_message</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba96e14eb1339b623e37c8e097560e8f">last_req</a></td></tr>
<tr class="separator:aba96e14eb1339b623e37c8e097560e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158c59b44186c7757311f14f71818ec8" id="r_a158c59b44186c7757311f14f71818ec8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a></td></tr>
<tr class="separator:a158c59b44186c7757311f14f71818ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d0dbb3bb254cbea92508af42dfe75b" id="r_ab3d0dbb3bb254cbea92508af42dfe75b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a></td></tr>
<tr class="separator:ab3d0dbb3bb254cbea92508af42dfe75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab199b4d05aa4d83530e3342ecbfa1e" id="r_a8ab199b4d05aa4d83530e3342ecbfa1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ab199b4d05aa4d83530e3342ecbfa1e">fork_head</a></td></tr>
<tr class="separator:a8ab199b4d05aa4d83530e3342ecbfa1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85ae38be5738029a500379b8d893091" id="r_aa85ae38be5738029a500379b8d893091"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa85ae38be5738029a500379b8d893091">fork_head_num</a> {0}</td></tr>
<tr class="separator:aa85ae38be5738029a500379b8d893091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3e4fc9f2aba1b00e501e2419a2ca1c" id="r_a1b3e4fc9f2aba1b00e501e2419a2ca1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b3e4fc9f2aba1b00e501e2419a2ca1c">last_close</a></td></tr>
<tr class="separator:a1b3e4fc9f2aba1b00e501e2419a2ca1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653ababe3f1f98f1bc7af29fff045b4f" id="r_a653ababe3f1f98f1bc7af29fff045b4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a653ababe3f1f98f1bc7af29fff045b4f">remote_endpoint_ip</a></td></tr>
<tr class="separator:a653ababe3f1f98f1bc7af29fff045b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718e2bd1f4e3bcd87979a578e1d49d7a" id="r_a718e2bd1f4e3bcd87979a578e1d49d7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a718e2bd1f4e3bcd87979a578e1d49d7a">latest_msg_time</a> {0}</td></tr>
<tr class="separator:a718e2bd1f4e3bcd87979a578e1d49d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3730a3eedfe33fa59dae7c485c341a" id="r_a1f3730a3eedfe33fa59dae7c485c341a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f3730a3eedfe33fa59dae7c485c341a">hb_timeout</a> {std::chrono::milliseconds{<a class="el" href="namespacesysio.html#abc26639460234641b6403139e74422ed">def_keepalive_interval</a>}.<a class="el" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>()}</td></tr>
<tr class="separator:a1f3730a3eedfe33fa59dae7c485c341a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf388b9e64d25616cefd8d6b1175fc7" id="r_a1bf388b9e64d25616cefd8d6b1175fc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bf388b9e64d25616cefd8d6b1175fc7">latest_blk_time</a> {0}</td></tr>
<tr class="separator:a1bf388b9e64d25616cefd8d6b1175fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Peer Timestamps</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>Time message handling </p>
</td></tr>
<tr class="memitem:a6c055550228586b3534a4f2b5e87bc4e" id="r_a6c055550228586b3534a4f2b5e87bc4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c055550228586b3534a4f2b5e87bc4e">org</a> {0}</td></tr>
<tr class="memdesc:a6c055550228586b3534a4f2b5e87bc4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">originate timestamp  <br /></td></tr>
<tr class="separator:a6c055550228586b3534a4f2b5e87bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bc9d553ad16bc63449cdbcf6825c59f" id="r_a0bc9d553ad16bc63449cdbcf6825c59f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bc9d553ad16bc63449cdbcf6825c59f">rec</a> {0}</td></tr>
<tr class="memdesc:a0bc9d553ad16bc63449cdbcf6825c59f"><td class="mdescLeft">&#160;</td><td class="mdescRight">receive timestamp  <br /></td></tr>
<tr class="separator:a0bc9d553ad16bc63449cdbcf6825c59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43cec49a0884310396dad6d01c392e1" id="r_af43cec49a0884310396dad6d01c392e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af43cec49a0884310396dad6d01c392e1">dst</a> {0}</td></tr>
<tr class="memdesc:af43cec49a0884310396dad6d01c392e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">destination timestamp  <br /></td></tr>
<tr class="separator:af43cec49a0884310396dad6d01c392e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddd29a8f7e1d9a3d21a79c8fdf21521" id="r_a1ddd29a8f7e1d9a3d21a79c8fdf21521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ddd29a8f7e1d9a3d21a79c8fdf21521">xmt</a> {0}</td></tr>
<tr class="memdesc:a1ddd29a8f7e1d9a3d21a79c8fdf21521"><td class="mdescLeft">&#160;</td><td class="mdescRight">transmit timestamp  <br /></td></tr>
<tr class="separator:a1ddd29a8f7e1d9a3d21a79c8fdf21521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02fe050af3c833e156bea91308d6c1b" id="r_ad02fe050af3c833e156bea91308d6c1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad02fe050af3c833e156bea91308d6c1b">check_heartbeat</a> (<a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> current_time)</td></tr>
<tr class="memdesc:ad02fe050af3c833e156bea91308d6c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check heartbeat time and send Time_message.  <br /></td></tr>
<tr class="separator:ad02fe050af3c833e156bea91308d6c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c134c29679142daab81ca9fe4a10996" id="r_a1c134c29679142daab81ca9fe4a10996"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c134c29679142daab81ca9fe4a10996">send_time</a> ()</td></tr>
<tr class="memdesc:a1c134c29679142daab81ca9fe4a10996"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate and queue <a class="el" href="structsysio_1_1time__message.html">time_message</a>.  <br /></td></tr>
<tr class="separator:a1c134c29679142daab81ca9fe4a10996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a699ed89ab1cf5d95aba5aa7de17e18" id="r_a0a699ed89ab1cf5d95aba5aa7de17e18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a699ed89ab1cf5d95aba5aa7de17e18">send_time</a> (const <a class="el" href="structsysio_1_1time__message.html">time_message</a> &amp;msg)</td></tr>
<tr class="memdesc:a0a699ed89ab1cf5d95aba5aa7de17e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate and queue <a class="el" href="structsysio_1_1time__message.html">time_message</a> immediately using incoming <a class="el" href="structsysio_1_1time__message.html">time_message</a>.  <br /></td></tr>
<tr class="separator:a0a699ed89ab1cf5d95aba5aa7de17e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674cbe920ea083be64a0746c0ce76c86" id="r_a674cbe920ea083be64a0746c0ce76c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a674cbe920ea083be64a0746c0ce76c86">handle_message</a> (const <a class="el" href="structsysio_1_1time__message.html">time_message</a> &amp;msg)</td></tr>
<tr class="memdesc:a674cbe920ea083be64a0746c0ce76c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process <a class="el" href="structsysio_1_1time__message.html">time_message</a>.  <br /></td></tr>
<tr class="separator:a674cbe920ea083be64a0746c0ce76c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa74b147947e087bc084d72a3d892a06f" id="r_aa74b147947e087bc084d72a3d892a06f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a> ()</td></tr>
<tr class="memdesc:aa74b147947e087bc084d72a3d892a06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read system time and convert to a 64 bit integer.  <br /></td></tr>
<tr class="separator:aa74b147947e087bc084d72a3d892a06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00581">581</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac2471e946c569bcc409e211e452c4860" name="ac2471e946c569bcc409e211e452c4860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2471e946c569bcc409e211e452c4860">&#9670;&#160;</a></span>connection() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::connection::connection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>endpoint</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00878">878</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  879</span>      : peer_addr( endpoint ),</div>
<div class="line"><span class="lineno">  880</span>        <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ),</div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>( <span class="keyword">new</span> tcp::socket( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ) ),</div>
<div class="line"><span class="lineno">  882</span>        <a class="code hl_variable" href="#aaeb74503530f57f9cc88f8a33bdb2980">log_p2p_address</a>( endpoint ),</div>
<div class="line"><span class="lineno">  883</span>        <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>( ++my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a735275cfeaf111f22a33c20eeb3df9da">current_connection_id</a> ),</div>
<div class="line"><span class="lineno">  884</span>        <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ),</div>
<div class="line"><span class="lineno">  885</span>        <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>(),</div>
<div class="line"><span class="lineno">  886</span>        <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>()</div>
<div class="line"><span class="lineno">  887</span>   {</div>
<div class="line"><span class="lineno">  888</span>      <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;created connection ${c} to ${n}&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>)(<span class="stringliteral">&quot;n&quot;</span>, endpoint) );</div>
<div class="line"><span class="lineno">  889</span>   }</div>
<div class="ttc" id="aclassfc_1_1logger_html"><div class="ttname"><a href="classfc_1_1logger.html">fc::logger</a></div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00025">logger.hpp:26</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a158c59b44186c7757311f14f71818ec8"><div class="ttname"><a href="#a158c59b44186c7757311f14f71818ec8">sysio::connection::last_handshake_recv</a></div><div class="ttdeci">handshake_message last_handshake_recv</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00655">net_plugin.cpp:655</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1eb3bd460e47bead479e1b6f7eb58df4"><div class="ttname"><a href="#a1eb3bd460e47bead479e1b6f7eb58df4">sysio::connection::connection_id</a></div><div class="ttdeci">const uint32_t connection_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00638">net_plugin.cpp:638</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a237374fa72d9b4b4e56f6f9a685bed1a"><div class="ttname"><a href="#a237374fa72d9b4b4e56f6f9a685bed1a">sysio::connection::response_expected_timer</a></div><div class="ttdeci">boost::asio::steady_timer response_expected_timer</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00649">net_plugin.cpp:649</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a950c534737276c9d0a2724d9801d7def"><div class="ttname"><a href="#a950c534737276c9d0a2724d9801d7def">sysio::connection::strand</a></div><div class="ttdeci">boost::asio::io_context::strand strand</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00620">net_plugin.cpp:620</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_aaeb74503530f57f9cc88f8a33bdb2980"><div class="ttname"><a href="#aaeb74503530f57f9cc88f8a33bdb2980">sysio::connection::log_p2p_address</a></div><div class="ttdeci">string log_p2p_address</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00630">net_plugin.cpp:630</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ab3d0dbb3bb254cbea92508af42dfe75b"><div class="ttname"><a href="#ab3d0dbb3bb254cbea92508af42dfe75b">sysio::connection::last_handshake_sent</a></div><div class="ttdeci">handshake_message last_handshake_sent</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00656">net_plugin.cpp:656</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_adb1c345e310c4bf64faa889c01440404"><div class="ttname"><a href="#adb1c345e310c4bf64faa889c01440404">sysio::connection::socket</a></div><div class="ttdeci">std::shared_ptr&lt; tcp::socket &gt; socket</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00621">net_plugin.cpp:621</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a735275cfeaf111f22a33c20eeb3df9da"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a735275cfeaf111f22a33c20eeb3df9da">sysio::net_plugin_impl::current_connection_id</a></div><div class="ttdeci">std::atomic&lt; uint32_t &gt; current_connection_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00221">net_plugin.cpp:221</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_ad2e4fb9d1d2decf22a234af61f93ab63"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">sysio::net_plugin_impl::thread_pool</a></div><div class="ttdeci">std::optional&lt; sysio::chain::named_thread_pool &gt; thread_pool</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00287">net_plugin.cpp:287</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a067e87b091ade3787bcdda5775354654"><div class="ttname"><a href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a></div><div class="ttdeci">#define fc_ilog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00083">logger.hpp:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab20a18eecf990abbc37dd8cf3a221623" name="ab20a18eecf990abbc37dd8cf3a221623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20a18eecf990abbc37dd8cf3a221623">&#9670;&#160;</a></span>connection() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sysio::connection::connection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00891">891</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  892</span>      : peer_addr(),</div>
<div class="line"><span class="lineno">  893</span>        <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ),</div>
<div class="line"><span class="lineno">  894</span>        <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>( <span class="keyword">new</span> tcp::socket( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ) ),</div>
<div class="line"><span class="lineno">  895</span>        <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>( ++my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a735275cfeaf111f22a33c20eeb3df9da">current_connection_id</a> ),</div>
<div class="line"><span class="lineno">  896</span>        <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() ),</div>
<div class="line"><span class="lineno">  897</span>        <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>(),</div>
<div class="line"><span class="lineno">  898</span>        <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>()</div>
<div class="line"><span class="lineno">  899</span>   {</div>
<div class="line"><span class="lineno">  900</span>      <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;new connection object created&quot;</span> );</div>
<div class="line"><span class="lineno">  901</span>   }</div>
<div class="ttc" id="alogger_8hpp_html_af5adfcda7e0a01306256754a6511915d"><div class="ttname"><a href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a></div><div class="ttdeci">#define fc_dlog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00077">logger.hpp:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69709b0cfa29006569e7dcc6cd935c89" name="a69709b0cfa29006569e7dcc6cd935c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69709b0cfa29006569e7dcc6cd935c89">&#9670;&#160;</a></span>~connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::connection::~connection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a26752470d31dda1a5140351cbfa375c4" name="a26752470d31dda1a5140351cbfa375c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26752470d31dda1a5140351cbfa375c4">&#9670;&#160;</a></span>blk_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::blk_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>blkid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01104">1104</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1104</span>                                                         {</div>
<div class="line"><span class="lineno"> 1105</span>      <a class="code hl_typedef" href="namespacesysio.html#a6a48b685d0bf226f8d96c5cbbd648945">connection_wptr</a> weak = shared_from_this();</div>
<div class="line"><span class="lineno"> 1106</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [blkid, weak{std::move(weak)}]() {</div>
<div class="line"><span class="lineno"> 1107</span>         <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c = weak.lock();</div>
<div class="line"><span class="lineno"> 1108</span>         <span class="keywordflow">if</span>( !c ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1109</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1110</span>            <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; cc = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>();</div>
<div class="line"><span class="lineno"> 1111</span>            <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> b = cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338">fetch_block_by_id</a>( blkid );</div>
<div class="line"><span class="lineno"> 1112</span>            <span class="keywordflow">if</span>( b ) {</div>
<div class="line"><span class="lineno"> 1113</span>               <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;fetch_block_by_id num ${n}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1114</span>                        (<span class="stringliteral">&quot;n&quot;</span>, b-&gt;block_num())(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 1115</span>               my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;add_peer_block( blkid, c-&gt;connection_id );</div>
<div class="line"><span class="lineno"> 1116</span>               c-&gt;strand.post( [c, b{std::move(b)}]() {</div>
<div class="line"><span class="lineno"> 1117</span>                  c-&gt;enqueue_block( b );</div>
<div class="line"><span class="lineno"> 1118</span>               } );</div>
<div class="line"><span class="lineno"> 1119</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1120</span>               <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;fetch block by id returned null, id ${id}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1121</span>                        (<span class="stringliteral">&quot;id&quot;</span>, blkid)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 1122</span>            }</div>
<div class="line"><span class="lineno"> 1123</span>         } <span class="keywordflow">catch</span>( <span class="keyword">const</span> assert_exception&amp; ex ) {</div>
<div class="line"><span class="lineno"> 1124</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;caught assert on fetch_block_by_id, ${ex}, id ${id}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1125</span>                     (<span class="stringliteral">&quot;ex&quot;</span>, ex.to_string())(<span class="stringliteral">&quot;id&quot;</span>, blkid)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 1126</span>         } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 1127</span>            <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;caught other exception fetching block id ${id}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1128</span>                     (<span class="stringliteral">&quot;id&quot;</span>, blkid)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 1129</span>         }</div>
<div class="line"><span class="lineno"> 1130</span>      });</div>
<div class="line"><span class="lineno"> 1131</span>   }</div>
<div class="ttc" id="aclassappbase_1_1application_html_a77aff91b861010fd61a616c59b310dcc"><div class="ttname"><a href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">appbase::application::post</a></div><div class="ttdeci">auto post(int priority, Func &amp;&amp;func)</div><div class="ttdef"><b>Definition</b> <a href="application_8hpp_source.html#l00215">application.hpp:215</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html">sysio::chain::controller</a></div><div class="ttdef"><b>Definition</b> <a href="controller_8hpp_source.html#l00063">controller.hpp:63</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a7d6e058e892e067510650db853794338"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338">sysio::chain::controller::fetch_block_by_id</a></div><div class="ttdeci">signed_block_ptr fetch_block_by_id(block_id_type id) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03066">controller.cpp:3066</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a14a5e77b31ecf267c8062267d03440ae"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">sysio::chain_plugin::chain</a></div><div class="ttdeci">controller &amp; chain()</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8cpp_source.html#l01342">chain_plugin.cpp:1342</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a5b302f8ed2594b44aa126082cd07d941"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">sysio::net_plugin_impl::dispatcher</a></div><div class="ttdeci">unique_ptr&lt; dispatch_manager &gt; dispatcher</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00224">net_plugin.cpp:224</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a932907eaa912c9420b96ea45103b66b8"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">sysio::net_plugin_impl::chain_plug</a></div><div class="ttdeci">chain_plugin * chain_plug</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00264">net_plugin.cpp:264</a></div></div>
<div class="ttc" id="adebug__client_8cpp_html_ae9c9779aea742ab80689add7e553df0d"><div class="ttname"><a href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a></div><div class="ttdeci">client::connection_ptr connection_ptr</div><div class="ttdef"><b>Definition</b> <a href="debug__client_8cpp_source.html#l00048">debug_client.cpp:48</a></div></div>
<div class="ttc" id="alogger_8hpp_html_ae75bea0ceb7483fdf0ed20c22556a907"><div class="ttname"><a href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a></div><div class="ttdeci">#define fc_elog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00095">logger.hpp:95</a></div></div>
<div class="ttc" id="anamespaceappbase_html_a99374dc23934f008a09f2f79be9eae40"><div class="ttname"><a href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">appbase::app</a></div><div class="ttdeci">application &amp; app()</div><div class="ttdef"><b>Definition</b> <a href="application_8cpp_source.html#l00210">application.cpp:210</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_aa10ee348c57604b615bc8570f6685102"><div class="ttname"><a href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">sysio::chain::signed_block_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signed_block &gt; signed_block_ptr</div><div class="ttdef"><b>Definition</b> <a href="block_8hpp_source.html#l00105">block.hpp:105</a></div></div>
<div class="ttc" id="anamespacesysio_html_a6a48b685d0bf226f8d96c5cbbd648945"><div class="ttname"><a href="namespacesysio.html#a6a48b685d0bf226f8d96c5cbbd648945">sysio::connection_wptr</a></div><div class="ttdeci">std::weak_ptr&lt; connection &gt; connection_wptr</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00051">net_plugin.cpp:51</a></div></div>
<div class="ttc" id="astructappbase_1_1priority_html_a89fc0f21b0f87574f0299932fc1724b4"><div class="ttname"><a href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">appbase::priority::medium</a></div><div class="ttdeci">static constexpr int medium</div><div class="ttdef"><b>Definition</b> <a href="execution__priority__queue_8hpp_source.html#l00013">execution_priority_queue.hpp:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_cgraph" id="aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_cgraph">
<area shape="rect" title=" " alt="" coords="5,96,137,137"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="211,13,310,38"/>
<area shape="poly" title=" " alt="" coords="103,93,184,49,200,42,202,47,186,53,106,98"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="195,63,327,103"/>
<area shape="poly" title=" " alt="" coords="137,102,179,95,180,100,138,107"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338" title=" " alt="" coords="185,128,337,169"/>
<area shape="poly" title=" " alt="" coords="138,125,170,130,169,136,137,130"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="191,193,331,234"/>
<area shape="poly" title=" " alt="" coords="108,135,186,178,198,184,196,189,183,183,105,139"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="390,5,530,46"/>
<area shape="poly" title=" " alt="" coords="311,23,375,23,375,28,311,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="385,128,535,169"/>
<area shape="poly" title=" " alt="" coords="338,146,369,146,369,151,338,151"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="583,136,740,161"/>
<area shape="poly" title=" " alt="" coords="535,146,568,146,568,151,535,151"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="388,193,533,234"/>
<area shape="poly" title=" " alt="" coords="332,211,372,211,372,216,332,216"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_icgraph" id="aclasssysio_1_1connection_a26752470d31dda1a5140351cbfa375c4_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a7ec6bfca8f639dbced53570e5a41ce36" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="a5b9e30160fc0db3e2842bcb868cb34a0" name="a5b9e30160fc0db3e2842bcb868cb34a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9e30160fc0db3e2842bcb868cb34a0">&#9670;&#160;</a></span>blk_send_branch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::blk_send_branch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg_head_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01029">1029</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1030</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> head_num = 0;</div>
<div class="line"><span class="lineno"> 1031</span>      std::tie( std::ignore, std::ignore, head_num,</div>
<div class="line"><span class="lineno"> 1032</span>                std::ignore, std::ignore, std::ignore ) = my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2">get_chain_info</a>();</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;head_num = ${h}&quot;</span>,(<span class="stringliteral">&quot;h&quot;</span>,head_num));</div>
<div class="line"><span class="lineno"> 1035</span>      <span class="keywordflow">if</span>(head_num == 0) {</div>
<div class="line"><span class="lineno"> 1036</span>         notice_message note;</div>
<div class="line"><span class="lineno"> 1037</span>         note.known_blocks.mode = <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">normal</a>;</div>
<div class="line"><span class="lineno"> 1038</span>         note.known_blocks.pending = 0;</div>
<div class="line"><span class="lineno"> 1039</span>         <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>(note);</div>
<div class="line"><span class="lineno"> 1040</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1041</span>      }</div>
<div class="line"><span class="lineno"> 1042</span>      std::unique_lock&lt;std::mutex&gt; g_conn( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno"> 1043</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a62247b1e0a1a552278fc2b156d4d663f">generation</a> &gt;= 1 ) {</div>
<div class="line"><span class="lineno"> 1044</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;maybe truncating branch at = ${h}:${id}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1045</span>                    (<span class="stringliteral">&quot;h&quot;</span>, <a class="code hl_function" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">block_header::num_from_id</a>(<a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a2ca0bcb5e2387d67ae1d05e7a9718595">head_id</a>))(<span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a2ca0bcb5e2387d67ae1d05e7a9718595">head_id</a>) );</div>
<div class="line"><span class="lineno"> 1046</span>      }</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>      <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a> lib_id = <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#add797e772415837261beaef238a7faa6">last_irreversible_block_id</a>;</div>
<div class="line"><span class="lineno"> 1049</span>      g_conn.unlock();</div>
<div class="line"><span class="lineno"> 1050</span>      <span class="keyword">const</span> <span class="keyword">auto</span> lib_num = <a class="code hl_function" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">block_header::num_from_id</a>(lib_id);</div>
<div class="line"><span class="lineno"> 1051</span>      <span class="keywordflow">if</span>( lib_num == 0 ) <span class="keywordflow">return</span>; <span class="comment">// if last_irreversible_block_id is null (we have not received handshake or reset)</span></div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [chain_plug = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>, c = shared_from_this(),</div>
<div class="line"><span class="lineno"> 1054</span>            lib_num, head_num, msg_head_id]() {</div>
<div class="line"><span class="lineno"> 1055</span>         <span class="keyword">auto</span> msg_head_num = <a class="code hl_function" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">block_header::num_from_id</a>(msg_head_id);</div>
<div class="line"><span class="lineno"> 1056</span>         <span class="keywordtype">bool</span> on_fork = msg_head_num == 0;</div>
<div class="line"><span class="lineno"> 1057</span>         <span class="keywordtype">bool</span> unknown_block = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1058</span>         <span class="keywordflow">if</span>( !on_fork ) {</div>
<div class="line"><span class="lineno"> 1059</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1060</span>               <span class="keyword">const</span> <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; cc = chain_plug-&gt;chain();</div>
<div class="line"><span class="lineno"> 1061</span>               <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a> my_id = cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a9a55edb4766f1f3302ede12e329b1ea6">get_block_id_for_num</a>( msg_head_num );</div>
<div class="line"><span class="lineno"> 1062</span>               on_fork = my_id != msg_head_id;</div>
<div class="line"><span class="lineno"> 1063</span>            } <span class="keywordflow">catch</span>( <span class="keyword">const</span> unknown_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 1064</span>               unknown_block = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1065</span>            } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 1066</span>               on_fork = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1067</span>            }</div>
<div class="line"><span class="lineno"> 1068</span>         }</div>
<div class="line"><span class="lineno"> 1069</span>         <span class="keywordflow">if</span>( unknown_block ) {</div>
<div class="line"><span class="lineno"> 1070</span>            c-&gt;strand.post( [msg_head_num, c]() {</div>
<div class="line"><span class="lineno"> 1071</span>               <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( c, <span class="stringliteral">&quot;Peer asked for unknown block ${mn}, sending: benign_other go away&quot;</span>, (<span class="stringliteral">&quot;mn&quot;</span>, msg_head_num) );</div>
<div class="line"><span class="lineno"> 1072</span>               c-&gt;no_retry = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a>;</div>
<div class="line"><span class="lineno"> 1073</span>               c-&gt;enqueue( go_away_message( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a> ) );</div>
<div class="line"><span class="lineno"> 1074</span>            } );</div>
<div class="line"><span class="lineno"> 1075</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1076</span>            <span class="keywordflow">if</span>( on_fork ) msg_head_num = 0;</div>
<div class="line"><span class="lineno"> 1077</span>            <span class="comment">// if peer on fork, start at their last lib, otherwise we can start at msg_head+1</span></div>
<div class="line"><span class="lineno"> 1078</span>            c-&gt;strand.post( [c, msg_head_num, lib_num, head_num]() {</div>
<div class="line"><span class="lineno"> 1079</span>               c-&gt;blk_send_branch_impl( msg_head_num, lib_num, head_num );</div>
<div class="line"><span class="lineno"> 1080</span>            } );</div>
<div class="line"><span class="lineno"> 1081</span>         }</div>
<div class="line"><span class="lineno"> 1082</span>      } );</div>
<div class="line"><span class="lineno"> 1083</span>   }</div>
<div class="ttc" id="aclassfc_1_1sha256_html"><div class="ttname"><a href="classfc_1_1sha256.html">fc::sha256</a></div><div class="ttdef"><b>Definition</b> <a href="sha256_8hpp_source.html#l00011">sha256.hpp:12</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a9a55edb4766f1f3302ede12e329b1ea6"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a9a55edb4766f1f3302ede12e329b1ea6">sysio::chain::controller::get_block_id_for_num</a></div><div class="ttdeci">block_id_type get_block_id_for_num(uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03096">controller.cpp:3096</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a675e5b04f968aa689c49d511c601fffa"><div class="ttname"><a href="#a675e5b04f968aa689c49d511c601fffa">sysio::connection::conn_mtx</a></div><div class="ttdeci">std::mutex conn_mtx</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00653">net_plugin.cpp:653</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ad6a1bcdfc4bd9d2c7ab2278240def6b6"><div class="ttname"><a href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">sysio::connection::enqueue</a></div><div class="ttdeci">void enqueue(const net_message &amp;msg)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01414">net_plugin.cpp:1414</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_ab7de62c1cba9cb5a30060a687ef913e2"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2">sysio::net_plugin_impl::get_chain_info</a></div><div class="ttdeci">std::tuple&lt; uint32_t, uint32_t, uint32_t, block_id_type, block_id_type, block_id_type &gt; get_chain_info() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l02713">net_plugin.cpp:2713</a></div></div>
<div class="ttc" id="anamespacesysio_html_a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae"><div class="ttname"><a href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">sysio::normal</a></div><div class="ttdeci">@ normal</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00097">protocol.hpp:96</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">sysio::benign_other</a></div><div class="ttdeci">@ benign_other</div><div class="ttdoc">reasons such as a timeout. not fatal but warrant resetting</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00056">protocol.hpp:56</a></div></div>
<div class="ttc" id="anet__plugin_8cpp_html_a051c62a0ec99dcd3e7a38fd03bec1fe0"><div class="ttname"><a href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a></div><div class="ttdeci">#define peer_dlog(PEER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00359">net_plugin.cpp:359</a></div></div>
<div class="ttc" id="anet__plugin_8cpp_html_ad909b2ce03eb19202983c88ae2abe9bd"><div class="ttname"><a href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a></div><div class="ttdeci">#define peer_ilog(PEER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00367">net_plugin.cpp:367</a></div></div>
<div class="ttc" id="astdint_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00126">stdint.h:126</a></div></div>
<div class="ttc" id="astructsysio_1_1chain_1_1block__header_html_a39d57e33ef8d3f6ba59b4c458f0ae375"><div class="ttname"><a href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">sysio::chain::block_header::num_from_id</a></div><div class="ttdeci">static uint32_t num_from_id(const block_id_type &amp;id)</div><div class="ttdef"><b>Definition</b> <a href="block__header_8cpp_source.html#l00013">block_header.cpp:13</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_a2ca0bcb5e2387d67ae1d05e7a9718595"><div class="ttname"><a href="structsysio_1_1handshake__message.html#a2ca0bcb5e2387d67ae1d05e7a9718595">sysio::handshake_message::head_id</a></div><div class="ttdeci">block_id_type head_id</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00039">protocol.hpp:39</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_a62247b1e0a1a552278fc2b156d4d663f"><div class="ttname"><a href="structsysio_1_1handshake__message.html#a62247b1e0a1a552278fc2b156d4d663f">sysio::handshake_message::generation</a></div><div class="ttdeci">int16_t generation</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00042">protocol.hpp:42</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_add797e772415837261beaef238a7faa6"><div class="ttname"><a href="structsysio_1_1handshake__message.html#add797e772415837261beaef238a7faa6">sysio::handshake_message::last_irreversible_block_id</a></div><div class="ttdeci">block_id_type last_irreversible_block_id</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00037">protocol.hpp:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_cgraph" id="aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_cgraph">
<area shape="rect" title=" " alt="" coords="5,245,137,285"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="669,19,768,45"/>
<area shape="poly" title=" " alt="" coords="78,243,92,209,115,167,145,124,183,87,239,52,300,28,365,13,431,5,495,3,555,5,654,17,654,22,554,10,494,8,431,10,366,18,302,33,241,57,186,91,149,128,120,170,97,212,82,245"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="197,101,328,141"/>
<area shape="poly" title=" " alt="" coords="98,242,220,149,223,153,101,246"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a9a55edb4766f1f3302ede12e329b1ea6" title=" " alt="" coords="185,215,341,256"/>
<area shape="poly" title=" " alt="" coords="136,252,169,247,170,253,137,258"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="416,330,566,371"/>
<area shape="poly" title=" " alt="" coords="138,275,342,316,401,328,400,334,340,321,136,280"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2" title=" " alt="" coords="188,330,338,371"/>
<area shape="poly" title=" " alt="" coords="120,284,202,321,200,326,118,288"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="193,395,333,436"/>
<area shape="poly" title=" " alt="" coords="90,284,131,331,157,357,186,380,194,386,192,390,183,385,154,361,127,335,86,288"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="845,11,986,52"/>
<area shape="poly" title=" " alt="" coords="769,29,830,29,830,34,769,34"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="420,35,561,76"/>
<area shape="poly" title=" " alt="" coords="328,100,405,78,406,83,329,105"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="423,101,558,141"/>
<area shape="poly" title=" " alt="" coords="329,118,407,118,407,124,329,124"/>
<area shape="poly" title=" " alt="" coords="557,98,591,85,675,49,677,54,593,90,559,103"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="648,101,789,141"/>
<area shape="poly" title=" " alt="" coords="559,118,632,118,632,124,559,124"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391" title=" " alt="" coords="404,166,578,191"/>
<area shape="poly" title=" " alt="" coords="341,213,388,201,421,193,422,198,390,206,342,219"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f" title=" " alt="" coords="389,215,592,256"/>
<area shape="poly" title=" " alt="" coords="342,233,373,233,373,238,342,238"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="407,280,574,306"/>
<area shape="poly" title=" " alt="" coords="342,253,390,265,422,273,421,279,388,270,341,258"/>
<area shape="poly" title=" " alt="" coords="312,254,343,272,366,295,376,306,390,316,402,322,400,327,388,321,373,310,363,299,339,277,309,259"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="648,247,789,288"/>
<area shape="poly" title=" " alt="" coords="574,290,632,283,633,289,575,295"/>
<area shape="poly" title=" " alt="" coords="648,270,558,280,558,275,647,265"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="845,275,986,316"/>
<area shape="poly" title=" " alt="" coords="790,275,830,281,829,286,789,280"/>
<area shape="poly" title=" " alt="" coords="845,301,797,302,640,302,590,301,590,295,640,297,797,297,844,296"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="640,363,797,389"/>
<area shape="poly" title=" " alt="" coords="567,356,625,363,625,368,566,361"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="418,395,563,436"/>
<area shape="poly" title=" " alt="" coords="334,413,403,413,403,418,334,418"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_icgraph" id="aclasssysio_1_1connection_a5b9e30160fc0db3e2842bcb868cb34a0_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a7ec6bfca8f639dbced53570e5a41ce36" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="a97f2f3f3cbd12528d708c86e7568e282" name="a97f2f3f3cbd12528d708c86e7568e282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f2f3f3cbd12528d708c86e7568e282">&#9670;&#160;</a></span>blk_send_branch_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::blk_send_branch_impl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>msg_head_num</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>lib_num</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>head_num</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01086">1086</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1086</span>                                                                                                     {</div>
<div class="line"><span class="lineno"> 1087</span>      <span class="keywordflow">if</span>( !peer_requested ) {</div>
<div class="line"><span class="lineno"> 1088</span>         <span class="keyword">auto</span> last = msg_head_num != 0 ? msg_head_num : lib_num;</div>
<div class="line"><span class="lineno"> 1089</span>         peer_requested = peer_sync_state( last+1, head_num, last );</div>
<div class="line"><span class="lineno"> 1090</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1091</span>         <span class="keyword">auto</span> last = msg_head_num != 0 ? msg_head_num : std::min( peer_requested-&gt;last, lib_num );</div>
<div class="line"><span class="lineno"> 1092</span>         <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> end   = std::max( peer_requested-&gt;end_block, head_num );</div>
<div class="line"><span class="lineno"> 1093</span>         peer_requested = peer_sync_state( last+1, end, last );</div>
<div class="line"><span class="lineno"> 1094</span>      }</div>
<div class="line"><span class="lineno"> 1095</span>      <span class="keywordflow">if</span>( peer_requested-&gt;start_block &lt;= peer_requested-&gt;end_block ) {</div>
<div class="line"><span class="lineno"> 1096</span>         <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;enqueue ${s} - ${e}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, peer_requested-&gt;start_block)(<span class="stringliteral">&quot;e&quot;</span>, peer_requested-&gt;end_block) );</div>
<div class="line"><span class="lineno"> 1097</span>         <a class="code hl_function" href="#a099523d62bc60e4a13deda1fe15845ad">enqueue_sync_block</a>();</div>
<div class="line"><span class="lineno"> 1098</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1099</span>         <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;nothing to enqueue&quot;</span> );</div>
<div class="line"><span class="lineno"> 1100</span>         peer_requested.reset();</div>
<div class="line"><span class="lineno"> 1101</span>      }</div>
<div class="line"><span class="lineno"> 1102</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a099523d62bc60e4a13deda1fe15845ad"><div class="ttname"><a href="#a099523d62bc60e4a13deda1fe15845ad">sysio::connection::enqueue_sync_block</a></div><div class="ttdeci">bool enqueue_sync_block()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01281">net_plugin.cpp:1281</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a97f2f3f3cbd12528d708c86e7568e282_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a97f2f3f3cbd12528d708c86e7568e282_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a97f2f3f3cbd12528d708c86e7568e282_cgraph" id="aclasssysio_1_1connection_a97f2f3f3cbd12528d708c86e7568e282_cgraph">
<area shape="rect" title=" " alt="" coords="5,96,156,137"/>
<area shape="rect" href="classsysio_1_1connection.html#a099523d62bc60e4a13deda1fe15845ad" title=" " alt="" coords="204,96,347,137"/>
<area shape="poly" title=" " alt="" coords="156,114,188,114,188,119,156,119"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="429,13,528,38"/>
<area shape="poly" title=" " alt="" coords="309,93,394,49,413,41,415,46,396,53,311,98"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="412,63,545,103"/>
<area shape="poly" title=" " alt="" coords="347,102,397,94,398,99,348,107"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb" title=" " alt="" coords="395,128,562,169"/>
<area shape="poly" title=" " alt="" coords="348,125,380,130,379,135,347,130"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="408,193,549,234"/>
<area shape="poly" title=" " alt="" coords="314,135,396,178,411,184,408,189,394,183,312,140"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="642,5,782,46"/>
<area shape="poly" title=" " alt="" coords="529,23,626,23,626,28,529,28"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f" title=" " alt="" coords="610,128,814,169"/>
<area shape="poly" title=" " alt="" coords="563,146,595,146,595,151,563,151"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="639,193,785,234"/>
<area shape="poly" title=" " alt="" coords="549,211,624,211,624,216,549,216"/>
</map>
</div>

</div>
</div>
<a id="a088db9bdbe7600d3af19c9272359b7fe" name="a088db9bdbe7600d3af19c9272359b7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088db9bdbe7600d3af19c9272359b7fe">&#9670;&#160;</a></span>cancel_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::cancel_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a></td>          <td class="paramname"><span class="paramname"><em>reason</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01262">1262</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1262</span>                                                     {</div>
<div class="line"><span class="lineno"> 1263</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;cancel sync reason = ${m}, write queue size ${o} bytes&quot;</span>,</div>
<div class="line"><span class="lineno"> 1264</span>                 (<span class="stringliteral">&quot;m&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee">reason_str</a>( reason ))(<span class="stringliteral">&quot;o&quot;</span>, <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe">write_queue_size</a>()) );</div>
<div class="line"><span class="lineno"> 1265</span>      <a class="code hl_function" href="#ae3a7d2b5432bfc0eccde29ce39abd4b8">cancel_wait</a>();</div>
<div class="line"><span class="lineno"> 1266</span>      <a class="code hl_function" href="#a51ccfb43cb79f666e6548ffeb9f205f2">flush_queues</a>();</div>
<div class="line"><span class="lineno"> 1267</span>      <span class="keywordflow">switch</span> (reason) {</div>
<div class="line"><span class="lineno"> 1268</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673faf33f5d368dfd5563446edd1687b908bb">validation</a> :</div>
<div class="line"><span class="lineno"> 1269</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">fatal_other</a> : {</div>
<div class="line"><span class="lineno"> 1270</span>         <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = reason;</div>
<div class="line"><span class="lineno"> 1271</span>         <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( go_away_message( reason ));</div>
<div class="line"><span class="lineno"> 1272</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1273</span>      }</div>
<div class="line"><span class="lineno"> 1274</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1275</span>         <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;sending empty request but not calling sync wait&quot;</span>);</div>
<div class="line"><span class="lineno"> 1276</span>         <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( ( sync_request_message ) {0,0} );</div>
<div class="line"><span class="lineno"> 1277</span>      }</div>
<div class="line"><span class="lineno"> 1278</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a51ccfb43cb79f666e6548ffeb9f205f2"><div class="ttname"><a href="#a51ccfb43cb79f666e6548ffeb9f205f2">sysio::connection::flush_queues</a></div><div class="ttdeci">void flush_queues()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00981">net_plugin.cpp:981</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a6b2649c5a44369243b03ddc3a5ee3695"><div class="ttname"><a href="#a6b2649c5a44369243b03ddc3a5ee3695">sysio::connection::no_retry</a></div><div class="ttdeci">std::atomic&lt; go_away_reason &gt; no_retry</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00651">net_plugin.cpp:651</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a8386b853edf1cbab18a09b8123cc525c"><div class="ttname"><a href="#a8386b853edf1cbab18a09b8123cc525c">sysio::connection::buffer_queue</a></div><div class="ttdeci">queued_buffer buffer_queue</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00626">net_plugin.cpp:626</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ae3a7d2b5432bfc0eccde29ce39abd4b8"><div class="ttname"><a href="#ae3a7d2b5432bfc0eccde29ce39abd4b8">sysio::connection::cancel_wait</a></div><div class="ttdeci">void cancel_wait()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01457">net_plugin.cpp:1457</a></div></div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_a6175551ba72684aede34883da1ca00fe"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe">sysio::queued_buffer::write_queue_size</a></div><div class="ttdeci">uint32_t write_queue_size() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00464">net_plugin.cpp:464</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">sysio::fatal_other</a></div><div class="ttdeci">@ fatal_other</div><div class="ttdoc">a catch-all for errors we don't have discriminated</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00057">protocol.hpp:57</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673faf33f5d368dfd5563446edd1687b908bb"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673faf33f5d368dfd5563446edd1687b908bb">sysio::validation</a></div><div class="ttdeci">@ validation</div><div class="ttdoc">the peer sent a block that failed validation</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00055">protocol.hpp:55</a></div></div>
<div class="ttc" id="anamespacesysio_html_a9d60317a4b83cb3c91674336886005ee"><div class="ttname"><a href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee">sysio::reason_str</a></div><div class="ttdeci">constexpr auto reason_str(go_away_reason rsn)</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00061">protocol.hpp:61</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a088db9bdbe7600d3af19c9272359b7fe_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a088db9bdbe7600d3af19c9272359b7fe_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a088db9bdbe7600d3af19c9272359b7fe_cgraph" id="aclasssysio_1_1connection_a088db9bdbe7600d3af19c9272359b7fe_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,137,68"/>
<area shape="rect" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee" title=" " alt="" coords="195,5,316,31"/>
<area shape="poly" title=" " alt="" coords="137,34,179,28,180,33,137,40"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe" title=" " alt="" coords="185,55,327,96"/>
<area shape="poly" title=" " alt="" coords="137,55,170,60,169,65,137,60"/>
</map>
</div>

</div>
</div>
<a id="ae3a7d2b5432bfc0eccde29ce39abd4b8" name="ae3a7d2b5432bfc0eccde29ce39abd4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a7d2b5432bfc0eccde29ce39abd4b8">&#9670;&#160;</a></span>cancel_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::cancel_wait </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01457">1457</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1457</span>                                {</div>
<div class="line"><span class="lineno"> 1458</span>      std::lock_guard&lt;std::mutex&gt; g( <a class="code hl_variable" href="#a70c7d2d3ab6b30deeaf88b98925623c2">response_expected_timer_mtx</a> );</div>
<div class="line"><span class="lineno"> 1459</span>      <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>.cancel();</div>
<div class="line"><span class="lineno"> 1460</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a70c7d2d3ab6b30deeaf88b98925623c2"><div class="ttname"><a href="#a70c7d2d3ab6b30deeaf88b98925623c2">sysio::connection::response_expected_timer_mtx</a></div><div class="ttdeci">std::mutex response_expected_timer_mtx</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00648">net_plugin.cpp:648</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad02fe050af3c833e156bea91308d6c1b" name="ad02fe050af3c833e156bea91308d6c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02fe050af3c833e156bea91308d6c1b">&#9670;&#160;</a></span>check_heartbeat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::check_heartbeat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a></td>          <td class="paramname"><span class="paramname"><em>current_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01156">1156</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1156</span>                                                         {</div>
<div class="line"><span class="lineno"> 1157</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a718e2bd1f4e3bcd87979a578e1d49d7a">latest_msg_time</a> &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 1158</span>         <span class="keywordflow">if</span>( current_time &gt; <a class="code hl_variable" href="#a718e2bd1f4e3bcd87979a578e1d49d7a">latest_msg_time</a> + <a class="code hl_variable" href="#a1f3730a3eedfe33fa59dae7c485c341a">hb_timeout</a> ) {</div>
<div class="line"><span class="lineno"> 1159</span>            <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a>;</div>
<div class="line"><span class="lineno"> 1160</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>().empty() ) {</div>
<div class="line"><span class="lineno"> 1161</span>               <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;heartbeat timed out for peer address&quot;</span>);</div>
<div class="line"><span class="lineno"> 1162</span>               <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1163</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1164</span>               <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;heartbeat timed out&quot;</span>);</div>
<div class="line"><span class="lineno"> 1165</span>               <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1166</span>            }</div>
<div class="line"><span class="lineno"> 1167</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1168</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1169</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> timeout = std::max(<a class="code hl_variable" href="#a1f3730a3eedfe33fa59dae7c485c341a">hb_timeout</a>/2, 2*std::chrono::milliseconds(config::block_interval_ms).<a class="code hl_variable" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>());</div>
<div class="line"><span class="lineno"> 1170</span>            <span class="keywordflow">if</span> ( current_time &gt; <a class="code hl_variable" href="#a1bf388b9e64d25616cefd8d6b1175fc7">latest_blk_time</a> + timeout ) {</div>
<div class="line"><span class="lineno"> 1171</span>               <a class="code hl_function" href="#a55b561baeda5353d7c1a1e2a8a0c88e1">send_handshake</a>();</div>
<div class="line"><span class="lineno"> 1172</span>               <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1173</span>            }</div>
<div class="line"><span class="lineno"> 1174</span>         }</div>
<div class="line"><span class="lineno"> 1175</span>      }</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>      <a class="code hl_function" href="#a1c134c29679142daab81ca9fe4a10996">send_time</a>();</div>
<div class="line"><span class="lineno"> 1178</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1bf388b9e64d25616cefd8d6b1175fc7"><div class="ttname"><a href="#a1bf388b9e64d25616cefd8d6b1175fc7">sysio::connection::latest_blk_time</a></div><div class="ttdeci">tstamp latest_blk_time</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00677">net_plugin.cpp:677</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1c134c29679142daab81ca9fe4a10996"><div class="ttname"><a href="#a1c134c29679142daab81ca9fe4a10996">sysio::connection::send_time</a></div><div class="ttdeci">void send_time()</div><div class="ttdoc">Populate and queue time_message.</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01181">net_plugin.cpp:1181</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1f3730a3eedfe33fa59dae7c485c341a"><div class="ttname"><a href="#a1f3730a3eedfe33fa59dae7c485c341a">sysio::connection::hb_timeout</a></div><div class="ttdeci">tstamp hb_timeout</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00676">net_plugin.cpp:676</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a55b561baeda5353d7c1a1e2a8a0c88e1"><div class="ttname"><a href="#a55b561baeda5353d7c1a1e2a8a0c88e1">sysio::connection::send_handshake</a></div><div class="ttdeci">void send_handshake()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01137">net_plugin.cpp:1137</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a718e2bd1f4e3bcd87979a578e1d49d7a"><div class="ttname"><a href="#a718e2bd1f4e3bcd87979a578e1d49d7a">sysio::connection::latest_msg_time</a></div><div class="ttdeci">tstamp latest_msg_time</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00675">net_plugin.cpp:675</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a7fe7bb50b91bd69cdf56c7c09a868e29"><div class="ttname"><a href="#a7fe7bb50b91bd69cdf56c7c09a868e29">sysio::connection::close</a></div><div class="ttdeci">void close(bool reconnect=true, bool shutdown=false)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00985">net_plugin.cpp:985</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_aca3e3acacf8047c389e0bda758da197d"><div class="ttname"><a href="#aca3e3acacf8047c389e0bda758da197d">sysio::connection::peer_address</a></div><div class="ttdeci">const string &amp; peer_address() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00591">net_plugin.cpp:591</a></div></div>
<div class="ttc" id="agmock__stress__test_8cc_html_afd9db40e3361ae09188795e8cbe19752"><div class="ttname"><a href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a></div><div class="ttdeci">int * count</div><div class="ttdef"><b>Definition</b> <a href="gmock__stress__test_8cc_source.html#l00177">gmock_stress_test.cc:177</a></div></div>
<div class="ttc" id="anamespacesysio_html_a42c15380188aaacda97b061d7c538d13"><div class="ttname"><a href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">sysio::tstamp</a></div><div class="ttdeci">std::chrono::system_clock::duration::rep tstamp</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00011">protocol.hpp:11</a></div></div>
<div class="ttc" id="anet__plugin_8cpp_html_af53787454493a30650fdab0193037465"><div class="ttname"><a href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a></div><div class="ttdeci">#define peer_wlog(PEER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00375">net_plugin.cpp:375</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ad02fe050af3c833e156bea91308d6c1b_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ad02fe050af3c833e156bea91308d6c1b_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ad02fe050af3c833e156bea91308d6c1b_cgraph" id="aclasssysio_1_1connection_ad02fe050af3c833e156bea91308d6c1b_cgraph">
<area shape="rect" title="Check heartbeat time and send Time_message." alt="" coords="5,104,137,145"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="106,101,183,57,193,51,196,56,186,61,108,106"/>
<area shape="rect" href="classsysio_1_1connection.html#aca3e3acacf8047c389e0bda758da197d" title=" " alt="" coords="185,71,316,111"/>
<area shape="poly" title=" " alt="" coords="137,109,169,103,170,109,138,115"/>
<area shape="rect" href="classsysio_1_1connection.html#a55b561baeda5353d7c1a1e2a8a0c88e1" title=" " alt="" coords="185,136,316,177"/>
<area shape="poly" title=" " alt="" coords="138,133,170,139,169,145,137,139"/>
<area shape="rect" href="classsysio_1_1connection.html#a1c134c29679142daab81ca9fe4a10996" title="Populate and queue time_message." alt="" coords="185,201,316,242"/>
<area shape="poly" title=" " alt="" coords="109,143,186,186,196,191,194,196,183,191,107,147"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="377,144,482,169"/>
<area shape="poly" title=" " alt="" coords="316,154,362,154,362,159,316,159"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="574,144,653,169"/>
<area shape="poly" title=" " alt="" coords="483,154,558,154,558,159,483,159"/>
<area shape="poly" title=" " alt="" coords="582,145,576,135,580,125,593,119,614,117,636,119,647,126,645,131,634,124,613,122,594,124,584,129,582,134,587,142"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="364,197,495,238"/>
<area shape="poly" title=" " alt="" coords="316,218,348,217,349,222,317,223"/>
<area shape="rect" href="classsysio_1_1connection.html#aa74b147947e087bc084d72a3d892a06f" title="Read system time and convert to a 64 bit integer." alt="" coords="364,263,495,303"/>
<area shape="poly" title=" " alt="" coords="313,240,355,255,353,260,311,245"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="543,193,684,234"/>
<area shape="poly" title=" " alt="" coords="496,214,528,213,528,218,496,219"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="546,259,681,299"/>
<area shape="poly" title=" " alt="" coords="494,236,537,251,535,256,492,241"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="752,237,852,262"/>
<area shape="poly" title=" " alt="" coords="681,266,737,257,738,262,682,271"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="732,287,872,327"/>
<area shape="poly" title=" " alt="" coords="682,286,717,292,716,297,681,292"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="920,229,1060,270"/>
<area shape="poly" title=" " alt="" coords="852,247,904,247,904,252,852,252"/>
</map>
</div>

</div>
</div>
<a id="a7fe7bb50b91bd69cdf56c7c09a868e29" name="a7fe7bb50b91bd69cdf56c7c09a868e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe7bb50b91bd69cdf56c7c09a868e29">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::close </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>reconnect</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>shutdown</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reconnect</td><td>true if we should try and reconnect immediately after close </td></tr>
    <tr><td class="paramname">shutdown</td><td>true only if plugin is shutting down </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00985">985</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  985</span>                                                         {</div>
<div class="line"><span class="lineno">  986</span>      <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>.post( [<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a> = shared_from_this(), reconnect, shutdown]() {</div>
<div class="line"><span class="lineno">  987</span>         connection::_close( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>.get(), reconnect, shutdown );</div>
<div class="line"><span class="lineno">  988</span>      });</div>
<div class="line"><span class="lineno">  989</span>   }</div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">sysio::self</a></div><div class="ttdeci">@ self</div><div class="ttdoc">the connection is to itself</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00048">protocol.hpp:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a7fe7bb50b91bd69cdf56c7c09a868e29_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a7fe7bb50b91bd69cdf56c7c09a868e29_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a7fe7bb50b91bd69cdf56c7c09a868e29_icgraph" id="aclasssysio_1_1connection_a7fe7bb50b91bd69cdf56c7c09a868e29_icgraph">
<area shape="rect" title=" " alt="" coords="392,235,523,275"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="199,5,330,46"/>
<area shape="poly" title=" " alt="" coords="442,222,427,185,405,142,377,99,342,61,325,49,328,44,346,57,381,96,409,139,431,182,447,219"/>
<area shape="rect" href="classsysio_1_1connection.html#ace5604a0cfadaf357cee46c842a9a54e" title=" " alt="" coords="199,71,330,111"/>
<area shape="poly" title=" " alt="" coords="432,224,393,174,369,149,342,127,322,114,325,110,346,122,373,145,398,171,437,220"/>
<area shape="rect" href="classsysio_1_1connection.html#a5334d7cde64019b2ab84f3930bb54de9" title=" " alt="" coords="199,136,330,177"/>
<area shape="poly" title=" " alt="" coords="409,229,343,192,316,180,319,175,345,187,411,224"/>
<area shape="rect" href="classsysio_1_1connection.html#a7ec6bfca8f639dbced53570e5a41ce36" title=" " alt="" coords="199,201,330,242"/>
<area shape="poly" title=" " alt="" coords="377,244,330,236,331,230,378,239"/>
<area shape="rect" href="classsysio_1_1connection.html#a27f41e41ebd6b4570bc19a31b4bb1fef" title="Process the next message from the pending message buffer." alt="" coords="185,267,344,307"/>
<area shape="poly" title=" " alt="" coords="377,271,345,276,344,271,376,266"/>
<area shape="rect" href="classsysio_1_1connection.html#ae85a6909e1a531d6c27c0d22f12e61c9" title=" " alt="" coords="199,332,330,373"/>
<area shape="poly" title=" " alt="" coords="410,286,345,321,318,334,316,329,343,317,408,281"/>
<area shape="rect" href="classsysio_1_1connection.html#a5b1658474d4667bfca0ee4e1e2c605a8" title=" " alt="" coords="195,397,334,438"/>
<area shape="poly" title=" " alt="" coords="436,290,397,339,372,364,346,387,325,399,322,394,342,382,369,360,393,335,432,287"/>
<area shape="rect" href="classsysio_1_1connection.html#a4267b7b591fb8051841cf1d11228e0e1" title=" " alt="" coords="5,427,137,467"/>
<area shape="poly" title=" " alt="" coords="450,291,437,331,415,376,385,418,367,437,345,452,320,464,294,472,239,478,185,476,136,468,137,462,185,470,238,473,293,467,318,459,343,447,363,433,381,415,411,373,432,329,445,289"/>
<area shape="poly" title=" " alt="" coords="180,433,138,440,137,434,179,428"/>
</map>
</div>

</div>
</div>
<a id="a4bb332843c0924e4597fe1d992367232" name="a4bb332843c0924e4597fe1d992367232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb332843c0924e4597fe1d992367232">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::connect </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; tcp::resolver &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>resolver</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcp::resolver::results_type</td>          <td class="paramname"><span class="paramname"><em>endpoints</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02343">2343</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2343</span>                                                                                                           {</div>
<div class="line"><span class="lineno"> 2344</span>      <a class="code hl_variable" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2345</span>      <a class="code hl_variable" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a>.<a class="code hl_function" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd">reset</a>();</div>
<div class="line"><span class="lineno"> 2346</span>      <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a6a5614c85ba08a707d94f8303b561940">clear_out_queue</a>();</div>
<div class="line"><span class="lineno"> 2347</span>      boost::asio::async_connect( *<a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>, endpoints,</div>
<div class="line"><span class="lineno"> 2348</span>         boost::asio::bind_executor( <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>,</div>
<div class="line"><span class="lineno"> 2349</span>               [resolver, c = shared_from_this(), <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>=<a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>]( <span class="keyword">const</span> boost::system::error_code&amp; err, <span class="keyword">const</span> tcp::endpoint&amp; endpoint ) {</div>
<div class="line"><span class="lineno"> 2350</span>            <span class="keywordflow">if</span>( !err &amp;&amp; <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>-&gt;is_open() &amp;&amp; <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a> == c-&gt;socket ) {</div>
<div class="line"><span class="lineno"> 2351</span>               <span class="keywordflow">if</span>( c-&gt;start_session() ) {</div>
<div class="line"><span class="lineno"> 2352</span>                  c-&gt;send_handshake();</div>
<div class="line"><span class="lineno"> 2353</span>               }</div>
<div class="line"><span class="lineno"> 2354</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2355</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;connection failed to ${host}:${port} ${error}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2356</span>                        (<span class="stringliteral">&quot;host&quot;</span>, endpoint.address().to_string())(<span class="stringliteral">&quot;port&quot;</span>, endpoint.port())( <span class="stringliteral">&quot;error&quot;</span>, err.message()));</div>
<div class="line"><span class="lineno"> 2357</span>               c-&gt;close( <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 2358</span>            }</div>
<div class="line"><span class="lineno"> 2359</span>      } ) );</div>
<div class="line"><span class="lineno"> 2360</span>   }</div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a49d9f621f19529a42cbfa0de7b9266dd"><div class="ttname"><a href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd">fc::message_buffer::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00097">message_buffer.hpp:97</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a2cb1b55074b31325f9845700fd7ede82"><div class="ttname"><a href="#a2cb1b55074b31325f9845700fd7ede82">sysio::connection::connecting</a></div><div class="ttdeci">std::atomic&lt; bool &gt; connecting</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00640">net_plugin.cpp:640</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_af241d498d210d4e238b73f7bcd1c45d1"><div class="ttname"><a href="#af241d498d210d4e238b73f7bcd1c45d1">sysio::connection::pending_message_buffer</a></div><div class="ttdeci">fc::message_buffer&lt; 1024 *1024 &gt; pending_message_buffer</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00623">net_plugin.cpp:623</a></div></div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_a6a5614c85ba08a707d94f8303b561940"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#a6a5614c85ba08a707d94f8303b561940">sysio::queued_buffer::clear_out_queue</a></div><div class="ttdeci">void clear_out_queue()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00457">net_plugin.cpp:457</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a4bb332843c0924e4597fe1d992367232_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a4bb332843c0924e4597fe1d992367232_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a4bb332843c0924e4597fe1d992367232_cgraph" id="aclasssysio_1_1connection_a4bb332843c0924e4597fe1d992367232_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,137,79"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a6a5614c85ba08a707d94f8303b561940" title=" " alt="" coords="185,5,327,46"/>
<area shape="poly" title=" " alt="" coords="137,45,169,39,170,44,138,50"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a49d9f621f19529a42cbfa0de7b9266dd" title=" " alt="" coords="189,71,322,111"/>
<area shape="poly" title=" " alt="" coords="138,68,174,74,173,79,137,73"/>
</map>
</div>

</div>
</div>
<a id="a389358826bf8da3e54bebbd7db92120c" name="a389358826bf8da3e54bebbd7db92120c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a389358826bf8da3e54bebbd7db92120c">&#9670;&#160;</a></span>connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::connected </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00973">973</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  973</span>                              {</div>
<div class="line"><span class="lineno">  974</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="#adee4be2152a35cc0122e53365e8e1937">socket_is_open</a>() &amp;&amp; !<a class="code hl_variable" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a>;</div>
<div class="line"><span class="lineno">  975</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_adee4be2152a35cc0122e53365e8e1937"><div class="ttname"><a href="#adee4be2152a35cc0122e53365e8e1937">sysio::connection::socket_is_open</a></div><div class="ttdeci">bool socket_is_open() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00590">net_plugin.cpp:590</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_cgraph" id="aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,46"/>
<area shape="rect" href="classsysio_1_1connection.html#adee4be2152a35cc0122e53365e8e1937" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="137,23,169,23,169,28,137,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_icgraph" id="aclasssysio_1_1connection_a389358826bf8da3e54bebbd7db92120c_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#aeb1cd3ec121a5ff8d01c2292834923a1" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="aeb1cd3ec121a5ff8d01c2292834923a1" name="aeb1cd3ec121a5ff8d01c2292834923a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1cd3ec121a5ff8d01c2292834923a1">&#9670;&#160;</a></span>current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::current </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00977">977</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  977</span>                            {</div>
<div class="line"><span class="lineno">  978</span>      <span class="keywordflow">return</span> (<a class="code hl_function" href="#a389358826bf8da3e54bebbd7db92120c">connected</a>() &amp;&amp; !<a class="code hl_variable" href="#ab77357d0ed0b422c2d6a15065d818ff6">syncing</a>);</div>
<div class="line"><span class="lineno">  979</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a389358826bf8da3e54bebbd7db92120c"><div class="ttname"><a href="#a389358826bf8da3e54bebbd7db92120c">sysio::connection::connected</a></div><div class="ttdeci">bool connected()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00973">net_plugin.cpp:973</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ab77357d0ed0b422c2d6a15065d818ff6"><div class="ttname"><a href="#ab77357d0ed0b422c2d6a15065d818ff6">sysio::connection::syncing</a></div><div class="ttdeci">std::atomic&lt; bool &gt; syncing</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00641">net_plugin.cpp:641</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_aeb1cd3ec121a5ff8d01c2292834923a1_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_aeb1cd3ec121a5ff8d01c2292834923a1_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_aeb1cd3ec121a5ff8d01c2292834923a1_cgraph" id="aclasssysio_1_1connection_aeb1cd3ec121a5ff8d01c2292834923a1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a389358826bf8da3e54bebbd7db92120c" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="137,23,169,23,169,28,137,28"/>
<area shape="rect" href="classsysio_1_1connection.html#adee4be2152a35cc0122e53365e8e1937" title=" " alt="" coords="364,5,495,46"/>
<area shape="poly" title=" " alt="" coords="316,23,349,23,349,28,316,28"/>
</map>
</div>

</div>
</div>
<a id="a4f6ca81d49c22eef80854175bff8ed42" name="a4f6ca81d49c22eef80854175bff8ed42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f6ca81d49c22eef80854175bff8ed42">&#9670;&#160;</a></span>do_queue_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::do_queue_write </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01212">1212</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1212</span>                                   {</div>
<div class="line"><span class="lineno"> 1213</span>      <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a17b570f0d6ec495cd2823c84110cab79">ready_to_send</a>() )</div>
<div class="line"><span class="lineno"> 1214</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1215</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c(shared_from_this());</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>      std::vector&lt;boost::asio::const_buffer&gt; bufs;</div>
<div class="line"><span class="lineno"> 1218</span>      <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a382e1e4ae7f849e775c04e051400a5dc">fill_out_buffer</a>( bufs );</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>      <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>.post( [c{std::move(c)}, bufs{std::move(bufs)}]() {</div>
<div class="line"><span class="lineno"> 1221</span>         boost::asio::async_write( *c-&gt;socket, bufs,</div>
<div class="line"><span class="lineno"> 1222</span>            boost::asio::bind_executor( c-&gt;strand, [c, <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>=c-&gt;socket]( boost::system::error_code ec, std::size_t w ) {</div>
<div class="line"><span class="lineno"> 1223</span>            try {</div>
<div class="line"><span class="lineno"> 1224</span>               c-&gt;buffer_queue.clear_out_queue();</div>
<div class="line"><span class="lineno"> 1225</span>               <span class="comment">// May have closed connection and cleared buffer_queue</span></div>
<div class="line"><span class="lineno"> 1226</span>               if( !c-&gt;socket_is_open() || socket != c-&gt;socket ) {</div>
<div class="line"><span class="lineno"> 1227</span>                  peer_ilog( c, <span class="stringliteral">&quot;async write socket ${r} before callback&quot;</span>, (<span class="stringliteral">&quot;r&quot;</span>, c-&gt;socket_is_open() ? <span class="stringliteral">&quot;changed&quot;</span> : <span class="stringliteral">&quot;closed&quot;</span>) );</div>
<div class="line"><span class="lineno"> 1228</span>                  c-&gt;close();</div>
<div class="line"><span class="lineno"> 1229</span>                  return;</div>
<div class="line"><span class="lineno"> 1230</span>               }</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>               if( ec ) {</div>
<div class="line"><span class="lineno"> 1233</span>                  if( ec.value() != boost::asio::error::eof ) {</div>
<div class="line"><span class="lineno"> 1234</span>                     peer_elog( c, <span class="stringliteral">&quot;Error sending to peer: ${i}&quot;</span>, ( <span class="stringliteral">&quot;i&quot;</span>, ec.message() ) );</div>
<div class="line"><span class="lineno"> 1235</span>                  } else {</div>
<div class="line"><span class="lineno"> 1236</span>                     peer_wlog( c, <span class="stringliteral">&quot;connection closure detected on write&quot;</span> );</div>
<div class="line"><span class="lineno"> 1237</span>                  }</div>
<div class="line"><span class="lineno"> 1238</span>                  c-&gt;close();</div>
<div class="line"><span class="lineno"> 1239</span>                  return;</div>
<div class="line"><span class="lineno"> 1240</span>               }</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>               c-&gt;buffer_queue.out_callback( ec, w );</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>               c-&gt;enqueue_sync_block();</div>
<div class="line"><span class="lineno"> 1245</span>               c-&gt;do_queue_write();</div>
<div class="line"><span class="lineno"> 1246</span>            } <a class="code hl_function" href="hello__driver_8cpp.html#a1204fa6444ae7174767e202a6d39b815">catch</a> ( <span class="keyword">const</span> std::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1247</span>              <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1248</span>            } <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) {</div>
<div class="line"><span class="lineno"> 1249</span>              <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 1250</span>            } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; ex ) {</div>
<div class="line"><span class="lineno"> 1251</span>               <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( c, <span class="stringliteral">&quot;fc::exception in do_queue_write: ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, ex.<a class="code hl_function" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8">to_string</a>()) );</div>
<div class="line"><span class="lineno"> 1252</span>            } <span class="keywordflow">catch</span>( <span class="keyword">const</span> std::exception&amp; ex ) {</div>
<div class="line"><span class="lineno"> 1253</span>               <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( c, <span class="stringliteral">&quot;std::exception in do_queue_write: ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, ex.what()) );</div>
<div class="line"><span class="lineno"> 1254</span>            } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 1255</span>               <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( c, <span class="stringliteral">&quot;Unknown exception in do_queue_write&quot;</span> );</div>
<div class="line"><span class="lineno"> 1256</span>            }</div>
<div class="line"><span class="lineno"> 1257</span>         }));</div>
<div class="line"><span class="lineno"> 1258</span>      });</div>
<div class="line"><span class="lineno"> 1259</span>   }</div>
<div class="ttc" id="aclassfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00057">exception.hpp:58</a></div></div>
<div class="ttc" id="aclassfc_1_1exception_html_adbc4557b14bc29b74e9cf9f0ed5fb8d8"><div class="ttname"><a href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8">fc::exception::to_string</a></div><div class="ttdeci">std::string to_string(log_level ll=log_level::info) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00196">exception.cpp:196</a></div></div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_a17b570f0d6ec495cd2823c84110cab79"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#a17b570f0d6ec495cd2823c84110cab79">sysio::queued_buffer::ready_to_send</a></div><div class="ttdeci">bool ready_to_send() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00474">net_plugin.cpp:474</a></div></div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_a382e1e4ae7f849e775c04e051400a5dc"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#a382e1e4ae7f849e775c04e051400a5dc">sysio::queued_buffer::fill_out_buffer</a></div><div class="ttdeci">void fill_out_buffer(std::vector&lt; boost::asio::const_buffer &gt; &amp;bufs)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00497">net_plugin.cpp:497</a></div></div>
<div class="ttc" id="ahello__driver_8cpp_html_a1204fa6444ae7174767e202a6d39b815"><div class="ttname"><a href="hello__driver_8cpp.html#a1204fa6444ae7174767e202a6d39b815">catch</a></div><div class="ttdeci">catch(...)</div><div class="ttdef"><b>Definition</b> <a href="hello__driver_8cpp_source.html#l00085">hello_driver.cpp:85</a></div></div>
<div class="ttc" id="anet__plugin_8cpp_html_a0237ff767d828f6a423a4728c65b11b8"><div class="ttname"><a href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a></div><div class="ttdeci">#define peer_elog(PEER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00383">net_plugin.cpp:383</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_cgraph" id="aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_cgraph">
<area shape="rect" title=" " alt="" coords="5,254,137,294"/>
<area shape="rect" href="hello__driver_8cpp.html#a1204fa6444ae7174767e202a6d39b815" title=" " alt="" coords="235,115,288,140"/>
<area shape="poly" title=" " alt="" coords="84,252,125,202,152,174,183,150,219,134,221,139,186,155,156,178,129,205,88,255"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a382e1e4ae7f849e775c04e051400a5dc" title=" " alt="" coords="191,188,333,229"/>
<area shape="poly" title=" " alt="" coords="132,251,185,232,187,237,133,256"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a17b570f0d6ec495cd2823c84110cab79" title=" " alt="" coords="191,254,333,294"/>
<area shape="poly" title=" " alt="" coords="137,271,175,271,175,277,137,277"/>
<area shape="rect" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8" title=" " alt="" coords="185,319,339,344"/>
<area shape="poly" title=" " alt="" coords="138,291,203,311,201,316,136,296"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="196,368,328,394"/>
<area shape="poly" title=" " alt="" coords="97,293,137,324,186,354,197,359,195,364,183,359,134,329,94,297"/>
<area shape="poly" title=" " alt="" coords="225,188,224,179,230,170,242,164,262,162,283,164,295,170,293,175,281,169,262,167,244,169,233,174,229,180,231,187"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="387,80,527,106"/>
<area shape="poly" title=" " alt="" coords="318,316,337,304,377,261,408,210,431,161,445,120,450,121,436,163,413,213,382,264,341,308,321,320"/>
<area shape="rect" href="namespacefc.html#acd5129981ae93fce3154d3fed6f6acbc" title=" " alt="" coords="399,319,515,344"/>
<area shape="poly" title=" " alt="" coords="339,329,383,329,383,334,339,334"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="391,604,523,630"/>
<area shape="poly" title=" " alt="" coords="324,343,341,353,366,380,388,410,420,475,442,538,454,588,449,589,437,540,416,477,383,413,362,383,337,357,321,347"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="592,129,724,155"/>
<area shape="poly" title=" " alt="" coords="513,104,588,122,587,128,512,109"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="590,80,726,106"/>
<area shape="poly" title=" " alt="" coords="528,90,574,90,574,95,528,95"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="813,31,950,56"/>
<area shape="poly" title=" " alt="" coords="471,77,515,44,544,28,575,16,640,4,707,5,769,12,822,24,821,29,768,18,706,10,640,10,576,21,546,33,518,49,475,82"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="613,31,703,56"/>
<area shape="poly" title=" " alt="" coords="512,77,597,56,598,61,513,82"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="801,129,963,155"/>
<area shape="poly" title=" " alt="" coords="724,139,785,139,785,145,724,145"/>
<area shape="poly" title=" " alt="" coords="719,77,805,58,806,63,720,82"/>
<area shape="rect" href="namespacefc.html#a578c57f57002a845da7e91ee8bf4287a" title=" " alt="" coords="598,293,718,319"/>
<area shape="poly" title=" " alt="" coords="515,321,582,313,583,318,516,327"/>
<area shape="rect" href="classfc_1_1variant__object.html#a804706455398e249f6272b3ff19cef5d" title=" " alt="" coords="583,343,733,368"/>
<area shape="poly" title=" " alt="" coords="516,336,568,342,567,347,515,341"/>
<area shape="rect" href="classfc_1_1variant__object.html#acfef67913fd3c24ea8017b3a5ad49144" title=" " alt="" coords="597,416,719,457"/>
<area shape="poly" title=" " alt="" coords="485,342,605,407,603,411,482,347"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="575,481,741,507"/>
<area shape="poly" title=" " alt="" coords="468,343,510,402,541,437,577,467,587,472,584,477,574,471,537,441,505,406,464,346"/>
<area shape="rect" href="classfc_1_1variant__object.html#a0e523ff3ad212b0582ad2ac8a07773ae" title=" " alt="" coords="597,179,719,220"/>
<area shape="poly" title=" " alt="" coords="469,316,513,274,574,229,582,225,584,229,577,234,517,279,473,320"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="597,244,719,270"/>
<area shape="poly" title=" " alt="" coords="486,315,574,278,593,272,594,277,576,283,488,320"/>
<area shape="rect" href="namespacefc.html#aee7bbe89bfe8d6273f5212938cc1d458" title=" " alt="" coords="821,343,942,368"/>
<area shape="poly" title=" " alt="" coords="719,317,806,336,805,341,718,322"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#ad8856ea517c970ed0584a251c3fdc94f" title=" " alt="" coords="861,293,903,319"/>
<area shape="poly" title=" " alt="" coords="719,303,845,303,845,309,719,309"/>
<area shape="rect" href="namespacefc.html#a47ce6fdd4f18f7f06601e820866d54ec" title=" " alt="" coords="1072,343,1185,368"/>
<area shape="poly" title=" " alt="" coords="943,353,1056,353,1056,358,943,358"/>
<area shape="rect" href="namespacefc.html#afdef7bae8756a2c4ba14524f5913d485" title=" " alt="" coords="1056,392,1201,418"/>
<area shape="poly" title=" " alt="" coords="943,365,1046,386,1045,391,942,370"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="1069,293,1187,319"/>
<area shape="poly" title=" " alt="" coords="942,341,1053,318,1054,323,943,346"/>
<area shape="rect" href="namespacefc.html#afdd13a1463953f18fde2fa891cb5231e" title=" " alt="" coords="1281,368,1387,394"/>
<area shape="poly" title=" " alt="" coords="1185,360,1266,370,1265,375,1185,365"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#abe95547575fcc81911e381df03f8ebfe" title=" " alt="" coords="1435,368,1613,394"/>
<area shape="poly" title=" " alt="" coords="1387,378,1419,378,1419,383,1387,383"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a6e5df73716136aec55e8fcf3309038b6" title="get_sequence_x functions decode utf&#45;8 sequences of the length x" alt="" coords="1680,295,1799,336"/>
<area shape="poly" title=" " alt="" coords="1568,365,1664,335,1666,340,1570,370"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a9d641b9546be985f9f0fd4955ac42a24" title=" " alt="" coords="1680,360,1799,401"/>
<area shape="poly" title=" " alt="" coords="1613,378,1665,378,1665,383,1613,383"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ac1809a1fb3fa6983d64a0d3a39646008" title=" " alt="" coords="1680,426,1799,466"/>
<area shape="poly" title=" " alt="" coords="1570,392,1666,421,1664,426,1568,397"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ad1958e7c6746ba6b1fbb0d81b88b346c" title=" " alt="" coords="1680,164,1799,205"/>
<area shape="poly" title=" " alt="" coords="1531,366,1580,296,1617,254,1659,216,1667,211,1670,215,1663,220,1621,258,1584,300,1535,369"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a97b553137aaeda6e8ca6f8d46f78fd79" title=" " alt="" coords="1677,556,1802,597"/>
<area shape="poly" title=" " alt="" coords="1535,392,1584,462,1621,504,1663,541,1670,546,1667,551,1659,546,1617,508,1580,465,1531,395"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a3160f6f24dff465f64f83cb0e66995c6" title=" " alt="" coords="1670,491,1810,532"/>
<area shape="poly" title=" " alt="" coords="1543,392,1595,432,1662,476,1673,482,1671,486,1660,480,1592,436,1540,396"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adb347cc81d32ebb0fd22d849f7bff5ea" title=" " alt="" coords="1661,230,1818,270"/>
<area shape="poly" title=" " alt="" coords="1540,365,1592,326,1660,281,1671,275,1673,280,1662,286,1595,330,1543,370"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adf6e0469e279b9562aa461b4c3c1e7e4" title=" " alt="" coords="1866,303,2007,328"/>
<area shape="poly" title=" " alt="" coords="1800,313,1851,313,1851,318,1800,318"/>
<area shape="poly" title=" " alt="" coords="1799,358,1880,331,1882,336,1801,364"/>
<area shape="poly" title=" " alt="" coords="1794,423,1817,410,1868,374,1909,337,1913,341,1871,378,1820,415,1796,428"/>
<area shape="poly" title=" " alt="" coords="1796,203,1820,216,1871,253,1913,290,1909,294,1868,257,1817,220,1794,208"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a31a185a6bc8b9bf454191a8a95a93595" title=" " alt="" coords="1881,556,1992,597"/>
<area shape="poly" title=" " alt="" coords="1803,574,1865,574,1865,579,1803,579"/>
<area shape="poly" title=" " alt="" coords="1804,268,1882,295,1880,300,1802,273"/>
<area shape="poly" title=" " alt="" coords="1201,394,1266,386,1266,391,1201,399"/>
<area shape="poly" title=" " alt="" coords="620,416,618,406,624,397,638,392,658,390,680,392,693,398,691,403,678,397,658,395,639,397,628,402,623,408,625,415"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="789,481,975,507"/>
<area shape="poly" title=" " alt="" coords="741,491,773,491,773,497,741,497"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="815,592,948,633"/>
<area shape="poly" title=" " alt="" coords="711,505,742,517,797,548,844,581,841,585,794,552,740,522,710,510"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1023,481,1233,507"/>
<area shape="poly" title=" " alt="" coords="976,491,1008,491,1008,497,976,497"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="833,244,931,270"/>
<area shape="poly" title=" " alt="" coords="720,254,817,254,817,259,720,259"/>
<area shape="poly" title=" " alt="" coords="845,245,837,235,842,225,857,219,882,217,909,220,923,227,921,232,908,225,882,223,858,225,845,229,843,235,849,242"/>
<area shape="poly" title=" " alt="" coords="498,628,576,646,658,653,740,646,800,634,801,640,741,651,658,659,575,651,497,633"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="588,711,728,752"/>
<area shape="poly" title=" " alt="" coords="479,628,577,690,598,702,595,706,574,695,476,632"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="588,531,728,572"/>
<area shape="poly" title=" " alt="" coords="498,601,578,575,580,580,500,606"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="591,596,725,637"/>
<area shape="poly" title=" " alt="" coords="524,614,576,614,576,619,524,619"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="796,719,968,744"/>
<area shape="poly" title=" " alt="" coords="729,729,780,729,780,734,729,734"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_icgraph" id="aclasssysio_1_1connection_a4f6ca81d49c22eef80854175bff8ed42_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#ae85a6909e1a531d6c27c0d22f12e61c9" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="ad6a1bcdfc4bd9d2c7ab2278240def6b6" name="ad6a1bcdfc4bd9d2c7ab2278240def6b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">&#9670;&#160;</a></span>enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::enqueue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio.html#a783ade47a6f13a71a9b75cd2c68d9965">net_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01414">1414</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1414</span>                                                  {</div>
<div class="line"><span class="lineno"> 1415</span>      <a class="code hl_function" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e">verify_strand_in_this_thread</a>( <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>, <a class="code hl_define" href="log__message_8hpp.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, __LINE__ );</div>
<div class="line"><span class="lineno"> 1416</span>      <a class="code hl_enumeration" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a> close_after_send = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>;</div>
<div class="line"><span class="lineno"> 1417</span>      <span class="keywordflow">if</span> (std::holds_alternative&lt;go_away_message&gt;(m)) {</div>
<div class="line"><span class="lineno"> 1418</span>         close_after_send = std::get&lt;go_away_message&gt;(m).reason;</div>
<div class="line"><span class="lineno"> 1419</span>      }</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>      buffer_factory buff_factory;</div>
<div class="line"><span class="lineno"> 1422</span>      <span class="keyword">auto</span> send_buffer = buff_factory.get_send_buffer( m );</div>
<div class="line"><span class="lineno"> 1423</span>      <a class="code hl_function" href="#a111bb23671fbd3acac7e1196a6cf8617">enqueue_buffer</a>( send_buffer, close_after_send );</div>
<div class="line"><span class="lineno"> 1424</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a111bb23671fbd3acac7e1196a6cf8617"><div class="ttname"><a href="#a111bb23671fbd3acac7e1196a6cf8617">sysio::connection::enqueue_buffer</a></div><div class="ttdeci">void enqueue_buffer(const std::shared_ptr&lt; std::vector&lt; char &gt; &gt; &amp;send_buffer, go_away_reason close_after_send, bool to_sync_queue=false)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01438">net_plugin.cpp:1438</a></div></div>
<div class="ttc" id="alog__message_8hpp_html_a7d6e1cf1a8d53f38471e9e9db3faf740"><div class="ttname"><a href="log__message_8hpp.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a></div><div class="ttdeci">#define __func__</div><div class="ttdef"><b>Definition</b> <a href="log__message_8hpp_source.html#l00144">log_message.hpp:144</a></div></div>
<div class="ttc" id="anamespacesysio_html_a19cc0c616331757f980d857722b4e07e"><div class="ttname"><a href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e">sysio::verify_strand_in_this_thread</a></div><div class="ttdeci">void verify_strand_in_this_thread(const Strand &amp;strand, const char *func, int line)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00054">net_plugin.cpp:54</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673f"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">sysio::go_away_reason</a></div><div class="ttdeci">go_away_reason</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00046">protocol.hpp:46</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">sysio::no_reason</a></div><div class="ttdeci">@ no_reason</div><div class="ttdoc">no reason to go away</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00047">protocol.hpp:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_cgraph" id="aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,137,79"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="185,5,325,46"/>
<area shape="poly" title=" " alt="" coords="137,44,169,39,170,44,138,50"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="187,71,322,111"/>
<area shape="poly" title=" " alt="" coords="138,68,172,74,171,79,137,73"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="394,49,493,74"/>
<area shape="poly" title=" " alt="" coords="322,78,378,69,379,74,323,83"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="373,99,513,139"/>
<area shape="poly" title=" " alt="" coords="323,98,358,104,357,109,322,104"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="561,41,702,82"/>
<area shape="poly" title=" " alt="" coords="493,59,546,59,546,64,493,64"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_icgraph" id="aclasssysio_1_1connection_ad6a1bcdfc4bd9d2c7ab2278240def6b6_icgraph">
<area shape="rect" title=" " alt="" coords="364,104,495,145"/>
<area shape="rect" href="classsysio_1_1connection.html#a5b9e30160fc0db3e2842bcb868cb34a0" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="379,98,315,61,291,49,294,44,317,57,382,94"/>
<area shape="rect" href="classsysio_1_1connection.html#a6969d80878d60791744f4ace46f1b806" title=" " alt="" coords="185,71,316,111"/>
<area shape="poly" title=" " alt="" coords="348,112,316,106,317,101,349,107"/>
<area shape="rect" href="classsysio_1_1connection.html#a1c134c29679142daab81ca9fe4a10996" title="Populate and queue time_message." alt="" coords="185,136,316,177"/>
<area shape="poly" title=" " alt="" coords="349,141,317,147,316,142,348,136"/>
<area shape="rect" href="classsysio_1_1connection.html#a0a699ed89ab1cf5d95aba5aa7de17e18" title="Populate and queue time_message immediately using incoming time_message." alt="" coords="185,201,316,242"/>
<area shape="poly" title=" " alt="" coords="381,155,317,191,294,203,291,198,315,186,378,150"/>
<area shape="rect" href="classsysio_1_1connection.html#a7ec6bfca8f639dbced53570e5a41ce36" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="5,104,137,145"/>
<area shape="poly" title=" " alt="" coords="169,145,137,139,138,133,170,139"/>
<area shape="rect" href="classsysio_1_1connection.html#a674cbe920ea083be64a0746c0ce76c86" title="Process time_message." alt="" coords="5,169,137,210"/>
<area shape="poly" title=" " alt="" coords="170,174,138,180,137,175,169,169"/>
</map>
</div>

</div>
</div>
<a id="af8cc5bf70b8c46a2325c5021a3fd06fb" name="af8cc5bf70b8c46a2325c5021a3fd06fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8cc5bf70b8c46a2325c5021a3fd06fb">&#9670;&#160;</a></span>enqueue_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::enqueue_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>sb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>to_sync_queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01427">1427</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1427</span>                                                                                {</div>
<div class="line"><span class="lineno"> 1428</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;enqueue block ${num}&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, b-&gt;block_num()) );</div>
<div class="line"><span class="lineno"> 1429</span>      <a class="code hl_function" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e">verify_strand_in_this_thread</a>( <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>, <a class="code hl_define" href="log__message_8hpp.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, __LINE__ );</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>      block_buffer_factory buff_factory;</div>
<div class="line"><span class="lineno"> 1432</span>      <span class="keyword">auto</span> sb = buff_factory.get_send_buffer( b );</div>
<div class="line"><span class="lineno"> 1433</span>      <a class="code hl_variable" href="#a1bf388b9e64d25616cefd8d6b1175fc7">latest_blk_time</a> = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 1434</span>      <a class="code hl_function" href="#a111bb23671fbd3acac7e1196a6cf8617">enqueue_buffer</a>( sb, <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>, to_sync_queue);</div>
<div class="line"><span class="lineno"> 1435</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_aa74b147947e087bc084d72a3d892a06f"><div class="ttname"><a href="#aa74b147947e087bc084d72a3d892a06f">sysio::connection::get_time</a></div><div class="ttdeci">static tstamp get_time()</div><div class="ttdoc">Read system time and convert to a 64 bit integer.</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00729">net_plugin.cpp:729</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_af8cc5bf70b8c46a2325c5021a3fd06fb_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_af8cc5bf70b8c46a2325c5021a3fd06fb_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_af8cc5bf70b8c46a2325c5021a3fd06fb_cgraph" id="aclasssysio_1_1connection_af8cc5bf70b8c46a2325c5021a3fd06fb_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,137,79"/>
<area shape="rect" href="structsysio_1_1block__buffer__factory.html#a50be7bedd192d3ea21c30bc893eb22f2" title="caches result for subsequent calls, only provide same signed_block_ptr instance for each invocation." alt="" coords="185,5,354,46"/>
<area shape="poly" title=" " alt="" coords="136,45,169,40,170,45,137,51"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="202,71,337,111"/>
<area shape="poly" title=" " alt="" coords="137,67,187,75,186,80,137,72"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="422,49,522,74"/>
<area shape="poly" title=" " alt="" coords="337,79,407,68,408,74,338,84"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="402,99,542,139"/>
<area shape="poly" title=" " alt="" coords="338,98,387,105,386,110,337,103"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="590,41,731,82"/>
<area shape="poly" title=" " alt="" coords="522,59,575,59,575,64,522,64"/>
</map>
</div>

</div>
</div>
<a id="a111bb23671fbd3acac7e1196a6cf8617" name="a111bb23671fbd3acac7e1196a6cf8617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111bb23671fbd3acac7e1196a6cf8617">&#9670;&#160;</a></span>enqueue_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::enqueue_buffer </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std::vector&lt; char &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>send_buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a></td>          <td class="paramname"><span class="paramname"><em>close_after_send</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>to_sync_queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01438">1438</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1441</span>   {</div>
<div class="line"><span class="lineno"> 1442</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a> = shared_from_this();</div>
<div class="line"><span class="lineno"> 1443</span>      <a class="code hl_function" href="#ae85a6909e1a531d6c27c0d22f12e61c9">queue_write</a>(send_buffer,</div>
<div class="line"><span class="lineno"> 1444</span>            [conn{std::move(<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">self</a>)}, close_after_send](boost::system::error_code ec, std::size_t ) {</div>
<div class="line"><span class="lineno"> 1445</span>                        <span class="keywordflow">if</span> (ec) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1446</span>                        <span class="keywordflow">if</span> (close_after_send != <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>) {</div>
<div class="line"><span class="lineno"> 1447</span>                           <a class="code hl_define" href="logger_8hpp.html#a067e87b091ade3787bcdda5775354654">fc_ilog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;sent a go away message: ${r}, closing connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1448</span>                                    (<span class="stringliteral">&quot;r&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee">reason_str</a>(close_after_send))(<span class="stringliteral">&quot;cid&quot;</span>, conn-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 1449</span>                           conn-&gt;close();</div>
<div class="line"><span class="lineno"> 1450</span>                           <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1451</span>                        }</div>
<div class="line"><span class="lineno"> 1452</span>                  },</div>
<div class="line"><span class="lineno"> 1453</span>                  to_sync_queue);</div>
<div class="line"><span class="lineno"> 1454</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_ae85a6909e1a531d6c27c0d22f12e61c9"><div class="ttname"><a href="#ae85a6909e1a531d6c27c0d22f12e61c9">sysio::connection::queue_write</a></div><div class="ttdeci">void queue_write(const std::shared_ptr&lt; vector&lt; char &gt; &gt; &amp;buff, std::function&lt; void(boost::system::error_code, std::size_t)&gt; callback, bool to_sync_queue=false)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01200">net_plugin.cpp:1200</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a111bb23671fbd3acac7e1196a6cf8617_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a111bb23671fbd3acac7e1196a6cf8617_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a111bb23671fbd3acac7e1196a6cf8617_cgraph" id="aclasssysio_1_1connection_a111bb23671fbd3acac7e1196a6cf8617_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,46"/>
<area shape="rect" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee" title=" " alt="" coords="185,13,306,38"/>
<area shape="poly" title=" " alt="" coords="137,23,169,23,169,28,137,28"/>
</map>
</div>

</div>
</div>
<a id="a099523d62bc60e4a13deda1fe15845ad" name="a099523d62bc60e4a13deda1fe15845ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099523d62bc60e4a13deda1fe15845ad">&#9670;&#160;</a></span>enqueue_sync_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::enqueue_sync_block </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01281">1281</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1281</span>                                       {</div>
<div class="line"><span class="lineno"> 1282</span>      <span class="keywordflow">if</span>( !peer_requested ) {</div>
<div class="line"><span class="lineno"> 1283</span>         <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1284</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1285</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;enqueue sync block ${num}&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, peer_requested-&gt;last + 1) );</div>
<div class="line"><span class="lineno"> 1286</span>      }</div>
<div class="line"><span class="lineno"> 1287</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code hl_enumvalue" href="namespace_i_r.html#aa1afcba889279fa935b76ba278be7fd6a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = ++peer_requested-&gt;last;</div>
<div class="line"><span class="lineno"> 1288</span>      <span class="keywordflow">if</span>(num == peer_requested-&gt;end_block) {</div>
<div class="line"><span class="lineno"> 1289</span>         peer_requested.reset();</div>
<div class="line"><span class="lineno"> 1290</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;completing enqueue_sync_block ${num}&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, num) );</div>
<div class="line"><span class="lineno"> 1291</span>      }</div>
<div class="line"><span class="lineno"> 1292</span>      <a class="code hl_typedef" href="namespacesysio.html#a6a48b685d0bf226f8d96c5cbbd648945">connection_wptr</a> weak = shared_from_this();</div>
<div class="line"><span class="lineno"> 1293</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [num, weak{std::move(weak)}]() {</div>
<div class="line"><span class="lineno"> 1294</span>         <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c = weak.lock();</div>
<div class="line"><span class="lineno"> 1295</span>         <span class="keywordflow">if</span>( !c ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1296</span>         <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; cc = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>();</div>
<div class="line"><span class="lineno"> 1297</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a> sb;</div>
<div class="line"><span class="lineno"> 1298</span>         <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1299</span>            sb = cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb">fetch_block_by_number</a>( num );</div>
<div class="line"><span class="lineno"> 1300</span>         } <a class="code hl_define" href="exception_8hpp.html#aed56aa2593b6f6fc6a839b7cb5c6e8e3">FC_LOG_AND_DROP</a>();</div>
<div class="line"><span class="lineno"> 1301</span>         <span class="keywordflow">if</span>( sb ) {</div>
<div class="line"><span class="lineno"> 1302</span>            c-&gt;strand.post( [c, sb{std::move(sb)}]() {</div>
<div class="line"><span class="lineno"> 1303</span>               c-&gt;enqueue_block( sb, <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno"> 1304</span>            });</div>
<div class="line"><span class="lineno"> 1305</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1306</span>            c-&gt;strand.post( [c, num]() {</div>
<div class="line"><span class="lineno"> 1307</span>               <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( c, <span class="stringliteral">&quot;enqueue sync, unable to fetch block ${num}, sending benign_other go away&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, num) );</div>
<div class="line"><span class="lineno"> 1308</span>               c-&gt;peer_requested.reset(); <span class="comment">// unable to provide requested blocks</span></div>
<div class="line"><span class="lineno"> 1309</span>               c-&gt;no_retry = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a>;</div>
<div class="line"><span class="lineno"> 1310</span>               c-&gt;enqueue( go_away_message( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a> ) );</div>
<div class="line"><span class="lineno"> 1311</span>            });</div>
<div class="line"><span class="lineno"> 1312</span>         }</div>
<div class="line"><span class="lineno"> 1313</span>      });</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1316</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a1379e43325b7e517a058bddce15571eb"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb">sysio::chain::controller::fetch_block_by_number</a></div><div class="ttdeci">signed_block_ptr fetch_block_by_number(uint32_t block_num) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03074">controller.cpp:3074</a></div></div>
<div class="ttc" id="aexception_8hpp_html_aed56aa2593b6f6fc6a839b7cb5c6e8e3"><div class="ttname"><a href="exception_8hpp.html#aed56aa2593b6f6fc6a839b7cb5c6e8e3">FC_LOG_AND_DROP</a></div><div class="ttdeci">#define FC_LOG_AND_DROP(...)</div><div class="ttdef"><b>Definition</b> <a href="exception_8hpp_source.html#l00480">exception.hpp:480</a></div></div>
<div class="ttc" id="anamespace_i_r_html_aa1afcba889279fa935b76ba278be7fd6a0fc3cfbc27e91ea60a787de13dae3e3c"><div class="ttname"><a href="namespace_i_r.html#aa1afcba889279fa935b76ba278be7fd6a0fc3cfbc27e91ea60a787de13dae3e3c">IR::ValueType::num</a></div><div class="ttdeci">@ num</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_cgraph" id="aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_cgraph">
<area shape="rect" title=" " alt="" coords="5,96,149,137"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="231,13,330,38"/>
<area shape="poly" title=" " alt="" coords="110,93,196,49,215,41,217,46,198,53,113,98"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="214,63,346,103"/>
<area shape="poly" title=" " alt="" coords="149,102,198,94,199,99,150,107"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb" title=" " alt="" coords="197,128,364,169"/>
<area shape="poly" title=" " alt="" coords="150,125,182,130,181,135,149,130"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="210,193,350,234"/>
<area shape="poly" title=" " alt="" coords="116,135,198,178,212,184,210,189,195,183,113,140"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="444,5,584,46"/>
<area shape="poly" title=" " alt="" coords="331,23,428,23,428,28,331,28"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f" title=" " alt="" coords="412,128,615,169"/>
<area shape="poly" title=" " alt="" coords="364,146,396,146,396,151,364,151"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="441,193,586,234"/>
<area shape="poly" title=" " alt="" coords="351,211,425,211,425,216,351,216"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_icgraph" id="aclasssysio_1_1connection_a099523d62bc60e4a13deda1fe15845ad_icgraph">
<area shape="rect" title=" " alt="" coords="204,39,347,79"/>
<area shape="rect" href="classsysio_1_1connection.html#a97f2f3f3cbd12528d708c86e7568e282" title=" " alt="" coords="5,5,156,46"/>
<area shape="poly" title=" " alt="" coords="188,47,156,41,157,36,189,42"/>
<area shape="rect" href="classsysio_1_1connection.html#a21ed2c2f522d3a525417073d7548a4b5" title=" " alt="" coords="15,71,146,111"/>
<area shape="poly" title=" " alt="" coords="189,76,147,83,146,78,188,71"/>
</map>
</div>

</div>
</div>
<a id="adde007266cc5383dab51c24d67d541f5" name="adde007266cc5383dab51c24d67d541f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde007266cc5383dab51c24d67d541f5">&#9670;&#160;</a></span>fetch_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::fetch_timeout </td>
          <td>(</td>
          <td class="paramtype">boost::system::error_code</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01495">1495</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1495</span>                                                            {</div>
<div class="line"><span class="lineno"> 1496</span>      <span class="keywordflow">if</span>( !ec ) {</div>
<div class="line"><span class="lineno"> 1497</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;retry_fetch( shared_from_this() );</div>
<div class="line"><span class="lineno"> 1498</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ec != boost::asio::error::operation_aborted ) { <span class="comment">// don&#39;t log on operation_aborted, called on destroy</span></div>
<div class="line"><span class="lineno"> 1499</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;setting timer for fetch request got error ${ec}&quot;</span>, (<span class="stringliteral">&quot;ec&quot;</span>, ec.message() ) );</div>
<div class="line"><span class="lineno"> 1500</span>      }</div>
<div class="line"><span class="lineno"> 1501</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a58095c1fbfc10594cbb531df695da740" name="a58095c1fbfc10594cbb531df695da740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58095c1fbfc10594cbb531df695da740">&#9670;&#160;</a></span>fetch_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::fetch_wait </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01474">1474</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1474</span>                               {</div>
<div class="line"><span class="lineno"> 1475</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c( shared_from_this() );</div>
<div class="line"><span class="lineno"> 1476</span>      std::lock_guard&lt;std::mutex&gt; g( <a class="code hl_variable" href="#a70c7d2d3ab6b30deeaf88b98925623c2">response_expected_timer_mtx</a> );</div>
<div class="line"><span class="lineno"> 1477</span>      <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>.expires_from_now( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a889da348e86c742b7551deac74b592aa">resp_expected_period</a> );</div>
<div class="line"><span class="lineno"> 1478</span>      <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>.async_wait(</div>
<div class="line"><span class="lineno"> 1479</span>            boost::asio::bind_executor( c-&gt;strand, [c]( boost::system::error_code ec ) {</div>
<div class="line"><span class="lineno"> 1480</span>               c-&gt;fetch_timeout(ec);</div>
<div class="line"><span class="lineno"> 1481</span>            } ) );</div>
<div class="line"><span class="lineno"> 1482</span>   }</div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a889da348e86c742b7551deac74b592aa"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a889da348e86c742b7551deac74b592aa">sysio::net_plugin_impl::resp_expected_period</a></div><div class="ttdeci">boost::asio::steady_timer::duration resp_expected_period</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00247">net_plugin.cpp:247</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51ccfb43cb79f666e6548ffeb9f205f2" name="a51ccfb43cb79f666e6548ffeb9f205f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51ccfb43cb79f666e6548ffeb9f205f2">&#9670;&#160;</a></span>flush_queues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::flush_queues </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00981">981</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  981</span>                                 {</div>
<div class="line"><span class="lineno">  982</span>      <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#ad5cee9e3bed9ece107058fc422298e6e">clear_write_queue</a>();</div>
<div class="line"><span class="lineno">  983</span>   }</div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_ad5cee9e3bed9ece107058fc422298e6e"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#ad5cee9e3bed9ece107058fc422298e6e">sysio::queued_buffer::clear_write_queue</a></div><div class="ttdeci">void clear_write_queue()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00450">net_plugin.cpp:450</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_cgraph" id="aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,46"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#ad5cee9e3bed9ece107058fc422298e6e" title=" " alt="" coords="185,5,327,46"/>
<area shape="poly" title=" " alt="" coords="137,23,169,23,169,28,137,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_icgraph" id="aclasssysio_1_1connection_a51ccfb43cb79f666e6548ffeb9f205f2_icgraph">
<area shape="rect" title=" " alt="" coords="185,39,316,79"/>
<area shape="rect" href="classsysio_1_1connection.html#ace5604a0cfadaf357cee46c842a9a54e" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,47,137,41,138,35,170,41"/>
<area shape="rect" href="classsysio_1_1connection.html#a21ed2c2f522d3a525417073d7548a4b5" title=" " alt="" coords="5,71,137,111"/>
<area shape="poly" title=" " alt="" coords="170,76,138,82,137,77,169,71"/>
</map>
</div>

</div>
</div>
<a id="a48cd1f7c86fbfa7801324ea18b9a8ae6" name="a48cd1f7c86fbfa7801324ea18b9a8ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48cd1f7c86fbfa7801324ea18b9a8ae6">&#9670;&#160;</a></span>get_logger_variant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1variant__object.html">fc::variant_object</a> sysio::connection::get_logger_variant </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00790">790</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  790</span>                                                  {</div>
<div class="line"><span class="lineno">  791</span>         <a class="code hl_class" href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a> mvo;</div>
<div class="line"><span class="lineno">  792</span>         mvo( <span class="stringliteral">&quot;_name&quot;</span>, <a class="code hl_variable" href="#aaeb74503530f57f9cc88f8a33bdb2980">log_p2p_address</a>)</div>
<div class="line"><span class="lineno">  793</span>            ( <span class="stringliteral">&quot;_cid&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a> )</div>
<div class="line"><span class="lineno">  794</span>            ( <span class="stringliteral">&quot;_id&quot;</span>, <a class="code hl_variable" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a> )</div>
<div class="line"><span class="lineno">  795</span>            ( <span class="stringliteral">&quot;_sid&quot;</span>, <a class="code hl_variable" href="#a855625cd0312ce982b74ddc4e5a753ff">short_conn_node_id</a> )</div>
<div class="line"><span class="lineno">  796</span>            ( <span class="stringliteral">&quot;_ip&quot;</span>, <a class="code hl_variable" href="#ac0e50a9bca0cca0c77ce7d1763832714">log_remote_endpoint_ip</a> )</div>
<div class="line"><span class="lineno">  797</span>            ( <span class="stringliteral">&quot;_port&quot;</span>, <a class="code hl_variable" href="#a9d6df697090f0105fbcd82ee97f65712">log_remote_endpoint_port</a> )</div>
<div class="line"><span class="lineno">  798</span>            ( <span class="stringliteral">&quot;_lip&quot;</span>, <a class="code hl_variable" href="#abaffefd3dd270392c59a876c12f86bf2">local_endpoint_ip</a> )</div>
<div class="line"><span class="lineno">  799</span>            ( <span class="stringliteral">&quot;_lport&quot;</span>, <a class="code hl_variable" href="#af46386111a6f93fe2ce3a9029677dca4">local_endpoint_port</a> );</div>
<div class="line"><span class="lineno">  800</span>         <span class="keywordflow">return</span> mvo;</div>
<div class="line"><span class="lineno">  801</span>      }</div>
<div class="ttc" id="aclassfc_1_1mutable__variant__object_html"><div class="ttname"><a href="classfc_1_1mutable__variant__object.html">fc::mutable_variant_object</a></div><div class="ttdoc">An order-preserving dictionary of variants.</div><div class="ttdef"><b>Definition</b> <a href="variant__object_8hpp_source.html#l00117">variant_object.hpp:118</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a5876262162c34ec954ada46f15fe9992"><div class="ttname"><a href="#a5876262162c34ec954ada46f15fe9992">sysio::connection::conn_node_id</a></div><div class="ttdeci">fc::sha256 conn_node_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00628">net_plugin.cpp:628</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a855625cd0312ce982b74ddc4e5a753ff"><div class="ttname"><a href="#a855625cd0312ce982b74ddc4e5a753ff">sysio::connection::short_conn_node_id</a></div><div class="ttdeci">string short_conn_node_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00629">net_plugin.cpp:629</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a9d6df697090f0105fbcd82ee97f65712"><div class="ttname"><a href="#a9d6df697090f0105fbcd82ee97f65712">sysio::connection::log_remote_endpoint_port</a></div><div class="ttdeci">string log_remote_endpoint_port</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00632">net_plugin.cpp:632</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_abaffefd3dd270392c59a876c12f86bf2"><div class="ttname"><a href="#abaffefd3dd270392c59a876c12f86bf2">sysio::connection::local_endpoint_ip</a></div><div class="ttdeci">string local_endpoint_ip</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00633">net_plugin.cpp:633</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ac0e50a9bca0cca0c77ce7d1763832714"><div class="ttname"><a href="#ac0e50a9bca0cca0c77ce7d1763832714">sysio::connection::log_remote_endpoint_ip</a></div><div class="ttdeci">string log_remote_endpoint_ip</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00631">net_plugin.cpp:631</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_af46386111a6f93fe2ce3a9029677dca4"><div class="ttname"><a href="#af46386111a6f93fe2ce3a9029677dca4">sysio::connection::local_endpoint_port</a></div><div class="ttdeci">string local_endpoint_port</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00634">net_plugin.cpp:634</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a7d761d1d284b8cbbeeb74d20615d6d" name="a0a7d761d1d284b8cbbeeb74d20615d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7d761d1d284b8cbbeeb74d20615d6d">&#9670;&#160;</a></span>get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1connection__status.html">connection_status</a> sysio::connection::get_status </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00943">943</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  943</span>                                                 {</div>
<div class="line"><span class="lineno">  944</span>      connection_status stat;</div>
<div class="line"><span class="lineno">  945</span>      stat.peer = peer_addr;</div>
<div class="line"><span class="lineno">  946</span>      stat.connecting = <a class="code hl_variable" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a>;</div>
<div class="line"><span class="lineno">  947</span>      stat.syncing = <a class="code hl_variable" href="#ab77357d0ed0b422c2d6a15065d818ff6">syncing</a>;</div>
<div class="line"><span class="lineno">  948</span>      std::lock_guard&lt;std::mutex&gt; g( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno">  949</span>      stat.last_handshake = <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>;</div>
<div class="line"><span class="lineno">  950</span>      <span class="keywordflow">return</span> stat;</div>
<div class="line"><span class="lineno">  951</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa74b147947e087bc084d72a3d892a06f" name="aa74b147947e087bc084d72a3d892a06f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa74b147947e087bc084d72a3d892a06f">&#9670;&#160;</a></span>get_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::get_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>There are only two calls on this routine in the program. One when a packet arrives from the network and the other when a packet is placed on the send queue. Calls the kernel time of day routine and converts to a (at least) 64 bit integer. </p>

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00729">729</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>                               {</div>
<div class="line"><span class="lineno">  730</span>         <span class="keywordflow">return</span> std::chrono::system_clock::now().time_since_epoch().count();</div>
<div class="line"><span class="lineno">  731</span>      }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_aa74b147947e087bc084d72a3d892a06f_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_aa74b147947e087bc084d72a3d892a06f_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_aa74b147947e087bc084d72a3d892a06f_icgraph" id="aclasssysio_1_1connection_aa74b147947e087bc084d72a3d892a06f_icgraph">
<area shape="rect" title="Read system time and convert to a 64 bit integer." alt="" coords="392,100,523,141"/>
<area shape="rect" href="classsysio_1_1connection.html#a674cbe920ea083be64a0746c0ce76c86" title="Process time_message." alt="" coords="5,7,137,48"/>
<area shape="poly" title=" " alt="" coords="429,90,391,54,368,38,343,26,291,13,237,8,184,10,137,16,137,11,184,5,237,3,292,7,345,21,371,33,394,50,432,87"/>
<area shape="rect" href="classsysio_1_1connection.html#a27f41e41ebd6b4570bc19a31b4bb1fef" title="Process the next message from the pending message buffer." alt="" coords="185,35,344,76"/>
<area shape="poly" title=" " alt="" coords="380,97,326,79,327,74,382,92"/>
<area shape="rect" href="classsysio_1_1connection.html#a1c134c29679142daab81ca9fe4a10996" title="Populate and queue time_message." alt="" coords="199,100,330,141"/>
<area shape="poly" title=" " alt="" coords="377,123,330,123,330,118,377,118"/>
<area shape="rect" href="classsysio_1_1connection.html#a0a699ed89ab1cf5d95aba5aa7de17e18" title="Populate and queue time_message immediately using incoming time_message." alt="" coords="199,166,330,206"/>
<area shape="poly" title=" " alt="" coords="382,149,327,168,326,163,380,144"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#a181c584acad36b817fc3a5513a6b6c1b" title="Peer heartbeat ticker." alt="" coords="189,231,340,272"/>
<area shape="poly" title=" " alt="" coords="428,154,390,188,345,220,322,233,319,228,343,216,387,183,424,150"/>
<area shape="poly" title=" " alt="" coords="197,96,183,90,108,51,111,46,186,85,199,91"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="5,100,137,141"/>
<area shape="poly" title=" " alt="" coords="183,123,137,123,137,118,183,118"/>
</map>
</div>

</div>
</div>
<a id="aca549a337da8361f2208ba79d156555c" name="aca549a337da8361f2208ba79d156555c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca549a337da8361f2208ba79d156555c">&#9670;&#160;</a></span>handle_message() <span class="overload">[1/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a></td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03136">3136</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3136</span>                                                                                  {</div>
<div class="line"><span class="lineno"> 3137</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received signed_block ${num}, id ${id}&quot;</span>, (<span class="stringliteral">&quot;num&quot;</span>, ptr-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>) );</div>
<div class="line"><span class="lineno"> 3138</span> </div>
<div class="line"><span class="lineno"> 3139</span>      <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; cc = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>();</div>
<div class="line"><span class="lineno"> 3140</span>      <a class="code hl_typedef" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a> bsp;</div>
<div class="line"><span class="lineno"> 3141</span>      <span class="keywordtype">bool</span> <a class="code hl_class" href="classfc_1_1exception.html">exception</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 3142</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3143</span>         <span class="keywordflow">if</span>( cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#acd214861da435dc956d30c81de7c50ff">fetch_block_state_by_id</a>( <span class="keywordtype">id</span> ) ) {</div>
<div class="line"><span class="lineno"> 3144</span>            my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;add_peer_block( <span class="keywordtype">id</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a> );</div>
<div class="line"><span class="lineno"> 3145</span>            my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>-&gt;sync_recv_block( shared_from_this(), <span class="keywordtype">id</span>, ptr-&gt;block_num(), <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 3146</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3147</span>         }</div>
<div class="line"><span class="lineno"> 3148</span>         <span class="comment">// this may return null if block is not immediately ready to be processed</span></div>
<div class="line"><span class="lineno"> 3149</span>         bsp = cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a31dc2787a93d98c0c591d7432aea569a">create_block_state</a>( <span class="keywordtype">id</span>, ptr );</div>
<div class="line"><span class="lineno"> 3150</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; ex ) {</div>
<div class="line"><span class="lineno"> 3151</span>         <a class="code hl_class" href="classfc_1_1exception.html">exception</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3152</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;bad block exception: #${n} ${id}...: ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3153</span>                   (<span class="stringliteral">&quot;n&quot;</span>, ptr-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>.str().substr(8,16))(<span class="stringliteral">&quot;m&quot;</span>,ex.<a class="code hl_function" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8">to_string</a>()));</div>
<div class="line"><span class="lineno"> 3154</span>      } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 3155</span>         <a class="code hl_class" href="classfc_1_1exception.html">exception</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3156</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;bad block: #${n} ${id}...: unknown exception&quot;</span>,</div>
<div class="line"><span class="lineno"> 3157</span>                   (<span class="stringliteral">&quot;n&quot;</span>, ptr-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>.str().substr(8,16)));</div>
<div class="line"><span class="lineno"> 3158</span>      }</div>
<div class="line"><span class="lineno"> 3159</span>      <span class="keywordflow">if</span>( <a class="code hl_class" href="classfc_1_1exception.html">exception</a> ) {</div>
<div class="line"><span class="lineno"> 3160</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>-&gt;rejected_block( shared_from_this(), ptr-&gt;block_num() );</div>
<div class="line"><span class="lineno"> 3161</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;rejected_block( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno"> 3162</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3163</span>      }</div>
<div class="line"><span class="lineno"> 3164</span> </div>
<div class="line"><span class="lineno"> 3165</span>      <span class="keywordtype">bool</span> signal_producer = !!bsp; <span class="comment">// ready to process immediately, so signal producer to interrupt start_block</span></div>
<div class="line"><span class="lineno"> 3166</span>      <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>(<a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [ptr{std::move(ptr)}, bsp{std::move(bsp)}, <a class="code hl_variable" href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a>, c = shared_from_this()]() <span class="keyword">mutable</span> {</div>
<div class="line"><span class="lineno"> 3167</span>         c-&gt;process_signed_block( <span class="keywordtype">id</span>, std::move(ptr), std::move(bsp) );</div>
<div class="line"><span class="lineno"> 3168</span>      });</div>
<div class="line"><span class="lineno"> 3169</span> </div>
<div class="line"><span class="lineno"> 3170</span>      <span class="keywordflow">if</span>( signal_producer )</div>
<div class="line"><span class="lineno"> 3171</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a7a336e3a6c55a53fd662e23ef16276bf">producer_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1producer__plugin.html#ae697c5d94a3c6d02dab4a159ec9a30cb">received_block</a>();</div>
<div class="line"><span class="lineno"> 3172</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_a31dc2787a93d98c0c591d7432aea569a"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#a31dc2787a93d98c0c591d7432aea569a">sysio::chain::controller::create_block_state</a></div><div class="ttdeci">block_state_ptr create_block_state(const block_id_type &amp;id, const signed_block_ptr &amp;b) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l02859">controller.cpp:2859</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1controller_html_acd214861da435dc956d30c81de7c50ff"><div class="ttname"><a href="classsysio_1_1chain_1_1controller.html#acd214861da435dc956d30c81de7c50ff">sysio::chain::controller::fetch_block_state_by_id</a></div><div class="ttdeci">block_state_ptr fetch_block_state_by_id(block_id_type id) const</div><div class="ttdef"><b>Definition</b> <a href="controller_8cpp_source.html#l03083">controller.cpp:3083</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a1ec38b54825da7f4f2ba7901d6318fd7"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sysio::net_plugin_impl::sync_master</a></div><div class="ttdeci">unique_ptr&lt; sync_manager &gt; sync_master</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00223">net_plugin.cpp:223</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a7a336e3a6c55a53fd662e23ef16276bf"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a7a336e3a6c55a53fd662e23ef16276bf">sysio::net_plugin_impl::producer_plug</a></div><div class="ttdeci">producer_plugin * producer_plug</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00265">net_plugin.cpp:265</a></div></div>
<div class="ttc" id="aclasssysio_1_1producer__plugin_html_ae697c5d94a3c6d02dab4a159ec9a30cb"><div class="ttname"><a href="classsysio_1_1producer__plugin.html#ae697c5d94a3c6d02dab4a159ec9a30cb">sysio::producer_plugin::received_block</a></div><div class="ttdeci">void received_block()</div><div class="ttdef"><b>Definition</b> <a href="producer__plugin_8cpp_source.html#l02490">producer_plugin.cpp:2490</a></div></div>
<div class="ttc" id="acode__cache_8cpp_html_aa0efefe21f4700d78692edc823e763be"><div class="ttname"><a href="code__cache_8cpp.html#aa0efefe21f4700d78692edc823e763be">id</a></div><div class="ttdeci">uint64_t id</div><div class="ttdef"><b>Definition</b> <a href="code__cache_8cpp_source.html#l00000">code_cache.cpp:0</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_ab9b14f4554cc4a0da2c361e9757b1662"><div class="ttname"><a href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">sysio::chain::block_state_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; block_state &gt; block_state_ptr</div><div class="ttdef"><b>Definition</b> <a href="block__state_8hpp_source.html#l00067">block_state.hpp:67</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_aca549a337da8361f2208ba79d156555c_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_aca549a337da8361f2208ba79d156555c_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_aca549a337da8361f2208ba79d156555c_cgraph" id="aclasssysio_1_1connection_aca549a337da8361f2208ba79d156555c_cgraph">
<area shape="rect" title=" " alt="" coords="5,193,137,234"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="220,13,320,38"/>
<area shape="poly" title=" " alt="" coords="79,192,117,122,147,82,183,49,204,37,207,42,186,53,151,86,122,125,83,194"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="204,63,336,103"/>
<area shape="poly" title=" " alt="" coords="90,191,131,153,183,114,194,108,196,113,186,119,135,157,94,195"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a31dc2787a93d98c0c591d7432aea569a" title=" " alt="" coords="194,128,346,169"/>
<area shape="poly" title=" " alt="" coords="134,190,191,171,192,177,136,195"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#acd214861da435dc956d30c81de7c50ff" title=" " alt="" coords="185,193,355,234"/>
<area shape="poly" title=" " alt="" coords="137,211,169,211,169,216,137,216"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="200,259,340,299"/>
<area shape="poly" title=" " alt="" coords="136,232,192,251,191,256,134,237"/>
<area shape="rect" href="classsysio_1_1producer__plugin.html#ae697c5d94a3c6d02dab4a159ec9a30cb" title=" " alt="" coords="194,324,346,365"/>
<area shape="poly" title=" " alt="" coords="94,233,135,271,186,309,196,314,194,319,183,313,131,275,90,237"/>
<area shape="rect" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8" title=" " alt="" coords="193,417,347,442"/>
<area shape="poly" title=" " alt="" coords="85,233,126,300,154,339,186,374,230,407,227,411,183,378,150,342,121,303,81,236"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="406,5,546,46"/>
<area shape="poly" title=" " alt="" coords="320,23,390,23,390,28,320,28"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="403,189,548,230"/>
<area shape="poly" title=" " alt="" coords="332,255,398,233,400,238,334,261"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="406,696,546,721"/>
<area shape="poly" title=" " alt="" coords="283,442,458,681,454,684,279,445"/>
<area shape="rect" href="namespacefc.html#acd5129981ae93fce3154d3fed6f6acbc" title=" " alt="" coords="418,254,534,280"/>
<area shape="poly" title=" " alt="" coords="293,414,353,374,406,330,449,289,453,292,409,334,357,378,296,418"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="410,474,542,500"/>
<area shape="poly" title=" " alt="" coords="320,441,413,467,411,472,318,446"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="613,646,745,672"/>
<area shape="poly" title=" " alt="" coords="531,692,608,673,609,679,532,697"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="611,696,747,721"/>
<area shape="poly" title=" " alt="" coords="546,706,595,706,595,711,546,711"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="834,721,972,746"/>
<area shape="poly" title=" " alt="" coords="529,719,597,731,713,737,819,736,819,741,713,742,596,736,528,724"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="634,797,724,822"/>
<area shape="poly" title=" " alt="" coords="499,719,598,775,627,788,625,793,595,780,496,724"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="822,646,984,672"/>
<area shape="poly" title=" " alt="" coords="745,656,806,656,806,662,745,662"/>
<area shape="poly" title=" " alt="" coords="748,713,819,722,818,727,747,719"/>
<area shape="rect" href="namespacefc.html#a578c57f57002a845da7e91ee8bf4287a" title=" " alt="" coords="619,164,739,189"/>
<area shape="poly" title=" " alt="" coords="522,251,547,239,561,229,570,219,580,208,595,198,606,193,608,198,598,203,584,213,574,223,564,233,550,244,524,256"/>
<area shape="rect" href="classfc_1_1variant__object.html#a804706455398e249f6272b3ff19cef5d" title=" " alt="" coords="604,213,754,238"/>
<area shape="poly" title=" " alt="" coords="533,253,597,239,598,245,535,258"/>
<area shape="rect" href="classfc_1_1variant__object.html#acfef67913fd3c24ea8017b3a5ad49144" title=" " alt="" coords="618,287,740,327"/>
<area shape="poly" title=" " alt="" coords="534,276,604,290,603,295,533,281"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="596,352,762,377"/>
<area shape="poly" title=" " alt="" coords="498,278,542,307,597,337,615,344,613,349,595,341,539,312,495,283"/>
<area shape="rect" href="classfc_1_1variant__object.html#a0e523ff3ad212b0582ad2ac8a07773ae" title=" " alt="" coords="618,49,740,90"/>
<area shape="poly" title=" " alt="" coords="530,251,546,240,560,223,566,206,570,172,574,136,581,118,594,100,603,92,607,96,598,103,585,121,579,138,575,172,572,207,564,226,550,244,533,256"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="618,114,740,140"/>
<area shape="poly" title=" " alt="" coords="528,251,547,240,563,218,569,195,576,172,595,149,603,143,606,147,598,153,581,174,575,197,568,220,550,244,531,256"/>
<area shape="rect" href="namespacefc.html#aee7bbe89bfe8d6273f5212938cc1d458" title=" " alt="" coords="842,213,964,238"/>
<area shape="poly" title=" " alt="" coords="740,187,827,206,826,212,739,192"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#ad8856ea517c970ed0584a251c3fdc94f" title=" " alt="" coords="882,164,924,189"/>
<area shape="poly" title=" " alt="" coords="740,174,866,174,866,179,740,179"/>
<area shape="rect" href="namespacefc.html#a47ce6fdd4f18f7f06601e820866d54ec" title=" " alt="" coords="1092,213,1206,238"/>
<area shape="poly" title=" " alt="" coords="964,223,1077,223,1077,228,964,228"/>
<area shape="rect" href="namespacefc.html#afdef7bae8756a2c4ba14524f5913d485" title=" " alt="" coords="1076,262,1222,288"/>
<area shape="poly" title=" " alt="" coords="964,235,1067,256,1066,261,963,240"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="1090,164,1208,189"/>
<area shape="poly" title=" " alt="" coords="963,211,1074,188,1075,194,964,216"/>
<area shape="rect" href="namespacefc.html#afdd13a1463953f18fde2fa891cb5231e" title=" " alt="" coords="1302,238,1408,264"/>
<area shape="poly" title=" " alt="" coords="1206,230,1287,240,1286,245,1206,235"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#abe95547575fcc81911e381df03f8ebfe" title=" " alt="" coords="1456,238,1634,264"/>
<area shape="poly" title=" " alt="" coords="1408,248,1440,248,1440,254,1408,254"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a6e5df73716136aec55e8fcf3309038b6" title="get_sequence_x functions decode utf&#45;8 sequences of the length x" alt="" coords="1701,165,1820,206"/>
<area shape="poly" title=" " alt="" coords="1589,235,1685,206,1687,211,1591,240"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a9d641b9546be985f9f0fd4955ac42a24" title=" " alt="" coords="1701,231,1820,271"/>
<area shape="poly" title=" " alt="" coords="1634,248,1686,248,1686,254,1634,254"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ac1809a1fb3fa6983d64a0d3a39646008" title=" " alt="" coords="1701,296,1820,337"/>
<area shape="poly" title=" " alt="" coords="1591,262,1687,291,1685,296,1589,267"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ad1958e7c6746ba6b1fbb0d81b88b346c" title=" " alt="" coords="1701,35,1820,75"/>
<area shape="poly" title=" " alt="" coords="1552,236,1601,167,1638,124,1680,86,1688,81,1691,86,1684,90,1642,128,1605,170,1556,239"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a97b553137aaeda6e8ca6f8d46f78fd79" title=" " alt="" coords="1698,427,1823,467"/>
<area shape="poly" title=" " alt="" coords="1556,263,1605,332,1642,374,1684,412,1691,416,1688,421,1680,416,1638,378,1601,335,1552,266"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a3160f6f24dff465f64f83cb0e66995c6" title=" " alt="" coords="1690,361,1831,402"/>
<area shape="poly" title=" " alt="" coords="1564,262,1616,302,1683,346,1694,352,1692,357,1681,351,1613,306,1561,266"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adb347cc81d32ebb0fd22d849f7bff5ea" title=" " alt="" coords="1682,100,1839,141"/>
<area shape="poly" title=" " alt="" coords="1561,236,1613,196,1681,151,1692,145,1694,150,1683,156,1616,200,1564,240"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adf6e0469e279b9562aa461b4c3c1e7e4" title=" " alt="" coords="1887,173,2028,198"/>
<area shape="poly" title=" " alt="" coords="1821,183,1872,183,1872,188,1821,188"/>
<area shape="poly" title=" " alt="" coords="1820,229,1901,201,1903,206,1822,234"/>
<area shape="poly" title=" " alt="" coords="1815,293,1838,281,1889,244,1930,207,1934,211,1892,248,1841,285,1817,298"/>
<area shape="poly" title=" " alt="" coords="1817,73,1841,86,1892,123,1934,160,1930,164,1889,127,1838,91,1815,78"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a31a185a6bc8b9bf454191a8a95a93595" title=" " alt="" coords="1902,427,2013,467"/>
<area shape="poly" title=" " alt="" coords="1824,444,1886,444,1886,450,1824,450"/>
<area shape="poly" title=" " alt="" coords="1825,139,1903,165,1901,170,1823,144"/>
<area shape="poly" title=" " alt="" coords="1222,264,1287,256,1287,262,1222,269"/>
<area shape="poly" title=" " alt="" coords="640,287,638,277,645,268,658,262,679,260,701,262,714,269,712,273,700,268,679,265,660,267,648,272,644,278,646,285"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="810,352,996,377"/>
<area shape="poly" title=" " alt="" coords="762,362,794,362,794,367,762,367"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="836,463,970,503"/>
<area shape="poly" title=" " alt="" coords="732,375,763,387,818,418,865,451,862,455,815,423,761,392,731,380"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1044,352,1254,377"/>
<area shape="poly" title=" " alt="" coords="997,362,1029,362,1029,367,997,367"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="854,114,952,140"/>
<area shape="poly" title=" " alt="" coords="741,124,838,124,838,130,741,130"/>
<area shape="poly" title=" " alt="" coords="866,115,858,106,863,96,878,90,903,88,930,90,944,97,942,102,929,95,903,93,879,95,866,100,864,105,870,112"/>
<area shape="poly" title=" " alt="" coords="517,498,597,516,679,523,761,516,821,505,822,510,762,522,679,529,596,522,516,503"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="609,581,749,622"/>
<area shape="poly" title=" " alt="" coords="498,498,598,561,619,572,616,576,595,565,495,503"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="609,401,749,442"/>
<area shape="poly" title=" " alt="" coords="517,471,598,445,600,450,519,476"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="612,467,746,507"/>
<area shape="poly" title=" " alt="" coords="542,484,597,484,597,490,542,490"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="817,589,989,614"/>
<area shape="poly" title=" " alt="" coords="750,599,801,599,801,604,750,604"/>
</map>
</div>

</div>
</div>
<a id="a86eaa1ae6ad496f117a4b6285a5ea960" name="a86eaa1ae6ad496f117a4b6285a5ea960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86eaa1ae6ad496f117a4b6285a5ea960">&#9670;&#160;</a></span>handle_message() <span class="overload">[2/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain__size__message.html">chain_size_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02759">2759</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2759</span>                                                                  {</div>
<div class="line"><span class="lineno"> 2760</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;received chain_size_message&quot;</span>);</div>
<div class="line"><span class="lineno"> 2761</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ace5604a0cfadaf357cee46c842a9a54e" name="ace5604a0cfadaf357cee46c842a9a54e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5604a0cfadaf357cee46c842a9a54e">&#9670;&#160;</a></span>handle_message() <span class="overload">[3/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1go__away__message.html">go_away_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02922">2922</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2922</span>                                                               {</div>
<div class="line"><span class="lineno"> 2923</span>      <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received go_away_message, reason = ${r}&quot;</span>, (<span class="stringliteral">&quot;r&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee">reason_str</a>( msg.reason )) );</div>
<div class="line"><span class="lineno"> 2924</span> </div>
<div class="line"><span class="lineno"> 2925</span>      <span class="keywordtype">bool</span> retry = <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>; <span class="comment">// if no previous go away message</span></div>
<div class="line"><span class="lineno"> 2926</span>      <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = msg.reason;</div>
<div class="line"><span class="lineno"> 2927</span>      <span class="keywordflow">if</span>( msg.reason == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883">duplicate</a> ) {</div>
<div class="line"><span class="lineno"> 2928</span>         <a class="code hl_variable" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a> = msg.node_id;</div>
<div class="line"><span class="lineno"> 2929</span>      }</div>
<div class="line"><span class="lineno"> 2930</span>      <span class="keywordflow">if</span>( msg.reason == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa756f81d28cc81faaeb96abc5172a3e5c">wrong_version</a> ) {</div>
<div class="line"><span class="lineno"> 2931</span>         <span class="keywordflow">if</span>( !retry ) <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">fatal_other</a>; <span class="comment">// only retry once on wrong version</span></div>
<div class="line"><span class="lineno"> 2932</span>      }</div>
<div class="line"><span class="lineno"> 2933</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( msg.reason == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a> ) {</div>
<div class="line"><span class="lineno"> 2934</span>         <span class="keywordflow">if</span> ( retry ) <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received benign_other reason, retrying to connect&quot;</span>);</div>
<div class="line"><span class="lineno"> 2935</span>      }</div>
<div class="line"><span class="lineno"> 2936</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2937</span>         retry = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2938</span>      }</div>
<div class="line"><span class="lineno"> 2939</span>      <a class="code hl_function" href="#a51ccfb43cb79f666e6548ffeb9f205f2">flush_queues</a>();</div>
<div class="line"><span class="lineno"> 2940</span> </div>
<div class="line"><span class="lineno"> 2941</span>      <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>( retry ); <span class="comment">// reconnect if wrong_version</span></div>
<div class="line"><span class="lineno"> 2942</span>   }</div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883">sysio::duplicate</a></div><div class="ttdeci">@ duplicate</div><div class="ttdoc">the connection is redundant</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00049">protocol.hpp:49</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa756f81d28cc81faaeb96abc5172a3e5c"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa756f81d28cc81faaeb96abc5172a3e5c">sysio::wrong_version</a></div><div class="ttdeci">@ wrong_version</div><div class="ttdoc">the peer's network version doesn't match</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00051">protocol.hpp:51</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ace5604a0cfadaf357cee46c842a9a54e_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ace5604a0cfadaf357cee46c842a9a54e_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ace5604a0cfadaf357cee46c842a9a54e_cgraph" id="aclasssysio_1_1connection_ace5604a0cfadaf357cee46c842a9a54e_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,137,111"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="128,68,177,49,179,54,130,73"/>
<area shape="rect" href="classsysio_1_1connection.html#a51ccfb43cb79f666e6548ffeb9f205f2" title=" " alt="" coords="185,71,316,111"/>
<area shape="poly" title=" " alt="" coords="137,88,169,88,169,94,137,94"/>
<area shape="rect" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee" title=" " alt="" coords="190,136,311,161"/>
<area shape="poly" title=" " alt="" coords="137,109,194,128,192,133,136,114"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#ad5cee9e3bed9ece107058fc422298e6e" title=" " alt="" coords="364,71,506,111"/>
<area shape="poly" title=" " alt="" coords="316,88,349,88,349,94,316,94"/>
</map>
</div>

</div>
</div>
<a id="a6969d80878d60791744f4ace46f1b806" name="a6969d80878d60791744f4ace46f1b806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6969d80878d60791744f4ace46f1b806">&#9670;&#160;</a></span>handle_message() <span class="overload">[4/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02763">2763</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2763</span>                                                                 {</div>
<div class="line"><span class="lineno"> 2764</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received handshake_message&quot;</span> );</div>
<div class="line"><span class="lineno"> 2765</span>      <span class="keywordflow">if</span>( !<a class="code hl_function" href="#ac8f79d24686c4aad7bf12f3784970d98">is_valid</a>( msg ) ) {</div>
<div class="line"><span class="lineno"> 2766</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;bad handshake message&quot;</span>);</div>
<div class="line"><span class="lineno"> 2767</span>         <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">go_away_reason::fatal_other</a>;</div>
<div class="line"><span class="lineno"> 2768</span>         <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( go_away_message( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">fatal_other</a> ) );</div>
<div class="line"><span class="lineno"> 2769</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2770</span>      }</div>
<div class="line"><span class="lineno"> 2771</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received handshake gen ${g}, lib ${lib}, head ${head}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2772</span>                 (<span class="stringliteral">&quot;g&quot;</span>, msg.generation)(<span class="stringliteral">&quot;lib&quot;</span>, msg.last_irreversible_block_num)(<span class="stringliteral">&quot;head&quot;</span>, msg.head_num) );</div>
<div class="line"><span class="lineno"> 2773</span> </div>
<div class="line"><span class="lineno"> 2774</span>      std::unique_lock&lt;std::mutex&gt; g_conn( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno"> 2775</span>      <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a> = msg;</div>
<div class="line"><span class="lineno"> 2776</span>      g_conn.unlock();</div>
<div class="line"><span class="lineno"> 2777</span> </div>
<div class="line"><span class="lineno"> 2778</span>      <a class="code hl_variable" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2779</span>      <span class="keywordflow">if</span> (msg.generation == 1) {</div>
<div class="line"><span class="lineno"> 2780</span>         <span class="keywordflow">if</span>( msg.node_id == my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a34b87d3870bcb637f7e8c2b5a0f40956">node_id</a>) {</div>
<div class="line"><span class="lineno"> 2781</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Self connection detected node_id ${id}. Closing connection&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, msg.node_id) );</div>
<div class="line"><span class="lineno"> 2782</span>            <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">go_away_reason::self</a>;</div>
<div class="line"><span class="lineno"> 2783</span>            <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( go_away_message( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa1f42b089b0bc1105b38f19140a65cc2a">go_away_reason::self</a> ) );</div>
<div class="line"><span class="lineno"> 2784</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2785</span>         }</div>
<div class="line"><span class="lineno"> 2786</span> </div>
<div class="line"><span class="lineno"> 2787</span>         <a class="code hl_variable" href="#aaeb74503530f57f9cc88f8a33bdb2980">log_p2p_address</a> = msg.p2p_address;</div>
<div class="line"><span class="lineno"> 2788</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>().empty() ) {</div>
<div class="line"><span class="lineno"> 2789</span>            <a class="code hl_function" href="#a1e59aa67f74b1e5bb0a2d8e7db584cdd">set_connection_type</a>( msg.p2p_address );</div>
<div class="line"><span class="lineno"> 2790</span>         }</div>
<div class="line"><span class="lineno"> 2791</span> </div>
<div class="line"><span class="lineno"> 2792</span>         std::unique_lock&lt;std::mutex&gt; g_conn( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno"> 2793</span>         <span class="keywordflow">if</span>( <a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>().empty() || <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a7f8190c5079ab1745b344ffc43d4cad3">node_id</a> == <a class="code hl_class" href="classfc_1_1sha256.html">fc::sha256</a>()) {</div>
<div class="line"><span class="lineno"> 2794</span>            <span class="keyword">auto</span> c_time = <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#ad620c6e5ccdc5205e285934b9b8c15f3">time</a>;</div>
<div class="line"><span class="lineno"> 2795</span>            g_conn.unlock();</div>
<div class="line"><span class="lineno"> 2796</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;checking for duplicate&quot;</span> );</div>
<div class="line"><span class="lineno"> 2797</span>            std::shared_lock&lt;std::shared_mutex&gt; g_cnts( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a7dbd010078ad6742db516aa60b60397f">connections_mtx</a> );</div>
<div class="line"><span class="lineno"> 2798</span>            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; check : my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#aecea483506e35c049eb68961784f9d25">connections</a>) {</div>
<div class="line"><span class="lineno"> 2799</span>               <span class="keywordflow">if</span>(check.get() == <span class="keyword">this</span>)</div>
<div class="line"><span class="lineno"> 2800</span>                  <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2801</span>               std::unique_lock&lt;std::mutex&gt; g_check_conn( check-&gt;conn_mtx );</div>
<div class="line"><span class="lineno"> 2802</span>               <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;dup check: connected ${c}, ${l} =? ${r}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2803</span>                        (<span class="stringliteral">&quot;c&quot;</span>, check-&gt;connected())(<span class="stringliteral">&quot;l&quot;</span>, check-&gt;last_handshake_recv.node_id)(<span class="stringliteral">&quot;r&quot;</span>, msg.node_id) );</div>
<div class="line"><span class="lineno"> 2804</span>               <span class="keywordflow">if</span>(check-&gt;connected() &amp;&amp; check-&gt;last_handshake_recv.node_id == msg.node_id) {</div>
<div class="line"><span class="lineno"> 2805</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a> &lt; <a class="code hl_variable" href="namespacesysio.html#a2320831a5974b3edbe0aca875c583156">proto_dup_goaway_resolution</a> || msg.network_version &lt; <a class="code hl_variable" href="namespacesysio.html#a2320831a5974b3edbe0aca875c583156">proto_dup_goaway_resolution</a>) {</div>
<div class="line"><span class="lineno"> 2806</span>                     <span class="comment">// It&#39;s possible that both peers could arrive here at relatively the same time, so</span></div>
<div class="line"><span class="lineno"> 2807</span>                     <span class="comment">// we need to avoid the case where they would both tell a different connection to go away.</span></div>
<div class="line"><span class="lineno"> 2808</span>                     <span class="comment">// Using the sum of the initial handshake times of the two connections, we will</span></div>
<div class="line"><span class="lineno"> 2809</span>                     <span class="comment">// arbitrarily (but consistently between the two peers) keep one of them.</span></div>
<div class="line"><span class="lineno"> 2810</span>                  </div>
<div class="line"><span class="lineno"> 2811</span>                     <span class="keyword">auto</span> check_time = check-&gt;last_handshake_sent.time + check-&gt;last_handshake_recv.time;</div>
<div class="line"><span class="lineno"> 2812</span>                     g_check_conn.unlock();</div>
<div class="line"><span class="lineno"> 2813</span>                     <span class="keywordflow">if</span> (msg.time + c_time &lt;= check_time)</div>
<div class="line"><span class="lineno"> 2814</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2815</span>                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a> &lt; <a class="code hl_variable" href="namespacesysio.html#ae452afac6c86798086b2c3f4fbbc16a0">proto_dup_node_id_goaway</a> || msg.network_version &lt; <a class="code hl_variable" href="namespacesysio.html#ae452afac6c86798086b2c3f4fbbc16a0">proto_dup_node_id_goaway</a>) {</div>
<div class="line"><span class="lineno"> 2816</span>                     <span class="keywordflow">if</span> (my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad0038d5b0dc359bdd3eab428e20efa3c">p2p_address</a> &lt; msg.p2p_address) {</div>
<div class="line"><span class="lineno"> 2817</span>                        <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;my_impl-&gt;p2p_address &#39;${lhs}&#39; &lt; msg.p2p_address &#39;${rhs}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2818</span>                                 (<span class="stringliteral">&quot;lhs&quot;</span>, my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad0038d5b0dc359bdd3eab428e20efa3c">p2p_address</a>)( <span class="stringliteral">&quot;rhs&quot;</span>, msg.p2p_address ) );</div>
<div class="line"><span class="lineno"> 2819</span>                        <span class="comment">// only the connection from lower p2p_address to higher p2p_address will be considered as a duplicate,</span></div>
<div class="line"><span class="lineno"> 2820</span>                        <span class="comment">// so there is no chance for both connections to be closed</span></div>
<div class="line"><span class="lineno"> 2821</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2822</span>                     }</div>
<div class="line"><span class="lineno"> 2823</span>                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a34b87d3870bcb637f7e8c2b5a0f40956">node_id</a> &lt; msg.node_id) {</div>
<div class="line"><span class="lineno"> 2824</span>                     <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;not duplicate, my_impl-&gt;node_id &#39;${lhs}&#39; &lt; msg.node_id &#39;${rhs}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno"> 2825</span>                              (<span class="stringliteral">&quot;lhs&quot;</span>, my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a34b87d3870bcb637f7e8c2b5a0f40956">node_id</a>)(<span class="stringliteral">&quot;rhs&quot;</span>, msg.node_id) );</div>
<div class="line"><span class="lineno"> 2826</span>                     <span class="comment">// only the connection from lower node_id to higher node_id will be considered as a duplicate,</span></div>
<div class="line"><span class="lineno"> 2827</span>                     <span class="comment">// so there is no chance for both connections to be closed</span></div>
<div class="line"><span class="lineno"> 2828</span>                     <span class="keywordflow">continue</span>; </div>
<div class="line"><span class="lineno"> 2829</span>                  }</div>
<div class="line"><span class="lineno"> 2830</span> </div>
<div class="line"><span class="lineno"> 2831</span>                  g_cnts.unlock();</div>
<div class="line"><span class="lineno"> 2832</span>                  <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;sending go_away duplicate, msg.p2p_address: ${add}&quot;</span>, (<span class="stringliteral">&quot;add&quot;</span>, msg.p2p_address) );</div>
<div class="line"><span class="lineno"> 2833</span>                  go_away_message gam(<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883">duplicate</a>);</div>
<div class="line"><span class="lineno"> 2834</span>                  gam.node_id = <a class="code hl_variable" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a>;</div>
<div class="line"><span class="lineno"> 2835</span>                  <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>(gam);</div>
<div class="line"><span class="lineno"> 2836</span>                  <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883">duplicate</a>;</div>
<div class="line"><span class="lineno"> 2837</span>                  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2838</span>               }</div>
<div class="line"><span class="lineno"> 2839</span>            }</div>
<div class="line"><span class="lineno"> 2840</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2841</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;skipping duplicate check, addr == ${pa}, id = ${ni}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2842</span>                       (<span class="stringliteral">&quot;pa&quot;</span>, <a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>())( <span class="stringliteral">&quot;ni&quot;</span>, <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a7f8190c5079ab1745b344ffc43d4cad3">node_id</a> ) );</div>
<div class="line"><span class="lineno"> 2843</span>            g_conn.unlock();</div>
<div class="line"><span class="lineno"> 2844</span>         }</div>
<div class="line"><span class="lineno"> 2845</span> </div>
<div class="line"><span class="lineno"> 2846</span>         <span class="keywordflow">if</span>( msg.chain_id != my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a37adff467a5dc9da8cfbcd1d0f2a5080">chain_id</a> ) {</div>
<div class="line"><span class="lineno"> 2847</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Peer on a different chain. Closing connection&quot;</span> );</div>
<div class="line"><span class="lineno"> 2848</span>            <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa6beb3e193600b115b972b9e8a811ee91">go_away_reason::wrong_chain</a>;</div>
<div class="line"><span class="lineno"> 2849</span>            <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( go_away_message(<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa6beb3e193600b115b972b9e8a811ee91">go_away_reason::wrong_chain</a>) );</div>
<div class="line"><span class="lineno"> 2850</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2851</span>         }</div>
<div class="line"><span class="lineno"> 2852</span>         <a class="code hl_variable" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a> = my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#addc568c6264c34f8cf32f4c7518efc25">to_protocol_version</a>(msg.network_version);</div>
<div class="line"><span class="lineno"> 2853</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a> != <a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a> ) {</div>
<div class="line"><span class="lineno"> 2854</span>            <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Local network version different: ${nv} Remote version: ${mnv}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2855</span>                       (<span class="stringliteral">&quot;nv&quot;</span>, <a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a>)(<span class="stringliteral">&quot;mnv&quot;</span>, <a class="code hl_variable" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a>.load()) );</div>
<div class="line"><span class="lineno"> 2856</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2857</span>            <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Local network version: ${nv}&quot;</span>, (<span class="stringliteral">&quot;nv&quot;</span>, <a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a>) );</div>
<div class="line"><span class="lineno"> 2858</span>         }</div>
<div class="line"><span class="lineno"> 2859</span> </div>
<div class="line"><span class="lineno"> 2860</span>         <a class="code hl_variable" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a> = msg.node_id;</div>
<div class="line"><span class="lineno"> 2861</span>         <a class="code hl_variable" href="#a855625cd0312ce982b74ddc4e5a753ff">short_conn_node_id</a> = <a class="code hl_variable" href="#a5876262162c34ec954ada46f15fe9992">conn_node_id</a>.<a class="code hl_function" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9">str</a>().substr( 0, 7 );</div>
<div class="line"><span class="lineno"> 2862</span> </div>
<div class="line"><span class="lineno"> 2863</span>         <span class="keywordflow">if</span>( !my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#a4b6d30c7436c1587f57cb19fd8b72d90">authenticate_peer</a>( msg ) ) {</div>
<div class="line"><span class="lineno"> 2864</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Peer not authenticated.  Closing connection.&quot;</span> );</div>
<div class="line"><span class="lineno"> 2865</span>            <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fad2a37e2f8300c685976362d71bfe9de5">go_away_reason::authentication</a>;</div>
<div class="line"><span class="lineno"> 2866</span>            <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( go_away_message( <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fad2a37e2f8300c685976362d71bfe9de5">go_away_reason::authentication</a> ) );</div>
<div class="line"><span class="lineno"> 2867</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2868</span>         }</div>
<div class="line"><span class="lineno"> 2869</span> </div>
<div class="line"><span class="lineno"> 2870</span>         <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> peer_lib = msg.last_irreversible_block_num;</div>
<div class="line"><span class="lineno"> 2871</span>         <a class="code hl_typedef" href="namespacesysio.html#a6a48b685d0bf226f8d96c5cbbd648945">connection_wptr</a> weak = shared_from_this();</div>
<div class="line"><span class="lineno"> 2872</span>         <a class="code hl_function" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40">app</a>().<a class="code hl_function" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc">post</a>( <a class="code hl_variable" href="structappbase_1_1priority.html#a89fc0f21b0f87574f0299932fc1724b4">priority::medium</a>, [peer_lib, chain_plug = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>, weak{std::move(weak)},</div>
<div class="line"><span class="lineno"> 2873</span>                                     msg_lib_id = msg.last_irreversible_block_id]() {</div>
<div class="line"><span class="lineno"> 2874</span>            connection_ptr c = weak.lock();</div>
<div class="line"><span class="lineno"> 2875</span>            if( !c ) return;</div>
<div class="line"><span class="lineno"> 2876</span>            controller&amp; cc = chain_plug-&gt;chain();</div>
<div class="line"><span class="lineno"> 2877</span>            uint32_t lib_num = cc.last_irreversible_block_num();</div>
<div class="line"><span class="lineno"> 2878</span> </div>
<div class="line"><span class="lineno"> 2879</span>            fc_dlog( logger, <span class="stringliteral">&quot;handshake check for fork lib_num = ${ln}, peer_lib = ${pl}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2880</span>                     (<span class="stringliteral">&quot;ln&quot;</span>, lib_num)(<span class="stringliteral">&quot;pl&quot;</span>, peer_lib)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 2881</span> </div>
<div class="line"><span class="lineno"> 2882</span>            if( peer_lib &lt;= lib_num &amp;&amp; peer_lib &gt; 0 ) {</div>
<div class="line"><span class="lineno"> 2883</span>               bool on_fork = false;</div>
<div class="line"><span class="lineno"> 2884</span>               try {</div>
<div class="line"><span class="lineno"> 2885</span>                  block_id_type peer_lib_id = cc.get_block_id_for_num( peer_lib );</div>
<div class="line"><span class="lineno"> 2886</span>                  on_fork = (msg_lib_id != peer_lib_id);</div>
<div class="line"><span class="lineno"> 2887</span>               } catch( const unknown_block_exception&amp; ) {</div>
<div class="line"><span class="lineno"> 2888</span>                  <span class="comment">// allow this for now, will be checked on sync</span></div>
<div class="line"><span class="lineno"> 2889</span>                  fc_dlog( logger, <span class="stringliteral">&quot;peer last irreversible block ${pl} is unknown, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2890</span>                           (<span class="stringliteral">&quot;pl&quot;</span>, peer_lib)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 2891</span>               } catch( ... ) {</div>
<div class="line"><span class="lineno"> 2892</span>                  fc_wlog( logger, <span class="stringliteral">&quot;caught an exception getting block id for ${pl}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2893</span>                           (<span class="stringliteral">&quot;pl&quot;</span>, peer_lib)(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 2894</span>                  on_fork = true;</div>
<div class="line"><span class="lineno"> 2895</span>               }</div>
<div class="line"><span class="lineno"> 2896</span>               if( on_fork ) {</div>
<div class="line"><span class="lineno"> 2897</span>                  c-&gt;strand.post( [c]() {</div>
<div class="line"><span class="lineno"> 2898</span>                     peer_elog( c, <span class="stringliteral">&quot;Peer chain is forked, sending: forked go away&quot;</span> );</div>
<div class="line"><span class="lineno"> 2899</span>                     c-&gt;no_retry = go_away_reason::forked;</div>
<div class="line"><span class="lineno"> 2900</span>                     c-&gt;enqueue( go_away_message( go_away_reason::forked ) );</div>
<div class="line"><span class="lineno"> 2901</span>                  } );</div>
<div class="line"><span class="lineno"> 2902</span>               }</div>
<div class="line"><span class="lineno"> 2903</span>            }</div>
<div class="line"><span class="lineno"> 2904</span>         });</div>
<div class="line"><span class="lineno"> 2905</span> </div>
<div class="line"><span class="lineno"> 2906</span>         <span class="comment">// we don&#39;t support the 2.1 packed_transaction &amp; signed_block, so tell 2.1 clients we are 2.0</span></div>
<div class="line"><span class="lineno"> 2907</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a> &gt;= <a class="code hl_variable" href="namespacesysio.html#a68820bfe4ab6dbec0857c904974a3a7c">proto_pruned_types</a> &amp;&amp; <a class="code hl_variable" href="#ad20dc31a68afa8406a64e6e69ecebb02">protocol_version</a> &lt; <a class="code hl_variable" href="namespacesysio.html#a2ae0513ec4067dff1493f977f6c3cb39">proto_wire_sysio_initial</a> ) {</div>
<div class="line"><span class="lineno"> 2908</span>            <a class="code hl_variable" href="#a3b487d20a19e5f81f3024d276078d397">sent_handshake_count</a> = 0;</div>
<div class="line"><span class="lineno"> 2909</span>            <a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a> = <a class="code hl_variable" href="namespacesysio.html#a1956cf3e030fe2e14e12eed6c6c3e280">proto_explicit_sync</a>;</div>
<div class="line"><span class="lineno"> 2910</span>            <a class="code hl_function" href="#a55b561baeda5353d7c1a1e2a8a0c88e1">send_handshake</a>();</div>
<div class="line"><span class="lineno"> 2911</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2912</span>         }</div>
<div class="line"><span class="lineno"> 2913</span> </div>
<div class="line"><span class="lineno"> 2914</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a3b487d20a19e5f81f3024d276078d397">sent_handshake_count</a> == 0 ) {</div>
<div class="line"><span class="lineno"> 2915</span>            <a class="code hl_function" href="#a55b561baeda5353d7c1a1e2a8a0c88e1">send_handshake</a>();</div>
<div class="line"><span class="lineno"> 2916</span>         }</div>
<div class="line"><span class="lineno"> 2917</span>      }</div>
<div class="line"><span class="lineno"> 2918</span> </div>
<div class="line"><span class="lineno"> 2919</span>      my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>-&gt;recv_handshake( shared_from_this(), msg );</div>
<div class="line"><span class="lineno"> 2920</span>   }</div>
<div class="ttc" id="aclassfc_1_1sha256_html_a71ac4efc1d964d24fdf00aeffcf0a9c9"><div class="ttname"><a href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9">fc::sha256::str</a></div><div class="ttdeci">string str() const</div><div class="ttdef"><b>Definition</b> <a href="sha256_8cpp_source.html#l00026">sha256.cpp:26</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1e59aa67f74b1e5bb0a2d8e7db584cdd"><div class="ttname"><a href="#a1e59aa67f74b1e5bb0a2d8e7db584cdd">sysio::connection::set_connection_type</a></div><div class="ttdeci">void set_connection_type(const string &amp;peer_addr)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00918">net_plugin.cpp:918</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a3b487d20a19e5f81f3024d276078d397"><div class="ttname"><a href="#a3b487d20a19e5f81f3024d276078d397">sysio::connection::sent_handshake_count</a></div><div class="ttdeci">int16_t sent_handshake_count</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00639">net_plugin.cpp:639</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_aa7543fc95097fd14c4d8f66173af561a"><div class="ttname"><a href="#aa7543fc95097fd14c4d8f66173af561a">sysio::connection::net_version</a></div><div class="ttdeci">uint16_t net_version</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00644">net_plugin.cpp:644</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ac8f79d24686c4aad7bf12f3784970d98"><div class="ttname"><a href="#ac8f79d24686c4aad7bf12f3784970d98">sysio::connection::is_valid</a></div><div class="ttdeci">bool is_valid(const handshake_message &amp;msg) const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l02720">net_plugin.cpp:2720</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ad20dc31a68afa8406a64e6e69ecebb02"><div class="ttname"><a href="#ad20dc31a68afa8406a64e6e69ecebb02">sysio::connection::protocol_version</a></div><div class="ttdeci">std::atomic&lt; uint16_t &gt; protocol_version</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00643">net_plugin.cpp:643</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a34b87d3870bcb637f7e8c2b5a0f40956"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a34b87d3870bcb637f7e8c2b5a0f40956">sysio::net_plugin_impl::node_id</a></div><div class="ttdeci">fc::sha256 node_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00261">net_plugin.cpp:261</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a37adff467a5dc9da8cfbcd1d0f2a5080"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a37adff467a5dc9da8cfbcd1d0f2a5080">sysio::net_plugin_impl::chain_id</a></div><div class="ttdeci">chain_id_type chain_id</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00260">net_plugin.cpp:260</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a4b6d30c7436c1587f57cb19fd8b72d90"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a4b6d30c7436c1587f57cb19fd8b72d90">sysio::net_plugin_impl::authenticate_peer</a></div><div class="ttdeci">bool authenticate_peer(const handshake_message &amp;msg) const</div><div class="ttdoc">Determine if a peer is allowed to connect.</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l03438">net_plugin.cpp:3438</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a7dbd010078ad6742db516aa60b60397f"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a7dbd010078ad6742db516aa60b60397f">sysio::net_plugin_impl::connections_mtx</a></div><div class="ttdeci">std::shared_mutex connections_mtx</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00269">net_plugin.cpp:269</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_ad0038d5b0dc359bdd3eab428e20efa3c"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#ad0038d5b0dc359bdd3eab428e20efa3c">sysio::net_plugin_impl::p2p_address</a></div><div class="ttdeci">string p2p_address</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00230">net_plugin.cpp:230</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_addc568c6264c34f8cf32f4c7518efc25"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#addc568c6264c34f8cf32f4c7518efc25">sysio::net_plugin_impl::to_protocol_version</a></div><div class="ttdeci">static constexpr uint16_t to_protocol_version(uint16_t v)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l03909">net_plugin.cpp:3909</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_aecea483506e35c049eb68961784f9d25"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#aecea483506e35c049eb68961784f9d25">sysio::net_plugin_impl::connections</a></div><div class="ttdeci">std::set&lt; connection_ptr &gt; connections</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00270">net_plugin.cpp:270</a></div></div>
<div class="ttc" id="anamespacesysio_html_a1956cf3e030fe2e14e12eed6c6c3e280"><div class="ttname"><a href="namespacesysio.html#a1956cf3e030fe2e14e12eed6c6c3e280">sysio::proto_explicit_sync</a></div><div class="ttdeci">constexpr uint16_t proto_explicit_sync</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00422">net_plugin.cpp:422</a></div></div>
<div class="ttc" id="anamespacesysio_html_a2320831a5974b3edbe0aca875c583156"><div class="ttname"><a href="namespacesysio.html#a2320831a5974b3edbe0aca875c583156">sysio::proto_dup_goaway_resolution</a></div><div class="ttdeci">constexpr uint16_t proto_dup_goaway_resolution</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00426">net_plugin.cpp:426</a></div></div>
<div class="ttc" id="anamespacesysio_html_a2ae0513ec4067dff1493f977f6c3cb39"><div class="ttname"><a href="namespacesysio.html#a2ae0513ec4067dff1493f977f6c3cb39">sysio::proto_wire_sysio_initial</a></div><div class="ttdeci">constexpr uint16_t proto_wire_sysio_initial</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00428">net_plugin.cpp:428</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa6beb3e193600b115b972b9e8a811ee91"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa6beb3e193600b115b972b9e8a811ee91">sysio::wrong_chain</a></div><div class="ttdeci">@ wrong_chain</div><div class="ttdoc">the peer's chain id doesn't match</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00050">protocol.hpp:50</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fad2a37e2f8300c685976362d71bfe9de5"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fad2a37e2f8300c685976362d71bfe9de5">sysio::authentication</a></div><div class="ttdeci">@ authentication</div><div class="ttdoc">peer failed authenicatio</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00059">protocol.hpp:58</a></div></div>
<div class="ttc" id="anamespacesysio_html_a68820bfe4ab6dbec0857c904974a3a7c"><div class="ttname"><a href="namespacesysio.html#a68820bfe4ab6dbec0857c904974a3a7c">sysio::proto_pruned_types</a></div><div class="ttdeci">constexpr uint16_t proto_pruned_types</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00424">net_plugin.cpp:424</a></div></div>
<div class="ttc" id="anamespacesysio_html_ae452afac6c86798086b2c3f4fbbc16a0"><div class="ttname"><a href="namespacesysio.html#ae452afac6c86798086b2c3f4fbbc16a0">sysio::proto_dup_node_id_goaway</a></div><div class="ttdeci">constexpr uint16_t proto_dup_node_id_goaway</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00427">net_plugin.cpp:427</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_a7f8190c5079ab1745b344ffc43d4cad3"><div class="ttname"><a href="structsysio_1_1handshake__message.html#a7f8190c5079ab1745b344ffc43d4cad3">sysio::handshake_message::node_id</a></div><div class="ttdeci">fc::sha256 node_id</div><div class="ttdoc">used to identify peers and prevent self-connect</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00030">protocol.hpp:30</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_ad620c6e5ccdc5205e285934b9b8c15f3"><div class="ttname"><a href="structsysio_1_1handshake__message.html#ad620c6e5ccdc5205e285934b9b8c15f3">sysio::handshake_message::time</a></div><div class="ttdeci">int64_t time</div><div class="ttdoc">time message created in nanoseconds from epoch</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00032">protocol.hpp:32</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a6969d80878d60791744f4ace46f1b806_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a6969d80878d60791744f4ace46f1b806_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a6969d80878d60791744f4ace46f1b806_cgraph" id="aclasssysio_1_1connection_a6969d80878d60791744f4ace46f1b806_cgraph">
<area shape="rect" title=" " alt="" coords="5,316,137,357"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="603,168,702,193"/>
<area shape="poly" title=" " alt="" coords="81,314,120,256,149,227,183,203,235,182,289,168,345,159,400,155,504,157,588,166,587,171,503,162,400,160,345,165,290,173,237,187,186,208,152,231,124,260,85,317"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#a4b6d30c7436c1587f57cb19fd8b72d90" title="Determine if a peer is allowed to connect." alt="" coords="185,103,335,143"/>
<area shape="poly" title=" " alt="" coords="79,314,118,241,148,198,183,160,195,150,199,154,186,164,152,202,123,244,84,317"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="194,217,326,258"/>
<area shape="poly" title=" " alt="" coords="105,313,183,269,195,263,198,268,186,273,108,318"/>
<area shape="rect" href="classsysio_1_1connection.html#ac8f79d24686c4aad7bf12f3784970d98" title=" " alt="" coords="194,37,326,78"/>
<area shape="poly" title=" " alt="" coords="74,315,86,269,107,210,139,146,159,116,183,89,187,85,191,89,187,93,164,119,144,149,112,212,91,271,79,316"/>
<area shape="rect" href="classsysio_1_1connection.html#aca3e3acacf8047c389e0bda758da197d" title=" " alt="" coords="194,283,326,323"/>
<area shape="poly" title=" " alt="" coords="136,322,179,315,179,320,137,327"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="190,348,330,389"/>
<area shape="poly" title=" " alt="" coords="137,345,175,351,174,357,136,350"/>
<area shape="rect" href="classsysio_1_1connection.html#a55b561baeda5353d7c1a1e2a8a0c88e1" title=" " alt="" coords="194,413,326,454"/>
<area shape="poly" title=" " alt="" coords="108,355,186,398,198,404,196,409,183,403,105,359"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="406,449,511,474"/>
<area shape="poly" title=" " alt="" coords="85,356,101,382,124,413,152,441,186,463,237,479,291,484,343,482,390,475,391,481,344,487,291,490,236,484,184,468,149,446,119,416,97,385,80,358"/>
<area shape="rect" href="classsysio_1_1connection.html#a1e59aa67f74b1e5bb0a2d8e7db584cdd" title=" " alt="" coords="189,528,330,569"/>
<area shape="poly" title=" " alt="" coords="84,356,123,428,152,470,186,508,199,517,195,522,183,512,148,473,118,431,79,358"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#addc568c6264c34f8cf32f4c7518efc25" title=" " alt="" coords="185,593,335,634"/>
<area shape="poly" title=" " alt="" coords="79,356,91,401,112,460,144,523,164,552,187,578,191,582,187,586,183,582,159,555,139,526,107,462,86,403,74,358"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="771,160,911,201"/>
<area shape="poly" title=" " alt="" coords="703,178,755,178,755,183,703,183"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="400,49,518,74"/>
<area shape="poly" title=" " alt="" coords="327,100,400,77,401,82,329,105"/>
<area shape="rect" href="classsysio_1_1producer__plugin.html#a92b46a0e84fb207a04f56d4a75538381" title=" " alt="" coords="383,103,534,143"/>
<area shape="poly" title=" " alt="" coords="335,120,367,120,367,126,335,126"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="584,71,721,111"/>
<area shape="poly" title=" " alt="" coords="519,68,569,76,569,81,518,73"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="584,5,721,46"/>
<area shape="poly" title=" " alt="" coords="518,48,569,39,569,44,519,53"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="783,78,898,104"/>
<area shape="poly" title=" " alt="" coords="721,88,768,88,768,94,721,94"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="388,283,529,323"/>
<area shape="poly" title=" " alt="" coords="325,256,381,275,379,280,323,261"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="391,217,526,258"/>
<area shape="poly" title=" " alt="" coords="326,235,376,235,376,240,326,240"/>
<area shape="poly" title=" " alt="" coords="526,215,591,196,593,201,528,220"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="582,217,723,258"/>
<area shape="poly" title=" " alt="" coords="527,235,567,235,567,240,527,240"/>
<area shape="poly" title=" " alt="" coords="326,56,384,58,384,63,326,62"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="386,348,531,389"/>
<area shape="poly" title=" " alt="" coords="330,366,370,366,370,371,330,371"/>
<area shape="poly" title=" " alt="" coords="326,440,391,450,390,455,326,446"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="613,449,692,474"/>
<area shape="poly" title=" " alt="" coords="512,459,598,459,598,464,512,464"/>
<area shape="poly" title=" " alt="" coords="621,450,615,440,618,431,631,424,653,422,675,425,687,431,685,436,674,430,652,427,633,429,622,434,620,440,625,447"/>
</map>
</div>

</div>
</div>
<a id="a5334d7cde64019b2ab84f3930bb54de9" name="a5334d7cde64019b2ab84f3930bb54de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5334d7cde64019b2ab84f3930bb54de9">&#9670;&#160;</a></span>handle_message() <span class="overload">[5/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1notice__message.html">notice_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02984">2984</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2984</span>                                                              {</div>
<div class="line"><span class="lineno"> 2985</span>      <span class="comment">// peer tells us about one or more blocks or txns. When done syncing, forward on</span></div>
<div class="line"><span class="lineno"> 2986</span>      <span class="comment">// notices of previously unknown blocks or txns,</span></div>
<div class="line"><span class="lineno"> 2987</span>      <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2988</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received notice_message&quot;</span> );</div>
<div class="line"><span class="lineno"> 2989</span>      <a class="code hl_variable" href="#a2cb1b55074b31325f9845700fd7ede82">connecting</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2990</span>      <span class="keywordflow">if</span>( msg.known_blocks.ids.size() &gt; 1 ) {</div>
<div class="line"><span class="lineno"> 2991</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Invalid notice_message, known_blocks.ids.size ${s}, closing connection&quot;</span>,</div>
<div class="line"><span class="lineno"> 2992</span>                    (<span class="stringliteral">&quot;s&quot;</span>, msg.known_blocks.ids.size()) );</div>
<div class="line"><span class="lineno"> 2993</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>( <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 2994</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2995</span>      }</div>
<div class="line"><span class="lineno"> 2996</span>      <span class="keywordflow">if</span>( msg.known_trx.mode != <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a> ) {</div>
<div class="line"><span class="lineno"> 2997</span>         <span class="keywordflow">if</span>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>.<a class="code hl_function" href="classfc_1_1logger.html#afbae9b6cd7f4f604f654a4c1914677ac">is_enabled</a>( <a class="code hl_enumvalue" href="classfc_1_1log__level.html#a5a5e31c4c1f38d9115ecbe44927fb2e4a30d2de77e71beb8d09d530cac04efa25">fc::log_level::debug</a> ) ) {</div>
<div class="line"><span class="lineno"> 2998</span>            <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>&amp; blkid = msg.known_blocks.ids.empty() ? <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>{} : msg.known_blocks.ids.back();</div>
<div class="line"><span class="lineno"> 2999</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;this is a ${m} notice with ${n} pending blocks: ${num} ${id}...&quot;</span>,</div>
<div class="line"><span class="lineno"> 3000</span>                       (<span class="stringliteral">&quot;m&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a454edd6d34c5564da3a8c796090837fe">modes_str</a>( msg.known_blocks.mode ))(<span class="stringliteral">&quot;n&quot;</span>, msg.known_blocks.pending)</div>
<div class="line"><span class="lineno"> 3001</span>                       (<span class="stringliteral">&quot;num&quot;</span>, <a class="code hl_function" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375">block_header::num_from_id</a>( blkid ))(<span class="stringliteral">&quot;id&quot;</span>, blkid.<a class="code hl_function" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9">str</a>().substr( 8, 16 )) );</div>
<div class="line"><span class="lineno"> 3002</span>         }</div>
<div class="line"><span class="lineno"> 3003</span>      }</div>
<div class="line"><span class="lineno"> 3004</span>      <span class="keywordflow">switch</span> (msg.known_trx.mode) {</div>
<div class="line"><span class="lineno"> 3005</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a>:</div>
<div class="line"><span class="lineno"> 3006</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3007</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea528a803ed30b308213498b10d8048e62">last_irr_catch_up</a>: {</div>
<div class="line"><span class="lineno"> 3008</span>         std::unique_lock&lt;std::mutex&gt; g_conn( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno"> 3009</span>         <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a1b2717cc284cb6f783d1a2c4602f66d3">head_num</a> = msg.known_blocks.pending;</div>
<div class="line"><span class="lineno"> 3010</span>         g_conn.unlock();</div>
<div class="line"><span class="lineno"> 3011</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3012</span>      }</div>
<div class="line"><span class="lineno"> 3013</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f">catch_up</a> : {</div>
<div class="line"><span class="lineno"> 3014</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3015</span>      }</div>
<div class="line"><span class="lineno"> 3016</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">normal</a>: {</div>
<div class="line"><span class="lineno"> 3017</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;recv_notice( shared_from_this(), msg, <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 3018</span>      }</div>
<div class="line"><span class="lineno"> 3019</span>      }</div>
<div class="line"><span class="lineno"> 3020</span> </div>
<div class="line"><span class="lineno"> 3021</span>      <span class="keywordflow">if</span>( msg.known_blocks.mode != <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a> ) {</div>
<div class="line"><span class="lineno"> 3022</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;this is a ${m} notice with ${n} blocks&quot;</span>,</div>
<div class="line"><span class="lineno"> 3023</span>                    (<span class="stringliteral">&quot;m&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a454edd6d34c5564da3a8c796090837fe">modes_str</a>( msg.known_blocks.mode ))( <span class="stringliteral">&quot;n&quot;</span>, msg.known_blocks.pending ) );</div>
<div class="line"><span class="lineno"> 3024</span>      }</div>
<div class="line"><span class="lineno"> 3025</span>      <span class="keywordflow">switch</span> (msg.known_blocks.mode) {</div>
<div class="line"><span class="lineno"> 3026</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a> : {</div>
<div class="line"><span class="lineno"> 3027</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3028</span>      }</div>
<div class="line"><span class="lineno"> 3029</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea528a803ed30b308213498b10d8048e62">last_irr_catch_up</a>:</div>
<div class="line"><span class="lineno"> 3030</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f">catch_up</a>: {</div>
<div class="line"><span class="lineno"> 3031</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>-&gt;sync_recv_notice( shared_from_this(), msg );</div>
<div class="line"><span class="lineno"> 3032</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3033</span>      }</div>
<div class="line"><span class="lineno"> 3034</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">normal</a> : {</div>
<div class="line"><span class="lineno"> 3035</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>-&gt;recv_notice( shared_from_this(), msg, <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 3036</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3037</span>      }</div>
<div class="line"><span class="lineno"> 3038</span>      <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno"> 3039</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;bad notice_message : invalid known_blocks.mode ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3040</span>                    (<span class="stringliteral">&quot;m&quot;</span>, <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a><span class="keyword">&gt;</span>(msg.known_blocks.mode)) );</div>
<div class="line"><span class="lineno"> 3041</span>      }</div>
<div class="line"><span class="lineno"> 3042</span>      }</div>
<div class="line"><span class="lineno"> 3043</span>   }</div>
<div class="ttc" id="aclassfc_1_1log__level_html_a5a5e31c4c1f38d9115ecbe44927fb2e4a30d2de77e71beb8d09d530cac04efa25"><div class="ttname"><a href="classfc_1_1log__level.html#a5a5e31c4c1f38d9115ecbe44927fb2e4a30d2de77e71beb8d09d530cac04efa25">fc::log_level::debug</a></div><div class="ttdeci">@ debug</div><div class="ttdef"><b>Definition</b> <a href="log__message_8hpp_source.html#l00033">log_message.hpp:33</a></div></div>
<div class="ttc" id="aclassfc_1_1logger_html_afbae9b6cd7f4f604f654a4c1914677ac"><div class="ttname"><a href="classfc_1_1logger.html#afbae9b6cd7f4f604f654a4c1914677ac">fc::logger::is_enabled</a></div><div class="ttdeci">bool is_enabled(log_level e) const</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00058">logger.cpp:58</a></div></div>
<div class="ttc" id="anamespacesysio_html_a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6"><div class="ttname"><a href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">sysio::none</a></div><div class="ttdeci">@ none</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00093">protocol.hpp:93</a></div></div>
<div class="ttc" id="anamespacesysio_html_a3a283f786468e0f0e35b0177214ca59ea528a803ed30b308213498b10d8048e62"><div class="ttname"><a href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea528a803ed30b308213498b10d8048e62">sysio::last_irr_catch_up</a></div><div class="ttdeci">@ last_irr_catch_up</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00095">protocol.hpp:95</a></div></div>
<div class="ttc" id="anamespacesysio_html_a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f"><div class="ttname"><a href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f">sysio::catch_up</a></div><div class="ttdeci">@ catch_up</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00094">protocol.hpp:94</a></div></div>
<div class="ttc" id="anamespacesysio_html_a454edd6d34c5564da3a8c796090837fe"><div class="ttname"><a href="namespacesysio.html#a454edd6d34c5564da3a8c796090837fe">sysio::modes_str</a></div><div class="ttdeci">constexpr auto modes_str(id_list_modes m)</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00099">protocol.hpp:99</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_a1b2717cc284cb6f783d1a2c4602f66d3"><div class="ttname"><a href="structsysio_1_1handshake__message.html#a1b2717cc284cb6f783d1a2c4602f66d3">sysio::handshake_message::head_num</a></div><div class="ttdeci">uint32_t head_num</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00038">protocol.hpp:38</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5334d7cde64019b2ab84f3930bb54de9_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5334d7cde64019b2ab84f3930bb54de9_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5334d7cde64019b2ab84f3930bb54de9_cgraph" id="aclasssysio_1_1connection_a5334d7cde64019b2ab84f3930bb54de9_cgraph">
<area shape="rect" title=" " alt="" coords="5,112,137,153"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="194,5,326,46"/>
<area shape="poly" title=" " alt="" coords="99,109,183,55,192,51,195,55,186,60,102,114"/>
<area shape="rect" href="classfc_1_1logger.html#afbae9b6cd7f4f604f654a4c1914677ac" title=" " alt="" coords="187,70,332,96"/>
<area shape="poly" title=" " alt="" coords="136,113,193,98,194,103,138,118"/>
<area shape="rect" href="namespacesysio.html#a454edd6d34c5564da3a8c796090837fe" title=" " alt="" coords="199,120,320,145"/>
<area shape="poly" title=" " alt="" coords="137,130,184,130,184,135,137,135"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="185,169,335,210"/>
<area shape="poly" title=" " alt="" coords="138,150,177,162,175,167,136,155"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="207,238,312,264"/>
<area shape="poly" title=" " alt="" coords="96,151,137,185,186,219,206,229,203,234,183,224,133,190,93,155"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="383,173,539,198"/>
<area shape="poly" title=" " alt="" coords="335,186,367,185,367,190,335,191"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="422,246,501,272"/>
<area shape="poly" title=" " alt="" coords="313,250,406,254,406,259,313,256"/>
<area shape="poly" title=" " alt="" coords="427,247,421,238,425,228,439,222,461,220,486,222,499,229,496,234,484,227,461,225,440,227,429,232,426,237,432,244"/>
</map>
</div>

</div>
</div>
<a id="a9e24c2d2916cc6530e1c5526cf7a1316" name="a9e24c2d2916cc6530e1c5526cf7a1316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e24c2d2916cc6530e1c5526cf7a1316">&#9670;&#160;</a></span>handle_message() <span class="overload">[6/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1packed__transaction.html">packed_transaction</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ec6bfca8f639dbced53570e5a41ce36" name="a7ec6bfca8f639dbced53570e5a41ce36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec6bfca8f639dbced53570e5a41ce36">&#9670;&#160;</a></span>handle_message() <span class="overload">[7/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1request__message.html">request_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03045">3045</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3045</span>                                                               {</div>
<div class="line"><span class="lineno"> 3046</span>      <span class="keywordflow">if</span>( msg.req_blocks.ids.size() &gt; 1 ) {</div>
<div class="line"><span class="lineno"> 3047</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Invalid request_message, req_blocks.ids.size ${s}, closing&quot;</span>,</div>
<div class="line"><span class="lineno"> 3048</span>                    (<span class="stringliteral">&quot;s&quot;</span>, msg.req_blocks.ids.size()) );</div>
<div class="line"><span class="lineno"> 3049</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno"> 3050</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3051</span>      }</div>
<div class="line"><span class="lineno"> 3052</span> </div>
<div class="line"><span class="lineno"> 3053</span>      <span class="keywordflow">switch</span> (msg.req_blocks.mode) {</div>
<div class="line"><span class="lineno"> 3054</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f">catch_up</a> :</div>
<div class="line"><span class="lineno"> 3055</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received request_message:catch_up&quot;</span> );</div>
<div class="line"><span class="lineno"> 3056</span>         <a class="code hl_function" href="#a5b9e30160fc0db3e2842bcb868cb34a0">blk_send_branch</a>( msg.req_blocks.ids.empty() ? <a class="code hl_class" href="classfc_1_1sha256.html">block_id_type</a>() : msg.req_blocks.ids.back() );</div>
<div class="line"><span class="lineno"> 3057</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3058</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">normal</a> :</div>
<div class="line"><span class="lineno"> 3059</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received request_message:normal&quot;</span> );</div>
<div class="line"><span class="lineno"> 3060</span>         <span class="keywordflow">if</span>( !msg.req_blocks.ids.empty() ) {</div>
<div class="line"><span class="lineno"> 3061</span>            <a class="code hl_function" href="#a26752470d31dda1a5140351cbfa375c4">blk_send</a>( msg.req_blocks.ids.back() );</div>
<div class="line"><span class="lineno"> 3062</span>         }</div>
<div class="line"><span class="lineno"> 3063</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3064</span>      <span class="keywordflow">default</span>:;</div>
<div class="line"><span class="lineno"> 3065</span>      }</div>
<div class="line"><span class="lineno"> 3066</span> </div>
<div class="line"><span class="lineno"> 3067</span> </div>
<div class="line"><span class="lineno"> 3068</span>      <span class="keywordflow">switch</span> (msg.req_trx.mode) {</div>
<div class="line"><span class="lineno"> 3069</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea9b09221c2cc0fc2ea1d69a00b99ea58f">catch_up</a> :</div>
<div class="line"><span class="lineno"> 3070</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3071</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a> :</div>
<div class="line"><span class="lineno"> 3072</span>         <span class="keywordflow">if</span>( msg.req_blocks.mode == <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea3820b1d3d12c986267353dcda2fdf2d6">none</a> ) {</div>
<div class="line"><span class="lineno"> 3073</span>            <a class="code hl_function" href="#ab07f49d550a613d2ceb2520b331f5ac1">stop_send</a>();</div>
<div class="line"><span class="lineno"> 3074</span>         }</div>
<div class="line"><span class="lineno"> 3075</span>         <span class="comment">// no break</span></div>
<div class="line"><span class="lineno"> 3076</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a3a283f786468e0f0e35b0177214ca59ea13cebc41fab7b311a3f8f8bfae78f2ae">normal</a> :</div>
<div class="line"><span class="lineno"> 3077</span>         <span class="keywordflow">if</span>( !msg.req_trx.ids.empty() ) {</div>
<div class="line"><span class="lineno"> 3078</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Invalid request_message, req_trx.ids.size ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, msg.req_trx.ids.size()) );</div>
<div class="line"><span class="lineno"> 3079</span>            <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno"> 3080</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3081</span>         }</div>
<div class="line"><span class="lineno"> 3082</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3083</span>      <span class="keywordflow">default</span>:;</div>
<div class="line"><span class="lineno"> 3084</span>      }</div>
<div class="line"><span class="lineno"> 3085</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a26752470d31dda1a5140351cbfa375c4"><div class="ttname"><a href="#a26752470d31dda1a5140351cbfa375c4">sysio::connection::blk_send</a></div><div class="ttdeci">void blk_send(const block_id_type &amp;blkid)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01104">net_plugin.cpp:1104</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a5b9e30160fc0db3e2842bcb868cb34a0"><div class="ttname"><a href="#a5b9e30160fc0db3e2842bcb868cb34a0">sysio::connection::blk_send_branch</a></div><div class="ttdeci">void blk_send_branch(const block_id_type &amp;msg_head_id)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01029">net_plugin.cpp:1029</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ab07f49d550a613d2ceb2520b331f5ac1"><div class="ttname"><a href="#ab07f49d550a613d2ceb2520b331f5ac1">sysio::connection::stop_send</a></div><div class="ttdeci">void stop_send()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01133">net_plugin.cpp:1133</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a7ec6bfca8f639dbced53570e5a41ce36_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a7ec6bfca8f639dbced53570e5a41ce36_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a7ec6bfca8f639dbced53570e5a41ce36_cgraph" id="aclasssysio_1_1connection_a7ec6bfca8f639dbced53570e5a41ce36_cgraph">
<area shape="rect" title=" " alt="" coords="5,333,137,374"/>
<area shape="rect" href="classsysio_1_1connection.html#a26752470d31dda1a5140351cbfa375c4" title=" " alt="" coords="185,120,316,161"/>
<area shape="poly" title=" " alt="" coords="88,331,220,171,224,174,92,335"/>
<area shape="rect" href="classsysio_1_1connection.html#a5b9e30160fc0db3e2842bcb868cb34a0" title=" " alt="" coords="185,300,316,341"/>
<area shape="poly" title=" " alt="" coords="137,339,169,333,170,338,138,344"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="185,365,316,406"/>
<area shape="poly" title=" " alt="" coords="138,363,170,369,169,374,137,368"/>
<area shape="rect" href="classsysio_1_1connection.html#ab07f49d550a613d2ceb2520b331f5ac1" title=" " alt="" coords="185,431,316,471"/>
<area shape="poly" title=" " alt="" coords="109,372,186,415,196,421,194,425,183,420,107,377"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="848,430,948,456"/>
<area shape="poly" title=" " alt="" coords="313,117,363,106,427,94,483,79,582,54,628,49,674,54,722,72,773,106,797,131,809,156,814,183,813,209,809,267,812,298,822,331,848,378,877,417,873,420,844,381,817,333,807,299,804,267,808,209,808,183,804,158,793,134,770,110,720,77,673,59,628,54,583,59,484,84,428,99,365,111,314,122"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="376,5,508,46"/>
<area shape="poly" title=" " alt="" coords="279,117,363,62,382,51,385,56,365,67,282,122"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338" title=" " alt="" coords="366,185,518,226"/>
<area shape="poly" title=" " alt="" coords="313,159,367,177,365,182,311,164"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="372,120,512,161"/>
<area shape="poly" title=" " alt="" coords="316,138,356,138,356,143,316,143"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="1024,423,1165,463"/>
<area shape="poly" title=" " alt="" coords="948,440,1009,440,1009,446,948,446"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="595,193,745,234"/>
<area shape="poly" title=" " alt="" coords="519,206,579,208,579,213,518,211"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="820,180,976,205"/>
<area shape="poly" title=" " alt="" coords="745,204,804,198,805,204,746,209"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="597,120,743,161"/>
<area shape="poly" title=" " alt="" coords="513,138,582,138,582,143,513,143"/>
<area shape="poly" title=" " alt="" coords="300,339,318,352,333,370,341,387,349,402,365,415,403,429,454,438,582,448,719,448,833,444,833,449,719,453,582,453,453,443,401,434,363,420,345,406,336,389,328,372,314,356,297,343"/>
<area shape="poly" title=" " alt="" coords="316,299,363,286,579,232,581,237,365,291,317,304"/>
<area shape="poly" title=" " alt="" coords="261,298,301,237,329,202,362,172,369,167,372,171,366,176,333,206,305,240,265,301"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="376,480,508,521"/>
<area shape="poly" title=" " alt="" coords="302,339,318,352,336,380,343,407,349,433,366,460,376,469,373,473,362,463,344,435,337,408,331,382,314,355,299,343"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a9a55edb4766f1f3302ede12e329b1ea6" title=" " alt="" coords="364,365,520,406"/>
<area shape="poly" title=" " alt="" coords="313,339,367,357,365,362,311,344"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2" title=" " alt="" coords="367,300,517,341"/>
<area shape="poly" title=" " alt="" coords="316,318,352,318,352,323,316,323"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="600,480,740,521"/>
<area shape="poly" title=" " alt="" coords="508,498,584,498,584,503,508,503"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="602,545,738,586"/>
<area shape="poly" title=" " alt="" coords="509,516,588,539,586,545,507,522"/>
<area shape="poly" title=" " alt="" coords="737,544,770,530,824,497,868,464,872,468,827,502,773,535,739,549"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="828,545,968,586"/>
<area shape="poly" title=" " alt="" coords="738,563,812,563,812,568,738,568"/>
<area shape="poly" title=" " alt="" coords="502,363,518,350,535,326,541,301,548,276,566,250,580,240,583,244,570,254,553,278,547,303,540,328,522,354,505,367"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a0c79d00dae8c0d90efc18f4d091b2391" title=" " alt="" coords="583,380,757,405"/>
<area shape="poly" title=" " alt="" coords="521,385,568,387,568,392,521,391"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f" title=" " alt="" coords="568,315,772,355"/>
<area shape="poly" title=" " alt="" coords="520,366,560,357,562,362,522,371"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="586,265,754,290"/>
<area shape="poly" title=" " alt="" coords="498,362,519,350,533,338,542,325,551,313,567,301,580,294,583,299,570,305,555,317,546,328,537,341,522,354,500,367"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="827,280,968,321"/>
<area shape="poly" title=" " alt="" coords="727,289,812,298,811,303,727,294"/>
<area shape="poly" title=" " alt="" coords="826,288,768,281,769,276,827,282"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1024,252,1165,293"/>
<area shape="poly" title=" " alt="" coords="968,288,1008,282,1009,287,969,293"/>
<area shape="poly" title=" " alt="" coords="1024,272,976,271,820,271,769,273,769,268,820,266,976,266,1024,267"/>
</map>
</div>

</div>
</div>
<a id="a3087a10ef1596db0cd6b18b1530df0c4" name="a3087a10ef1596db0cd6b18b1530df0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3087a10ef1596db0cd6b18b1530df0c4">&#9670;&#160;</a></span>handle_message() <span class="overload">[8/11]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1signed__block.html">signed_block</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a21ed2c2f522d3a525417073d7548a4b5" name="a21ed2c2f522d3a525417073d7548a4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ed2c2f522d3a525417073d7548a4b5">&#9670;&#160;</a></span>handle_message() <span class="overload">[9/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1sync__request__message.html">sync_request_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03087">3087</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3087</span>                                                                    {</div>
<div class="line"><span class="lineno"> 3088</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;peer requested ${start} to ${end}&quot;</span>, (<span class="stringliteral">&quot;start&quot;</span>, msg.start_block)(<span class="stringliteral">&quot;end&quot;</span>, msg.end_block) );</div>
<div class="line"><span class="lineno"> 3089</span>      <span class="keywordflow">if</span>( msg.end_block == 0 ) {</div>
<div class="line"><span class="lineno"> 3090</span>         peer_requested.reset();</div>
<div class="line"><span class="lineno"> 3091</span>         <a class="code hl_function" href="#a51ccfb43cb79f666e6548ffeb9f205f2">flush_queues</a>();</div>
<div class="line"><span class="lineno"> 3092</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3093</span>         <span class="keywordflow">if</span> (peer_requested) {</div>
<div class="line"><span class="lineno"> 3094</span>            <span class="comment">// This happens when peer already requested some range and sync is still in progress</span></div>
<div class="line"><span class="lineno"> 3095</span>            <span class="comment">// It could be higher in case of peer requested head catchup and current request is lib catchup</span></div>
<div class="line"><span class="lineno"> 3096</span>            <span class="comment">// So to make sure peer will receive all requested blocks we assign end_block to highest value</span></div>
<div class="line"><span class="lineno"> 3097</span>            peer_requested-&gt;end_block = std::max(msg.end_block, peer_requested-&gt;end_block);</div>
<div class="line"><span class="lineno"> 3098</span>         }</div>
<div class="line"><span class="lineno"> 3099</span>         <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3100</span>            peer_requested = peer_sync_state( msg.start_block, msg.end_block, msg.start_block-1);</div>
<div class="line"><span class="lineno"> 3101</span>         }</div>
<div class="line"><span class="lineno"> 3102</span>         <a class="code hl_function" href="#a099523d62bc60e4a13deda1fe15845ad">enqueue_sync_block</a>();</div>
<div class="line"><span class="lineno"> 3103</span>      }</div>
<div class="line"><span class="lineno"> 3104</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a21ed2c2f522d3a525417073d7548a4b5_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a21ed2c2f522d3a525417073d7548a4b5_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a21ed2c2f522d3a525417073d7548a4b5_cgraph" id="aclasssysio_1_1connection_a21ed2c2f522d3a525417073d7548a4b5_cgraph">
<area shape="rect" title=" " alt="" coords="5,193,137,234"/>
<area shape="rect" href="classsysio_1_1connection.html#a099523d62bc60e4a13deda1fe15845ad" title=" " alt="" coords="185,128,328,169"/>
<area shape="poly" title=" " alt="" coords="130,190,182,172,183,177,132,195"/>
<area shape="rect" href="classsysio_1_1connection.html#a51ccfb43cb79f666e6548ffeb9f205f2" title=" " alt="" coords="191,225,322,266"/>
<area shape="poly" title=" " alt="" coords="138,222,176,229,175,234,137,228"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="410,13,509,38"/>
<area shape="poly" title=" " alt="" coords="276,126,319,87,375,49,395,40,397,45,377,53,322,91,279,130"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="394,63,526,103"/>
<area shape="poly" title=" " alt="" coords="321,125,379,106,380,111,323,130"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a1379e43325b7e517a058bddce15571eb" title=" " alt="" coords="376,128,543,169"/>
<area shape="poly" title=" " alt="" coords="328,146,360,146,360,151,328,151"/>
<area shape="rect" href="classappbase_1_1application.html#a77aff91b861010fd61a616c59b310dcc" title=" " alt="" coords="390,193,530,234"/>
<area shape="poly" title=" " alt="" coords="323,167,380,185,379,191,321,172"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="623,5,763,46"/>
<area shape="poly" title=" " alt="" coords="510,23,607,23,607,28,510,28"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a04f3c55da09b359224510af99502490f" title=" " alt="" coords="591,128,795,169"/>
<area shape="poly" title=" " alt="" coords="544,146,576,146,576,151,544,151"/>
<area shape="rect" href="classappbase_1_1execution__priority__queue.html#acfa0c68e913a02f179e52ed758451a69" title=" " alt="" coords="620,193,766,234"/>
<area shape="poly" title=" " alt="" coords="530,211,605,211,605,216,530,216"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#ad5cee9e3bed9ece107058fc422298e6e" title=" " alt="" coords="388,259,531,299"/>
<area shape="poly" title=" " alt="" coords="323,254,374,262,373,267,322,259"/>
</map>
</div>

</div>
</div>
<a id="a674cbe920ea083be64a0746c0ce76c86" name="a674cbe920ea083be64a0746c0ce76c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a674cbe920ea083be64a0746c0ce76c86">&#9670;&#160;</a></span>handle_message() <span class="overload">[10/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1time__message.html">time_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate offset, delay and dispersion. Note carefully the implied processing. The first-order difference is done directly in 64-bit arithmetic, then the result is converted to floating double. All further processing is in floating-double arithmetic with rounding done by the hardware. This is necessary in order to avoid overflow and preserve precision. </p>

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02944">2944</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2944</span>                                                            {</div>
<div class="line"><span class="lineno"> 2945</span>      <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received time_message&quot;</span> );</div>
<div class="line"><span class="lineno"> 2946</span> </div>
<div class="line"><span class="lineno"> 2947</span>      <span class="comment">/* We&#39;ve already lost however many microseconds it took to dispatch</span></div>
<div class="line"><span class="lineno"> 2948</span><span class="comment">       * the message, but it can&#39;t be helped.</span></div>
<div class="line"><span class="lineno"> 2949</span><span class="comment">       */</span></div>
<div class="line"><span class="lineno"> 2950</span>      msg.dst = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 2951</span> </div>
<div class="line"><span class="lineno"> 2952</span>      <span class="comment">// If the transmit timestamp is zero, the peer is horribly broken.</span></div>
<div class="line"><span class="lineno"> 2953</span>      <span class="keywordflow">if</span>(msg.xmt == 0)</div>
<div class="line"><span class="lineno"> 2954</span>         <span class="keywordflow">return</span>;                 <span class="comment">/* invalid timestamp */</span></div>
<div class="line"><span class="lineno"> 2955</span> </div>
<div class="line"><span class="lineno"> 2956</span>      <span class="keywordflow">if</span>(msg.xmt == <a class="code hl_variable" href="#a1ddd29a8f7e1d9a3d21a79c8fdf21521">xmt</a>)</div>
<div class="line"><span class="lineno"> 2957</span>         <span class="keywordflow">return</span>;                 <span class="comment">/* duplicate packet */</span></div>
<div class="line"><span class="lineno"> 2958</span> </div>
<div class="line"><span class="lineno"> 2959</span>      <a class="code hl_variable" href="#a1ddd29a8f7e1d9a3d21a79c8fdf21521">xmt</a> = msg.xmt;</div>
<div class="line"><span class="lineno"> 2960</span>      <a class="code hl_variable" href="#a0bc9d553ad16bc63449cdbcf6825c59f">rec</a> = msg.rec;</div>
<div class="line"><span class="lineno"> 2961</span>      <a class="code hl_variable" href="#af43cec49a0884310396dad6d01c392e1">dst</a> = msg.dst;</div>
<div class="line"><span class="lineno"> 2962</span> </div>
<div class="line"><span class="lineno"> 2963</span>      <span class="keywordflow">if</span>( msg.org == 0 ) {</div>
<div class="line"><span class="lineno"> 2964</span>         <a class="code hl_function" href="#a1c134c29679142daab81ca9fe4a10996">send_time</a>( msg );</div>
<div class="line"><span class="lineno"> 2965</span>         <span class="keywordflow">return</span>;  <span class="comment">// We don&#39;t have enough data to perform the calculation yet.</span></div>
<div class="line"><span class="lineno"> 2966</span>      }</div>
<div class="line"><span class="lineno"> 2967</span> </div>
<div class="line"><span class="lineno"> 2968</span>      <span class="keywordtype">double</span> offset = (double(<a class="code hl_variable" href="#a0bc9d553ad16bc63449cdbcf6825c59f">rec</a> - <a class="code hl_variable" href="#a6c055550228586b3534a4f2b5e87bc4e">org</a>) + double(msg.xmt - <a class="code hl_variable" href="#af43cec49a0884310396dad6d01c392e1">dst</a>)) / 2;</div>
<div class="line"><span class="lineno"> 2969</span>      <span class="keywordtype">double</span> NsecPerUsec{1000};</div>
<div class="line"><span class="lineno"> 2970</span> </div>
<div class="line"><span class="lineno"> 2971</span>      <span class="keywordflow">if</span>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>.<a class="code hl_function" href="classfc_1_1logger.html#afbae9b6cd7f4f604f654a4c1914677ac">is_enabled</a>( <a class="code hl_enumvalue" href="classfc_1_1log__level.html#a5a5e31c4c1f38d9115ecbe44927fb2e4a890e233ab2c5d4db2a1c26a10bd2de7d">fc::log_level::all</a> ) )</div>
<div class="line"><span class="lineno"> 2972</span>         <a class="code hl_class" href="classfc_1_1logger.html">logger</a>.<a class="code hl_function" href="classfc_1_1logger.html#a8699bbd7c059f568f456b1446b97b0e4">log</a>( <a class="code hl_define" href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a>( all, <span class="stringliteral">&quot;Clock offset is ${o}ns (${us}us)&quot;</span>,</div>
<div class="line"><span class="lineno"> 2973</span>                                     (<span class="stringliteral">&quot;o&quot;</span>, offset)( <span class="stringliteral">&quot;us&quot;</span>, offset / NsecPerUsec ) ) );</div>
<div class="line"><span class="lineno"> 2974</span>      <a class="code hl_variable" href="#a6c055550228586b3534a4f2b5e87bc4e">org</a> = 0;</div>
<div class="line"><span class="lineno"> 2975</span>      <a class="code hl_variable" href="#a0bc9d553ad16bc63449cdbcf6825c59f">rec</a> = 0;</div>
<div class="line"><span class="lineno"> 2976</span> </div>
<div class="line"><span class="lineno"> 2977</span>      std::unique_lock&lt;std::mutex&gt; g_conn( <a class="code hl_variable" href="#a675e5b04f968aa689c49d511c601fffa">conn_mtx</a> );</div>
<div class="line"><span class="lineno"> 2978</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a158c59b44186c7757311f14f71818ec8">last_handshake_recv</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a62247b1e0a1a552278fc2b156d4d663f">generation</a> == 0 ) {</div>
<div class="line"><span class="lineno"> 2979</span>         g_conn.unlock();</div>
<div class="line"><span class="lineno"> 2980</span>         <a class="code hl_function" href="#a55b561baeda5353d7c1a1e2a8a0c88e1">send_handshake</a>();</div>
<div class="line"><span class="lineno"> 2981</span>      }</div>
<div class="line"><span class="lineno"> 2982</span>   }</div>
<div class="ttc" id="aclassfc_1_1log__level_html_a5a5e31c4c1f38d9115ecbe44927fb2e4a890e233ab2c5d4db2a1c26a10bd2de7d"><div class="ttname"><a href="classfc_1_1log__level.html#a5a5e31c4c1f38d9115ecbe44927fb2e4a890e233ab2c5d4db2a1c26a10bd2de7d">fc::log_level::all</a></div><div class="ttdeci">@ all</div><div class="ttdef"><b>Definition</b> <a href="log__message_8hpp_source.html#l00032">log_message.hpp:32</a></div></div>
<div class="ttc" id="aclassfc_1_1logger_html_a8699bbd7c059f568f456b1446b97b0e4"><div class="ttname"><a href="classfc_1_1logger.html#a8699bbd7c059f568f456b1446b97b0e4">fc::logger::log</a></div><div class="ttdeci">void log(log_message m)</div><div class="ttdef"><b>Definition</b> <a href="logger_8cpp_source.html#l00062">logger.cpp:62</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a0bc9d553ad16bc63449cdbcf6825c59f"><div class="ttname"><a href="#a0bc9d553ad16bc63449cdbcf6825c59f">sysio::connection::rec</a></div><div class="ttdeci">tstamp rec</div><div class="ttdoc">receive timestamp</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00670">net_plugin.cpp:670</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1ddd29a8f7e1d9a3d21a79c8fdf21521"><div class="ttname"><a href="#a1ddd29a8f7e1d9a3d21a79c8fdf21521">sysio::connection::xmt</a></div><div class="ttdeci">tstamp xmt</div><div class="ttdoc">transmit timestamp</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00672">net_plugin.cpp:672</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a6c055550228586b3534a4f2b5e87bc4e"><div class="ttname"><a href="#a6c055550228586b3534a4f2b5e87bc4e">sysio::connection::org</a></div><div class="ttdeci">tstamp org</div><div class="ttdoc">originate timestamp</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00669">net_plugin.cpp:669</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_af43cec49a0884310396dad6d01c392e1"><div class="ttname"><a href="#af43cec49a0884310396dad6d01c392e1">sysio::connection::dst</a></div><div class="ttdeci">tstamp dst</div><div class="ttdoc">destination timestamp</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00671">net_plugin.cpp:671</a></div></div>
<div class="ttc" id="alog__message_8hpp_html_a4a4df4bb5cffbe07aadf7d29fd44c75e"><div class="ttname"><a href="log__message_8hpp.html#a4a4df4bb5cffbe07aadf7d29fd44c75e">FC_LOG_MESSAGE</a></div><div class="ttdeci">#define FC_LOG_MESSAGE(LOG_LEVEL, FORMAT,...)</div><div class="ttdoc">A helper method for generating log messages.</div><div class="ttdef"><b>Definition</b> <a href="log__message_8hpp_source.html#l00165">log_message.hpp:165</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a674cbe920ea083be64a0746c0ce76c86_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a674cbe920ea083be64a0746c0ce76c86_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a674cbe920ea083be64a0746c0ce76c86_cgraph" id="aclasssysio_1_1connection_a674cbe920ea083be64a0746c0ce76c86_cgraph">
<area shape="rect" title="Process time_message." alt="" coords="5,450,137,491"/>
<area shape="rect" href="classsysio_1_1connection.html#aa74b147947e087bc084d72a3d892a06f" title="Read system time and convert to a 64 bit integer." alt="" coords="391,450,522,491"/>
<area shape="poly" title=" " alt="" coords="137,468,376,468,376,473,137,473"/>
<area shape="rect" href="classfc_1_1logger.html#afbae9b6cd7f4f604f654a4c1914677ac" title=" " alt="" coords="185,407,330,433"/>
<area shape="poly" title=" " alt="" coords="136,450,192,435,193,440,138,455"/>
<area shape="rect" href="classfc_1_1logger.html#a8699bbd7c059f568f456b1446b97b0e4" title=" " alt="" coords="207,343,308,369"/>
<area shape="poly" title=" " alt="" coords="100,448,183,392,215,374,218,379,186,397,103,452"/>
<area shape="rect" href="classsysio_1_1connection.html#a55b561baeda5353d7c1a1e2a8a0c88e1" title=" " alt="" coords="192,573,323,614"/>
<area shape="poly" title=" " alt="" coords="97,489,137,523,186,558,195,563,193,568,183,562,134,527,94,494"/>
<area shape="rect" href="classsysio_1_1connection.html#a1c134c29679142daab81ca9fe4a10996" title="Populate and queue time_message." alt="" coords="192,508,323,548"/>
<area shape="poly" title=" " alt="" coords="138,488,178,501,176,506,136,493"/>
<area shape="rect" href="classfc_1_1log__context.html#a03c5f68fae3fb1386f12a9e3aa9928c6" title=" " alt="" coords="378,381,535,422"/>
<area shape="poly" title=" " alt="" coords="308,365,364,377,362,383,307,370"/>
<area shape="rect" href="classfc_1_1log__message.html#a6566f216627b8eb68472c8924dc6434f" title=" " alt="" coords="385,250,528,291"/>
<area shape="poly" title=" " alt="" coords="288,340,377,302,392,295,394,300,379,306,290,345"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="380,316,533,356"/>
<area shape="poly" title=" " alt="" coords="308,348,365,343,365,348,308,354"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="583,83,724,109"/>
<area shape="poly" title=" " alt="" coords="516,313,534,301,572,258,602,209,625,162,641,123,646,124,630,164,607,212,576,261,537,305,519,317"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="587,320,720,346"/>
<area shape="poly" title=" " alt="" coords="534,332,572,332,572,337,534,338"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="592,386,715,411"/>
<area shape="poly" title=" " alt="" coords="523,354,597,378,595,383,522,359"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="776,132,908,158"/>
<area shape="poly" title=" " alt="" coords="706,107,776,125,775,131,705,112"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="774,34,910,59"/>
<area shape="poly" title=" " alt="" coords="705,80,775,61,776,67,706,85"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="978,8,1115,34"/>
<area shape="poly" title=" " alt="" coords="668,81,711,48,740,31,771,19,819,8,869,4,962,7,962,12,870,9,820,14,772,24,742,36,714,52,671,85"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="797,83,887,109"/>
<area shape="poly" title=" " alt="" coords="724,93,781,93,781,99,724,99"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="965,132,1127,158"/>
<area shape="poly" title=" " alt="" coords="908,143,949,143,949,148,908,148"/>
<area shape="poly" title=" " alt="" coords="910,36,962,29,962,34,911,41"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="772,378,912,419"/>
<area shape="poly" title=" " alt="" coords="694,344,768,370,766,375,692,349"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="772,182,912,223"/>
<area shape="poly" title=" " alt="" coords="667,318,711,278,770,234,779,228,782,233,773,238,715,282,670,322"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="775,248,908,288"/>
<area shape="poly" title=" " alt="" coords="692,317,766,291,768,296,694,322"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="775,313,908,354"/>
<area shape="poly" title=" " alt="" coords="720,331,760,331,760,336,720,336"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="960,386,1132,411"/>
<area shape="poly" title=" " alt="" coords="913,396,944,396,944,401,913,401"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="793,467,891,493"/>
<area shape="poly" title=" " alt="" coords="687,410,797,458,795,463,684,415"/>
<area shape="poly" title=" " alt="" coords="810,468,804,459,808,449,821,443,842,440,865,443,877,450,874,454,863,448,842,446,822,448,812,452,809,458,815,465"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="404,592,509,618"/>
<area shape="poly" title=" " alt="" coords="324,595,389,599,389,604,323,600"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="614,606,693,631"/>
<area shape="poly" title=" " alt="" coords="510,606,598,612,598,618,509,612"/>
<area shape="poly" title=" " alt="" coords="622,607,616,597,619,587,632,581,654,579,676,582,688,588,686,593,675,587,653,584,634,586,623,591,621,597,626,604"/>
<area shape="poly" title=" " alt="" coords="323,506,375,491,377,496,324,512"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="391,516,522,556"/>
<area shape="poly" title=" " alt="" coords="324,528,376,530,375,535,323,533"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="583,452,724,492"/>
<area shape="poly" title=" " alt="" coords="521,512,574,495,575,500,522,518"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="586,517,721,558"/>
<area shape="poly" title=" " alt="" coords="523,534,570,534,570,539,523,539"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="792,582,892,607"/>
<area shape="poly" title=" " alt="" coords="722,555,783,574,782,579,721,560"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="772,517,912,558"/>
<area shape="poly" title=" " alt="" coords="721,535,756,535,756,540,721,540"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="976,574,1116,615"/>
<area shape="poly" title=" " alt="" coords="892,592,960,592,960,597,892,597"/>
</map>
</div>

</div>
</div>
<a id="a5b525888f8a53ca2b7665fc7f5860746" name="a5b525888f8a53ca2b7665fc7f5860746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b525888f8a53ca2b7665fc7f5860746">&#9670;&#160;</a></span>handle_message() <span class="overload">[11/11]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::handle_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#a7041c0316bd294d0866609ab3e0cc7a7">packed_transaction_ptr</a></td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03110">3110</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3110</span>                                                               {</div>
<div class="line"><span class="lineno"> 3111</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; tid = trx-&gt;id();</div>
<div class="line"><span class="lineno"> 3112</span>      <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;received packed_transaction ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, tid) );</div>
<div class="line"><span class="lineno"> 3113</span> </div>
<div class="line"><span class="lineno"> 3114</span>      <a class="code hl_variable" href="#ad60ce32fad045e086d4681636391851b">trx_in_progress_size</a> += <a class="code hl_function" href="namespacesysio.html#a2194dd4e6a446fc52f18df8563e8e9b4">calc_trx_size</a>( trx );</div>
<div class="line"><span class="lineno"> 3115</span>      my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93">accept_transaction</a>( trx,</div>
<div class="line"><span class="lineno"> 3116</span>         [weak = weak_from_this(), trx](<span class="keyword">const</span> std::variant&lt;fc::exception_ptr, transaction_trace_ptr&gt;&amp; result) <span class="keyword">mutable</span> {</div>
<div class="line"><span class="lineno"> 3117</span>         <span class="comment">// next (this lambda) called from application thread</span></div>
<div class="line"><span class="lineno"> 3118</span>         <span class="keywordflow">if</span> (std::holds_alternative&lt;fc::exception_ptr&gt;(result)) {</div>
<div class="line"><span class="lineno"> 3119</span>            <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;bad packed_transaction : ${m}&quot;</span>, (<span class="stringliteral">&quot;m&quot;</span>, std::get&lt;fc::exception_ptr&gt;(result)-&gt;what()) );</div>
<div class="line"><span class="lineno"> 3120</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3121</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">transaction_trace_ptr</a>&amp; trace = std::get&lt;transaction_trace_ptr&gt;(result);</div>
<div class="line"><span class="lineno"> 3122</span>            <span class="keywordflow">if</span>( !trace-&gt;except ) {</div>
<div class="line"><span class="lineno"> 3123</span>               <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;chain accepted transaction, bcast ${id}&quot;</span>, (<span class="stringliteral">&quot;id&quot;</span>, trace-&gt;id) );</div>
<div class="line"><span class="lineno"> 3124</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3125</span>               <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;bad packed_transaction : ${m}&quot;</span>, (<span class="stringliteral">&quot;m&quot;</span>, trace-&gt;except-&gt;what()));</div>
<div class="line"><span class="lineno"> 3126</span>            }</div>
<div class="line"><span class="lineno"> 3127</span>         }</div>
<div class="line"><span class="lineno"> 3128</span>         <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> conn = weak.lock();</div>
<div class="line"><span class="lineno"> 3129</span>         <span class="keywordflow">if</span>( conn ) {</div>
<div class="line"><span class="lineno"> 3130</span>            conn-&gt;trx_in_progress_size -= <a class="code hl_function" href="namespacesysio.html#a2194dd4e6a446fc52f18df8563e8e9b4">calc_trx_size</a>( trx );</div>
<div class="line"><span class="lineno"> 3131</span>         }</div>
<div class="line"><span class="lineno"> 3132</span>      });</div>
<div class="line"><span class="lineno"> 3133</span>   }</div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_ac6ac57ec54c2d3ee93ee361862e86a93"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93">sysio::chain_plugin::accept_transaction</a></div><div class="ttdeci">void accept_transaction(const chain::packed_transaction_ptr &amp;trx, chain::plugin_interface::next_function&lt; chain::transaction_trace_ptr &gt; next)</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8cpp_source.html#l01338">chain_plugin.cpp:1338</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_ad60ce32fad045e086d4681636391851b"><div class="ttname"><a href="#ad60ce32fad045e086d4681636391851b">sysio::connection::trx_in_progress_size</a></div><div class="ttdeci">std::atomic&lt; uint32_t &gt; trx_in_progress_size</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00636">net_plugin.cpp:636</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a4ee2867a6bec961c7a78b203cfd76be9"><div class="ttname"><a href="namespacesysio_1_1chain.html#a4ee2867a6bec961c7a78b203cfd76be9">sysio::chain::transaction_trace_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; transaction_trace &gt; transaction_trace_ptr</div><div class="ttdef"><b>Definition</b> <a href="libraries_2chain_2include_2sysio_2chain_2trace_8hpp_source.html#l00020">trace.hpp:20</a></div></div>
<div class="ttc" id="anamespacesysio_html_a2194dd4e6a446fc52f18df8563e8e9b4"><div class="ttname"><a href="namespacesysio.html#a2194dd4e6a446fc52f18df8563e8e9b4">sysio::calc_trx_size</a></div><div class="ttdeci">size_t calc_trx_size(const packed_transaction_ptr &amp;trx)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l03106">net_plugin.cpp:3106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5b525888f8a53ca2b7665fc7f5860746_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5b525888f8a53ca2b7665fc7f5860746_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5b525888f8a53ca2b7665fc7f5860746_cgraph" id="aclasssysio_1_1connection_a5b525888f8a53ca2b7665fc7f5860746_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,137,75"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#ac6ac57ec54c2d3ee93ee361862e86a93" title=" " alt="" coords="185,5,324,46"/>
<area shape="poly" title=" " alt="" coords="137,42,169,37,170,42,137,47"/>
<area shape="rect" href="namespacesysio.html#a2194dd4e6a446fc52f18df8563e8e9b4" title=" " alt="" coords="186,70,323,96"/>
<area shape="poly" title=" " alt="" coords="137,62,171,68,170,73,137,68"/>
</map>
</div>

</div>
</div>
<a id="a7a00f9a9487c8604ac53ff47aa7316e8" name="a7a00f9a9487c8604ac53ff47aa7316e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a00f9a9487c8604ac53ff47aa7316e8">&#9670;&#160;</a></span>is_blocks_only_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::is_blocks_only_connection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00595">595</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  595</span>{ <span class="keywordflow">return</span> connection_type == blocks_only; }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a7a00f9a9487c8604ac53ff47aa7316e8_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a7a00f9a9487c8604ac53ff47aa7316e8_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a7a00f9a9487c8604ac53ff47aa7316e8_icgraph" id="aclasssysio_1_1connection_a7a00f9a9487c8604ac53ff47aa7316e8_icgraph">
<area shape="rect" title=" " alt="" coords="194,5,371,46"/>
<area shape="rect" href="classsysio_1_1connection.html#aec8d94a6b6483822c52f08624e8dc9e7" title=" " alt="" coords="5,5,146,46"/>
<area shape="poly" title=" " alt="" coords="178,28,146,28,146,23,178,23"/>
</map>
</div>

</div>
</div>
<a id="a9e344302f09cb876c9549cb2aa368f2e" name="a9e344302f09cb876c9549cb2aa368f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e344302f09cb876c9549cb2aa368f2e">&#9670;&#160;</a></span>is_transactions_only_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::is_transactions_only_connection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00594">594</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  594</span>{ <span class="keywordflow">return</span> connection_type == transactions_only; }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a9e344302f09cb876c9549cb2aa368f2e_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a9e344302f09cb876c9549cb2aa368f2e_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a9e344302f09cb876c9549cb2aa368f2e_icgraph" id="aclasssysio_1_1connection_a9e344302f09cb876c9549cb2aa368f2e_icgraph">
<area shape="rect" title=" " alt="" coords="194,5,334,61"/>
<area shape="rect" href="classsysio_1_1connection.html#aec8d94a6b6483822c52f08624e8dc9e7" title=" " alt="" coords="5,13,146,54"/>
<area shape="poly" title=" " alt="" coords="178,36,146,36,146,30,178,30"/>
</map>
</div>

</div>
</div>
<a id="ac8f79d24686c4aad7bf12f3784970d98" name="ac8f79d24686c4aad7bf12f3784970d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f79d24686c4aad7bf12f3784970d98">&#9670;&#160;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02720">2720</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2720</span>                                                                 {</div>
<div class="line"><span class="lineno"> 2721</span>      <span class="comment">// Do some basic validation of an incoming handshake_message, so things</span></div>
<div class="line"><span class="lineno"> 2722</span>      <span class="comment">// that really aren&#39;t handshake messages can be quickly discarded without</span></div>
<div class="line"><span class="lineno"> 2723</span>      <span class="comment">// affecting state.</span></div>
<div class="line"><span class="lineno"> 2724</span>      <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2725</span>      <span class="keywordflow">if</span> (msg.last_irreversible_block_num &gt; msg.head_num) {</div>
<div class="line"><span class="lineno"> 2726</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: last irreversible block (${i}) is greater than head block (${h})&quot;</span>,</div>
<div class="line"><span class="lineno"> 2727</span>                  (<span class="stringliteral">&quot;i&quot;</span>, msg.last_irreversible_block_num)(<span class="stringliteral">&quot;h&quot;</span>, msg.head_num) );</div>
<div class="line"><span class="lineno"> 2728</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2729</span>      }</div>
<div class="line"><span class="lineno"> 2730</span>      <span class="keywordflow">if</span> (msg.p2p_address.empty()) {</div>
<div class="line"><span class="lineno"> 2731</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: p2p_address is null string&quot;</span> );</div>
<div class="line"><span class="lineno"> 2732</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2733</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( msg.p2p_address.length() &gt; <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a> ) {</div>
<div class="line"><span class="lineno"> 2734</span>         <span class="comment">// see max_handshake_str_length comment in protocol.hpp</span></div>
<div class="line"><span class="lineno"> 2735</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: p2p_address too large: ${p}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2736</span>                    (<span class="stringliteral">&quot;p&quot;</span>, msg.p2p_address.substr(0, <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a>) + <span class="stringliteral">&quot;...&quot;</span>) );</div>
<div class="line"><span class="lineno"> 2737</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2738</span>      }</div>
<div class="line"><span class="lineno"> 2739</span>      <span class="keywordflow">if</span> (msg.os.empty()) {</div>
<div class="line"><span class="lineno"> 2740</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: os field is null string&quot;</span> );</div>
<div class="line"><span class="lineno"> 2741</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2742</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( msg.os.length() &gt; <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a> ) {</div>
<div class="line"><span class="lineno"> 2743</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: os field too large: ${p}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2744</span>                    (<span class="stringliteral">&quot;p&quot;</span>, msg.os.substr(0, <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a>) + <span class="stringliteral">&quot;...&quot;</span>) );</div>
<div class="line"><span class="lineno"> 2745</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2746</span>      }</div>
<div class="line"><span class="lineno"> 2747</span>      <span class="keywordflow">if</span>( msg.agent.length() &gt; <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a> ) {</div>
<div class="line"><span class="lineno"> 2748</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: agent field too large: ${p}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2749</span>                  (<span class="stringliteral">&quot;p&quot;</span>, msg.agent.substr(0, <a class="code hl_variable" href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">max_handshake_str_length</a>) + <span class="stringliteral">&quot;...&quot;</span>) );</div>
<div class="line"><span class="lineno"> 2750</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2751</span>      }</div>
<div class="line"><span class="lineno"> 2752</span>      <span class="keywordflow">if</span> ((msg.sig != <a class="code hl_typedef" href="namespacesysio_1_1chain.html#af141a69eb789b86fa0eb93c2d263f0df">chain::signature_type</a>() || msg.token != <a class="code hl_class" href="classfc_1_1sha256.html">sha256</a>()) &amp;&amp; (msg.token != <a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a>(msg.time))) {</div>
<div class="line"><span class="lineno"> 2753</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Handshake message validation: token field invalid&quot;</span> );</div>
<div class="line"><span class="lineno"> 2754</span>         valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2755</span>      }</div>
<div class="line"><span class="lineno"> 2756</span>      <span class="keywordflow">return</span> valid;</div>
<div class="line"><span class="lineno"> 2757</span>   }</div>
<div class="ttc" id="aclassfc_1_1sha256_html_a474784de7d6213b855abd7e952df5e36"><div class="ttname"><a href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a></div><div class="ttdeci">static sha256 hash(const char *d, uint32_t dlen)</div><div class="ttdef"><b>Definition</b> <a href="sha256_8cpp_source.html#l00044">sha256.cpp:44</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_af141a69eb789b86fa0eb93c2d263f0df"><div class="ttname"><a href="namespacesysio_1_1chain.html#af141a69eb789b86fa0eb93c2d263f0df">sysio::chain::signature_type</a></div><div class="ttdeci">fc::crypto::signature signature_type</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00078">types.hpp:78</a></div></div>
<div class="ttc" id="anamespacesysio_html_a221fdeb3635b31daaa70c0ef5dedb044"><div class="ttname"><a href="namespacesysio.html#a221fdeb3635b31daaa70c0ef5dedb044">sysio::max_handshake_str_length</a></div><div class="ttdeci">constexpr size_t max_handshake_str_length</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00025">protocol.hpp:25</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_cgraph" id="aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,137,79"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="185,46,303,72"/>
<area shape="poly" title=" " alt="" coords="137,56,169,56,169,62,137,62"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="351,5,487,46"/>
<area shape="poly" title=" " alt="" coords="303,45,335,39,336,44,304,50"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="351,71,487,111"/>
<area shape="poly" title=" " alt="" coords="304,67,336,73,335,78,303,72"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="535,13,651,38"/>
<area shape="poly" title=" " alt="" coords="488,23,519,23,519,28,488,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_icgraph" id="aclasssysio_1_1connection_ac8f79d24686c4aad7bf12f3784970d98_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a6969d80878d60791744f4ace46f1b806" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="aca3e3acacf8047c389e0bda758da197d" name="aca3e3acacf8047c389e0bda758da197d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca3e3acacf8047c389e0bda758da197d">&#9670;&#160;</a></span>peer_address()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp; sysio::connection::peer_address </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00591">591</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>{ <span class="keywordflow">return</span> peer_addr; } <span class="comment">// thread safe, const</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_aca3e3acacf8047c389e0bda758da197d_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_aca3e3acacf8047c389e0bda758da197d_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_aca3e3acacf8047c389e0bda758da197d_icgraph" id="aclasssysio_1_1connection_aca3e3acacf8047c389e0bda758da197d_icgraph">
<area shape="rect" title=" " alt="" coords="198,71,329,111"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="12,5,143,46"/>
<area shape="poly" title=" " alt="" coords="188,68,136,49,138,44,190,63"/>
<area shape="rect" href="classsysio_1_1connection.html#a6969d80878d60791744f4ace46f1b806" title=" " alt="" coords="12,71,143,111"/>
<area shape="poly" title=" " alt="" coords="182,94,143,94,143,88,182,88"/>
<area shape="rect" href="classsysio_1_1connection.html#a11ecb500e5bd8050f97f0c5a585df2ad" title=" " alt="" coords="5,136,150,177"/>
<area shape="poly" title=" " alt="" coords="190,119,138,138,136,133,188,114"/>
</map>
</div>

</div>
</div>
<a id="aec8d94a6b6483822c52f08624e8dc9e7" name="aec8d94a6b6483822c52f08624e8dc9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec8d94a6b6483822c52f08624e8dc9e7">&#9670;&#160;</a></span>populate_handshake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::populate_handshake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>hello</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03504">3504</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3504</span>                                                                 {</div>
<div class="line"><span class="lineno"> 3505</span>      <span class="keyword">namespace </span>sc = std::chrono;</div>
<div class="line"><span class="lineno"> 3506</span>      hello.network_version = <a class="code hl_variable" href="namespacesysio.html#ab1d8e7b4e61cb77ed927e0a76decaabb">net_version_base</a> + <a class="code hl_variable" href="#aa7543fc95097fd14c4d8f66173af561a">net_version</a>;</div>
<div class="line"><span class="lineno"> 3507</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> lib, head;</div>
<div class="line"><span class="lineno"> 3508</span>      std::tie( lib, std::ignore, head,</div>
<div class="line"><span class="lineno"> 3509</span>                hello.last_irreversible_block_id, std::ignore, hello.head_id ) = my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2">get_chain_info</a>();</div>
<div class="line"><span class="lineno"> 3510</span>      hello.last_irreversible_block_num = lib;</div>
<div class="line"><span class="lineno"> 3511</span>      hello.head_num = head;</div>
<div class="line"><span class="lineno"> 3512</span>      hello.chain_id = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a37adff467a5dc9da8cfbcd1d0f2a5080">chain_id</a>;</div>
<div class="line"><span class="lineno"> 3513</span>      hello.node_id = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a34b87d3870bcb637f7e8c2b5a0f40956">node_id</a>;</div>
<div class="line"><span class="lineno"> 3514</span>      hello.key = my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#af27bfe4be27bb557952ce5e1f1b409f4">get_authentication_key</a>();</div>
<div class="line"><span class="lineno"> 3515</span>      hello.time = sc::duration_cast&lt;sc::nanoseconds&gt;(sc::system_clock::now().time_since_epoch()).count();</div>
<div class="line"><span class="lineno"> 3516</span>      hello.token = <a class="code hl_function" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36">fc::sha256::hash</a>(hello.time);</div>
<div class="line"><span class="lineno"> 3517</span>      hello.sig = my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#a2c539f4bc5f466e6cee42568d4e4be6e">sign_compact</a>(hello.key, hello.token);</div>
<div class="line"><span class="lineno"> 3518</span>      <span class="comment">// If we couldn&#39;t sign, don&#39;t send a token.</span></div>
<div class="line"><span class="lineno"> 3519</span>      <span class="keywordflow">if</span>(hello.sig == <a class="code hl_typedef" href="namespacesysio_1_1chain.html#af141a69eb789b86fa0eb93c2d263f0df">chain::signature_type</a>())</div>
<div class="line"><span class="lineno"> 3520</span>         hello.token = <a class="code hl_class" href="classfc_1_1sha256.html">sha256</a>();</div>
<div class="line"><span class="lineno"> 3521</span>      hello.p2p_address = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad0038d5b0dc359bdd3eab428e20efa3c">p2p_address</a>;</div>
<div class="line"><span class="lineno"> 3522</span>      <span class="keywordflow">if</span>( <a class="code hl_function" href="#a9e344302f09cb876c9549cb2aa368f2e">is_transactions_only_connection</a>() ) hello.p2p_address += <span class="stringliteral">&quot;:trx&quot;</span>;</div>
<div class="line"><span class="lineno"> 3523</span>      <span class="keywordflow">if</span>( <a class="code hl_function" href="#a7a00f9a9487c8604ac53ff47aa7316e8">is_blocks_only_connection</a>() ) hello.p2p_address += <span class="stringliteral">&quot;:blk&quot;</span>;</div>
<div class="line"><span class="lineno"> 3524</span>      hello.p2p_address += <span class="stringliteral">&quot; - &quot;</span> + hello.node_id.str().substr(0,7);</div>
<div class="line"><span class="lineno"> 3525</span><span class="preprocessor">#if defined( __APPLE__ )</span></div>
<div class="line"><span class="lineno"> 3526</span>      hello.os = <span class="stringliteral">&quot;osx&quot;</span>;</div>
<div class="line"><span class="lineno"> 3527</span><span class="preprocessor">#elif defined( __linux__ )</span></div>
<div class="line"><span class="lineno"> 3528</span>      hello.os = <span class="stringliteral">&quot;linux&quot;</span>;</div>
<div class="line"><span class="lineno"> 3529</span><span class="preprocessor">#elif defined( _WIN32 )</span></div>
<div class="line"><span class="lineno"> 3530</span>      hello.os = <span class="stringliteral">&quot;win32&quot;</span>;</div>
<div class="line"><span class="lineno"> 3531</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 3532</span>      hello.os = <span class="stringliteral">&quot;other&quot;</span>;</div>
<div class="line"><span class="lineno"> 3533</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 3534</span>      hello.agent = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#afd3b126945539b31ec200e98aa57e8d0">user_agent_name</a>;</div>
<div class="line"><span class="lineno"> 3535</span> </div>
<div class="line"><span class="lineno"> 3536</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 3537</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a7a00f9a9487c8604ac53ff47aa7316e8"><div class="ttname"><a href="#a7a00f9a9487c8604ac53ff47aa7316e8">sysio::connection::is_blocks_only_connection</a></div><div class="ttdeci">bool is_blocks_only_connection() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00595">net_plugin.cpp:595</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a9e344302f09cb876c9549cb2aa368f2e"><div class="ttname"><a href="#a9e344302f09cb876c9549cb2aa368f2e">sysio::connection::is_transactions_only_connection</a></div><div class="ttdeci">bool is_transactions_only_connection() const</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00594">net_plugin.cpp:594</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a2c539f4bc5f466e6cee42568d4e4be6e"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a2c539f4bc5f466e6cee42568d4e4be6e">sysio::net_plugin_impl::sign_compact</a></div><div class="ttdeci">chain::signature_type sign_compact(const chain::public_key_type &amp;signer, const fc::sha256 &amp;digest) const</div><div class="ttdoc">Returns a signature of the digest using the corresponding private key of the signer.</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l03493">net_plugin.cpp:3493</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_af27bfe4be27bb557952ce5e1f1b409f4"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#af27bfe4be27bb557952ce5e1f1b409f4">sysio::net_plugin_impl::get_authentication_key</a></div><div class="ttdeci">chain::public_key_type get_authentication_key() const</div><div class="ttdoc">Retrieve public key used to authenticate with peers.</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l03484">net_plugin.cpp:3484</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_afd3b126945539b31ec200e98aa57e8d0"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#afd3b126945539b31ec200e98aa57e8d0">sysio::net_plugin_impl::user_agent_name</a></div><div class="ttdeci">string user_agent_name</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00262">net_plugin.cpp:262</a></div></div>
<div class="ttc" id="anamespacesysio_html_ab1d8e7b4e61cb77ed927e0a76decaabb"><div class="ttname"><a href="namespacesysio.html#ab1d8e7b4e61cb77ed927e0a76decaabb">sysio::net_version_base</a></div><div class="ttdeci">constexpr uint16_t net_version_base</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00413">net_plugin.cpp:413</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_aec8d94a6b6483822c52f08624e8dc9e7_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_aec8d94a6b6483822c52f08624e8dc9e7_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_aec8d94a6b6483822c52f08624e8dc9e7_cgraph" id="aclasssysio_1_1connection_aec8d94a6b6483822c52f08624e8dc9e7_cgraph">
<area shape="rect" title=" " alt="" coords="5,185,146,226"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#af27bfe4be27bb557952ce5e1f1b409f4" title="Retrieve public key used to authenticate with peers." alt="" coords="201,5,364,46"/>
<area shape="poly" title=" " alt="" coords="86,183,128,122,158,87,192,57,200,52,203,56,195,61,162,91,132,125,91,186"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#ab7de62c1cba9cb5a30060a687ef913e2" title=" " alt="" coords="207,71,358,111"/>
<area shape="poly" title=" " alt="" coords="100,183,142,152,192,121,203,116,205,120,195,125,145,156,104,187"/>
<area shape="rect" href="classfc_1_1sha256.html#a474784de7d6213b855abd7e952df5e36" title=" " alt="" coords="223,136,342,161"/>
<area shape="poly" title=" " alt="" coords="145,184,218,163,219,168,147,189"/>
<area shape="rect" href="classsysio_1_1connection.html#a7a00f9a9487c8604ac53ff47aa7316e8" title=" " alt="" coords="194,185,371,226"/>
<area shape="poly" title=" " alt="" coords="146,203,178,203,178,208,146,208"/>
<area shape="rect" href="classsysio_1_1connection.html#a9e344302f09cb876c9549cb2aa368f2e" title=" " alt="" coords="212,250,352,306"/>
<area shape="poly" title=" " alt="" coords="137,224,198,246,197,251,135,229"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#a2c539f4bc5f466e6cee42568d4e4be6e" title="Returns a signature of the digest using the corresponding private key of the signer." alt="" coords="207,329,358,370"/>
<area shape="poly" title=" " alt="" coords="96,225,138,270,166,294,195,315,203,320,200,324,192,320,162,298,135,274,92,228"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="230,406,335,432"/>
<area shape="poly" title=" " alt="" coords="88,225,128,300,159,342,195,380,224,397,221,402,192,384,155,345,124,302,83,228"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4d8b8181e912194cf98a56164671adf8" title=" " alt="" coords="742,125,878,166"/>
<area shape="poly" title=" " alt="" coords="342,145,726,143,726,149,342,151"/>
<area shape="rect" href="classfc_1_1sha256_1_1encoder.html#a4a246dfb33e3eb78ba167446bee92e30" title=" " alt="" coords="426,167,563,207"/>
<area shape="poly" title=" " alt="" coords="343,156,412,169,411,174,342,162"/>
<area shape="rect" href="classfc_1_1sha256.html#ab897537f6c524085b28049be51ed370d" title=" " alt="" coords="926,133,1041,158"/>
<area shape="poly" title=" " alt="" coords="878,143,910,143,910,148,878,148"/>
<area shape="rect" href="namespacefc.html#a150ca4cd9c0318ca45dc0dc7df5d58b9" title=" " alt="" coords="618,232,694,257"/>
<area shape="poly" title=" " alt="" coords="349,326,369,315,383,303,392,291,402,278,418,267,465,250,514,241,561,238,603,238,603,243,561,243,515,246,466,256,420,272,405,282,396,294,387,307,373,320,352,331"/>
<area shape="rect" href="classappbase_1_1plugin.html#a857288c2424b57a898c0579d25dacbb0" title=" " alt="" coords="426,281,564,322"/>
<area shape="poly" title=" " alt="" coords="357,330,410,318,411,323,358,335"/>
<area shape="rect" href="classsysio_1_1producer__plugin.html#a58db07a465c2622e2135b2f2c69d678e" title=" " alt="" coords="419,347,570,387"/>
<area shape="poly" title=" " alt="" coords="358,353,404,357,403,362,357,358"/>
<area shape="poly" title=" " alt="" coords="676,229,763,172,766,177,679,233"/>
<area shape="rect" href="namespacefc_1_1raw.html#a3a18d8161aa5b4f4f02b6fcfdff5e5d1" title=" " alt="" coords="761,232,858,257"/>
<area shape="poly" title=" " alt="" coords="694,242,746,242,746,247,694,247"/>
<area shape="poly" title=" " alt="" coords="783,232,778,223,781,213,792,207,810,205,829,207,839,214,836,219,827,212,810,210,794,212,786,217,784,222,788,230"/>
<area shape="poly" title=" " alt="" coords="548,344,569,332,605,300,634,267,638,271,609,304,572,336,551,348"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="455,436,534,461"/>
<area shape="poly" title=" " alt="" coords="336,424,440,438,439,443,335,429"/>
<area shape="poly" title=" " alt="" coords="467,436,462,427,465,417,476,411,495,409,514,411,525,418,522,423,513,416,495,414,478,416,469,421,467,426,472,434"/>
</map>
</div>

</div>
</div>
<a id="a27f41e41ebd6b4570bc19a31b4bb1fef" name="a27f41e41ebd6b4570bc19a31b4bb1fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f41e41ebd6b4570bc19a31b4bb1fef">&#9670;&#160;</a></span>process_next_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::process_next_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>message_length</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the next message from the pending_message_buffer. message_length is the already determined length of the data part of the message that will handle the message. Returns true is successful. Returns false if an error was encountered unpacking or processing the message. </p>

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02560">2560</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2560</span>                                                                  {</div>
<div class="line"><span class="lineno"> 2561</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2562</span>         <a class="code hl_variable" href="#a718e2bd1f4e3bcd87979a578e1d49d7a">latest_msg_time</a> = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 2563</span> </div>
<div class="line"><span class="lineno"> 2564</span>         <span class="comment">// if next message is a block we already have, exit early</span></div>
<div class="line"><span class="lineno"> 2565</span>         <span class="keyword">auto</span> peek_ds = <a class="code hl_variable" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a>.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7dced4b9540dafc28255169be209967f">create_peek_datastream</a>();</div>
<div class="line"><span class="lineno"> 2566</span>         <a class="code hl_struct" href="structfc_1_1unsigned__int.html">unsigned_int</a> which{};</div>
<div class="line"><span class="lineno"> 2567</span>         <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( peek_ds, which );</div>
<div class="line"><span class="lineno"> 2568</span>         <span class="keywordflow">if</span>( which == <a class="code hl_variable" href="namespacesysio.html#a5de954c7c7410bb1d52eaee6c5d7013a">signed_block_which</a> ) {</div>
<div class="line"><span class="lineno"> 2569</span>            <a class="code hl_variable" href="#a1bf388b9e64d25616cefd8d6b1175fc7">latest_blk_time</a> = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 2570</span>            <span class="keywordflow">return</span> process_next_block_message( message_length );</div>
<div class="line"><span class="lineno"> 2571</span> </div>
<div class="line"><span class="lineno"> 2572</span>         } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( which == <a class="code hl_variable" href="namespacesysio.html#a922327bb5b4eede65613bb5dc4b1eb60">packed_transaction_which</a> ) {</div>
<div class="line"><span class="lineno"> 2573</span>            <span class="keywordflow">return</span> process_next_trx_message( message_length );</div>
<div class="line"><span class="lineno"> 2574</span> </div>
<div class="line"><span class="lineno"> 2575</span>         } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2576</span>            <span class="keyword">auto</span> <a class="code hl_function" href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">ds</a> = <a class="code hl_variable" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a>.<a class="code hl_function" href="classfc_1_1message__buffer.html#a0da3494bf6948e935438176447880462">create_datastream</a>();</div>
<div class="line"><span class="lineno"> 2577</span>            <a class="code hl_typedef" href="namespacesysio.html#a783ade47a6f13a71a9b75cd2c68d9965">net_message</a> msg;</div>
<div class="line"><span class="lineno"> 2578</span>            <a class="code hl_function" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a>( ds, msg );</div>
<div class="line"><span class="lineno"> 2579</span>            msg_handler m( shared_from_this() );</div>
<div class="line"><span class="lineno"> 2580</span>            std::visit( m, msg );</div>
<div class="line"><span class="lineno"> 2581</span>         }</div>
<div class="line"><span class="lineno"> 2582</span> </div>
<div class="line"><span class="lineno"> 2583</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a>&amp; e ) {</div>
<div class="line"><span class="lineno"> 2584</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Exception in handling message: ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, e.<a class="code hl_function" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">to_detail_string</a>()) );</div>
<div class="line"><span class="lineno"> 2585</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno"> 2586</span>         <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2587</span>      }</div>
<div class="line"><span class="lineno"> 2588</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2589</span>   }</div>
<div class="ttc" id="aclassfc_1_1exception_html_a7611ea8fbe25dde56649b685c2298a37"><div class="ttname"><a href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37">fc::exception::to_detail_string</a></div><div class="ttdeci">std::string to_detail_string(log_level ll=log_level::all) const</div><div class="ttdef"><b>Definition</b> <a href="exception_8cpp_source.html#l00158">exception.cpp:158</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a0da3494bf6948e935438176447880462"><div class="ttname"><a href="classfc_1_1message__buffer.html#a0da3494bf6948e935438176447880462">fc::message_buffer::create_datastream</a></div><div class="ttdeci">mb_datastream&lt; buffer_len &gt; create_datastream()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00313">message_buffer.hpp:313</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a7dced4b9540dafc28255169be209967f"><div class="ttname"><a href="classfc_1_1message__buffer.html#a7dced4b9540dafc28255169be209967f">fc::message_buffer::create_peek_datastream</a></div><div class="ttdeci">mb_peek_datastream&lt; buffer_len &gt; create_peek_datastream()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00348">message_buffer.hpp:348</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a4b2aef26182d21706896022467868f7c"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a4b2aef26182d21706896022467868f7c">Xbyak::util::ds</a></div><div class="ttdeci">static const Segment ds(Segment::ds)</div></div>
<div class="ttc" id="anamespacefc_1_1raw_html_a0b442d98ceb22dd5a6ae84745e43ffab"><div class="ttname"><a href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab">fc::raw::unpack</a></div><div class="ttdeci">void unpack(Stream &amp;s, std::deque&lt; T &gt; &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="raw_8hpp_source.html#l00540">raw.hpp:540</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5de954c7c7410bb1d52eaee6c5d7013a"><div class="ttname"><a href="namespacesysio.html#a5de954c7c7410bb1d52eaee6c5d7013a">sysio::signed_block_which</a></div><div class="ttdeci">constexpr uint32_t signed_block_which</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00215">net_plugin.cpp:215</a></div></div>
<div class="ttc" id="anamespacesysio_html_a783ade47a6f13a71a9b75cd2c68d9965"><div class="ttname"><a href="namespacesysio.html#a783ade47a6f13a71a9b75cd2c68d9965">sysio::net_message</a></div><div class="ttdeci">std::variant&lt; handshake_message, chain_size_message, go_away_message, time_message, notice_message, request_message, sync_request_message, signed_block, packed_transaction &gt; net_message</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00138">protocol.hpp:138</a></div></div>
<div class="ttc" id="anamespacesysio_html_a922327bb5b4eede65613bb5dc4b1eb60"><div class="ttname"><a href="namespacesysio.html#a922327bb5b4eede65613bb5dc4b1eb60">sysio::packed_transaction_which</a></div><div class="ttdeci">constexpr uint32_t packed_transaction_which</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00216">net_plugin.cpp:216</a></div></div>
<div class="ttc" id="astructfc_1_1unsigned__int_html"><div class="ttname"><a href="structfc_1_1unsigned__int.html">fc::unsigned_int</a></div><div class="ttdef"><b>Definition</b> <a href="varint_8hpp_source.html#l00006">varint.hpp:6</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a27f41e41ebd6b4570bc19a31b4bb1fef_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a27f41e41ebd6b4570bc19a31b4bb1fef_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a27f41e41ebd6b4570bc19a31b4bb1fef_cgraph" id="aclasssysio_1_1connection_a27f41e41ebd6b4570bc19a31b4bb1fef_cgraph">
<area shape="rect" title="Process the next message from the pending message buffer." alt="" coords="5,206,165,246"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="233,42,364,82"/>
<area shape="poly" title=" " alt="" coords="100,204,146,150,177,120,211,93,220,88,223,92,214,98,181,124,150,153,104,207"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a0da3494bf6948e935438176447880462" title=" " alt="" coords="230,107,368,148"/>
<area shape="poly" title=" " alt="" coords="123,203,212,158,227,152,229,157,214,163,125,208"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7dced4b9540dafc28255169be209967f" title=" " alt="" coords="213,172,385,213"/>
<area shape="poly" title=" " alt="" coords="165,211,197,206,197,211,165,216"/>
<area shape="rect" href="classsysio_1_1connection.html#aa74b147947e087bc084d72a3d892a06f" title="Read system time and convert to a 64 bit integer." alt="" coords="233,238,364,278"/>
<area shape="poly" title=" " alt="" coords="165,235,218,243,217,249,165,241"/>
<area shape="rect" href="classfc_1_1exception.html#a7611ea8fbe25dde56649b685c2298a37" title=" " alt="" coords="222,303,376,344"/>
<area shape="poly" title=" " alt="" coords="126,245,214,288,229,294,227,299,212,293,124,249"/>
<area shape="rect" href="namespacefc_1_1raw.html#a0b442d98ceb22dd5a6ae84745e43ffab" title=" " alt="" coords="243,392,354,418"/>
<area shape="poly" title=" " alt="" coords="106,245,153,297,214,353,258,382,256,386,211,358,149,301,102,249"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="433,105,573,131"/>
<area shape="poly" title=" " alt="" coords="364,300,383,288,418,254,447,215,488,144,492,146,452,218,422,258,387,292,367,305"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="437,311,569,336"/>
<area shape="poly" title=" " alt="" coords="376,321,422,321,422,326,376,326"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="442,441,564,467"/>
<area shape="poly" title=" " alt="" coords="364,342,386,353,438,390,480,428,477,432,435,395,384,358,362,347"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="626,5,757,31"/>
<area shape="poly" title=" " alt="" coords="520,103,564,72,620,40,631,35,634,40,623,45,567,77,523,107"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="623,55,760,80"/>
<area shape="poly" title=" " alt="" coords="553,102,626,82,627,87,554,107"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="827,80,964,106"/>
<area shape="poly" title=" " alt="" coords="574,111,811,96,812,101,574,116"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="646,156,737,182"/>
<area shape="poly" title=" " alt="" coords="554,129,632,150,630,155,553,134"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="815,5,977,31"/>
<area shape="poly" title=" " alt="" coords="758,16,799,16,799,21,758,21"/>
<area shape="poly" title=" " alt="" coords="760,73,812,80,811,85,760,79"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="621,206,762,246"/>
<area shape="poly" title=" " alt="" coords="527,308,620,257,632,251,634,256,623,262,529,312"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="621,271,762,312"/>
<area shape="poly" title=" " alt="" coords="570,310,605,303,606,309,570,315"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="625,336,758,377"/>
<area shape="poly" title=" " alt="" coords="570,333,610,340,609,345,569,338"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="625,402,758,442"/>
<area shape="poly" title=" " alt="" coords="529,335,623,386,634,392,631,397,620,391,526,339"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="810,213,982,239"/>
<area shape="poly" title=" " alt="" coords="762,224,794,224,794,229,762,229"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="642,491,741,516"/>
<area shape="poly" title=" " alt="" coords="556,465,628,484,627,489,555,470"/>
<area shape="poly" title=" " alt="" coords="660,492,654,482,657,472,670,466,692,464,714,467,726,473,724,478,713,472,691,469,672,471,661,476,659,481,664,489"/>
<area shape="poly" title=" " alt="" coords="265,393,258,383,262,374,276,367,299,365,324,368,337,375,334,380,322,373,299,371,277,373,266,377,263,383,269,390"/>
</map>
</div>

</div>
</div>
<a id="a6f592c3d4516eababd8ecbfac04c4b7e" name="a6f592c3d4516eababd8ecbfac04c4b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f592c3d4516eababd8ecbfac04c4b7e">&#9670;&#160;</a></span>process_signed_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::process_signed_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#aa10ee348c57604b615bc8570f6685102">signed_block_ptr</a></td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesysio_1_1chain.html#ab9b14f4554cc4a0da2c361e9757b1662">block_state_ptr</a></td>          <td class="paramname"><span class="paramname"><em>bsp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l03175">3175</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3175</span>                                                                                                                 {</div>
<div class="line"><span class="lineno"> 3176</span>      <a class="code hl_class" href="classsysio_1_1chain_1_1controller.html">controller</a>&amp; cc = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae">chain</a>();</div>
<div class="line"><span class="lineno"> 3177</span>      <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> blk_num = msg-&gt;block_num();</div>
<div class="line"><span class="lineno"> 3178</span>      <span class="comment">// use c in this method instead of this to highlight that all methods called on c-&gt; must be thread safe</span></div>
<div class="line"><span class="lineno"> 3179</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c = shared_from_this();</div>
<div class="line"><span class="lineno"> 3180</span> </div>
<div class="line"><span class="lineno"> 3181</span>      <span class="comment">// if we have closed connection then stop processing</span></div>
<div class="line"><span class="lineno"> 3182</span>      <span class="keywordflow">if</span>( !c-&gt;socket_is_open() )</div>
<div class="line"><span class="lineno"> 3183</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3184</span> </div>
<div class="line"><span class="lineno"> 3185</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3186</span>         <span class="keywordflow">if</span>( cc.<a class="code hl_function" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338">fetch_block_by_id</a>(blk_id) ) {</div>
<div class="line"><span class="lineno"> 3187</span>            c-&gt;strand.post( [sync_master = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>.get(),</div>
<div class="line"><span class="lineno"> 3188</span>                             dispatcher = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>.get(), c, blk_id, blk_num]() {</div>
<div class="line"><span class="lineno"> 3189</span>               dispatcher-&gt;add_peer_block( blk_id, c-&gt;connection_id );</div>
<div class="line"><span class="lineno"> 3190</span>               sync_master-&gt;sync_recv_block( c, blk_id, blk_num, false );</div>
<div class="line"><span class="lineno"> 3191</span>            });</div>
<div class="line"><span class="lineno"> 3192</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3193</span>         }</div>
<div class="line"><span class="lineno"> 3194</span>      } <span class="keywordflow">catch</span>(...) {</div>
<div class="line"><span class="lineno"> 3195</span>         <span class="comment">// should this even be caught?</span></div>
<div class="line"><span class="lineno"> 3196</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Caught an unknown exception trying to recall block ID&quot;</span> );</div>
<div class="line"><span class="lineno"> 3197</span>      }</div>
<div class="line"><span class="lineno"> 3198</span> </div>
<div class="line"><span class="lineno"> 3199</span>      <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a> age( <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() - msg-&gt;timestamp);</div>
<div class="line"><span class="lineno"> 3200</span>      <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;received signed_block: #${n} block age in secs = ${age}, connection ${cid}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3201</span>               (<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;age&quot;</span>, age.to_seconds())(<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id) );</div>
<div class="line"><span class="lineno"> 3202</span> </div>
<div class="line"><span class="lineno"> 3203</span>      <a class="code hl_enumeration" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a> reason = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa834d6ee2ad87c888db23aa35bfe5a7eb">fatal_other</a>;</div>
<div class="line"><span class="lineno"> 3204</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 3205</span>         <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a641d5b24273b4f10e32306890043ddb4">accepted</a> = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a932907eaa912c9420b96ea45103b66b8">chain_plug</a>-&gt;<a class="code hl_function" href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5">accept_block</a>(msg, blk_id, bsp);</div>
<div class="line"><span class="lineno"> 3206</span>         my_impl-&gt;<a class="code hl_function" href="classsysio_1_1net__plugin__impl.html#a00b5cfe0a24a0f3e67aab8a3d5952f7d">update_chain_info</a>();</div>
<div class="line"><span class="lineno"> 3207</span>         <span class="keywordflow">if</span>( !accepted ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 3208</span>         reason = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>;</div>
<div class="line"><span class="lineno"> 3209</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> unlinkable_block_exception &amp;ex) {</div>
<div class="line"><span class="lineno"> 3210</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;unlinkable_block_exception connection ${cid}: #${n} ${id}...: ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3211</span>                 (<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id)(<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16))(<span class="stringliteral">&quot;m&quot;</span>,ex.to_string()));</div>
<div class="line"><span class="lineno"> 3212</span>         reason = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa79e3384c490218a3f7bccf54a0448735">unlinkable</a>;</div>
<div class="line"><span class="lineno"> 3213</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_variable" href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">block_validate_exception</a> &amp;ex ) {</div>
<div class="line"><span class="lineno"> 3214</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;block_validate_exception connection ${cid}: #${n} ${id}...: ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3215</span>                 (<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id)(<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16))(<span class="stringliteral">&quot;m&quot;</span>,ex.to_string()));</div>
<div class="line"><span class="lineno"> 3216</span>         reason = <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673faf33f5d368dfd5563446edd1687b908bb">validation</a>;</div>
<div class="line"><span class="lineno"> 3217</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> assert_exception &amp;ex ) {</div>
<div class="line"><span class="lineno"> 3218</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;block assert_exception connection ${cid}: #${n} ${id}...: ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3219</span>                 (<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id)(<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16))(<span class="stringliteral">&quot;m&quot;</span>,ex.to_string()));</div>
<div class="line"><span class="lineno"> 3220</span>      } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a> &amp;ex ) {</div>
<div class="line"><span class="lineno"> 3221</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;bad block exception connection ${cid}: #${n} ${id}...: ${m}&quot;</span>,</div>
<div class="line"><span class="lineno"> 3222</span>                 (<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id)(<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16))(<span class="stringliteral">&quot;m&quot;</span>,ex.<a class="code hl_function" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8">to_string</a>()));</div>
<div class="line"><span class="lineno"> 3223</span>      } <span class="keywordflow">catch</span>( ... ) {</div>
<div class="line"><span class="lineno"> 3224</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>(<a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;bad block connection ${cid}: #${n} ${id}...: unknown exception&quot;</span>,</div>
<div class="line"><span class="lineno"> 3225</span>                 (<span class="stringliteral">&quot;cid&quot;</span>, c-&gt;connection_id)(<span class="stringliteral">&quot;n&quot;</span>, blk_num)(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16)));</div>
<div class="line"><span class="lineno"> 3226</span>      }</div>
<div class="line"><span class="lineno"> 3227</span> </div>
<div class="line"><span class="lineno"> 3228</span>      <span class="keywordflow">if</span>( reason == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a> ) {</div>
<div class="line"><span class="lineno"> 3229</span>         boost::asio::post( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor(), [dispatcher = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>.get(), cid=c-&gt;connection_id, blk_id, msg]() {</div>
<div class="line"><span class="lineno"> 3230</span>            fc_dlog( logger, <span class="stringliteral">&quot;accepted signed_block : #${n} ${id}...&quot;</span>, (<span class="stringliteral">&quot;n&quot;</span>, msg-&gt;block_num())(<span class="stringliteral">&quot;id&quot;</span>, blk_id.str().substr(8,16)) );</div>
<div class="line"><span class="lineno"> 3231</span>            dispatcher-&gt;add_peer_block( blk_id, cid );</div>
<div class="line"><span class="lineno"> 3232</span>         });</div>
<div class="line"><span class="lineno"> 3233</span>         c-&gt;strand.post( [sync_master = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>.get(), dispatcher = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>.get(), c, blk_id, blk_num]() {</div>
<div class="line"><span class="lineno"> 3234</span>            dispatcher-&gt;recv_block( c, blk_id, blk_num );</div>
<div class="line"><span class="lineno"> 3235</span>            sync_master-&gt;sync_recv_block( c, blk_id, blk_num, true );</div>
<div class="line"><span class="lineno"> 3236</span>         });</div>
<div class="line"><span class="lineno"> 3237</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 3238</span>         c-&gt;strand.post( [sync_master = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>.get(), dispatcher = my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a5b302f8ed2594b44aa126082cd07d941">dispatcher</a>.get(), c, blk_id, blk_num]() {</div>
<div class="line"><span class="lineno"> 3239</span>            sync_master-&gt;rejected_block( c, blk_num );</div>
<div class="line"><span class="lineno"> 3240</span>            dispatcher-&gt;rejected_block( blk_id );</div>
<div class="line"><span class="lineno"> 3241</span>         });</div>
<div class="line"><span class="lineno"> 3242</span>      }</div>
<div class="line"><span class="lineno"> 3243</span>   }</div>
<div class="ttc" id="aclassfc_1_1microseconds_html"><div class="ttname"><a href="classfc_1_1microseconds.html">fc::microseconds</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00011">time.hpp:11</a></div></div>
<div class="ttc" id="aclassfc_1_1time__point_html_aa164ff1268a16d4b32afcff181f6100e"><div class="ttname"><a href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a></div><div class="ttdeci">static time_point now()</div><div class="ttdef"><b>Definition</b> <a href="time_8cpp_source.html#l00014">time.cpp:14</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain__plugin_html_a0c40ec7186936d460abe2bd8b071c6a5"><div class="ttname"><a href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5">sysio::chain_plugin::accept_block</a></div><div class="ttdeci">bool accept_block(const chain::signed_block_ptr &amp;block, const chain::block_id_type &amp;id, const chain::block_state_ptr &amp;bsp)</div><div class="ttdef"><b>Definition</b> <a href="chain__plugin_8cpp_source.html#l01334">chain_plugin.cpp:1334</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a00b5cfe0a24a0f3e67aab8a3d5952f7d"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a00b5cfe0a24a0f3e67aab8a3d5952f7d">sysio::net_plugin_impl::update_chain_info</a></div><div class="ttdeci">void update_chain_info()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l02698">net_plugin.cpp:2698</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a910243f6a0327fb2d4fc80f7e89f103e"><div class="ttname"><a href="namespacesysio_1_1chain.html#a910243f6a0327fb2d4fc80f7e89f103e">sysio::chain::block_validate_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found block_validate_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00212">exceptions.hpp:212</a></div></div>
<div class="ttc" id="anamespacesysio_html_a5c18cd9d34b8c5d3af8e2de75577673fa79e3384c490218a3f7bccf54a0448735"><div class="ttname"><a href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa79e3384c490218a3f7bccf54a0448735">sysio::unlinkable</a></div><div class="ttdeci">@ unlinkable</div><div class="ttdoc">the peer sent a block we couldn't use</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00053">protocol.hpp:53</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a641d5b24273b4f10e32306890043ddb4"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a641d5b24273b4f10e32306890043ddb4">websocketpp::http::status_code::accepted</a></div><div class="ttdeci">@ accepted</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00130">constants.hpp:130</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a6f592c3d4516eababd8ecbfac04c4b7e_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a6f592c3d4516eababd8ecbfac04c4b7e_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a6f592c3d4516eababd8ecbfac04c4b7e_cgraph" id="aclasssysio_1_1connection_a6f592c3d4516eababd8ecbfac04c4b7e_cgraph">
<area shape="rect" title=" " alt="" coords="5,332,156,373"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a0c40ec7186936d460abe2bd8b071c6a5" title=" " alt="" coords="214,112,346,153"/>
<area shape="poly" title=" " alt="" coords="88,330,130,251,163,205,202,164,208,159,211,163,205,168,167,208,135,254,93,333"/>
<area shape="rect" href="classsysio_1_1chain__plugin.html#a14a5e77b31ecf267c8062267d03440ae" title=" " alt="" coords="433,405,565,446"/>
<area shape="poly" title=" " alt="" coords="156,366,204,375,418,411,417,416,203,380,155,371"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a7d6e058e892e067510650db853794338" title=" " alt="" coords="204,177,356,218"/>
<area shape="poly" title=" " alt="" coords="96,330,141,280,170,252,202,227,208,224,211,228,205,232,174,256,145,284,100,333"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="214,242,346,268"/>
<area shape="poly" title=" " alt="" coords="123,329,237,273,239,277,125,334"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="227,340,332,365"/>
<area shape="poly" title=" " alt="" coords="156,350,211,350,211,355,156,355"/>
<area shape="rect" href="classfc_1_1microseconds.html#a12ee4fe7bac52aeb600d8ea39291e765" title=" " alt="" coords="210,440,350,481"/>
<area shape="poly" title=" " alt="" coords="119,371,205,419,225,430,223,435,202,424,116,375"/>
<area shape="rect" href="classsysio_1_1net__plugin__impl.html#a00b5cfe0a24a0f3e67aab8a3d5952f7d" title=" " alt="" coords="205,583,355,623"/>
<area shape="poly" title=" " alt="" coords="100,372,255,569,251,572,96,375"/>
<area shape="rect" href="structsysio_1_1chain_1_1block__header.html#a39d57e33ef8d3f6ba59b4c458f0ae375" title=" " alt="" coords="424,5,574,46"/>
<area shape="poly" title=" " alt="" coords="338,175,354,162,365,149,371,137,377,111,383,84,390,71,402,57,409,51,412,55,406,61,395,74,388,86,382,112,376,138,369,152,358,166,341,179"/>
<area shape="rect" href="namespacefc.html#afb668c55fd6ee73e1fcd67e77d8f6009" title=" " alt="" coords="650,13,807,38"/>
<area shape="poly" title=" " alt="" coords="575,23,635,23,635,28,575,28"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="429,136,569,177"/>
<area shape="poly" title=" " alt="" coords="328,239,355,227,378,208,403,187,415,181,417,186,405,192,382,212,357,232,330,244"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="429,201,569,242"/>
<area shape="poly" title=" " alt="" coords="346,242,413,232,414,237,347,248"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="432,267,566,307"/>
<area shape="poly" title=" " alt="" coords="347,262,417,272,417,278,346,267"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="432,71,566,111"/>
<area shape="poly" title=" " alt="" coords="336,239,354,228,365,215,372,203,377,177,383,150,390,136,402,122,417,111,420,116,406,126,395,139,388,152,383,178,377,204,370,218,358,232,339,244"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="642,144,815,169"/>
<area shape="poly" title=" " alt="" coords="570,154,627,154,627,159,570,159"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="460,356,539,381"/>
<area shape="poly" title=" " alt="" coords="333,354,444,362,443,367,333,359"/>
<area shape="poly" title=" " alt="" coords="463,357,456,347,460,337,475,331,499,329,526,332,540,338,537,343,525,337,499,334,476,336,463,341,461,346,467,353"/>
<area shape="poly" title=" " alt="" coords="292,581,336,520,367,486,402,457,417,448,420,453,406,461,371,490,340,523,296,584"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a19f994be76ccda4705a54ac7af6bfe29" title=" " alt="" coords="420,535,579,591"/>
<area shape="poly" title=" " alt="" coords="355,587,404,578,405,583,356,592"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a5d51f89938499d2cf479a6f16d42848d" title=" " alt="" coords="420,615,579,671"/>
<area shape="poly" title=" " alt="" coords="356,614,405,623,404,628,355,619"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a37d0a44faef74cf0f96127982c1ce124" title=" " alt="" coords="423,695,575,735"/>
<area shape="poly" title=" " alt="" coords="310,622,354,651,405,681,417,686,415,691,403,685,351,656,307,626"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a33704b4936bb9bbd2ea6b0874ca521b4" title=" " alt="" coords="423,760,575,801"/>
<area shape="poly" title=" " alt="" coords="296,622,340,683,371,716,406,745,414,750,411,755,402,749,367,720,336,686,292,625"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a992401ccd9d3ecf5484c7d97bea18f51" title=" " alt="" coords="412,825,587,866"/>
<area shape="poly" title=" " alt="" coords="290,622,305,662,330,712,363,765,406,810,412,815,409,819,402,814,359,768,325,715,301,664,285,624"/>
<area shape="rect" href="classsysio_1_1chain_1_1controller.html#a53495de416021a4e56e889e771b25a52" title=" " alt="" coords="404,471,594,511"/>
<area shape="poly" title=" " alt="" coords="307,580,351,550,403,521,415,515,417,520,405,525,354,555,310,584"/>
</map>
</div>

</div>
</div>
<a id="ae85a6909e1a531d6c27c0d22f12e61c9" name="ae85a6909e1a531d6c27c0d22f12e61c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae85a6909e1a531d6c27c0d22f12e61c9">&#9670;&#160;</a></span>queue_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::queue_write </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classfc_1_1vector.html">vector</a>&lt; char &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>buff</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(boost::system::error_code, std::size_t)&gt;</td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>to_sync_queue</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01200">1200</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1202</span>                                                    {</div>
<div class="line"><span class="lineno"> 1203</span>      <span class="keywordflow">if</span>( !<a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a48f2885d0e38c6e2b7c9037b449a2f3a">add_write_queue</a>( buff, callback, to_sync_queue )) {</div>
<div class="line"><span class="lineno"> 1204</span>         <a class="code hl_define" href="net__plugin_8cpp.html#af53787454493a30650fdab0193037465">peer_wlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;write_queue full ${s} bytes, giving up on connection&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe">write_queue_size</a>()) );</div>
<div class="line"><span class="lineno"> 1205</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno"> 1206</span>         <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1207</span>      }</div>
<div class="line"><span class="lineno"> 1208</span>      <a class="code hl_function" href="#a4f6ca81d49c22eef80854175bff8ed42">do_queue_write</a>();</div>
<div class="line"><span class="lineno"> 1209</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a4f6ca81d49c22eef80854175bff8ed42"><div class="ttname"><a href="#a4f6ca81d49c22eef80854175bff8ed42">sysio::connection::do_queue_write</a></div><div class="ttdeci">void do_queue_write()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01212">net_plugin.cpp:1212</a></div></div>
<div class="ttc" id="aclasssysio_1_1queued__buffer_html_a48f2885d0e38c6e2b7c9037b449a2f3a"><div class="ttname"><a href="classsysio_1_1queued__buffer.html#a48f2885d0e38c6e2b7c9037b449a2f3a">sysio::queued_buffer::add_write_queue</a></div><div class="ttdeci">bool add_write_queue(const std::shared_ptr&lt; vector&lt; char &gt; &gt; &amp;buff, std::function&lt; void(boost::system::error_code, std::size_t)&gt; callback, bool to_sync_queue)</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00481">net_plugin.cpp:481</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ae85a6909e1a531d6c27c0d22f12e61c9_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ae85a6909e1a531d6c27c0d22f12e61c9_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ae85a6909e1a531d6c27c0d22f12e61c9_cgraph" id="aclasssysio_1_1connection_ae85a6909e1a531d6c27c0d22f12e61c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,222,137,262"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a48f2885d0e38c6e2b7c9037b449a2f3a" title=" " alt="" coords="185,123,327,164"/>
<area shape="poly" title=" " alt="" coords="105,219,183,174,194,169,197,173,186,179,108,224"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="190,188,322,229"/>
<area shape="poly" title=" " alt="" coords="137,228,175,221,176,226,138,233"/>
<area shape="rect" href="classsysio_1_1connection.html#a4f6ca81d49c22eef80854175bff8ed42" title=" " alt="" coords="190,254,322,294"/>
<area shape="poly" title=" " alt="" coords="138,251,176,258,175,263,137,256"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe" title=" " alt="" coords="185,319,327,360"/>
<area shape="poly" title=" " alt="" coords="109,261,186,304,197,309,195,314,183,308,106,265"/>
<area shape="rect" href="hello__driver_8cpp.html#a1204fa6444ae7174767e202a6d39b815" title=" " alt="" coords="426,115,479,140"/>
<area shape="poly" title=" " alt="" coords="309,251,325,239,341,217,348,195,355,173,373,151,391,140,409,132,411,137,393,144,377,155,360,176,353,197,346,219,329,243,312,255"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a382e1e4ae7f849e775c04e051400a5dc" title=" " alt="" coords="381,188,523,229"/>
<area shape="poly" title=" " alt="" coords="318,251,374,232,375,237,320,256"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a17b570f0d6ec495cd2823c84110cab79" title=" " alt="" coords="381,254,523,294"/>
<area shape="poly" title=" " alt="" coords="322,271,365,271,365,277,322,277"/>
<area shape="rect" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8" title=" " alt="" coords="375,319,529,344"/>
<area shape="poly" title=" " alt="" coords="322,291,392,311,390,316,321,296"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="386,368,518,394"/>
<area shape="poly" title=" " alt="" coords="308,293,329,305,343,319,353,331,362,343,376,355,384,359,382,363,374,359,358,347,348,334,339,322,325,310,305,297"/>
<area shape="poly" title=" " alt="" coords="415,188,413,178,419,170,432,164,452,162,473,164,486,170,484,175,472,169,452,167,434,169,423,174,418,180,420,187"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="577,80,718,106"/>
<area shape="poly" title=" " alt="" coords="509,316,528,304,568,261,599,210,621,161,636,120,641,121,626,163,603,213,572,264,531,308,511,320"/>
<area shape="rect" href="namespacefc.html#acd5129981ae93fce3154d3fed6f6acbc" title=" " alt="" coords="589,319,706,344"/>
<area shape="poly" title=" " alt="" coords="530,329,574,329,574,334,530,334"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="581,604,714,630"/>
<area shape="poly" title=" " alt="" coords="515,343,531,353,556,380,578,410,611,475,632,538,644,588,639,589,627,540,606,477,573,413,552,383,528,357,512,347"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="783,129,914,155"/>
<area shape="poly" title=" " alt="" coords="704,104,779,122,777,128,702,109"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="780,80,916,106"/>
<area shape="poly" title=" " alt="" coords="718,90,765,90,765,95,718,95"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="1004,31,1141,56"/>
<area shape="poly" title=" " alt="" coords="662,77,705,44,734,28,765,16,830,4,897,5,960,12,1013,24,1012,29,959,18,897,10,831,10,766,21,736,33,708,49,665,82"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="803,31,894,56"/>
<area shape="poly" title=" " alt="" coords="702,77,787,56,789,61,704,82"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="991,129,1153,155"/>
<area shape="poly" title=" " alt="" coords="914,139,976,139,976,145,914,145"/>
<area shape="poly" title=" " alt="" coords="910,77,995,58,996,63,911,82"/>
<area shape="rect" href="namespacefc.html#a578c57f57002a845da7e91ee8bf4287a" title=" " alt="" coords="788,293,908,319"/>
<area shape="poly" title=" " alt="" coords="706,321,772,313,773,318,706,327"/>
<area shape="rect" href="classfc_1_1variant__object.html#a804706455398e249f6272b3ff19cef5d" title=" " alt="" coords="773,343,924,368"/>
<area shape="poly" title=" " alt="" coords="706,336,758,342,757,347,706,341"/>
<area shape="rect" href="classfc_1_1variant__object.html#acfef67913fd3c24ea8017b3a5ad49144" title=" " alt="" coords="788,416,909,457"/>
<area shape="poly" title=" " alt="" coords="675,342,796,407,793,411,673,347"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="766,481,931,507"/>
<area shape="poly" title=" " alt="" coords="659,343,700,402,731,437,767,467,777,472,774,477,764,471,727,441,696,406,654,346"/>
<area shape="rect" href="classfc_1_1variant__object.html#a0e523ff3ad212b0582ad2ac8a07773ae" title=" " alt="" coords="788,179,909,220"/>
<area shape="poly" title=" " alt="" coords="660,316,704,274,764,229,772,225,775,229,767,234,707,279,663,320"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="787,244,910,270"/>
<area shape="poly" title=" " alt="" coords="676,315,765,278,783,272,785,277,767,283,678,320"/>
<area shape="rect" href="namespacefc.html#aee7bbe89bfe8d6273f5212938cc1d458" title=" " alt="" coords="1012,343,1133,368"/>
<area shape="poly" title=" " alt="" coords="910,317,997,336,996,341,908,322"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#ad8856ea517c970ed0584a251c3fdc94f" title=" " alt="" coords="1051,293,1093,319"/>
<area shape="poly" title=" " alt="" coords="909,303,1036,303,1036,309,909,309"/>
<area shape="rect" href="namespacefc.html#a47ce6fdd4f18f7f06601e820866d54ec" title=" " alt="" coords="1262,343,1375,368"/>
<area shape="poly" title=" " alt="" coords="1133,353,1247,353,1247,358,1133,358"/>
<area shape="rect" href="namespacefc.html#afdef7bae8756a2c4ba14524f5913d485" title=" " alt="" coords="1246,392,1391,418"/>
<area shape="poly" title=" " alt="" coords="1134,365,1237,386,1236,391,1133,370"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="1259,293,1378,319"/>
<area shape="poly" title=" " alt="" coords="1133,341,1244,318,1245,323,1134,346"/>
<area shape="rect" href="namespacefc.html#afdd13a1463953f18fde2fa891cb5231e" title=" " alt="" coords="1472,368,1577,394"/>
<area shape="poly" title=" " alt="" coords="1376,360,1456,370,1456,375,1375,365"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#abe95547575fcc81911e381df03f8ebfe" title=" " alt="" coords="1625,368,1803,394"/>
<area shape="poly" title=" " alt="" coords="1577,378,1609,378,1609,383,1577,383"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a6e5df73716136aec55e8fcf3309038b6" title="get_sequence_x functions decode utf&#45;8 sequences of the length x" alt="" coords="1870,295,1990,336"/>
<area shape="poly" title=" " alt="" coords="1758,365,1855,335,1856,340,1760,370"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a9d641b9546be985f9f0fd4955ac42a24" title=" " alt="" coords="1870,360,1990,401"/>
<area shape="poly" title=" " alt="" coords="1803,378,1855,378,1855,383,1803,383"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ac1809a1fb3fa6983d64a0d3a39646008" title=" " alt="" coords="1870,426,1990,466"/>
<area shape="poly" title=" " alt="" coords="1760,392,1856,421,1855,426,1758,397"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ad1958e7c6746ba6b1fbb0d81b88b346c" title=" " alt="" coords="1870,164,1990,205"/>
<area shape="poly" title=" " alt="" coords="1721,366,1770,296,1807,254,1850,216,1857,211,1860,215,1853,220,1811,258,1774,300,1726,369"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a97b553137aaeda6e8ca6f8d46f78fd79" title=" " alt="" coords="1867,556,1993,597"/>
<area shape="poly" title=" " alt="" coords="1726,392,1774,462,1811,504,1853,541,1860,546,1857,551,1850,546,1807,508,1770,465,1721,395"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a3160f6f24dff465f64f83cb0e66995c6" title=" " alt="" coords="1860,491,2000,532"/>
<area shape="poly" title=" " alt="" coords="1733,392,1785,432,1853,476,1863,482,1861,486,1850,480,1782,436,1730,396"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adb347cc81d32ebb0fd22d849f7bff5ea" title=" " alt="" coords="1851,230,2009,270"/>
<area shape="poly" title=" " alt="" coords="1730,365,1782,326,1850,281,1861,275,1863,280,1853,286,1785,330,1733,370"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adf6e0469e279b9562aa461b4c3c1e7e4" title=" " alt="" coords="2057,303,2197,328"/>
<area shape="poly" title=" " alt="" coords="1990,313,2041,313,2041,318,1990,318"/>
<area shape="poly" title=" " alt="" coords="1989,358,2071,331,2073,336,1991,364"/>
<area shape="poly" title=" " alt="" coords="1984,423,2007,410,2058,374,2100,337,2103,341,2061,378,2010,415,1986,428"/>
<area shape="poly" title=" " alt="" coords="1986,203,2010,216,2061,253,2103,290,2100,294,2058,257,2007,220,1984,208"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a31a185a6bc8b9bf454191a8a95a93595" title=" " alt="" coords="2071,556,2182,597"/>
<area shape="poly" title=" " alt="" coords="1993,574,2056,574,2056,579,1993,579"/>
<area shape="poly" title=" " alt="" coords="1994,268,2072,295,2070,300,1992,273"/>
<area shape="poly" title=" " alt="" coords="1391,394,1456,386,1457,391,1392,399"/>
<area shape="poly" title=" " alt="" coords="810,416,808,406,815,397,828,392,848,390,870,392,883,398,881,403,869,397,848,395,829,397,818,402,813,408,815,415"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="979,481,1165,507"/>
<area shape="poly" title=" " alt="" coords="931,491,963,491,963,497,931,497"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1006,592,1139,633"/>
<area shape="poly" title=" " alt="" coords="902,505,932,517,987,548,1034,581,1031,585,984,552,930,522,900,510"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1213,481,1424,507"/>
<area shape="poly" title=" " alt="" coords="1166,491,1198,491,1198,497,1166,497"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="1023,244,1121,270"/>
<area shape="poly" title=" " alt="" coords="910,254,1007,254,1007,259,910,259"/>
<area shape="poly" title=" " alt="" coords="1035,245,1028,235,1032,225,1047,219,1072,217,1100,220,1113,227,1111,232,1098,225,1072,223,1048,225,1036,229,1033,235,1039,242"/>
<area shape="poly" title=" " alt="" coords="688,628,766,646,848,653,931,646,990,634,991,640,931,651,848,659,765,651,687,633"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="778,711,918,752"/>
<area shape="poly" title=" " alt="" coords="669,628,767,690,788,702,785,706,764,695,666,632"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="778,531,918,572"/>
<area shape="poly" title=" " alt="" coords="689,601,768,575,770,580,690,606"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="782,596,915,637"/>
<area shape="poly" title=" " alt="" coords="714,614,766,614,766,619,714,619"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="986,719,1158,744"/>
<area shape="poly" title=" " alt="" coords="919,729,970,729,970,734,919,734"/>
</map>
</div>

</div>
</div>
<a id="a080e39968a1bee189ac8ae9beca41a62" name="a080e39968a1bee189ac8ae9beca41a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080e39968a1bee189ac8ae9beca41a62">&#9670;&#160;</a></span>request_sync_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::request_sync_blocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>end</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01504">1504</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1504</span>                                                                    {</div>
<div class="line"><span class="lineno"> 1505</span>      sync_request_message srm = {<a class="code hl_enumvalue" href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">start</a>,end};</div>
<div class="line"><span class="lineno"> 1506</span>      <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>( <a class="code hl_typedef" href="namespacesysio.html#a783ade47a6f13a71a9b75cd2c68d9965">net_message</a>(srm) );</div>
<div class="line"><span class="lineno"> 1507</span>      <a class="code hl_function" href="#a80478330d64f3618011b52a3d46741bf">sync_wait</a>();</div>
<div class="line"><span class="lineno"> 1508</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a80478330d64f3618011b52a3d46741bf"><div class="ttname"><a href="#a80478330d64f3618011b52a3d46741bf">sysio::connection::sync_wait</a></div><div class="ttdeci">void sync_wait()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l01463">net_plugin.cpp:1463</a></div></div>
<div class="ttc" id="anamespace_w_a_s_m_html_a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92"><div class="ttname"><a href="namespace_w_a_s_m.html#a9690a14428419003297ae35f505b5103aea2b2676c28c0db26d39331a336c6b92">WASM::SectionType::start</a></div><div class="ttdeci">@ start</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a11ecb500e5bd8050f97f0c5a585df2ad" name="a11ecb500e5bd8050f97f0c5a585df2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ecb500e5bd8050f97f0c5a585df2ad">&#9670;&#160;</a></span>resolve_and_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::resolve_and_connect </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02287">2287</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2287</span>                                        {</div>
<div class="line"><span class="lineno"> 2288</span>      <span class="keywordflow">switch</span> ( <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> ) {</div>
<div class="line"><span class="lineno"> 2289</span>         <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>:</div>
<div class="line"><span class="lineno"> 2290</span>         <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa756f81d28cc81faaeb96abc5172a3e5c">wrong_version</a>:</div>
<div class="line"><span class="lineno"> 2291</span>         <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a>:</div>
<div class="line"><span class="lineno"> 2292</span>         <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa0e69706b2240fb348d4933bc1fe7e883">duplicate</a>: <span class="comment">// attempt reconnect in case connection has been dropped, should quickly disconnect if duplicate</span></div>
<div class="line"><span class="lineno"> 2293</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2294</span>         <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2295</span>            <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Skipping connect due to go_away reason ${r}&quot;</span>,(<span class="stringliteral">&quot;r&quot;</span>, <a class="code hl_function" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee">reason_str</a>( <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> )));</div>
<div class="line"><span class="lineno"> 2296</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2297</span>      }</div>
<div class="line"><span class="lineno"> 2298</span> </div>
<div class="line"><span class="lineno"> 2299</span>      string::size_type colon = <a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>().find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 2300</span>      <span class="keywordflow">if</span> (colon == std::string::npos || colon == 0) {</div>
<div class="line"><span class="lineno"> 2301</span>         <a class="code hl_define" href="logger_8hpp.html#ae75bea0ceb7483fdf0ed20c22556a907">fc_elog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Invalid peer address. must be \&quot;host:port[:&lt;blk&gt;|&lt;trx&gt;]\&quot;: ${p}&quot;</span>, (<span class="stringliteral">&quot;p&quot;</span>, <a class="code hl_function" href="#aca3e3acacf8047c389e0bda758da197d">peer_address</a>()) );</div>
<div class="line"><span class="lineno"> 2302</span>         <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2303</span>      }</div>
<div class="line"><span class="lineno"> 2304</span> </div>
<div class="line"><span class="lineno"> 2305</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c = shared_from_this();</div>
<div class="line"><span class="lineno"> 2306</span> </div>
<div class="line"><span class="lineno"> 2307</span>      <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a78f01e104b28e119cd1dbc3dff3a9af0">consecutive_immediate_connection_close</a> &gt; <a class="code hl_variable" href="namespacesysio.html#af0f31e2c265e7bd2813fff241cd5cfcb">def_max_consecutive_immediate_connection_close</a> || <a class="code hl_variable" href="#a6b2649c5a44369243b03ddc3a5ee3695">no_retry</a> == <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a> ) {</div>
<div class="line"><span class="lineno"> 2308</span>         <span class="keyword">auto</span> connector_period_us = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a452e65ba1dc3fda4c9bf14def8b59381">connector_period</a> );</div>
<div class="line"><span class="lineno"> 2309</span>         std::lock_guard&lt;std::mutex&gt; g( c-&gt;conn_mtx );</div>
<div class="line"><span class="lineno"> 2310</span>         <span class="keywordflow">if</span>( <a class="code hl_variable" href="#a1b3e4fc9f2aba1b00e501e2419a2ca1c">last_close</a> == <a class="code hl_class" href="classfc_1_1time__point.html">fc::time_point</a>() || <a class="code hl_variable" href="#a1b3e4fc9f2aba1b00e501e2419a2ca1c">last_close</a> &gt; <a class="code hl_function" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e">fc::time_point::now</a>() - <a class="code hl_class" href="classfc_1_1microseconds.html">fc::microseconds</a>( connector_period_us.count() ) ) {</div>
<div class="line"><span class="lineno"> 2311</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// true so doesn&#39;t remove from valid connections</span></div>
<div class="line"><span class="lineno"> 2312</span>         }</div>
<div class="line"><span class="lineno"> 2313</span>      }</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>      <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>.post([c]() {</div>
<div class="line"><span class="lineno"> 2316</span>         string::size_type colon = c-&gt;peer_address().find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 2317</span>         string::size_type colon2 = c-&gt;peer_address().find(<span class="charliteral">&#39;:&#39;</span>, colon + 1);</div>
<div class="line"><span class="lineno"> 2318</span>         <span class="keywordtype">string</span> host = c-&gt;peer_address().substr( 0, colon );</div>
<div class="line"><span class="lineno"> 2319</span>         <span class="keywordtype">string</span> port = c-&gt;peer_address().substr( colon + 1, colon2 == string::npos ? string::npos : colon2 - (colon + 1));</div>
<div class="line"><span class="lineno"> 2320</span>         c-&gt;set_connection_type( c-&gt;peer_address() );</div>
<div class="line"><span class="lineno"> 2321</span> </div>
<div class="line"><span class="lineno"> 2322</span>         <span class="keyword">auto</span> resolver = std::make_shared&lt;tcp::resolver&gt;( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#ad2e4fb9d1d2decf22a234af61f93ab63">thread_pool</a>-&gt;get_executor() );</div>
<div class="line"><span class="lineno"> 2323</span>         <a class="code hl_typedef" href="namespacesysio.html#a6a48b685d0bf226f8d96c5cbbd648945">connection_wptr</a> weak_conn = c;</div>
<div class="line"><span class="lineno"> 2324</span>         <span class="comment">// Note: need to add support for IPv6 too</span></div>
<div class="line"><span class="lineno"> 2325</span>         resolver-&gt;async_resolve( tcp::v4(), host, port, boost::asio::bind_executor( c-&gt;strand,</div>
<div class="line"><span class="lineno"> 2326</span>            [resolver, weak_conn, host, port]( <span class="keyword">const</span> boost::system::error_code&amp; err, tcp::resolver::results_type endpoints ) {</div>
<div class="line"><span class="lineno"> 2327</span>               auto c = weak_conn.lock();</div>
<div class="line"><span class="lineno"> 2328</span>               if( !c ) return;</div>
<div class="line"><span class="lineno"> 2329</span>               if( !err ) {</div>
<div class="line"><span class="lineno"> 2330</span>                  c-&gt;connect( resolver, endpoints );</div>
<div class="line"><span class="lineno"> 2331</span>               } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2332</span>                  fc_elog( logger, <span class="stringliteral">&quot;Unable to resolve ${host}:${port} ${error}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2333</span>                           (<span class="stringliteral">&quot;host&quot;</span>, host)(<span class="stringliteral">&quot;port&quot;</span>, port)( <span class="stringliteral">&quot;error&quot;</span>, err.message() ) );</div>
<div class="line"><span class="lineno"> 2334</span>                  c-&gt;connecting = false;</div>
<div class="line"><span class="lineno"> 2335</span>                  ++c-&gt;consecutive_immediate_connection_close;</div>
<div class="line"><span class="lineno"> 2336</span>               }</div>
<div class="line"><span class="lineno"> 2337</span>         } ) );</div>
<div class="line"><span class="lineno"> 2338</span>      } );</div>
<div class="line"><span class="lineno"> 2339</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2340</span>   }</div>
<div class="ttc" id="aclassfc_1_1time__point_html"><div class="ttname"><a href="classfc_1_1time__point.html">fc::time_point</a></div><div class="ttdef"><b>Definition</b> <a href="include_2fc_2time_8hpp_source.html#l00042">time.hpp:42</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a1b3e4fc9f2aba1b00e501e2419a2ca1c"><div class="ttname"><a href="#a1b3e4fc9f2aba1b00e501e2419a2ca1c">sysio::connection::last_close</a></div><div class="ttdeci">fc::time_point last_close</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00659">net_plugin.cpp:659</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a78f01e104b28e119cd1dbc3dff3a9af0"><div class="ttname"><a href="#a78f01e104b28e119cd1dbc3dff3a9af0">sysio::connection::consecutive_immediate_connection_close</a></div><div class="ttdeci">std::atomic&lt; uint16_t &gt; consecutive_immediate_connection_close</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00646">net_plugin.cpp:646</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a452e65ba1dc3fda4c9bf14def8b59381"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a452e65ba1dc3fda4c9bf14def8b59381">sysio::net_plugin_impl::connector_period</a></div><div class="ttdeci">boost::asio::steady_timer::duration connector_period</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00245">net_plugin.cpp:245</a></div></div>
<div class="ttc" id="anamespacesysio_html_af0f31e2c265e7bd2813fff241cd5cfcb"><div class="ttname"><a href="namespacesysio.html#af0f31e2c265e7bd2813fff241cd5cfcb">sysio::def_max_consecutive_immediate_connection_close</a></div><div class="ttdeci">constexpr auto def_max_consecutive_immediate_connection_close</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00205">net_plugin.cpp:205</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a11ecb500e5bd8050f97f0c5a585df2ad_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a11ecb500e5bd8050f97f0c5a585df2ad_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a11ecb500e5bd8050f97f0c5a585df2ad_cgraph" id="aclasssysio_1_1connection_a11ecb500e5bd8050f97f0c5a585df2ad_cgraph">
<area shape="rect" title=" " alt="" coords="5,160,150,201"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="198,110,330,136"/>
<area shape="poly" title=" " alt="" coords="145,157,204,138,206,144,146,162"/>
<area shape="rect" href="classsysio_1_1connection.html#aca3e3acacf8047c389e0bda758da197d" title=" " alt="" coords="198,160,330,201"/>
<area shape="poly" title=" " alt="" coords="150,178,183,178,183,183,150,183"/>
<area shape="rect" href="namespacesysio.html#a9d60317a4b83cb3c91674336886005ee" title=" " alt="" coords="203,225,324,250"/>
<area shape="poly" title=" " alt="" coords="146,199,206,217,204,222,145,204"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="378,5,518,46"/>
<area shape="poly" title=" " alt="" coords="287,107,377,57,388,51,390,56,379,61,289,112"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="378,71,518,111"/>
<area shape="poly" title=" " alt="" coords="330,109,363,103,364,108,331,114"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="382,136,515,177"/>
<area shape="poly" title=" " alt="" coords="331,132,366,139,366,144,330,138"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="382,201,515,242"/>
<area shape="poly" title=" " alt="" coords="307,134,331,146,356,166,380,186,388,191,385,196,376,190,353,170,329,151,304,139"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="566,13,739,38"/>
<area shape="poly" title=" " alt="" coords="519,23,551,23,551,28,519,28"/>
</map>
</div>

</div>
</div>
<a id="a55b561baeda5353d7c1a1e2a8a0c88e1" name="a55b561baeda5353d7c1a1e2a8a0c88e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b561baeda5353d7c1a1e2a8a0c88e1">&#9670;&#160;</a></span>send_handshake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::send_handshake </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01137">1137</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1137</span>                                   {</div>
<div class="line"><span class="lineno"> 1138</span>      <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>.post( [c = shared_from_this()]() {</div>
<div class="line"><span class="lineno"> 1139</span>         std::unique_lock&lt;std::mutex&gt; g_conn( c-&gt;conn_mtx );</div>
<div class="line"><span class="lineno"> 1140</span>         <span class="keywordflow">if</span>( c-&gt;populate_handshake( c-&gt;last_handshake_sent ) ) {</div>
<div class="line"><span class="lineno"> 1141</span>            <span class="keyword">static_assert</span>( std::is_same_v&lt;<span class="keyword">decltype</span>( c-&gt;sent_handshake_count ), <a class="code hl_typedef" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&gt;, <span class="stringliteral">&quot;INT16_MAX based on int16_t&quot;</span> );</div>
<div class="line"><span class="lineno"> 1142</span>            <span class="keywordflow">if</span>( c-&gt;sent_handshake_count == <a class="code hl_define" href="stdint_8h.html#ac58f2c111cc9989c86db2a7dc4fd84ca">INT16_MAX</a> ) c-&gt;sent_handshake_count = 1; <span class="comment">// do not wrap</span></div>
<div class="line"><span class="lineno"> 1143</span>            c-&gt;last_handshake_sent.generation = ++c-&gt;sent_handshake_count;</div>
<div class="line"><span class="lineno"> 1144</span>            <span class="keyword">auto</span> <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a> = c-&gt;last_handshake_sent;</div>
<div class="line"><span class="lineno"> 1145</span>            g_conn.unlock();</div>
<div class="line"><span class="lineno"> 1146</span>            <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( c, <span class="stringliteral">&quot;Sending handshake generation ${g}, lib ${lib}, head ${head}, id ${id}&quot;</span>,</div>
<div class="line"><span class="lineno"> 1147</span>                       (<span class="stringliteral">&quot;g&quot;</span>, <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a62247b1e0a1a552278fc2b156d4d663f">generation</a>)</div>
<div class="line"><span class="lineno"> 1148</span>                       (<span class="stringliteral">&quot;lib&quot;</span>, <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a6a66b5762131e7f7684c0f5baf3a6705">last_irreversible_block_num</a>)</div>
<div class="line"><span class="lineno"> 1149</span>                       (<span class="stringliteral">&quot;head&quot;</span>, <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a1b2717cc284cb6f783d1a2c4602f66d3">head_num</a>)(<span class="stringliteral">&quot;id&quot;</span>, <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a>.<a class="code hl_variable" href="structsysio_1_1handshake__message.html#a2ca0bcb5e2387d67ae1d05e7a9718595">head_id</a>.<a class="code hl_function" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9">str</a>().substr(8,16)) );</div>
<div class="line"><span class="lineno"> 1150</span>            c-&gt;enqueue( <a class="code hl_variable" href="#ab3d0dbb3bb254cbea92508af42dfe75b">last_handshake_sent</a> );</div>
<div class="line"><span class="lineno"> 1151</span>         }</div>
<div class="line"><span class="lineno"> 1152</span>      });</div>
<div class="line"><span class="lineno"> 1153</span>   }</div>
<div class="ttc" id="astdint_8h_html_a269259c924dce846340ddbb810db2e3c"><div class="ttname"><a href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a></div><div class="ttdeci">signed short int16_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00122">stdint.h:122</a></div></div>
<div class="ttc" id="astdint_8h_html_ac58f2c111cc9989c86db2a7dc4fd84ca"><div class="ttname"><a href="stdint_8h.html#ac58f2c111cc9989c86db2a7dc4fd84ca">INT16_MAX</a></div><div class="ttdeci">#define INT16_MAX</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00181">stdint.h:181</a></div></div>
<div class="ttc" id="astructsysio_1_1handshake__message_html_a6a66b5762131e7f7684c0f5baf3a6705"><div class="ttname"><a href="structsysio_1_1handshake__message.html#a6a66b5762131e7f7684c0f5baf3a6705">sysio::handshake_message::last_irreversible_block_num</a></div><div class="ttdeci">uint32_t last_irreversible_block_num</div><div class="ttdef"><b>Definition</b> <a href="plugins_2net__plugin_2include_2sysio_2net__plugin_2protocol_8hpp_source.html#l00036">protocol.hpp:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_cgraph" id="aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,22,137,62"/>
<area shape="rect" href="classfc_1_1sha256.html#a71ac4efc1d964d24fdf00aeffcf0a9c9" title=" " alt="" coords="185,29,290,55"/>
<area shape="poly" title=" " alt="" coords="137,40,169,40,169,45,137,45"/>
<area shape="rect" href="namespacefc.html#aab567c89004d329f560014d9943afcd6" title=" " alt="" coords="338,29,417,55"/>
<area shape="poly" title=" " alt="" coords="290,40,323,40,323,45,290,45"/>
<area shape="poly" title=" " alt="" coords="353,30,349,21,352,11,362,5,378,3,395,5,404,12,401,16,393,10,378,8,363,10,356,14,354,20,358,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_icgraph" id="aclasssysio_1_1connection_a55b561baeda5353d7c1a1e2a8a0c88e1_icgraph">
<area shape="rect" title=" " alt="" coords="185,71,316,111"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="177,67,128,49,130,44,179,62"/>
<area shape="rect" href="classsysio_1_1connection.html#a6969d80878d60791744f4ace46f1b806" title=" " alt="" coords="5,71,137,111"/>
<area shape="poly" title=" " alt="" coords="169,94,137,94,137,88,169,88"/>
<area shape="rect" href="classsysio_1_1connection.html#a674cbe920ea083be64a0746c0ce76c86" title="Process time_message." alt="" coords="5,136,137,177"/>
<area shape="poly" title=" " alt="" coords="179,120,130,138,128,133,177,115"/>
</map>
</div>

</div>
</div>
<a id="a1c134c29679142daab81ca9fe4a10996" name="a1c134c29679142daab81ca9fe4a10996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c134c29679142daab81ca9fe4a10996">&#9670;&#160;</a></span>send_time() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::send_time </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01181">1181</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1181</span>                              {</div>
<div class="line"><span class="lineno"> 1182</span>      time_message xpkt;</div>
<div class="line"><span class="lineno"> 1183</span>      xpkt.org = <a class="code hl_variable" href="#a0bc9d553ad16bc63449cdbcf6825c59f">rec</a>;</div>
<div class="line"><span class="lineno"> 1184</span>      xpkt.rec = <a class="code hl_variable" href="#af43cec49a0884310396dad6d01c392e1">dst</a>;</div>
<div class="line"><span class="lineno"> 1185</span>      xpkt.xmt = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 1186</span>      <a class="code hl_variable" href="#a6c055550228586b3534a4f2b5e87bc4e">org</a> = xpkt.xmt;</div>
<div class="line"><span class="lineno"> 1187</span>      <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>(xpkt);</div>
<div class="line"><span class="lineno"> 1188</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_cgraph" id="aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_cgraph">
<area shape="rect" title="Populate and queue time_message." alt="" coords="5,71,137,111"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="185,37,316,78"/>
<area shape="poly" title=" " alt="" coords="137,76,169,70,170,75,138,81"/>
<area shape="rect" href="classsysio_1_1connection.html#aa74b147947e087bc084d72a3d892a06f" title="Read system time and convert to a 64 bit integer." alt="" coords="185,103,316,143"/>
<area shape="poly" title=" " alt="" coords="138,100,170,106,169,111,137,105"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="364,5,504,46"/>
<area shape="poly" title=" " alt="" coords="316,44,348,38,349,43,317,49"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="366,71,502,111"/>
<area shape="poly" title=" " alt="" coords="317,67,351,73,350,79,316,72"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="573,49,672,74"/>
<area shape="poly" title=" " alt="" coords="502,78,558,69,558,74,502,83"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="552,99,693,139"/>
<area shape="poly" title=" " alt="" coords="502,98,537,104,536,109,502,104"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="741,41,881,82"/>
<area shape="poly" title=" " alt="" coords="673,59,725,59,725,64,673,64"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_icgraph" id="aclasssysio_1_1connection_a1c134c29679142daab81ca9fe4a10996_icgraph">
<area shape="rect" title="Populate and queue time_message." alt="" coords="185,39,316,79"/>
<area shape="rect" href="classsysio_1_1connection.html#ad02fe050af3c833e156bea91308d6c1b" title="Check heartbeat time and send Time_message." alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,47,137,41,138,35,170,41"/>
<area shape="rect" href="classsysio_1_1connection.html#a674cbe920ea083be64a0746c0ce76c86" title="Process time_message." alt="" coords="5,71,137,111"/>
<area shape="poly" title=" " alt="" coords="170,76,138,82,137,77,169,71"/>
</map>
</div>

</div>
</div>
<a id="a0a699ed89ab1cf5d95aba5aa7de17e18" name="a0a699ed89ab1cf5d95aba5aa7de17e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a699ed89ab1cf5d95aba5aa7de17e18">&#9670;&#160;</a></span>send_time() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::send_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1time__message.html">time_message</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01191">1191</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1191</span>                                                     {</div>
<div class="line"><span class="lineno"> 1192</span>      time_message xpkt;</div>
<div class="line"><span class="lineno"> 1193</span>      xpkt.org = msg.xmt;</div>
<div class="line"><span class="lineno"> 1194</span>      xpkt.rec = msg.dst;</div>
<div class="line"><span class="lineno"> 1195</span>      xpkt.xmt = <a class="code hl_function" href="#aa74b147947e087bc084d72a3d892a06f">get_time</a>();</div>
<div class="line"><span class="lineno"> 1196</span>      <a class="code hl_function" href="#ad6a1bcdfc4bd9d2c7ab2278240def6b6">enqueue</a>(xpkt);</div>
<div class="line"><span class="lineno"> 1197</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a0a699ed89ab1cf5d95aba5aa7de17e18_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a0a699ed89ab1cf5d95aba5aa7de17e18_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a0a699ed89ab1cf5d95aba5aa7de17e18_cgraph" id="aclasssysio_1_1connection_a0a699ed89ab1cf5d95aba5aa7de17e18_cgraph">
<area shape="rect" title="Populate and queue time_message immediately using incoming time_message." alt="" coords="5,71,137,111"/>
<area shape="rect" href="classsysio_1_1connection.html#ad6a1bcdfc4bd9d2c7ab2278240def6b6" title=" " alt="" coords="185,37,316,78"/>
<area shape="poly" title=" " alt="" coords="137,76,169,70,170,75,138,81"/>
<area shape="rect" href="classsysio_1_1connection.html#aa74b147947e087bc084d72a3d892a06f" title="Read system time and convert to a 64 bit integer." alt="" coords="185,103,316,143"/>
<area shape="poly" title=" " alt="" coords="138,100,170,106,169,111,137,105"/>
<area shape="rect" href="structsysio_1_1buffer__factory.html#a480d021121170a01b8148078a6f4e29f" title="caches result for subsequent calls, only provide same net_message instance for each invocation" alt="" coords="364,5,504,46"/>
<area shape="poly" title=" " alt="" coords="316,44,348,38,349,43,317,49"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="366,71,502,111"/>
<area shape="poly" title=" " alt="" coords="317,67,351,73,350,79,316,72"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="573,49,672,74"/>
<area shape="poly" title=" " alt="" coords="502,78,558,69,558,74,502,83"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="552,99,693,139"/>
<area shape="poly" title=" " alt="" coords="502,98,537,104,536,109,502,104"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="741,41,881,82"/>
<area shape="poly" title=" " alt="" coords="673,59,725,59,725,64,673,64"/>
</map>
</div>

</div>
</div>
<a id="a1e59aa67f74b1e5bb0a2d8e7db584cdd" name="a1e59aa67f74b1e5bb0a2d8e7db584cdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e59aa67f74b1e5bb0a2d8e7db584cdd">&#9670;&#160;</a></span>set_connection_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::set_connection_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>peer_addr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00918">918</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  918</span>                                                                {</div>
<div class="line"><span class="lineno">  919</span>      <span class="comment">// host:port:[&lt;trx&gt;|&lt;blk&gt;]</span></div>
<div class="line"><span class="lineno">  920</span>      string::size_type colon = peer_add.find(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno">  921</span>      string::size_type colon2 = peer_add.find(<span class="charliteral">&#39;:&#39;</span>, colon + 1);</div>
<div class="line"><span class="lineno">  922</span>      string::size_type end = colon2 == string::npos</div>
<div class="line"><span class="lineno">  923</span>            ? string::npos : peer_add.find_first_of( <span class="stringliteral">&quot; :+=.,&lt;&gt;!$%^&amp;(*)|-#@\t&quot;</span>, colon2 + 1 ); <span class="comment">// future proof by including most symbols without using regex</span></div>
<div class="line"><span class="lineno">  924</span>      <span class="keywordtype">string</span> host = peer_add.substr( 0, colon );</div>
<div class="line"><span class="lineno">  925</span>      <span class="keywordtype">string</span> port = peer_add.substr( colon + 1, colon2 == string::npos ? string::npos : colon2 - (colon + 1));</div>
<div class="line"><span class="lineno">  926</span>      <span class="keywordtype">string</span> type = colon2 == string::npos ? <span class="stringliteral">&quot;&quot;</span> : end == string::npos ?</div>
<div class="line"><span class="lineno">  927</span>            peer_add.substr( colon2 + 1 ) : peer_add.substr( colon2 + 1, end - (colon2 + 1) );</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>      <span class="keywordflow">if</span>( type.empty() ) {</div>
<div class="line"><span class="lineno">  930</span>         <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Setting connection ${c} type for: ${peer} to both transactions and blocks&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>)(<span class="stringliteral">&quot;peer&quot;</span>, peer_add) );</div>
<div class="line"><span class="lineno">  931</span>         connection_type = both;</div>
<div class="line"><span class="lineno">  932</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( type == <span class="stringliteral">&quot;trx&quot;</span> ) {</div>
<div class="line"><span class="lineno">  933</span>         <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Setting connection ${c} type for: ${peer} to transactions only&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>)(<span class="stringliteral">&quot;peer&quot;</span>, peer_add) );</div>
<div class="line"><span class="lineno">  934</span>         connection_type = transactions_only;</div>
<div class="line"><span class="lineno">  935</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( type == <span class="stringliteral">&quot;blk&quot;</span> ) {</div>
<div class="line"><span class="lineno">  936</span>         <a class="code hl_define" href="logger_8hpp.html#af5adfcda7e0a01306256754a6511915d">fc_dlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Setting connection ${c} type for: ${peer} to blocks only&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>)(<span class="stringliteral">&quot;peer&quot;</span>, peer_add) );</div>
<div class="line"><span class="lineno">  937</span>         connection_type = blocks_only;</div>
<div class="line"><span class="lineno">  938</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  939</span>         <a class="code hl_define" href="logger_8hpp.html#af3086372b1da6bfce45ff871734f2e8d">fc_wlog</a>( <a class="code hl_class" href="classfc_1_1logger.html">logger</a>, <span class="stringliteral">&quot;Unknown connection ${c} type: ${t}, for ${peer}&quot;</span>, (<span class="stringliteral">&quot;c&quot;</span>, <a class="code hl_variable" href="#a1eb3bd460e47bead479e1b6f7eb58df4">connection_id</a>)(<span class="stringliteral">&quot;t&quot;</span>, type)(<span class="stringliteral">&quot;peer&quot;</span>, peer_add) );</div>
<div class="line"><span class="lineno">  940</span>      }</div>
<div class="line"><span class="lineno">  941</span>   }</div>
<div class="ttc" id="alogger_8hpp_html_af3086372b1da6bfce45ff871734f2e8d"><div class="ttname"><a href="logger_8hpp.html#af3086372b1da6bfce45ff871734f2e8d">fc_wlog</a></div><div class="ttdeci">#define fc_wlog(LOGGER, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00089">logger.hpp:89</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a1e59aa67f74b1e5bb0a2d8e7db584cdd_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a1e59aa67f74b1e5bb0a2d8e7db584cdd_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a1e59aa67f74b1e5bb0a2d8e7db584cdd_icgraph" id="aclasssysio_1_1connection_a1e59aa67f74b1e5bb0a2d8e7db584cdd_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,326,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a6969d80878d60791744f4ace46f1b806" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="a028630cf58fe0facfd2d756f6c203180" name="a028630cf58fe0facfd2d756f6c203180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a028630cf58fe0facfd2d756f6c203180">&#9670;&#160;</a></span>set_heartbeat_timeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::set_heartbeat_timeout </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds</td>          <td class="paramname"><span class="paramname"><em>msec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00596">596</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>                                                             {</div>
<div class="line"><span class="lineno">  597</span>         std::chrono::system_clock::duration dur = msec;</div>
<div class="line"><span class="lineno">  598</span>         <a class="code hl_variable" href="#a1f3730a3eedfe33fa59dae7c485c341a">hb_timeout</a> = dur.count();</div>
<div class="line"><span class="lineno">  599</span>      }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adee4be2152a35cc0122e53365e8e1937" name="adee4be2152a35cc0122e53365e8e1937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee4be2152a35cc0122e53365e8e1937">&#9670;&#160;</a></span>socket_is_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::socket_is_open </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00590">590</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  590</span>{ <span class="keywordflow">return</span> socket_open.load(); } <span class="comment">// thread safe, atomic</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_adee4be2152a35cc0122e53365e8e1937_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_adee4be2152a35cc0122e53365e8e1937_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_adee4be2152a35cc0122e53365e8e1937_icgraph" id="aclasssysio_1_1connection_adee4be2152a35cc0122e53365e8e1937_icgraph">
<area shape="rect" title=" " alt="" coords="364,5,495,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a389358826bf8da3e54bebbd7db92120c" title=" " alt="" coords="185,5,316,46"/>
<area shape="poly" title=" " alt="" coords="349,28,316,28,316,23,349,23"/>
<area shape="rect" href="classsysio_1_1connection.html#aeb1cd3ec121a5ff8d01c2292834923a1" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="a5b1658474d4667bfca0ee4e1e2c605a8" name="a5b1658474d4667bfca0ee4e1e2c605a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1658474d4667bfca0ee4e1e2c605a8">&#9670;&#160;</a></span>start_read_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::start_read_message </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l02432">2432</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2432</span>                                       {</div>
<div class="line"><span class="lineno"> 2433</span>      <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2434</span>         std::size_t minimum_read =</div>
<div class="line"><span class="lineno"> 2435</span>               std::atomic_exchange&lt;<span class="keyword">decltype</span>(<a class="code hl_variable" href="#a3de4218791d8273eb83a54409af84cf1">outstanding_read_bytes</a>.load())&gt;( &amp;<a class="code hl_variable" href="#a3de4218791d8273eb83a54409af84cf1">outstanding_read_bytes</a>, 0 );</div>
<div class="line"><span class="lineno"> 2436</span>         minimum_read = minimum_read != 0 ? minimum_read : <a class="code hl_variable" href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">message_header_size</a>;</div>
<div class="line"><span class="lineno"> 2437</span> </div>
<div class="line"><span class="lineno"> 2438</span>         <span class="keywordflow">if</span> (my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a712b3e6b420a962e8a75adcc279bfadf">use_socket_read_watermark</a>) {</div>
<div class="line"><span class="lineno"> 2439</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> max_socket_read_watermark = 4096;</div>
<div class="line"><span class="lineno"> 2440</span>            std::size_t socket_read_watermark = std::min&lt;std::size_t&gt;(minimum_read, max_socket_read_watermark);</div>
<div class="line"><span class="lineno"> 2441</span>            boost::asio::socket_base::receive_low_watermark read_watermark_opt(socket_read_watermark);</div>
<div class="line"><span class="lineno"> 2442</span>            boost::system::error_code ec;</div>
<div class="line"><span class="lineno"> 2443</span>            <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>-&gt;set_option( read_watermark_opt, ec );</div>
<div class="line"><span class="lineno"> 2444</span>            <span class="keywordflow">if</span>( ec ) {</div>
<div class="line"><span class="lineno"> 2445</span>               <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;unable to set read watermark: ${e1}&quot;</span>, (<span class="stringliteral">&quot;e1&quot;</span>, ec.message()) );</div>
<div class="line"><span class="lineno"> 2446</span>            }</div>
<div class="line"><span class="lineno"> 2447</span>         }</div>
<div class="line"><span class="lineno"> 2448</span> </div>
<div class="line"><span class="lineno"> 2449</span>         <span class="keyword">auto</span> completion_handler = [minimum_read](boost::system::error_code ec, std::size_t bytes_transferred) -&gt; std::size_t {</div>
<div class="line"><span class="lineno"> 2450</span>            <span class="keywordflow">if</span> (ec || bytes_transferred &gt;= minimum_read ) {</div>
<div class="line"><span class="lineno"> 2451</span>               <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 2452</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2453</span>               <span class="keywordflow">return</span> minimum_read - bytes_transferred;</div>
<div class="line"><span class="lineno"> 2454</span>            }</div>
<div class="line"><span class="lineno"> 2455</span>         };</div>
<div class="line"><span class="lineno"> 2456</span> </div>
<div class="line"><span class="lineno"> 2457</span>         <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> write_queue_size = <a class="code hl_variable" href="#a8386b853edf1cbab18a09b8123cc525c">buffer_queue</a>.<a class="code hl_function" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe">write_queue_size</a>();</div>
<div class="line"><span class="lineno"> 2458</span>         <span class="keywordflow">if</span>( write_queue_size &gt; <a class="code hl_variable" href="namespacesysio.html#abb93a5792d3705e475c32a3d63c459ce">def_max_write_queue_size</a> ) {</div>
<div class="line"><span class="lineno"> 2459</span>            <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;write queue full ${s} bytes, giving up on connection, closing&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>, write_queue_size) );</div>
<div class="line"><span class="lineno"> 2460</span>            <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>( <span class="keyword">false</span> );</div>
<div class="line"><span class="lineno"> 2461</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2462</span>         }</div>
<div class="line"><span class="lineno"> 2463</span> </div>
<div class="line"><span class="lineno"> 2464</span>         boost::asio::async_read( *<a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>,</div>
<div class="line"><span class="lineno"> 2465</span>            <a class="code hl_variable" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a>.<a class="code hl_function" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">get_buffer_sequence_for_boost_async_read</a>(), completion_handler,</div>
<div class="line"><span class="lineno"> 2466</span>            boost::asio::bind_executor( <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>,</div>
<div class="line"><span class="lineno"> 2467</span>              [conn = shared_from_this(), <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>=<a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>]( boost::system::error_code ec, std::size_t bytes_transferred ) {</div>
<div class="line"><span class="lineno"> 2468</span>               <span class="comment">// may have closed connection and cleared pending_message_buffer</span></div>
<div class="line"><span class="lineno"> 2469</span>               <span class="keywordflow">if</span>( !conn-&gt;socket_is_open() || <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a> != conn-&gt;socket ) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2470</span> </div>
<div class="line"><span class="lineno"> 2471</span>               <span class="keywordtype">bool</span> close_connection = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2472</span>               <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 2473</span>                  <span class="keywordflow">if</span>( !ec ) {</div>
<div class="line"><span class="lineno"> 2474</span>                     <span class="keywordflow">if</span> (bytes_transferred &gt; conn-&gt;pending_message_buffer.bytes_to_write()) {</div>
<div class="line"><span class="lineno"> 2475</span>                        <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;async_read_some callback: bytes_transfered = ${bt}, buffer.bytes_to_write = ${btw}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2476</span>                                   (<span class="stringliteral">&quot;bt&quot;</span>,bytes_transferred)(<span class="stringliteral">&quot;btw&quot;</span>,conn-&gt;pending_message_buffer.bytes_to_write()) );</div>
<div class="line"><span class="lineno"> 2477</span>                     }</div>
<div class="line"><span class="lineno"> 2478</span>                     <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(bytes_transferred &lt;= conn-&gt;<a class="code hl_variable" href="#af241d498d210d4e238b73f7bcd1c45d1">pending_message_buffer</a>.<a class="code hl_function" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">bytes_to_write</a>(), plugin_exception, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2479</span>                     conn-&gt;pending_message_buffer.advance_write_ptr(bytes_transferred);</div>
<div class="line"><span class="lineno"> 2480</span>                     <span class="keywordflow">while</span> (conn-&gt;pending_message_buffer.bytes_to_read() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2481</span>                        <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytes_in_buffer = conn-&gt;pending_message_buffer.bytes_to_read();</div>
<div class="line"><span class="lineno"> 2482</span> </div>
<div class="line"><span class="lineno"> 2483</span>                        <span class="keywordflow">if</span> (bytes_in_buffer &lt; <a class="code hl_variable" href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">message_header_size</a>) {</div>
<div class="line"><span class="lineno"> 2484</span>                           conn-&gt;outstanding_read_bytes = <a class="code hl_variable" href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">message_header_size</a> - bytes_in_buffer;</div>
<div class="line"><span class="lineno"> 2485</span>                           <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2486</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2487</span>                           <a class="code hl_typedef" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> message_length;</div>
<div class="line"><span class="lineno"> 2488</span>                           <span class="keyword">auto</span> index = conn-&gt;pending_message_buffer.read_index();</div>
<div class="line"><span class="lineno"> 2489</span>                           conn-&gt;pending_message_buffer.peek(&amp;message_length, <span class="keyword">sizeof</span>(message_length), index);</div>
<div class="line"><span class="lineno"> 2490</span>                           <span class="keywordflow">if</span>(message_length &gt; <a class="code hl_variable" href="namespacesysio.html#a95d09aabadb97a4b0486d6568319c5b1">def_send_buffer_size</a>*2 || message_length == 0) {</div>
<div class="line"><span class="lineno"> 2491</span>                              <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;incoming message length unexpected (${i})&quot;</span>, (<span class="stringliteral">&quot;i&quot;</span>, message_length) );</div>
<div class="line"><span class="lineno"> 2492</span>                              close_connection = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2493</span>                              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2494</span>                           }</div>
<div class="line"><span class="lineno"> 2495</span> </div>
<div class="line"><span class="lineno"> 2496</span>                           <span class="keyword">auto</span> total_message_bytes = message_length + <a class="code hl_variable" href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">message_header_size</a>;</div>
<div class="line"><span class="lineno"> 2497</span> </div>
<div class="line"><span class="lineno"> 2498</span>                           <span class="keywordflow">if</span> (bytes_in_buffer &gt;= total_message_bytes) {</div>
<div class="line"><span class="lineno"> 2499</span>                              conn-&gt;pending_message_buffer.advance_read_ptr(<a class="code hl_variable" href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">message_header_size</a>);</div>
<div class="line"><span class="lineno"> 2500</span>                              conn-&gt;consecutive_immediate_connection_close = 0;</div>
<div class="line"><span class="lineno"> 2501</span>                              <span class="keywordflow">if</span> (!conn-&gt;process_next_message(message_length)) {</div>
<div class="line"><span class="lineno"> 2502</span>                                 <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2503</span>                              }</div>
<div class="line"><span class="lineno"> 2504</span>                           } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2505</span>                              <span class="keyword">auto</span> outstanding_message_bytes = total_message_bytes - bytes_in_buffer;</div>
<div class="line"><span class="lineno"> 2506</span>                              <span class="keyword">auto</span> available_buffer_bytes = conn-&gt;pending_message_buffer.bytes_to_write();</div>
<div class="line"><span class="lineno"> 2507</span>                              <span class="keywordflow">if</span> (outstanding_message_bytes &gt; available_buffer_bytes) {</div>
<div class="line"><span class="lineno"> 2508</span>                                 conn-&gt;pending_message_buffer.add_space( outstanding_message_bytes - available_buffer_bytes );</div>
<div class="line"><span class="lineno"> 2509</span>                              }</div>
<div class="line"><span class="lineno"> 2510</span> </div>
<div class="line"><span class="lineno"> 2511</span>                              conn-&gt;outstanding_read_bytes = outstanding_message_bytes;</div>
<div class="line"><span class="lineno"> 2512</span>                              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2513</span>                           }</div>
<div class="line"><span class="lineno"> 2514</span>                        }</div>
<div class="line"><span class="lineno"> 2515</span>                     }</div>
<div class="line"><span class="lineno"> 2516</span>                     <span class="keywordflow">if</span>( !close_connection ) conn-&gt;start_read_message();</div>
<div class="line"><span class="lineno"> 2517</span>                  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2518</span>                     <span class="keywordflow">if</span> (ec.value() != boost::asio::error::eof) {</div>
<div class="line"><span class="lineno"> 2519</span>                        <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;Error reading message: ${m}&quot;</span>, ( <span class="stringliteral">&quot;m&quot;</span>, ec.message() ) );</div>
<div class="line"><span class="lineno"> 2520</span>                     } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2521</span>                        <a class="code hl_define" href="net__plugin_8cpp.html#ad909b2ce03eb19202983c88ae2abe9bd">peer_ilog</a>( conn, <span class="stringliteral">&quot;Peer closed connection&quot;</span> );</div>
<div class="line"><span class="lineno"> 2522</span>                     }</div>
<div class="line"><span class="lineno"> 2523</span>                     close_connection = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2524</span>                  }</div>
<div class="line"><span class="lineno"> 2525</span>               } </div>
<div class="line"><span class="lineno"> 2526</span>               <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::bad_alloc&amp; ) </div>
<div class="line"><span class="lineno"> 2527</span>               {</div>
<div class="line"><span class="lineno"> 2528</span>                 <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2529</span>               } </div>
<div class="line"><span class="lineno"> 2530</span>               <span class="keywordflow">catch</span> ( <span class="keyword">const</span> boost::interprocess::bad_alloc&amp; ) </div>
<div class="line"><span class="lineno"> 2531</span>               {</div>
<div class="line"><span class="lineno"> 2532</span>                 <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno"> 2533</span>               } </div>
<div class="line"><span class="lineno"> 2534</span>               <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code hl_class" href="classfc_1_1exception.html">fc::exception</a> &amp;ex) </div>
<div class="line"><span class="lineno"> 2535</span>               {</div>
<div class="line"><span class="lineno"> 2536</span>                  <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;Exception in handling read data ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>,ex.<a class="code hl_function" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8">to_string</a>()) );</div>
<div class="line"><span class="lineno"> 2537</span>                  close_connection = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2538</span>               }</div>
<div class="line"><span class="lineno"> 2539</span>               <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno"> 2540</span>                  <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;Exception in handling read data: ${s}&quot;</span>, (<span class="stringliteral">&quot;s&quot;</span>,ex.what()) );</div>
<div class="line"><span class="lineno"> 2541</span>                  close_connection = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2542</span>               }</div>
<div class="line"><span class="lineno"> 2543</span>               <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2544</span>                  <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;Undefined exception handling read data&quot;</span> );</div>
<div class="line"><span class="lineno"> 2545</span>                  close_connection = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2546</span>               }</div>
<div class="line"><span class="lineno"> 2547</span> </div>
<div class="line"><span class="lineno"> 2548</span>               <span class="keywordflow">if</span>( close_connection ) {</div>
<div class="line"><span class="lineno"> 2549</span>                  <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( conn, <span class="stringliteral">&quot;Closing connection&quot;</span> );</div>
<div class="line"><span class="lineno"> 2550</span>                  conn-&gt;close();</div>
<div class="line"><span class="lineno"> 2551</span>               }</div>
<div class="line"><span class="lineno"> 2552</span>         }));</div>
<div class="line"><span class="lineno"> 2553</span>      } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2554</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;Undefined exception in start_read_message, closing connection&quot;</span> );</div>
<div class="line"><span class="lineno"> 2555</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno"> 2556</span>      }</div>
<div class="line"><span class="lineno"> 2557</span>   }</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_a7d14c84a452f14a0616f90cc3771efa9"><div class="ttname"><a href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9">fc::message_buffer::get_buffer_sequence_for_boost_async_read</a></div><div class="ttdeci">std::vector&lt; boost::asio::mutable_buffer &gt; get_buffer_sequence_for_boost_async_read()</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00192">message_buffer.hpp:192</a></div></div>
<div class="ttc" id="aclassfc_1_1message__buffer_html_af4540535b3ef876e42631178c997e59b"><div class="ttname"><a href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b">fc::message_buffer::bytes_to_write</a></div><div class="ttdeci">uint32_t bytes_to_write() const</div><div class="ttdef"><b>Definition</b> <a href="message__buffer_8hpp_source.html#l00140">message_buffer.hpp:140</a></div></div>
<div class="ttc" id="aclasssysio_1_1connection_html_a3de4218791d8273eb83a54409af84cf1"><div class="ttname"><a href="#a3de4218791d8273eb83a54409af84cf1">sysio::connection::outstanding_read_bytes</a></div><div class="ttdeci">std::atomic&lt; std::size_t &gt; outstanding_read_bytes</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00624">net_plugin.cpp:624</a></div></div>
<div class="ttc" id="aclasssysio_1_1net__plugin__impl_html_a712b3e6b420a962e8a75adcc279bfadf"><div class="ttname"><a href="classsysio_1_1net__plugin__impl.html#a712b3e6b420a962e8a75adcc279bfadf">sysio::net_plugin_impl::use_socket_read_watermark</a></div><div class="ttdeci">bool use_socket_read_watermark</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00266">net_plugin.cpp:266</a></div></div>
<div class="ttc" id="anamespacesysio_html_a00c50092ca42151d17c3e24f7649e607"><div class="ttname"><a href="namespacesysio.html#a00c50092ca42151d17c3e24f7649e607">sysio::message_header_size</a></div><div class="ttdeci">constexpr auto message_header_size</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00214">net_plugin.cpp:214</a></div></div>
<div class="ttc" id="anamespacesysio_html_a95d09aabadb97a4b0486d6568319c5b1"><div class="ttname"><a href="namespacesysio.html#a95d09aabadb97a4b0486d6568319c5b1">sysio::def_send_buffer_size</a></div><div class="ttdeci">constexpr auto def_send_buffer_size</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00202">net_plugin.cpp:202</a></div></div>
<div class="ttc" id="anamespacesysio_html_abb93a5792d3705e475c32a3d63c459ce"><div class="ttname"><a href="namespacesysio.html#abb93a5792d3705e475c32a3d63c459ce">sysio::def_max_write_queue_size</a></div><div class="ttdeci">constexpr auto def_max_write_queue_size</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00203">net_plugin.cpp:203</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_cgraph" id="aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_cgraph">
<area shape="rect" title=" " alt="" coords="5,573,145,614"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="204,365,338,406"/>
<area shape="poly" title=" " alt="" coords="90,571,135,517,191,454,232,415,236,418,195,458,139,521,95,575"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="205,468,336,509"/>
<area shape="poly" title=" " alt="" coords="105,571,191,518,201,513,204,518,194,523,108,575"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9" title=" " alt="" coords="193,532,349,588"/>
<area shape="poly" title=" " alt="" coords="145,579,177,574,178,579,145,584"/>
<area shape="rect" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8" title=" " alt="" coords="194,613,348,638"/>
<area shape="poly" title=" " alt="" coords="145,602,179,608,178,613,145,608"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="205,662,337,688"/>
<area shape="poly" title=" " alt="" coords="116,612,194,649,209,654,207,659,192,653,114,617"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe" title=" " alt="" coords="200,712,342,753"/>
<area shape="poly" title=" " alt="" coords="97,613,139,655,194,698,201,702,198,707,191,703,136,659,93,616"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="400,356,534,397"/>
<area shape="poly" title=" " alt="" coords="338,380,385,378,385,383,338,385"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="397,857,537,882"/>
<area shape="poly" title=" " alt="" coords="333,637,351,648,373,669,393,694,425,747,447,799,461,841,456,843,442,801,420,749,388,697,369,673,347,652,331,641"/>
<area shape="rect" href="namespacefc.html#acd5129981ae93fce3154d3fed6f6acbc" title=" " alt="" coords="409,421,525,446"/>
<area shape="poly" title=" " alt="" coords="326,610,347,598,382,566,411,529,451,460,456,462,416,532,386,570,351,602,329,615"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="401,618,533,644"/>
<area shape="poly" title=" " alt="" coords="348,625,386,626,386,631,348,630"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="602,957,734,982"/>
<area shape="poly" title=" " alt="" coords="487,881,531,912,587,943,599,949,597,954,584,948,528,916,484,885"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="600,806,736,832"/>
<area shape="poly" title=" " alt="" coords="520,854,599,834,600,839,522,859"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="823,832,960,857"/>
<area shape="poly" title=" " alt="" coords="538,863,807,847,808,852,538,868"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="623,908,713,933"/>
<area shape="poly" title=" " alt="" coords="522,881,609,903,607,908,520,886"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="811,957,973,982"/>
<area shape="poly" title=" " alt="" coords="734,967,795,967,795,972,734,972"/>
<area shape="poly" title=" " alt="" coords="737,824,808,832,807,837,736,829"/>
<area shape="rect" href="namespacefc.html#a578c57f57002a845da7e91ee8bf4287a" title=" " alt="" coords="608,208,728,233"/>
<area shape="poly" title=" " alt="" coords="520,418,535,406,550,386,557,366,558,326,560,284,568,263,583,242,592,235,596,239,587,246,572,266,565,285,563,326,562,367,554,389,539,410,523,422"/>
<area shape="rect" href="classfc_1_1variant__object.html#a804706455398e249f6272b3ff19cef5d" title=" " alt="" coords="593,257,743,282"/>
<area shape="poly" title=" " alt="" coords="518,418,536,406,547,393,553,379,558,350,564,321,571,306,583,292,587,289,590,293,587,296,575,309,569,323,563,351,558,380,551,395,539,410,521,422"/>
<area shape="rect" href="classfc_1_1variant__object.html#acfef67913fd3c24ea8017b3a5ad49144" title=" " alt="" coords="607,380,729,421"/>
<area shape="poly" title=" " alt="" coords="525,421,591,410,592,416,526,427"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="585,306,751,332"/>
<area shape="poly" title=" " alt="" coords="515,418,536,406,551,391,559,375,567,358,584,342,593,337,595,341,587,346,572,362,563,377,555,394,539,410,518,423"/>
<area shape="rect" href="classfc_1_1variant__object.html#a0e523ff3ad212b0582ad2ac8a07773ae" title=" " alt="" coords="607,445,729,486"/>
<area shape="poly" title=" " alt="" coords="526,440,592,451,591,456,525,446"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="607,510,729,536"/>
<area shape="poly" title=" " alt="" coords="491,445,534,470,586,495,604,502,603,507,584,500,532,474,488,449"/>
<area shape="rect" href="namespacefc.html#aee7bbe89bfe8d6273f5212938cc1d458" title=" " alt="" coords="831,184,952,209"/>
<area shape="poly" title=" " alt="" coords="728,211,815,202,816,207,729,217"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#ad8856ea517c970ed0584a251c3fdc94f" title=" " alt="" coords="871,233,913,258"/>
<area shape="poly" title=" " alt="" coords="729,224,856,239,855,244,728,230"/>
<area shape="rect" href="namespacefc.html#a47ce6fdd4f18f7f06601e820866d54ec" title=" " alt="" coords="1082,184,1195,209"/>
<area shape="poly" title=" " alt="" coords="953,194,1066,194,1066,199,953,199"/>
<area shape="rect" href="namespacefc.html#afdef7bae8756a2c4ba14524f5913d485" title=" " alt="" coords="1066,233,1211,258"/>
<area shape="poly" title=" " alt="" coords="953,206,1056,227,1055,232,952,211"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="1079,134,1197,160"/>
<area shape="poly" title=" " alt="" coords="952,182,1063,159,1064,164,953,187"/>
<area shape="rect" href="namespacefc.html#afdd13a1463953f18fde2fa891cb5231e" title=" " alt="" coords="1291,209,1397,234"/>
<area shape="poly" title=" " alt="" coords="1195,201,1276,211,1275,216,1195,206"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#abe95547575fcc81911e381df03f8ebfe" title=" " alt="" coords="1445,209,1623,234"/>
<area shape="poly" title=" " alt="" coords="1397,219,1429,219,1429,224,1397,224"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a6e5df73716136aec55e8fcf3309038b6" title="get_sequence_x functions decode utf&#45;8 sequences of the length x" alt="" coords="1690,267,1809,307"/>
<area shape="poly" title=" " alt="" coords="1580,232,1676,262,1674,267,1578,238"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a9d641b9546be985f9f0fd4955ac42a24" title=" " alt="" coords="1690,5,1809,46"/>
<area shape="poly" title=" " alt="" coords="1541,207,1590,137,1627,95,1669,57,1677,52,1680,56,1673,61,1631,99,1594,141,1545,210"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ac1809a1fb3fa6983d64a0d3a39646008" title=" " alt="" coords="1690,71,1809,111"/>
<area shape="poly" title=" " alt="" coords="1550,206,1602,166,1670,122,1681,116,1683,121,1672,127,1605,171,1553,211"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ad1958e7c6746ba6b1fbb0d81b88b346c" title=" " alt="" coords="1690,136,1809,177"/>
<area shape="poly" title=" " alt="" coords="1578,206,1674,176,1676,181,1580,211"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a97b553137aaeda6e8ca6f8d46f78fd79" title=" " alt="" coords="1687,332,1812,373"/>
<area shape="poly" title=" " alt="" coords="1553,233,1605,272,1672,317,1683,322,1681,327,1670,321,1602,277,1550,237"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a3160f6f24dff465f64f83cb0e66995c6" title=" " alt="" coords="1680,397,1820,438"/>
<area shape="poly" title=" " alt="" coords="1545,233,1594,303,1631,345,1673,382,1680,387,1677,392,1669,386,1627,348,1590,306,1541,236"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adb347cc81d32ebb0fd22d849f7bff5ea" title=" " alt="" coords="1671,201,1828,242"/>
<area shape="poly" title=" " alt="" coords="1623,219,1655,219,1655,224,1623,224"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adf6e0469e279b9562aa461b4c3c1e7e4" title=" " alt="" coords="1876,144,2017,169"/>
<area shape="poly" title=" " alt="" coords="1804,264,1827,251,1878,215,1919,178,1923,182,1881,219,1830,256,1806,269"/>
<area shape="poly" title=" " alt="" coords="1806,44,1830,57,1881,94,1923,131,1919,135,1878,98,1827,61,1804,49"/>
<area shape="poly" title=" " alt="" coords="1811,108,1892,136,1890,141,1809,113"/>
<area shape="poly" title=" " alt="" coords="1810,154,1861,154,1861,159,1810,159"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a31a185a6bc8b9bf454191a8a95a93595" title=" " alt="" coords="1891,332,2002,373"/>
<area shape="poly" title=" " alt="" coords="1813,350,1875,350,1875,355,1813,355"/>
<area shape="poly" title=" " alt="" coords="1812,198,1890,172,1892,177,1814,203"/>
<area shape="poly" title=" " alt="" coords="1211,235,1276,227,1276,232,1211,240"/>
<area shape="poly" title=" " alt="" coords="630,380,628,370,634,361,648,355,668,353,690,356,703,362,701,367,688,361,668,359,649,361,638,365,633,371,635,379"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="799,306,985,332"/>
<area shape="poly" title=" " alt="" coords="751,316,783,316,783,322,751,322"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="825,388,958,429"/>
<area shape="poly" title=" " alt="" coords="717,330,752,342,836,379,834,384,750,347,715,335"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1033,306,1243,332"/>
<area shape="poly" title=" " alt="" coords="986,316,1018,316,1018,322,986,322"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="843,510,941,536"/>
<area shape="poly" title=" " alt="" coords="730,520,827,520,827,526,730,526"/>
<area shape="poly" title=" " alt="" coords="855,511,847,502,852,492,867,486,892,484,919,486,933,493,931,498,918,491,892,489,868,491,855,496,853,501,859,508"/>
<area shape="poly" title=" " alt="" coords="517,615,659,575,749,546,765,529,774,512,782,493,797,472,840,436,844,440,801,475,786,495,779,514,770,532,752,551,661,580,518,620"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="598,741,738,782"/>
<area shape="poly" title=" " alt="" coords="484,643,528,683,587,726,597,732,594,736,584,731,524,687,480,646"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="598,611,738,651"/>
<area shape="poly" title=" " alt="" coords="534,628,582,628,582,634,534,634"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="601,676,735,717"/>
<area shape="poly" title=" " alt="" coords="510,642,590,668,588,673,508,647"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="806,749,978,774"/>
<area shape="poly" title=" " alt="" coords="739,759,790,759,790,764,739,764"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_icgraph" id="aclasssysio_1_1connection_a5b1658474d4667bfca0ee4e1e2c605a8_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,324,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a4267b7b591fb8051841cf1d11228e0e1" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="a4267b7b591fb8051841cf1d11228e0e1" name="a4267b7b591fb8051841cf1d11228e0e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4267b7b591fb8051841cf1d11228e0e1">&#9670;&#160;</a></span>start_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::connection::start_session </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00954">954</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  954</span>                                  {</div>
<div class="line"><span class="lineno">  955</span>      <a class="code hl_function" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e">verify_strand_in_this_thread</a>( <a class="code hl_variable" href="#a950c534737276c9d0a2724d9801d7def">strand</a>, <a class="code hl_define" href="log__message_8hpp.html#a7d6e1cf1a8d53f38471e9e9db3faf740">__func__</a>, __LINE__ );</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>      update_endpoints();</div>
<div class="line"><span class="lineno">  958</span>      boost::asio::ip::tcp::no_delay nodelay( <span class="keyword">true</span> );</div>
<div class="line"><span class="lineno">  959</span>      boost::system::error_code ec;</div>
<div class="line"><span class="lineno">  960</span>      <a class="code hl_variable" href="#adb1c345e310c4bf64faa889c01440404">socket</a>-&gt;set_option( nodelay, ec );</div>
<div class="line"><span class="lineno">  961</span>      <span class="keywordflow">if</span>( ec ) {</div>
<div class="line"><span class="lineno">  962</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;connection failed (set_option): ${e1}&quot;</span>, ( <span class="stringliteral">&quot;e1&quot;</span>, ec.message() ) );</div>
<div class="line"><span class="lineno">  963</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>();</div>
<div class="line"><span class="lineno">  964</span>         <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  965</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  966</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a051c62a0ec99dcd3e7a38fd03bec1fe0">peer_dlog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;connected&quot;</span> );</div>
<div class="line"><span class="lineno">  967</span>         socket_open = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  968</span>         <a class="code hl_function" href="#a5b1658474d4667bfca0ee4e1e2c605a8">start_read_message</a>();</div>
<div class="line"><span class="lineno">  969</span>         <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  970</span>      }</div>
<div class="line"><span class="lineno">  971</span>   }</div>
<div class="ttc" id="aclasssysio_1_1connection_html_a5b1658474d4667bfca0ee4e1e2c605a8"><div class="ttname"><a href="#a5b1658474d4667bfca0ee4e1e2c605a8">sysio::connection::start_read_message</a></div><div class="ttdeci">void start_read_message()</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l02432">net_plugin.cpp:2432</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_a4267b7b591fb8051841cf1d11228e0e1_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_a4267b7b591fb8051841cf1d11228e0e1_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_a4267b7b591fb8051841cf1d11228e0e1_cgraph" id="aclasssysio_1_1connection_a4267b7b591fb8051841cf1d11228e0e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,599,137,639"/>
<area shape="rect" href="classsysio_1_1connection.html#a7fe7bb50b91bd69cdf56c7c09a868e29" title=" " alt="" coords="384,461,516,502"/>
<area shape="poly" title=" " alt="" coords="129,596,377,505,378,510,130,601"/>
<area shape="rect" href="classsysio_1_1connection.html#a5b1658474d4667bfca0ee4e1e2c605a8" title=" " alt="" coords="185,599,324,639"/>
<area shape="poly" title=" " alt="" coords="137,616,169,616,169,622,137,622"/>
<area shape="rect" href="namespacesysio.html#a19cc0c616331757f980d857722b4e07e" title=" " alt="" coords="187,828,322,869"/>
<area shape="poly" title=" " alt="" coords="91,638,230,814,225,818,87,641"/>
<area shape="poly" title=" " alt="" coords="273,596,315,554,370,511,377,507,380,512,374,516,319,558,276,600"/>
<area shape="rect" href="classfc_1_1message__buffer.html#af4540535b3ef876e42631178c997e59b" title=" " alt="" coords="384,691,517,731"/>
<area shape="poly" title=" " alt="" coords="297,638,373,675,387,681,384,686,371,680,295,642"/>
<area shape="rect" href="classfc_1_1message__buffer.html#a7d14c84a452f14a0616f90cc3771efa9" title=" " alt="" coords="372,755,528,811"/>
<area shape="poly" title=" " alt="" coords="274,638,316,688,374,741,378,744,375,749,370,745,312,692,270,642"/>
<area shape="rect" href="classfc_1_1exception.html#adbc4557b14bc29b74e9cf9f0ed5fb8d8" title=" " alt="" coords="373,526,527,552"/>
<area shape="poly" title=" " alt="" coords="294,596,371,561,387,555,389,560,373,565,297,601"/>
<area shape="rect" href="classfc_1_1exception.html#ab1104818bf0d9b6a29f0dfe036cf97f6" title=" " alt="" coords="384,576,516,601"/>
<area shape="poly" title=" " alt="" coords="324,605,368,598,369,604,325,611"/>
<area shape="rect" href="classsysio_1_1queued__buffer.html#a6175551ba72684aede34883da1ca00fe" title=" " alt="" coords="379,625,521,666"/>
<area shape="poly" title=" " alt="" coords="325,626,364,631,363,637,324,631"/>
<area shape="rect" href="classfc_1_1message__buffer.html#ae7bf97576095b33852c68dbc3cd7737e" title=" " alt="" coords="580,704,713,745"/>
<area shape="poly" title=" " alt="" coords="517,713,565,716,565,721,517,718"/>
<area shape="rect" href="classfc_1_1variant.html#acbd70a93184e4277631f2a261acb707c" title=" " alt="" coords="576,654,717,680"/>
<area shape="poly" title=" " alt="" coords="506,550,530,561,583,600,625,640,622,644,580,604,527,565,504,555"/>
<area shape="rect" href="namespacefc.html#acd5129981ae93fce3154d3fed6f6acbc" title=" " alt="" coords="588,184,705,209"/>
<area shape="poly" title=" " alt="" coords="509,523,527,512,555,479,578,442,597,402,612,361,631,284,640,224,645,225,637,285,617,363,602,404,583,444,559,482,530,516,512,528"/>
<area shape="rect" href="classfc_1_1time__point.html#aa164ff1268a16d4b32afcff181f6100e" title=" " alt="" coords="580,502,713,528"/>
<area shape="poly" title=" " alt="" coords="527,527,565,522,565,528,528,532"/>
<area shape="rect" href="namespacefc.html#a3668095306e6c6c4c53de5d7701e4dde" title=" " alt="" coords="782,617,913,642"/>
<area shape="poly" title=" " alt="" coords="717,651,766,642,767,647,718,657"/>
<area shape="rect" href="classfc_1_1variant.html#aa475101b0f2181350d76a2fdc6cf7c76" title=" " alt="" coords="779,666,916,692"/>
<area shape="poly" title=" " alt="" coords="717,669,764,671,764,677,717,674"/>
<area shape="rect" href="classfc_1_1variant.html#afaae1df286ff97c83301eda21dbd51ea" title=" " alt="" coords="1002,692,1140,717"/>
<area shape="poly" title=" " alt="" coords="686,678,765,702,822,708,881,711,987,709,987,714,881,716,822,713,764,707,685,683"/>
<area shape="rect" href="namespacefc.html#a4e07b3870aa72f8c38bdd5f78044dad1" title=" " alt="" coords="802,768,892,793"/>
<area shape="poly" title=" " alt="" coords="696,678,718,690,734,705,743,719,752,732,766,746,789,759,787,764,763,750,748,736,739,722,730,708,715,695,693,683"/>
<area shape="rect" href="namespacefc.html#a7c8b089501fd00e09e068aa02eacf3de" title=" " alt="" coords="990,617,1152,642"/>
<area shape="poly" title=" " alt="" coords="913,627,975,627,975,632,913,632"/>
<area shape="poly" title=" " alt="" coords="916,684,987,692,987,697,915,689"/>
<area shape="rect" href="namespacefc.html#a578c57f57002a845da7e91ee8bf4287a" title=" " alt="" coords="787,134,908,160"/>
<area shape="poly" title=" " alt="" coords="701,180,776,162,778,167,703,185"/>
<area shape="rect" href="classfc_1_1variant__object.html#a804706455398e249f6272b3ff19cef5d" title=" " alt="" coords="772,184,922,209"/>
<area shape="poly" title=" " alt="" coords="705,194,757,194,757,199,705,199"/>
<area shape="rect" href="classfc_1_1variant__object.html#acfef67913fd3c24ea8017b3a5ad49144" title=" " alt="" coords="787,257,908,298"/>
<area shape="poly" title=" " alt="" coords="682,207,782,249,780,253,680,212"/>
<area shape="rect" href="classfc_1_1time__point.html#aeccf1b70aa34b132c5269313b8a50573" title=" " alt="" coords="765,322,930,348"/>
<area shape="poly" title=" " alt="" coords="660,208,703,256,733,284,766,307,778,313,775,318,763,312,729,288,699,260,656,211"/>
<area shape="rect" href="classfc_1_1variant__object.html#a0e523ff3ad212b0582ad2ac8a07773ae" title=" " alt="" coords="787,20,908,61"/>
<area shape="poly" title=" " alt="" coords="655,181,698,128,729,98,763,70,771,65,774,70,766,75,732,102,702,132,659,185"/>
<area shape="rect" href="classfc_1_1json.html#aa6541960d7f05567559b866cfaf88dfa" title=" " alt="" coords="786,85,908,110"/>
<area shape="poly" title=" " alt="" coords="664,181,708,150,764,119,777,114,779,118,766,124,710,155,667,185"/>
<area shape="rect" href="namespacefc.html#aee7bbe89bfe8d6273f5212938cc1d458" title=" " alt="" coords="1010,184,1132,209"/>
<area shape="poly" title=" " alt="" coords="909,158,996,177,995,182,907,163"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#ad8856ea517c970ed0584a251c3fdc94f" title=" " alt="" coords="1050,134,1092,160"/>
<area shape="poly" title=" " alt="" coords="908,144,1035,144,1035,150,908,150"/>
<area shape="rect" href="namespacefc.html#a47ce6fdd4f18f7f06601e820866d54ec" title=" " alt="" coords="1261,184,1374,209"/>
<area shape="poly" title=" " alt="" coords="1132,194,1246,194,1246,199,1132,199"/>
<area shape="rect" href="namespacefc.html#afdef7bae8756a2c4ba14524f5913d485" title=" " alt="" coords="1245,233,1390,258"/>
<area shape="poly" title=" " alt="" coords="1133,206,1236,227,1235,232,1132,211"/>
<area shape="rect" href="structmie_1_1_vuint_t.html#a1be409ac9e110dc4b60234ce37cbf0c8" title=" " alt="" coords="1258,134,1377,160"/>
<area shape="poly" title=" " alt="" coords="1132,182,1243,159,1244,164,1133,187"/>
<area shape="rect" href="namespacefc.html#afdd13a1463953f18fde2fa891cb5231e" title=" " alt="" coords="1471,209,1576,234"/>
<area shape="poly" title=" " alt="" coords="1375,201,1455,211,1455,216,1374,206"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#abe95547575fcc81911e381df03f8ebfe" title=" " alt="" coords="1624,209,1802,234"/>
<area shape="poly" title=" " alt="" coords="1576,219,1608,219,1608,224,1576,224"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a6e5df73716136aec55e8fcf3309038b6" title="get_sequence_x functions decode utf&#45;8 sequences of the length x" alt="" coords="1869,5,1989,46"/>
<area shape="poly" title=" " alt="" coords="1720,207,1769,137,1806,95,1849,57,1856,52,1859,56,1852,61,1810,99,1773,141,1725,210"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a9d641b9546be985f9f0fd4955ac42a24" title=" " alt="" coords="1869,71,1989,111"/>
<area shape="poly" title=" " alt="" coords="1729,206,1781,166,1849,122,1860,116,1862,121,1852,127,1784,171,1732,211"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ac1809a1fb3fa6983d64a0d3a39646008" title=" " alt="" coords="1869,136,1989,177"/>
<area shape="poly" title=" " alt="" coords="1757,206,1854,176,1855,181,1759,211"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#ad1958e7c6746ba6b1fbb0d81b88b346c" title=" " alt="" coords="1869,201,1989,242"/>
<area shape="poly" title=" " alt="" coords="1802,219,1854,219,1854,224,1802,224"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a97b553137aaeda6e8ca6f8d46f78fd79" title=" " alt="" coords="1866,267,1992,307"/>
<area shape="poly" title=" " alt="" coords="1759,232,1852,261,1851,266,1757,238"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#a3160f6f24dff465f64f83cb0e66995c6" title=" " alt="" coords="1859,332,1999,373"/>
<area shape="poly" title=" " alt="" coords="1732,233,1784,272,1852,317,1862,322,1860,327,1849,321,1781,277,1729,237"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adb347cc81d32ebb0fd22d849f7bff5ea" title=" " alt="" coords="1850,397,2008,438"/>
<area shape="poly" title=" " alt="" coords="1725,233,1773,303,1810,345,1852,382,1859,387,1856,392,1849,386,1806,348,1769,306,1720,236"/>
<area shape="rect" href="namespaceutf8_1_1internal.html#adf6e0469e279b9562aa461b4c3c1e7e4" title=" " alt="" coords="2056,144,2196,169"/>
<area shape="poly" title=" " alt="" coords="1985,44,2009,57,2060,94,2102,131,2099,135,2057,98,2006,61,1983,49"/>
<area shape="poly" title=" " alt="" coords="1990,108,2072,136,2070,141,1988,113"/>
<area shape="poly" title=" " alt="" coords="1989,154,2040,154,2040,159,1989,159"/>
<area shape="poly" title=" " alt="" coords="1988,199,2070,172,2072,177,1990,204"/>
<area shape="poly" title=" " alt="" coords="1989,395,2006,382,2046,334,2078,279,2100,226,2115,183,2120,185,2105,228,2082,282,2051,337,2009,386,1992,399"/>
<area shape="poly" title=" " alt="" coords="1390,235,1455,227,1456,232,1391,240"/>
<area shape="poly" title=" " alt="" coords="809,257,807,247,814,238,827,233,847,231,869,233,882,239,880,244,868,238,847,236,828,238,817,243,812,248,814,256"/>
<area shape="rect" href="classfc_1_1microseconds.html#afc3eb0bfd792c7b1cda062e559e30c2e" title=" " alt="" coords="978,322,1164,348"/>
<area shape="poly" title=" " alt="" coords="930,332,962,332,962,338,930,338"/>
<area shape="rect" href="classfc_1_1time__point.html#ab46781dcaab4880902bc136f36e39e5e" title=" " alt="" coords="1004,433,1138,474"/>
<area shape="poly" title=" " alt="" coords="901,346,931,358,986,389,1033,422,1030,426,983,393,929,363,899,351"/>
<area shape="rect" href="classfc_1_1microseconds.html#a0c79856cd3ab96153901a64961bf216f" title=" " alt="" coords="1212,322,1423,348"/>
<area shape="poly" title=" " alt="" coords="1165,332,1197,332,1197,338,1165,338"/>
<area shape="rect" href="namespacefc.html#af9bea69c5790941ddc601fcd96cce071" title=" " alt="" coords="1022,85,1120,110"/>
<area shape="poly" title=" " alt="" coords="909,95,1006,95,1006,100,909,100"/>
<area shape="poly" title=" " alt="" coords="1034,86,1027,76,1031,66,1046,60,1071,58,1099,61,1112,68,1110,72,1097,66,1071,63,1047,66,1035,70,1032,76,1038,83"/>
<area shape="poly" title=" " alt="" coords="713,509,815,502,930,487,989,474,990,479,930,492,816,507,713,515"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0bed781012a73b8c15882648397b56be" title=" " alt="" coords="777,552,918,593"/>
<area shape="poly" title=" " alt="" coords="695,526,763,546,762,551,694,531"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#adddeebdf472c33f927827c111ddbf0b1" title=" " alt="" coords="777,372,918,413"/>
<area shape="poly" title=" " alt="" coords="661,500,705,463,763,423,774,417,777,422,766,428,708,467,664,504"/>
<area shape="rect" href="classfc_1_1time__point.html#abfea5efbe9ef58024cda814395ee9945" title=" " alt="" coords="781,437,914,478"/>
<area shape="poly" title=" " alt="" coords="694,499,765,478,767,483,695,504"/>
<area shape="rect" href="classfc_1_1mock__time__traits.html#a0d7245b32fd62b3bc712f658250cc4db" title=" " alt="" coords="985,560,1157,585"/>
<area shape="poly" title=" " alt="" coords="918,570,969,570,969,575,918,575"/>
<area shape="rect" href="namespaceappbase.html#a99374dc23934f008a09f2f79be9eae40" title=" " alt="" coords="400,836,500,861"/>
<area shape="poly" title=" " alt="" coords="322,846,385,846,385,851,322,851"/>
<area shape="rect" href="classappbase_1_1application.html#a81aa58d3f94570b7976145039155fc46" title=" " alt="" coords="380,885,520,926"/>
<area shape="poly" title=" " alt="" coords="323,866,366,878,364,883,321,871"/>
<area shape="rect" href="classappbase_1_1application.html#ac874b2659b400fe254f1ae4260d06ecf" title=" " alt="" coords="576,828,717,869"/>
<area shape="poly" title=" " alt="" coords="500,846,561,846,561,851,500,851"/>
</map>
</div>

</div>
</div>
<a id="ab07f49d550a613d2ceb2520b331f5ac1" name="ab07f49d550a613d2ceb2520b331f5ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab07f49d550a613d2ceb2520b331f5ac1">&#9670;&#160;</a></span>stop_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::stop_send </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01133">1133</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1133</span>                              {</div>
<div class="line"><span class="lineno"> 1134</span>      <a class="code hl_variable" href="#ab77357d0ed0b422c2d6a15065d818ff6">syncing</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1135</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ab07f49d550a613d2ceb2520b331f5ac1_icgraph.png" border="0" usemap="#aclasssysio_1_1connection_ab07f49d550a613d2ceb2520b331f5ac1_icgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ab07f49d550a613d2ceb2520b331f5ac1_icgraph" id="aclasssysio_1_1connection_ab07f49d550a613d2ceb2520b331f5ac1_icgraph">
<area shape="rect" title=" " alt="" coords="185,5,316,46"/>
<area shape="rect" href="classsysio_1_1connection.html#a7ec6bfca8f639dbced53570e5a41ce36" title=" " alt="" coords="5,5,137,46"/>
<area shape="poly" title=" " alt="" coords="169,28,137,28,137,23,169,23"/>
</map>
</div>

</div>
</div>
<a id="ad0e0cfdddd3e9310edf72ac725bbe995" name="ad0e0cfdddd3e9310edf72ac725bbe995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e0cfdddd3e9310edf72ac725bbe995">&#9670;&#160;</a></span>sync_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::sync_timeout </td>
          <td>(</td>
          <td class="paramtype">boost::system::error_code</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01485">1485</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1485</span>                                                           {</div>
<div class="line"><span class="lineno"> 1486</span>      <span class="keywordflow">if</span>( !ec ) {</div>
<div class="line"><span class="lineno"> 1487</span>         my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a1ec38b54825da7f4f2ba7901d6318fd7">sync_master</a>-&gt;sync_reassign_fetch( shared_from_this(), <a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fafd1331a94b3ecffdc5fcfdcd3d03687c">benign_other</a> );</div>
<div class="line"><span class="lineno"> 1488</span>         <a class="code hl_function" href="#a7fe7bb50b91bd69cdf56c7c09a868e29">close</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1489</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ec != boost::asio::error::operation_aborted ) { <span class="comment">// don&#39;t log on operation_aborted, called on destroy</span></div>
<div class="line"><span class="lineno"> 1490</span>         <a class="code hl_define" href="net__plugin_8cpp.html#a0237ff767d828f6a423a4728c65b11b8">peer_elog</a>( <span class="keyword">this</span>, <span class="stringliteral">&quot;setting timer for sync request got error ${ec}&quot;</span>, (<span class="stringliteral">&quot;ec&quot;</span>, ec.message()) );</div>
<div class="line"><span class="lineno"> 1491</span>      }</div>
<div class="line"><span class="lineno"> 1492</span>   }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1connection_ad0e0cfdddd3e9310edf72ac725bbe995_cgraph.png" border="0" usemap="#aclasssysio_1_1connection_ad0e0cfdddd3e9310edf72ac725bbe995_cgraph" alt=""/></div>
<map name="aclasssysio_1_1connection_ad0e0cfdddd3e9310edf72ac725bbe995_cgraph" id="aclasssysio_1_1connection_ad0e0cfdddd3e9310edf72ac725bbe995_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,137,46"/>
<area shape="rect" href="integration_8cpp.html#af5b66d867a040d002fb57d645cae3fb4" title=" " alt="" coords="185,13,237,38"/>
<area shape="poly" title=" " alt="" coords="137,23,169,23,169,28,137,28"/>
</map>
</div>

</div>
</div>
<a id="a80478330d64f3618011b52a3d46741bf" name="a80478330d64f3618011b52a3d46741bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80478330d64f3618011b52a3d46741bf">&#9670;&#160;</a></span>sync_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::connection::sync_wait </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l01463">1463</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1463</span>                              {</div>
<div class="line"><span class="lineno"> 1464</span>      <a class="code hl_typedef" href="debug__client_8cpp.html#ae9c9779aea742ab80689add7e553df0d">connection_ptr</a> c(shared_from_this());</div>
<div class="line"><span class="lineno"> 1465</span>      std::lock_guard&lt;std::mutex&gt; g( <a class="code hl_variable" href="#a70c7d2d3ab6b30deeaf88b98925623c2">response_expected_timer_mtx</a> );</div>
<div class="line"><span class="lineno"> 1466</span>      <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>.expires_from_now( my_impl-&gt;<a class="code hl_variable" href="classsysio_1_1net__plugin__impl.html#a889da348e86c742b7551deac74b592aa">resp_expected_period</a> );</div>
<div class="line"><span class="lineno"> 1467</span>      <a class="code hl_variable" href="#a237374fa72d9b4b4e56f6f9a685bed1a">response_expected_timer</a>.async_wait(</div>
<div class="line"><span class="lineno"> 1468</span>            boost::asio::bind_executor( c-&gt;strand, [c]( boost::system::error_code ec ) {</div>
<div class="line"><span class="lineno"> 1469</span>               c-&gt;sync_timeout( ec );</div>
<div class="line"><span class="lineno"> 1470</span>            } ) );</div>
<div class="line"><span class="lineno"> 1471</span>   }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a92ba884c29f380a737f997a9ff3264f5" name="a92ba884c29f380a737f997a9ff3264f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ba884c29f380a737f997a9ff3264f5">&#9670;&#160;</a></span>block_status_monitor_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1block__status__monitor.html">block_status_monitor</a> sysio::connection::block_status_monitor_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00645">645</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a8386b853edf1cbab18a09b8123cc525c" name="a8386b853edf1cbab18a09b8123cc525c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8386b853edf1cbab18a09b8123cc525c">&#9670;&#160;</a></span>buffer_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsysio_1_1queued__buffer.html">queued_buffer</a> sysio::connection::buffer_queue</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00626">626</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a675e5b04f968aa689c49d511c601fffa" name="a675e5b04f968aa689c49d511c601fffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a675e5b04f968aa689c49d511c601fffa">&#9670;&#160;</a></span>conn_mtx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex sysio::connection::conn_mtx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00653">653</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a5876262162c34ec954ada46f15fe9992" name="a5876262162c34ec954ada46f15fe9992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5876262162c34ec954ada46f15fe9992">&#9670;&#160;</a></span>conn_node_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1sha256.html">fc::sha256</a> sysio::connection::conn_node_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00628">628</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a2cb1b55074b31325f9845700fd7ede82" name="a2cb1b55074b31325f9845700fd7ede82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb1b55074b31325f9845700fd7ede82">&#9670;&#160;</a></span>connecting</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; sysio::connection::connecting {true}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00640">640</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  640</span>{<span class="keyword">true</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1eb3bd460e47bead479e1b6f7eb58df4" name="a1eb3bd460e47bead479e1b6f7eb58df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb3bd460e47bead479e1b6f7eb58df4">&#9670;&#160;</a></span>connection_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::connection::connection_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00638">638</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a78f01e104b28e119cd1dbc3dff3a9af0" name="a78f01e104b28e119cd1dbc3dff3a9af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f01e104b28e119cd1dbc3dff3a9af0">&#9670;&#160;</a></span>consecutive_immediate_connection_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&gt; sysio::connection::consecutive_immediate_connection_close = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00646">646</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="af43cec49a0884310396dad6d01c392e1" name="af43cec49a0884310396dad6d01c392e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43cec49a0884310396dad6d01c392e1">&#9670;&#160;</a></span>dst</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::dst {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00671">671</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  671</span>{0};          </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ab199b4d05aa4d83530e3342ecbfa1e" name="a8ab199b4d05aa4d83530e3342ecbfa1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab199b4d05aa4d83530e3342ecbfa1e">&#9670;&#160;</a></span>fork_head</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio_1_1chain.html#a4b8e4b7ed9dcd18ee75d0de62e88aa17">block_id_type</a> sysio::connection::fork_head</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00657">657</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="aa85ae38be5738029a500379b8d893091" name="aa85ae38be5738029a500379b8d893091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85ae38be5738029a500379b8d893091">&#9670;&#160;</a></span>fork_head_num</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sysio::connection::fork_head_num {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00658">658</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  658</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f3730a3eedfe33fa59dae7c485c341a" name="a1f3730a3eedfe33fa59dae7c485c341a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3730a3eedfe33fa59dae7c485c341a">&#9670;&#160;</a></span>hb_timeout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::hb_timeout {std::chrono::milliseconds{<a class="el" href="namespacesysio.html#abc26639460234641b6403139e74422ed">def_keepalive_interval</a>}.<a class="el" href="gmock__stress__test_8cc.html#afd9db40e3361ae09188795e8cbe19752">count</a>()}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00676">676</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  676</span>{std::chrono::milliseconds{<a class="code hl_variable" href="namespacesysio.html#abc26639460234641b6403139e74422ed">def_keepalive_interval</a>}.count()};</div>
<div class="ttc" id="anamespacesysio_html_abc26639460234641b6403139e74422ed"><div class="ttname"><a href="namespacesysio.html#abc26639460234641b6403139e74422ed">sysio::def_keepalive_interval</a></div><div class="ttdeci">constexpr auto def_keepalive_interval</div><div class="ttdef"><b>Definition</b> <a href="net__plugin_8cpp_source.html#l00212">net_plugin.cpp:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b3e4fc9f2aba1b00e501e2419a2ca1c" name="a1b3e4fc9f2aba1b00e501e2419a2ca1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3e4fc9f2aba1b00e501e2419a2ca1c">&#9670;&#160;</a></span>last_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a> sysio::connection::last_close</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00659">659</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a5568620d90b51490488682e99abe1802" name="a5568620d90b51490488682e99abe1802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5568620d90b51490488682e99abe1802">&#9670;&#160;</a></span>last_dropped_trx_msg_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1time__point.html">fc::time_point</a> sysio::connection::last_dropped_trx_msg_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00637">637</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a158c59b44186c7757311f14f71818ec8" name="a158c59b44186c7757311f14f71818ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158c59b44186c7757311f14f71818ec8">&#9670;&#160;</a></span>last_handshake_recv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> sysio::connection::last_handshake_recv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00655">655</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="ab3d0dbb3bb254cbea92508af42dfe75b" name="ab3d0dbb3bb254cbea92508af42dfe75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d0dbb3bb254cbea92508af42dfe75b">&#9670;&#160;</a></span>last_handshake_sent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsysio_1_1handshake__message.html">handshake_message</a> sysio::connection::last_handshake_sent</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00656">656</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="aba96e14eb1339b623e37c8e097560e8f" name="aba96e14eb1339b623e37c8e097560e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba96e14eb1339b623e37c8e097560e8f">&#9670;&#160;</a></span>last_req</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="structsysio_1_1request__message.html">request_message</a>&gt; sysio::connection::last_req</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00654">654</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a1bf388b9e64d25616cefd8d6b1175fc7" name="a1bf388b9e64d25616cefd8d6b1175fc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf388b9e64d25616cefd8d6b1175fc7">&#9670;&#160;</a></span>latest_blk_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::latest_blk_time {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00677">677</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  677</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a718e2bd1f4e3bcd87979a578e1d49d7a" name="a718e2bd1f4e3bcd87979a578e1d49d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718e2bd1f4e3bcd87979a578e1d49d7a">&#9670;&#160;</a></span>latest_msg_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::latest_msg_time {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00675">675</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  675</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="abaffefd3dd270392c59a876c12f86bf2" name="abaffefd3dd270392c59a876c12f86bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaffefd3dd270392c59a876c12f86bf2">&#9670;&#160;</a></span>local_endpoint_ip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::local_endpoint_ip</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00633">633</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="af46386111a6f93fe2ce3a9029677dca4" name="af46386111a6f93fe2ce3a9029677dca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46386111a6f93fe2ce3a9029677dca4">&#9670;&#160;</a></span>local_endpoint_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::local_endpoint_port</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00634">634</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="aaeb74503530f57f9cc88f8a33bdb2980" name="aaeb74503530f57f9cc88f8a33bdb2980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeb74503530f57f9cc88f8a33bdb2980">&#9670;&#160;</a></span>log_p2p_address</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::log_p2p_address</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00630">630</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="ac0e50a9bca0cca0c77ce7d1763832714" name="ac0e50a9bca0cca0c77ce7d1763832714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e50a9bca0cca0c77ce7d1763832714">&#9670;&#160;</a></span>log_remote_endpoint_ip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::log_remote_endpoint_ip</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00631">631</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a9d6df697090f0105fbcd82ee97f65712" name="a9d6df697090f0105fbcd82ee97f65712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6df697090f0105fbcd82ee97f65712">&#9670;&#160;</a></span>log_remote_endpoint_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::log_remote_endpoint_port</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00632">632</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="aa7543fc95097fd14c4d8f66173af561a" name="aa7543fc95097fd14c4d8f66173af561a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7543fc95097fd14c4d8f66173af561a">&#9670;&#160;</a></span>net_version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sysio::connection::net_version = <a class="el" href="namespacesysio.html#a0d4d33daf7d396995fc2eb0d016bd1d2">net_version_max</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00644">644</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a6b2649c5a44369243b03ddc3a5ee3695" name="a6b2649c5a44369243b03ddc3a5ee3695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b2649c5a44369243b03ddc3a5ee3695">&#9670;&#160;</a></span>no_retry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673f">go_away_reason</a>&gt; sysio::connection::no_retry {<a class="el" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00651">651</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  651</span>{<a class="code hl_enumvalue" href="namespacesysio.html#a5c18cd9d34b8c5d3af8e2de75577673fa35a3ee195246082e99a69c2636252839">no_reason</a>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c055550228586b3534a4f2b5e87bc4e" name="a6c055550228586b3534a4f2b5e87bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c055550228586b3534a4f2b5e87bc4e">&#9670;&#160;</a></span>org</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::org {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00669">669</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  669</span>{0};          </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3de4218791d8273eb83a54409af84cf1" name="a3de4218791d8273eb83a54409af84cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de4218791d8273eb83a54409af84cf1">&#9670;&#160;</a></span>outstanding_read_bytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;std::size_t&gt; sysio::connection::outstanding_read_bytes {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00624">624</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  624</span>{0}; <span class="comment">// accessed only from strand threads</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af241d498d210d4e238b73f7bcd1c45d1" name="af241d498d210d4e238b73f7bcd1c45d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af241d498d210d4e238b73f7bcd1c45d1">&#9670;&#160;</a></span>pending_message_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfc_1_1message__buffer.html">fc::message_buffer</a>&lt;1024*1024&gt; sysio::connection::pending_message_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00623">623</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="ad20dc31a68afa8406a64e6e69ecebb02" name="ad20dc31a68afa8406a64e6e69ecebb02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20dc31a68afa8406a64e6e69ecebb02">&#9670;&#160;</a></span>protocol_version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&gt; sysio::connection::protocol_version = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00643">643</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a0bc9d553ad16bc63449cdbcf6825c59f" name="a0bc9d553ad16bc63449cdbcf6825c59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bc9d553ad16bc63449cdbcf6825c59f">&#9670;&#160;</a></span>rec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::rec {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00670">670</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  670</span>{0};          </div>
</div><!-- fragment -->
</div>
</div>
<a id="a653ababe3f1f98f1bc7af29fff045b4f" name="a653ababe3f1f98f1bc7af29fff045b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653ababe3f1f98f1bc7af29fff045b4f">&#9670;&#160;</a></span>remote_endpoint_ip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::remote_endpoint_ip</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00660">660</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a237374fa72d9b4b4e56f6f9a685bed1a" name="a237374fa72d9b4b4e56f6f9a685bed1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237374fa72d9b4b4e56f6f9a685bed1a">&#9670;&#160;</a></span>response_expected_timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::steady_timer sysio::connection::response_expected_timer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00649">649</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a70c7d2d3ab6b30deeaf88b98925623c2" name="a70c7d2d3ab6b30deeaf88b98925623c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c7d2d3ab6b30deeaf88b98925623c2">&#9670;&#160;</a></span>response_expected_timer_mtx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex sysio::connection::response_expected_timer_mtx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00648">648</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a3b487d20a19e5f81f3024d276078d397" name="a3b487d20a19e5f81f3024d276078d397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b487d20a19e5f81f3024d276078d397">&#9670;&#160;</a></span>sent_handshake_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> sysio::connection::sent_handshake_count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00639">639</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a855625cd0312ce982b74ddc4e5a753ff" name="a855625cd0312ce982b74ddc4e5a753ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855625cd0312ce982b74ddc4e5a753ff">&#9670;&#160;</a></span>short_conn_node_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacefc.html#a0f3d84fe9e7adcd2d1e0bb7b60b49aa0">string</a> sysio::connection::short_conn_node_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00629">629</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="adb1c345e310c4bf64faa889c01440404" name="adb1c345e310c4bf64faa889c01440404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1c345e310c4bf64faa889c01440404">&#9670;&#160;</a></span>socket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;tcp::socket&gt; sysio::connection::socket</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00621">621</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="a950c534737276c9d0a2724d9801d7def" name="a950c534737276c9d0a2724d9801d7def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950c534737276c9d0a2724d9801d7def">&#9670;&#160;</a></span>strand</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_context::strand sysio::connection::strand</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00620">620</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>

</div>
</div>
<a id="ab77357d0ed0b422c2d6a15065d818ff6" name="ab77357d0ed0b422c2d6a15065d818ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab77357d0ed0b422c2d6a15065d818ff6">&#9670;&#160;</a></span>syncing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; sysio::connection::syncing {false}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00641">641</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  641</span>{<span class="keyword">false</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad60ce32fad045e086d4681636391851b" name="ad60ce32fad045e086d4681636391851b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60ce32fad045e086d4681636391851b">&#9670;&#160;</a></span>trx_in_progress_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&gt; sysio::connection::trx_in_progress_size {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00636">636</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  636</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ddd29a8f7e1d9a3d21a79c8fdf21521" name="a1ddd29a8f7e1d9a3d21a79c8fdf21521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddd29a8f7e1d9a3d21a79c8fdf21521">&#9670;&#160;</a></span>xmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesysio.html#a42c15380188aaacda97b061d7c538d13">tstamp</a> sysio::connection::xmt {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="net__plugin_8cpp_source.html#l00672">672</a> of file <a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  672</span>{0};          </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>plugins/net_plugin/<a class="el" href="net__plugin_8cpp_source.html">net_plugin.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="classsysio_1_1connection.html">connection</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
