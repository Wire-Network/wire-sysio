<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: websocketpp::connection&lt; config &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classwebsocketpp_1_1connection.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classwebsocketpp_1_1connection-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">websocketpp::connection&lt; config &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Represents an individual WebSocket connection.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="connection_8hpp_source.html">connection.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for websocketpp::connection&lt; config &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection__inherit__graph.png" border="0" usemap="#awebsocketpp_1_1connection_3_01config_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="awebsocketpp_1_1connection_3_01config_01_4_inherit__map" id="awebsocketpp_1_1connection_3_01config_01_4_inherit__map">
<area shape="rect" title="Represents an individual WebSocket connection." alt="" coords="84,94,253,135"/>
<area shape="rect" title=" " alt="" coords="5,5,153,46"/>
<area shape="poly" title=" " alt="" coords="112,55,150,92,146,95,108,59"/>
<area shape="rect" title=" " alt="" coords="176,13,339,38"/>
<area shape="poly" title=" " alt="" coords="236,51,190,95,187,92,233,48"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for websocketpp::connection&lt; config &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection__coll__graph.png" border="0" usemap="#awebsocketpp_1_1connection_3_01config_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="awebsocketpp_1_1connection_3_01config_01_4_coll__map" id="awebsocketpp_1_1connection_3_01config_01_4_coll__map">
<area shape="rect" title="Represents an individual WebSocket connection." alt="" coords="84,94,253,135"/>
<area shape="rect" title=" " alt="" coords="5,5,153,46"/>
<area shape="poly" title=" " alt="" coords="112,55,150,92,146,95,108,59"/>
<area shape="rect" title=" " alt="" coords="176,13,339,38"/>
<area shape="poly" title=" " alt="" coords="236,51,190,95,187,92,233,48"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acab063acca678826cf2786aca15cc395" id="r_acab063acca678826cf2786aca15cc395"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwebsocketpp_1_1connection.html">connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acab063acca678826cf2786aca15cc395">type</a></td></tr>
<tr class="memdesc:acab063acca678826cf2786aca15cc395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of this connection.  <br /></td></tr>
<tr class="separator:acab063acca678826cf2786aca15cc395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5839adca921ce08ea3ca3e634155e86" id="r_af5839adca921ce08ea3ca3e634155e86"><td class="memItemLeft" align="right" valign="top">typedef lib::shared_ptr&lt; <a class="el" href="#acab063acca678826cf2786aca15cc395">type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5839adca921ce08ea3ca3e634155e86">ptr</a></td></tr>
<tr class="memdesc:af5839adca921ce08ea3ca3e634155e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a shared pointer to this connection.  <br /></td></tr>
<tr class="separator:af5839adca921ce08ea3ca3e634155e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d3321aee803b0c23f4a72e6c5cc875" id="r_a96d3321aee803b0c23f4a72e6c5cc875"><td class="memItemLeft" align="right" valign="top">typedef lib::weak_ptr&lt; <a class="el" href="#acab063acca678826cf2786aca15cc395">type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96d3321aee803b0c23f4a72e6c5cc875">weak_ptr</a></td></tr>
<tr class="memdesc:a96d3321aee803b0c23f4a72e6c5cc875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a weak pointer to this connection.  <br /></td></tr>
<tr class="separator:a96d3321aee803b0c23f4a72e6c5cc875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084a79f735c53d51c876fbc42d960f76" id="r_a084a79f735c53d51c876fbc42d960f76"><td class="memItemLeft" align="right" valign="top">typedef config::concurrency_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a084a79f735c53d51c876fbc42d960f76">concurrency_type</a></td></tr>
<tr class="memdesc:a084a79f735c53d51c876fbc42d960f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the concurrency component of this connection.  <br /></td></tr>
<tr class="separator:a084a79f735c53d51c876fbc42d960f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e19c977ae062a790e92fdeb67b459ae" id="r_a3e19c977ae062a790e92fdeb67b459ae"><td class="memItemLeft" align="right" valign="top">typedef config::alog_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e19c977ae062a790e92fdeb67b459ae">alog_type</a></td></tr>
<tr class="memdesc:a3e19c977ae062a790e92fdeb67b459ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the access logging policy.  <br /></td></tr>
<tr class="separator:a3e19c977ae062a790e92fdeb67b459ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c1430d51d95862725fd92d176b4ec8" id="r_a11c1430d51d95862725fd92d176b4ec8"><td class="memItemLeft" align="right" valign="top">typedef config::elog_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11c1430d51d95862725fd92d176b4ec8">elog_type</a></td></tr>
<tr class="memdesc:a11c1430d51d95862725fd92d176b4ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the error logging policy.  <br /></td></tr>
<tr class="separator:a11c1430d51d95862725fd92d176b4ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5eb5c1a01276a32aa43ebc541c06650" id="r_ae5eb5c1a01276a32aa43ebc541c06650"><td class="memItemLeft" align="right" valign="top">typedef config::transport_type::transport_con_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5eb5c1a01276a32aa43ebc541c06650">transport_con_type</a></td></tr>
<tr class="memdesc:ae5eb5c1a01276a32aa43ebc541c06650"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the transport component of this connection.  <br /></td></tr>
<tr class="separator:ae5eb5c1a01276a32aa43ebc541c06650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c5cd12bf62315d2d64b1b9d426a467" id="r_a94c5cd12bf62315d2d64b1b9d426a467"><td class="memItemLeft" align="right" valign="top">typedef transport_con_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94c5cd12bf62315d2d64b1b9d426a467">transport_con_ptr</a></td></tr>
<tr class="memdesc:a94c5cd12bf62315d2d64b1b9d426a467"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a shared pointer to the transport component of this connection.  <br /></td></tr>
<tr class="separator:a94c5cd12bf62315d2d64b1b9d426a467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dafdb1188f82418a8fd33a3638496ea" id="r_a0dafdb1188f82418a8fd33a3638496ea"><td class="memItemLeft" align="right" valign="top">typedef lib::function&lt; void(<a class="el" href="#af5839adca921ce08ea3ca3e634155e86">ptr</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0dafdb1188f82418a8fd33a3638496ea">termination_handler</a></td></tr>
<tr class="separator:a0dafdb1188f82418a8fd33a3638496ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98eee129ad1f7e30c059c1073d516495" id="r_a98eee129ad1f7e30c059c1073d516495"><td class="memItemLeft" align="right" valign="top">typedef concurrency_type::scoped_lock_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a></td></tr>
<tr class="separator:a98eee129ad1f7e30c059c1073d516495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9985bdbd086030ef65243aa7563bc4c" id="r_af9985bdbd086030ef65243aa7563bc4c"><td class="memItemLeft" align="right" valign="top">typedef concurrency_type::mutex_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9985bdbd086030ef65243aa7563bc4c">mutex_type</a></td></tr>
<tr class="separator:af9985bdbd086030ef65243aa7563bc4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1de69db1764ab30dc4f30bb84a6565" id="r_afd1de69db1764ab30dc4f30bb84a6565"><td class="memItemLeft" align="right" valign="top">typedef config::request_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd1de69db1764ab30dc4f30bb84a6565">request_type</a></td></tr>
<tr class="separator:afd1de69db1764ab30dc4f30bb84a6565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3057f017dd336275028a1cab5a7a28a6" id="r_a3057f017dd336275028a1cab5a7a28a6"><td class="memItemLeft" align="right" valign="top">typedef config::response_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3057f017dd336275028a1cab5a7a28a6">response_type</a></td></tr>
<tr class="separator:a3057f017dd336275028a1cab5a7a28a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f170ce183202d226bd070cc893d053b" id="r_a2f170ce183202d226bd070cc893d053b"><td class="memItemLeft" align="right" valign="top">typedef config::message_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f170ce183202d226bd070cc893d053b">message_type</a></td></tr>
<tr class="separator:a2f170ce183202d226bd070cc893d053b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470a4dfe286833dc14e0906eb6e858a5" id="r_a470a4dfe286833dc14e0906eb6e858a5"><td class="memItemLeft" align="right" valign="top">typedef message_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a></td></tr>
<tr class="separator:a470a4dfe286833dc14e0906eb6e858a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e62887c79026aedab18c8272726417" id="r_a75e62887c79026aedab18c8272726417"><td class="memItemLeft" align="right" valign="top">typedef config::con_msg_manager_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75e62887c79026aedab18c8272726417">con_msg_manager_type</a></td></tr>
<tr class="separator:a75e62887c79026aedab18c8272726417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a82be4c089d29e146be36509d81ec0" id="r_a67a82be4c089d29e146be36509d81ec0"><td class="memItemLeft" align="right" valign="top">typedef con_msg_manager_type::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67a82be4c089d29e146be36509d81ec0">con_msg_manager_ptr</a></td></tr>
<tr class="separator:a67a82be4c089d29e146be36509d81ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e668171dd8bfdd8b6e46d17b4134047" id="r_a5e668171dd8bfdd8b6e46d17b4134047"><td class="memItemLeft" align="right" valign="top">typedef config::rng_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e668171dd8bfdd8b6e46d17b4134047">rng_type</a></td></tr>
<tr class="memdesc:a5e668171dd8bfdd8b6e46d17b4134047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of RNG.  <br /></td></tr>
<tr class="separator:a5e668171dd8bfdd8b6e46d17b4134047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af765e8a2b035f16cae8cf26c727f0bb5" id="r_af765e8a2b035f16cae8cf26c727f0bb5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">processor::processor</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af765e8a2b035f16cae8cf26c727f0bb5">processor_type</a></td></tr>
<tr class="separator:af765e8a2b035f16cae8cf26c727f0bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4014eb117e056fcdd0a3ff1c42743209" id="r_a4014eb117e056fcdd0a3ff1c42743209"><td class="memItemLeft" align="right" valign="top">typedef lib::shared_ptr&lt; <a class="el" href="#af765e8a2b035f16cae8cf26c727f0bb5">processor_type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4014eb117e056fcdd0a3ff1c42743209">processor_ptr</a></td></tr>
<tr class="separator:a4014eb117e056fcdd0a3ff1c42743209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78988e5609b6ccdbd0949d5cd5fe440a" id="r_a78988e5609b6ccdbd0949d5cd5fe440a"><td class="memItemLeft" align="right" valign="top">typedef lib::function&lt; void(<a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a>, <a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78988e5609b6ccdbd0949d5cd5fe440a">message_handler</a></td></tr>
<tr class="separator:a78988e5609b6ccdbd0949d5cd5fe440a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4c89218537431ab0831d1f5d356a80" id="r_a4c4c89218537431ab0831d1f5d356a80"><td class="memItemLeft" align="right" valign="top">typedef transport_con_type::timer_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c4c89218537431ab0831d1f5d356a80">timer_ptr</a></td></tr>
<tr class="memdesc:a4c4c89218537431ab0831d1f5d356a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a pointer to a transport timer handle.  <br /></td></tr>
<tr class="separator:a4c4c89218537431ab0831d1f5d356a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18f126ff904fec9f2983681902490c1" id="r_ad18f126ff904fec9f2983681902490c1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508d">session::internal_state::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad18f126ff904fec9f2983681902490c1">istate_type</a></td></tr>
<tr class="separator:ad18f126ff904fec9f2983681902490c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a525947d8d33ee1e410d02706246ffe94" id="r_a525947d8d33ee1e410d02706246ffe94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a525947d8d33ee1e410d02706246ffe94">connection</a> (bool p_is_server, std::string const &amp;ua, <a class="el" href="#a3e19c977ae062a790e92fdeb67b459ae">alog_type</a> &amp;alog, <a class="el" href="#a11c1430d51d95862725fd92d176b4ec8">elog_type</a> &amp;<a class="el" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>, <a class="el" href="#a5e668171dd8bfdd8b6e46d17b4134047">rng_type</a> &amp;rng)</td></tr>
<tr class="separator:a525947d8d33ee1e410d02706246ffe94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01a5af7dc2f35ff8f15da8c2cf3a3b02" id="r_a01a5af7dc2f35ff8f15da8c2cf3a3b02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#af5839adca921ce08ea3ca3e634155e86">ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">get_shared</a> ()</td></tr>
<tr class="memdesc:a01a5af7dc2f35ff8f15da8c2cf3a3b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a shared pointer to this component.  <br /></td></tr>
<tr class="separator:a01a5af7dc2f35ff8f15da8c2cf3a3b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11271e7778fbfde3a1987fca729af6d" id="r_ab11271e7778fbfde3a1987fca729af6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab11271e7778fbfde3a1987fca729af6d">set_open_handler</a> (<a class="el" href="namespacewebsocketpp.html#a53c8b4ae59cf13b5f883b119bbd14d72">open_handler</a> h)</td></tr>
<tr class="memdesc:ab11271e7778fbfde3a1987fca729af6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set open handler.  <br /></td></tr>
<tr class="separator:ab11271e7778fbfde3a1987fca729af6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fb7096431b1d7350c34035db7ed9a4" id="r_a25fb7096431b1d7350c34035db7ed9a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25fb7096431b1d7350c34035db7ed9a4">set_close_handler</a> (<a class="el" href="namespacewebsocketpp.html#a27acb39e01cbca06ccc4e4e8eb8f877d">close_handler</a> h)</td></tr>
<tr class="memdesc:a25fb7096431b1d7350c34035db7ed9a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set close handler.  <br /></td></tr>
<tr class="separator:a25fb7096431b1d7350c34035db7ed9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2515bc6821f90c531efe77c8a32569" id="r_a8d2515bc6821f90c531efe77c8a32569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d2515bc6821f90c531efe77c8a32569">set_fail_handler</a> (<a class="el" href="namespacewebsocketpp.html#a5bb2e61cfe649b2e012f1a2c5693a4d5">fail_handler</a> h)</td></tr>
<tr class="memdesc:a8d2515bc6821f90c531efe77c8a32569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set fail handler.  <br /></td></tr>
<tr class="separator:a8d2515bc6821f90c531efe77c8a32569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e21e63abbbba88f818742e9da25fa8b" id="r_a6e21e63abbbba88f818742e9da25fa8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e21e63abbbba88f818742e9da25fa8b">set_ping_handler</a> (<a class="el" href="namespacewebsocketpp.html#a9dcaaa7370865f1bcacb55ae715793ef">ping_handler</a> h)</td></tr>
<tr class="memdesc:a6e21e63abbbba88f818742e9da25fa8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set ping handler.  <br /></td></tr>
<tr class="separator:a6e21e63abbbba88f818742e9da25fa8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298795eaa6d554ca5114ff23346d47a9" id="r_a298795eaa6d554ca5114ff23346d47a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a298795eaa6d554ca5114ff23346d47a9">set_pong_handler</a> (<a class="el" href="namespacewebsocketpp.html#a1798d54e6d98a481cf870091af84bc1f">pong_handler</a> h)</td></tr>
<tr class="memdesc:a298795eaa6d554ca5114ff23346d47a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pong handler.  <br /></td></tr>
<tr class="separator:a298795eaa6d554ca5114ff23346d47a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6baa576fffc7af7685cf75894d634fb7" id="r_a6baa576fffc7af7685cf75894d634fb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6baa576fffc7af7685cf75894d634fb7">set_pong_timeout_handler</a> (<a class="el" href="namespacewebsocketpp.html#a2c5925a111b9e553efebea35d5ea155f">pong_timeout_handler</a> h)</td></tr>
<tr class="memdesc:a6baa576fffc7af7685cf75894d634fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pong timeout handler.  <br /></td></tr>
<tr class="separator:a6baa576fffc7af7685cf75894d634fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8edc6e8ea1b72f84973bed0a20ad365" id="r_aa8edc6e8ea1b72f84973bed0a20ad365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8edc6e8ea1b72f84973bed0a20ad365">set_interrupt_handler</a> (<a class="el" href="namespacewebsocketpp.html#a55f6947df7673a9de3c44b6bd5d4a82a">interrupt_handler</a> h)</td></tr>
<tr class="memdesc:aa8edc6e8ea1b72f84973bed0a20ad365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set interrupt handler.  <br /></td></tr>
<tr class="separator:aa8edc6e8ea1b72f84973bed0a20ad365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c680623660b0442394af6b45c46c23" id="r_a78c680623660b0442394af6b45c46c23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c680623660b0442394af6b45c46c23">set_http_handler</a> (<a class="el" href="namespacewebsocketpp.html#a37bc4d5b3b21d3bb494d8a23236315d2">http_handler</a> h)</td></tr>
<tr class="memdesc:a78c680623660b0442394af6b45c46c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set http handler.  <br /></td></tr>
<tr class="separator:a78c680623660b0442394af6b45c46c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28096d051f5639d7b01954845fc054c" id="r_aa28096d051f5639d7b01954845fc054c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28096d051f5639d7b01954845fc054c">set_validate_handler</a> (<a class="el" href="namespacewebsocketpp.html#ae28f3fed86a59b1998746694f3d4edbd">validate_handler</a> h)</td></tr>
<tr class="memdesc:aa28096d051f5639d7b01954845fc054c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set validate handler.  <br /></td></tr>
<tr class="separator:aa28096d051f5639d7b01954845fc054c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107e754227c828582779b906654743fe" id="r_a107e754227c828582779b906654743fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a107e754227c828582779b906654743fe">set_message_handler</a> (<a class="el" href="#a78988e5609b6ccdbd0949d5cd5fe440a">message_handler</a> h)</td></tr>
<tr class="memdesc:a107e754227c828582779b906654743fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set message handler.  <br /></td></tr>
<tr class="separator:a107e754227c828582779b906654743fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a666fe1144dc68b1bae3bcc615e1ed" id="r_ad5a666fe1144dc68b1bae3bcc615e1ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5a666fe1144dc68b1bae3bcc615e1ed">set_open_handshake_timeout</a> (long dur)</td></tr>
<tr class="memdesc:ad5a666fe1144dc68b1bae3bcc615e1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set open handshake timeout.  <br /></td></tr>
<tr class="separator:ad5a666fe1144dc68b1bae3bcc615e1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf932388a128a7b719c45b945bffaad" id="r_a3bf932388a128a7b719c45b945bffaad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bf932388a128a7b719c45b945bffaad">set_close_handshake_timeout</a> (long dur)</td></tr>
<tr class="memdesc:a3bf932388a128a7b719c45b945bffaad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set close handshake timeout.  <br /></td></tr>
<tr class="separator:a3bf932388a128a7b719c45b945bffaad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a905ac6a4f0f8546011b8f8a531563" id="r_ab9a905ac6a4f0f8546011b8f8a531563"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9a905ac6a4f0f8546011b8f8a531563">set_pong_timeout</a> (long dur)</td></tr>
<tr class="memdesc:ab9a905ac6a4f0f8546011b8f8a531563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set pong timeout.  <br /></td></tr>
<tr class="separator:ab9a905ac6a4f0f8546011b8f8a531563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7739a5097ae6562bc9b0880731a2857" id="r_af7739a5097ae6562bc9b0880731a2857"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7739a5097ae6562bc9b0880731a2857">get_max_message_size</a> () const</td></tr>
<tr class="memdesc:af7739a5097ae6562bc9b0880731a2857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum message size.  <br /></td></tr>
<tr class="separator:af7739a5097ae6562bc9b0880731a2857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522286bf83373f87ddebf93b732abffc" id="r_a522286bf83373f87ddebf93b732abffc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a522286bf83373f87ddebf93b732abffc">set_max_message_size</a> (size_t new_value)</td></tr>
<tr class="memdesc:a522286bf83373f87ddebf93b732abffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum message size.  <br /></td></tr>
<tr class="separator:a522286bf83373f87ddebf93b732abffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a050215a9f1d7652bcd8c543ae5f38c" id="r_a9a050215a9f1d7652bcd8c543ae5f38c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a050215a9f1d7652bcd8c543ae5f38c">get_max_http_body_size</a> () const</td></tr>
<tr class="memdesc:a9a050215a9f1d7652bcd8c543ae5f38c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get maximum HTTP message body size.  <br /></td></tr>
<tr class="separator:a9a050215a9f1d7652bcd8c543ae5f38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a5b06ad88f5bcdd06fcabaae3323bc" id="r_ad2a5b06ad88f5bcdd06fcabaae3323bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2a5b06ad88f5bcdd06fcabaae3323bc">set_max_http_body_size</a> (size_t new_value)</td></tr>
<tr class="memdesc:ad2a5b06ad88f5bcdd06fcabaae3323bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set maximum HTTP message body size.  <br /></td></tr>
<tr class="separator:ad2a5b06ad88f5bcdd06fcabaae3323bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a23575fcdad7f8afe25b2fabe12593" id="r_a41a23575fcdad7f8afe25b2fabe12593"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41a23575fcdad7f8afe25b2fabe12593">get_buffered_amount</a> () const</td></tr>
<tr class="memdesc:a41a23575fcdad7f8afe25b2fabe12593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the outgoing write buffer (in payload bytes)  <br /></td></tr>
<tr class="separator:a41a23575fcdad7f8afe25b2fabe12593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaad6dc1c81fc944593f529575b67d96" id="r_aaaad6dc1c81fc944593f529575b67d96"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaaad6dc1c81fc944593f529575b67d96">buffered_amount</a> () const</td></tr>
<tr class="memdesc:aaaad6dc1c81fc944593f529575b67d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the outgoing write buffer (in payload bytes)  <br /></td></tr>
<tr class="separator:aaaad6dc1c81fc944593f529575b67d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f96a962ed7a271a00e85ba4df2db45" id="r_af3f96a962ed7a271a00e85ba4df2db45"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3f96a962ed7a271a00e85ba4df2db45">send</a> (std::string const &amp;payload, <a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="el" href="unionop.html">op</a>=<a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727">frame::opcode::text</a>)</td></tr>
<tr class="memdesc:af3f96a962ed7a271a00e85ba4df2db45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a message and then add it to the outgoing send queue.  <br /></td></tr>
<tr class="separator:af3f96a962ed7a271a00e85ba4df2db45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607fc1d40a2cf994ccc7173a94a2774d" id="r_a607fc1d40a2cf994ccc7173a94a2774d"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a607fc1d40a2cf994ccc7173a94a2774d">send</a> (void const *payload, size_t <a class="el" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a> <a class="el" href="unionop.html">op</a>=<a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5eabe7c19fe7e9744d6a0f041e4c99f120f">frame::opcode::binary</a>)</td></tr>
<tr class="memdesc:a607fc1d40a2cf994ccc7173a94a2774d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message (raw array overload)  <br /></td></tr>
<tr class="separator:a607fc1d40a2cf994ccc7173a94a2774d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29900da403dbafab8095c0989104be90" id="r_a29900da403dbafab8095c0989104be90"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29900da403dbafab8095c0989104be90">send</a> (<a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a> msg)</td></tr>
<tr class="memdesc:a29900da403dbafab8095c0989104be90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a message to the outgoing send queue.  <br /></td></tr>
<tr class="separator:a29900da403dbafab8095c0989104be90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bbbc93d414c65492ffb2c4a12f05a8" id="r_a12bbbc93d414c65492ffb2c4a12f05a8"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12bbbc93d414c65492ffb2c4a12f05a8">interrupt</a> ()</td></tr>
<tr class="memdesc:a12bbbc93d414c65492ffb2c4a12f05a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asyncronously invoke handler::on_inturrupt.  <br /></td></tr>
<tr class="separator:a12bbbc93d414c65492ffb2c4a12f05a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b438ac986b73c99907515eeac6dc45f" id="r_a0b438ac986b73c99907515eeac6dc45f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b438ac986b73c99907515eeac6dc45f">handle_interrupt</a> ()</td></tr>
<tr class="memdesc:a0b438ac986b73c99907515eeac6dc45f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport inturrupt callback.  <br /></td></tr>
<tr class="separator:a0b438ac986b73c99907515eeac6dc45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a4a25a18ec61d2a36a149a3d92ab72" id="r_ad6a4a25a18ec61d2a36a149a3d92ab72"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6a4a25a18ec61d2a36a149a3d92ab72">pause_reading</a> ()</td></tr>
<tr class="memdesc:ad6a4a25a18ec61d2a36a149a3d92ab72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause reading of new data.  <br /></td></tr>
<tr class="separator:ad6a4a25a18ec61d2a36a149a3d92ab72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5887284ea346efd7b5cc43519bfd84d5" id="r_a5887284ea346efd7b5cc43519bfd84d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5887284ea346efd7b5cc43519bfd84d5">handle_pause_reading</a> ()</td></tr>
<tr class="memdesc:a5887284ea346efd7b5cc43519bfd84d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause reading callback.  <br /></td></tr>
<tr class="separator:a5887284ea346efd7b5cc43519bfd84d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355b5e155ba53071b06fa8a6dfab9be2" id="r_a355b5e155ba53071b06fa8a6dfab9be2"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a355b5e155ba53071b06fa8a6dfab9be2">resume_reading</a> ()</td></tr>
<tr class="memdesc:a355b5e155ba53071b06fa8a6dfab9be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume reading of new data.  <br /></td></tr>
<tr class="separator:a355b5e155ba53071b06fa8a6dfab9be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5b479b7d66eb289390b26d12332d84" id="r_adb5b479b7d66eb289390b26d12332d84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb5b479b7d66eb289390b26d12332d84">handle_resume_reading</a> ()</td></tr>
<tr class="memdesc:adb5b479b7d66eb289390b26d12332d84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume reading callback.  <br /></td></tr>
<tr class="separator:adb5b479b7d66eb289390b26d12332d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c8dc6badfaff3aaee1434625c09b04" id="r_a21c8dc6badfaff3aaee1434625c09b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21c8dc6badfaff3aaee1434625c09b04">ping</a> (std::string const &amp;payload)</td></tr>
<tr class="memdesc:a21c8dc6badfaff3aaee1434625c09b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a ping.  <br /></td></tr>
<tr class="separator:a21c8dc6badfaff3aaee1434625c09b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6766e2f31adc6843a983551b21683b73" id="r_a6766e2f31adc6843a983551b21683b73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6766e2f31adc6843a983551b21683b73">ping</a> (std::string const &amp;payload, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a6766e2f31adc6843a983551b21683b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">exception free variant of ping  <br /></td></tr>
<tr class="separator:a6766e2f31adc6843a983551b21683b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10cbbbfe16ef1cc6f45614582c9d28f" id="r_af10cbbbfe16ef1cc6f45614582c9d28f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af10cbbbfe16ef1cc6f45614582c9d28f">handle_pong_timeout</a> (std::string payload, lib::error_code const &amp;ec)</td></tr>
<tr class="memdesc:af10cbbbfe16ef1cc6f45614582c9d28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility method that gets called back when the ping timer expires.  <br /></td></tr>
<tr class="separator:af10cbbbfe16ef1cc6f45614582c9d28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8684fcfd9a57466ae1b52e36b834408" id="r_aa8684fcfd9a57466ae1b52e36b834408"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8684fcfd9a57466ae1b52e36b834408">pong</a> (std::string const &amp;payload)</td></tr>
<tr class="memdesc:aa8684fcfd9a57466ae1b52e36b834408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a pong.  <br /></td></tr>
<tr class="separator:aa8684fcfd9a57466ae1b52e36b834408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837dcb8f1214f08b92e7ae7489bfa180" id="r_a837dcb8f1214f08b92e7ae7489bfa180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a837dcb8f1214f08b92e7ae7489bfa180">pong</a> (std::string const &amp;payload, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a837dcb8f1214f08b92e7ae7489bfa180"><td class="mdescLeft">&#160;</td><td class="mdescRight">exception free variant of pong  <br /></td></tr>
<tr class="separator:a837dcb8f1214f08b92e7ae7489bfa180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae718e4fa8b2c37757d8abd71dae07dc9" id="r_ae718e4fa8b2c37757d8abd71dae07dc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae718e4fa8b2c37757d8abd71dae07dc9">close</a> (<a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> const code, std::string const &amp;reason)</td></tr>
<tr class="memdesc:ae718e4fa8b2c37757d8abd71dae07dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the connection.  <br /></td></tr>
<tr class="separator:ae718e4fa8b2c37757d8abd71dae07dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436058fe88b1ba31080cec2a464634ae" id="r_a436058fe88b1ba31080cec2a464634ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a436058fe88b1ba31080cec2a464634ae">close</a> (<a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> const code, std::string const &amp;reason, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a436058fe88b1ba31080cec2a464634ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">exception free variant of close  <br /></td></tr>
<tr class="separator:a436058fe88b1ba31080cec2a464634ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d87e9ef3c4514fcd72457a04c31260" id="r_a38d87e9ef3c4514fcd72457a04c31260"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38d87e9ef3c4514fcd72457a04c31260">get_secure</a> () const</td></tr>
<tr class="memdesc:a38d87e9ef3c4514fcd72457a04c31260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the secure flag from the connection URI.  <br /></td></tr>
<tr class="separator:a38d87e9ef3c4514fcd72457a04c31260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e91744f959876b9fef4b18b04a809a" id="r_a47e91744f959876b9fef4b18b04a809a"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47e91744f959876b9fef4b18b04a809a">get_host</a> () const</td></tr>
<tr class="memdesc:a47e91744f959876b9fef4b18b04a809a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the host component of the connection URI.  <br /></td></tr>
<tr class="separator:a47e91744f959876b9fef4b18b04a809a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ad47e67e1327e95d1572e04173a409" id="r_a52ad47e67e1327e95d1572e04173a409"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52ad47e67e1327e95d1572e04173a409">get_resource</a> () const</td></tr>
<tr class="memdesc:a52ad47e67e1327e95d1572e04173a409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the resource component of the connection URI.  <br /></td></tr>
<tr class="separator:a52ad47e67e1327e95d1572e04173a409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6651a691ee345daf5cfd31b875965ab" id="r_af6651a691ee345daf5cfd31b875965ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6651a691ee345daf5cfd31b875965ab">get_port</a> () const</td></tr>
<tr class="memdesc:af6651a691ee345daf5cfd31b875965ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the port component of the connection URI.  <br /></td></tr>
<tr class="separator:af6651a691ee345daf5cfd31b875965ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f906681e9363f40dce7d2b65444a41" id="r_a63f906681e9363f40dce7d2b65444a41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63f906681e9363f40dce7d2b65444a41">get_uri</a> () const</td></tr>
<tr class="memdesc:a63f906681e9363f40dce7d2b65444a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the connection URI.  <br /></td></tr>
<tr class="separator:a63f906681e9363f40dce7d2b65444a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c81acf3be998662a3500a9be2c4d38" id="r_ac5c81acf3be998662a3500a9be2c4d38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5c81acf3be998662a3500a9be2c4d38">set_uri</a> (<a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a> <a class="el" href="classwebsocketpp_1_1uri.html">uri</a>)</td></tr>
<tr class="memdesc:ac5c81acf3be998662a3500a9be2c4d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the connection URI.  <br /></td></tr>
<tr class="separator:ac5c81acf3be998662a3500a9be2c4d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8577184f6e4d82955cc38e1a9f8164b" id="r_ae8577184f6e4d82955cc38e1a9f8164b"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8577184f6e4d82955cc38e1a9f8164b">get_subprotocol</a> () const</td></tr>
<tr class="memdesc:ae8577184f6e4d82955cc38e1a9f8164b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the negotated subprotocol.  <br /></td></tr>
<tr class="separator:ae8577184f6e4d82955cc38e1a9f8164b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f196cb11d4a38ef59f2173424a4d51" id="r_ae0f196cb11d4a38ef59f2173424a4d51"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0f196cb11d4a38ef59f2173424a4d51">get_requested_subprotocols</a> () const</td></tr>
<tr class="memdesc:ae0f196cb11d4a38ef59f2173424a4d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all of the subprotocols requested by the client.  <br /></td></tr>
<tr class="separator:ae0f196cb11d4a38ef59f2173424a4d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36462b406f973e16d3107e786c6b9172" id="r_a36462b406f973e16d3107e786c6b9172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36462b406f973e16d3107e786c6b9172">add_subprotocol</a> (std::string const &amp;request, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a36462b406f973e16d3107e786c6b9172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given subprotocol string to the request list (exception free)  <br /></td></tr>
<tr class="separator:a36462b406f973e16d3107e786c6b9172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a41672dd87714eb045fd989f98cd26" id="r_a37a41672dd87714eb045fd989f98cd26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37a41672dd87714eb045fd989f98cd26">add_subprotocol</a> (std::string const &amp;request)</td></tr>
<tr class="memdesc:a37a41672dd87714eb045fd989f98cd26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given subprotocol string to the request list.  <br /></td></tr>
<tr class="separator:a37a41672dd87714eb045fd989f98cd26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e9587a711e543ed353e8ecec13d44c" id="r_a53e9587a711e543ed353e8ecec13d44c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53e9587a711e543ed353e8ecec13d44c">select_subprotocol</a> (std::string const &amp;<a class="el" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>, lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a53e9587a711e543ed353e8ecec13d44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a subprotocol to use (exception free)  <br /></td></tr>
<tr class="separator:a53e9587a711e543ed353e8ecec13d44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b37fbab88dfb78b1641c0c30710243" id="r_a96b37fbab88dfb78b1641c0c30710243"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96b37fbab88dfb78b1641c0c30710243">select_subprotocol</a> (std::string const &amp;<a class="el" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>)</td></tr>
<tr class="memdesc:a96b37fbab88dfb78b1641c0c30710243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a subprotocol to use.  <br /></td></tr>
<tr class="separator:a96b37fbab88dfb78b1641c0c30710243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542dd013907c3aeb2dbb01d1d631a492" id="r_a542dd013907c3aeb2dbb01d1d631a492"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a542dd013907c3aeb2dbb01d1d631a492">get_request_header</a> (std::string const &amp;key) const</td></tr>
<tr class="memdesc:a542dd013907c3aeb2dbb01d1d631a492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a request header.  <br /></td></tr>
<tr class="separator:a542dd013907c3aeb2dbb01d1d631a492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187c640f1352e74a00c0f8b6177da94a" id="r_a187c640f1352e74a00c0f8b6177da94a"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a187c640f1352e74a00c0f8b6177da94a">get_request_body</a> () const</td></tr>
<tr class="memdesc:a187c640f1352e74a00c0f8b6177da94a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a request body.  <br /></td></tr>
<tr class="separator:a187c640f1352e74a00c0f8b6177da94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e0c94609844078fc611716c39791de" id="r_a72e0c94609844078fc611716c39791de"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72e0c94609844078fc611716c39791de">get_response_header</a> (std::string const &amp;key) const</td></tr>
<tr class="memdesc:a72e0c94609844078fc611716c39791de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a response header.  <br /></td></tr>
<tr class="separator:a72e0c94609844078fc611716c39791de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a160dedfda82a678bc61a18fda12b3" id="r_a32a160dedfda82a678bc61a18fda12b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32a160dedfda82a678bc61a18fda12b3">get_response_code</a> () const</td></tr>
<tr class="memdesc:a32a160dedfda82a678bc61a18fda12b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get response HTTP status code.  <br /></td></tr>
<tr class="separator:a32a160dedfda82a678bc61a18fda12b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a78b53d68e30ca9fa4df7ff8dfd38ea" id="r_a7a78b53d68e30ca9fa4df7ff8dfd38ea"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a78b53d68e30ca9fa4df7ff8dfd38ea">get_response_msg</a> () const</td></tr>
<tr class="memdesc:a7a78b53d68e30ca9fa4df7ff8dfd38ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get response HTTP status message.  <br /></td></tr>
<tr class="separator:a7a78b53d68e30ca9fa4df7ff8dfd38ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d445ff0cc75b854c4500e93a054acb" id="r_a96d445ff0cc75b854c4500e93a054acb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96d445ff0cc75b854c4500e93a054acb">set_status</a> (<a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a> code)</td></tr>
<tr class="memdesc:a96d445ff0cc75b854c4500e93a054acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set response status code and message.  <br /></td></tr>
<tr class="separator:a96d445ff0cc75b854c4500e93a054acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b4513339167df8653a11ef3ccc65b1" id="r_a97b4513339167df8653a11ef3ccc65b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97b4513339167df8653a11ef3ccc65b1">set_status</a> (<a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a> code, std::string const &amp;msg)</td></tr>
<tr class="memdesc:a97b4513339167df8653a11ef3ccc65b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set response status code and message.  <br /></td></tr>
<tr class="separator:a97b4513339167df8653a11ef3ccc65b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40bb318c3b9294018d217d0271a7b3da" id="r_a40bb318c3b9294018d217d0271a7b3da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40bb318c3b9294018d217d0271a7b3da">set_body</a> (std::string const &amp;<a class="el" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>)</td></tr>
<tr class="memdesc:a40bb318c3b9294018d217d0271a7b3da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set response body content.  <br /></td></tr>
<tr class="separator:a40bb318c3b9294018d217d0271a7b3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11c93ff0060eaf24c16764c5ff906c9" id="r_ac11c93ff0060eaf24c16764c5ff906c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac11c93ff0060eaf24c16764c5ff906c9">set_body</a> (std::string &amp;&amp;<a class="el" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>)</td></tr>
<tr class="separator:ac11c93ff0060eaf24c16764c5ff906c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cb78acc61b8a3d59f6162cdba6318b" id="r_af8cb78acc61b8a3d59f6162cdba6318b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8cb78acc61b8a3d59f6162cdba6318b">append_header</a> (std::string const &amp;key, std::string const &amp;val)</td></tr>
<tr class="memdesc:af8cb78acc61b8a3d59f6162cdba6318b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append a header.  <br /></td></tr>
<tr class="separator:af8cb78acc61b8a3d59f6162cdba6318b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e4adcdb9b3473ca96e2aac27ff7147" id="r_a96e4adcdb9b3473ca96e2aac27ff7147"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96e4adcdb9b3473ca96e2aac27ff7147">replace_header</a> (std::string const &amp;key, std::string const &amp;val)</td></tr>
<tr class="memdesc:a96e4adcdb9b3473ca96e2aac27ff7147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a header.  <br /></td></tr>
<tr class="separator:a96e4adcdb9b3473ca96e2aac27ff7147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63094895d9dcfb4d10974ae97ea319a1" id="r_a63094895d9dcfb4d10974ae97ea319a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63094895d9dcfb4d10974ae97ea319a1">remove_header</a> (std::string const &amp;key)</td></tr>
<tr class="memdesc:a63094895d9dcfb4d10974ae97ea319a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a header.  <br /></td></tr>
<tr class="separator:a63094895d9dcfb4d10974ae97ea319a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7986d48af3a57655554f10a4a04421c" id="r_ac7986d48af3a57655554f10a4a04421c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#afd1de69db1764ab30dc4f30bb84a6565">request_type</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7986d48af3a57655554f10a4a04421c">get_request</a> () const</td></tr>
<tr class="memdesc:ac7986d48af3a57655554f10a4a04421c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get request object.  <br /></td></tr>
<tr class="separator:ac7986d48af3a57655554f10a4a04421c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc82f2ef276a8bfaf64bb168fb215ca" id="r_a4fc82f2ef276a8bfaf64bb168fb215ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a3057f017dd336275028a1cab5a7a28a6">response_type</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fc82f2ef276a8bfaf64bb168fb215ca">get_response</a> () const</td></tr>
<tr class="memdesc:a4fc82f2ef276a8bfaf64bb168fb215ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get response object.  <br /></td></tr>
<tr class="separator:a4fc82f2ef276a8bfaf64bb168fb215ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c3f964cef870faf0d8f23c5b7588bb" id="r_a32c3f964cef870faf0d8f23c5b7588bb"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32c3f964cef870faf0d8f23c5b7588bb">defer_http_response</a> ()</td></tr>
<tr class="memdesc:a32c3f964cef870faf0d8f23c5b7588bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defer HTTP Response until later (Exception free)  <br /></td></tr>
<tr class="separator:a32c3f964cef870faf0d8f23c5b7588bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c192eb26aa8be9afed7ff9e85990ea8" id="r_a6c192eb26aa8be9afed7ff9e85990ea8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c192eb26aa8be9afed7ff9e85990ea8">send_http_response</a> (lib::error_code &amp;ec)</td></tr>
<tr class="memdesc:a6c192eb26aa8be9afed7ff9e85990ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send deferred HTTP Response (exception free)  <br /></td></tr>
<tr class="separator:a6c192eb26aa8be9afed7ff9e85990ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc8c4f01bb9fd6336e536d992ae1a4f" id="r_aabc8c4f01bb9fd6336e536d992ae1a4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabc8c4f01bb9fd6336e536d992ae1a4f">send_http_response</a> ()</td></tr>
<tr class="memdesc:aabc8c4f01bb9fd6336e536d992ae1a4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send deferred HTTP Response.  <br /></td></tr>
<tr class="separator:aabc8c4f01bb9fd6336e536d992ae1a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a28147e2f3f4c1fb37f29a234e772bc" id="r_a6a28147e2f3f4c1fb37f29a234e772bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a28147e2f3f4c1fb37f29a234e772bc">get_handle</a> () const</td></tr>
<tr class="memdesc:a6a28147e2f3f4c1fb37f29a234e772bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Connection Handle.  <br /></td></tr>
<tr class="separator:a6a28147e2f3f4c1fb37f29a234e772bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab248ee632b5b4d9998fec4328510f445" id="r_ab248ee632b5b4d9998fec4328510f445"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab248ee632b5b4d9998fec4328510f445">is_server</a> () const</td></tr>
<tr class="memdesc:ab248ee632b5b4d9998fec4328510f445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get whether or not this connection is part of a server or client.  <br /></td></tr>
<tr class="separator:ab248ee632b5b4d9998fec4328510f445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a428a8ee0bd94a7dadf6a4831c756ead3" id="r_a428a8ee0bd94a7dadf6a4831c756ead3"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a428a8ee0bd94a7dadf6a4831c756ead3">get_origin</a> () const</td></tr>
<tr class="memdesc:a428a8ee0bd94a7dadf6a4831c756ead3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the same origin policy origin value from the opening request.  <br /></td></tr>
<tr class="separator:a428a8ee0bd94a7dadf6a4831c756ead3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9001efbd5b467ccf3e5e601bb18e4971" id="r_a9001efbd5b467ccf3e5e601bb18e4971"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5">session::state::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9001efbd5b467ccf3e5e601bb18e4971">get_state</a> () const</td></tr>
<tr class="memdesc:a9001efbd5b467ccf3e5e601bb18e4971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the connection state.  <br /></td></tr>
<tr class="separator:a9001efbd5b467ccf3e5e601bb18e4971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871a1374bb7330126bfe3f535753cc52" id="r_a871a1374bb7330126bfe3f535753cc52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a871a1374bb7330126bfe3f535753cc52">get_local_close_code</a> () const</td></tr>
<tr class="memdesc:a871a1374bb7330126bfe3f535753cc52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the WebSocket close code sent by this endpoint.  <br /></td></tr>
<tr class="separator:a871a1374bb7330126bfe3f535753cc52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7320e3ceabf14e7dce9f6c2679f23e9" id="r_af7320e3ceabf14e7dce9f6c2679f23e9"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7320e3ceabf14e7dce9f6c2679f23e9">get_local_close_reason</a> () const</td></tr>
<tr class="memdesc:af7320e3ceabf14e7dce9f6c2679f23e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the WebSocket close reason sent by this endpoint.  <br /></td></tr>
<tr class="separator:af7320e3ceabf14e7dce9f6c2679f23e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad217d74120fb96a39d71c330e0ffa41" id="r_aad217d74120fb96a39d71c330e0ffa41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad217d74120fb96a39d71c330e0ffa41">get_remote_close_code</a> () const</td></tr>
<tr class="memdesc:aad217d74120fb96a39d71c330e0ffa41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the WebSocket close code sent by the remote endpoint.  <br /></td></tr>
<tr class="separator:aad217d74120fb96a39d71c330e0ffa41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96a9228945fc99f708e866f0fc7c0ca" id="r_ab96a9228945fc99f708e866f0fc7c0ca"><td class="memItemLeft" align="right" valign="top">std::string const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab96a9228945fc99f708e866f0fc7c0ca">get_remote_close_reason</a> () const</td></tr>
<tr class="memdesc:ab96a9228945fc99f708e866f0fc7c0ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the WebSocket close reason sent by the remote endpoint.  <br /></td></tr>
<tr class="separator:ab96a9228945fc99f708e866f0fc7c0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c05c88d471342673abf0e5ce60aa4cc" id="r_a8c05c88d471342673abf0e5ce60aa4cc"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c05c88d471342673abf0e5ce60aa4cc">get_ec</a> () const</td></tr>
<tr class="memdesc:a8c05c88d471342673abf0e5ce60aa4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the internal error code for a closed/failed connection.  <br /></td></tr>
<tr class="separator:a8c05c88d471342673abf0e5ce60aa4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854cb45d1c96d0a2e19ad0ba827a0f9e" id="r_a854cb45d1c96d0a2e19ad0ba827a0f9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a854cb45d1c96d0a2e19ad0ba827a0f9e">get_message</a> (<a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">websocketpp::frame::opcode::value</a> <a class="el" href="unionop.html">op</a>, size_t size) const</td></tr>
<tr class="memdesc:a854cb45d1c96d0a2e19ad0ba827a0f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message buffer.  <br /></td></tr>
<tr class="separator:a854cb45d1c96d0a2e19ad0ba827a0f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e19e781b4abda3e4a39f4f25077a29c" id="r_a9e19e781b4abda3e4a39f4f25077a29c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e19e781b4abda3e4a39f4f25077a29c">read_handshake</a> (size_t num_bytes)</td></tr>
<tr class="separator:a9e19e781b4abda3e4a39f4f25077a29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7e83aae3418cdf71e6fcf1dce3a255" id="r_a9c7e83aae3418cdf71e6fcf1dce3a255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c7e83aae3418cdf71e6fcf1dce3a255">handle_read_handshake</a> (lib::error_code const &amp;ec, size_t bytes_transferred)</td></tr>
<tr class="separator:a9c7e83aae3418cdf71e6fcf1dce3a255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261ca392f8b31cd0f5a1b2ccc11c3037" id="r_a261ca392f8b31cd0f5a1b2ccc11c3037"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a261ca392f8b31cd0f5a1b2ccc11c3037">handle_read_http_response</a> (lib::error_code const &amp;ec, size_t bytes_transferred)</td></tr>
<tr class="separator:a261ca392f8b31cd0f5a1b2ccc11c3037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2451a76c49b4c2a88de4efd4f8bda6" id="r_a6f2451a76c49b4c2a88de4efd4f8bda6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f2451a76c49b4c2a88de4efd4f8bda6">handle_write_http_response</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:a6f2451a76c49b4c2a88de4efd4f8bda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37addaf4d89de32d3d8f4da668313c5" id="r_af37addaf4d89de32d3d8f4da668313c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af37addaf4d89de32d3d8f4da668313c5">handle_send_http_request</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:af37addaf4d89de32d3d8f4da668313c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1b6e47985b434303b8d6e5f27177a3" id="r_aee1b6e47985b434303b8d6e5f27177a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee1b6e47985b434303b8d6e5f27177a3">handle_open_handshake_timeout</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:aee1b6e47985b434303b8d6e5f27177a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a129554b75156c82eb22b22e4409392c8" id="r_a129554b75156c82eb22b22e4409392c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a129554b75156c82eb22b22e4409392c8">handle_close_handshake_timeout</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:a129554b75156c82eb22b22e4409392c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6866c41c2ae86c3372cf428392a190" id="r_abd6866c41c2ae86c3372cf428392a190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd6866c41c2ae86c3372cf428392a190">handle_read_frame</a> (lib::error_code const &amp;ec, size_t bytes_transferred)</td></tr>
<tr class="separator:abd6866c41c2ae86c3372cf428392a190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54e9d7c8ef07349d28c3405182bb3c7" id="r_af54e9d7c8ef07349d28c3405182bb3c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af54e9d7c8ef07349d28c3405182bb3c7">read_frame</a> ()</td></tr>
<tr class="memdesc:af54e9d7c8ef07349d28c3405182bb3c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a new transport read unless reading is paused.  <br /></td></tr>
<tr class="separator:af54e9d7c8ef07349d28c3405182bb3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588af194b5c2a13fe692452c207e0cba" id="r_a588af194b5c2a13fe692452c207e0cba"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt; const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a588af194b5c2a13fe692452c207e0cba">get_supported_versions</a> () const</td></tr>
<tr class="memdesc:a588af194b5c2a13fe692452c207e0cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get array of WebSocket protocol versions that this connection supports.  <br /></td></tr>
<tr class="separator:a588af194b5c2a13fe692452c207e0cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72ff8473d0a49bb069825e99e99ca9d" id="r_ac72ff8473d0a49bb069825e99e99ca9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac72ff8473d0a49bb069825e99e99ca9d">set_termination_handler</a> (<a class="el" href="#a0dafdb1188f82418a8fd33a3638496ea">termination_handler</a> new_handler)</td></tr>
<tr class="separator:ac72ff8473d0a49bb069825e99e99ca9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7267aae677a77e5e9379ecb6db1789a3" id="r_a7267aae677a77e5e9379ecb6db1789a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7267aae677a77e5e9379ecb6db1789a3">terminate</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:a7267aae677a77e5e9379ecb6db1789a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5012a184129c08ea3f6cfa377e1770c1" id="r_a5012a184129c08ea3f6cfa377e1770c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5012a184129c08ea3f6cfa377e1770c1">handle_terminate</a> (terminate_status tstat, lib::error_code const &amp;ec)</td></tr>
<tr class="separator:a5012a184129c08ea3f6cfa377e1770c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d26a29e90d4847f3882c280112c6b60" id="r_a8d26a29e90d4847f3882c280112c6b60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d26a29e90d4847f3882c280112c6b60">write_frame</a> ()</td></tr>
<tr class="memdesc:a8d26a29e90d4847f3882c280112c6b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if there are frames in the send queue and if there are sends one.  <br /></td></tr>
<tr class="separator:a8d26a29e90d4847f3882c280112c6b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867f94b82788e978ea116d50cf83d72e" id="r_a867f94b82788e978ea116d50cf83d72e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a867f94b82788e978ea116d50cf83d72e">handle_write_frame</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="memdesc:a867f94b82788e978ea116d50cf83d72e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the results of a frame write operation and start the next write.  <br /></td></tr>
<tr class="separator:a867f94b82788e978ea116d50cf83d72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152530ff43396025175f85748d8ee708" id="r_a152530ff43396025175f85748d8ee708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a152530ff43396025175f85748d8ee708">start</a> ()</td></tr>
<tr class="memdesc:a152530ff43396025175f85748d8ee708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the connection state machine.  <br /></td></tr>
<tr class="separator:a152530ff43396025175f85748d8ee708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07f4fac45e1b64de7e0d12ece0d23a8" id="r_af07f4fac45e1b64de7e0d12ece0d23a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af07f4fac45e1b64de7e0d12ece0d23a8">set_handle</a> (<a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a> hdl)</td></tr>
<tr class="memdesc:af07f4fac45e1b64de7e0d12ece0d23a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Connection Handle.  <br /></td></tr>
<tr class="separator:af07f4fac45e1b64de7e0d12ece0d23a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad42c5982a35b82c9009971722943b1e0" id="r_ad42c5982a35b82c9009971722943b1e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad42c5982a35b82c9009971722943b1e0">handle_transport_init</a> (lib::error_code const &amp;ec)</td></tr>
<tr class="separator:ad42c5982a35b82c9009971722943b1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c576bd4dfebac977eade9ac637a432" id="r_ac1c576bd4dfebac977eade9ac637a432"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1c576bd4dfebac977eade9ac637a432">initialize_processor</a> ()</td></tr>
<tr class="separator:ac1c576bd4dfebac977eade9ac637a432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569483c7dcf542f500f6e9f49d803010" id="r_a569483c7dcf542f500f6e9f49d803010"><td class="memItemLeft" align="right" valign="top">lib::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a569483c7dcf542f500f6e9f49d803010">process_handshake_request</a> ()</td></tr>
<tr class="separator:a569483c7dcf542f500f6e9f49d803010"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename <a class="el" href="classconfig.html">config</a>&gt;<br />
class websocketpp::connection&lt; config &gt;</div>
<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00235">235</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a3e19c977ae062a790e92fdeb67b459ae" name="a3e19c977ae062a790e92fdeb67b459ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e19c977ae062a790e92fdeb67b459ae">&#9670;&#160;</a></span>alog_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::alog_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::alog_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00250">250</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a67a82be4c089d29e146be36509d81ec0" name="a67a82be4c089d29e146be36509d81ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a82be4c089d29e146be36509d81ec0">&#9670;&#160;</a></span>con_msg_manager_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">con_msg_manager_type::ptr <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::con_msg_manager_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00272">272</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a75e62887c79026aedab18c8272726417" name="a75e62887c79026aedab18c8272726417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e62887c79026aedab18c8272726417">&#9670;&#160;</a></span>con_msg_manager_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::con_msg_manager_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;<a class="el" href="hybi13_8cpp.html#a13c41174dd3938337edbfb4ce0ba0644">::con_msg_manager_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00271">271</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a084a79f735c53d51c876fbc42d960f76" name="a084a79f735c53d51c876fbc42d960f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084a79f735c53d51c876fbc42d960f76">&#9670;&#160;</a></span>concurrency_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::concurrency_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::concurrency_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00248">248</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a11c1430d51d95862725fd92d176b4ec8" name="a11c1430d51d95862725fd92d176b4ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c1430d51d95862725fd92d176b4ec8">&#9670;&#160;</a></span>elog_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::elog_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::elog_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00252">252</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="ad18f126ff904fec9f2983681902490c1" name="ad18f126ff904fec9f2983681902490c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18f126ff904fec9f2983681902490c1">&#9670;&#160;</a></span>istate_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508d">session::internal_state::value</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::istate_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00287">287</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a78988e5609b6ccdbd0949d5cd5fe440a" name="a78988e5609b6ccdbd0949d5cd5fe440a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78988e5609b6ccdbd0949d5cd5fe440a">&#9670;&#160;</a></span>message_handler</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::function&lt;void(<a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a>,<a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a>)&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::message_handler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00281">281</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a470a4dfe286833dc14e0906eb6e858a5" name="a470a4dfe286833dc14e0906eb6e858a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470a4dfe286833dc14e0906eb6e858a5">&#9670;&#160;</a></span>message_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">message_type::ptr <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;<a class="el" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">::message_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00269">269</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a2f170ce183202d226bd070cc893d053b" name="a2f170ce183202d226bd070cc893d053b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f170ce183202d226bd070cc893d053b">&#9670;&#160;</a></span>message_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::message_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::message_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00268">268</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="af9985bdbd086030ef65243aa7563bc4c" name="af9985bdbd086030ef65243aa7563bc4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9985bdbd086030ef65243aa7563bc4c">&#9670;&#160;</a></span>mutex_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">concurrency_type::mutex_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::mutex_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00263">263</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a4014eb117e056fcdd0a3ff1c42743209" name="a4014eb117e056fcdd0a3ff1c42743209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4014eb117e056fcdd0a3ff1c42743209">&#9670;&#160;</a></span>processor_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::shared_ptr&lt;<a class="el" href="#af765e8a2b035f16cae8cf26c727f0bb5">processor_type</a>&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::processor_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00278">278</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="af765e8a2b035f16cae8cf26c727f0bb5" name="af765e8a2b035f16cae8cf26c727f0bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af765e8a2b035f16cae8cf26c727f0bb5">&#9670;&#160;</a></span>processor_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1processor_1_1processor.html">processor::processor</a>&lt;<a class="el" href="classconfig.html">config</a>&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::processor_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00277">277</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="af5839adca921ce08ea3ca3e634155e86" name="af5839adca921ce08ea3ca3e634155e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5839adca921ce08ea3ca3e634155e86">&#9670;&#160;</a></span>ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::shared_ptr&lt;<a class="el" href="#acab063acca678826cf2786aca15cc395">type</a>&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00243">243</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="afd1de69db1764ab30dc4f30bb84a6565" name="afd1de69db1764ab30dc4f30bb84a6565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1de69db1764ab30dc4f30bb84a6565">&#9670;&#160;</a></span>request_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::request_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::request_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00265">265</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a3057f017dd336275028a1cab5a7a28a6" name="a3057f017dd336275028a1cab5a7a28a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3057f017dd336275028a1cab5a7a28a6">&#9670;&#160;</a></span>response_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::response_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::response_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00266">266</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a5e668171dd8bfdd8b6e46d17b4134047" name="a5e668171dd8bfdd8b6e46d17b4134047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e668171dd8bfdd8b6e46d17b4134047">&#9670;&#160;</a></span>rng_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::rng_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::rng_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00275">275</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a98eee129ad1f7e30c059c1073d516495" name="a98eee129ad1f7e30c059c1073d516495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98eee129ad1f7e30c059c1073d516495">&#9670;&#160;</a></span>scoped_lock_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">concurrency_type::scoped_lock_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::scoped_lock_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00262">262</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a0dafdb1188f82418a8fd33a3638496ea" name="a0dafdb1188f82418a8fd33a3638496ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dafdb1188f82418a8fd33a3638496ea">&#9670;&#160;</a></span>termination_handler</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::function&lt;void(<a class="el" href="#af5839adca921ce08ea3ca3e634155e86">ptr</a>)&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::termination_handler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00260">260</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a4c4c89218537431ab0831d1f5d356a80" name="a4c4c89218537431ab0831d1f5d356a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4c89218537431ab0831d1f5d356a80">&#9670;&#160;</a></span>timer_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">transport_con_type::timer_ptr <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::timer_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00284">284</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a94c5cd12bf62315d2d64b1b9d426a467" name="a94c5cd12bf62315d2d64b1b9d426a467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c5cd12bf62315d2d64b1b9d426a467">&#9670;&#160;</a></span>transport_con_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">transport_con_type::ptr <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::transport_con_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00258">258</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="ae5eb5c1a01276a32aa43ebc541c06650" name="ae5eb5c1a01276a32aa43ebc541c06650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5eb5c1a01276a32aa43ebc541c06650">&#9670;&#160;</a></span>transport_con_type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">config::transport_type::transport_con_type <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::transport_con_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00256">256</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="acab063acca678826cf2786aca15cc395" name="acab063acca678826cf2786aca15cc395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab063acca678826cf2786aca15cc395">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1connection.html">connection</a>&lt;<a class="el" href="classconfig.html">config</a>&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00241">241</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<a id="a96d3321aee803b0c23f4a72e6c5cc875" name="a96d3321aee803b0c23f4a72e6c5cc875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d3321aee803b0c23f4a72e6c5cc875">&#9670;&#160;</a></span>weak_ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::weak_ptr&lt;<a class="el" href="#acab063acca678826cf2786aca15cc395">type</a>&gt; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::weak_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00245">245</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a525947d8d33ee1e410d02706246ffe94" name="a525947d8d33ee1e410d02706246ffe94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525947d8d33ee1e410d02706246ffe94">&#9670;&#160;</a></span>connection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::connection </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>p_is_server</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>ua</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3e19c977ae062a790e92fdeb67b459ae">alog_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>alog</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a11c1430d51d95862725fd92d176b4ec8">elog_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>elog</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a5e668171dd8bfdd8b6e46d17b4134047">rng_type</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rng</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00297">297</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  299</span>      : <a class="code hl_typedef" href="#ae5eb5c1a01276a32aa43ebc541c06650">transport_con_type</a>(p_is_server, alog, <a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>)</div>
<div class="line"><span class="lineno">  300</span>      , m_handle_read_frame(lib::bind(</div>
<div class="line"><span class="lineno">  301</span>            &amp;<a class="code hl_function" href="#abd6866c41c2ae86c3372cf428392a190">type::handle_read_frame</a>,</div>
<div class="line"><span class="lineno">  302</span>            <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  303</span>            lib::placeholders::_1,</div>
<div class="line"><span class="lineno">  304</span>            lib::placeholders::_2</div>
<div class="line"><span class="lineno">  305</span>        ))</div>
<div class="line"><span class="lineno">  306</span>      , m_write_frame_handler(lib::bind(</div>
<div class="line"><span class="lineno">  307</span>            &amp;<a class="code hl_function" href="#a867f94b82788e978ea116d50cf83d72e">type::handle_write_frame</a>,</div>
<div class="line"><span class="lineno">  308</span>            <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  309</span>            lib::placeholders::_1</div>
<div class="line"><span class="lineno">  310</span>        ))</div>
<div class="line"><span class="lineno">  311</span>      , m_user_agent(ua)</div>
<div class="line"><span class="lineno">  312</span>      , m_open_handshake_timeout_dur(config::timeout_open_handshake)</div>
<div class="line"><span class="lineno">  313</span>      , m_close_handshake_timeout_dur(config::timeout_close_handshake)</div>
<div class="line"><span class="lineno">  314</span>      , m_pong_timeout_dur(config::timeout_pong)</div>
<div class="line"><span class="lineno">  315</span>      , m_max_message_size(config::max_message_size)</div>
<div class="line"><span class="lineno">  316</span>      , m_state(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>)</div>
<div class="line"><span class="lineno">  317</span>      , m_internal_state(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">session::internal_state::USER_INIT</a>)</div>
<div class="line"><span class="lineno">  318</span>      , m_msg_manager(<span class="keyword">new</span> <a class="code hl_typedef" href="#a75e62887c79026aedab18c8272726417">con_msg_manager_type</a>())</div>
<div class="line"><span class="lineno">  319</span>      , m_send_buffer_size(0)</div>
<div class="line"><span class="lineno">  320</span>      , m_write_flag(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  321</span>      , m_read_flag(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  322</span>      , m_is_server(p_is_server)</div>
<div class="line"><span class="lineno">  323</span>      , m_alog(alog)</div>
<div class="line"><span class="lineno">  324</span>      , m_elog(<a class="code hl_define" href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a>)</div>
<div class="line"><span class="lineno">  325</span>      , m_rng(rng)</div>
<div class="line"><span class="lineno">  326</span>      , m_local_close_code(close::status::abnormal_close)</div>
<div class="line"><span class="lineno">  327</span>      , m_remote_close_code(close::status::abnormal_close)</div>
<div class="line"><span class="lineno">  328</span>      , m_is_http(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  329</span>      , m_http_state(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa6bd556366b4fcf3745506f7d8b0979ad">session::http_state::init</a>)</div>
<div class="line"><span class="lineno">  330</span>      , m_was_clean(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  331</span>    {</div>
<div class="line"><span class="lineno">  332</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection constructor&quot;</span>);</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a75e62887c79026aedab18c8272726417"><div class="ttname"><a href="#a75e62887c79026aedab18c8272726417">websocketpp::connection::con_msg_manager_type</a></div><div class="ttdeci">config::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00271">connection.hpp:271</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a867f94b82788e978ea116d50cf83d72e"><div class="ttname"><a href="#a867f94b82788e978ea116d50cf83d72e">websocketpp::connection::handle_write_frame</a></div><div class="ttdeci">void handle_write_frame(lib::error_code const &amp;ec)</div><div class="ttdoc">Process the results of a frame write operation and start the next write.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01898">connection_impl.hpp:1898</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_abd6866c41c2ae86c3372cf428392a190"><div class="ttname"><a href="#abd6866c41c2ae86c3372cf428392a190">websocketpp::connection::handle_read_frame</a></div><div class="ttdeci">void handle_read_frame(lib::error_code const &amp;ec, size_t bytes_transferred)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00975">connection_impl.hpp:975</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_ae5eb5c1a01276a32aa43ebc541c06650"><div class="ttname"><a href="#ae5eb5c1a01276a32aa43ebc541c06650">websocketpp::connection::transport_con_type</a></div><div class="ttdeci">config::transport_type::transport_con_type transport_con_type</div><div class="ttdoc">Type of the transport component of this connection.</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00256">connection.hpp:256</a></div></div>
<div class="ttc" id="alogger_8hpp_html_a9e3cdbaecd5a34b42956e888f7326fad"><div class="ttname"><a href="logger_8hpp.html#a9e3cdbaecd5a34b42956e888f7326fad">elog</a></div><div class="ttdeci">#define elog(FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="logger_8hpp_source.html#l00130">logger.hpp:130</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1http__state_html_a40c0c92e8a4a3dff1ecd017d26f0bc4aa6bd556366b4fcf3745506f7d8b0979ad"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa6bd556366b4fcf3745506f7d8b0979ad">websocketpp::session::http_state::init</a></div><div class="ttdeci">@ init</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00223">connection.hpp:223</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">websocketpp::session::internal_state::USER_INIT</a></div><div class="ttdeci">@ USER_INIT</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00207">connection.hpp:207</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1state_html_a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">websocketpp::session::state::connecting</a></div><div class="ttdeci">@ connecting</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00180">connection.hpp:180</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1alevel_html_a65ec21c75999c993c25c72569018f576"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">websocketpp::log::alevel::devel</a></div><div class="ttdeci">static level const devel</div><div class="ttdoc">Development messages (warning: very chatty)</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00141">levels.hpp:141</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a525947d8d33ee1e410d02706246ffe94_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a525947d8d33ee1e410d02706246ffe94_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a525947d8d33ee1e410d02706246ffe94_cgraph" id="aclasswebsocketpp_1_1connection_a525947d8d33ee1e410d02706246ffe94_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#ae718e4fa8b2c37757d8abd71dae07dc9" title="Close the connection." alt="" coords="223,5,392,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="integration_8cpp.html#af5b66d867a040d002fb57d645cae3fb4" title=" " alt="" coords="440,13,492,38"/>
<area shape="poly" title=" " alt="" coords="392,23,424,23,424,28,392,28"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a37a41672dd87714eb045fd989f98cd26" name="a37a41672dd87714eb045fd989f98cd26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a41672dd87714eb045fd989f98cd26">&#9670;&#160;</a></span>add_subprotocol() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::add_subprotocol </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a subprotocol to the list to send with the opening handshake. This may be called multiple times to request more than one. If the server supports one of these, it may choose one. If so, it will return it in it's handshake reponse and the value will be available via <a class="el" href="#ae8577184f6e4d82955cc38e1a9f8164b" title="Gets the negotated subprotocol.">get_subprotocol()</a>. Subprotocol requests should be added in order of preference.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The subprotocol to request </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00478">478</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  478</span>                                                                {</div>
<div class="line"><span class="lineno">  479</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  480</span>    this-&gt;<a class="code hl_function" href="#a36462b406f973e16d3107e786c6b9172">add_subprotocol</a>(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,ec);</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  483</span>    }</div>
<div class="line"><span class="lineno">  484</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a36462b406f973e16d3107e786c6b9172"><div class="ttname"><a href="#a36462b406f973e16d3107e786c6b9172">websocketpp::connection::add_subprotocol</a></div><div class="ttdeci">void add_subprotocol(std::string const &amp;request, lib::error_code &amp;ec)</div><div class="ttdoc">Adds the given subprotocol string to the request list (exception free)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00458">connection_impl.hpp:458</a></div></div>
<div class="ttc" id="apkcs11_8h_html_a32aff7c6c4cd253fdf6563677afab5ce"><div class="ttname"><a href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a></div><div class="ttdeci">#define value</div><div class="ttdef"><b>Definition</b> <a href="pkcs11_8h_source.html#l00157">pkcs11.h:157</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36462b406f973e16d3107e786c6b9172" name="a36462b406f973e16d3107e786c6b9172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36462b406f973e16d3107e786c6b9172">&#9670;&#160;</a></span>add_subprotocol() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::add_subprotocol </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a subprotocol to the list to send with the opening handshake. This may be called multiple times to request more than one. If the server supports one of these, it may choose one. If so, it will return it in it's handshake reponse and the value will be available via <a class="el" href="#ae8577184f6e4d82955cc38e1a9f8164b" title="Gets the negotated subprotocol.">get_subprotocol()</a>. Subprotocol requests should be added in order of preference.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The subprotocol to request </td></tr>
    <tr><td class="paramname">ec</td><td><a class="el" href="struct_a.html">A</a> reference to an error code that will be filled in the case of errors </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00458">458</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  460</span>{</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> (m_is_server) {</div>
<div class="line"><span class="lineno">  462</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da34e082b99518716e9755d3ac0436ccf3">error::client_only</a>);</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  464</span>    }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">// If the value is empty or has a non-RFC2616 token character it is invalid.</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.empty() || std::find_if(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.begin(),<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.end(),</div>
<div class="line"><span class="lineno">  468</span>                                      http::is_not_token_char) != <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.end())</div>
<div class="line"><span class="lineno">  469</span>    {</div>
<div class="line"><span class="lineno">  470</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dabdba1165334e583188795c7fda926dc3">error::invalid_subprotocol</a>);</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  472</span>    }</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>    m_requested_subprotocols.push_back(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>);</div>
<div class="line"><span class="lineno">  475</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da34e082b99518716e9755d3ac0436ccf3"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da34e082b99518716e9755d3ac0436ccf3">websocketpp::error::client_only</a></div><div class="ttdeci">@ client_only</div><div class="ttdoc">Attempted to use a client specific feature on a server endpoint.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00105">error.hpp:105</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68dabdba1165334e583188795c7fda926dc3"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dabdba1165334e583188795c7fda926dc3">websocketpp::error::invalid_subprotocol</a></div><div class="ttdeci">@ invalid_subprotocol</div><div class="ttdoc">Invalid subprotocol.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00089">error.hpp:89</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a3344622df8c36e8ae03c59164e7b5e89"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">websocketpp::error::make_error_code</a></div><div class="ttdeci">lib::error_code make_error_code(error::value e)</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00235">error.hpp:235</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a36462b406f973e16d3107e786c6b9172_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a36462b406f973e16d3107e786c6b9172_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a36462b406f973e16d3107e786c6b9172_cgraph" id="aclasswebsocketpp_1_1connection_a36462b406f973e16d3107e786c6b9172_cgraph">
<area shape="rect" title="Adds the given subprotocol string to the request list (exception free)" alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="af8cb78acc61b8a3d59f6162cdba6318b" name="af8cb78acc61b8a3d59f6162cdba6318b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8cb78acc61b8a3d59f6162cdba6318b">&#9670;&#160;</a></span>append_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::append_header </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If a header with this name already exists the value will be appended to the existing header to form a comma separated list of values. Use <code><a class="el" href="#a96e4adcdb9b3473ca96e2aac27ff7147" title="Replace a header.">connection::replace_header</a></code> to overwrite existing values.</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks, or to a client connection before connect has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Name of the header to set </td></tr>
    <tr><td class="paramname">val</td><td>Value to add </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a96e4adcdb9b3473ca96e2aac27ff7147" title="Replace a header.">replace_header</a> </dd>
<dd>
websocketpp::http::parser::append_header </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00590">590</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  592</span>{</div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">if</span> (m_is_server) {</div>
<div class="line"><span class="lineno">  594</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  595</span>            <span class="comment">// we are setting response headers for an incoming server connection</span></div>
<div class="line"><span class="lineno">  596</span>            m_response.append_header(key,val);</div>
<div class="line"><span class="lineno">  597</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  598</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to append_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  599</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  600</span>        }</div>
<div class="line"><span class="lineno">  601</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">istate::USER_INIT</a>) {</div>
<div class="line"><span class="lineno">  603</span>            <span class="comment">// we are setting initial headers for an outgoing client connection</span></div>
<div class="line"><span class="lineno">  604</span>            m_request.append_header(key,val);</div>
<div class="line"><span class="lineno">  605</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to append_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  607</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  608</span>        }</div>
<div class="line"><span class="lineno">  609</span>    }</div>
<div class="line"><span class="lineno">  610</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">websocketpp::error::invalid_state</a></div><div class="ttdeci">@ invalid_state</div><div class="ttdoc">The connection was in the wrong state for this operation.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00074">error.hpp:74</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">websocketpp::session::internal_state::PROCESS_HTTP_REQUEST</a></div><div class="ttdeci">@ PROCESS_HTTP_REQUEST</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00213">connection.hpp:213</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_af8cb78acc61b8a3d59f6162cdba6318b_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_af8cb78acc61b8a3d59f6162cdba6318b_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_af8cb78acc61b8a3d59f6162cdba6318b_cgraph" id="aclasswebsocketpp_1_1connection_af8cb78acc61b8a3d59f6162cdba6318b_cgraph">
<area shape="rect" title="Append a header." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="aaaad6dc1c81fc944593f529575b67d96" name="aaaad6dc1c81fc944593f529575b67d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaad6dc1c81fc944593f529575b67d96">&#9670;&#160;</a></span>buffered_amount()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::buffered_amount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated</a></b></dt><dd>use <code>get_buffered_amount</code> instead </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00635">635</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  635</span>                                   {</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a41a23575fcdad7f8afe25b2fabe12593">get_buffered_amount</a>();</div>
<div class="line"><span class="lineno">  637</span>    }</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a41a23575fcdad7f8afe25b2fabe12593"><div class="ttname"><a href="#a41a23575fcdad7f8afe25b2fabe12593">websocketpp::connection::get_buffered_amount</a></div><div class="ttdeci">size_t get_buffered_amount() const</div><div class="ttdoc">Get the size of the outgoing write buffer (in payload bytes)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00071">connection_impl.hpp:71</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_aaaad6dc1c81fc944593f529575b67d96_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_aaaad6dc1c81fc944593f529575b67d96_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_aaaad6dc1c81fc944593f529575b67d96_cgraph" id="aclasswebsocketpp_1_1connection_aaaad6dc1c81fc944593f529575b67d96_cgraph">
<area shape="rect" title="Get the size of the outgoing write buffer (in payload bytes)" alt="" coords="5,5,175,46"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#a41a23575fcdad7f8afe25b2fabe12593" title="Get the size of the outgoing write buffer (in payload bytes)" alt="" coords="223,5,392,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
</map>
</div>

</div>
</div>
<a id="ae718e4fa8b2c37757d8abd71dae07dc9" name="ae718e4fa8b2c37757d8abd71dae07dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae718e4fa8b2c37757d8abd71dae07dc9">&#9670;&#160;</a></span>close() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> const</td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>reason</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates the close handshake process.</p>
<p>If close returns successfully the connection will be in the closing state and no additional messages may be sent. All messages sent prior to calling close will be written out before the connection is closed.</p>
<p>If no reason is specified none will be sent. If no code is specified then no code will be sent.</p>
<p>The handler's on_close callback will be called once the close handshake is complete.</p>
<p>Reasons will be automatically truncated to the maximum length (123 bytes) if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>The close code to send </td></tr>
    <tr><td class="paramname">reason</td><td>The close reason to send </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00326">326</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  328</span>{</div>
<div class="line"><span class="lineno">  329</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_function" href="#ae718e4fa8b2c37757d8abd71dae07dc9">close</a>(code,reason,ec);</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_ae718e4fa8b2c37757d8abd71dae07dc9"><div class="ttname"><a href="#ae718e4fa8b2c37757d8abd71dae07dc9">websocketpp::connection::close</a></div><div class="ttdeci">void close(close::status::value const code, std::string const &amp;reason)</div><div class="ttdoc">Close the connection.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00326">connection_impl.hpp:326</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_cgraph" id="aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_cgraph">
<area shape="rect" title="Close the connection." alt="" coords="5,5,175,46"/>
<area shape="rect" href="integration_8cpp.html#af5b66d867a040d002fb57d645cae3fb4" title=" " alt="" coords="223,13,275,38"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_icgraph" id="aclasswebsocketpp_1_1connection_ae718e4fa8b2c37757d8abd71dae07dc9_icgraph">
<area shape="rect" title="Close the connection." alt="" coords="223,39,392,79"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#a525947d8d33ee1e410d02706246ffe94" title=" " alt="" coords="5,5,175,46"/>
<area shape="poly" title=" " alt="" coords="207,46,175,41,175,36,208,41"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#a29900da403dbafab8095c0989104be90" title="Add a message to the outgoing send queue." alt="" coords="5,71,175,111"/>
<area shape="poly" title=" " alt="" coords="208,76,175,81,175,76,207,71"/>
</map>
</div>

</div>
</div>
<a id="a436058fe88b1ba31080cec2a464634ae" name="a436058fe88b1ba31080cec2a464634ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436058fe88b1ba31080cec2a464634ae">&#9670;&#160;</a></span>close() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> const</td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>reason</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00304">304</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  306</span>{</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno">  308</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection close&quot;</span>);</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="comment">// Truncate reason to maximum size allowable in a close frame.</span></div>
<div class="line"><span class="lineno">  312</span>    std::string tr(reason,0,std::min&lt;size_t&gt;(reason.size(),</div>
<div class="line"><span class="lineno">  313</span>        frame::limits::close_reason_size));</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">if</span> (m_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>) {</div>
<div class="line"><span class="lineno">  318</span>       ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  319</span>       <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  320</span>    }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    ec = this-&gt;send_close_frame(code,tr,<span class="keyword">false</span>,<a class="code hl_function" href="namespacewebsocketpp_1_1close_1_1status.html#a3f9ce953f12693f74493e2eb7a80952b">close::status::terminal</a>(code));</div>
<div class="line"><span class="lineno">  323</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a98eee129ad1f7e30c059c1073d516495"><div class="ttname"><a href="#a98eee129ad1f7e30c059c1073d516495">websocketpp::connection::scoped_lock_type</a></div><div class="ttdeci">concurrency_type::scoped_lock_type scoped_lock_type</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00262">connection.hpp:262</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1close_1_1status_html_a3f9ce953f12693f74493e2eb7a80952b"><div class="ttname"><a href="namespacewebsocketpp_1_1close_1_1status.html#a3f9ce953f12693f74493e2eb7a80952b">websocketpp::close::status::terminal</a></div><div class="ttdeci">bool terminal(value code)</div><div class="ttdoc">Determine if the code represents an unrecoverable error.</div><div class="ttdef"><b>Definition</b> <a href="close_8hpp_source.html#l00212">close.hpp:212</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1state_html_a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">websocketpp::session::state::open</a></div><div class="ttdeci">@ open</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00181">connection.hpp:181</a></div></div>
<div class="ttc" id="axbyak__mnemonic_8h_html_aa81aed607133209dade63a226818224d"><div class="ttname"><a href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a></div><div class="ttdeci">void lock()</div><div class="ttdef"><b>Definition</b> <a href="xbyak__mnemonic_8h_source.html#l00433">xbyak_mnemonic.h:433</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a436058fe88b1ba31080cec2a464634ae_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a436058fe88b1ba31080cec2a464634ae_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a436058fe88b1ba31080cec2a464634ae_cgraph" id="aclasswebsocketpp_1_1connection_a436058fe88b1ba31080cec2a464634ae_cgraph">
<area shape="rect" title="exception free variant of close" alt="" coords="5,55,175,96"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="269,5,314,31"/>
<area shape="poly" title=" " alt="" coords="163,52,253,26,254,31,164,57"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="225,55,358,96"/>
<area shape="poly" title=" " alt="" coords="175,73,209,73,209,78,175,78"/>
<area shape="rect" href="namespacewebsocketpp_1_1close_1_1status.html#a3f9ce953f12693f74493e2eb7a80952b" title="Determine if the code represents an unrecoverable error." alt="" coords="223,120,360,161"/>
<area shape="poly" title=" " alt="" coords="156,94,213,113,211,118,154,99"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="408,55,540,96"/>
<area shape="poly" title=" " alt="" coords="358,73,393,73,393,78,358,78"/>
</map>
</div>

</div>
</div>
<a id="a32c3f964cef870faf0d8f23c5b7588bb" name="a32c3f964cef870faf0d8f23c5b7588bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32c3f964cef870faf0d8f23c5b7588bb">&#9670;&#160;</a></span>defer_http_response()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::defer_http_response </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defer HTTP Response until later.</p>
<p>Used in the http handler to defer the HTTP response for this connection until later. Handshake timers will be canceled and the connection will be left open until <code>send_http_response</code> or an equivalent is called.</p>
<p>Warning: deferred connections won't time out and as a result can tie up resources.</p>
<dl class="section since"><dt>Since</dt><dd>0.6.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> status code, zero on success, non-zero otherwise</dd></dl>
<p>Used in the http handler to defer the HTTP response for this connection until later. Handshake timers will be canceled and the connection will be left open until <code>send_http_response</code> or an equivalent is called.</p>
<p>Warning: deferred connections won't time out and as a result can tie up resources.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> status code, zero on success, non-zero otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00671">671</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  671</span>                                                      {</div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Cancel handshake timer, otherwise the connection will time out and we&#39;ll</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="comment">// close the connection before the app has a chance to send a response.</span></div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">if</span> (m_handshake_timer) {</div>
<div class="line"><span class="lineno">  675</span>        m_handshake_timer-&gt;cancel();</div>
<div class="line"><span class="lineno">  676</span>        m_handshake_timer.reset();</div>
<div class="line"><span class="lineno">  677</span>    }</div>
<div class="line"><span class="lineno">  678</span>    </div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">// Do something to signal deferral</span></div>
<div class="line"><span class="lineno">  680</span>    m_http_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa93b52fb34c5d01e7349ef0f4e80b94d5">session::http_state::deferred</a>;</div>
<div class="line"><span class="lineno">  681</span>    </div>
<div class="line"><span class="lineno">  682</span>    <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno">  683</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1http__state_html_a40c0c92e8a4a3dff1ecd017d26f0bc4aa93b52fb34c5d01e7349ef0f4e80b94d5"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa93b52fb34c5d01e7349ef0f4e80b94d5">websocketpp::session::http_state::deferred</a></div><div class="ttdeci">@ deferred</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00224">connection.hpp:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41a23575fcdad7f8afe25b2fabe12593" name="a41a23575fcdad7f8afe25b2fabe12593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a23575fcdad7f8afe25b2fabe12593">&#9670;&#160;</a></span>get_buffered_amount()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_buffered_amount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the number of bytes in the outgoing write buffer that have not already been dispatched to the transport layer. This represents the bytes that are presently cancelable without uncleanly ending the websocket connection</p>
<p>This method invokes the m_write_lock mutex</p>
<dl class="section return"><dt>Returns</dt><dd>The current number of bytes in the outgoing send buffer. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00071">71</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>                                                     {</div>
<div class="line"><span class="lineno">   72</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">return</span> m_send_buffer_size;</div>
<div class="line"><span class="lineno">   74</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a41a23575fcdad7f8afe25b2fabe12593_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a41a23575fcdad7f8afe25b2fabe12593_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a41a23575fcdad7f8afe25b2fabe12593_icgraph" id="aclasswebsocketpp_1_1connection_a41a23575fcdad7f8afe25b2fabe12593_icgraph">
<area shape="rect" title="Get the size of the outgoing write buffer (in payload bytes)" alt="" coords="223,5,392,46"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#aaaad6dc1c81fc944593f529575b67d96" title="Get the size of the outgoing write buffer (in payload bytes)" alt="" coords="5,5,175,46"/>
<area shape="poly" title=" " alt="" coords="207,28,175,28,175,23,207,23"/>
</map>
</div>

</div>
</div>
<a id="a8c05c88d471342673abf0e5ce60aa4cc" name="a8c05c88d471342673abf0e5ce60aa4cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c05c88d471342673abf0e5ce60aa4cc">&#9670;&#160;</a></span>get_ec()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_ec </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves a machine readable detailed error code indicating the reason that the connection was closed or failed. Valid only after the close or fail handler is called.</p>
<dl class="section return"><dt>Returns</dt><dd>Error code indicating the reason the connection was closed or failed </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01255">1255</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1255</span>                                 {</div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keywordflow">return</span> m_ec;</div>
<div class="line"><span class="lineno"> 1257</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a28147e2f3f4c1fb37f29a234e772bc" name="a6a28147e2f3f4c1fb37f29a234e772bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a28147e2f3f4c1fb37f29a234e772bc">&#9670;&#160;</a></span>get_handle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_handle </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The connection handle is a token that can be shared outside the WebSocket++ core for the purposes of identifying a connection and sending it messages.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> handle to the connection </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01184">1184</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1184</span>                                      {</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordflow">return</span> m_connection_hdl;</div>
<div class="line"><span class="lineno"> 1186</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a47e91744f959876b9fef4b18b04a809a" name="a47e91744f959876b9fef4b18b04a809a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e91744f959876b9fef4b18b04a809a">&#9670;&#160;</a></span>get_host()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_host </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This value is available after the HTTP request has been fully read and may be called from any thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The host component of the connection URI </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00412">412</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  412</span>                                                     {</div>
<div class="line"><span class="lineno">  413</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  414</span>    <span class="keywordflow">return</span> m_uri-&gt;get_host();</div>
<div class="line"><span class="lineno">  415</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a871a1374bb7330126bfe3f535753cc52" name="a871a1374bb7330126bfe3f535753cc52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871a1374bb7330126bfe3f535753cc52">&#9670;&#160;</a></span>get_local_close_code()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_local_close_code </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The WebSocket close code sent by this endpoint. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01218">1218</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1218</span>                                                  {</div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keywordflow">return</span> m_local_close_code;</div>
<div class="line"><span class="lineno"> 1220</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7320e3ceabf14e7dce9f6c2679f23e9" name="af7320e3ceabf14e7dce9f6c2679f23e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7320e3ceabf14e7dce9f6c2679f23e9">&#9670;&#160;</a></span>get_local_close_reason()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_local_close_reason </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The WebSocket close reason sent by this endpoint. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01226">1226</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1226</span>                                                     {</div>
<div class="line"><span class="lineno"> 1227</span>        <span class="keywordflow">return</span> m_local_close_reason;</div>
<div class="line"><span class="lineno"> 1228</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a050215a9f1d7652bcd8c543ae5f38c" name="a9a050215a9f1d7652bcd8c543ae5f38c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a050215a9f1d7652bcd8c543ae5f38c">&#9670;&#160;</a></span>get_max_http_body_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_max_http_body_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get maximum HTTP message body size. Maximum message body size determines the point at which the connection will stop reading an HTTP request whose body is too large.</p>
<p>The default is set by the endpoint that creates the connection.</p>
<dl class="section since"><dt>Since</dt><dd>0.5.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum HTTP message body size </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00594">594</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  594</span>                                          {</div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">return</span> m_request.get_max_body_size();</div>
<div class="line"><span class="lineno">  596</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7739a5097ae6562bc9b0880731a2857" name="af7739a5097ae6562bc9b0880731a2857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7739a5097ae6562bc9b0880731a2857">&#9670;&#160;</a></span>get_max_message_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_max_message_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get maximum message size. Maximum message size determines the point at which the connection will fail with the message_too_big protocol error.</p>
<p>The default is set by the endpoint that creates the connection.</p>
<dl class="section since"><dt>Since</dt><dd>0.3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00559">559</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  559</span>                                        {</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> m_max_message_size;</div>
<div class="line"><span class="lineno">  561</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a854cb45d1c96d0a2e19ad0ba827a0f9e" name="a854cb45d1c96d0a2e19ad0ba827a0f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854cb45d1c96d0a2e19ad0ba827a0f9e">&#9670;&#160;</a></span>get_message()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">websocketpp::frame::opcode::value</a></td>          <td class="paramname"><span class="paramname"><em>op</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Warning: The API related to directly sending message buffers may change before the 1.0 release. If you plan to use it, please keep an eye on any breaking changes notifications in future release notes. Also if you have any feedback about usage and capabilities now is a great time to provide it.</p>
<p>Message buffers are used to store message payloads and other message metadata.</p>
<p>The size parameter is a hint only. Your final payload does not need to match it. There may be some performance benefits if the initial size guess is equal to or slightly higher than the final payload size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">op</td><td>The opcode for the new message </td></tr>
    <tr><td class="paramname">size</td><td><a class="el" href="struct_a.html">A</a> hint to optimize the initial allocation of payload space. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> new message buffer </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01278">1278</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1280</span>    {</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">return</span> m_msg_manager-&gt;get_message(<a class="code hl_union" href="unionop.html">op</a>, size);</div>
<div class="line"><span class="lineno"> 1282</span>    }</div>
<div class="ttc" id="aunionop_html"><div class="ttname"><a href="unionop.html">op</a></div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8h_source.html#l00098">yubihsm_pkcs11.h:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a428a8ee0bd94a7dadf6a4831c756ead3" name="a428a8ee0bd94a7dadf6a4831c756ead3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a428a8ee0bd94a7dadf6a4831c756ead3">&#9670;&#160;</a></span>get_origin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_origin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This value is available after the HTTP request has been fully read and may be called from any thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The connection's origin value from the opening handshake. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00065">65</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                                       {</div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">return</span> m_processor-&gt;get_origin(m_request);</div>
<div class="line"><span class="lineno">   68</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af6651a691ee345daf5cfd31b875965ab" name="af6651a691ee345daf5cfd31b875965ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6651a691ee345daf5cfd31b875965ab">&#9670;&#160;</a></span>get_port()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_port </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This value is available after the HTTP request has been fully read and may be called from any thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The port component of the connection URI </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00424">424</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>                                            {</div>
<div class="line"><span class="lineno">  425</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">return</span> m_uri-&gt;get_port();</div>
<div class="line"><span class="lineno">  427</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aad217d74120fb96a39d71c330e0ffa41" name="aad217d74120fb96a39d71c330e0ffa41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad217d74120fb96a39d71c330e0ffa41">&#9670;&#160;</a></span>get_remote_close_code()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp_1_1close_1_1status.html#a8614a5c4733d708e2d2a32191c5bef84">close::status::value</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_remote_close_code </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The WebSocket close code sent by the remote endpoint. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01234">1234</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1234</span>                                                   {</div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keywordflow">return</span> m_remote_close_code;</div>
<div class="line"><span class="lineno"> 1236</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab96a9228945fc99f708e866f0fc7c0ca" name="ab96a9228945fc99f708e866f0fc7c0ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96a9228945fc99f708e866f0fc7c0ca">&#9670;&#160;</a></span>get_remote_close_reason()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_remote_close_reason </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The WebSocket close reason sent by the remote endpoint. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01242">1242</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1242</span>                                                      {</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordflow">return</span> m_remote_close_reason;</div>
<div class="line"><span class="lineno"> 1244</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7986d48af3a57655554f10a4a04421c" name="ac7986d48af3a57655554f10a4a04421c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7986d48af3a57655554f10a4a04421c">&#9670;&#160;</a></span>get_request()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#afd1de69db1764ab30dc4f30bb84a6565">request_type</a> const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_request </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Direct access to request object. This can be used to call methods of the request object that are not part of the standard request API that connection wraps.</p>
<p>Note use of this method involves using behavior specific to the configured HTTP policy. Such behavior may not work with alternate HTTP policies.</p>
<dl class="section since"><dt>Since</dt><dd>0.3.0-alpha3</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> const reference to the raw request object </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01103">1103</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1103</span>                                             {</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">return</span> m_request;</div>
<div class="line"><span class="lineno"> 1105</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a187c640f1352e74a00c0f8b6177da94a" name="a187c640f1352e74a00c0f8b6177da94a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187c640f1352e74a00c0f8b6177da94a">&#9670;&#160;</a></span>get_request_body()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_request_body </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the value of the request body. This value is typically used with PUT and POST requests to upload files or other data. Only HTTP connections will ever have bodies. WebSocket connection's will always have blank bodies.</p>
<dl class="section return"><dt>Returns</dt><dd>The value of the request body. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00533">533</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  533</span>                                           {</div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">return</span> m_request.get_body();</div>
<div class="line"><span class="lineno">  535</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a542dd013907c3aeb2dbb01d1d631a492" name="a542dd013907c3aeb2dbb01d1d631a492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542dd013907c3aeb2dbb01d1d631a492">&#9670;&#160;</a></span>get_request_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_request_header </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the value of a header from the handshake HTTP request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Name of the header to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the header </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00527">527</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>                                                                  {</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">return</span> m_request.get_header(key);</div>
<div class="line"><span class="lineno">  529</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0f196cb11d4a38ef59f2173424a4d51" name="ae0f196cb11d4a38ef59f2173424a4d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f196cb11d4a38ef59f2173424a4d51">&#9670;&#160;</a></span>get_requested_subprotocols()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_requested_subprotocols </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the subprotocols that were requested during the handshake. This method is valid in the validate handler and later.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> vector of the requested subprotocol </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00453">453</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span>                                                     {</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">return</span> m_requested_subprotocols;</div>
<div class="line"><span class="lineno">  455</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a52ad47e67e1327e95d1572e04173a409" name="a52ad47e67e1327e95d1572e04173a409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ad47e67e1327e95d1572e04173a409">&#9670;&#160;</a></span>get_resource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_resource </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This value is available after the HTTP request has been fully read and may be called from any thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The resource component of the connection URI </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00418">418</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                         {</div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">return</span> m_uri-&gt;get_resource();</div>
<div class="line"><span class="lineno">  421</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fc82f2ef276a8bfaf64bb168fb215ca" name="a4fc82f2ef276a8bfaf64bb168fb215ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc82f2ef276a8bfaf64bb168fb215ca">&#9670;&#160;</a></span>get_response()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a3057f017dd336275028a1cab5a7a28a6">response_type</a> const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_response </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Direct access to the HTTP response sent or received as a part of the opening handshake. This can be used to call methods of the response object that are not part of the standard request API that connection wraps.</p>
<p>Note use of this method involves using behavior specific to the configured HTTP policy. Such behavior may not work with alternate HTTP policies.</p>
<dl class="section since"><dt>Since</dt><dd>0.7.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> const reference to the raw response object </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01122">1122</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1122</span>                                               {</div>
<div class="line"><span class="lineno"> 1123</span>        <span class="keywordflow">return</span> m_response;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a32a160dedfda82a678bc61a18fda12b3" name="a32a160dedfda82a678bc61a18fda12b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a160dedfda82a678bc61a18fda12b3">&#9670;&#160;</a></span>get_response_code()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_response_code </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the response status code</p>
<dl class="section since"><dt>Since</dt><dd>0.7.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The response status code sent </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00983">983</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  983</span>                                                   {</div>
<div class="line"><span class="lineno">  984</span>        <span class="keywordflow">return</span> m_response.get_status_code();</div>
<div class="line"><span class="lineno">  985</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72e0c94609844078fc611716c39791de" name="a72e0c94609844078fc611716c39791de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e0c94609844078fc611716c39791de">&#9670;&#160;</a></span>get_response_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_response_header </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the value of a header from the handshake HTTP request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Name of the header to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the header </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00539">539</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  539</span>                                                                   {</div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">return</span> m_response.get_header(key);</div>
<div class="line"><span class="lineno">  541</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a78b53d68e30ca9fa4df7ff8dfd38ea" name="a7a78b53d68e30ca9fa4df7ff8dfd38ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a78b53d68e30ca9fa4df7ff8dfd38ea">&#9670;&#160;</a></span>get_response_msg()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_response_msg </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the response status message</p>
<dl class="section since"><dt>Since</dt><dd>0.7.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The response status message sent </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00995">995</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  995</span>                                               {</div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">return</span> m_response.get_status_msg();</div>
<div class="line"><span class="lineno">  997</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38d87e9ef3c4514fcd72457a04c31260" name="a38d87e9ef3c4514fcd72457a04c31260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d87e9ef3c4514fcd72457a04c31260">&#9670;&#160;</a></span>get_secure()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_secure </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This value is available after the HTTP request has been fully read and may be called from any thread.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the connection URI is flagged secure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00406">406</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>                                          {</div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">return</span> m_uri-&gt;get_secure();</div>
<div class="line"><span class="lineno">  409</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01a5af7dc2f35ff8f15da8c2cf3a3b02" name="a01a5af7dc2f35ff8f15da8c2cf3a3b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">&#9670;&#160;</a></span>get_shared()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#af5839adca921ce08ea3ca3e634155e86">ptr</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_shared </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00336">336</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  336</span>                     {</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">return</span> lib::static_pointer_cast&lt;type&gt;(transport_con_type::get_shared());</div>
<div class="line"><span class="lineno">  338</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9001efbd5b467ccf3e5e601bb18e4971" name="a9001efbd5b467ccf3e5e601bb18e4971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9001efbd5b467ccf3e5e601bb18e4971">&#9670;&#160;</a></span>get_state()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5">session::state::value</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_state </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Values can be connecting, open, closing, and closed</p>
<dl class="section return"><dt>Returns</dt><dd>The connection's current state. </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00077">77</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                                                      {</div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">return</span> m_state;</div>
<div class="line"><span class="lineno">   80</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8577184f6e4d82955cc38e1a9f8164b" name="ae8577184f6e4d82955cc38e1a9f8164b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8577184f6e4d82955cc38e1a9f8164b">&#9670;&#160;</a></span>get_subprotocol()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_subprotocol </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the subprotocol that was negotiated during the handshake. This method is valid in the open handler and later.</p>
<dl class="section return"><dt>Returns</dt><dd>The negotiated subprotocol </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00447">447</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  447</span>                                                            {</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">return</span> m_subprotocol;</div>
<div class="line"><span class="lineno">  449</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a588af194b5c2a13fe692452c207e0cba" name="a588af194b5c2a13fe692452c207e0cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588af194b5c2a13fe692452c207e0cba">&#9670;&#160;</a></span>get_supported_versions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; const  &amp; <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_supported_versions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01940">1940</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1941</span>{</div>
<div class="line"><span class="lineno"> 1942</span>    <span class="keywordflow">return</span> versions_supported;</div>
<div class="line"><span class="lineno"> 1943</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63f906681e9363f40dce7d2b65444a41" name="a63f906681e9363f40dce7d2b65444a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f906681e9363f40dce7d2b65444a41">&#9670;&#160;</a></span>get_uri()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a> <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::get_uri </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should really only be called by internal library methods unless you really know what you are doing.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_a.html">A</a> pointer to the connection's URI </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00430">430</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  430</span>                                          {</div>
<div class="line"><span class="lineno">  431</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">return</span> m_uri;</div>
<div class="line"><span class="lineno">  433</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a129554b75156c82eb22b22e4409392c8" name="a129554b75156c82eb22b22e4409392c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a129554b75156c82eb22b22e4409392c8">&#9670;&#160;</a></span>handle_close_handshake_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_close_handshake_timeout </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01691">1691</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1693</span>{</div>
<div class="line"><span class="lineno"> 1694</span>    <span class="keywordflow">if</span> (ec == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a887436887a8732e48f7c67bd85bb6f64">transport::error::operation_aborted</a>) {</div>
<div class="line"><span class="lineno"> 1695</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;asio close handshake timer cancelled&quot;</span>);</div>
<div class="line"><span class="lineno"> 1696</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1697</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1698</span>            <span class="stringliteral">&quot;asio open handle_close_handshake_timeout error: &quot;</span>+ec.message());</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="comment">// TODO: ignore or fail here?</span></div>
<div class="line"><span class="lineno"> 1700</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1701</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;asio close handshake timer expired&quot;</span>);</div>
<div class="line"><span class="lineno"> 1702</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dabd195839148da73c7dbef46688635f77">error::close_handshake_timeout</a>));</div>
<div class="line"><span class="lineno"> 1703</span>    }</div>
<div class="line"><span class="lineno"> 1704</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68dabd195839148da73c7dbef46688635f77"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dabd195839148da73c7dbef46688635f77">websocketpp::error::close_handshake_timeout</a></div><div class="ttdeci">@ close_handshake_timeout</div><div class="ttdoc">WebSocket close handshake timed out.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00117">error.hpp:117</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1transport_1_1error_html_a8d371a2562d813e5a2e106e2694d4fb0a887436887a8732e48f7c67bd85bb6f64"><div class="ttname"><a href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a887436887a8732e48f7c67bd85bb6f64">websocketpp::transport::error::operation_aborted</a></div><div class="ttdeci">@ operation_aborted</div><div class="ttdoc">Operation aborted.</div><div class="ttdef"><b>Definition</b> <a href="transport_2base_2connection_8hpp_source.html#l00162">connection.hpp:162</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a74995b2493f23c9103413e37da5cdc38"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a></div><div class="ttdeci">bool terminate</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l02400">yubihsm_pkcs11.c:2400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b438ac986b73c99907515eeac6dc45f" name="a0b438ac986b73c99907515eeac6dc45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b438ac986b73c99907515eeac6dc45f">&#9670;&#160;</a></span>handle_interrupt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_interrupt </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00353">353</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  353</span>                                          {</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">if</span> (m_interrupt_handler) {</div>
<div class="line"><span class="lineno">  355</span>        m_interrupt_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno">  356</span>    }</div>
<div class="line"><span class="lineno">  357</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee1b6e47985b434303b8d6e5f27177a3" name="aee1b6e47985b434303b8d6e5f27177a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1b6e47985b434303b8d6e5f27177a3">&#9670;&#160;</a></span>handle_open_handshake_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_open_handshake_timeout </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01675">1675</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1677</span>{</div>
<div class="line"><span class="lineno"> 1678</span>    <span class="keywordflow">if</span> (ec == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a887436887a8732e48f7c67bd85bb6f64">transport::error::operation_aborted</a>) {</div>
<div class="line"><span class="lineno"> 1679</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;open handshake timer cancelled&quot;</span>);</div>
<div class="line"><span class="lineno"> 1680</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1681</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1682</span>            <span class="stringliteral">&quot;open handle_open_handshake_timeout error: &quot;</span>+ec.message());</div>
<div class="line"><span class="lineno"> 1683</span>        <span class="comment">// TODO: ignore or fail here?</span></div>
<div class="line"><span class="lineno"> 1684</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1685</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;open handshake timer expired&quot;</span>);</div>
<div class="line"><span class="lineno"> 1686</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dad2d508dc214d70b4bd6249a85987bfd6">error::open_handshake_timeout</a>));</div>
<div class="line"><span class="lineno"> 1687</span>    }</div>
<div class="line"><span class="lineno"> 1688</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68dad2d508dc214d70b4bd6249a85987bfd6"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dad2d508dc214d70b4bd6249a85987bfd6">websocketpp::error::open_handshake_timeout</a></div><div class="ttdeci">@ open_handshake_timeout</div><div class="ttdoc">WebSocket opening handshake timed out.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00114">error.hpp:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5887284ea346efd7b5cc43519bfd84d5" name="a5887284ea346efd7b5cc43519bfd84d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5887284ea346efd7b5cc43519bfd84d5">&#9670;&#160;</a></span>handle_pause_reading()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_pause_reading </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pause reading handler. Not safe to call directly. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00372">372</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>                                              {</div>
<div class="line"><span class="lineno">  373</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection connection::handle_pause_reading&quot;</span>);</div>
<div class="line"><span class="lineno">  374</span>    m_read_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  375</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af10cbbbfe16ef1cc6f45614582c9d28f" name="af10cbbbfe16ef1cc6f45614582c9d28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af10cbbbfe16ef1cc6f45614582c9d28f">&#9670;&#160;</a></span>handle_pong_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_pong_timeout </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00233">233</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  235</span>{</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span> (ec == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a887436887a8732e48f7c67bd85bb6f64">transport::error::operation_aborted</a>) {</div>
<div class="line"><span class="lineno">  238</span>            <span class="comment">// ignore, this is expected</span></div>
<div class="line"><span class="lineno">  239</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  240</span>        }</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#a0b1dbc650c6f2711522c096496423726">log::elevel::devel</a>,<span class="stringliteral">&quot;pong_timeout error: &quot;</span>+ec.message());</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  244</span>    }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (m_pong_timeout_handler) {</div>
<div class="line"><span class="lineno">  247</span>        m_pong_timeout_handler(m_connection_hdl,payload);</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1elevel_html_a0b1dbc650c6f2711522c096496423726"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1elevel.html#a0b1dbc650c6f2711522c096496423726">websocketpp::log::elevel::devel</a></div><div class="ttdeci">static level const devel</div><div class="ttdoc">Low level debugging information (warning: very chatty)</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00063">levels.hpp:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd6866c41c2ae86c3372cf428392a190" name="abd6866c41c2ae86c3372cf428392a190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6866c41c2ae86c3372cf428392a190">&#9670;&#160;</a></span>handle_read_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_read_frame </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>bytes_transferred</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00975">975</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  977</span>{</div>
<div class="line"><span class="lineno">  978</span>    <span class="comment">//m_alog.write(log::alevel::devel,&quot;connection handle_read_frame&quot;);</span></div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">if</span> (!ecm &amp;&amp; m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da20ef9274fcce8154c6cc28d00b900709">istate::PROCESS_CONNECTION</a>) {</div>
<div class="line"><span class="lineno">  983</span>        ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  984</span>    }</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno">  987</span>        <a class="code hl_typedef" href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">log::level</a> echannel = <a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>;</div>
<div class="line"><span class="lineno">  988</span>        </div>
<div class="line"><span class="lineno">  989</span>        <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">transport::error::eof</a>) {</div>
<div class="line"><span class="lineno">  990</span>            <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno">  991</span>                <span class="comment">// we expect to get eof if the connection is closed already</span></div>
<div class="line"><span class="lineno">  992</span>                <span class="comment">// just ignore it</span></div>
<div class="line"><span class="lineno">  993</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;got eof from closed con&quot;</span>);</div>
<div class="line"><span class="lineno">  994</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  995</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a646a22eb6d8f0b3f6e032fc27dc1091e">session::state::closing</a> &amp;&amp; !m_is_server) {</div>
<div class="line"><span class="lineno">  996</span>                <span class="comment">// If we are a client we expect to get eof in the closing state,</span></div>
<div class="line"><span class="lineno">  997</span>                <span class="comment">// this is a signal to terminate our end of the connection after</span></div>
<div class="line"><span class="lineno">  998</span>                <span class="comment">// the closing handshake</span></div>
<div class="line"><span class="lineno">  999</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(lib::error_code());</div>
<div class="line"><span class="lineno"> 1000</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1001</span>            }</div>
<div class="line"><span class="lineno"> 1002</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>) {</div>
<div class="line"><span class="lineno"> 1003</span>            <span class="comment">// In general, invalid state errors in the closed state are the</span></div>
<div class="line"><span class="lineno"> 1004</span>            <span class="comment">// result of handlers that were in the system already when the state</span></div>
<div class="line"><span class="lineno"> 1005</span>            <span class="comment">// changed and should be ignored as they pose no problems and there</span></div>
<div class="line"><span class="lineno"> 1006</span>            <span class="comment">// is nothing useful that we can do about them.</span></div>
<div class="line"><span class="lineno"> 1007</span>            <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1008</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1009</span>                    <span class="stringliteral">&quot;handle_read_frame: got invalid istate in closed state&quot;</span>);</div>
<div class="line"><span class="lineno"> 1010</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1011</span>            }</div>
<div class="line"><span class="lineno"> 1012</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0af716728e7a91dafb4439a15e7c638112">transport::error::tls_short_read</a>) {</div>
<div class="line"><span class="lineno"> 1013</span>            <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1014</span>                <span class="comment">// We expect to get a TLS short read if we try to read after the</span></div>
<div class="line"><span class="lineno"> 1015</span>                <span class="comment">// connection is closed. If this happens ignore and exit the</span></div>
<div class="line"><span class="lineno"> 1016</span>                <span class="comment">// read frame path.</span></div>
<div class="line"><span class="lineno"> 1017</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(lib::error_code());</div>
<div class="line"><span class="lineno"> 1018</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1019</span>            }</div>
<div class="line"><span class="lineno"> 1020</span>            echannel = <a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>;</div>
<div class="line"><span class="lineno"> 1021</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0acabe9e6ae399d59c020c9f78930f01f6">transport::error::action_after_shutdown</a>) {</div>
<div class="line"><span class="lineno"> 1022</span>            echannel = <a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#a3ab47987a682f0de7b1d0df8c9c3b9d2">log::elevel::info</a>;</div>
<div class="line"><span class="lineno"> 1023</span>        }</div>
<div class="line"><span class="lineno"> 1024</span>        </div>
<div class="line"><span class="lineno"> 1025</span>        log_err(echannel, <span class="stringliteral">&quot;handle_read_frame&quot;</span>, ecm);</div>
<div class="line"><span class="lineno"> 1026</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno"> 1027</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1028</span>    }</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>    <span class="comment">// Boundaries checking. TODO: How much of this should be done?</span></div>
<div class="line"><span class="lineno"> 1031</span>    <span class="comment">/*if (bytes_transferred &gt; config::connection_read_buffer_size) {</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="comment">        m_elog.write(log::elevel::fatal,&quot;Fatal boundaries checking error&quot;);</span></div>
<div class="line"><span class="lineno"> 1033</span><span class="comment">        this-&gt;terminate(make_error_code(error::general));</span></div>
<div class="line"><span class="lineno"> 1034</span><span class="comment">        return;</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> = 0;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1040</span>        std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1041</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;p = &quot;</span> &lt;&lt; <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> &lt;&lt; <span class="stringliteral">&quot; bytes transferred = &quot;</span> &lt;&lt; bytes_transferred;</div>
<div class="line"><span class="lineno"> 1042</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1043</span>    }</div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span>    <span class="keywordflow">while</span> (<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> &lt; bytes_transferred) {</div>
<div class="line"><span class="lineno"> 1046</span>        <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1047</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1048</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;calling consume with &quot;</span> &lt;&lt; bytes_transferred-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span>;</div>
<div class="line"><span class="lineno"> 1049</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1050</span>        }</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>        lib::error_code consume_ec;</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1055</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1056</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;Processing Bytes: &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2">utility::to_hex</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*<span class="keyword">&gt;</span>(m_buf)+<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>,bytes_transferred-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>);</div>
<div class="line"><span class="lineno"> 1057</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1058</span>        }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>        <a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a> += m_processor-&gt;consume(</div>
<div class="line"><span class="lineno"> 1061</span>            <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*<span class="keyword">&gt;</span>(m_buf)+<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>,</div>
<div class="line"><span class="lineno"> 1062</span>            bytes_transferred-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>,</div>
<div class="line"><span class="lineno"> 1063</span>            consume_ec</div>
<div class="line"><span class="lineno"> 1064</span>        );</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>        <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1067</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1068</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;bytes left after consume: &quot;</span> &lt;&lt; bytes_transferred-<a class="code hl_variable" href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a>;</div>
<div class="line"><span class="lineno"> 1069</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1070</span>        }</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">if</span> (consume_ec) {</div>
<div class="line"><span class="lineno"> 1072</span>            log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>, <span class="stringliteral">&quot;consume&quot;</span>, consume_ec);</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>            <span class="keywordflow">if</span> (config::drop_on_protocol_error) {</div>
<div class="line"><span class="lineno"> 1075</span>                this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(consume_ec);</div>
<div class="line"><span class="lineno"> 1076</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1077</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1078</span>                lib::error_code close_ec;</div>
<div class="line"><span class="lineno"> 1079</span>                this-&gt;<a class="code hl_function" href="#ae718e4fa8b2c37757d8abd71dae07dc9">close</a>(</div>
<div class="line"><span class="lineno"> 1080</span>                    <a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#a30c8a38f28c65b3398f88ad989186111">processor::error::to_ws</a>(consume_ec),</div>
<div class="line"><span class="lineno"> 1081</span>                    consume_ec.message(),</div>
<div class="line"><span class="lineno"> 1082</span>                    close_ec</div>
<div class="line"><span class="lineno"> 1083</span>                );</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>                <span class="keywordflow">if</span> (close_ec) {</div>
<div class="line"><span class="lineno"> 1086</span>                    log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aa909808e0fb142742a0ebd2dca54f517">log::elevel::fatal</a>, <span class="stringliteral">&quot;Protocol error close frame &quot;</span>, close_ec);</div>
<div class="line"><span class="lineno"> 1087</span>                    this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(close_ec);</div>
<div class="line"><span class="lineno"> 1088</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1089</span>                }</div>
<div class="line"><span class="lineno"> 1090</span>            }</div>
<div class="line"><span class="lineno"> 1091</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1092</span>        }</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keywordflow">if</span> (m_processor-&gt;ready()) {</div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1096</span>                std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1097</span>                <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;Complete message received. Dispatching&quot;</span>;</div>
<div class="line"><span class="lineno"> 1098</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1099</span>            }</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>            <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> msg = m_processor-&gt;get_message();</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>            <span class="keywordflow">if</span> (!msg) {</div>
<div class="line"><span class="lineno"> 1104</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;null message from m_processor&quot;</span>);</div>
<div class="line"><span class="lineno"> 1105</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">is_control</a>(msg-&gt;get_opcode())) {</div>
<div class="line"><span class="lineno"> 1106</span>                <span class="comment">// data message, dispatch to user</span></div>
<div class="line"><span class="lineno"> 1107</span>                <span class="keywordflow">if</span> (m_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>) {</div>
<div class="line"><span class="lineno"> 1108</span>                    m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aef51fd791400121297f38f4381edaebe">log::elevel::warn</a>, <span class="stringliteral">&quot;got non-close frame while closing&quot;</span>);</div>
<div class="line"><span class="lineno"> 1109</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_message_handler) {</div>
<div class="line"><span class="lineno"> 1110</span>                    m_message_handler(m_connection_hdl, msg);</div>
<div class="line"><span class="lineno"> 1111</span>                }</div>
<div class="line"><span class="lineno"> 1112</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1113</span>                process_control_frame(msg);</div>
<div class="line"><span class="lineno"> 1114</span>            }</div>
<div class="line"><span class="lineno"> 1115</span>        }</div>
<div class="line"><span class="lineno"> 1116</span>    }</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>    <a class="code hl_function" href="#af54e9d7c8ef07349d28c3405182bb3c7">read_frame</a>();</div>
<div class="line"><span class="lineno"> 1119</span>}</div>
<div class="ttc" id="abn_8cpp_html_a8b0eadcc506862e9d751ab45185053aa"><div class="ttname"><a href="bn_8cpp.html#a8b0eadcc506862e9d751ab45185053aa">p</a></div><div class="ttdeci">const mie::Vuint &amp; p</div><div class="ttdef"><b>Definition</b> <a href="bn_8cpp_source.html#l00027">bn.cpp:27</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_af54e9d7c8ef07349d28c3405182bb3c7"><div class="ttname"><a href="#af54e9d7c8ef07349d28c3405182bb3c7">websocketpp::connection::read_frame</a></div><div class="ttdeci">void read_frame()</div><div class="ttdoc">Issue a new transport read unless reading is paused.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01123">connection_impl.hpp:1123</a></div></div>
<div class="ttc" id="adebug__client_8cpp_html_a08398c4d31a4dc3e42d1b9a9ef64c6ad"><div class="ttname"><a href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a></div><div class="ttdeci">websocketpp::config::asio_tls_client::message_type::ptr message_ptr</div><div class="ttdef"><b>Definition</b> <a href="debug__client_8cpp_source.html#l00046">debug_client.cpp:46</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_aa5e7f94a35f8fb59a925fa01636f08ad"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#aa5e7f94a35f8fb59a925fa01636f08ad">websocketpp::frame::opcode::is_control</a></div><div class="ttdeci">bool is_control(value v)</div><div class="ttdoc">Check if an opcode is for a control frame.</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00139">frame.hpp:139</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1log_html_a12d4d17939f102db8c9183d400a41960"><div class="ttname"><a href="namespacewebsocketpp_1_1log.html#a12d4d17939f102db8c9183d400a41960">websocketpp::log::level</a></div><div class="ttdeci">uint32_t level</div><div class="ttdoc">Type of a channel package.</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00037">levels.hpp:37</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_a30c8a38f28c65b3398f88ad989186111"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#a30c8a38f28c65b3398f88ad989186111">websocketpp::processor::error::to_ws</a></div><div class="ttdeci">close::status::value to_ws(lib::error_code ec)</div><div class="ttdoc">Converts a processor error_code into a websocket close code.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00261">base.hpp:261</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508da20ef9274fcce8154c6cc28d00b900709"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da20ef9274fcce8154c6cc28d00b900709">websocketpp::session::internal_state::PROCESS_CONNECTION</a></div><div class="ttdeci">@ PROCESS_CONNECTION</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00215">connection.hpp:214</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1state_html_a12acca56cdb6c10f467dfb10fc763ca5a646a22eb6d8f0b3f6e032fc27dc1091e"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a646a22eb6d8f0b3f6e032fc27dc1091e">websocketpp::session::state::closing</a></div><div class="ttdeci">@ closing</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00182">connection.hpp:182</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1state_html_a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">websocketpp::session::state::closed</a></div><div class="ttdeci">@ closed</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00184">connection.hpp:183</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1transport_1_1error_html_a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743"><div class="ttname"><a href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">websocketpp::transport::error::eof</a></div><div class="ttdeci">@ eof</div><div class="ttdoc">End of file.</div><div class="ttdef"><b>Definition</b> <a href="transport_2base_2connection_8hpp_source.html#l00168">connection.hpp:168</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1transport_1_1error_html_a8d371a2562d813e5a2e106e2694d4fb0acabe9e6ae399d59c020c9f78930f01f6"><div class="ttname"><a href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0acabe9e6ae399d59c020c9f78930f01f6">websocketpp::transport::error::action_after_shutdown</a></div><div class="ttdeci">@ action_after_shutdown</div><div class="ttdoc">read or write after shutdown</div><div class="ttdef"><b>Definition</b> <a href="transport_2base_2connection_8hpp_source.html#l00177">connection.hpp:177</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1transport_1_1error_html_a8d371a2562d813e5a2e106e2694d4fb0af716728e7a91dafb4439a15e7c638112"><div class="ttname"><a href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0af716728e7a91dafb4439a15e7c638112">websocketpp::transport::error::tls_short_read</a></div><div class="ttdeci">@ tls_short_read</div><div class="ttdoc">TLS short read.</div><div class="ttdef"><b>Definition</b> <a href="transport_2base_2connection_8hpp_source.html#l00171">connection.hpp:171</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1utility_html_a26e5a26395d95d2f6bf3a9edb8d06dd2"><div class="ttname"><a href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2">websocketpp::utility::to_hex</a></div><div class="ttdeci">std::string to_hex(std::string const &amp;input)</div><div class="ttdoc">Convert std::string to ascii printed string of hex digits.</div><div class="ttdef"><b>Definition</b> <a href="utilities__impl_8hpp_source.html#l00043">utilities_impl.hpp:43</a></div></div>
<div class="ttc" id="astdint_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00124">stdint.h:124</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1elevel_html_a3ab47987a682f0de7b1d0df8c9c3b9d2"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1elevel.html#a3ab47987a682f0de7b1d0df8c9c3b9d2">websocketpp::log::elevel::info</a></div><div class="ttdeci">static level const info</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00069">levels.hpp:69</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1elevel_html_aa909808e0fb142742a0ebd2dca54f517"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1elevel.html#aa909808e0fb142742a0ebd2dca54f517">websocketpp::log::elevel::fatal</a></div><div class="ttdeci">static level const fatal</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00078">levels.hpp:78</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1elevel_html_ae8a9a9f8b1fa45a731acd340e10aa342"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">websocketpp::log::elevel::rerror</a></div><div class="ttdeci">static level const rerror</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00075">levels.hpp:75</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1elevel_html_aef51fd791400121297f38f4381edaebe"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1elevel.html#aef51fd791400121297f38f4381edaebe">websocketpp::log::elevel::warn</a></div><div class="ttdeci">static level const warn</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00072">levels.hpp:72</a></div></div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_abd6866c41c2ae86c3372cf428392a190_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_abd6866c41c2ae86c3372cf428392a190_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_abd6866c41c2ae86c3372cf428392a190_cgraph" id="aclasswebsocketpp_1_1connection_abd6866c41c2ae86c3372cf428392a190_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a9c7e83aae3418cdf71e6fcf1dce3a255" name="a9c7e83aae3418cdf71e6fcf1dce3a255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7e83aae3418cdf71e6fcf1dce3a255">&#9670;&#160;</a></span>handle_read_handshake()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_read_handshake </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>bytes_transferred</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00814">814</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  816</span>{</div>
<div class="line"><span class="lineno">  817</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection handle_read_handshake&quot;</span>);</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">if</span> (!ecm) {</div>
<div class="line"><span class="lineno">  822</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno">  823</span>        </div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>) {</div>
<div class="line"><span class="lineno">  825</span>             <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da9fc18535c4635e903c366639dad6c9ab">istate::READ_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  826</span>                ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  827</span>             }</div>
<div class="line"><span class="lineno">  828</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno">  829</span>            <span class="comment">// The connection was canceled while the response was being sent,</span></div>
<div class="line"><span class="lineno">  830</span>            <span class="comment">// usually by the handshake timer. This is basically expected</span></div>
<div class="line"><span class="lineno">  831</span>            <span class="comment">// (though hopefully rare) and there is nothing we can do so ignore.</span></div>
<div class="line"><span class="lineno">  832</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno">  833</span>                <span class="stringliteral">&quot;handle_read_handshake invoked after connection was closed&quot;</span>);</div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  835</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  836</span>            ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  837</span>        }</div>
<div class="line"><span class="lineno">  838</span>    }</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno">  841</span>        <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">transport::error::eof</a> &amp;&amp; m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno">  842</span>            <span class="comment">// we expect to get eof if the connection is closed already</span></div>
<div class="line"><span class="lineno">  843</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno">  844</span>                    <span class="stringliteral">&quot;got (expected) eof/state error from closed con&quot;</span>);</div>
<div class="line"><span class="lineno">  845</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  846</span>        }</div>
<div class="line"><span class="lineno">  847</span>        </div>
<div class="line"><span class="lineno">  848</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;handle_read_handshake&quot;</span>,ecm);</div>
<div class="line"><span class="lineno">  849</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  851</span>    }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>    <span class="comment">// Boundaries checking. TODO: How much of this should be done?</span></div>
<div class="line"><span class="lineno">  854</span>    <span class="keywordflow">if</span> (bytes_transferred &gt; config::connection_read_buffer_size) {</div>
<div class="line"><span class="lineno">  855</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aa909808e0fb142742a0ebd2dca54f517">log::elevel::fatal</a>,<span class="stringliteral">&quot;Fatal boundaries checking error.&quot;</span>);</div>
<div class="line"><span class="lineno">  856</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">error::general</a>));</div>
<div class="line"><span class="lineno">  857</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  858</span>    }</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordtype">size_t</span> bytes_processed = 0;</div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  862</span>        bytes_processed = m_request.consume(m_buf,bytes_transferred);</div>
<div class="line"><span class="lineno">  863</span>    } <span class="keywordflow">catch</span> (http::exception &amp;e) {</div>
<div class="line"><span class="lineno">  864</span>        <span class="comment">// All HTTP exceptions will result in this request failing and an error</span></div>
<div class="line"><span class="lineno">  865</span>        <span class="comment">// response being returned. No more bytes will be read in this con.</span></div>
<div class="line"><span class="lineno">  866</span>        m_response.set_status(e.m_error_code,e.m_error_msg);</div>
<div class="line"><span class="lineno">  867</span>        this-&gt;write_http_response_error(<a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da589164fe7382c7355310fc92ff0d53d7">error::http_parse_error</a>));</div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  869</span>    }</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>    <span class="comment">// More paranoid boundaries checking.</span></div>
<div class="line"><span class="lineno">  872</span>    <span class="comment">// TODO: Is this overkill?</span></div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">if</span> (bytes_processed &gt; bytes_transferred) {</div>
<div class="line"><span class="lineno">  874</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aa909808e0fb142742a0ebd2dca54f517">log::elevel::fatal</a>,<span class="stringliteral">&quot;Fatal boundaries checking error.&quot;</span>);</div>
<div class="line"><span class="lineno">  875</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">error::general</a>));</div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno">  880</span>        std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  881</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;bytes_transferred: &quot;</span> &lt;&lt; bytes_transferred</div>
<div class="line"><span class="lineno">  882</span>          &lt;&lt; <span class="stringliteral">&quot; bytes, bytes processed: &quot;</span> &lt;&lt; bytes_processed &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span>;</div>
<div class="line"><span class="lineno">  883</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno">  884</span>    }</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (m_request.ready()) {</div>
<div class="line"><span class="lineno">  887</span>        lib::error_code processor_ec = this-&gt;<a class="code hl_function" href="#ac1c576bd4dfebac977eade9ac637a432">initialize_processor</a>();</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> (processor_ec) {</div>
<div class="line"><span class="lineno">  889</span>            this-&gt;write_http_response_error(processor_ec);</div>
<div class="line"><span class="lineno">  890</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  891</span>        }</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">if</span> (m_processor &amp;&amp; m_processor-&gt;get_version() == 0) {</div>
<div class="line"><span class="lineno">  894</span>            <span class="comment">// Version 00 has an extra requirement to read some bytes after the</span></div>
<div class="line"><span class="lineno">  895</span>            <span class="comment">// handshake</span></div>
<div class="line"><span class="lineno">  896</span>            <span class="keywordflow">if</span> (bytes_transferred-bytes_processed &gt;= 8) {</div>
<div class="line"><span class="lineno">  897</span>                m_request.replace_header(</div>
<div class="line"><span class="lineno">  898</span>                    <span class="stringliteral">&quot;Sec-WebSocket-Key3&quot;</span>,</div>
<div class="line"><span class="lineno">  899</span>                    std::string(m_buf+bytes_processed,m_buf+bytes_processed+8)</div>
<div class="line"><span class="lineno">  900</span>                );</div>
<div class="line"><span class="lineno">  901</span>                bytes_processed += 8;</div>
<div class="line"><span class="lineno">  902</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  903</span>                <span class="comment">// TODO: need more bytes</span></div>
<div class="line"><span class="lineno">  904</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;short key3 read&quot;</span>);</div>
<div class="line"><span class="lineno">  905</span>                m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">http::status_code::internal_server_error</a>);</div>
<div class="line"><span class="lineno">  906</span>                this-&gt;write_http_response_error(<a class="code hl_function" href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">processor::error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a9d6c89dd84bccda8e31363fceae6a3c9">processor::error::short_key3</a>));</div>
<div class="line"><span class="lineno">  907</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  908</span>            }</div>
<div class="line"><span class="lineno">  909</span>        }</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno">  912</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,m_request.raw());</div>
<div class="line"><span class="lineno">  913</span>            <span class="keywordflow">if</span> (!m_request.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Key3&quot;</span>).empty()) {</div>
<div class="line"><span class="lineno">  914</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno">  915</span>                    <a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2">utility::to_hex</a>(m_request.get_header(<span class="stringliteral">&quot;Sec-WebSocket-Key3&quot;</span>)));</div>
<div class="line"><span class="lineno">  916</span>            }</div>
<div class="line"><span class="lineno">  917</span>        }</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>        <span class="comment">// The remaining bytes in m_buf are frame data. Copy them to the</span></div>
<div class="line"><span class="lineno">  920</span>        <span class="comment">// beginning of the buffer and note the length. They will be read after</span></div>
<div class="line"><span class="lineno">  921</span>        <span class="comment">// the handshake completes and before more bytes are read.</span></div>
<div class="line"><span class="lineno">  922</span>        std::copy(m_buf+bytes_processed,m_buf+bytes_transferred,m_buf);</div>
<div class="line"><span class="lineno">  923</span>        m_buf_cursor = bytes_transferred-bytes_processed;</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>        m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>;</div>
<div class="line"><span class="lineno">  927</span>        </div>
<div class="line"><span class="lineno">  928</span>        <span class="comment">// We have the complete request. Process it.</span></div>
<div class="line"><span class="lineno">  929</span>        lib::error_code handshake_ec = this-&gt;<a class="code hl_function" href="#a569483c7dcf542f500f6e9f49d803010">process_handshake_request</a>();</div>
<div class="line"><span class="lineno">  930</span>        </div>
<div class="line"><span class="lineno">  931</span>        <span class="comment">// Write a response if this is a websocket connection or if it is an</span></div>
<div class="line"><span class="lineno">  932</span>        <span class="comment">// HTTP connection for which the response has not been deferred or</span></div>
<div class="line"><span class="lineno">  933</span>        <span class="comment">// started yet by a different system (i.e. still in init state).</span></div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">if</span> (!m_is_http || m_http_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa6bd556366b4fcf3745506f7d8b0979ad">session::http_state::init</a>) {</div>
<div class="line"><span class="lineno">  935</span>            this-&gt;write_http_response(handshake_ec);</div>
<div class="line"><span class="lineno">  936</span>        }</div>
<div class="line"><span class="lineno">  937</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  938</span>        <span class="comment">// read at least 1 more byte</span></div>
<div class="line"><span class="lineno">  939</span>        transport_con_type::async_read_at_least(</div>
<div class="line"><span class="lineno">  940</span>            1,</div>
<div class="line"><span class="lineno">  941</span>            m_buf,</div>
<div class="line"><span class="lineno">  942</span>            config::connection_read_buffer_size,</div>
<div class="line"><span class="lineno">  943</span>            lib::bind(</div>
<div class="line"><span class="lineno">  944</span>                &amp;<a class="code hl_function" href="#a9c7e83aae3418cdf71e6fcf1dce3a255">type::handle_read_handshake</a>,</div>
<div class="line"><span class="lineno">  945</span>                <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno">  946</span>                lib::placeholders::_1,</div>
<div class="line"><span class="lineno">  947</span>                lib::placeholders::_2</div>
<div class="line"><span class="lineno">  948</span>            )</div>
<div class="line"><span class="lineno">  949</span>        );</div>
<div class="line"><span class="lineno">  950</span>    }</div>
<div class="line"><span class="lineno">  951</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a01a5af7dc2f35ff8f15da8c2cf3a3b02"><div class="ttname"><a href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">websocketpp::connection::get_shared</a></div><div class="ttdeci">ptr get_shared()</div><div class="ttdoc">Get a shared pointer to this component.</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00336">connection.hpp:336</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a569483c7dcf542f500f6e9f49d803010"><div class="ttname"><a href="#a569483c7dcf542f500f6e9f49d803010">websocketpp::connection::process_handshake_request</a></div><div class="ttdeci">lib::error_code process_handshake_request()</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01186">connection_impl.hpp:1186</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a9c7e83aae3418cdf71e6fcf1dce3a255"><div class="ttname"><a href="#a9c7e83aae3418cdf71e6fcf1dce3a255">websocketpp::connection::handle_read_handshake</a></div><div class="ttdeci">void handle_read_handshake(lib::error_code const &amp;ec, size_t bytes_transferred)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00814">connection_impl.hpp:814</a></div></div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_ac1c576bd4dfebac977eade9ac637a432"><div class="ttname"><a href="#ac1c576bd4dfebac977eade9ac637a432">websocketpp::connection::initialize_processor</a></div><div class="ttdeci">lib::error_code initialize_processor()</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01144">connection_impl.hpp:1144</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">websocketpp::error::general</a></div><div class="ttdeci">@ general</div><div class="ttdoc">Catch-all library error.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00047">error.hpp:47</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da589164fe7382c7355310fc92ff0d53d7"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da589164fe7382c7355310fc92ff0d53d7">websocketpp::error::http_parse_error</a></div><div class="ttdeci">@ http_parse_error</div><div class="ttdoc">HTTP parse error.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00143">error.hpp:143</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">websocketpp::http::status_code::internal_server_error</a></div><div class="ttdeci">@ internal_server_error</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00168">constants.hpp:168</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_ae6510ada6a25dcd7af258b6e374e3ca5a9d6c89dd84bccda8e31363fceae6a3c9"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#ae6510ada6a25dcd7af258b6e374e3ca5a9d6c89dd84bccda8e31363fceae6a3c9">websocketpp::processor::error::short_key3</a></div><div class="ttdeci">@ short_key3</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00158">base.hpp:157</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_1_1error_html_afc5fc4548656f87cfee89994c95bec9c"><div class="ttname"><a href="namespacewebsocketpp_1_1processor_1_1error.html#afc5fc4548656f87cfee89994c95bec9c">websocketpp::processor::error::make_error_code</a></div><div class="ttdeci">lib::error_code make_error_code(error::processor_errors e)</div><div class="ttdoc">Create an error code with the given value and the processor category.</div><div class="ttdef"><b>Definition</b> <a href="processors_2base_8hpp_source.html#l00244">base.hpp:244</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508da9fc18535c4635e903c366639dad6c9ab"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da9fc18535c4635e903c366639dad6c9ab">websocketpp::session::internal_state::READ_HTTP_REQUEST</a></div><div class="ttdeci">@ READ_HTTP_REQUEST</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00209">connection.hpp:209</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a261ca392f8b31cd0f5a1b2ccc11c3037" name="a261ca392f8b31cd0f5a1b2ccc11c3037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261ca392f8b31cd0f5a1b2ccc11c3037">&#9670;&#160;</a></span>handle_read_http_response()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_read_http_response </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>bytes_transferred</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01555">1555</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1557</span>{</div>
<div class="line"><span class="lineno"> 1558</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;handle_read_http_response&quot;</span>);</div>
<div class="line"><span class="lineno"> 1559</span> </div>
<div class="line"><span class="lineno"> 1560</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>    <span class="keywordflow">if</span> (!ecm) {</div>
<div class="line"><span class="lineno"> 1563</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno"> 1564</span>        </div>
<div class="line"><span class="lineno"> 1565</span>        <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>) {</div>
<div class="line"><span class="lineno"> 1566</span>            <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dac3e0dc06814a26a2cef1efd3cf8635d4">istate::READ_HTTP_RESPONSE</a>) {</div>
<div class="line"><span class="lineno"> 1567</span>                ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1568</span>            }</div>
<div class="line"><span class="lineno"> 1569</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1570</span>            <span class="comment">// The connection was canceled while the response was being sent,</span></div>
<div class="line"><span class="lineno"> 1571</span>            <span class="comment">// usually by the handshake timer. This is basically expected</span></div>
<div class="line"><span class="lineno"> 1572</span>            <span class="comment">// (though hopefully rare) and there is nothing we can do so ignore.</span></div>
<div class="line"><span class="lineno"> 1573</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1574</span>                <span class="stringliteral">&quot;handle_read_http_response invoked after connection was closed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1575</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1576</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1577</span>            ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1578</span>        }</div>
<div class="line"><span class="lineno"> 1579</span>    }</div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno"> 1582</span>        <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">transport::error::eof</a> &amp;&amp; m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1583</span>            <span class="comment">// we expect to get eof if the connection is closed already</span></div>
<div class="line"><span class="lineno"> 1584</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1585</span>                    <span class="stringliteral">&quot;got (expected) eof/state error from closed con&quot;</span>);</div>
<div class="line"><span class="lineno"> 1586</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1587</span>        }</div>
<div class="line"><span class="lineno"> 1588</span>        </div>
<div class="line"><span class="lineno"> 1589</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;handle_read_http_response&quot;</span>,ecm);</div>
<div class="line"><span class="lineno"> 1590</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno"> 1591</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1592</span>    }</div>
<div class="line"><span class="lineno"> 1593</span>    </div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keywordtype">size_t</span> bytes_processed = 0;</div>
<div class="line"><span class="lineno"> 1595</span>    <span class="comment">// TODO: refactor this to use error codes rather than exceptions</span></div>
<div class="line"><span class="lineno"> 1596</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1597</span>        bytes_processed = m_response.consume(m_buf,bytes_transferred);</div>
<div class="line"><span class="lineno"> 1598</span>    } <span class="keywordflow">catch</span> (http::exception &amp; e) {</div>
<div class="line"><span class="lineno"> 1599</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,</div>
<div class="line"><span class="lineno"> 1600</span>            std::string(<span class="stringliteral">&quot;error in handle_read_http_response: &quot;</span>)+e.what());</div>
<div class="line"><span class="lineno"> 1601</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">error::general</a>));</div>
<div class="line"><span class="lineno"> 1602</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1603</span>    }</div>
<div class="line"><span class="lineno"> 1604</span> </div>
<div class="line"><span class="lineno"> 1605</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,std::string(<span class="stringliteral">&quot;Raw response: &quot;</span>)+m_response.raw());</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    <span class="keywordflow">if</span> (m_response.headers_ready()) {</div>
<div class="line"><span class="lineno"> 1608</span>        <span class="keywordflow">if</span> (m_handshake_timer) {</div>
<div class="line"><span class="lineno"> 1609</span>            m_handshake_timer-&gt;cancel();</div>
<div class="line"><span class="lineno"> 1610</span>            m_handshake_timer.reset();</div>
<div class="line"><span class="lineno"> 1611</span>        }</div>
<div class="line"><span class="lineno"> 1612</span> </div>
<div class="line"><span class="lineno"> 1613</span>        lib::error_code validate_ec = m_processor-&gt;validate_server_handshake_response(</div>
<div class="line"><span class="lineno"> 1614</span>            m_request,</div>
<div class="line"><span class="lineno"> 1615</span>            m_response</div>
<div class="line"><span class="lineno"> 1616</span>        );</div>
<div class="line"><span class="lineno"> 1617</span>        <span class="keywordflow">if</span> (validate_ec) {</div>
<div class="line"><span class="lineno"> 1618</span>            log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;Server handshake response&quot;</span>,validate_ec);</div>
<div class="line"><span class="lineno"> 1619</span>            this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(validate_ec);</div>
<div class="line"><span class="lineno"> 1620</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1621</span>        }</div>
<div class="line"><span class="lineno"> 1622</span> </div>
<div class="line"><span class="lineno"> 1623</span>        <span class="comment">// Read extension parameters and set up values necessary for the end</span></div>
<div class="line"><span class="lineno"> 1624</span>        <span class="comment">// user to complete extension negotiation.</span></div>
<div class="line"><span class="lineno"> 1625</span>        std::pair&lt;lib::error_code,std::string&gt; neg_results;</div>
<div class="line"><span class="lineno"> 1626</span>        neg_results = m_processor-&gt;negotiate_extensions(m_response);</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>        <span class="keywordflow">if</span> (neg_results.first) {</div>
<div class="line"><span class="lineno"> 1629</span>            <span class="comment">// There was a fatal error in extension negotiation. For the moment</span></div>
<div class="line"><span class="lineno"> 1630</span>            <span class="comment">// kill all connections that fail extension negotiation.</span></div>
<div class="line"><span class="lineno"> 1631</span>            </div>
<div class="line"><span class="lineno"> 1632</span>            <span class="comment">// TODO: deal with cases where the response is well formed but </span></div>
<div class="line"><span class="lineno"> 1633</span>            <span class="comment">// doesn&#39;t match the options requested by the client. Its possible</span></div>
<div class="line"><span class="lineno"> 1634</span>            <span class="comment">// that the best behavior in this cases is to log and continue with</span></div>
<div class="line"><span class="lineno"> 1635</span>            <span class="comment">// an unextended connection.</span></div>
<div class="line"><span class="lineno"> 1636</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;Extension negotiation failed: &quot;</span> </div>
<div class="line"><span class="lineno"> 1637</span>                + neg_results.first.message());</div>
<div class="line"><span class="lineno"> 1638</span>            this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7ab039563d30f7760c3cd34f1fd680b1">error::extension_neg_failed</a>));</div>
<div class="line"><span class="lineno"> 1639</span>            <span class="comment">// TODO: close connection with reason 1010 (and list extensions)</span></div>
<div class="line"><span class="lineno"> 1640</span>        }</div>
<div class="line"><span class="lineno"> 1641</span> </div>
<div class="line"><span class="lineno"> 1642</span>        <span class="comment">// response is valid, connection can now be assumed to be open      </span></div>
<div class="line"><span class="lineno"> 1643</span>        m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da20ef9274fcce8154c6cc28d00b900709">istate::PROCESS_CONNECTION</a>;</div>
<div class="line"><span class="lineno"> 1644</span>        m_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>;</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>        this-&gt;log_open_result();</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>        <span class="keywordflow">if</span> (m_open_handler) {</div>
<div class="line"><span class="lineno"> 1649</span>            m_open_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno"> 1650</span>        }</div>
<div class="line"><span class="lineno"> 1651</span> </div>
<div class="line"><span class="lineno"> 1652</span>        <span class="comment">// The remaining bytes in m_buf are frame data. Copy them to the</span></div>
<div class="line"><span class="lineno"> 1653</span>        <span class="comment">// beginning of the buffer and note the length. They will be read after</span></div>
<div class="line"><span class="lineno"> 1654</span>        <span class="comment">// the handshake completes and before more bytes are read.</span></div>
<div class="line"><span class="lineno"> 1655</span>        std::copy(m_buf+bytes_processed,m_buf+bytes_transferred,m_buf);</div>
<div class="line"><span class="lineno"> 1656</span>        m_buf_cursor = bytes_transferred-bytes_processed;</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>        this-&gt;<a class="code hl_function" href="#abd6866c41c2ae86c3372cf428392a190">handle_read_frame</a>(lib::error_code(), m_buf_cursor);</div>
<div class="line"><span class="lineno"> 1659</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1660</span>        transport_con_type::async_read_at_least(</div>
<div class="line"><span class="lineno"> 1661</span>            1,</div>
<div class="line"><span class="lineno"> 1662</span>            m_buf,</div>
<div class="line"><span class="lineno"> 1663</span>            config::connection_read_buffer_size,</div>
<div class="line"><span class="lineno"> 1664</span>            lib::bind(</div>
<div class="line"><span class="lineno"> 1665</span>                &amp;<a class="code hl_function" href="#a261ca392f8b31cd0f5a1b2ccc11c3037">type::handle_read_http_response</a>,</div>
<div class="line"><span class="lineno"> 1666</span>                <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno"> 1667</span>                lib::placeholders::_1,</div>
<div class="line"><span class="lineno"> 1668</span>                lib::placeholders::_2</div>
<div class="line"><span class="lineno"> 1669</span>            )</div>
<div class="line"><span class="lineno"> 1670</span>        );</div>
<div class="line"><span class="lineno"> 1671</span>    }</div>
<div class="line"><span class="lineno"> 1672</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a261ca392f8b31cd0f5a1b2ccc11c3037"><div class="ttname"><a href="#a261ca392f8b31cd0f5a1b2ccc11c3037">websocketpp::connection::handle_read_http_response</a></div><div class="ttdeci">void handle_read_http_response(lib::error_code const &amp;ec, size_t bytes_transferred)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01555">connection_impl.hpp:1555</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da7ab039563d30f7760c3cd34f1fd680b1"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7ab039563d30f7760c3cd34f1fd680b1">websocketpp::error::extension_neg_failed</a></div><div class="ttdeci">@ extension_neg_failed</div><div class="ttdoc">Extension negotiation failed.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00147">error.hpp:146</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508dac3e0dc06814a26a2cef1efd3cf8635d4"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dac3e0dc06814a26a2cef1efd3cf8635d4">websocketpp::session::internal_state::READ_HTTP_RESPONSE</a></div><div class="ttdeci">@ READ_HTTP_RESPONSE</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00211">connection.hpp:211</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a261ca392f8b31cd0f5a1b2ccc11c3037_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a261ca392f8b31cd0f5a1b2ccc11c3037_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a261ca392f8b31cd0f5a1b2ccc11c3037_cgraph" id="aclasswebsocketpp_1_1connection_a261ca392f8b31cd0f5a1b2ccc11c3037_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,194,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="285,5,330,31"/>
<area shape="poly" title=" " alt="" coords="194,32,270,21,270,26,194,37"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="242,55,374,96"/>
<area shape="poly" title=" " alt="" coords="194,58,226,62,226,67,194,63"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="422,55,554,96"/>
<area shape="poly" title=" " alt="" coords="374,73,407,73,407,78,374,78"/>
</map>
</div>

</div>
</div>
<a id="adb5b479b7d66eb289390b26d12332d84" name="adb5b479b7d66eb289390b26d12332d84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5b479b7d66eb289390b26d12332d84">&#9670;&#160;</a></span>handle_resume_reading()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_resume_reading </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resume reading helper method. Not safe to call directly. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00390">390</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>                                               {</div>
<div class="line"><span class="lineno">  391</span>   m_read_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  392</span>   <a class="code hl_function" href="#af54e9d7c8ef07349d28c3405182bb3c7">read_frame</a>();</div>
<div class="line"><span class="lineno">  393</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af37addaf4d89de32d3d8f4da668313c5" name="af37addaf4d89de32d3d8f4da668313c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37addaf4d89de32d3d8f4da668313c5">&#9670;&#160;</a></span>handle_send_http_request()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_send_http_request </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01502">1502</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1502</span>                                                                          {</div>
<div class="line"><span class="lineno"> 1503</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;handle_send_http_request&quot;</span>);</div>
<div class="line"><span class="lineno"> 1504</span> </div>
<div class="line"><span class="lineno"> 1505</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="line"><span class="lineno"> 1507</span>    <span class="keywordflow">if</span> (!ecm) {</div>
<div class="line"><span class="lineno"> 1508</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno"> 1509</span>        </div>
<div class="line"><span class="lineno"> 1510</span>        <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>) {</div>
<div class="line"><span class="lineno"> 1511</span>             <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da11b23897d538e9bb91558886b3ccea99">istate::WRITE_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno"> 1512</span>                ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1513</span>             } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1514</span>                m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dac3e0dc06814a26a2cef1efd3cf8635d4">istate::READ_HTTP_RESPONSE</a>;</div>
<div class="line"><span class="lineno"> 1515</span>             }</div>
<div class="line"><span class="lineno"> 1516</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1517</span>            <span class="comment">// The connection was canceled while the response was being sent,</span></div>
<div class="line"><span class="lineno"> 1518</span>            <span class="comment">// usually by the handshake timer. This is basically expected</span></div>
<div class="line"><span class="lineno"> 1519</span>            <span class="comment">// (though hopefully rare) and there is nothing we can do so ignore.</span></div>
<div class="line"><span class="lineno"> 1520</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1521</span>                <span class="stringliteral">&quot;handle_send_http_request invoked after connection was closed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1522</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1523</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1524</span>            ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1525</span>        }</div>
<div class="line"><span class="lineno"> 1526</span>    }</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno"> 1529</span>        <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">transport::error::eof</a> &amp;&amp; m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1530</span>            <span class="comment">// we expect to get eof if the connection is closed already</span></div>
<div class="line"><span class="lineno"> 1531</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1532</span>                    <span class="stringliteral">&quot;got (expected) eof/state error from closed con&quot;</span>);</div>
<div class="line"><span class="lineno"> 1533</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1534</span>        }</div>
<div class="line"><span class="lineno"> 1535</span>        </div>
<div class="line"><span class="lineno"> 1536</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;handle_send_http_request&quot;</span>,ecm);</div>
<div class="line"><span class="lineno"> 1537</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno"> 1538</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1539</span>    }</div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span>    transport_con_type::async_read_at_least(</div>
<div class="line"><span class="lineno"> 1542</span>        1,</div>
<div class="line"><span class="lineno"> 1543</span>        m_buf,</div>
<div class="line"><span class="lineno"> 1544</span>        config::connection_read_buffer_size,</div>
<div class="line"><span class="lineno"> 1545</span>        lib::bind(</div>
<div class="line"><span class="lineno"> 1546</span>            &amp;<a class="code hl_function" href="#a261ca392f8b31cd0f5a1b2ccc11c3037">type::handle_read_http_response</a>,</div>
<div class="line"><span class="lineno"> 1547</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno"> 1548</span>            lib::placeholders::_1,</div>
<div class="line"><span class="lineno"> 1549</span>            lib::placeholders::_2</div>
<div class="line"><span class="lineno"> 1550</span>        )</div>
<div class="line"><span class="lineno"> 1551</span>    );</div>
<div class="line"><span class="lineno"> 1552</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508da11b23897d538e9bb91558886b3ccea99"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da11b23897d538e9bb91558886b3ccea99">websocketpp::session::internal_state::WRITE_HTTP_REQUEST</a></div><div class="ttdeci">@ WRITE_HTTP_REQUEST</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00210">connection.hpp:210</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_af37addaf4d89de32d3d8f4da668313c5_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_af37addaf4d89de32d3d8f4da668313c5_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_af37addaf4d89de32d3d8f4da668313c5_cgraph" id="aclasswebsocketpp_1_1connection_af37addaf4d89de32d3d8f4da668313c5_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,187,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="278,5,324,31"/>
<area shape="poly" title=" " alt="" coords="187,32,263,21,263,26,188,37"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="235,55,367,96"/>
<area shape="poly" title=" " alt="" coords="188,57,219,62,219,67,187,63"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="415,55,547,96"/>
<area shape="poly" title=" " alt="" coords="367,73,400,73,400,78,367,78"/>
</map>
</div>

</div>
</div>
<a id="a5012a184129c08ea3f6cfa377e1770c1" name="a5012a184129c08ea3f6cfa377e1770c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5012a184129c08ea3f6cfa377e1770c1">&#9670;&#160;</a></span>handle_terminate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_terminate </td>
          <td>(</td>
          <td class="paramtype">terminate_status</td>          <td class="paramname"><span class="paramname"><em>tstat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01760">1760</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1762</span>{</div>
<div class="line"><span class="lineno"> 1763</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1764</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection handle_terminate&quot;</span>);</div>
<div class="line"><span class="lineno"> 1765</span>    }</div>
<div class="line"><span class="lineno"> 1766</span> </div>
<div class="line"><span class="lineno"> 1767</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1768</span>        <span class="comment">// there was an error actually shutting down the connection</span></div>
<div class="line"><span class="lineno"> 1769</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#a0b1dbc650c6f2711522c096496423726">log::elevel::devel</a>,<span class="stringliteral">&quot;handle_terminate&quot;</span>,ec);</div>
<div class="line"><span class="lineno"> 1770</span>    }</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>    <span class="comment">// clean shutdown</span></div>
<div class="line"><span class="lineno"> 1773</span>    <span class="keywordflow">if</span> (tstat == failed) {</div>
<div class="line"><span class="lineno"> 1774</span>        <span class="keywordflow">if</span> (m_ec != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326">error::http_connection_ended</a>) {</div>
<div class="line"><span class="lineno"> 1775</span>            <span class="keywordflow">if</span> (m_fail_handler) {</div>
<div class="line"><span class="lineno"> 1776</span>                m_fail_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno"> 1777</span>            }</div>
<div class="line"><span class="lineno"> 1778</span>        }</div>
<div class="line"><span class="lineno"> 1779</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tstat == closed) {</div>
<div class="line"><span class="lineno"> 1780</span>        <span class="keywordflow">if</span> (m_close_handler) {</div>
<div class="line"><span class="lineno"> 1781</span>            m_close_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno"> 1782</span>        }</div>
<div class="line"><span class="lineno"> 1783</span>        log_close_result();</div>
<div class="line"><span class="lineno"> 1784</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1785</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;Unknown terminate_status&quot;</span>);</div>
<div class="line"><span class="lineno"> 1786</span>    }</div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>    <span class="comment">// call the termination handler if it exists</span></div>
<div class="line"><span class="lineno"> 1789</span>    <span class="comment">// if it exists it might (but shouldn&#39;t) refer to a bad memory location.</span></div>
<div class="line"><span class="lineno"> 1790</span>    <span class="comment">// If it does, we don&#39;t care and should catch and ignore it.</span></div>
<div class="line"><span class="lineno"> 1791</span>    <span class="keywordflow">if</span> (m_termination_handler) {</div>
<div class="line"><span class="lineno"> 1792</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1793</span>            m_termination_handler(<a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>());</div>
<div class="line"><span class="lineno"> 1794</span>        } <span class="keywordflow">catch</span> (std::exception <span class="keyword">const</span> &amp; e) {</div>
<div class="line"><span class="lineno"> 1795</span>            m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aef51fd791400121297f38f4381edaebe">log::elevel::warn</a>,</div>
<div class="line"><span class="lineno"> 1796</span>                std::string(<span class="stringliteral">&quot;termination_handler call failed. Reason was: &quot;</span>)+e.what());</div>
<div class="line"><span class="lineno"> 1797</span>        }</div>
<div class="line"><span class="lineno"> 1798</span>    }</div>
<div class="line"><span class="lineno"> 1799</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326">websocketpp::error::http_connection_ended</a></div><div class="ttdeci">@ http_connection_ended</div><div class="ttdoc">HTTP connection ended.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00111">error.hpp:111</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad42c5982a35b82c9009971722943b1e0" name="ad42c5982a35b82c9009971722943b1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42c5982a35b82c9009971722943b1e0">&#9670;&#160;</a></span>handle_transport_init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_transport_init </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00750">750</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  750</span>                                                                       {</div>
<div class="line"><span class="lineno">  751</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection handle_transport_init&quot;</span>);</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dab874993580bfcc74626520e293659887">istate::TRANSPORT_INIT</a>) {</div>
<div class="line"><span class="lineno">  756</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno">  757</span>          <span class="stringliteral">&quot;handle_transport_init must be called from transport init state&quot;</span>);</div>
<div class="line"><span class="lineno">  758</span>        ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  759</span>    }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno">  762</span>        std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno">  763</span>        <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;handle_transport_init received error: &quot;</span>&lt;&lt; ecm.message();</div>
<div class="line"><span class="lineno">  764</span>        m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno">  767</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  768</span>    }</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>    <span class="comment">// At this point the transport is ready to read and write bytes.</span></div>
<div class="line"><span class="lineno">  771</span>    <span class="keywordflow">if</span> (m_is_server) {</div>
<div class="line"><span class="lineno">  772</span>        m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da9fc18535c4635e903c366639dad6c9ab">istate::READ_HTTP_REQUEST</a>;</div>
<div class="line"><span class="lineno">  773</span>        this-&gt;<a class="code hl_function" href="#a9e19e781b4abda3e4a39f4f25077a29c">read_handshake</a>(1);</div>
<div class="line"><span class="lineno">  774</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  775</span>        <span class="comment">// We are a client. Set the processor to the version specified in the</span></div>
<div class="line"><span class="lineno">  776</span>        <span class="comment">// config file and send a handshake request.</span></div>
<div class="line"><span class="lineno">  777</span>        m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da11b23897d538e9bb91558886b3ccea99">istate::WRITE_HTTP_REQUEST</a>;</div>
<div class="line"><span class="lineno">  778</span>        m_processor = get_processor(config::client_version);</div>
<div class="line"><span class="lineno">  779</span>        this-&gt;send_http_request();</div>
<div class="line"><span class="lineno">  780</span>    }</div>
<div class="line"><span class="lineno">  781</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a9e19e781b4abda3e4a39f4f25077a29c"><div class="ttname"><a href="#a9e19e781b4abda3e4a39f4f25077a29c">websocketpp::connection::read_handshake</a></div><div class="ttdeci">void read_handshake(size_t num_bytes)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00784">connection_impl.hpp:784</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1internal__state_html_a981c3a4fb8962bad264d7efea05c508dab874993580bfcc74626520e293659887"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dab874993580bfcc74626520e293659887">websocketpp::session::internal_state::TRANSPORT_INIT</a></div><div class="ttdeci">@ TRANSPORT_INIT</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00208">connection.hpp:208</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a867f94b82788e978ea116d50cf83d72e" name="a867f94b82788e978ea116d50cf83d72e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867f94b82788e978ea116d50cf83d72e">&#9670;&#160;</a></span>handle_write_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_write_frame </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo</a></b></dt><dd>unit tests</dd></dl>
<p>This method locks the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">terminate</td><td>Whether or not to terminate the connection upon completion of this write.</td></tr>
    <tr><td class="paramname">ec</td><td><a class="el" href="struct_a.html">A</a> status code from the transport layer, zero on success, non-zero otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01898">1898</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1899</span>{</div>
<div class="line"><span class="lineno"> 1900</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1901</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection handle_write_frame&quot;</span>);</div>
<div class="line"><span class="lineno"> 1902</span>    }</div>
<div class="line"><span class="lineno"> 1903</span> </div>
<div class="line"><span class="lineno"> 1904</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="namespacewebsocketpp_1_1close_1_1status.html#a3f9ce953f12693f74493e2eb7a80952b">terminal</a> = m_current_msgs.back()-&gt;get_terminal();</div>
<div class="line"><span class="lineno"> 1905</span> </div>
<div class="line"><span class="lineno"> 1906</span>    m_send_buffer.clear();</div>
<div class="line"><span class="lineno"> 1907</span>    m_current_msgs.clear();</div>
<div class="line"><span class="lineno"> 1908</span>    <span class="comment">// TODO: recycle instead of deleting</span></div>
<div class="line"><span class="lineno"> 1909</span> </div>
<div class="line"><span class="lineno"> 1910</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1911</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aa909808e0fb142742a0ebd2dca54f517">log::elevel::fatal</a>,<span class="stringliteral">&quot;handle_write_frame&quot;</span>,ec);</div>
<div class="line"><span class="lineno"> 1912</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ec);</div>
<div class="line"><span class="lineno"> 1913</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1914</span>    }</div>
<div class="line"><span class="lineno"> 1915</span> </div>
<div class="line"><span class="lineno"> 1916</span>    <span class="keywordflow">if</span> (terminal) {</div>
<div class="line"><span class="lineno"> 1917</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(lib::error_code());</div>
<div class="line"><span class="lineno"> 1918</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1919</span>    }</div>
<div class="line"><span class="lineno"> 1920</span> </div>
<div class="line"><span class="lineno"> 1921</span>    <span class="keywordtype">bool</span> needs_writing = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1922</span>    {</div>
<div class="line"><span class="lineno"> 1923</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_write_lock);</div>
<div class="line"><span class="lineno"> 1924</span> </div>
<div class="line"><span class="lineno"> 1925</span>        <span class="comment">// release write flag</span></div>
<div class="line"><span class="lineno"> 1926</span>        m_write_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1927</span> </div>
<div class="line"><span class="lineno"> 1928</span>        needs_writing = !m_send_queue.empty();</div>
<div class="line"><span class="lineno"> 1929</span>    }</div>
<div class="line"><span class="lineno"> 1930</span> </div>
<div class="line"><span class="lineno"> 1931</span>    <span class="keywordflow">if</span> (needs_writing) {</div>
<div class="line"><span class="lineno"> 1932</span>        transport_con_type::dispatch(lib::bind(</div>
<div class="line"><span class="lineno"> 1933</span>            &amp;<a class="code hl_function" href="#a8d26a29e90d4847f3882c280112c6b60">type::write_frame</a>,</div>
<div class="line"><span class="lineno"> 1934</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno"> 1935</span>        ));</div>
<div class="line"><span class="lineno"> 1936</span>    }</div>
<div class="line"><span class="lineno"> 1937</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a8d26a29e90d4847f3882c280112c6b60"><div class="ttname"><a href="#a8d26a29e90d4847f3882c280112c6b60">websocketpp::connection::write_frame</a></div><div class="ttdeci">void write_frame()</div><div class="ttdoc">Checks if there are frames in the send queue and if there are sends one.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01802">connection_impl.hpp:1802</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a867f94b82788e978ea116d50cf83d72e_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a867f94b82788e978ea116d50cf83d72e_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a867f94b82788e978ea116d50cf83d72e_cgraph" id="aclasswebsocketpp_1_1connection_a867f94b82788e978ea116d50cf83d72e_cgraph">
<area shape="rect" title="Process the results of a frame write operation and start the next write." alt="" coords="5,5,175,46"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="223,13,268,38"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
</map>
</div>

</div>
</div>
<a id="a6f2451a76c49b4c2a88de4efd4f8bda6" name="a6f2451a76c49b4c2a88de4efd4f8bda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2451a76c49b4c2a88de4efd4f8bda6">&#9670;&#160;</a></span>handle_write_http_response()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::handle_write_http_response </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01360">1360</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1360</span>                                                                            {</div>
<div class="line"><span class="lineno"> 1361</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;handle_write_http_response&quot;</span>);</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    lib::error_code ecm = ec;</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>    <span class="keywordflow">if</span> (!ecm) {</div>
<div class="line"><span class="lineno"> 1366</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno"> 1367</span>        </div>
<div class="line"><span class="lineno"> 1368</span>        <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>) {</div>
<div class="line"><span class="lineno"> 1369</span>             <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno"> 1370</span>                ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1371</span>             }</div>
<div class="line"><span class="lineno"> 1372</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1373</span>            <span class="comment">// The connection was canceled while the response was being sent,</span></div>
<div class="line"><span class="lineno"> 1374</span>            <span class="comment">// usually by the handshake timer. This is basically expected</span></div>
<div class="line"><span class="lineno"> 1375</span>            <span class="comment">// (though hopefully rare) and there is nothing we can do so ignore.</span></div>
<div class="line"><span class="lineno"> 1376</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1377</span>                <span class="stringliteral">&quot;handle_write_http_response invoked after connection was closed&quot;</span>);</div>
<div class="line"><span class="lineno"> 1378</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1379</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1380</span>            ecm = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno"> 1381</span>        }</div>
<div class="line"><span class="lineno"> 1382</span>    }</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>    <span class="keywordflow">if</span> (ecm) {</div>
<div class="line"><span class="lineno"> 1385</span>        <span class="keywordflow">if</span> (ecm == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1transport_1_1error.html#a8d371a2562d813e5a2e106e2694d4fb0a73dd0d0f22cd67b7bcc031cd6bdef743">transport::error::eof</a> &amp;&amp; m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1386</span>            <span class="comment">// we expect to get eof if the connection is closed already</span></div>
<div class="line"><span class="lineno"> 1387</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1388</span>                    <span class="stringliteral">&quot;got (expected) eof/state error from closed con&quot;</span>);</div>
<div class="line"><span class="lineno"> 1389</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1390</span>        }</div>
<div class="line"><span class="lineno"> 1391</span>        </div>
<div class="line"><span class="lineno"> 1392</span>        log_err(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<span class="stringliteral">&quot;handle_write_http_response&quot;</span>,ecm);</div>
<div class="line"><span class="lineno"> 1393</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(ecm);</div>
<div class="line"><span class="lineno"> 1394</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1395</span>    }</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keywordflow">if</span> (m_handshake_timer) {</div>
<div class="line"><span class="lineno"> 1398</span>        m_handshake_timer-&gt;cancel();</div>
<div class="line"><span class="lineno"> 1399</span>        m_handshake_timer.reset();</div>
<div class="line"><span class="lineno"> 1400</span>    }</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordflow">if</span> (m_response.get_status_code() != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc">http::status_code::switching_protocols</a>)</div>
<div class="line"><span class="lineno"> 1403</span>    {</div>
<div class="line"><span class="lineno"> 1404</span>        <span class="comment">/*if (m_processor || m_ec == error::http_parse_error || </span></div>
<div class="line"><span class="lineno"> 1405</span><span class="comment">            m_ec == error::invalid_version || m_ec == error::unsupported_version</span></div>
<div class="line"><span class="lineno"> 1406</span><span class="comment">            || m_ec == error::upgrade_required)</span></div>
<div class="line"><span class="lineno"> 1407</span><span class="comment">        {*/</span></div>
<div class="line"><span class="lineno"> 1408</span>        <span class="keywordflow">if</span> (!m_is_http) {</div>
<div class="line"><span class="lineno"> 1409</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1410</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;Handshake ended with HTTP error: &quot;</span></div>
<div class="line"><span class="lineno"> 1411</span>              &lt;&lt; m_response.get_status_code();</div>
<div class="line"><span class="lineno"> 1412</span>            m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#ae8a9a9f8b1fa45a731acd340e10aa342">log::elevel::rerror</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1413</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1414</span>            <span class="comment">// if this was not a websocket connection, we have written</span></div>
<div class="line"><span class="lineno"> 1415</span>            <span class="comment">// the expected response and the connection can be closed.</span></div>
<div class="line"><span class="lineno"> 1416</span>            </div>
<div class="line"><span class="lineno"> 1417</span>            this-&gt;log_http_result();</div>
<div class="line"><span class="lineno"> 1418</span>            </div>
<div class="line"><span class="lineno"> 1419</span>            <span class="keywordflow">if</span> (m_ec) {</div>
<div class="line"><span class="lineno"> 1420</span>                m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1421</span>                    <span class="stringliteral">&quot;got to writing HTTP results with m_ec set: &quot;</span>+m_ec.message());</div>
<div class="line"><span class="lineno"> 1422</span>            }</div>
<div class="line"><span class="lineno"> 1423</span>            m_ec = make_error_code(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326">error::http_connection_ended</a>);</div>
<div class="line"><span class="lineno"> 1424</span>        }        </div>
<div class="line"><span class="lineno"> 1425</span>        </div>
<div class="line"><span class="lineno"> 1426</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(m_ec);</div>
<div class="line"><span class="lineno"> 1427</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1428</span>    }</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    this-&gt;log_open_result();</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>    m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da20ef9274fcce8154c6cc28d00b900709">istate::PROCESS_CONNECTION</a>;</div>
<div class="line"><span class="lineno"> 1433</span>    m_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>;</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keywordflow">if</span> (m_open_handler) {</div>
<div class="line"><span class="lineno"> 1436</span>        m_open_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno"> 1437</span>    }</div>
<div class="line"><span class="lineno"> 1438</span> </div>
<div class="line"><span class="lineno"> 1439</span>    this-&gt;<a class="code hl_function" href="#abd6866c41c2ae86c3372cf428392a190">handle_read_frame</a>(lib::error_code(), m_buf_cursor);</div>
<div class="line"><span class="lineno"> 1440</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc">websocketpp::http::status_code::switching_protocols</a></div><div class="ttdeci">@ switching_protocols</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00126">constants.hpp:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1c576bd4dfebac977eade9ac637a432" name="ac1c576bd4dfebac977eade9ac637a432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c576bd4dfebac977eade9ac637a432">&#9670;&#160;</a></span>initialize_processor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::initialize_processor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set m_processor based on information in m_request. Set m_response status and return an error code indicating status. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01144">1144</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1144</span>                                                       {</div>
<div class="line"><span class="lineno"> 1145</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;initialize_processor&quot;</span>);</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>    <span class="comment">// if it isn&#39;t a websocket handshake nothing to do.</span></div>
<div class="line"><span class="lineno"> 1148</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacewebsocketpp_1_1processor.html#a9ff3159b48cf4be2e7cb79c81b155d53">processor::is_websocket_handshake</a>(m_request)) {</div>
<div class="line"><span class="lineno"> 1149</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1parser_1_1state.html#a12f378e0c6dbf373781e7988ee4a0853a08c88a938bc459c7997b48f74248752f">version</a> = <a class="code hl_function" href="namespacewebsocketpp_1_1processor.html#a1a0e5e7b10b24ff5ab836dc543826934">processor::get_websocket_version</a>(m_request);</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">if</span> (version &lt; 0) {</div>
<div class="line"><span class="lineno"> 1155</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;BAD REQUEST: can&#39;t determine version&quot;</span>);</div>
<div class="line"><span class="lineno"> 1156</span>        m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1157</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daddbb433d0d194d25e7bc72a7611a9e47">error::invalid_version</a>);</div>
<div class="line"><span class="lineno"> 1158</span>    }</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>    m_processor = get_processor(version);</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <span class="comment">// if the processor is not null we are done</span></div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">if</span> (m_processor) {</div>
<div class="line"><span class="lineno"> 1164</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno"> 1165</span>    }</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    <span class="comment">// We don&#39;t have a processor for this version. Return bad request</span></div>
<div class="line"><span class="lineno"> 1168</span>    <span class="comment">// with Sec-WebSocket-Version header filled with values we do accept</span></div>
<div class="line"><span class="lineno"> 1169</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;BAD REQUEST: no processor for version&quot;</span>);</div>
<div class="line"><span class="lineno"> 1170</span>    m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>    std::stringstream <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>;</div>
<div class="line"><span class="lineno"> 1173</span>    std::string sep;</div>
<div class="line"><span class="lineno"> 1174</span>    std::vector&lt;int&gt;::const_iterator it;</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">for</span> (it = versions_supported.begin(); it != versions_supported.end(); it++)</div>
<div class="line"><span class="lineno"> 1176</span>    {</div>
<div class="line"><span class="lineno"> 1177</span>        <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a> &lt;&lt; sep &lt;&lt; *it;</div>
<div class="line"><span class="lineno"> 1178</span>        sep = <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><span class="lineno"> 1179</span>    }</div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>    m_response.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Version&quot;</span>,<a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>.str());</div>
<div class="line"><span class="lineno"> 1182</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da93459fd7c7609d8ebf110bb0f6754073">error::unsupported_version</a>);</div>
<div class="line"><span class="lineno"> 1183</span>}</div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_a67cd5471fb751b186b53fdab6da7d3f7"><div class="ttname"><a href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">Xbyak::util::ss</a></div><div class="ttdeci">static const Segment ss(Segment::ss)</div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da93459fd7c7609d8ebf110bb0f6754073"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da93459fd7c7609d8ebf110bb0f6754073">websocketpp::error::unsupported_version</a></div><div class="ttdeci">@ unsupported_version</div><div class="ttdoc">Unsupported WebSocket protocol version.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00140">error.hpp:140</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68daddbb433d0d194d25e7bc72a7611a9e47"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daddbb433d0d194d25e7bc72a7611a9e47">websocketpp::error::invalid_version</a></div><div class="ttdeci">@ invalid_version</div><div class="ttdoc">Invalid WebSocket protocol version.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00137">error.hpp:137</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1parser_1_1state_html_a12f378e0c6dbf373781e7988ee4a0853a08c88a938bc459c7997b48f74248752f"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1parser_1_1state.html#a12f378e0c6dbf373781e7988ee4a0853a08c88a938bc459c7997b48f74248752f">websocketpp::http::parser::state::version</a></div><div class="ttdeci">@ version</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2parser_8hpp_source.html#l00047">parser.hpp:47</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">websocketpp::http::status_code::bad_request</a></div><div class="ttdeci">@ bad_request</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00144">constants.hpp:144</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_html_a1a0e5e7b10b24ff5ab836dc543826934"><div class="ttname"><a href="namespacewebsocketpp_1_1processor.html#a1a0e5e7b10b24ff5ab836dc543826934">websocketpp::processor::get_websocket_version</a></div><div class="ttdeci">int get_websocket_version(request_type &amp;r)</div><div class="ttdoc">Extract the version from a WebSocket handshake request.</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00107">processor.hpp:107</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_html_a9ff3159b48cf4be2e7cb79c81b155d53"><div class="ttname"><a href="namespacewebsocketpp_1_1processor.html#a9ff3159b48cf4be2e7cb79c81b155d53">websocketpp::processor::is_websocket_handshake</a></div><div class="ttdeci">bool is_websocket_handshake(request_type &amp;r)</div><div class="ttdoc">Determine whether or not a generic HTTP request is a WebSocket handshake.</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00068">processor.hpp:68</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_ac1c576bd4dfebac977eade9ac637a432_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_ac1c576bd4dfebac977eade9ac637a432_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_ac1c576bd4dfebac977eade9ac637a432_cgraph" id="aclasswebsocketpp_1_1connection_ac1c576bd4dfebac977eade9ac637a432_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor.html#a9ff3159b48cf4be2e7cb79c81b155d53" title="Determine whether or not a generic HTTP request is a WebSocket handshake." alt="" coords="223,5,402,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568" title="Find substring (case insensitive)" alt="" coords="450,5,587,46"/>
<area shape="poly" title=" " alt="" coords="402,23,434,23,434,28,402,28"/>
</map>
</div>

</div>
</div>
<a id="a12bbbc93d414c65492ffb2c4a12f05a8" name="a12bbbc93d414c65492ffb2c4a12f05a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12bbbc93d414c65492ffb2c4a12f05a8">&#9670;&#160;</a></span>interrupt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::interrupt </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger the on_interrupt handler.</p>
<p>Signals to the connection to asyncronously invoke the on_inturrupt callback for this connection's handler once it is safe to do so.</p>
<p>When the on_inturrupt handler callback is called it will be from within the transport event loop with all the thread safety features guaranteed by the transport to regular handlers</p>
<p>Multiple inturrupt signals can be active at once on the same connection</p>
<dl class="section return"><dt>Returns</dt><dd>An error code</dd></dl>
<p>This is thread safe if the transport is thread safe </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00341">341</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  341</span>                                            {</div>
<div class="line"><span class="lineno">  342</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection connection::interrupt&quot;</span>);</div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">return</span> transport_con_type::interrupt(</div>
<div class="line"><span class="lineno">  344</span>        lib::bind(</div>
<div class="line"><span class="lineno">  345</span>            &amp;<a class="code hl_function" href="#a0b438ac986b73c99907515eeac6dc45f">type::handle_interrupt</a>,</div>
<div class="line"><span class="lineno">  346</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno">  347</span>        )</div>
<div class="line"><span class="lineno">  348</span>    );</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a0b438ac986b73c99907515eeac6dc45f"><div class="ttname"><a href="#a0b438ac986b73c99907515eeac6dc45f">websocketpp::connection::handle_interrupt</a></div><div class="ttdeci">void handle_interrupt()</div><div class="ttdoc">Transport inturrupt callback.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00353">connection_impl.hpp:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab248ee632b5b4d9998fec4328510f445" name="ab248ee632b5b4d9998fec4328510f445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab248ee632b5b4d9998fec4328510f445">&#9670;&#160;</a></span>is_server()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::is_server </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>whether or not the connection is attached to a server endpoint </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01192">1192</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1192</span>                           {</div>
<div class="line"><span class="lineno"> 1193</span>        <span class="keywordflow">return</span> m_is_server;</div>
<div class="line"><span class="lineno"> 1194</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_ab248ee632b5b4d9998fec4328510f445_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_ab248ee632b5b4d9998fec4328510f445_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_ab248ee632b5b4d9998fec4328510f445_icgraph" id="aclasswebsocketpp_1_1connection_ab248ee632b5b4d9998fec4328510f445_icgraph">
<area shape="rect" title="Get whether or not this connection is part of a server or client." alt="" coords="250,5,419,46"/>
<area shape="rect" href="connection_2connection_8cpp.html#ac0d89ed3bbe19758abf7a240a9c5329a" title=" " alt="" coords="5,13,202,38"/>
<area shape="poly" title=" " alt="" coords="234,28,202,28,202,23,234,23"/>
</map>
</div>

</div>
</div>
<a id="ad6a4a25a18ec61d2a36a149a3d92ab72" name="ad6a4a25a18ec61d2a36a149a3d92ab72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a4a25a18ec61d2a36a149a3d92ab72">&#9670;&#160;</a></span>pause_reading()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::pause_reading </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals to the connection to halt reading of new data. While reading is paused, the connection will stop reading from its associated socket. In turn this will result in TCP based flow control kicking in and slowing data flow from the remote endpoint.</p>
<p>This is useful for applications that push new requests to a queue to be processed by another thread and need a way to signal when their request queue is full without blocking the network processing thread.</p>
<p>Use <code><a class="el" href="#a355b5e155ba53071b06fa8a6dfab9be2" title="Resume reading of new data.">resume_reading()</a></code> to resume.</p>
<p>If supported by the transport this is done asynchronously. As such reading may not stop until the current read operation completes. Typically you can expect to receive no more bytes after initiating a read pause than the size of the read buffer.</p>
<p>If reading is paused for this connection already nothing is changed. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00360">360</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>                                                {</div>
<div class="line"><span class="lineno">  361</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection connection::pause_reading&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">return</span> transport_con_type::dispatch(</div>
<div class="line"><span class="lineno">  363</span>        lib::bind(</div>
<div class="line"><span class="lineno">  364</span>            &amp;<a class="code hl_function" href="#a5887284ea346efd7b5cc43519bfd84d5">type::handle_pause_reading</a>,</div>
<div class="line"><span class="lineno">  365</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno">  366</span>        )</div>
<div class="line"><span class="lineno">  367</span>    );</div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a5887284ea346efd7b5cc43519bfd84d5"><div class="ttname"><a href="#a5887284ea346efd7b5cc43519bfd84d5">websocketpp::connection::handle_pause_reading</a></div><div class="ttdeci">void handle_pause_reading()</div><div class="ttdoc">Pause reading callback.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00372">connection_impl.hpp:372</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c8dc6badfaff3aaee1434625c09b04" name="a21c8dc6badfaff3aaee1434625c09b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c8dc6badfaff3aaee1434625c09b04">&#9670;&#160;</a></span>ping() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::ping </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates a ping with the given payload/</p>
<p>There is no feedback directly from ping except in cases of immediately detectable errors. Feedback will be provided via on_pong or on_pong_timeout callbacks.</p>
<p>Ping locks the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>Payload to be used for the ping </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00224">224</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  224</span>                                                       {</div>
<div class="line"><span class="lineno">  225</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_function" href="#a21c8dc6badfaff3aaee1434625c09b04">ping</a>(payload,ec);</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a21c8dc6badfaff3aaee1434625c09b04"><div class="ttname"><a href="#a21c8dc6badfaff3aaee1434625c09b04">websocketpp::connection::ping</a></div><div class="ttdeci">void ping(std::string const &amp;payload)</div><div class="ttdoc">Send a ping.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00224">connection_impl.hpp:224</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6766e2f31adc6843a983551b21683b73" name="a6766e2f31adc6843a983551b21683b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6766e2f31adc6843a983551b21683b73">&#9670;&#160;</a></span>ping() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::ping </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00155">155</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  155</span>                                                                         {</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno">  157</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection ping&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">if</span> (m_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>) {</div>
<div class="line"><span class="lineno">  163</span>            std::stringstream <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>;</div>
<div class="line"><span class="lineno">  164</span>            <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a> &lt;&lt; <span class="stringliteral">&quot;connection::ping called from invalid state &quot;</span> &lt;&lt; m_state;</div>
<div class="line"><span class="lineno">  165</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>.str());</div>
<div class="line"><span class="lineno">  166</span>            ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  168</span>        }</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> msg = m_msg_manager-&gt;get_message();</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> (!msg) {</div>
<div class="line"><span class="lineno">  173</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da55cc9da6c40e8dc3f8df1e9e3f7b989f">error::no_outgoing_buffers</a>);</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    ec = m_processor-&gt;prepare_ping(payload,msg);</div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">if</span> (ec) {<span class="keywordflow">return</span>;}</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">// set ping timer if we are listening for one</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> (m_pong_timeout_handler) {</div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">// Cancel any existing timers</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">if</span> (m_ping_timer) {</div>
<div class="line"><span class="lineno">  184</span>            m_ping_timer-&gt;cancel();</div>
<div class="line"><span class="lineno">  185</span>        }</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">if</span> (m_pong_timeout_dur &gt; 0) {</div>
<div class="line"><span class="lineno">  188</span>            m_ping_timer = transport_con_type::set_timer(</div>
<div class="line"><span class="lineno">  189</span>                m_pong_timeout_dur,</div>
<div class="line"><span class="lineno">  190</span>                lib::bind(</div>
<div class="line"><span class="lineno">  191</span>                    &amp;<a class="code hl_function" href="#af10cbbbfe16ef1cc6f45614582c9d28f">type::handle_pong_timeout</a>,</div>
<div class="line"><span class="lineno">  192</span>                    <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno">  193</span>                    payload,</div>
<div class="line"><span class="lineno">  194</span>                    lib::placeholders::_1</div>
<div class="line"><span class="lineno">  195</span>                )</div>
<div class="line"><span class="lineno">  196</span>            );</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">if</span> (!m_ping_timer) {</div>
<div class="line"><span class="lineno">  200</span>            <span class="comment">// Our transport doesn&#39;t support timers</span></div>
<div class="line"><span class="lineno">  201</span>            m_elog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1elevel.html#aef51fd791400121297f38f4381edaebe">log::elevel::warn</a>,<span class="stringliteral">&quot;Warning: a pong_timeout_handler is \</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">                set but the transport in use does not support timeouts.&quot;</span>);</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordtype">bool</span> needs_writing = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  207</span>    {</div>
<div class="line"><span class="lineno">  208</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_write_lock);</div>
<div class="line"><span class="lineno">  209</span>        write_push(msg);</div>
<div class="line"><span class="lineno">  210</span>        needs_writing = !m_write_flag &amp;&amp; !m_send_queue.empty();</div>
<div class="line"><span class="lineno">  211</span>    }</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">if</span> (needs_writing) {</div>
<div class="line"><span class="lineno">  214</span>        transport_con_type::dispatch(lib::bind(</div>
<div class="line"><span class="lineno">  215</span>            &amp;<a class="code hl_function" href="#a8d26a29e90d4847f3882c280112c6b60">type::write_frame</a>,</div>
<div class="line"><span class="lineno">  216</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno">  217</span>        ));</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    ec = lib::error_code();</div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_af10cbbbfe16ef1cc6f45614582c9d28f"><div class="ttname"><a href="#af10cbbbfe16ef1cc6f45614582c9d28f">websocketpp::connection::handle_pong_timeout</a></div><div class="ttdeci">void handle_pong_timeout(std::string payload, lib::error_code const &amp;ec)</div><div class="ttdoc">Utility method that gets called back when the ping timer expires.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00233">connection_impl.hpp:233</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da55cc9da6c40e8dc3f8df1e9e3f7b989f"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da55cc9da6c40e8dc3f8df1e9e3f7b989f">websocketpp::error::no_outgoing_buffers</a></div><div class="ttdeci">@ no_outgoing_buffers</div><div class="ttdoc">The endpoint is out of outgoing message buffers.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00068">error.hpp:68</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a6766e2f31adc6843a983551b21683b73_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a6766e2f31adc6843a983551b21683b73_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a6766e2f31adc6843a983551b21683b73_cgraph" id="aclasswebsocketpp_1_1connection_a6766e2f31adc6843a983551b21683b73_cgraph">
<area shape="rect" title="exception free variant of ping" alt="" coords="5,27,175,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="266,5,312,31"/>
<area shape="poly" title=" " alt="" coords="175,32,250,21,251,26,175,38"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,55,355,96"/>
<area shape="poly" title=" " alt="" coords="175,57,208,61,207,67,175,62"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,55,535,96"/>
<area shape="poly" title=" " alt="" coords="355,73,388,73,388,78,355,78"/>
</map>
</div>

</div>
</div>
<a id="aa8684fcfd9a57466ae1b52e36b834408" name="aa8684fcfd9a57466ae1b52e36b834408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8684fcfd9a57466ae1b52e36b834408">&#9670;&#160;</a></span>pong() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::pong </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiates a pong with the given payload.</p>
<p>There is no feedback from a pong once sent.</p>
<p>Pong locks the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>Payload to be used for the pong </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00295">295</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  295</span>                                                       {</div>
<div class="line"><span class="lineno">  296</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  297</span>    <a class="code hl_function" href="#aa8684fcfd9a57466ae1b52e36b834408">pong</a>(payload,ec);</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  300</span>    }</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_aa8684fcfd9a57466ae1b52e36b834408"><div class="ttname"><a href="#aa8684fcfd9a57466ae1b52e36b834408">websocketpp::connection::pong</a></div><div class="ttdeci">void pong(std::string const &amp;payload)</div><div class="ttdoc">Send a pong.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00295">connection_impl.hpp:295</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a837dcb8f1214f08b92e7ae7489bfa180" name="a837dcb8f1214f08b92e7ae7489bfa180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837dcb8f1214f08b92e7ae7489bfa180">&#9670;&#160;</a></span>pong() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::pong </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00252">252</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  252</span>                                                                         {</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno">  254</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection pong&quot;</span>);</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    {</div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">if</span> (m_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a90d929cb6e119645ec2800451bfdc0a0">session::state::open</a>) {</div>
<div class="line"><span class="lineno">  260</span>            std::stringstream <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>;</div>
<div class="line"><span class="lineno">  261</span>            <a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a> &lt;&lt; <span class="stringliteral">&quot;connection::pong called from invalid state &quot;</span> &lt;&lt; m_state;</div>
<div class="line"><span class="lineno">  262</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<a class="code hl_function" href="namespace_xbyak_1_1util.html#a67cd5471fb751b186b53fdab6da7d3f7">ss</a>.str());</div>
<div class="line"><span class="lineno">  263</span>            ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> msg = m_msg_manager-&gt;get_message();</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (!msg) {</div>
<div class="line"><span class="lineno">  270</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da55cc9da6c40e8dc3f8df1e9e3f7b989f">error::no_outgoing_buffers</a>);</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  272</span>    }</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    ec = m_processor-&gt;prepare_pong(payload,msg);</div>
<div class="line"><span class="lineno">  275</span>    <span class="keywordflow">if</span> (ec) {<span class="keywordflow">return</span>;}</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordtype">bool</span> needs_writing = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_write_lock);</div>
<div class="line"><span class="lineno">  280</span>        write_push(msg);</div>
<div class="line"><span class="lineno">  281</span>        needs_writing = !m_write_flag &amp;&amp; !m_send_queue.empty();</div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (needs_writing) {</div>
<div class="line"><span class="lineno">  285</span>        transport_con_type::dispatch(lib::bind(</div>
<div class="line"><span class="lineno">  286</span>            &amp;<a class="code hl_function" href="#a8d26a29e90d4847f3882c280112c6b60">type::write_frame</a>,</div>
<div class="line"><span class="lineno">  287</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno">  288</span>        ));</div>
<div class="line"><span class="lineno">  289</span>    }</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    ec = lib::error_code();</div>
<div class="line"><span class="lineno">  292</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a837dcb8f1214f08b92e7ae7489bfa180_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a837dcb8f1214f08b92e7ae7489bfa180_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a837dcb8f1214f08b92e7ae7489bfa180_cgraph" id="aclasswebsocketpp_1_1connection_a837dcb8f1214f08b92e7ae7489bfa180_cgraph">
<area shape="rect" title="exception free variant of pong" alt="" coords="5,27,175,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="266,5,312,31"/>
<area shape="poly" title=" " alt="" coords="175,32,250,21,251,26,175,38"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,55,355,96"/>
<area shape="poly" title=" " alt="" coords="175,57,208,61,207,67,175,62"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,55,535,96"/>
<area shape="poly" title=" " alt="" coords="355,73,388,73,388,78,355,78"/>
</map>
</div>

</div>
</div>
<a id="a569483c7dcf542f500f6e9f49d803010" name="a569483c7dcf542f500f6e9f49d803010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a569483c7dcf542f500f6e9f49d803010">&#9670;&#160;</a></span>process_handshake_request()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::process_handshake_request </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Perform WebSocket handshake validation of m_request using m_processor. set m_response and return an error code indicating status. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01186">1186</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1186</span>                                                            {</div>
<div class="line"><span class="lineno"> 1187</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;process handshake request&quot;</span>);</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacewebsocketpp_1_1processor.html#a9ff3159b48cf4be2e7cb79c81b155d53">processor::is_websocket_handshake</a>(m_request)) {</div>
<div class="line"><span class="lineno"> 1190</span>        <span class="comment">// this is not a websocket handshake. Process as plain HTTP</span></div>
<div class="line"><span class="lineno"> 1191</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;HTTP REQUEST&quot;</span>);</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>        <span class="comment">// extract URI from request</span></div>
<div class="line"><span class="lineno"> 1194</span>        m_uri = <a class="code hl_function" href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce">processor::get_uri_from_host</a>(</div>
<div class="line"><span class="lineno"> 1195</span>            m_request,</div>
<div class="line"><span class="lineno"> 1196</span>            (transport_con_type::is_secure() ? <span class="stringliteral">&quot;https&quot;</span> : <span class="stringliteral">&quot;http&quot;</span>)</div>
<div class="line"><span class="lineno"> 1197</span>        );</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>        <span class="keywordflow">if</span> (!m_uri-&gt;get_valid()) {</div>
<div class="line"><span class="lineno"> 1200</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;Bad request: failed to parse uri&quot;</span>);</div>
<div class="line"><span class="lineno"> 1201</span>            m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1202</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daf80643edf3b27c30fc83be7b489a418c">error::invalid_uri</a>);</div>
<div class="line"><span class="lineno"> 1203</span>        }</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keywordflow">if</span> (m_http_handler) {</div>
<div class="line"><span class="lineno"> 1206</span>            m_is_http = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1207</span>            m_http_handler(m_connection_hdl);</div>
<div class="line"><span class="lineno"> 1208</span>            </div>
<div class="line"><span class="lineno"> 1209</span>            <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1210</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326">error::http_connection_ended</a>);</div>
<div class="line"><span class="lineno"> 1211</span>            }</div>
<div class="line"><span class="lineno"> 1212</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1213</span>            <a class="code hl_function" href="#a96d445ff0cc75b854c4500e93a054acb">set_status</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a53c34bae0288b6ff06bb6a9d706b6a6e">http::status_code::upgrade_required</a>);</div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dad50a56da7a0355b9075f98c7567523a5">error::upgrade_required</a>);</div>
<div class="line"><span class="lineno"> 1215</span>        }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>        <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno"> 1218</span>    }</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>    lib::error_code ec = m_processor-&gt;validate_handshake(m_request);</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>    <span class="comment">// Validate: make sure all required elements are present.</span></div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">if</span> (ec){</div>
<div class="line"><span class="lineno"> 1224</span>        <span class="comment">// Not a valid handshake request</span></div>
<div class="line"><span class="lineno"> 1225</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;Bad request &quot;</span> + ec.message());</div>
<div class="line"><span class="lineno"> 1226</span>        m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1227</span>        <span class="keywordflow">return</span> ec;</div>
<div class="line"><span class="lineno"> 1228</span>    }</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>    <span class="comment">// Read extension parameters and set up values necessary for the end user</span></div>
<div class="line"><span class="lineno"> 1231</span>    <span class="comment">// to complete extension negotiation.</span></div>
<div class="line"><span class="lineno"> 1232</span>    std::pair&lt;lib::error_code,std::string&gt; neg_results;</div>
<div class="line"><span class="lineno"> 1233</span>    neg_results = m_processor-&gt;negotiate_extensions(m_request);</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>    <span class="keywordflow">if</span> (neg_results.first) {</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="comment">// There was a fatal error in extension parsing that should result in</span></div>
<div class="line"><span class="lineno"> 1237</span>        <span class="comment">// a failed connection attempt.</span></div>
<div class="line"><span class="lineno"> 1238</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;Bad request: &quot;</span> + neg_results.first.message());</div>
<div class="line"><span class="lineno"> 1239</span>        m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1240</span>        <span class="keywordflow">return</span> neg_results.first;</div>
<div class="line"><span class="lineno"> 1241</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1242</span>        <span class="comment">// extension negotiation succeeded, set response header accordingly</span></div>
<div class="line"><span class="lineno"> 1243</span>        <span class="comment">// we don&#39;t send an empty extensions header because it breaks many</span></div>
<div class="line"><span class="lineno"> 1244</span>        <span class="comment">// clients.</span></div>
<div class="line"><span class="lineno"> 1245</span>        <span class="keywordflow">if</span> (neg_results.second.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1246</span>            m_response.replace_header(<span class="stringliteral">&quot;Sec-WebSocket-Extensions&quot;</span>,</div>
<div class="line"><span class="lineno"> 1247</span>                neg_results.second);</div>
<div class="line"><span class="lineno"> 1248</span>        }</div>
<div class="line"><span class="lineno"> 1249</span>    }</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="comment">// extract URI from request</span></div>
<div class="line"><span class="lineno"> 1252</span>    m_uri = m_processor-&gt;get_uri(m_request);</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keywordflow">if</span> (!m_uri-&gt;get_valid()) {</div>
<div class="line"><span class="lineno"> 1256</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;Bad request: failed to parse uri&quot;</span>);</div>
<div class="line"><span class="lineno"> 1257</span>        m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1258</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daf80643edf3b27c30fc83be7b489a418c">error::invalid_uri</a>);</div>
<div class="line"><span class="lineno"> 1259</span>    }</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    <span class="comment">// extract subprotocols</span></div>
<div class="line"><span class="lineno"> 1262</span>    lib::error_code subp_ec = m_processor-&gt;extract_subprotocols(m_request,</div>
<div class="line"><span class="lineno"> 1263</span>        m_requested_subprotocols);</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    <span class="keywordflow">if</span> (subp_ec) {</div>
<div class="line"><span class="lineno"> 1266</span>        <span class="comment">// should we do anything?</span></div>
<div class="line"><span class="lineno"> 1267</span>    }</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>    <span class="comment">// Ask application to validate the connection</span></div>
<div class="line"><span class="lineno"> 1270</span>    <span class="keywordflow">if</span> (!m_validate_handler || m_validate_handler(m_connection_hdl)) {</div>
<div class="line"><span class="lineno"> 1271</span>        m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6af8fdb6ffaa8898b9a69112d3dd8f0bfc">http::status_code::switching_protocols</a>);</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>        <span class="comment">// Write the appropriate response headers based on request and</span></div>
<div class="line"><span class="lineno"> 1274</span>        <span class="comment">// processor version</span></div>
<div class="line"><span class="lineno"> 1275</span>        ec = m_processor-&gt;process_handshake(m_request,m_subprotocol,m_response);</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1278</span>            std::stringstream <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>;</div>
<div class="line"><span class="lineno"> 1279</span>            <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> &lt;&lt; <span class="stringliteral">&quot;Processing error: &quot;</span> &lt;&lt; ec &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; ec.message() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1280</span>            m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>.str());</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>            m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6aff5b07f0195981e0c62dbe9a82bc7dc0">http::status_code::internal_server_error</a>);</div>
<div class="line"><span class="lineno"> 1283</span>            <span class="keywordflow">return</span> ec;</div>
<div class="line"><span class="lineno"> 1284</span>        }</div>
<div class="line"><span class="lineno"> 1285</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1286</span>        <span class="comment">// User application has rejected the handshake</span></div>
<div class="line"><span class="lineno"> 1287</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>, <span class="stringliteral">&quot;USER REJECT&quot;</span>);</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>        <span class="comment">// Use Bad Request if the user handler did not provide a more</span></div>
<div class="line"><span class="lineno"> 1290</span>        <span class="comment">// specific http response error code.</span></div>
<div class="line"><span class="lineno"> 1291</span>        <span class="comment">// TODO: is there a better default?</span></div>
<div class="line"><span class="lineno"> 1292</span>        <span class="keywordflow">if</span> (m_response.get_status_code() == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a462538a8920c099c84c83a51edbd41f0">http::status_code::uninitialized</a>) {</div>
<div class="line"><span class="lineno"> 1293</span>            m_response.set_status(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a089057bc2b6afc67f712c9888e2553a3">http::status_code::bad_request</a>);</div>
<div class="line"><span class="lineno"> 1294</span>        }</div>
<div class="line"><span class="lineno"> 1295</span>        </div>
<div class="line"><span class="lineno"> 1296</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da84dc4660cd164a5e27d8c2f816f3593b">error::rejected</a>);</div>
<div class="line"><span class="lineno"> 1297</span>    }</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>    <span class="keywordflow">return</span> lib::error_code();</div>
<div class="line"><span class="lineno"> 1300</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a96d445ff0cc75b854c4500e93a054acb"><div class="ttname"><a href="#a96d445ff0cc75b854c4500e93a054acb">websocketpp::connection::set_status</a></div><div class="ttdeci">void set_status(http::status_code::value code)</div><div class="ttdoc">Set response status code and message.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00545">connection_impl.hpp:545</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da84dc4660cd164a5e27d8c2f816f3593b"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da84dc4660cd164a5e27d8c2f816f3593b">websocketpp::error::rejected</a></div><div class="ttdeci">@ rejected</div><div class="ttdoc">Connection rejected.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00130">error.hpp:130</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68dad50a56da7a0355b9075f98c7567523a5"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68dad50a56da7a0355b9075f98c7567523a5">websocketpp::error::upgrade_required</a></div><div class="ttdeci">@ upgrade_required</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00134">error.hpp:134</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68daf80643edf3b27c30fc83be7b489a418c"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daf80643edf3b27c30fc83be7b489a418c">websocketpp::error::invalid_uri</a></div><div class="ttdeci">@ invalid_uri</div><div class="ttdoc">An invalid uri was supplied.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00065">error.hpp:65</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a462538a8920c099c84c83a51edbd41f0"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a462538a8920c099c84c83a51edbd41f0">websocketpp::http::status_code::uninitialized</a></div><div class="ttdeci">@ uninitialized</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00123">constants.hpp:123</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1http_1_1status__code_html_ae0d61c309e053ee5673517b54e2886c6a53c34bae0288b6ff06bb6a9d706b6a6e"><div class="ttname"><a href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6a53c34bae0288b6ff06bb6a9d706b6a6e">websocketpp::http::status_code::upgrade_required</a></div><div class="ttdeci">@ upgrade_required</div><div class="ttdef"><b>Definition</b> <a href="fc_2vendor_2websocketpp_2websocketpp_2http_2constants_8hpp_source.html#l00163">constants.hpp:163</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1processor_html_a5fa80687521dc24678e773fc3e71e0ce"><div class="ttname"><a href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce">websocketpp::processor::get_uri_from_host</a></div><div class="ttdeci">uri_ptr get_uri_from_host(request_type &amp;request, std::string scheme)</div><div class="ttdoc">Extract a URI ptr from the host header of the request.</div><div class="ttdef"><b>Definition</b> <a href="processor_8hpp_source.html#l00136">processor.hpp:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a569483c7dcf542f500f6e9f49d803010_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a569483c7dcf542f500f6e9f49d803010_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a569483c7dcf542f500f6e9f49d803010_cgraph" id="aclasswebsocketpp_1_1connection_a569483c7dcf542f500f6e9f49d803010_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,201,111"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor.html#a5fa80687521dc24678e773fc3e71e0ce" title="Extract a URI ptr from the host header of the request." alt="" coords="257,5,420,46"/>
<area shape="poly" title=" " alt="" coords="178,68,247,48,248,53,179,73"/>
<area shape="rect" href="namespacewebsocketpp_1_1processor.html#a9ff3159b48cf4be2e7cb79c81b155d53" title="Determine whether or not a generic HTTP request is a WebSocket handshake." alt="" coords="249,71,428,111"/>
<area shape="poly" title=" " alt="" coords="201,88,233,88,233,94,201,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="272,136,404,177"/>
<area shape="poly" title=" " alt="" coords="179,109,258,131,256,136,178,114"/>
<area shape="rect" href="namespacewebsocketpp_1_1utility.html#a484f1287b93cf58cc6514e46eed41568" title="Find substring (case insensitive)" alt="" coords="476,71,613,111"/>
<area shape="poly" title=" " alt="" coords="428,88,460,88,460,94,428,94"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="478,136,611,177"/>
<area shape="poly" title=" " alt="" coords="405,154,463,154,463,159,405,159"/>
</map>
</div>

</div>
</div>
<a id="af54e9d7c8ef07349d28c3405182bb3c7" name="af54e9d7c8ef07349d28c3405182bb3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54e9d7c8ef07349d28c3405182bb3c7">&#9670;&#160;</a></span>read_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::read_frame </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01123">1123</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1123</span>                                    {</div>
<div class="line"><span class="lineno"> 1124</span>    <span class="keywordflow">if</span> (!m_read_flag) {</div>
<div class="line"><span class="lineno"> 1125</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1126</span>    }</div>
<div class="line"><span class="lineno"> 1127</span>    </div>
<div class="line"><span class="lineno"> 1128</span>    transport_con_type::async_read_at_least(</div>
<div class="line"><span class="lineno"> 1129</span>        <span class="comment">// std::min wont work with undefined static const values.</span></div>
<div class="line"><span class="lineno"> 1130</span>        <span class="comment">// TODO: is there a more elegant way to do this?</span></div>
<div class="line"><span class="lineno"> 1131</span>        <span class="comment">// Need to determine if requesting 1 byte or the exact number of bytes</span></div>
<div class="line"><span class="lineno"> 1132</span>        <span class="comment">// is better here. 1 byte lets us be a bit more responsive at a</span></div>
<div class="line"><span class="lineno"> 1133</span>        <span class="comment">// potential expense of additional runs through handle_read_frame</span></div>
<div class="line"><span class="lineno"> 1134</span>        <span class="comment">/*(m_processor-&gt;get_bytes_needed() &gt; config::connection_read_buffer_size ?</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="comment">         config::connection_read_buffer_size : m_processor-&gt;get_bytes_needed())*/</span></div>
<div class="line"><span class="lineno"> 1136</span>        1,</div>
<div class="line"><span class="lineno"> 1137</span>        m_buf,</div>
<div class="line"><span class="lineno"> 1138</span>        config::connection_read_buffer_size,</div>
<div class="line"><span class="lineno"> 1139</span>        m_handle_read_frame</div>
<div class="line"><span class="lineno"> 1140</span>    );</div>
<div class="line"><span class="lineno"> 1141</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e19e781b4abda3e4a39f4f25077a29c" name="a9e19e781b4abda3e4a39f4f25077a29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e19e781b4abda3e4a39f4f25077a29c">&#9670;&#160;</a></span>read_handshake()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::read_handshake </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>num_bytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00784">784</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  784</span>                                                        {</div>
<div class="line"><span class="lineno">  785</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection read_handshake&quot;</span>);</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordflow">if</span> (m_open_handshake_timeout_dur &gt; 0) {</div>
<div class="line"><span class="lineno">  788</span>        m_handshake_timer = transport_con_type::set_timer(</div>
<div class="line"><span class="lineno">  789</span>            m_open_handshake_timeout_dur,</div>
<div class="line"><span class="lineno">  790</span>            lib::bind(</div>
<div class="line"><span class="lineno">  791</span>                &amp;<a class="code hl_function" href="#aee1b6e47985b434303b8d6e5f27177a3">type::handle_open_handshake_timeout</a>,</div>
<div class="line"><span class="lineno">  792</span>                <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno">  793</span>                lib::placeholders::_1</div>
<div class="line"><span class="lineno">  794</span>            )</div>
<div class="line"><span class="lineno">  795</span>        );</div>
<div class="line"><span class="lineno">  796</span>    }</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    transport_con_type::async_read_at_least(</div>
<div class="line"><span class="lineno">  799</span>        num_bytes,</div>
<div class="line"><span class="lineno">  800</span>        m_buf,</div>
<div class="line"><span class="lineno">  801</span>        config::connection_read_buffer_size,</div>
<div class="line"><span class="lineno">  802</span>        lib::bind(</div>
<div class="line"><span class="lineno">  803</span>            &amp;<a class="code hl_function" href="#a9c7e83aae3418cdf71e6fcf1dce3a255">type::handle_read_handshake</a>,</div>
<div class="line"><span class="lineno">  804</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno">  805</span>            lib::placeholders::_1,</div>
<div class="line"><span class="lineno">  806</span>            lib::placeholders::_2</div>
<div class="line"><span class="lineno">  807</span>        )</div>
<div class="line"><span class="lineno">  808</span>    );</div>
<div class="line"><span class="lineno">  809</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_aee1b6e47985b434303b8d6e5f27177a3"><div class="ttname"><a href="#aee1b6e47985b434303b8d6e5f27177a3">websocketpp::connection::handle_open_handshake_timeout</a></div><div class="ttdeci">void handle_open_handshake_timeout(lib::error_code const &amp;ec)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01675">connection_impl.hpp:1675</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63094895d9dcfb4d10974ae97ea319a1" name="a63094895d9dcfb4d10974ae97ea319a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63094895d9dcfb4d10974ae97ea319a1">&#9670;&#160;</a></span>remove_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::remove_header </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a header from the response.</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks, or to a client connection before connect has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The name of the header to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>websocketpp::http::parser::remove_header </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00638">638</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  639</span>{</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">if</span> (m_is_server) {</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  642</span>            <span class="comment">// we are setting response headers for an incoming server connection</span></div>
<div class="line"><span class="lineno">  643</span>            m_response.remove_header(key);</div>
<div class="line"><span class="lineno">  644</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to remove_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  646</span>                        <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  647</span>        }</div>
<div class="line"><span class="lineno">  648</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">istate::USER_INIT</a>) {</div>
<div class="line"><span class="lineno">  650</span>            <span class="comment">// we are setting initial headers for an outgoing client connection</span></div>
<div class="line"><span class="lineno">  651</span>            m_request.remove_header(key);</div>
<div class="line"><span class="lineno">  652</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  653</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to remove_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  654</span>                        <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  655</span>        }</div>
<div class="line"><span class="lineno">  656</span>    }</div>
<div class="line"><span class="lineno">  657</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a63094895d9dcfb4d10974ae97ea319a1_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a63094895d9dcfb4d10974ae97ea319a1_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a63094895d9dcfb4d10974ae97ea319a1_cgraph" id="aclasswebsocketpp_1_1connection_a63094895d9dcfb4d10974ae97ea319a1_cgraph">
<area shape="rect" title="Remove a header." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a96e4adcdb9b3473ca96e2aac27ff7147" name="a96e4adcdb9b3473ca96e2aac27ff7147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e4adcdb9b3473ca96e2aac27ff7147">&#9670;&#160;</a></span>replace_header()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::replace_header </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If a header with this name already exists the old value will be replaced Use <code><a class="el" href="#af8cb78acc61b8a3d59f6162cdba6318b" title="Append a header.">connection::append_header</a></code> to append to a list of existing values.</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks, or to a client connection before connect has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Name of the header to set </td></tr>
    <tr><td class="paramname">val</td><td>Value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af8cb78acc61b8a3d59f6162cdba6318b" title="Append a header.">append_header</a> </dd>
<dd>
websocketpp::http::parser::replace_header </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00614">614</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  616</span>{</div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">if</span> (m_is_server) {</div>
<div class="line"><span class="lineno">  618</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  619</span>            <span class="comment">// we are setting response headers for an incoming server connection</span></div>
<div class="line"><span class="lineno">  620</span>            m_response.replace_header(key,val);</div>
<div class="line"><span class="lineno">  621</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to replace_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  623</span>                        <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  624</span>        }</div>
<div class="line"><span class="lineno">  625</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">if</span> (m_internal_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">istate::USER_INIT</a>) {</div>
<div class="line"><span class="lineno">  627</span>            <span class="comment">// we are setting initial headers for an outgoing client connection</span></div>
<div class="line"><span class="lineno">  628</span>            m_request.replace_header(key,val);</div>
<div class="line"><span class="lineno">  629</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to replace_header from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  631</span>                        <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  632</span>        }</div>
<div class="line"><span class="lineno">  633</span>    }</div>
<div class="line"><span class="lineno">  634</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a96e4adcdb9b3473ca96e2aac27ff7147_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a96e4adcdb9b3473ca96e2aac27ff7147_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a96e4adcdb9b3473ca96e2aac27ff7147_cgraph" id="aclasswebsocketpp_1_1connection_a96e4adcdb9b3473ca96e2aac27ff7147_cgraph">
<area shape="rect" title="Replace a header." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a355b5e155ba53071b06fa8a6dfab9be2" name="a355b5e155ba53071b06fa8a6dfab9be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355b5e155ba53071b06fa8a6dfab9be2">&#9670;&#160;</a></span>resume_reading()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::resume_reading </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals to the connection to resume reading of new data after it was paused by <code><a class="el" href="#ad6a4a25a18ec61d2a36a149a3d92ab72" title="Pause reading of new data.">pause_reading()</a></code>.</p>
<p>If reading is not paused for this connection already nothing is changed. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00378">378</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>                                                 {</div>
<div class="line"><span class="lineno">  379</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection connection::resume_reading&quot;</span>);</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">return</span> transport_con_type::dispatch(</div>
<div class="line"><span class="lineno">  381</span>        lib::bind(</div>
<div class="line"><span class="lineno">  382</span>            &amp;<a class="code hl_function" href="#adb5b479b7d66eb289390b26d12332d84">type::handle_resume_reading</a>,</div>
<div class="line"><span class="lineno">  383</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>()</div>
<div class="line"><span class="lineno">  384</span>        )</div>
<div class="line"><span class="lineno">  385</span>    );</div>
<div class="line"><span class="lineno">  386</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_adb5b479b7d66eb289390b26d12332d84"><div class="ttname"><a href="#adb5b479b7d66eb289390b26d12332d84">websocketpp::connection::handle_resume_reading</a></div><div class="ttdeci">void handle_resume_reading()</div><div class="ttdoc">Resume reading callback.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00390">connection_impl.hpp:390</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96b37fbab88dfb78b1641c0c30710243" name="a96b37fbab88dfb78b1641c0c30710243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b37fbab88dfb78b1641c0c30710243">&#9670;&#160;</a></span>select_subprotocol() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::select_subprotocol </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates which subprotocol should be used for this connection. Valid only during the validate handler callback. Subprotocol selected must have been requested by the client. Consult <a class="el" href="#ae0f196cb11d4a38ef59f2173424a4d51" title="Gets all of the subprotocols requested by the client.">get_requested_subprotocols()</a> for a list of valid subprotocols.</p>
<p>This member function is valid on server endpoints/connections only</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The subprotocol to select </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00516">516</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  516</span>                                                                   {</div>
<div class="line"><span class="lineno">  517</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  518</span>    this-&gt;<a class="code hl_function" href="#a53e9587a711e543ed353e8ecec13d44c">select_subprotocol</a>(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>,ec);</div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a53e9587a711e543ed353e8ecec13d44c"><div class="ttname"><a href="#a53e9587a711e543ed353e8ecec13d44c">websocketpp::connection::select_subprotocol</a></div><div class="ttdeci">void select_subprotocol(std::string const &amp;value, lib::error_code &amp;ec)</div><div class="ttdoc">Select a subprotocol to use (exception free)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00488">connection_impl.hpp:488</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53e9587a711e543ed353e8ecec13d44c" name="a53e9587a711e543ed353e8ecec13d44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e9587a711e543ed353e8ecec13d44c">&#9670;&#160;</a></span>select_subprotocol() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::select_subprotocol </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates which subprotocol should be used for this connection. Valid only during the validate handler callback. Subprotocol selected must have been requested by the client. Consult <a class="el" href="#ae0f196cb11d4a38ef59f2173424a4d51" title="Gets all of the subprotocols requested by the client.">get_requested_subprotocols()</a> for a list of valid subprotocols.</p>
<p>This member function is valid on server endpoints/connections only</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The subprotocol to select </td></tr>
    <tr><td class="paramname">ec</td><td><a class="el" href="struct_a.html">A</a> reference to an error code that will be filled in the case of errors </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00488">488</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  490</span>{</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (!m_is_server) {</div>
<div class="line"><span class="lineno">  492</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daab6790e91c53a767498f7939e8fc734e">error::server_only</a>);</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>.empty()) {</div>
<div class="line"><span class="lineno">  497</span>        ec = lib::error_code();</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  499</span>    }</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    std::vector&lt;std::string&gt;::iterator it;</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    it = std::find(m_requested_subprotocols.begin(),</div>
<div class="line"><span class="lineno">  504</span>                   m_requested_subprotocols.end(),</div>
<div class="line"><span class="lineno">  505</span>                   <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>);</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (it == m_requested_subprotocols.end()) {</div>
<div class="line"><span class="lineno">  508</span>        ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da1c2d766aa9dc1b43d4af8dac9d7de2e0">error::unrequested_subprotocol</a>);</div>
<div class="line"><span class="lineno">  509</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  510</span>    }</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    m_subprotocol = <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>;</div>
<div class="line"><span class="lineno">  513</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68da1c2d766aa9dc1b43d4af8dac9d7de2e0"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da1c2d766aa9dc1b43d4af8dac9d7de2e0">websocketpp::error::unrequested_subprotocol</a></div><div class="ttdeci">@ unrequested_subprotocol</div><div class="ttdoc">Selected subprotocol was not requested by the client.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00102">error.hpp:102</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1error_html_a0558d884e44e79146ad4947aea63f68daab6790e91c53a767498f7939e8fc734e"><div class="ttname"><a href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68daab6790e91c53a767498f7939e8fc734e">websocketpp::error::server_only</a></div><div class="ttdeci">@ server_only</div><div class="ttdoc">Attempted to use a server specific feature on a client endpoint.</div><div class="ttdef"><b>Definition</b> <a href="error_8hpp_source.html#l00108">error.hpp:108</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a53e9587a711e543ed353e8ecec13d44c_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a53e9587a711e543ed353e8ecec13d44c_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a53e9587a711e543ed353e8ecec13d44c_cgraph" id="aclasswebsocketpp_1_1connection_a53e9587a711e543ed353e8ecec13d44c_cgraph">
<area shape="rect" title="Select a subprotocol to use (exception free)" alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a29900da403dbafab8095c0989104be90" name="a29900da403dbafab8095c0989104be90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29900da403dbafab8095c0989104be90">&#9670;&#160;</a></span>send() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a></td>          <td class="paramname"><span class="paramname"><em>msg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If presented with a prepared message it is added without validation or framing. If presented with an unprepared message it is validated, framed, and then added</p>
<p><a class="el" href="namespace_errors.html">Errors</a> are returned via an exception </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo</a></b></dt><dd>make exception system_error rather than error_code</dd></dl>
<p>This method invokes the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td><a class="el" href="struct_a.html">A</a> message_ptr to the message to send. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a29900da403dbafab8095c0989104be90_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a29900da403dbafab8095c0989104be90_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a29900da403dbafab8095c0989104be90_cgraph" id="aclasswebsocketpp_1_1connection_a29900da403dbafab8095c0989104be90_cgraph">
<area shape="rect" title="Add a message to the outgoing send queue." alt="" coords="5,5,175,46"/>
<area shape="rect" href="classwebsocketpp_1_1connection.html#ae718e4fa8b2c37757d8abd71dae07dc9" title="Close the connection." alt="" coords="223,5,392,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="integration_8cpp.html#af5b66d867a040d002fb57d645cae3fb4" title=" " alt="" coords="440,13,492,38"/>
<area shape="poly" title=" " alt="" coords="392,23,424,23,424,28,392,28"/>
</map>
</div>

</div>
</div>
<a id="af3f96a962ed7a271a00e85ba4df2db45" name="af3f96a962ed7a271a00e85ba4df2db45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f96a962ed7a271a00e85ba4df2db45">&#9670;&#160;</a></span>send() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::send </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a></td>          <td class="paramname"><span class="paramname"><em>op</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727">frame::opcode::text</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience method to send a message given a payload string and optionally an opcode. Default opcode is <a class="el" href="namespaceutf8.html">utf8</a> text.</p>
<p>This method locks the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>The payload string to generated the message with</td></tr>
    <tr><td class="paramname">op</td><td>The opcode to generated the message with. Default is <a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727">frame::opcode::text</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00083">83</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> msg = m_msg_manager-&gt;get_message(<a class="code hl_union" href="unionop.html">op</a>,payload.size());</div>
<div class="line"><span class="lineno">   87</span>    msg-&gt;append_payload(payload);</div>
<div class="line"><span class="lineno">   88</span>    msg-&gt;set_compressed(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#af3f96a962ed7a271a00e85ba4df2db45">send</a>(msg);</div>
<div class="line"><span class="lineno">   91</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_af3f96a962ed7a271a00e85ba4df2db45"><div class="ttname"><a href="#af3f96a962ed7a271a00e85ba4df2db45">websocketpp::connection::send</a></div><div class="ttdeci">lib::error_code send(std::string const &amp;payload, frame::opcode::value op=frame::opcode::text)</div><div class="ttdoc">Create a message and then add it to the outgoing send queue.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00083">connection_impl.hpp:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a607fc1d40a2cf994ccc7173a94a2774d" name="a607fc1d40a2cf994ccc7173a94a2774d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a607fc1d40a2cf994ccc7173a94a2774d">&#9670;&#160;</a></span>send() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">lib::error_code <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::send </td>
          <td>(</td>
          <td class="paramtype">void const *</td>          <td class="paramname"><span class="paramname"><em>payload</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5e">frame::opcode::value</a></td>          <td class="paramname"><span class="paramname"><em>op</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5eabe7c19fe7e9744d6a0f041e4c99f120f">frame::opcode::binary</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convenience method to send a message given a raw array and optionally an opcode. Default opcode is binary.</p>
<p>This method locks the m_write_lock mutex</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td><a class="el" href="struct_a.html">A</a> pointer to the array containing the bytes to send.</td></tr>
    <tr><td class="paramname">len</td><td>Length of the array.</td></tr>
    <tr><td class="paramname">op</td><td>The opcode to generated the message with. Default is <a class="el" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5eabe7c19fe7e9744d6a0f041e4c99f120f">frame::opcode::binary</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00094">94</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> msg = m_msg_manager-&gt;get_message(<a class="code hl_union" href="unionop.html">op</a>,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div>
<div class="line"><span class="lineno">   98</span>    msg-&gt;append_payload(payload,<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#af3f96a962ed7a271a00e85ba4df2db45">send</a>(msg);</div>
<div class="line"><span class="lineno">  101</span>}</div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l04771">yubihsm_pkcs11.c:4771</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aabc8c4f01bb9fd6336e536d992ae1a4f" name="aabc8c4f01bb9fd6336e536d992ae1a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc8c4f01bb9fd6336e536d992ae1a4f">&#9670;&#160;</a></span>send_http_response() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::send_http_response </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00712">712</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  712</span>                                            {</div>
<div class="line"><span class="lineno">  713</span>    lib::error_code ec;</div>
<div class="line"><span class="lineno">  714</span>    this-&gt;<a class="code hl_function" href="#aabc8c4f01bb9fd6336e536d992ae1a4f">send_http_response</a>(ec);</div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">throw</span> exception(ec);</div>
<div class="line"><span class="lineno">  717</span>    }</div>
<div class="line"><span class="lineno">  718</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_aabc8c4f01bb9fd6336e536d992ae1a4f"><div class="ttname"><a href="#aabc8c4f01bb9fd6336e536d992ae1a4f">websocketpp::connection::send_http_response</a></div><div class="ttdeci">void send_http_response()</div><div class="ttdoc">Send deferred HTTP Response.</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00712">connection_impl.hpp:712</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c192eb26aa8be9afed7ff9e85990ea8" name="a6c192eb26aa8be9afed7ff9e85990ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c192eb26aa8be9afed7ff9e85990ea8">&#9670;&#160;</a></span>send_http_response() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::send_http_response </td>
          <td>(</td>
          <td class="paramtype">lib::error_code &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends an http response to an HTTP connection that was deferred. This will send a complete response including all headers, status line, and body text. The connection will be closed afterwards.</p>
<dl class="section since"><dt>Since</dt><dd>0.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec</td><td><a class="el" href="struct_a.html">A</a> status code, zero on success, non-zero otherwise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00696">696</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  696</span>                                                              {</div>
<div class="line"><span class="lineno">  697</span>    {</div>
<div class="line"><span class="lineno">  698</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_connection_state_lock);</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">if</span> (m_http_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa93b52fb34c5d01e7349ef0f4e80b94d5">session::http_state::deferred</a>) {</div>
<div class="line"><span class="lineno">  700</span>            ec = <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>);</div>
<div class="line"><span class="lineno">  701</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  702</span>        }</div>
<div class="line"><span class="lineno">  703</span>    </div>
<div class="line"><span class="lineno">  704</span>        m_http_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aac7c8a63a09d8d1a407bbe298db652b9b">session::http_state::body_written</a>;</div>
<div class="line"><span class="lineno">  705</span>    }</div>
<div class="line"><span class="lineno">  706</span>    </div>
<div class="line"><span class="lineno">  707</span>    this-&gt;write_http_response(lib::error_code());</div>
<div class="line"><span class="lineno">  708</span>    ec = lib::error_code();</div>
<div class="line"><span class="lineno">  709</span>}</div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1http__state_html_a40c0c92e8a4a3dff1ecd017d26f0bc4aac7c8a63a09d8d1a407bbe298db652b9b"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aac7c8a63a09d8d1a407bbe298db652b9b">websocketpp::session::http_state::body_written</a></div><div class="ttdeci">@ body_written</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00226">connection.hpp:226</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a6c192eb26aa8be9afed7ff9e85990ea8_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a6c192eb26aa8be9afed7ff9e85990ea8_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a6c192eb26aa8be9afed7ff9e85990ea8_cgraph" id="aclasswebsocketpp_1_1connection_a6c192eb26aa8be9afed7ff9e85990ea8_cgraph">
<area shape="rect" title="Send deferred HTTP Response (exception free)" alt="" coords="5,27,175,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="266,5,312,31"/>
<area shape="poly" title=" " alt="" coords="175,32,250,21,251,26,175,38"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,55,355,96"/>
<area shape="poly" title=" " alt="" coords="175,57,208,61,207,67,175,62"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,55,535,96"/>
<area shape="poly" title=" " alt="" coords="355,73,388,73,388,78,355,78"/>
</map>
</div>

</div>
</div>
<a id="ac11c93ff0060eaf24c16764c5ff906c9" name="ac11c93ff0060eaf24c16764c5ff906c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11c93ff0060eaf24c16764c5ff906c9">&#9670;&#160;</a></span>set_body() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_body </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00579">579</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  579</span>                                                   {</div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to set_status from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  582</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  583</span>    }</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    m_response.set_body(std::move(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>));</div>
<div class="line"><span class="lineno">  586</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_ac11c93ff0060eaf24c16764c5ff906c9_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_ac11c93ff0060eaf24c16764c5ff906c9_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_ac11c93ff0060eaf24c16764c5ff906c9_cgraph" id="aclasswebsocketpp_1_1connection_ac11c93ff0060eaf24c16764c5ff906c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a40bb318c3b9294018d217d0271a7b3da" name="a40bb318c3b9294018d217d0271a7b3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40bb318c3b9294018d217d0271a7b3da">&#9670;&#160;</a></span>set_body() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_body </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the body content of the HTTP response to the parameter string. Note set_body will also set the Content-Length HTTP header to the appropriate value. If you want the Content-Length header to be something else set it to something else after calling set_body</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>String data to include as the body content. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>websocketpp::http::response::set_body </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00569">569</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  569</span>                                                         {</div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to set_status from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  572</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  573</span>    }</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    m_response.set_body(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>);</div>
<div class="line"><span class="lineno">  576</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a40bb318c3b9294018d217d0271a7b3da_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a40bb318c3b9294018d217d0271a7b3da_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a40bb318c3b9294018d217d0271a7b3da_cgraph" id="aclasswebsocketpp_1_1connection_a40bb318c3b9294018d217d0271a7b3da_cgraph">
<area shape="rect" title="Set response body content." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a25fb7096431b1d7350c34035db7ed9a4" name="a25fb7096431b1d7350c34035db7ed9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fb7096431b1d7350c34035db7ed9a4">&#9670;&#160;</a></span>set_close_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_close_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a27acb39e01cbca06ccc4e4e8eb8f877d">close_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The close handler is called immediately after the connection is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new close_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00361">361</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  361</span>                                            {</div>
<div class="line"><span class="lineno">  362</span>        m_close_handler = h;</div>
<div class="line"><span class="lineno">  363</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bf932388a128a7b719c45b945bffaad" name="a3bf932388a128a7b719c45b945bffaad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf932388a128a7b719c45b945bffaad">&#9670;&#160;</a></span>set_close_handshake_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_close_handshake_timeout </td>
          <td>(</td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>dur</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the length of time the library will wait after a closing handshake has been initiated before cancelling it. This can be used to prevent excessive wait times for outgoing clients or excessive resource usage from broken clients or DoS attacks on servers.</p>
<p>Connections that time out will have their close handlers called with the close_handshake_timeout error code.</p>
<p>The default value is specified via the compile time config value 'timeout_close_handshake'. The default value in the core config is 5000ms. <a class="el" href="struct_a.html">A</a> value of 0 will disable the timer entirely.</p>
<p>To be effective, the transport you are using must support timers. See the documentation for your transport policy for details about its timer support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur</td><td>The length of the close handshake timeout in ms </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00525">525</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  525</span>                                               {</div>
<div class="line"><span class="lineno">  526</span>        m_close_handshake_timeout_dur = dur;</div>
<div class="line"><span class="lineno">  527</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d2515bc6821f90c531efe77c8a32569" name="a8d2515bc6821f90c531efe77c8a32569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2515bc6821f90c531efe77c8a32569">&#9670;&#160;</a></span>set_fail_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_fail_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a5bb2e61cfe649b2e012f1a2c5693a4d5">fail_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The fail handler is called whenever the connection fails while the handshake is bring processed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new fail_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00372">372</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>                                          {</div>
<div class="line"><span class="lineno">  373</span>        m_fail_handler = h;</div>
<div class="line"><span class="lineno">  374</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af07f4fac45e1b64de7e0d12ece0d23a8" name="af07f4fac45e1b64de7e0d12ece0d23a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af07f4fac45e1b64de7e0d12ece0d23a8">&#9670;&#160;</a></span>set_handle()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a6b3d26a10ee7229b84b776786332631d">connection_hdl</a></td>          <td class="paramname"><span class="paramname"><em>hdl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The connection handle is a token that can be shared outside the WebSocket++ core for the purposes of identifying a connection and sending it messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdl</td><td><a class="el" href="struct_a.html">A</a> connection_hdl that the connection will use to refer to itself. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l01357">1357</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1357</span>                                        {</div>
<div class="line"><span class="lineno"> 1358</span>        m_connection_hdl = hdl;</div>
<div class="line"><span class="lineno"> 1359</span>        transport_con_type::set_handle(hdl);</div>
<div class="line"><span class="lineno"> 1360</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78c680623660b0442394af6b45c46c23" name="a78c680623660b0442394af6b45c46c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c680623660b0442394af6b45c46c23">&#9670;&#160;</a></span>set_http_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_http_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a37bc4d5b3b21d3bb494d8a23236315d2">http_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The http handler is called after an HTTP request other than a WebSocket upgrade request is received. It allows a WebSocket++ server to respond to regular HTTP requests on the same port as it processes WebSocket connections. This can be useful for hosting error messages, flash policy files, status pages, and other simple HTTP responses. It is not intended to be used as a primary web server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new http_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00447">447</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  447</span>                                          {</div>
<div class="line"><span class="lineno">  448</span>        m_http_handler = h;</div>
<div class="line"><span class="lineno">  449</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8edc6e8ea1b72f84973bed0a20ad365" name="aa8edc6e8ea1b72f84973bed0a20ad365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8edc6e8ea1b72f84973bed0a20ad365">&#9670;&#160;</a></span>set_interrupt_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_interrupt_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a55f6947df7673a9de3c44b6bd5d4a82a">interrupt_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The interrupt handler is called whenever the connection is manually interrupted by the application.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new interrupt_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00432">432</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  432</span>                                                    {</div>
<div class="line"><span class="lineno">  433</span>        m_interrupt_handler = h;</div>
<div class="line"><span class="lineno">  434</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2a5b06ad88f5bcdd06fcabaae3323bc" name="ad2a5b06ad88f5bcdd06fcabaae3323bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a5b06ad88f5bcdd06fcabaae3323bc">&#9670;&#160;</a></span>set_max_http_body_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_max_http_body_size </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>new_value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set maximum HTTP message body size. Maximum message body size determines the point at which the connection will stop reading an HTTP request whose body is too large.</p>
<p>The default is set by the endpoint that creates the connection.</p>
<dl class="section since"><dt>Since</dt><dd>0.5.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_value</td><td>The value to set as the maximum message size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00610">610</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  610</span>                                                  {</div>
<div class="line"><span class="lineno">  611</span>        m_request.set_max_body_size(new_value);</div>
<div class="line"><span class="lineno">  612</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a522286bf83373f87ddebf93b732abffc" name="a522286bf83373f87ddebf93b732abffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a522286bf83373f87ddebf93b732abffc">&#9670;&#160;</a></span>set_max_message_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_max_message_size </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>new_value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set maximum message size. Maximum message size determines the point at which the connection will fail with the message_too_big protocol error. This value may be changed during the connection.</p>
<p>The default is set by the endpoint that creates the connection.</p>
<dl class="section since"><dt>Since</dt><dd>0.3.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_value</td><td>The value to set as the maximum message size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00575">575</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  575</span>                                                {</div>
<div class="line"><span class="lineno">  576</span>        m_max_message_size = new_value;</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">if</span> (m_processor) {</div>
<div class="line"><span class="lineno">  578</span>            m_processor-&gt;set_max_message_size(new_value);</div>
<div class="line"><span class="lineno">  579</span>        }</div>
<div class="line"><span class="lineno">  580</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a107e754227c828582779b906654743fe" name="a107e754227c828582779b906654743fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107e754227c828582779b906654743fe">&#9670;&#160;</a></span>set_message_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_message_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a78988e5609b6ccdbd0949d5cd5fe440a">message_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The message handler is called after a new message has been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new message_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00473">473</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>                                                {</div>
<div class="line"><span class="lineno">  474</span>        m_message_handler = h;</div>
<div class="line"><span class="lineno">  475</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab11271e7778fbfde3a1987fca729af6d" name="ab11271e7778fbfde3a1987fca729af6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11271e7778fbfde3a1987fca729af6d">&#9670;&#160;</a></span>set_open_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_open_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a53c8b4ae59cf13b5f883b119bbd14d72">open_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The open handler is called after the WebSocket handshake is complete and the connection is considered OPEN.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new open_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00351">351</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>                                          {</div>
<div class="line"><span class="lineno">  352</span>        m_open_handler = h;</div>
<div class="line"><span class="lineno">  353</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5a666fe1144dc68b1bae3bcc615e1ed" name="ad5a666fe1144dc68b1bae3bcc615e1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a666fe1144dc68b1bae3bcc615e1ed">&#9670;&#160;</a></span>set_open_handshake_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_open_handshake_timeout </td>
          <td>(</td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>dur</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the length of time the library will wait after an opening handshake has been initiated before cancelling it. This can be used to prevent excessive wait times for outgoing clients or excessive resource usage from broken clients or DoS attacks on servers.</p>
<p>Connections that time out will have their fail handlers called with the open_handshake_timeout error code.</p>
<p>The default value is specified via the compile time config value 'timeout_open_handshake'. The default value in the core config is 5000ms. <a class="el" href="struct_a.html">A</a> value of 0 will disable the timer entirely.</p>
<p>To be effective, the transport you are using must support timers. See the documentation for your transport policy for details about its timer support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur</td><td>The length of the open handshake timeout in ms </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00501">501</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  501</span>                                              {</div>
<div class="line"><span class="lineno">  502</span>        m_open_handshake_timeout_dur = dur;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e21e63abbbba88f818742e9da25fa8b" name="a6e21e63abbbba88f818742e9da25fa8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e21e63abbbba88f818742e9da25fa8b">&#9670;&#160;</a></span>set_ping_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_ping_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a9dcaaa7370865f1bcacb55ae715793ef">ping_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The ping handler is called whenever the connection receives a ping control frame. The ping payload is included.</p>
<p>The ping handler's return time controls whether or not a pong is sent in response to this ping. Returning false will suppress the return pong. If no ping handler is set a pong will be sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new ping_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00387">387</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  387</span>                                          {</div>
<div class="line"><span class="lineno">  388</span>        m_ping_handler = h;</div>
<div class="line"><span class="lineno">  389</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a298795eaa6d554ca5114ff23346d47a9" name="a298795eaa6d554ca5114ff23346d47a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298795eaa6d554ca5114ff23346d47a9">&#9670;&#160;</a></span>set_pong_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_pong_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a1798d54e6d98a481cf870091af84bc1f">pong_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The pong handler is called whenever the connection receives a pong control frame. The pong payload is included.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new pong_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00398">398</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  398</span>                                          {</div>
<div class="line"><span class="lineno">  399</span>        m_pong_handler = h;</div>
<div class="line"><span class="lineno">  400</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9a905ac6a4f0f8546011b8f8a531563" name="ab9a905ac6a4f0f8546011b8f8a531563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a905ac6a4f0f8546011b8f8a531563">&#9670;&#160;</a></span>set_pong_timeout()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_pong_timeout </td>
          <td>(</td>
          <td class="paramtype">long</td>          <td class="paramname"><span class="paramname"><em>dur</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the length of time the library will wait for a pong response to a ping. This can be used as a keepalive or to detect broken connections.</p>
<p>Pong responses that time out will have the pong timeout handler called.</p>
<p>The default value is specified via the compile time config value 'timeout_pong'. The default value in the core config is 5000ms. <a class="el" href="struct_a.html">A</a> value of 0 will disable the timer entirely.</p>
<p>To be effective, the transport you are using must support timers. See the documentation for your transport policy for details about its timer support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur</td><td>The length of the pong timeout in ms </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00546">546</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>                                    {</div>
<div class="line"><span class="lineno">  547</span>        m_pong_timeout_dur = dur;</div>
<div class="line"><span class="lineno">  548</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6baa576fffc7af7685cf75894d634fb7" name="a6baa576fffc7af7685cf75894d634fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6baa576fffc7af7685cf75894d634fb7">&#9670;&#160;</a></span>set_pong_timeout_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_pong_timeout_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#a2c5925a111b9e553efebea35d5ea155f">pong_timeout_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the transport component being used supports timers, the pong timeout handler is called whenever a pong control frame is not received with the configured timeout period after the application sends a ping.</p>
<p>The config setting <code>timeout_pong</code> controls the length of the timeout period. It is specified in milliseconds.</p>
<p>This can be used to probe the health of the remote endpoint's WebSocket implementation. This does not guarantee that the remote application itself is still healthy but can be a useful diagnostic.</p>
<p>Note: receipt of this callback doesn't mean the pong will never come. This functionality will not suppress delivery of the pong in question should it arrive after the timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new pong_timeout_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00421">421</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>                                                          {</div>
<div class="line"><span class="lineno">  422</span>        m_pong_timeout_handler = h;</div>
<div class="line"><span class="lineno">  423</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a96d445ff0cc75b854c4500e93a054acb" name="a96d445ff0cc75b854c4500e93a054acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d445ff0cc75b854c4500e93a054acb">&#9670;&#160;</a></span>set_status() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the response status code to <code>code</code> and looks up the corresponding message for standard codes. Non-standard codes will be entered as Unknown use set_status(status_code::value,std::string) overload to set both values explicitly.</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td><a class="el" href="struct_code.html">Code</a> to set </td></tr>
    <tr><td class="paramname">msg</td><td>Message to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>websocketpp::http::response::set_status </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00545">545</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  546</span>{</div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to set_status from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  549</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  550</span>    }</div>
<div class="line"><span class="lineno">  551</span>    m_response.set_status(code);</div>
<div class="line"><span class="lineno">  552</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a96d445ff0cc75b854c4500e93a054acb_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a96d445ff0cc75b854c4500e93a054acb_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a96d445ff0cc75b854c4500e93a054acb_cgraph" id="aclasswebsocketpp_1_1connection_a96d445ff0cc75b854c4500e93a054acb_cgraph">
<area shape="rect" title="Set response status code and message." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="a97b4513339167df8653a11ef3ccc65b1" name="a97b4513339167df8653a11ef3ccc65b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97b4513339167df8653a11ef3ccc65b1">&#9670;&#160;</a></span>set_status() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp_1_1http_1_1status__code.html#ae0d61c309e053ee5673517b54e2886c6">http::status_code::value</a></td>          <td class="paramname"><span class="paramname"><em>code</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the response status code and message to independent custom values. use set_status(status_code::value) to set the code and have the standard message be automatically set.</p>
<p>This member function is valid only from the http() and <a class="el" href="debug__server_8cpp.html#a76b106c484654b62313da8bace255c9a">validate()</a> handler callbacks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td><a class="el" href="struct_code.html">Code</a> to set </td></tr>
    <tr><td class="paramname">msg</td><td>Message to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>websocketpp::http::response::set_status </dd></dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00556">556</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span>{</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da2d82e414db0a6cbc60eb3cb4317b71e0">istate::PROCESS_HTTP_REQUEST</a>) {</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">throw</span> exception(<span class="stringliteral">&quot;Call to set_status from invalid state&quot;</span>,</div>
<div class="line"><span class="lineno">  561</span>                      <a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  562</span>    }</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>    m_response.set_status(code,msg);</div>
<div class="line"><span class="lineno">  565</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a97b4513339167df8653a11ef3ccc65b1_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a97b4513339167df8653a11ef3ccc65b1_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a97b4513339167df8653a11ef3ccc65b1_cgraph" id="aclasswebsocketpp_1_1connection_a97b4513339167df8653a11ef3ccc65b1_cgraph">
<area shape="rect" title="Set response status code and message." alt="" coords="5,5,175,46"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89" title=" " alt="" coords="223,5,355,46"/>
<area shape="poly" title=" " alt="" coords="175,23,207,23,207,28,175,28"/>
<area shape="rect" href="namespacewebsocketpp_1_1error.html#ac1acac2bfb24bbd2b1791db80993b0c2" title=" " alt="" coords="403,5,535,46"/>
<area shape="poly" title=" " alt="" coords="355,23,388,23,388,28,355,28"/>
</map>
</div>

</div>
</div>
<a id="ac72ff8473d0a49bb069825e99e99ca9d" name="ac72ff8473d0a49bb069825e99e99ca9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac72ff8473d0a49bb069825e99e99ca9d">&#9670;&#160;</a></span>set_termination_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_termination_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a0dafdb1188f82418a8fd33a3638496ea">termination_handler</a></td>          <td class="paramname"><span class="paramname"><em>new_handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the handler for a terminating connection. Should only be used internally by the endpoint class. </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00053">53</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno">   57</span>        <span class="stringliteral">&quot;connection set_termination_handler&quot;</span>);</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    m_termination_handler = new_handler;</div>
<div class="line"><span class="lineno">   62</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5c81acf3be998662a3500a9be2c4d38" name="ac5c81acf3be998662a3500a9be2c4d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c81acf3be998662a3500a9be2c4d38">&#9670;&#160;</a></span>set_uri()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#aae370ea5ac83a8ece7712cb39fc23f5b">uri_ptr</a></td>          <td class="paramname"><span class="paramname"><em>uri</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This should really only be called by internal library methods unless you really know what you are doing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>The new URI to set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00436">436</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  436</span>                                            {</div>
<div class="line"><span class="lineno">  437</span>    <span class="comment">//scoped_lock_type lock(m_connection_state_lock);</span></div>
<div class="line"><span class="lineno">  438</span>    m_uri = uri;</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa28096d051f5639d7b01954845fc054c" name="aa28096d051f5639d7b01954845fc054c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28096d051f5639d7b01954845fc054c">&#9670;&#160;</a></span>set_validate_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::set_validate_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacewebsocketpp.html#ae28f3fed86a59b1998746694f3d4edbd">validate_handler</a></td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The validate handler is called after a WebSocket handshake has been parsed but before a response is returned. It provides the application a chance to examine the request and determine whether or not it wants to accept the connection.</p>
<p>Returning false from the validate handler will reject the connection. If no validate handler is present, all connections will be allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new validate_handler </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="connection_8hpp_source.html#l00463">463</a> of file <a class="el" href="connection_8hpp_source.html">connection.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  463</span>                                                  {</div>
<div class="line"><span class="lineno">  464</span>        m_validate_handler = h;</div>
<div class="line"><span class="lineno">  465</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a152530ff43396025175f85748d8ee708" name="a152530ff43396025175f85748d8ee708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152530ff43396025175f85748d8ee708">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l00726">726</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  726</span>                               {</div>
<div class="line"><span class="lineno">  727</span>    m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection start&quot;</span>);</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordflow">if</span> (m_internal_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508da3e18524ea63c814e1e5da6f12bf5af10">istate::USER_INIT</a>) {</div>
<div class="line"><span class="lineno">  730</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;Start called in invalid state&quot;</span>);</div>
<div class="line"><span class="lineno">  731</span>        this-&gt;<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a74995b2493f23c9103413e37da5cdc38">terminate</a>(<a class="code hl_function" href="namespacewebsocketpp_1_1error.html#a3344622df8c36e8ae03c59164e7b5e89">error::make_error_code</a>(<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da7566c083efb2833cbe99e6f4bda75882">error::invalid_state</a>));</div>
<div class="line"><span class="lineno">  732</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  733</span>    }</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>    m_internal_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1internal__state.html#a981c3a4fb8962bad264d7efea05c508dab874993580bfcc74626520e293659887">istate::TRANSPORT_INIT</a>;</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    <span class="comment">// Depending on how the transport implements init this function may return</span></div>
<div class="line"><span class="lineno">  738</span>    <span class="comment">// immediately and call handle_transport_init later or call</span></div>
<div class="line"><span class="lineno">  739</span>    <span class="comment">// handle_transport_init from this function.</span></div>
<div class="line"><span class="lineno">  740</span>    transport_con_type::init(</div>
<div class="line"><span class="lineno">  741</span>        lib::bind(</div>
<div class="line"><span class="lineno">  742</span>            &amp;<a class="code hl_function" href="#ad42c5982a35b82c9009971722943b1e0">type::handle_transport_init</a>,</div>
<div class="line"><span class="lineno">  743</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno">  744</span>            lib::placeholders::_1</div>
<div class="line"><span class="lineno">  745</span>        )</div>
<div class="line"><span class="lineno">  746</span>    );</div>
<div class="line"><span class="lineno">  747</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_ad42c5982a35b82c9009971722943b1e0"><div class="ttname"><a href="#ad42c5982a35b82c9009971722943b1e0">websocketpp::connection::handle_transport_init</a></div><div class="ttdeci">void handle_transport_init(lib::error_code const &amp;ec)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l00750">connection_impl.hpp:750</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a152530ff43396025175f85748d8ee708_icgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a152530ff43396025175f85748d8ee708_icgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a152530ff43396025175f85748d8ee708_icgraph" id="aclasswebsocketpp_1_1connection_a152530ff43396025175f85748d8ee708_icgraph">
<area shape="rect" title="Start the connection state machine." alt="" coords="468,98,637,138"/>
<area shape="rect" href="classcpp_1_1tokenize_1_1_token.html#ad93a4059e9932fa2dea149510f0ef002" title=" " alt="" coords="260,15,398,56"/>
<area shape="poly" title=" " alt="" coords="484,94,419,70,389,59,391,54,421,65,485,90"/>
<area shape="rect" href="classpump_1_1_token.html#a1a3dc1ee7b0d66e90f4ab7228b37fc0d" title=" " alt="" coords="259,80,398,106"/>
<area shape="poly" title=" " alt="" coords="452,110,399,103,399,98,453,104"/>
<area shape="rect" href="classcpp_1_1ast_1_1_node.html#aade2369ed75b8cd0b9e76752bf6ae7fb" title=" " alt="" coords="238,129,420,155"/>
<area shape="poly" title=" " alt="" coords="453,132,421,135,420,130,452,126"/>
<area shape="rect" href="classpump_1_1_token.html#a808876dd5a7b1bf6c43a3855dc4a8868" title=" " alt="" coords="264,203,394,228"/>
<area shape="poly" title=" " alt="" coords="491,148,362,205,359,200,489,143"/>
<area shape="rect" href="classcpp_1_1ast_1_1_define.html#a8e51e0611e1a76c5874f6b39e27a6d6a" title=" " alt="" coords="21,5,174,31"/>
<area shape="poly" title=" " alt="" coords="242,124,236,120,219,101,211,81,204,62,188,44,169,34,172,29,191,40,209,59,216,79,223,98,239,116,245,120"/>
<area shape="rect" href="classcpp_1_1ast_1_1_expr.html#a47968bf1be367a77836f211ced014ec0" title=" " alt="" coords="27,55,168,80"/>
<area shape="poly" title=" " alt="" coords="254,127,237,121,212,107,189,94,157,83,159,78,191,89,215,102,239,116,255,122"/>
<area shape="rect" href="classcpp_1_1ast_1_1_goto.html#ad3bb8a557e3075d7b68c5b0449fb494c" title=" " alt="" coords="26,104,169,130"/>
<area shape="poly" title=" " alt="" coords="222,133,169,127,170,122,223,128"/>
<area shape="rect" href="classcpp_1_1ast_1_1_using.html#aa489ba90656b2c28290af718f644d2f4" title=" " alt="" coords="23,153,172,179"/>
<area shape="poly" title=" " alt="" coords="222,156,173,161,172,156,222,151"/>
<area shape="rect" href="classcpp_1_1ast_1_1_variable_declaration.html#aeafe1b55bcf3005d00951f0accb18def" title=" " alt="" coords="5,203,190,244"/>
<area shape="poly" title=" " alt="" coords="256,163,239,169,215,181,191,194,163,205,161,200,189,189,212,176,237,164,254,158"/>
<area shape="rect" href="classcpp_1_1ast_1_1_node.html#acceba1aa15a332dd139ba9587d439a51" title=" " alt="" coords="11,268,184,294"/>
<area shape="poly" title=" " alt="" coords="244,165,240,168,223,189,216,212,209,235,191,258,171,270,168,265,188,253,205,232,211,210,218,187,236,164,241,161"/>
<area shape="poly" title=" " alt="" coords="368,190,355,184,329,181,305,183,292,188,290,193,296,201,292,204,284,194,289,184,304,178,329,176,356,179,370,186"/>
</map>
</div>

</div>
</div>
<a id="a7267aae677a77e5e9379ecb6db1789a3" name="a7267aae677a77e5e9379ecb6db1789a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7267aae677a77e5e9379ecb6db1789a3">&#9670;&#160;</a></span>terminate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::terminate </td>
          <td>(</td>
          <td class="paramtype">lib::error_code const &amp;</td>          <td class="paramname"><span class="paramname"><em>ec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01707">1707</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1707</span>                                                           {</div>
<div class="line"><span class="lineno"> 1708</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>)) {</div>
<div class="line"><span class="lineno"> 1709</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,<span class="stringliteral">&quot;connection terminate&quot;</span>);</div>
<div class="line"><span class="lineno"> 1710</span>    }</div>
<div class="line"><span class="lineno"> 1711</span> </div>
<div class="line"><span class="lineno"> 1712</span>    <span class="comment">// Cancel close handshake timer</span></div>
<div class="line"><span class="lineno"> 1713</span>    <span class="keywordflow">if</span> (m_handshake_timer) {</div>
<div class="line"><span class="lineno"> 1714</span>        m_handshake_timer-&gt;cancel();</div>
<div class="line"><span class="lineno"> 1715</span>        m_handshake_timer.reset();</div>
<div class="line"><span class="lineno"> 1716</span>    }</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>    terminate_status tstat = unknown;</div>
<div class="line"><span class="lineno"> 1719</span>    <span class="keywordflow">if</span> (ec) {</div>
<div class="line"><span class="lineno"> 1720</span>        m_ec = ec;</div>
<div class="line"><span class="lineno"> 1721</span>        m_local_close_code = close::status::abnormal_close;</div>
<div class="line"><span class="lineno"> 1722</span>        m_local_close_reason = ec.message();</div>
<div class="line"><span class="lineno"> 1723</span>    }</div>
<div class="line"><span class="lineno"> 1724</span> </div>
<div class="line"><span class="lineno"> 1725</span>    <span class="comment">// TODO: does any of this need a mutex?</span></div>
<div class="line"><span class="lineno"> 1726</span>    <span class="keywordflow">if</span> (m_is_http) {</div>
<div class="line"><span class="lineno"> 1727</span>        m_http_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa265eaa7a81d94731c9f4e048df62f104">session::http_state::closed</a>;</div>
<div class="line"><span class="lineno"> 1728</span>    }</div>
<div class="line"><span class="lineno"> 1729</span>    <span class="keywordflow">if</span> (m_state == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5a5d6a70f93d03d19c53ad5f4c4b3a176f">session::state::connecting</a>) {</div>
<div class="line"><span class="lineno"> 1730</span>        m_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>;</div>
<div class="line"><span class="lineno"> 1731</span>        tstat = failed;</div>
<div class="line"><span class="lineno"> 1732</span>        </div>
<div class="line"><span class="lineno"> 1733</span>        <span class="comment">// Log fail result here before socket is shut down and we can&#39;t get</span></div>
<div class="line"><span class="lineno"> 1734</span>        <span class="comment">// the remote address, etc anymore</span></div>
<div class="line"><span class="lineno"> 1735</span>        <span class="keywordflow">if</span> (m_ec != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da378e4b84397008e32d03d0fea4f15326">error::http_connection_ended</a>) {</div>
<div class="line"><span class="lineno"> 1736</span>            log_fail_result();</div>
<div class="line"><span class="lineno"> 1737</span>        }</div>
<div class="line"><span class="lineno"> 1738</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_state != <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>) {</div>
<div class="line"><span class="lineno"> 1739</span>        m_state = <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1session_1_1state.html#a12acca56cdb6c10f467dfb10fc763ca5afff87406dd6d9c5d93c993c3e225a8bc">session::state::closed</a>;</div>
<div class="line"><span class="lineno"> 1740</span>        tstat = closed;</div>
<div class="line"><span class="lineno"> 1741</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1742</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#a65ec21c75999c993c25c72569018f576">log::alevel::devel</a>,</div>
<div class="line"><span class="lineno"> 1743</span>            <span class="stringliteral">&quot;terminate called on connection that was already terminated&quot;</span>);</div>
<div class="line"><span class="lineno"> 1744</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1745</span>    }</div>
<div class="line"><span class="lineno"> 1746</span> </div>
<div class="line"><span class="lineno"> 1747</span>    <span class="comment">// TODO: choose between shutdown and close based on error code sent</span></div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>    transport_con_type::async_shutdown(</div>
<div class="line"><span class="lineno"> 1750</span>        lib::bind(</div>
<div class="line"><span class="lineno"> 1751</span>            &amp;<a class="code hl_function" href="#a5012a184129c08ea3f6cfa377e1770c1">type::handle_terminate</a>,</div>
<div class="line"><span class="lineno"> 1752</span>            <a class="code hl_function" href="#a01a5af7dc2f35ff8f15da8c2cf3a3b02">type::get_shared</a>(),</div>
<div class="line"><span class="lineno"> 1753</span>            tstat,</div>
<div class="line"><span class="lineno"> 1754</span>            lib::placeholders::_1</div>
<div class="line"><span class="lineno"> 1755</span>        )</div>
<div class="line"><span class="lineno"> 1756</span>    );</div>
<div class="line"><span class="lineno"> 1757</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a5012a184129c08ea3f6cfa377e1770c1"><div class="ttname"><a href="#a5012a184129c08ea3f6cfa377e1770c1">websocketpp::connection::handle_terminate</a></div><div class="ttdeci">void handle_terminate(terminate_status tstat, lib::error_code const &amp;ec)</div><div class="ttdef"><b>Definition</b> <a href="connection__impl_8hpp_source.html#l01760">connection_impl.hpp:1760</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1session_1_1http__state_html_a40c0c92e8a4a3dff1ecd017d26f0bc4aa265eaa7a81d94731c9f4e048df62f104"><div class="ttname"><a href="namespacewebsocketpp_1_1session_1_1http__state.html#a40c0c92e8a4a3dff1ecd017d26f0bc4aa265eaa7a81d94731c9f4e048df62f104">websocketpp::session::http_state::closed</a></div><div class="ttdeci">@ closed</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00228">connection.hpp:227</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d26a29e90d4847f3882c280112c6b60" name="a8d26a29e90d4847f3882c280112c6b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d26a29e90d4847f3882c280112c6b60">&#9670;&#160;</a></span>write_frame()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename <a class="el" href="classconfig.html">config</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classwebsocketpp_1_1connection.html">websocketpp::connection</a>&lt; <a class="el" href="classconfig.html">config</a> &gt;::write_frame </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo</a></b></dt><dd>unit tests</dd></dl>
<p>This method locks the m_write_lock mutex </p>

<p class="definition">Definition at line <a class="el" href="connection__impl_8hpp_source.html#l01802">1802</a> of file <a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1802</span>                                     {</div>
<div class="line"><span class="lineno"> 1803</span>    <span class="comment">//m_alog.write(log::alevel::devel,&quot;connection write_frame&quot;);</span></div>
<div class="line"><span class="lineno"> 1804</span> </div>
<div class="line"><span class="lineno"> 1805</span>    {</div>
<div class="line"><span class="lineno"> 1806</span>        <a class="code hl_typedef" href="#a98eee129ad1f7e30c059c1073d516495">scoped_lock_type</a> <a class="code hl_function" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d">lock</a>(m_write_lock);</div>
<div class="line"><span class="lineno"> 1807</span> </div>
<div class="line"><span class="lineno"> 1808</span>        <span class="comment">// Check the write flag. If true, there is an outstanding transport</span></div>
<div class="line"><span class="lineno"> 1809</span>        <span class="comment">// write already. In this case we just return. The write handler will</span></div>
<div class="line"><span class="lineno"> 1810</span>        <span class="comment">// start a new write if the write queue isn&#39;t empty. If false, we set</span></div>
<div class="line"><span class="lineno"> 1811</span>        <span class="comment">// the write flag and proceed to initiate a transport write.</span></div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">if</span> (m_write_flag) {</div>
<div class="line"><span class="lineno"> 1813</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1814</span>        }</div>
<div class="line"><span class="lineno"> 1815</span> </div>
<div class="line"><span class="lineno"> 1816</span>        <span class="comment">// pull off all the messages that are ready to write.</span></div>
<div class="line"><span class="lineno"> 1817</span>        <span class="comment">// stop if we get a message marked terminal</span></div>
<div class="line"><span class="lineno"> 1818</span>        <a class="code hl_typedef" href="debug__client_8cpp.html#a08398c4d31a4dc3e42d1b9a9ef64c6ad">message_ptr</a> next_message = write_pop();</div>
<div class="line"><span class="lineno"> 1819</span>        <span class="keywordflow">while</span> (next_message) {</div>
<div class="line"><span class="lineno"> 1820</span>            m_current_msgs.push_back(next_message);</div>
<div class="line"><span class="lineno"> 1821</span>            <span class="keywordflow">if</span> (!next_message-&gt;get_terminal()) {</div>
<div class="line"><span class="lineno"> 1822</span>                next_message = write_pop();</div>
<div class="line"><span class="lineno"> 1823</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1824</span>                next_message = <a class="code hl_typedef" href="#a470a4dfe286833dc14e0906eb6e858a5">message_ptr</a>();</div>
<div class="line"><span class="lineno"> 1825</span>            }</div>
<div class="line"><span class="lineno"> 1826</span>        }</div>
<div class="line"><span class="lineno"> 1827</span>        </div>
<div class="line"><span class="lineno"> 1828</span>        <span class="keywordflow">if</span> (m_current_msgs.empty()) {</div>
<div class="line"><span class="lineno"> 1829</span>            <span class="comment">// there was nothing to send</span></div>
<div class="line"><span class="lineno"> 1830</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1831</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1832</span>            <span class="comment">// At this point we own the next messages to be sent and are</span></div>
<div class="line"><span class="lineno"> 1833</span>            <span class="comment">// responsible for holding the write flag until they are </span></div>
<div class="line"><span class="lineno"> 1834</span>            <span class="comment">// successfully sent or there is some error</span></div>
<div class="line"><span class="lineno"> 1835</span>            m_write_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1836</span>        }</div>
<div class="line"><span class="lineno"> 1837</span>    }</div>
<div class="line"><span class="lineno"> 1838</span> </div>
<div class="line"><span class="lineno"> 1839</span>    <span class="keyword">typename</span> std::vector&lt;message_ptr&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1840</span>    <span class="keywordflow">for</span> (it = m_current_msgs.begin(); it != m_current_msgs.end(); ++it) {</div>
<div class="line"><span class="lineno"> 1841</span>        std::string <span class="keyword">const</span> &amp; header = (*it)-&gt;get_header();</div>
<div class="line"><span class="lineno"> 1842</span>        std::string <span class="keyword">const</span> &amp; payload = (*it)-&gt;get_payload();</div>
<div class="line"><span class="lineno"> 1843</span> </div>
<div class="line"><span class="lineno"> 1844</span>        m_send_buffer.push_back(transport::buffer(header.c_str(),header.size()));</div>
<div class="line"><span class="lineno"> 1845</span>        m_send_buffer.push_back(transport::buffer(payload.c_str(),payload.size()));   </div>
<div class="line"><span class="lineno"> 1846</span>    }</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span>    <span class="comment">// Print detailed send stats if those log levels are enabled</span></div>
<div class="line"><span class="lineno"> 1849</span>    <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#ac25fc7cb5fc229abb6fc893f16ffb678">log::alevel::frame_header</a>)) {</div>
<div class="line"><span class="lineno"> 1850</span>    <span class="keywordflow">if</span> (m_alog.dynamic_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#ac25fc7cb5fc229abb6fc893f16ffb678">log::alevel::frame_header</a>)) {</div>
<div class="line"><span class="lineno"> 1851</span>        std::stringstream <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">general</a>,header,payload;</div>
<div class="line"><span class="lineno"> 1852</span>        </div>
<div class="line"><span class="lineno"> 1853</span>        <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">general</a> &lt;&lt; <span class="stringliteral">&quot;Dispatching write containing &quot;</span> &lt;&lt; m_current_msgs.size()</div>
<div class="line"><span class="lineno"> 1854</span>                &lt;&lt;<span class="stringliteral">&quot; message(s) containing &quot;</span>;</div>
<div class="line"><span class="lineno"> 1855</span>        header &lt;&lt; <span class="stringliteral">&quot;Header Bytes: \n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1856</span>        payload &lt;&lt; <span class="stringliteral">&quot;Payload Bytes: \n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1857</span>        </div>
<div class="line"><span class="lineno"> 1858</span>        <span class="keywordtype">size_t</span> hbytes = 0;</div>
<div class="line"><span class="lineno"> 1859</span>        <span class="keywordtype">size_t</span> pbytes = 0;</div>
<div class="line"><span class="lineno"> 1860</span>        </div>
<div class="line"><span class="lineno"> 1861</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; m_current_msgs.size(); i++) {</div>
<div class="line"><span class="lineno"> 1862</span>            hbytes += m_current_msgs[i]-&gt;get_header().size();</div>
<div class="line"><span class="lineno"> 1863</span>            pbytes += m_current_msgs[i]-&gt;get_payload().size();</div>
<div class="line"><span class="lineno"> 1864</span> </div>
<div class="line"><span class="lineno"> 1865</span>            </div>
<div class="line"><span class="lineno"> 1866</span>            header &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;] (&quot;</span> </div>
<div class="line"><span class="lineno"> 1867</span>                   &lt;&lt; m_current_msgs[i]-&gt;get_header().size() &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> </div>
<div class="line"><span class="lineno"> 1868</span>                   &lt;&lt; <a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2">utility::to_hex</a>(m_current_msgs[i]-&gt;get_header()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1869</span> </div>
<div class="line"><span class="lineno"> 1870</span>            <span class="keywordflow">if</span> (m_alog.static_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#aa38cfdf7a82f33cac319438462707e90">log::alevel::frame_payload</a>)) {</div>
<div class="line"><span class="lineno"> 1871</span>            <span class="keywordflow">if</span> (m_alog.dynamic_test(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#aa38cfdf7a82f33cac319438462707e90">log::alevel::frame_payload</a>)) {</div>
<div class="line"><span class="lineno"> 1872</span>                payload &lt;&lt; <span class="stringliteral">&quot;[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;] (&quot;</span> </div>
<div class="line"><span class="lineno"> 1873</span>                        &lt;&lt; m_current_msgs[i]-&gt;get_payload().size() &lt;&lt; <span class="stringliteral">&quot;) [&quot;</span>&lt;&lt;m_current_msgs[i]-&gt;get_opcode()&lt;&lt;<span class="stringliteral">&quot;] &quot;</span></div>
<div class="line"><span class="lineno"> 1874</span>                        &lt;&lt; (m_current_msgs[i]-&gt;get_opcode() == <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727">frame::opcode::text</a> ? </div>
<div class="line"><span class="lineno"> 1875</span>                                m_current_msgs[i]-&gt;get_payload() : </div>
<div class="line"><span class="lineno"> 1876</span>                                <a class="code hl_function" href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2">utility::to_hex</a>(m_current_msgs[i]-&gt;get_payload())</div>
<div class="line"><span class="lineno"> 1877</span>                           ) </div>
<div class="line"><span class="lineno"> 1878</span>                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1879</span>            }</div>
<div class="line"><span class="lineno"> 1880</span>            }  </div>
<div class="line"><span class="lineno"> 1881</span>        }</div>
<div class="line"><span class="lineno"> 1882</span>        </div>
<div class="line"><span class="lineno"> 1883</span>        <a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">general</a> &lt;&lt; hbytes &lt;&lt; <span class="stringliteral">&quot; header bytes and &quot;</span> &lt;&lt; pbytes &lt;&lt; <span class="stringliteral">&quot; payload bytes&quot;</span>;</div>
<div class="line"><span class="lineno"> 1884</span>        </div>
<div class="line"><span class="lineno"> 1885</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#ac25fc7cb5fc229abb6fc893f16ffb678">log::alevel::frame_header</a>,<a class="code hl_enumvalue" href="namespacewebsocketpp_1_1error.html#a0558d884e44e79146ad4947aea63f68da0cd3808919f43e5fbeee42fbcb808d66">general</a>.str());</div>
<div class="line"><span class="lineno"> 1886</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#ac25fc7cb5fc229abb6fc893f16ffb678">log::alevel::frame_header</a>,header.str());</div>
<div class="line"><span class="lineno"> 1887</span>        m_alog.write(<a class="code hl_variable" href="structwebsocketpp_1_1log_1_1alevel.html#aa38cfdf7a82f33cac319438462707e90">log::alevel::frame_payload</a>,payload.str());</div>
<div class="line"><span class="lineno"> 1888</span>    }</div>
<div class="line"><span class="lineno"> 1889</span>    }</div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>    transport_con_type::async_write(</div>
<div class="line"><span class="lineno"> 1892</span>        m_send_buffer,</div>
<div class="line"><span class="lineno"> 1893</span>        m_write_frame_handler</div>
<div class="line"><span class="lineno"> 1894</span>    );</div>
<div class="line"><span class="lineno"> 1895</span>}</div>
<div class="ttc" id="aclasswebsocketpp_1_1connection_html_a470a4dfe286833dc14e0906eb6e858a5"><div class="ttname"><a href="#a470a4dfe286833dc14e0906eb6e858a5">websocketpp::connection::message_ptr</a></div><div class="ttdeci">message_type::ptr message_ptr</div><div class="ttdef"><b>Definition</b> <a href="connection_8hpp_source.html#l00269">connection.hpp:269</a></div></div>
<div class="ttc" id="anamespacewebsocketpp_1_1frame_1_1opcode_html_ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727"><div class="ttname"><a href="namespacewebsocketpp_1_1frame_1_1opcode.html#ae68711643096dfc4af6d66ade3f9fd5ea6b65f28626b19b2eef447744c564e727">websocketpp::frame::opcode::text</a></div><div class="ttdeci">@ text</div><div class="ttdef"><b>Definition</b> <a href="frame_8hpp_source.html#l00079">frame.hpp:79</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1alevel_html_aa38cfdf7a82f33cac319438462707e90"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1alevel.html#aa38cfdf7a82f33cac319438462707e90">websocketpp::log::alevel::frame_payload</a></div><div class="ttdeci">static level const frame_payload</div><div class="ttdoc">One line per frame, includes the full message payload (warning: chatty)</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00129">levels.hpp:129</a></div></div>
<div class="ttc" id="astructwebsocketpp_1_1log_1_1alevel_html_ac25fc7cb5fc229abb6fc893f16ffb678"><div class="ttname"><a href="structwebsocketpp_1_1log_1_1alevel.html#ac25fc7cb5fc229abb6fc893f16ffb678">websocketpp::log::alevel::frame_header</a></div><div class="ttdeci">static level const frame_header</div><div class="ttdoc">One line per frame, includes the full frame header.</div><div class="ttdef"><b>Definition</b> <a href="levels_8hpp_source.html#l00127">levels.hpp:127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classwebsocketpp_1_1connection_a8d26a29e90d4847f3882c280112c6b60_cgraph.png" border="0" usemap="#aclasswebsocketpp_1_1connection_a8d26a29e90d4847f3882c280112c6b60_cgraph" alt=""/></div>
<map name="aclasswebsocketpp_1_1connection_a8d26a29e90d4847f3882c280112c6b60_cgraph" id="aclasswebsocketpp_1_1connection_a8d26a29e90d4847f3882c280112c6b60_cgraph">
<area shape="rect" title="Checks if there are frames in the send queue and if there are sends one." alt="" coords="5,27,175,68"/>
<area shape="rect" href="xbyak__mnemonic_8h.html#aa81aed607133209dade63a226818224d" title=" " alt="" coords="269,5,314,31"/>
<area shape="poly" title=" " alt="" coords="175,33,253,21,254,26,175,38"/>
<area shape="rect" href="namespacewebsocketpp_1_1utility.html#a26e5a26395d95d2f6bf3a9edb8d06dd2" title="Convert std::string to ascii printed string of hex digits." alt="" coords="223,55,360,96"/>
<area shape="poly" title=" " alt="" coords="175,57,207,61,207,66,175,62"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/fc/vendor/websocketpp/websocketpp/<a class="el" href="connection_8hpp_source.html">connection.hpp</a></li>
<li>libraries/fc/vendor/websocketpp/websocketpp/impl/<a class="el" href="connection__impl_8hpp_source.html">connection_impl.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewebsocketpp.html">websocketpp</a></li><li class="navelem"><a class="el" href="classwebsocketpp_1_1connection.html">connection</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
