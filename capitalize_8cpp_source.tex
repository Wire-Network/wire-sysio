\doxysection{capitalize.\+cpp}
\hypertarget{capitalize_8cpp_source}{}\label{capitalize_8cpp_source}\index{libraries/fc/include/fc/crypto/webauthn\_json/example/capitalize/capitalize.cpp@{libraries/fc/include/fc/crypto/webauthn\_json/example/capitalize/capitalize.cpp}}
\mbox{\hyperlink{capitalize_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00001}00001\ \textcolor{comment}{//\ JSON\ condenser\ example}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00003}00003\ \textcolor{comment}{//\ This\ example\ parses\ JSON\ from\ stdin\ with\ validation,\ }}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00004}00004\ \textcolor{comment}{//\ and\ re-\/output\ the\ JSON\ content\ to\ stdout\ with\ all\ string\ capitalized,\ and\ without\ whitespace.}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{reader_8h}{rapidjson/reader.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{writer_8h}{rapidjson/writer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{filereadstream_8h}{rapidjson/filereadstream.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{filewritestream_8h}{rapidjson/filewritestream.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{en_8h}{rapidjson/error/en.h}}"{}}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <cctype>}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00014}00014\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespacerapidjson}{rapidjson}};}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00016}00016\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OutputHandler>}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00017}\mbox{\hyperlink{struct_capitalize_filter}{00017}}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_capitalize_filter}{CapitalizeFilter}}\ \{}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00018}\mbox{\hyperlink{struct_capitalize_filter_afe978f33a2f30a84a9e69cc91fe2da6d}{00018}}\ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter_afe978f33a2f30a84a9e69cc91fe2da6d}{CapitalizeFilter}}(OutputHandler\&\ out)\ :\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}(out),\ \mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{buffer\_}}()\ \{\}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00020}\mbox{\hyperlink{struct_capitalize_filter_a8638839428a447d47711a4b367dc13a4}{00020}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a8638839428a447d47711a4b367dc13a4}{Null}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Null();\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00021}\mbox{\hyperlink{struct_capitalize_filter_a957038be10025563a35ad32ab9d78418}{00021}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a957038be10025563a35ad32ab9d78418}{Bool}}(\textcolor{keywordtype}{bool}\ b)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Bool(b);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00022}\mbox{\hyperlink{struct_capitalize_filter_a5eec489885ed7f982ea66caf8d557210}{00022}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a5eec489885ed7f982ea66caf8d557210}{Int}}(\textcolor{keywordtype}{int}\ i)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Int(i);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00023}\mbox{\hyperlink{struct_capitalize_filter_a0e1d475eec0129d65fd7b2c06878e445}{00023}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a0e1d475eec0129d65fd7b2c06878e445}{Uint}}(\textcolor{keywordtype}{unsigned}\ u)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Uint(u);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00024}\mbox{\hyperlink{struct_capitalize_filter_a5ab3ec8eba2a56f595bf10e2f63c0446}{00024}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a5ab3ec8eba2a56f595bf10e2f63c0446}{Int64}}(\mbox{\hyperlink{stdint_8h_a414156feea104f8f75b4ed9e3121b2f6}{int64\_t}}\ i)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Int64(i);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00025}\mbox{\hyperlink{struct_capitalize_filter_a603a8c709c0009d7b21dbb20a570bac7}{00025}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a603a8c709c0009d7b21dbb20a570bac7}{Uint64}}(\mbox{\hyperlink{stdint_8h_aec6fcb673ff035718c238c8c9d544c47}{uint64\_t}}\ u)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Uint64(u);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00026}\mbox{\hyperlink{struct_capitalize_filter_a1c21df7948456b3ae679db9d1a190249}{00026}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a1c21df7948456b3ae679db9d1a190249}{Double}}(\textcolor{keywordtype}{double}\ d)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.Double(\mbox{\hyperlink{yubihsm__pkcs11_8c_a107648633008a7f2d872b4b3d98c2f96}{d}});\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00027}\mbox{\hyperlink{struct_capitalize_filter_a471c199da18ca411550e703a6256abd8}{00027}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a471c199da18ca411550e703a6256abd8}{RawNumber}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ length,\ \textcolor{keywordtype}{bool}\ copy)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.RawNumber(str,\ length,\ copy);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00028}\mbox{\hyperlink{struct_capitalize_filter_a9888a3eadb5297cc06b76df470767b48}{00028}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a9888a3eadb5297cc06b76df470767b48}{String}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ length,\ \textcolor{keywordtype}{bool})\ \{}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{buffer\_}}.clear();}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ i\ =\ 0;\ i\ <\ length;\ i++)}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{buffer\_}}.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(std::toupper(str[i])));}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.String(\&\mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{buffer\_}}.front(),\ length,\ \textcolor{keyword}{true});\ \textcolor{comment}{//\ true\ =\ output\ handler\ need\ to\ copy\ the\ string}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00033}00033\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00034}\mbox{\hyperlink{struct_capitalize_filter_ab21677e0794b7414ff0fec27f6599095}{00034}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_ab21677e0794b7414ff0fec27f6599095}{StartObject}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.StartObject();\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00035}\mbox{\hyperlink{struct_capitalize_filter_abe3c83f43cbb9ff7ff0e5fdabee79b21}{00035}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_abe3c83f43cbb9ff7ff0e5fdabee79b21}{Key}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str,\ \mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ length,\ \textcolor{keywordtype}{bool}\ copy)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a9888a3eadb5297cc06b76df470767b48}{String}}(str,\ length,\ copy);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00036}\mbox{\hyperlink{struct_capitalize_filter_aea1d83e92b986264e04314ea2259207d}{00036}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_aea1d83e92b986264e04314ea2259207d}{EndObject}}(\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ memberCount)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.EndObject(memberCount);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00037}\mbox{\hyperlink{struct_capitalize_filter_ac6c50b5828bb848fbc98b92c2f432e9f}{00037}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_ac6c50b5828bb848fbc98b92c2f432e9f}{StartArray}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.StartArray();\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00038}\mbox{\hyperlink{struct_capitalize_filter_a3d7092e115d0b3f0a277da8487eff4d4}{00038}}\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_capitalize_filter_a3d7092e115d0b3f0a277da8487eff4d4}{EndArray}}(\mbox{\hyperlink{rapidjson_8h_a5ed6e6e67250fadbd041127e6386dcb5}{SizeType}}\ elementCount)\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}}.EndArray(elementCount);\ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00040}\mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{00040}}\ \ \ \ \ OutputHandler\&\ \mbox{\hyperlink{struct_capitalize_filter_a76bff3d685698cd6ab2e4cbb84bbf011}{out\_}};}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00041}\mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{00041}}\ \ \ \ \ std::vector<char>\ \mbox{\hyperlink{struct_capitalize_filter_a6e05d2941c11423da2dbb3ab8eb2367d}{buffer\_}};}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00043}00043\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00044}00044\ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter_afe978f33a2f30a84a9e69cc91fe2da6d}{CapitalizeFilter}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_capitalize_filter}{CapitalizeFilter}}\&);}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00045}00045\ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter}{CapitalizeFilter}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_capitalize_filter}{CapitalizeFilter}}\&);}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00046}00046\ \};}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00048}\mbox{\hyperlink{capitalize_8cpp_a81ce304348a420752ee080480d2b3095}{00048}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{platform__timer__posix__test_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}(\textcolor{keywordtype}{int},\ \textcolor{keywordtype}{char}*[])\ \{}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00049}00049\ \ \ \ \ \textcolor{comment}{//\ Prepare\ JSON\ reader\ and\ input\ stream.}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00050}00050\ \ \ \ \ \mbox{\hyperlink{class_generic_reader}{Reader}}\ reader;}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00051}00051\ \ \ \ \ \textcolor{keywordtype}{char}\ readBuffer[65536];}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00052}00052\ \ \ \ \ \mbox{\hyperlink{class_file_read_stream}{FileReadStream}}\ is(stdin,\ readBuffer,\ \textcolor{keyword}{sizeof}(readBuffer));}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00054}00054\ \ \ \ \ \textcolor{comment}{//\ Prepare\ JSON\ writer\ and\ output\ stream.}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00055}00055\ \ \ \ \ \textcolor{keywordtype}{char}\ writeBuffer[65536];}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00056}00056\ \ \ \ \ \mbox{\hyperlink{class_file_write_stream}{FileWriteStream}}\ \mbox{\hyperlink{environment_8hpp_a3951483d0b31c29ca95336206cd35238}{os}}(stdout,\ writeBuffer,\ \textcolor{keyword}{sizeof}(writeBuffer));}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00057}00057\ \ \ \ \ \mbox{\hyperlink{class_writer}{Writer<FileWriteStream>}}\ writer(os);}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00059}00059\ \ \ \ \ \textcolor{comment}{//\ JSON\ reader\ parse\ from\ the\ input\ stream\ and\ let\ writer\ generate\ the\ output.}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{struct_capitalize_filter}{CapitalizeFilter<Writer<FileWriteStream>}}\ >\ filter(writer);}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (!reader.\mbox{\hyperlink{class_generic_reader_a0c450620d14ff1824e58bb7bd9b42099}{Parse}}(is,\ filter))\ \{}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00062}00062\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}\(\backslash\)nError(\%u):\ \%s\(\backslash\)n"{}},\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\textcolor{keyword}{>}(reader.\mbox{\hyperlink{class_generic_reader_ae9008523ccd06d839a57335835cb4091}{GetErrorOffset}}()),\ \mbox{\hyperlink{group___r_a_p_i_d_j_s_o_n___e_r_r_o_r_s_ga28835eb93d2c3c07bbea13515eb31415}{GetParseError\_En}}(reader.\mbox{\hyperlink{class_generic_reader_a937bf90919f50e1c370b312cee5833e8}{GetParseErrorCode}}()));}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00064}00064\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00065}00065\ }
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{capitalize_8cpp_source_l00067}00067\ \}}

\end{DoxyCode}
