\doxysection{wasm\+\_\+sysio\+\_\+validation.\+cpp}
\hypertarget{wasm__sysio__validation_8cpp_source}{}\label{wasm__sysio__validation_8cpp_source}\index{libraries/chain/wasm\_sysio\_validation.cpp@{libraries/chain/wasm\_sysio\_validation.cpp}}
\mbox{\hyperlink{wasm__sysio__validation_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{wasm__sysio__constraints_8hpp}{sysio/chain/wasm\_sysio\_constraints.hpp}}>}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{wasm__sysio__validation_8hpp}{sysio/chain/wasm\_sysio\_validation.hpp}}>}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{wasm__sysio__binary__ops_8hpp}{sysio/chain/wasm\_sysio\_binary\_ops.hpp}}>}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{exception_8hpp}{fc/exception/exception.hpp}}>}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{chain_2include_2sysio_2chain_2exceptions_8hpp}{sysio/chain/exceptions.hpp}}>}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_module_8h}{IR/Module.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_operators_8h}{IR/Operators.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_w_a_s_m_8h}{WASM/WASM.h}}"{}}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00010}00010\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesysio}{sysio}}\ \{\ \textcolor{keyword}{namespace\ }chain\ \{\ \textcolor{keyword}{namespace\ }wasm\_validations\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00011}00011\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_i_r}{IR}};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00013}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1noop__validation__visitor_a09051d84f8b32a7c97301bc81e8f4923}{00013}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1noop__validation__visitor_a09051d84f8b32a7c97301bc81e8f4923}{noop\_validation\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00014}00014\ \ \ \ \textcolor{comment}{//\ just\ pass}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00015}00015\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00017}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1memories__validation__visitor_ab3a9ac815f8ab8283274f7c3403eca6f}{00017}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1memories__validation__visitor_ab3a9ac815f8ab8283274f7c3403eca6f}{memories\_validation\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00018}00018\ \ \ \ \textcolor{keywordflow}{if}\ (\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a27e85034ab34b4db4321603722d3917c}{memories}}.defs.size()\ \&\&\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a27e85034ab34b4db4321603722d3917c}{memories}}.defs[0].type.size.min\ >\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a39bdedb43d5976cf1ddad3fab6b3044c}{wasm\_constraints::maximum\_linear\_memory}}/(64*1024)\ )}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00019}00019\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ initial\ memory\ size\ must\ be\ less\ than\ or\ equal\ to\ \$\{k\}KiB"{}},\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}k"{}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a39bdedb43d5976cf1ddad3fab6b3044c}{wasm\_constraints::maximum\_linear\_memory}}/1024));}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00021}00021\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00023}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1data__segments__validation__visitor_a77335c61bea1ba5f6362a9af4b98efcc}{00023}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1data__segments__validation__visitor_a77335c61bea1ba5f6362a9af4b98efcc}{data\_segments\_validation\_visitor::validate}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00024}00024\ \ \ \ \textcolor{keywordflow}{for}\ (\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_data_segment}{DataSegment}}\&\ ds\ :\ m.\mbox{\hyperlink{struct_i_r_1_1_module_af7d4ea2e86159b15bbe1a3c5ea57c69e}{dataSegments}}\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00025}00025\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ ds.baseOffset.type\ !=\ InitializerExpression::Type::i32\_const\ )}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(\ wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ has\ unexpected\ memory\ base\ offset\ type"{}}\ );}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00028}00028\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{stdint_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}}\textcolor{keyword}{>}(\ ds.baseOffset.i32\ )\ +\ ds.data.size()\ >\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_ad2f8a06fd9d6bbb29340f7b72d4190d7}{wasm\_constraints::maximum\_linear\_memory\_init}}\ )}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ data\ segments\ must\ lie\ in\ first\ \$\{k\}KiB"{}},\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}k"{}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_ad2f8a06fd9d6bbb29340f7b72d4190d7}{wasm\_constraints::maximum\_linear\_memory\_init}}/1024));}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00031}00031\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00032}00032\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00034}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1tables__validation__visitor_a7e31685172851e7cb3a219408f078cce}{00034}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1tables__validation__visitor_a7e31685172851e7cb3a219408f078cce}{tables\_validation\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00035}00035\ \ \ \ \textcolor{keywordflow}{if}\ (\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a3093728dba0995da777601adf56082d1}{tables}}.defs.size()\ \&\&\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a3093728dba0995da777601adf56082d1}{tables}}.defs[0].type.size.min\ >\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a5b3cafcc3f7db0bb1161d9fd9528841a}{wasm\_constraints::maximum\_table\_elements}}\ )}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00036}00036\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ table\ limited\ to\ \$\{t\}\ elements"{}},\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}t"{}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a5b3cafcc3f7db0bb1161d9fd9528841a}{wasm\_constraints::maximum\_table\_elements}}));}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00038}00038\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00040}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1globals__validation__visitor_ad94e32f9434a0e3e9240de675266407e}{00040}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1globals__validation__visitor_ad94e32f9434a0e3e9240de675266407e}{globals\_validation\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00041}00041\ \ \ \ \textcolor{keywordtype}{unsigned}\ mutable\_globals\_total\_size\ =\ 0;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00042}00042\ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_global_def}{GlobalDef}}\&\ global\_def\ :\ m.\mbox{\hyperlink{struct_i_r_1_1_module_ab1340b21e56875a7f1163d1afcf4d7fd}{globals}}.defs)\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00043}00043\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!global\_def.\mbox{\hyperlink{struct_i_r_1_1_global_def_a28256cfc197746f5e4cbb737882f95cc}{type}}.\mbox{\hyperlink{struct_i_r_1_1_global_type_a739a76fa5520dc533a173224e8082d92}{isMutable}})}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00045}00045\ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(global\_def.\mbox{\hyperlink{struct_i_r_1_1_global_def_a28256cfc197746f5e4cbb737882f95cc}{type}}.\mbox{\hyperlink{struct_i_r_1_1_global_type_a43429332d5a181009b292328104c8604}{valueType}})\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::any:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::num:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ has\ unexpected\ global\ definition\ value\ type"{}});}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::i64:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::f64:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ mutable\_globals\_total\_size\ +=\ 4;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::i32:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ ValueType::f32:}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ mutable\_globals\_total\_size\ +=\ 4;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00055}00055\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00056}00056\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00057}00057\ \ \ \ \textcolor{keywordflow}{if}(mutable\_globals\_total\_size\ >\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a89196fe638ca348da034d144ac753c6a}{wasm\_constraints::maximum\_mutable\_globals}})}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00058}00058\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ has\ more\ than\ \$\{k\}\ bytes\ of\ mutable\ globals"{}},}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}k"{}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_a89196fe638ca348da034d144ac753c6a}{wasm\_constraints::maximum\_mutable\_globals}}));}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00060}00060\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00062}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1maximum__function__stack__visitor_a3e0beda20b86e3cb397089d1cf5d0b70}{00062}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1maximum__function__stack__visitor_a3e0beda20b86e3cb397089d1cf5d0b70}{maximum\_function\_stack\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{IR::Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00063}00063\ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_function_def}{FunctionDef}}\&\ func\ :\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a439e1f32fa3fa9bf47f58ac309bfc50a}{functions}}.defs)\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00064}00064\ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ function\_stack\_usage\ =\ 0;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00065}00065\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_i_r_aa1afcba889279fa935b76ba278be7fd6}{ValueType}}\&\ local\ :\ func.nonParameterLocalTypes)}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \ function\_stack\_usage\ +=\ \mbox{\hyperlink{namespace_i_r_ad46dd77836957c118907d69d239826bb}{getTypeBitWidth}}(local)/8;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00067}00067\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_i_r_aa1afcba889279fa935b76ba278be7fd6}{ValueType}}\&\ \mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params}{params}}\ :\ m.\mbox{\hyperlink{struct_i_r_1_1_module_a682c9e762448410a20c98ea062a50308}{types}}[func.type.index]-\/>parameters)}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00068}00068\ \ \ \ \ \ \ \ \ \ function\_stack\_usage\ +=\ \mbox{\hyperlink{namespace_i_r_ad46dd77836957c118907d69d239826bb}{getTypeBitWidth}}(\mbox{\hyperlink{structsysio_1_1chain__apis_1_1account__query__db_1_1get__accounts__by__authorizers__params}{params}})/8;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00070}00070\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(function\_stack\_usage\ >\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_acd9b29a2807d996ee0e61249e1f5fde3}{wasm\_constraints::maximum\_func\_local\_bytes}})}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract\ function\ has\ more\ than\ \$\{k\}\ bytes\ of\ stack\ usage"{}},}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{stringliteral}{"{}k"{}},\ \mbox{\hyperlink{namespacesysio_1_1chain_1_1wasm__constraints_acd9b29a2807d996ee0e61249e1f5fde3}{wasm\_constraints::maximum\_func\_local\_bytes}}));}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00073}00073\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00074}00074\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00076}\mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1ensure__apply__exported__visitor_a4f95b1054ec6ea2230cb737ecb71e67e}{00076}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1ensure__apply__exported__visitor_a4f95b1054ec6ea2230cb737ecb71e67e}{ensure\_apply\_exported\_visitor::validate}}(\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_module}{IR::Module}}\&\ m\ )\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00077}00077\ \ \ \ \textcolor{keywordtype}{bool}\ found\_it\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00079}00079\ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct_i_r_1_1_export}{Export}}\&\ exprt\ :\ m.\mbox{\hyperlink{struct_i_r_1_1_module_afcc776ae7fc46f6202700f3540b500d9}{exports}})\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00080}00080\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(exprt.\mbox{\hyperlink{struct_i_r_1_1_export_ab0ed62d449bb60d14ccb2da4fb7659ca}{kind}}\ !=\ ObjectKind::function)}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00082}00082\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(exprt.\mbox{\hyperlink{struct_i_r_1_1_export_acf1a148f2b0a0f855b772f014137c359}{name}}\ !=\ \textcolor{stringliteral}{"{}apply"{}})}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00084}00084\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m.\mbox{\hyperlink{struct_i_r_1_1_module_a682c9e762448410a20c98ea062a50308}{types}}[m.\mbox{\hyperlink{struct_i_r_1_1_module_a439e1f32fa3fa9bf47f58ac309bfc50a}{functions}}.getType(exprt.\mbox{\hyperlink{struct_i_r_1_1_export_ae452b6cb1b65bd904f3b2b9949f246ea}{index}}).index]\ ==\ \mbox{\hyperlink{struct_i_r_1_1_function_type_a97cbdf384d97c3a5203a1310c9af0822}{FunctionType::get}}(ResultType::none,\ \{ValueType::i64,\ ValueType::i64,\ ValueType::i64\}))\ \{}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \ found\_it\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00087}00087\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00088}00088\ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00090}00090\ \ \ \ \textcolor{keywordflow}{if}(!found\_it)}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00091}00091\ \ \ \ \ \ \ \mbox{\hyperlink{exception_8hpp_a7590ddac4f181b661c3eeaf5feccc6ac}{FC\_THROW\_EXCEPTION}}(wasm\_execution\_error,\ \textcolor{stringliteral}{"{}Smart\ contract's\ apply\ function\ not\ exported;\ non-\/existent;\ or\ wrong\ type"{}});}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00092}00092\ \}}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00093}00093\ }
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00094}00094\ \mbox{\hyperlink{stdint_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t}}\ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1nested__validator_a41f8dca91446cf7a8e2b8b245aa6fa28}{nested\_validator::depth}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00095}00095\ \textcolor{keywordtype}{bool}\ \ \ \ \ \mbox{\hyperlink{structsysio_1_1chain_1_1wasm__validations_1_1nested__validator_a3caa5046706fa3999a912d5ddb126ba4}{nested\_validator::disabled}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{wasm__sysio__validation_8cpp_source_l00096}00096\ \}\}\}\ \textcolor{comment}{//\ namespace\ sysio\ chain\ validation}}

\end{DoxyCode}
