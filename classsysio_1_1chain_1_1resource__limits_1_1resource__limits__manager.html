<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wire Sysio: sysio::chain::resource_limits::resource_limits_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Wire Sysio<span id="projectnumber">&#160;Wire Sysion 1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sysio::chain::resource_limits::resource_limits_manager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="resource__limits_8hpp_source.html">resource_limits.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc604267f64ffe0552e2c4b66db623a5" id="r_afc604267f64ffe0552e2c4b66db623a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc604267f64ffe0552e2c4b66db623a5">resource_limits_manager</a> (<a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;db, std::function&lt; <a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a> *()&gt; get_deep_mind_logger)</td></tr>
<tr class="separator:afc604267f64ffe0552e2c4b66db623a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc5c0d662f97873d93dadbf8b6451978" id="r_acc5c0d662f97873d93dadbf8b6451978"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc5c0d662f97873d93dadbf8b6451978">add_indices</a> ()</td></tr>
<tr class="separator:acc5c0d662f97873d93dadbf8b6451978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9d0326965430166923c2241a3a6a45" id="r_a1b9d0326965430166923c2241a3a6a45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b9d0326965430166923c2241a3a6a45">initialize_database</a> ()</td></tr>
<tr class="separator:a1b9d0326965430166923c2241a3a6a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7160417d30f5ef3a91467fefebf65dc6" id="r_a7160417d30f5ef3a91467fefebf65dc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7160417d30f5ef3a91467fefebf65dc6">add_to_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;snapshot) const</td></tr>
<tr class="separator:a7160417d30f5ef3a91467fefebf65dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32baa74135a1423302de3a849dc8b40c" id="r_a32baa74135a1423302de3a849dc8b40c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32baa74135a1423302de3a849dc8b40c">read_from_snapshot</a> (const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;snapshot)</td></tr>
<tr class="separator:a32baa74135a1423302de3a849dc8b40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30cd4db6f08948e05aba424431ec0605" id="r_a30cd4db6f08948e05aba424431ec0605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30cd4db6f08948e05aba424431ec0605">initialize_account</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;account)</td></tr>
<tr class="separator:a30cd4db6f08948e05aba424431ec0605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4396d0acb70ebbd8054b13ff4c564e20" id="r_a4396d0acb70ebbd8054b13ff4c564e20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4396d0acb70ebbd8054b13ff4c564e20">set_block_parameters</a> (const <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html">elastic_limit_parameters</a> &amp;cpu_limit_parameters, const <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html">elastic_limit_parameters</a> &amp;net_limit_parameters)</td></tr>
<tr class="separator:a4396d0acb70ebbd8054b13ff4c564e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7345adbf341592a81c087c50655597" id="r_aaa7345adbf341592a81c087c50655597"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa7345adbf341592a81c087c50655597">update_account_usage</a> (const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;accounts, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ordinal)</td></tr>
<tr class="separator:aaa7345adbf341592a81c087c50655597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e413bd0a6e43b36deff7aacdd0bfd6" id="r_ae6e413bd0a6e43b36deff7aacdd0bfd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6e413bd0a6e43b36deff7aacdd0bfd6">add_transaction_usage</a> (const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;accounts, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> cpu_usage, <a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> net_usage, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ordinal)</td></tr>
<tr class="separator:ae6e413bd0a6e43b36deff7aacdd0bfd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fea1de6a3806590de0bda86e53c7995" id="r_a7fea1de6a3806590de0bda86e53c7995"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fea1de6a3806590de0bda86e53c7995">add_pending_ram_usage</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> account, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> ram_delta)</td></tr>
<tr class="separator:a7fea1de6a3806590de0bda86e53c7995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72734af83f353fae77fbf837776db10" id="r_af72734af83f353fae77fbf837776db10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af72734af83f353fae77fbf837776db10">verify_account_ram_usage</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> accunt) const</td></tr>
<tr class="separator:af72734af83f353fae77fbf837776db10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3455e73574b3df18ee52bfc075a3a208" id="r_a3455e73574b3df18ee52bfc075a3a208"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3455e73574b3df18ee52bfc075a3a208">set_account_limits</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;account, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> ram_bytes, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> net_weight, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> cpu_weight)</td></tr>
<tr class="memdesc:a3455e73574b3df18ee52bfc075a3a208"><td class="mdescLeft">&#160;</td><td class="mdescRight">set_account_limits returns true if new ram_bytes limit is more restrictive than the previously set one  <br /></td></tr>
<tr class="separator:a3455e73574b3df18ee52bfc075a3a208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140981c195e4e0c5788f0aa6383c2697" id="r_a140981c195e4e0c5788f0aa6383c2697"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a140981c195e4e0c5788f0aa6383c2697">get_account_limits</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;account, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;ram_bytes, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;net_weight, <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;cpu_weight) const</td></tr>
<tr class="separator:a140981c195e4e0c5788f0aa6383c2697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c71ab0bbfd401a4886d11f4756d5fc1" id="r_a0c71ab0bbfd401a4886d11f4756d5fc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c71ab0bbfd401a4886d11f4756d5fc1">is_unlimited_cpu</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;account) const</td></tr>
<tr class="separator:a0c71ab0bbfd401a4886d11f4756d5fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983919d376e5757bceee573e52b3c571" id="r_a983919d376e5757bceee573e52b3c571"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a983919d376e5757bceee573e52b3c571">process_account_limit_updates</a> ()</td></tr>
<tr class="separator:a983919d376e5757bceee573e52b3c571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebf5f04366d7120f58430d9ba4f8c7a" id="r_a5ebf5f04366d7120f58430d9ba4f8c7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ebf5f04366d7120f58430d9ba4f8c7a">process_block_usage</a> (<a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> block_num)</td></tr>
<tr class="separator:a5ebf5f04366d7120f58430d9ba4f8c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcebec58c85ac219bba44a3139a22d5" id="r_a1fcebec58c85ac219bba44a3139a22d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fcebec58c85ac219bba44a3139a22d5">get_total_cpu_weight</a> () const</td></tr>
<tr class="separator:a1fcebec58c85ac219bba44a3139a22d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c0bd8105ce922baaa87a06560bb1ad" id="r_af9c0bd8105ce922baaa87a06560bb1ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9c0bd8105ce922baaa87a06560bb1ad">get_total_net_weight</a> () const</td></tr>
<tr class="separator:af9c0bd8105ce922baaa87a06560bb1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a6138d48057c1992128575ec0d2c99" id="r_a11a6138d48057c1992128575ec0d2c99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11a6138d48057c1992128575ec0d2c99">get_virtual_block_cpu_limit</a> () const</td></tr>
<tr class="separator:a11a6138d48057c1992128575ec0d2c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1cdd5c700248d54dc20be704662534d" id="r_af1cdd5c700248d54dc20be704662534d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1cdd5c700248d54dc20be704662534d">get_virtual_block_net_limit</a> () const</td></tr>
<tr class="separator:af1cdd5c700248d54dc20be704662534d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c1ce742daefcf8e370e844ed49f955" id="r_a59c1ce742daefcf8e370e844ed49f955"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59c1ce742daefcf8e370e844ed49f955">get_block_cpu_limit</a> () const</td></tr>
<tr class="separator:a59c1ce742daefcf8e370e844ed49f955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7986ffd86acb7135b07d3b35d767fd" id="r_a2a7986ffd86acb7135b07d3b35d767fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a7986ffd86acb7135b07d3b35d767fd">get_block_net_limit</a> () const</td></tr>
<tr class="separator:a2a7986ffd86acb7135b07d3b35d767fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b17296f9507b5d046c5bf57568d8b2" id="r_a43b17296f9507b5d046c5bf57568d8b2"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43b17296f9507b5d046c5bf57568d8b2">get_account_cpu_limit</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;<a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> greylist_limit=config::maximum_elastic_resource_multiplier) const</td></tr>
<tr class="separator:a43b17296f9507b5d046c5bf57568d8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee64e0876365e3c6e2aeec83591a9ef" id="r_a6ee64e0876365e3c6e2aeec83591a9ef"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ee64e0876365e3c6e2aeec83591a9ef">get_account_net_limit</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;<a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> greylist_limit=config::maximum_elastic_resource_multiplier) const</td></tr>
<tr class="separator:a6ee64e0876365e3c6e2aeec83591a9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc85a639cfd3a5e0238142d3ed3c53f" id="r_a2dc85a639cfd3a5e0238142d3ed3c53f"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">account_resource_limit</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2dc85a639cfd3a5e0238142d3ed3c53f">get_account_cpu_limit_ex</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;<a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> greylist_limit=config::maximum_elastic_resource_multiplier) const</td></tr>
<tr class="separator:a2dc85a639cfd3a5e0238142d3ed3c53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa522b2321b49a3f55beba024129e000" id="r_afa522b2321b49a3f55beba024129e000"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">account_resource_limit</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa522b2321b49a3f55beba024129e000">get_account_net_limit_ex</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;<a class="el" href="structsysio_1_1chain_1_1name.html">name</a>, <a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> greylist_limit=config::maximum_elastic_resource_multiplier) const</td></tr>
<tr class="separator:afa522b2321b49a3f55beba024129e000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d1b3c435910424a1142b052a8774be" id="r_ae7d1b3c435910424a1142b052a8774be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7d1b3c435910424a1142b052a8774be">get_account_ram_usage</a> (const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;<a class="el" href="structsysio_1_1chain_1_1name.html">name</a>) const</td></tr>
<tr class="separator:ae7d1b3c435910424a1142b052a8774be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="resource__limits_8hpp_source.html#l00061">61</a> of file <a class="el" href="resource__limits_8hpp_source.html">resource_limits.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afc604267f64ffe0552e2c4b66db623a5" name="afc604267f64ffe0552e2c4b66db623a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc604267f64ffe0552e2c4b66db623a5">&#9670;&#160;</a></span>resource_limits_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sysio::chain::resource_limits::resource_limits_manager::resource_limits_manager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchainbase_1_1database.html">chainbase::database</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>db</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; <a class="el" href="classsysio_1_1chain_1_1deep__mind__handler.html">deep_mind_handler</a> *()&gt;</td>          <td class="paramname"><span class="paramname"><em>get_deep_mind_logger</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8hpp_source.html#l00064">64</a> of file <a class="el" href="resource__limits_8hpp_source.html">resource_limits.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>         :_db(db),_get_deep_mind_logger(get_deep_mind_logger)</div>
<div class="line"><span class="lineno">   66</span>         {</div>
<div class="line"><span class="lineno">   67</span>         }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acc5c0d662f97873d93dadbf8b6451978" name="acc5c0d662f97873d93dadbf8b6451978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5c0d662f97873d93dadbf8b6451978">&#9670;&#160;</a></span>add_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::add_indices </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00051">51</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>                                          {</div>
<div class="line"><span class="lineno">   52</span>   resource_index_set::add_indices(_db);</div>
<div class="line"><span class="lineno">   53</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_acc5c0d662f97873d93dadbf8b6451978_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_acc5c0d662f97873d93dadbf8b6451978_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_acc5c0d662f97873d93dadbf8b6451978_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_acc5c0d662f97873d93dadbf8b6451978_icgraph">
<area shape="rect" title=" " alt="" coords="206,5,361,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac7dedae4e6f8bcbd20e69d1e5551e378" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="a7fea1de6a3806590de0bda86e53c7995" name="a7fea1de6a3806590de0bda86e53c7995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fea1de6a3806590de0bda86e53c7995">&#9670;&#160;</a></span>add_pending_ram_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::add_pending_ram_usage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>ram_delta</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00206">206</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>                                                                                                   {</div>
<div class="line"><span class="lineno">  207</span>   <span class="keywordflow">if</span> (ram_delta == 0) {</div>
<div class="line"><span class="lineno">  208</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  209</span>   }</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage  = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object,by_owner&gt;( account );</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( ram_delta &lt;= 0 || UINT64_MAX - usage.ram_usage &gt;= (<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>)ram_delta, <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>,</div>
<div class="line"><span class="lineno">  214</span>              <span class="stringliteral">&quot;Ram usage delta would overflow UINT64_MAX&quot;</span>);</div>
<div class="line"><span class="lineno">  215</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(ram_delta &gt;= 0 || usage.ram_usage &gt;= (<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a>)(-ram_delta), <a class="code hl_variable" href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">transaction_exception</a>,</div>
<div class="line"><span class="lineno">  216</span>              <span class="stringliteral">&quot;Ram usage delta would underflow UINT64_MAX&quot;</span>);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( usage, [&amp;]( <span class="keyword">auto</span>&amp; u ) {</div>
<div class="line"><span class="lineno">  219</span>      u.ram_usage += ram_delta;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  222</span>         dm_logger-&gt;on_ram_event(account, u.ram_usage, ram_delta);</div>
<div class="line"><span class="lineno">  223</span>      }</div>
<div class="line"><span class="lineno">  224</span>   });</div>
<div class="line"><span class="lineno">  225</span>}</div>
<div class="ttc" id="achain_2include_2sysio_2chain_2exceptions_8hpp_html_a40c2826a6fba35c1ffbf912bdf559792"><div class="ttname"><a href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a></div><div class="ttdeci">#define SYS_ASSERT(expr, exc_type, FORMAT,...)</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00007">exceptions.hpp:7</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_a9ebc006075e8fc2e84357a0e068b58d4"><div class="ttname"><a href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">chainbase::database::modify</a></div><div class="ttdeci">void modify(const ObjectType &amp;obj, Modifier &amp;&amp;m)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00503">chainbase.hpp:503</a></div></div>
<div class="ttc" id="aclasschainbase_1_1database_html_afcfe00f81a526c1376d4f51197dd3a9a"><div class="ttname"><a href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">chainbase::database::get</a></div><div class="ttdeci">const ObjectType &amp; get(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00477">chainbase.hpp:477</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a5dfe17906469eaf079c180c1afb4ad94"><div class="ttname"><a href="namespacesysio_1_1chain.html#a5dfe17906469eaf079c180c1afb4ad94">sysio::chain::transaction_exception</a></div><div class="ttdeci">key Invalid authority Invalid transaction Invalid block ID Invalid packed transaction Invalid chain ID Invalid symbol Signature type is not a currently activated type Block can not be found Unlinkable block Block does not guarantee concurrent execution without conflicts Block exhausted allowed resources Block is from the future Block is not signed by expected producer Block includes an ill formed protocol feature activation extension Block includes an ill formed additional block signature extension transaction_exception</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2exceptions_8hpp_source.html#l00243">exceptions.hpp:243</a></div></div>
<div class="ttc" id="astdint_8h_html_aec6fcb673ff035718c238c8c9d544c47"><div class="ttname"><a href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></div><div class="ttdeci">unsigned __int64 uint64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00136">stdint.h:136</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,236,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="662,20,830,46"/>
<area shape="poly" title=" " alt="" coords="236,27,284,27,614,27,647,27,647,33,614,32,284,32,236,33"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="284,41,425,82"/>
<area shape="poly" title=" " alt="" coords="236,44,269,48,268,54,236,50"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="878,13,1019,54"/>
<area shape="poly" title=" " alt="" coords="830,39,862,39,862,45,830,45"/>
<area shape="poly" title=" " alt="" coords="877,27,845,27,845,22,877,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1067,42,1208,83"/>
<area shape="poly" title=" " alt="" coords="1020,41,1052,47,1052,52,1019,47"/>
<area shape="poly" title=" " alt="" coords="1067,67,1019,68,948,71,877,68,805,53,806,48,878,63,948,66,1019,63,1067,62"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="473,41,614,82"/>
<area shape="poly" title=" " alt="" coords="425,58,458,58,458,64,425,64"/>
<area shape="poly" title=" " alt="" coords="614,49,646,44,647,50,615,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7fea1de6a3806590de0bda86e53c7995_icgraph">
<area shape="rect" title=" " alt="" coords="979,77,1209,133"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a97599248411293cb485c399a25bd8988" title=" " alt="" coords="747,5,923,61"/>
<area shape="poly" title=" " alt="" coords="976,75,923,60,924,55,978,70"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="739,85,931,126"/>
<area shape="poly" title=" " alt="" coords="963,108,931,108,931,102,963,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a1dac6da3cb5899f6bcd62b9012c75e43" title=" " alt="" coords="750,149,920,205"/>
<area shape="poly" title=" " alt="" coords="977,140,921,156,919,151,976,135"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="495,85,662,126"/>
<area shape="poly" title=" " alt="" coords="724,108,663,108,663,102,724,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,85,418,126"/>
<area shape="poly" title=" " alt="" coords="480,108,419,108,419,102,480,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,85,158,126"/>
<area shape="poly" title=" " alt="" coords="190,108,158,108,158,102,190,102"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="466,157,691,198"/>
<area shape="poly" title=" " alt="" coords="735,180,692,180,692,174,735,174"/>
</map>
</div>

</div>
</div>
<a id="a7160417d30f5ef3a91467fefebf65dc6" name="a7160417d30f5ef3a91467fefebf65dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7160417d30f5ef3a91467fefebf65dc6">&#9670;&#160;</a></span>add_to_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::add_to_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#a80afaa06d96e661a0f93e0ba4b09c8dc">snapshot_writer_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00073">73</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                                                                                         {</div>
<div class="line"><span class="lineno">   74</span>   resource_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">   75</span>      snapshot-&gt;write_section&lt;<span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ){</div>
<div class="line"><span class="lineno">   76</span>         <span class="keyword">decltype</span>(utils)::walk(_db, [<span class="keyword">this</span>, &amp;section]( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">   77</span>            section.add_row(row, _db);</div>
<div class="line"><span class="lineno">   78</span>         });</div>
<div class="line"><span class="lineno">   79</span>      });</div>
<div class="line"><span class="lineno">   80</span>   });</div>
<div class="line"><span class="lineno">   81</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7160417d30f5ef3a91467fefebf65dc6_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7160417d30f5ef3a91467fefebf65dc6_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7160417d30f5ef3a91467fefebf65dc6_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a7160417d30f5ef3a91467fefebf65dc6_icgraph">
<area shape="rect" title=" " alt="" coords="661,5,847,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8477bef06de9c6d5f1c8a0a8cf1c8795" title=" " alt="" coords="454,13,613,54"/>
<area shape="poly" title=" " alt="" coords="646,36,614,36,614,30,646,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae80ad4ddd1eff225dc19c50439d82ef6" title=" " alt="" coords="206,13,406,54"/>
<area shape="poly" title=" " alt="" coords="438,36,406,36,406,30,438,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="ae6e413bd0a6e43b36deff7aacdd0bfd6" name="ae6e413bd0a6e43b36deff7aacdd0bfd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e413bd0a6e43b36deff7aacdd0bfd6">&#9670;&#160;</a></span>add_transaction_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::add_transaction_usage </td>
          <td>(</td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>accounts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>cpu_usage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a></td>          <td class="paramname"><span class="paramname"><em>net_usage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>ordinal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00136">136</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>                                                                                                                                                       {</div>
<div class="line"><span class="lineno">  137</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  138</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>   <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> : accounts ) {</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object,by_owner&gt;( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> );</div>
<div class="line"><span class="lineno">  143</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> unused;</div>
<div class="line"><span class="lineno">  144</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> net_weight;</div>
<div class="line"><span class="lineno">  145</span>      <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> cpu_weight;</div>
<div class="line"><span class="lineno">  146</span>      <a class="code hl_function" href="#a140981c195e4e0c5788f0aa6383c2697">get_account_limits</a>( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>, unused, net_weight, cpu_weight );</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( usage, [&amp;]( <span class="keyword">auto</span>&amp; bu ){</div>
<div class="line"><span class="lineno">  149</span>          bu.net_usage.add( net_usage, time_slot, <a class="code hl_struct" href="classconfig.html">config</a>.account_net_usage_average_window );</div>
<div class="line"><span class="lineno">  150</span>          bu.cpu_usage.add( cpu_usage, time_slot, <a class="code hl_struct" href="classconfig.html">config</a>.account_cpu_usage_average_window );</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>         <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  153</span>            dm_logger-&gt;on_update_account_usage(bu);</div>
<div class="line"><span class="lineno">  154</span>         }</div>
<div class="line"><span class="lineno">  155</span>      });</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>      <span class="keywordflow">if</span>( cpu_weight &gt;= 0 &amp;&amp; <a class="code hl_struct" href="structstate.html">state</a>.total_cpu_weight &gt; 0 ) {</div>
<div class="line"><span class="lineno">  158</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> window_size = <a class="code hl_struct" href="classconfig.html">config</a>.account_cpu_usage_average_window;</div>
<div class="line"><span class="lineno">  159</span>         <span class="keyword">auto</span> virtual_network_capacity_in_window = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)<a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit * window_size;</div>
<div class="line"><span class="lineno">  160</span>         <span class="keyword">auto</span> cpu_used_in_window                 = ((<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)usage.cpu_usage.value_ex * window_size) / (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)config::rate_limiting_precision;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> user_weight     = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)cpu_weight;</div>
<div class="line"><span class="lineno">  163</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> all_user_weight = <a class="code hl_struct" href="structstate.html">state</a>.total_cpu_weight;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>         <span class="keyword">auto</span> max_user_use_in_window = (virtual_network_capacity_in_window * user_weight) / all_user_weight;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( cpu_used_in_window &lt;= max_user_use_in_window,</div>
<div class="line"><span class="lineno">  168</span>                     tx_cpu_usage_exceeded,</div>
<div class="line"><span class="lineno">  169</span>                     <span class="stringliteral">&quot;authorizing account &#39;${n}&#39; has insufficient cpu resources for this transaction&quot;</span>,</div>
<div class="line"><span class="lineno">  170</span>                     (<span class="stringliteral">&quot;n&quot;</span>, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>))</div>
<div class="line"><span class="lineno">  171</span>                     (<span class="stringliteral">&quot;cpu_used_in_window&quot;</span>,cpu_used_in_window)</div>
<div class="line"><span class="lineno">  172</span>                     (<span class="stringliteral">&quot;max_user_use_in_window&quot;</span>,max_user_use_in_window) );</div>
<div class="line"><span class="lineno">  173</span>      }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>      <span class="keywordflow">if</span>( net_weight &gt;= 0 &amp;&amp; <a class="code hl_struct" href="structstate.html">state</a>.total_net_weight &gt; 0) {</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> window_size = <a class="code hl_struct" href="classconfig.html">config</a>.account_net_usage_average_window;</div>
<div class="line"><span class="lineno">  178</span>         <span class="keyword">auto</span> virtual_network_capacity_in_window = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)<a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit * window_size;</div>
<div class="line"><span class="lineno">  179</span>         <span class="keyword">auto</span> net_used_in_window                 = ((<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)usage.net_usage.value_ex * window_size) / (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)config::rate_limiting_precision;</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> user_weight     = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)net_weight;</div>
<div class="line"><span class="lineno">  182</span>         <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> all_user_weight = <a class="code hl_struct" href="structstate.html">state</a>.total_net_weight;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>         <span class="keyword">auto</span> max_user_use_in_window = (virtual_network_capacity_in_window * user_weight) / all_user_weight;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( net_used_in_window &lt;= max_user_use_in_window,</div>
<div class="line"><span class="lineno">  187</span>                     tx_net_usage_exceeded,</div>
<div class="line"><span class="lineno">  188</span>                     <span class="stringliteral">&quot;authorizing account &#39;${n}&#39; has insufficient net resources for this transaction&quot;</span>,</div>
<div class="line"><span class="lineno">  189</span>                     (<span class="stringliteral">&quot;n&quot;</span>, <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>(<a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>))</div>
<div class="line"><span class="lineno">  190</span>                     (<span class="stringliteral">&quot;net_used_in_window&quot;</span>,net_used_in_window)</div>
<div class="line"><span class="lineno">  191</span>                     (<span class="stringliteral">&quot;max_user_use_in_window&quot;</span>,max_user_use_in_window) );</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>      }</div>
<div class="line"><span class="lineno">  194</span>   }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>   <span class="comment">// account for this transaction in the block and do not exceed those limits either</span></div>
<div class="line"><span class="lineno">  197</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(<a class="code hl_struct" href="structstate.html">state</a>, [&amp;](resource_limits_state_object&amp; rls){</div>
<div class="line"><span class="lineno">  198</span>      rls.pending_cpu_usage += cpu_usage;</div>
<div class="line"><span class="lineno">  199</span>      rls.pending_net_usage += net_usage;</div>
<div class="line"><span class="lineno">  200</span>   });</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_struct" href="structstate.html">state</a>.pending_cpu_usage &lt;= <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters.max, block_resource_exhausted, <span class="stringliteral">&quot;Block has insufficient cpu resources&quot;</span> );</div>
<div class="line"><span class="lineno">  203</span>   <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( <a class="code hl_struct" href="structstate.html">state</a>.pending_net_usage &lt;= <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters.max, block_resource_exhausted, <span class="stringliteral">&quot;Block has insufficient net resources&quot;</span> );</div>
<div class="line"><span class="lineno">  204</span>}</div>
<div class="ttc" id="acatch__reporter__console_8cpp_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition</b> <a href="catch__reporter__console_8cpp_source.html#l00186">catch_reporter_console.cpp:186</a></div></div>
<div class="ttc" id="aclassconfig_html"><div class="ttname"><a href="classconfig.html">config</a></div><div class="ttdef"><b>Definition</b> <a href="permessage__deflate_8cpp_source.html#l00042">permessage_deflate.cpp:42</a></div></div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a140981c195e4e0c5788f0aa6383c2697"><div class="ttname"><a href="#a140981c195e4e0c5788f0aa6383c2697">sysio::chain::resource_limits::resource_limits_manager::get_account_limits</a></div><div class="ttdeci">void get_account_limits(const account_name &amp;account, int64_t &amp;ram_bytes, int64_t &amp;net_weight, int64_t &amp;cpu_weight) const</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00298">resource_limits.cpp:298</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_html_a896515137d9a7844105786ee3a6b1d47"><div class="ttname"><a href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">sysio::chain::uint128_t</a></div><div class="ttdeci">unsigned __int128 uint128_t</div><div class="ttdef"><b>Definition</b> <a href="chain_2include_2sysio_2chain_2types_8hpp_source.html#l00242">types.hpp:242</a></div></div>
<div class="ttc" id="apointer_8h_html_aeeddce917cf130d62c370b8f216026dd"><div class="ttname"><a href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a></div><div class="ttdeci">const GenericPointer&lt; typename T::ValueType &gt; T2 T::AllocatorType &amp; a</div><div class="ttdef"><b>Definition</b> <a href="pointer_8h_source.html#l01181">pointer.h:1181</a></div></div>
<div class="ttc" id="astdint_8h_html_a414156feea104f8f75b4ed9e3121b2f6"><div class="ttname"><a href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></div><div class="ttdeci">signed __int64 int64_t</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00135">stdint.h:135</a></div></div>
<div class="ttc" id="astructstate_html"><div class="ttname"><a href="structstate.html">state</a></div><div class="ttdef"><b>Definition</b> <a href="yubihsm__curl_8c_source.html#l00028">yubihsm_curl.c:28</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,226,126"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="706,79,874,105"/>
<area shape="poly" title=" " alt="" coords="226,95,691,90,691,95,226,100"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="463,5,658,61"/>
<area shape="poly" title=" " alt="" coords="226,80,447,47,448,52,227,85"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="274,136,415,176"/>
<area shape="poly" title=" " alt="" coords="227,124,259,132,258,137,225,129"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="922,45,1063,86"/>
<area shape="poly" title=" " alt="" coords="874,87,906,83,907,88,875,92"/>
<area shape="poly" title=" " alt="" coords="922,68,850,78,850,73,921,63"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1111,74,1252,115"/>
<area shape="poly" title=" " alt="" coords="1064,73,1096,79,1096,84,1063,79"/>
<area shape="poly" title=" " alt="" coords="1111,99,1063,100,922,100,889,99,889,94,922,95,1063,95,1111,94"/>
<area shape="poly" title=" " alt="" coords="659,56,723,72,721,77,658,61"/>
<area shape="poly" title=" " alt="" coords="659,38,906,56,906,61,659,43"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="490,136,631,176"/>
<area shape="poly" title=" " alt="" coords="416,153,474,153,474,158,416,158"/>
<area shape="poly" title=" " alt="" coords="631,134,725,107,727,112,633,139"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae6e413bd0a6e43b36deff7aacdd0bfd6_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,499,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,13,231,54"/>
<area shape="poly" title=" " alt="" coords="263,36,231,36,231,30,263,30"/>
</map>
</div>

</div>
</div>
<a id="a43b17296f9507b5d046c5bf57568d8b2" name="a43b17296f9507b5d046c5bf57568d8b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b17296f9507b5d046c5bf57568d8b2">&#9670;&#160;</a></span>get_account_cpu_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>, bool &gt; sysio::chain::resource_limits::resource_limits_manager::get_account_cpu_limit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>greylist_limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">config::maximum_elastic_resource_multiplier</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00416">416</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  417</span>   <span class="keyword">auto</span> [arl, greylisted] = <a class="code hl_function" href="#a2dc85a639cfd3a5e0238142d3ed3c53f">get_account_cpu_limit_ex</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, greylist_limit);</div>
<div class="line"><span class="lineno">  418</span>   <span class="keywordflow">return</span> {arl.available, greylisted};</div>
<div class="line"><span class="lineno">  419</span>}</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_a2dc85a639cfd3a5e0238142d3ed3c53f"><div class="ttname"><a href="#a2dc85a639cfd3a5e0238142d3ed3c53f">sysio::chain::resource_limits::resource_limits_manager::get_account_cpu_limit_ex</a></div><div class="ttdeci">std::pair&lt; account_resource_limit, bool &gt; get_account_cpu_limit_ex(const account_name &amp;name, uint32_t greylist_limit=config::maximum_elastic_resource_multiplier) const</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00421">resource_limits.cpp:421</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a43b17296f9507b5d046c5bf57568d8b2_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a43b17296f9507b5d046c5bf57568d8b2_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a43b17296f9507b5d046c5bf57568d8b2_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a43b17296f9507b5d046c5bf57568d8b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,88,222,144"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a2dc85a639cfd3a5e0238142d3ed3c53f" title=" " alt="" coords="270,81,455,152"/>
<area shape="poly" title=" " alt="" coords="222,114,254,114,254,119,222,119"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e" title=" " alt="" coords="504,5,698,46"/>
<area shape="poly" title=" " alt="" coords="454,79,530,50,532,55,456,84"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="746,85,914,110"/>
<area shape="poly" title=" " alt="" coords="455,108,503,106,731,98,731,103,503,111,456,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="503,120,698,176"/>
<area shape="poly" title=" " alt="" coords="456,126,488,130,487,136,455,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21" title=" " alt="" coords="526,200,675,256"/>
<area shape="poly" title=" " alt="" coords="432,150,504,186,516,191,514,196,502,191,429,155"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="799,13,861,38"/>
<area shape="poly" title=" " alt="" coords="698,23,784,23,784,28,698,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="962,103,1103,143"/>
<area shape="poly" title=" " alt="" coords="877,108,947,119,946,124,876,114"/>
<area shape="poly" title=" " alt="" coords="961,108,929,104,930,98,962,103"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1151,75,1292,115"/>
<area shape="poly" title=" " alt="" coords="1103,110,1135,105,1136,110,1104,115"/>
<area shape="poly" title=" " alt="" coords="1151,95,1103,94,962,94,929,95,929,89,962,88,1103,88,1151,90"/>
<area shape="poly" title=" " alt="" coords="698,124,754,112,755,117,699,129"/>
<area shape="poly" title=" " alt="" coords="699,140,946,125,946,131,699,145"/>
</map>
</div>

</div>
</div>
<a id="a2dc85a639cfd3a5e0238142d3ed3c53f" name="a2dc85a639cfd3a5e0238142d3ed3c53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dc85a639cfd3a5e0238142d3ed3c53f">&#9670;&#160;</a></span>get_account_cpu_limit_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">account_resource_limit</a>, bool &gt; sysio::chain::resource_limits::resource_limits_manager::get_account_cpu_limit_ex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>greylist_limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">config::maximum_elastic_resource_multiplier</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00421">421</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>                                                                                                                                                 {</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  424</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object, by_owner&gt;(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><span class="lineno">  425</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>   <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> cpu_weight, x, <a class="code hl_variable" href="namespacefc.html#ab199a7c94624123911206db59ebe45da">y</a>;</div>
<div class="line"><span class="lineno">  428</span>   <a class="code hl_function" href="#a140981c195e4e0c5788f0aa6383c2697">get_account_limits</a>( <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, x, <a class="code hl_variable" href="namespacefc.html#ab199a7c94624123911206db59ebe45da">y</a>, cpu_weight );</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>   <span class="keywordflow">if</span>( cpu_weight &lt; 0 || <a class="code hl_struct" href="structstate.html">state</a>.total_cpu_weight == 0 ) {</div>
<div class="line"><span class="lineno">  431</span>      <span class="keywordflow">return</span> {{ -1, -1, -1 }, <span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  432</span>   }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>   account_resource_limit arl;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> window_size = <a class="code hl_struct" href="classconfig.html">config</a>.account_cpu_usage_average_window;</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>   <span class="keywordtype">bool</span> greylisted = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  439</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> virtual_cpu_capacity_in_window = window_size;</div>
<div class="line"><span class="lineno">  440</span>   <span class="keywordflow">if</span>( greylist_limit &lt; config::maximum_elastic_resource_multiplier ) {</div>
<div class="line"><span class="lineno">  441</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> greylisted_virtual_cpu_limit = <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters.max * greylist_limit;</div>
<div class="line"><span class="lineno">  442</span>      <span class="keywordflow">if</span>( greylisted_virtual_cpu_limit &lt; <a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit ) {</div>
<div class="line"><span class="lineno">  443</span>         virtual_cpu_capacity_in_window *= greylisted_virtual_cpu_limit;</div>
<div class="line"><span class="lineno">  444</span>         greylisted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  445</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  446</span>         virtual_cpu_capacity_in_window *= <a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit;</div>
<div class="line"><span class="lineno">  447</span>      }</div>
<div class="line"><span class="lineno">  448</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  449</span>      virtual_cpu_capacity_in_window *= <a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit;</div>
<div class="line"><span class="lineno">  450</span>   }</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> user_weight     = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)cpu_weight;</div>
<div class="line"><span class="lineno">  453</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> all_user_weight = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)<a class="code hl_struct" href="structstate.html">state</a>.total_cpu_weight;</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>   <span class="keyword">auto</span> max_user_use_in_window = (virtual_cpu_capacity_in_window * user_weight) / all_user_weight;</div>
<div class="line"><span class="lineno">  456</span>   <span class="keyword">auto</span> cpu_used_in_window  = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21">impl::integer_divide_ceil</a>((<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)usage.cpu_usage.value_ex * window_size, (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)config::rate_limiting_precision);</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>   <span class="keywordflow">if</span>( max_user_use_in_window &lt;= cpu_used_in_window )</div>
<div class="line"><span class="lineno">  459</span>      arl.available = 0;</div>
<div class="line"><span class="lineno">  460</span>   <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  461</span>      arl.available = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(max_user_use_in_window - cpu_used_in_window);</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>   arl.used = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(cpu_used_in_window);</div>
<div class="line"><span class="lineno">  464</span>   arl.max = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(max_user_use_in_window);</div>
<div class="line"><span class="lineno">  465</span>   <span class="keywordflow">return</span> {arl, greylisted};</div>
<div class="line"><span class="lineno">  466</span>}</div>
<div class="ttc" id="anamespacefc_html_ab199a7c94624123911206db59ebe45da"><div class="ttname"><a href="namespacefc.html#ab199a7c94624123911206db59ebe45da">fc::y</a></div><div class="ttdeci">uint64_t y</div><div class="ttdef"><b>Definition</b> <a href="sha3_8cpp_source.html#l00034">sha3.cpp:34</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1resource__limits_1_1impl_html_a27299c32ef2c573ed173bd68edd2cd21"><div class="ttname"><a href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21">sysio::chain::resource_limits::impl::integer_divide_ceil</a></div><div class="ttdeci">constexpr UnsignedIntType integer_divide_ceil(UnsignedIntType num, UnsignedIntType den)</div><div class="ttdef"><b>Definition</b> <a href="resource__limits__private_8hpp_source.html#l00025">resource_limits_private.hpp:25</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1resource__limits_1_1impl_html_ad13603146ccf93edbdb851067320dd6e"><div class="ttname"><a href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">sysio::chain::resource_limits::impl::downgrade_cast</a></div><div class="ttdeci">constexpr auto downgrade_cast(GreaterIntType val) -&gt; std::enable_if_t&lt; is_valid_downgrade_cast&lt; LesserIntType, GreaterIntType &gt; &amp;&amp;std::is_signed&lt; LesserIntType &gt;::value==std::is_signed&lt; GreaterIntType &gt;::value, LesserIntType &gt;</div><div class="ttdef"><b>Definition</b> <a href="resource__limits__private_8hpp_source.html#l00040">resource_limits_private.hpp:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,191,152"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e" title=" " alt="" coords="239,5,434,46"/>
<area shape="poly" title=" " alt="" coords="190,79,265,50,267,55,192,84"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="482,85,649,110"/>
<area shape="poly" title=" " alt="" coords="191,108,239,106,466,98,467,103,239,111,191,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="239,120,434,176"/>
<area shape="poly" title=" " alt="" coords="191,126,223,130,223,136,191,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21" title=" " alt="" coords="262,200,411,256"/>
<area shape="poly" title=" " alt="" coords="167,150,240,186,252,191,250,196,238,191,165,155"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="535,13,596,38"/>
<area shape="poly" title=" " alt="" coords="434,23,519,23,519,28,434,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="697,103,839,143"/>
<area shape="poly" title=" " alt="" coords="613,108,682,119,681,124,612,114"/>
<area shape="poly" title=" " alt="" coords="697,108,665,104,665,98,697,103"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="887,75,1028,115"/>
<area shape="poly" title=" " alt="" coords="838,110,871,105,872,110,839,115"/>
<area shape="poly" title=" " alt="" coords="886,95,839,94,697,94,665,95,665,89,697,88,839,88,887,90"/>
<area shape="poly" title=" " alt="" coords="434,124,489,112,491,117,435,129"/>
<area shape="poly" title=" " alt="" coords="434,140,682,125,682,131,435,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2dc85a639cfd3a5e0238142d3ed3c53f_icgraph">
<area shape="rect" title=" " alt="" coords="270,5,455,76"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a43b17296f9507b5d046c5bf57568d8b2" title=" " alt="" coords="5,13,222,68"/>
<area shape="poly" title=" " alt="" coords="254,43,222,43,222,38,254,38"/>
</map>
</div>

</div>
</div>
<a id="a140981c195e4e0c5788f0aa6383c2697" name="a140981c195e4e0c5788f0aa6383c2697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140981c195e4e0c5788f0aa6383c2697">&#9670;&#160;</a></span>get_account_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::get_account_limits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ram_bytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>net_weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cpu_weight</em></span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00298">298</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>                                                                                                                                                  {</div>
<div class="line"><span class="lineno">  299</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* pending_buo = _db.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;resource_limits_object,by_owner&gt;( boost::make_tuple(<span class="keyword">true</span>, account) );</div>
<div class="line"><span class="lineno">  300</span>   <span class="keywordflow">if</span> (pending_buo) {</div>
<div class="line"><span class="lineno">  301</span>      ram_bytes  = pending_buo-&gt;ram_bytes;</div>
<div class="line"><span class="lineno">  302</span>      net_weight = pending_buo-&gt;net_weight;</div>
<div class="line"><span class="lineno">  303</span>      cpu_weight = pending_buo-&gt;cpu_weight;</div>
<div class="line"><span class="lineno">  304</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  305</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; buo = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_object,by_owner&gt;( boost::make_tuple( <span class="keyword">false</span>, account ) );</div>
<div class="line"><span class="lineno">  306</span>      ram_bytes  = buo.ram_bytes;</div>
<div class="line"><span class="lineno">  307</span>      net_weight = buo.net_weight;</div>
<div class="line"><span class="lineno">  308</span>      cpu_weight = buo.cpu_weight;</div>
<div class="line"><span class="lineno">  309</span>   }</div>
<div class="line"><span class="lineno">  310</span>}</div>
<div class="ttc" id="aclasschainbase_1_1database_html_aa5a2ca0da0092693ac49b36b7ec6817a"><div class="ttname"><a href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">chainbase::database::find</a></div><div class="ttdeci">const ObjectType * find(CompatibleKey &amp;&amp;key) const</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00458">chainbase.hpp:458</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_cgraph">
<area shape="rect" title=" " alt="" coords="5,62,201,118"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="249,5,390,46"/>
<area shape="poly" title=" " alt="" coords="199,59,233,48,234,53,200,64"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="627,13,795,38"/>
<area shape="poly" title=" " alt="" coords="201,101,283,108,379,111,480,106,579,90,632,70,677,45,679,50,634,75,580,95,480,111,379,116,283,113,201,106"/>
<area shape="poly" title=" " alt="" coords="391,30,612,31,611,36,391,35"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="438,40,579,81"/>
<area shape="poly" title=" " alt="" coords="391,36,423,42,422,47,390,41"/>
<area shape="poly" title=" " alt="" coords="627,21,406,21,406,15,627,15"/>
<area shape="poly" title=" " alt="" coords="579,46,616,39,617,44,580,51"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a140981c195e4e0c5788f0aa6383c2697_icgraph">
<area shape="rect" title=" " alt="" coords="1223,140,1418,196"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#ae6e413bd0a6e43b36deff7aacdd0bfd6" title=" " alt="" coords="955,5,1175,61"/>
<area shape="poly" title=" " alt="" coords="1269,133,1223,103,1174,74,1151,64,1154,59,1176,69,1226,98,1272,128"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a2dc85a639cfd3a5e0238142d3ed3c53f" title=" " alt="" coords="972,84,1158,155"/>
<area shape="poly" title=" " alt="" coords="1207,149,1157,140,1158,135,1208,144"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#afa522b2321b49a3f55beba024129e000" title=" " alt="" coords="974,179,1156,250"/>
<area shape="poly" title=" " alt="" coords="1208,191,1157,200,1156,195,1207,186"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#af72734af83f353fae77fbf837776db10" title=" " alt="" coords="979,274,1150,344"/>
<area shape="poly" title=" " alt="" coords="1268,207,1176,263,1152,276,1149,271,1174,259,1265,202"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="681,13,907,54"/>
<area shape="poly" title=" " alt="" coords="939,36,907,36,907,30,939,30"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a43b17296f9507b5d046c5bf57568d8b2" title=" " alt="" coords="686,92,902,148"/>
<area shape="poly" title=" " alt="" coords="956,122,903,122,903,117,956,117"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a6ee64e0876365e3c6e2aeec83591a9ef" title=" " alt="" coords="687,187,901,242"/>
<area shape="poly" title=" " alt="" coords="958,217,901,217,901,212,958,212"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="698,289,890,330"/>
<area shape="poly" title=" " alt="" coords="963,312,890,312,890,306,963,306"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,289,633,330"/>
<area shape="poly" title=" " alt="" coords="683,312,634,312,634,306,683,306"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,289,418,330"/>
<area shape="poly" title=" " alt="" coords="450,312,418,312,418,306,450,306"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,289,158,330"/>
<area shape="poly" title=" " alt="" coords="190,312,158,312,158,306,190,306"/>
</map>
</div>

</div>
</div>
<a id="a6ee64e0876365e3c6e2aeec83591a9ef" name="a6ee64e0876365e3c6e2aeec83591a9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee64e0876365e3c6e2aeec83591a9ef">&#9670;&#160;</a></span>get_account_net_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a>, bool &gt; sysio::chain::resource_limits::resource_limits_manager::get_account_net_limit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>greylist_limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">config::maximum_elastic_resource_multiplier</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00468">468</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  468</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  469</span>   <span class="keyword">auto</span> [arl, greylisted] = <a class="code hl_function" href="#afa522b2321b49a3f55beba024129e000">get_account_net_limit_ex</a>(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, greylist_limit);</div>
<div class="line"><span class="lineno">  470</span>   <span class="keywordflow">return</span> {arl.available, greylisted};</div>
<div class="line"><span class="lineno">  471</span>}</div>
<div class="ttc" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_html_afa522b2321b49a3f55beba024129e000"><div class="ttname"><a href="#afa522b2321b49a3f55beba024129e000">sysio::chain::resource_limits::resource_limits_manager::get_account_net_limit_ex</a></div><div class="ttdeci">std::pair&lt; account_resource_limit, bool &gt; get_account_net_limit_ex(const account_name &amp;name, uint32_t greylist_limit=config::maximum_elastic_resource_multiplier) const</div><div class="ttdef"><b>Definition</b> <a href="resource__limits_8cpp_source.html#l00473">resource_limits.cpp:473</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a6ee64e0876365e3c6e2aeec83591a9ef_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a6ee64e0876365e3c6e2aeec83591a9ef_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a6ee64e0876365e3c6e2aeec83591a9ef_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a6ee64e0876365e3c6e2aeec83591a9ef_cgraph">
<area shape="rect" title=" " alt="" coords="5,88,219,144"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#afa522b2321b49a3f55beba024129e000" title=" " alt="" coords="267,81,449,152"/>
<area shape="poly" title=" " alt="" coords="219,114,251,114,251,119,219,119"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e" title=" " alt="" coords="498,5,692,46"/>
<area shape="poly" title=" " alt="" coords="448,79,524,50,526,55,450,84"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="740,85,908,110"/>
<area shape="poly" title=" " alt="" coords="449,108,497,106,725,98,725,103,497,111,450,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="497,120,692,176"/>
<area shape="poly" title=" " alt="" coords="450,126,482,130,481,136,449,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21" title=" " alt="" coords="520,200,669,256"/>
<area shape="poly" title=" " alt="" coords="426,150,498,186,510,191,508,196,496,191,424,155"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="793,13,855,38"/>
<area shape="poly" title=" " alt="" coords="692,23,778,23,778,28,692,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="956,103,1097,143"/>
<area shape="poly" title=" " alt="" coords="871,108,941,119,940,124,870,114"/>
<area shape="poly" title=" " alt="" coords="955,108,923,104,924,98,956,103"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1145,75,1286,115"/>
<area shape="poly" title=" " alt="" coords="1097,110,1129,105,1130,110,1098,115"/>
<area shape="poly" title=" " alt="" coords="1145,95,1097,94,956,94,923,95,923,89,956,88,1097,88,1145,90"/>
<area shape="poly" title=" " alt="" coords="692,124,748,112,749,117,693,129"/>
<area shape="poly" title=" " alt="" coords="693,140,940,125,940,131,693,145"/>
</map>
</div>

</div>
</div>
<a id="afa522b2321b49a3f55beba024129e000" name="afa522b2321b49a3f55beba024129e000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa522b2321b49a3f55beba024129e000">&#9670;&#160;</a></span>get_account_net_limit_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1account__resource__limit.html">account_resource_limit</a>, bool &gt; sysio::chain::resource_limits::resource_limits_manager::get_account_net_limit_ex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>greylist_limit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">config::maximum_elastic_resource_multiplier</span>&#160;) const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00473">473</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>                                                                                                                                                 {</div>
<div class="line"><span class="lineno">  474</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  475</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a>  = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  476</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage  = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object, by_owner&gt;(<a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>   <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> net_weight, x, <a class="code hl_variable" href="namespacefc.html#ab199a7c94624123911206db59ebe45da">y</a>;</div>
<div class="line"><span class="lineno">  479</span>   <a class="code hl_function" href="#a140981c195e4e0c5788f0aa6383c2697">get_account_limits</a>( <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>, x, net_weight, <a class="code hl_variable" href="namespacefc.html#ab199a7c94624123911206db59ebe45da">y</a> );</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>   <span class="keywordflow">if</span>( net_weight &lt; 0 || <a class="code hl_struct" href="structstate.html">state</a>.total_net_weight == 0) {</div>
<div class="line"><span class="lineno">  482</span>      <span class="keywordflow">return</span> {{ -1, -1, -1 }, <span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  483</span>   }</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>   account_resource_limit arl;</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> window_size = <a class="code hl_struct" href="classconfig.html">config</a>.account_net_usage_average_window;</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>   <span class="keywordtype">bool</span> greylisted = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  490</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> virtual_network_capacity_in_window = window_size;</div>
<div class="line"><span class="lineno">  491</span>   <span class="keywordflow">if</span>( greylist_limit &lt; config::maximum_elastic_resource_multiplier ) {</div>
<div class="line"><span class="lineno">  492</span>      <a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> greylisted_virtual_net_limit = <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters.max * greylist_limit;</div>
<div class="line"><span class="lineno">  493</span>      <span class="keywordflow">if</span>( greylisted_virtual_net_limit &lt; <a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit ) {</div>
<div class="line"><span class="lineno">  494</span>         virtual_network_capacity_in_window *= greylisted_virtual_net_limit;</div>
<div class="line"><span class="lineno">  495</span>         greylisted = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  496</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  497</span>         virtual_network_capacity_in_window *= <a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit;</div>
<div class="line"><span class="lineno">  498</span>      }</div>
<div class="line"><span class="lineno">  499</span>   } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  500</span>      virtual_network_capacity_in_window *= <a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit;</div>
<div class="line"><span class="lineno">  501</span>   }</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> user_weight     = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)net_weight;</div>
<div class="line"><span class="lineno">  504</span>   <a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a> all_user_weight = (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)<a class="code hl_struct" href="structstate.html">state</a>.total_net_weight;</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>   <span class="keyword">auto</span> max_user_use_in_window = (virtual_network_capacity_in_window * user_weight) / all_user_weight;</div>
<div class="line"><span class="lineno">  507</span>   <span class="keyword">auto</span> net_used_in_window  = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21">impl::integer_divide_ceil</a>((<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)usage.net_usage.value_ex * window_size, (<a class="code hl_typedef" href="namespacesysio_1_1chain.html#a896515137d9a7844105786ee3a6b1d47">uint128_t</a>)config::rate_limiting_precision);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>   <span class="keywordflow">if</span>( max_user_use_in_window &lt;= net_used_in_window )</div>
<div class="line"><span class="lineno">  510</span>      arl.available = 0;</div>
<div class="line"><span class="lineno">  511</span>   <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  512</span>      arl.available = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(max_user_use_in_window - net_used_in_window);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>   arl.used = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(net_used_in_window);</div>
<div class="line"><span class="lineno">  515</span>   arl.max = <a class="code hl_function" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e">impl::downgrade_cast&lt;int64_t&gt;</a>(max_user_use_in_window);</div>
<div class="line"><span class="lineno">  516</span>   <span class="keywordflow">return</span> {arl, greylisted};</div>
<div class="line"><span class="lineno">  517</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_cgraph">
<area shape="rect" title=" " alt="" coords="5,81,188,152"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#ad13603146ccf93edbdb851067320dd6e" title=" " alt="" coords="236,5,430,46"/>
<area shape="poly" title=" " alt="" coords="187,79,263,50,264,55,189,84"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="479,85,646,110"/>
<area shape="poly" title=" " alt="" coords="188,108,236,106,463,98,464,103,236,111,188,113"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="236,120,431,176"/>
<area shape="poly" title=" " alt="" coords="188,126,220,130,220,136,188,131"/>
<area shape="rect" href="namespacesysio_1_1chain_1_1resource__limits_1_1impl.html#a27299c32ef2c573ed173bd68edd2cd21" title=" " alt="" coords="259,200,408,256"/>
<area shape="poly" title=" " alt="" coords="165,150,237,186,249,191,247,196,235,191,163,155"/>
<area shape="rect" href="namespacefc.html#aa3ea11c18de71ec23b19c3cc571fb8ff" title=" " alt="" coords="532,13,593,38"/>
<area shape="poly" title=" " alt="" coords="431,23,516,23,516,28,431,28"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="694,103,836,143"/>
<area shape="poly" title=" " alt="" coords="610,108,679,119,678,124,609,114"/>
<area shape="poly" title=" " alt="" coords="694,108,662,104,662,98,694,103"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="884,75,1025,115"/>
<area shape="poly" title=" " alt="" coords="835,110,868,105,869,110,836,115"/>
<area shape="poly" title=" " alt="" coords="883,95,836,94,694,94,662,95,662,89,694,88,836,88,884,90"/>
<area shape="poly" title=" " alt="" coords="431,124,486,112,488,117,432,129"/>
<area shape="poly" title=" " alt="" coords="431,140,679,125,679,131,432,145"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_afa522b2321b49a3f55beba024129e000_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,449,76"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a6ee64e0876365e3c6e2aeec83591a9ef" title=" " alt="" coords="5,13,219,68"/>
<area shape="poly" title=" " alt="" coords="251,43,219,43,219,38,251,38"/>
</map>
</div>

</div>
</div>
<a id="ae7d1b3c435910424a1142b052a8774be" name="ae7d1b3c435910424a1142b052a8774be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d1b3c435910424a1142b052a8774be">&#9670;&#160;</a></span>get_account_ram_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_account_ram_usage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00239">239</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span>                                                                                      {</div>
<div class="line"><span class="lineno">  240</span>   <span class="keywordflow">return</span> _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object,by_owner&gt;( <a class="code hl_variable" href="catch__reporter__console_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a> ).ram_usage;</div>
<div class="line"><span class="lineno">  241</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,234,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="282,20,449,46"/>
<area shape="poly" title=" " alt="" coords="234,30,266,30,266,36,234,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="497,13,638,54"/>
<area shape="poly" title=" " alt="" coords="450,39,481,39,481,45,450,45"/>
<area shape="poly" title=" " alt="" coords="497,27,465,27,465,22,497,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="686,42,828,83"/>
<area shape="poly" title=" " alt="" coords="639,41,672,47,671,52,638,47"/>
<area shape="poly" title=" " alt="" coords="686,67,638,68,567,71,497,68,425,53,426,48,497,63,567,66,638,63,686,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_ae7d1b3c435910424a1142b052a8774be_icgraph">
<area shape="rect" title=" " alt="" coords="230,5,458,61"/>
<area shape="rect" href="namespacesysio_1_1chain.html#a97599248411293cb485c399a25bd8988" title=" " alt="" coords="5,5,182,61"/>
<area shape="poly" title=" " alt="" coords="214,36,182,36,182,30,214,30"/>
</map>
</div>

</div>
</div>
<a id="a59c1ce742daefcf8e370e844ed49f955" name="a59c1ce742daefcf8e370e844ed49f955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c1ce742daefcf8e370e844ed49f955">&#9670;&#160;</a></span>get_block_cpu_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_block_cpu_limit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00404">404</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  404</span>                                                            {</div>
<div class="line"><span class="lineno">  405</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  406</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  407</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters.max - <a class="code hl_struct" href="structstate.html">state</a>.pending_cpu_usage;</div>
<div class="line"><span class="lineno">  408</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,207,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="255,20,422,46"/>
<area shape="poly" title=" " alt="" coords="207,30,239,30,239,36,207,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="470,13,611,54"/>
<area shape="poly" title=" " alt="" coords="423,39,454,39,454,45,423,45"/>
<area shape="poly" title=" " alt="" coords="470,27,438,27,438,22,470,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="659,42,801,83"/>
<area shape="poly" title=" " alt="" coords="612,41,645,47,644,52,611,47"/>
<area shape="poly" title=" " alt="" coords="659,67,611,68,540,71,470,68,398,53,399,48,470,63,540,66,611,63,659,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a59c1ce742daefcf8e370e844ed49f955_icgraph">
<area shape="rect" title=" " alt="" coords="1195,100,1396,156"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#ab05cac0064c3afeb991b8e91cb76631e" title=" " alt="" coords="972,108,1147,148"/>
<area shape="poly" title=" " alt="" coords="1179,130,1148,130,1148,125,1179,125"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#af3690d3cd99a828ada60fcf3decad39b" title=" " alt="" coords="739,5,911,61"/>
<area shape="poly" title=" " alt="" coords="992,104,895,64,897,59,994,99"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a7db63178eda240d671fc6ae4e46bf01e" title=" " alt="" coords="524,89,675,130"/>
<area shape="poly" title=" " alt="" coords="956,126,675,115,675,110,957,121"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a7de28b674848c3de56118793193d3b49" title=" " alt="" coords="726,136,924,176"/>
<area shape="poly" title=" " alt="" coords="956,143,925,147,924,141,956,138"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a46f5da3c1146a1e5f0850e541dac2d90" title=" " alt="" coords="520,164,678,220"/>
<area shape="poly" title=" " alt="" coords="1010,158,969,176,924,190,860,201,795,205,678,202,679,197,795,200,860,195,923,185,967,171,1008,153"/>
<area shape="poly" title=" " alt="" coords="727,69,663,91,661,86,726,64"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#ad8895b72aaf8928b54665684ffdb9405" title=" " alt="" coords="262,136,472,176"/>
<area shape="poly" title=" " alt="" coords="509,130,472,138,471,132,508,125"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a230c88a6ed7efbc3588a043fe4915bd9" title=" " alt="" coords="14,70,205,111"/>
<area shape="poly" title=" " alt="" coords="269,134,192,114,193,109,270,129"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#a9ce89d0c80f40aeb7df69c5a49beff5a" title=" " alt="" coords="24,136,195,176"/>
<area shape="poly" title=" " alt="" coords="246,158,196,158,196,153,246,153"/>
<area shape="rect" href="classsysio_1_1producer__plugin__impl.html#ab57089953b20f4eac5adc247b73040ec" title=" " alt="" coords="5,201,214,242"/>
<area shape="poly" title=" " alt="" coords="270,183,193,203,192,198,269,178"/>
<area shape="poly" title=" " alt="" coords="711,135,675,127,676,122,712,130"/>
<area shape="poly" title=" " alt="" coords="504,180,472,175,473,170,505,175"/>
</map>
</div>

</div>
</div>
<a id="a2a7986ffd86acb7135b07d3b35d767fd" name="a2a7986ffd86acb7135b07d3b35d767fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7986ffd86acb7135b07d3b35d767fd">&#9670;&#160;</a></span>get_block_net_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_block_net_limit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00410">410</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  410</span>                                                            {</div>
<div class="line"><span class="lineno">  411</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  412</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  413</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters.max - <a class="code hl_struct" href="structstate.html">state</a>.pending_net_usage;</div>
<div class="line"><span class="lineno">  414</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2a7986ffd86acb7135b07d3b35d767fd_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2a7986ffd86acb7135b07d3b35d767fd_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2a7986ffd86acb7135b07d3b35d767fd_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a2a7986ffd86acb7135b07d3b35d767fd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,204,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="252,20,419,46"/>
<area shape="poly" title=" " alt="" coords="204,30,236,30,236,36,204,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="467,13,608,54"/>
<area shape="poly" title=" " alt="" coords="420,39,451,39,451,45,420,45"/>
<area shape="poly" title=" " alt="" coords="467,27,435,27,435,22,467,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="656,42,798,83"/>
<area shape="poly" title=" " alt="" coords="609,41,642,47,641,52,608,47"/>
<area shape="poly" title=" " alt="" coords="656,67,608,68,537,71,467,68,395,53,396,48,467,63,537,66,608,63,656,62"/>
</map>
</div>

</div>
</div>
<a id="a1fcebec58c85ac219bba44a3139a22d5" name="a1fcebec58c85ac219bba44a3139a22d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fcebec58c85ac219bba44a3139a22d5">&#9670;&#160;</a></span>get_total_cpu_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_total_cpu_weight </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00384">384</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>                                                             {</div>
<div class="line"><span class="lineno">  385</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  386</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="structstate.html">state</a>.total_cpu_weight;</div>
<div class="line"><span class="lineno">  387</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1fcebec58c85ac219bba44a3139a22d5_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1fcebec58c85ac219bba44a3139a22d5_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1fcebec58c85ac219bba44a3139a22d5_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1fcebec58c85ac219bba44a3139a22d5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,215,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="263,20,430,46"/>
<area shape="poly" title=" " alt="" coords="215,30,247,30,247,36,215,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="478,13,619,54"/>
<area shape="poly" title=" " alt="" coords="431,39,462,39,462,45,431,45"/>
<area shape="poly" title=" " alt="" coords="478,27,446,27,446,22,478,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="667,42,809,83"/>
<area shape="poly" title=" " alt="" coords="620,41,653,47,652,52,619,47"/>
<area shape="poly" title=" " alt="" coords="667,67,619,68,548,71,478,68,406,53,407,48,478,63,548,66,619,63,667,62"/>
</map>
</div>

</div>
</div>
<a id="af9c0bd8105ce922baaa87a06560bb1ad" name="af9c0bd8105ce922baaa87a06560bb1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c0bd8105ce922baaa87a06560bb1ad">&#9670;&#160;</a></span>get_total_net_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_total_net_weight </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00389">389</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  389</span>                                                             {</div>
<div class="line"><span class="lineno">  390</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  391</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="structstate.html">state</a>.total_net_weight;</div>
<div class="line"><span class="lineno">  392</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af9c0bd8105ce922baaa87a06560bb1ad_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af9c0bd8105ce922baaa87a06560bb1ad_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af9c0bd8105ce922baaa87a06560bb1ad_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af9c0bd8105ce922baaa87a06560bb1ad_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,212,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="260,20,427,46"/>
<area shape="poly" title=" " alt="" coords="212,30,244,30,244,36,212,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="475,13,616,54"/>
<area shape="poly" title=" " alt="" coords="428,39,459,39,459,45,428,45"/>
<area shape="poly" title=" " alt="" coords="475,27,443,27,443,22,475,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="664,42,806,83"/>
<area shape="poly" title=" " alt="" coords="617,41,650,47,649,52,616,47"/>
<area shape="poly" title=" " alt="" coords="664,67,616,68,545,71,475,68,403,53,404,48,475,63,545,66,616,63,664,62"/>
</map>
</div>

</div>
</div>
<a id="a11a6138d48057c1992128575ec0d2c99" name="a11a6138d48057c1992128575ec0d2c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a6138d48057c1992128575ec0d2c99">&#9670;&#160;</a></span>get_virtual_block_cpu_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_virtual_block_cpu_limit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00394">394</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>                                                                    {</div>
<div class="line"><span class="lineno">  395</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  396</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit;</div>
<div class="line"><span class="lineno">  397</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a11a6138d48057c1992128575ec0d2c99_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a11a6138d48057c1992128575ec0d2c99_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a11a6138d48057c1992128575ec0d2c99_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a11a6138d48057c1992128575ec0d2c99_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,190,76"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="238,28,405,54"/>
<area shape="poly" title=" " alt="" coords="190,38,222,38,222,43,190,43"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="453,20,594,61"/>
<area shape="poly" title=" " alt="" coords="406,47,437,47,437,52,406,52"/>
<area shape="poly" title=" " alt="" coords="453,35,421,34,421,29,453,29"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="642,50,784,90"/>
<area shape="poly" title=" " alt="" coords="595,49,628,54,627,59,594,54"/>
<area shape="poly" title=" " alt="" coords="642,75,594,75,523,78,453,75,381,61,382,56,453,70,523,73,594,70,642,69"/>
</map>
</div>

</div>
</div>
<a id="af1cdd5c700248d54dc20be704662534d" name="af1cdd5c700248d54dc20be704662534d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1cdd5c700248d54dc20be704662534d">&#9670;&#160;</a></span>get_virtual_block_net_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> sysio::chain::resource_limits::resource_limits_manager::get_virtual_block_net_limit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00399">399</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  399</span>                                                                    {</div>
<div class="line"><span class="lineno">  400</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  401</span>   <span class="keywordflow">return</span> <a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit;</div>
<div class="line"><span class="lineno">  402</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af1cdd5c700248d54dc20be704662534d_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af1cdd5c700248d54dc20be704662534d_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af1cdd5c700248d54dc20be704662534d_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af1cdd5c700248d54dc20be704662534d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,190,76"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="238,28,405,54"/>
<area shape="poly" title=" " alt="" coords="190,38,222,38,222,43,190,43"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="453,20,594,61"/>
<area shape="poly" title=" " alt="" coords="406,47,437,47,437,52,406,52"/>
<area shape="poly" title=" " alt="" coords="453,35,421,34,421,29,453,29"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="642,50,784,90"/>
<area shape="poly" title=" " alt="" coords="595,49,628,54,627,59,594,54"/>
<area shape="poly" title=" " alt="" coords="642,75,594,75,523,78,453,75,381,61,382,56,453,70,523,73,594,70,642,69"/>
</map>
</div>

</div>
</div>
<a id="a30cd4db6f08948e05aba424431ec0605" name="a30cd4db6f08948e05aba424431ec0605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30cd4db6f08948e05aba424431ec0605">&#9670;&#160;</a></span>initialize_account()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::initialize_account </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>account</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00096">96</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>                                                                            {</div>
<div class="line"><span class="lineno">   97</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; limits = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;resource_limits_object&gt;([&amp;]( resource_limits_object&amp; <a class="code hl_function" href="namespace_xbyak_1_1util.html#ab5af29f4e1d45ee51da87d37853590ef">bl</a> ) {</div>
<div class="line"><span class="lineno">   98</span>      <a class="code hl_function" href="namespace_xbyak_1_1util.html#ab5af29f4e1d45ee51da87d37853590ef">bl</a>.owner = account;</div>
<div class="line"><span class="lineno">   99</span>   });</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;resource_usage_object&gt;([&amp;]( resource_usage_object&amp; bu ) {</div>
<div class="line"><span class="lineno">  102</span>      bu.owner = account;</div>
<div class="line"><span class="lineno">  103</span>   });</div>
<div class="line"><span class="lineno">  104</span>   <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  105</span>      dm_logger-&gt;on_newaccount_resource_limits(limits, usage);</div>
<div class="line"><span class="lineno">  106</span>   }</div>
<div class="line"><span class="lineno">  107</span>}</div>
<div class="ttc" id="aclasschainbase_1_1database_html_adc8f336b33d7013d1b0400399b16c5a7"><div class="ttname"><a href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">chainbase::database::create</a></div><div class="ttdeci">const ObjectType &amp; create(Constructor &amp;&amp;con)</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00519">chainbase.hpp:519</a></div></div>
<div class="ttc" id="anamespace_xbyak_1_1util_html_ab5af29f4e1d45ee51da87d37853590ef"><div class="ttname"><a href="namespace_xbyak_1_1util.html#ab5af29f4e1d45ee51da87d37853590ef">Xbyak::util::bl</a></div><div class="ttdeci">static const Reg8 bl(Operand::BL)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,192,61"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="240,13,381,54"/>
<area shape="poly" title=" " alt="" coords="192,30,224,30,224,36,192,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="429,13,570,54"/>
<area shape="poly" title=" " alt="" coords="381,30,414,30,414,36,381,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="618,20,786,46"/>
<area shape="poly" title=" " alt="" coords="571,30,603,30,603,36,571,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="834,13,975,54"/>
<area shape="poly" title=" " alt="" coords="786,39,818,39,818,45,786,45"/>
<area shape="poly" title=" " alt="" coords="833,27,801,27,801,22,833,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1023,42,1164,83"/>
<area shape="poly" title=" " alt="" coords="976,41,1008,47,1008,52,975,47"/>
<area shape="poly" title=" " alt="" coords="1023,67,975,68,904,71,833,68,761,53,762,48,834,63,904,66,975,63,1023,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a30cd4db6f08948e05aba424431ec0605_icgraph">
<area shape="rect" title=" " alt="" coords="921,5,1107,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="681,13,873,54"/>
<area shape="poly" title=" " alt="" coords="905,36,873,36,873,30,905,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,13,633,54"/>
<area shape="poly" title=" " alt="" coords="666,36,634,36,634,30,666,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,13,418,54"/>
<area shape="poly" title=" " alt="" coords="450,36,418,36,418,30,450,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="a1b9d0326965430166923c2241a3a6a45" name="a1b9d0326965430166923c2241a3a6a45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b9d0326965430166923c2241a3a6a45">&#9670;&#160;</a></span>initialize_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::initialize_database </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00055">55</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                  {</div>
<div class="line"><span class="lineno">   56</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;resource_limits_config_object&gt;([](resource_limits_config_object&amp; <a class="code hl_struct" href="classconfig.html">config</a>){</div>
<div class="line"><span class="lineno">   57</span>      <span class="comment">// see default settings in the declaration</span></div>
<div class="line"><span class="lineno">   58</span>   });</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;resource_limits_state_object&gt;([&amp;<a class="code hl_struct" href="classconfig.html">config</a>](resource_limits_state_object&amp; <a class="code hl_struct" href="structstate.html">state</a>){</div>
<div class="line"><span class="lineno">   61</span>      <span class="comment">// see default settings in the declaration</span></div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>      <span class="comment">// start the chain off in a way that it is &quot;congested&quot; aka slow-start</span></div>
<div class="line"><span class="lineno">   64</span>      <a class="code hl_struct" href="structstate.html">state</a>.virtual_cpu_limit = <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters.max;</div>
<div class="line"><span class="lineno">   65</span>      <a class="code hl_struct" href="structstate.html">state</a>.virtual_net_limit = <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters.max;</div>
<div class="line"><span class="lineno">   66</span>   });</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>   <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">   69</span>      dm_logger-&gt;on_init_resource_limits(<a class="code hl_struct" href="classconfig.html">config</a>, <a class="code hl_struct" href="structstate.html">state</a>);</div>
<div class="line"><span class="lineno">   70</span>   }</div>
<div class="line"><span class="lineno">   71</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,199,61"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="247,13,388,54"/>
<area shape="poly" title=" " alt="" coords="199,30,231,30,231,36,199,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="436,13,577,54"/>
<area shape="poly" title=" " alt="" coords="388,30,421,30,421,36,388,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="625,20,793,46"/>
<area shape="poly" title=" " alt="" coords="578,30,610,30,610,36,578,36"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="841,13,982,54"/>
<area shape="poly" title=" " alt="" coords="793,39,825,39,825,45,793,45"/>
<area shape="poly" title=" " alt="" coords="840,27,808,27,808,22,840,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1030,42,1171,83"/>
<area shape="poly" title=" " alt="" coords="983,41,1015,47,1015,52,982,47"/>
<area shape="poly" title=" " alt="" coords="1030,67,982,68,911,71,840,68,768,53,769,48,841,63,911,66,982,63,1030,62"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a1b9d0326965430166923c2241a3a6a45_icgraph">
<area shape="rect" title=" " alt="" coords="681,5,875,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,13,633,54"/>
<area shape="poly" title=" " alt="" coords="666,36,634,36,634,30,666,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,13,418,54"/>
<area shape="poly" title=" " alt="" coords="450,36,418,36,418,30,450,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="a0c71ab0bbfd401a4886d11f4756d5fc1" name="a0c71ab0bbfd401a4886d11f4756d5fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c71ab0bbfd401a4886d11f4756d5fc1">&#9670;&#160;</a></span>is_unlimited_cpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::resource_limits::resource_limits_manager::is_unlimited_cpu </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>account</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00312">312</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>                                                                                  {</div>
<div class="line"><span class="lineno">  313</span>   <span class="keyword">const</span> <span class="keyword">auto</span>* buo = _db.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;resource_limits_object,by_owner&gt;( boost::make_tuple(<span class="keyword">false</span>, account) );</div>
<div class="line"><span class="lineno">  314</span>   <span class="keywordflow">if</span> (buo) {</div>
<div class="line"><span class="lineno">  315</span>      <span class="keywordflow">return</span> buo-&gt;cpu_weight == -1;</div>
<div class="line"><span class="lineno">  316</span>   }</div>
<div class="line"><span class="lineno">  317</span>   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  318</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a0c71ab0bbfd401a4886d11f4756d5fc1_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a0c71ab0bbfd401a4886d11f4756d5fc1_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a0c71ab0bbfd401a4886d11f4756d5fc1_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a0c71ab0bbfd401a4886d11f4756d5fc1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,189,61"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="237,13,378,54"/>
<area shape="poly" title=" " alt="" coords="189,30,221,30,221,36,189,36"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="615,20,783,46"/>
<area shape="poly" title=" " alt="" coords="379,38,600,38,599,44,379,43"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="426,82,567,123"/>
<area shape="poly" title=" " alt="" coords="366,52,426,74,424,79,364,57"/>
<area shape="poly" title=" " alt="" coords="615,28,394,28,394,23,615,23"/>
<area shape="poly" title=" " alt="" coords="558,79,643,49,645,54,559,84"/>
</map>
</div>

</div>
</div>
<a id="a983919d376e5757bceee573e52b3c571" name="a983919d376e5757bceee573e52b3c571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a983919d376e5757bceee573e52b3c571">&#9670;&#160;</a></span>process_account_limit_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::process_account_limit_updates </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00320">320</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>                                                            {</div>
<div class="line"><span class="lineno">  321</span>   <span class="keyword">auto</span>&amp; multi_index = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">get_mutable_index</a>&lt;<a class="code hl_typedef" href="namespacesysio_1_1chain_1_1resource__limits.html#a46a650001834ee5948b425f2e83cf948">resource_limits_index</a>&gt;();</div>
<div class="line"><span class="lineno">  322</span>   <span class="keyword">auto</span>&amp; by_owner_index = multi_index.indices().get&lt;by_owner&gt;();</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>   <span class="comment">// convenience local lambda to reduce clutter</span></div>
<div class="line"><span class="lineno">  325</span>   <span class="keyword">auto</span> update_state_and_value = [](<a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a> &amp;total, <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> &amp;<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>, <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> pending_value, <span class="keyword">const</span> <span class="keywordtype">char</span>* debug_which) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"><span class="lineno">  326</span>      <span class="keywordflow">if</span> (<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  327</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(total &gt;= <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a><span class="keyword">&gt;</span>(<a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>), rate_limiting_state_inconsistent, <span class="stringliteral">&quot;underflow when reverting old value to ${which}&quot;</span>, (<span class="stringliteral">&quot;which&quot;</span>, debug_which));</div>
<div class="line"><span class="lineno">  328</span>         total -= <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a>;</div>
<div class="line"><span class="lineno">  329</span>      }</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>      <span class="keywordflow">if</span> (pending_value &gt; 0) {</div>
<div class="line"><span class="lineno">  332</span>         <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>(<a class="code hl_define" href="stdint_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a> - total &gt;= <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a><span class="keyword">&gt;</span>(pending_value), rate_limiting_state_inconsistent, <span class="stringliteral">&quot;overflow when applying new value to ${which}&quot;</span>, (<span class="stringliteral">&quot;which&quot;</span>, debug_which));</div>
<div class="line"><span class="lineno">  333</span>         total += pending_value;</div>
<div class="line"><span class="lineno">  334</span>      }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>      <a class="code hl_define" href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a> = pending_value;</div>
<div class="line"><span class="lineno">  337</span>   };</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="structstate.html">state</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  340</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(<a class="code hl_struct" href="structstate.html">state</a>, [&amp;](resource_limits_state_object&amp; rso){</div>
<div class="line"><span class="lineno">  341</span>      <span class="keywordflow">while</span>(!by_owner_index.empty()) {</div>
<div class="line"><span class="lineno">  342</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; itr = by_owner_index.lower_bound(boost::make_tuple(<span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  343</span>         <span class="keywordflow">if</span> (itr == by_owner_index.end() || itr-&gt;pending!= <span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  345</span>         }</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; actual_entry = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_object, by_owner&gt;(boost::make_tuple(<span class="keyword">false</span>, itr-&gt;owner));</div>
<div class="line"><span class="lineno">  348</span>         _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(actual_entry, [&amp;](resource_limits_object&amp; rlo){</div>
<div class="line"><span class="lineno">  349</span>            update_state_and_value(rso.total_ram_bytes,  rlo.ram_bytes,  itr-&gt;ram_bytes, <span class="stringliteral">&quot;ram_bytes&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>            update_state_and_value(rso.total_cpu_weight, rlo.cpu_weight, itr-&gt;cpu_weight, <span class="stringliteral">&quot;cpu_weight&quot;</span>);</div>
<div class="line"><span class="lineno">  351</span>            update_state_and_value(rso.total_net_weight, rlo.net_weight, itr-&gt;net_weight, <span class="stringliteral">&quot;net_weight&quot;</span>);</div>
<div class="line"><span class="lineno">  352</span>         });</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>         multi_index.remove(*itr);</div>
<div class="line"><span class="lineno">  355</span>      }</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  358</span>         dm_logger-&gt;on_update_resource_limits_state(<a class="code hl_struct" href="structstate.html">state</a>);</div>
<div class="line"><span class="lineno">  359</span>      }</div>
<div class="line"><span class="lineno">  360</span>   });</div>
<div class="line"><span class="lineno">  361</span>}</div>
<div class="ttc" id="aclasschainbase_1_1database_html_afaea057692a8bbbf3f506b64c60308b6"><div class="ttname"><a href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6">chainbase::database::get_mutable_index</a></div><div class="ttdeci">generic_index&lt; MultiIndexType &gt; &amp; get_mutable_index()</div><div class="ttdef"><b>Definition</b> <a href="chainbase_8hpp_source.html#l00447">chainbase.hpp:447</a></div></div>
<div class="ttc" id="anamespacesysio_1_1chain_1_1resource__limits_html_a46a650001834ee5948b425f2e83cf948"><div class="ttname"><a href="namespacesysio_1_1chain_1_1resource__limits.html#a46a650001834ee5948b425f2e83cf948">sysio::chain::resource_limits::resource_limits_index</a></div><div class="ttdeci">chainbase::shared_multi_index_container&lt; resource_limits_object, indexed_by&lt; ordered_unique&lt; tag&lt; by_id &gt;, member&lt; resource_limits_object, resource_limits_object::id_type, &amp;resource_limits_object::id &gt; &gt;, ordered_unique&lt; tag&lt; by_owner &gt;, composite_key&lt; resource_limits_object, BOOST_MULTI_INDEX_MEMBER(resource_limits_object, bool, pending), &gt; &gt; &gt; &gt; resource_limits_index</div><div class="ttdef"><b>Definition</b> <a href="resource__limits__private_8hpp_source.html#l00214">resource_limits_private.hpp:214</a></div></div>
<div class="ttc" id="apkcs11_8h_html_a32aff7c6c4cd253fdf6563677afab5ce"><div class="ttname"><a href="pkcs11_8h.html#a32aff7c6c4cd253fdf6563677afab5ce">value</a></div><div class="ttdeci">#define value</div><div class="ttdef"><b>Definition</b> <a href="pkcs11_8h_source.html#l00157">pkcs11.h:157</a></div></div>
<div class="ttc" id="astdint_8h_html_a30654b4b67d97c42ca3f9b6052dda916"><div class="ttname"><a href="stdint_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a></div><div class="ttdeci">#define UINT64_MAX</div><div class="ttdef"><b>Definition</b> <a href="stdint_8h_source.html#l00189">stdint.h:189</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_cgraph">
<area shape="rect" title=" " alt="" coords="5,12,191,82"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="617,13,785,38"/>
<area shape="poly" title=" " alt="" coords="191,34,238,30,404,19,569,19,602,20,602,25,569,24,404,24,239,35,191,39"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="428,33,569,74"/>
<area shape="poly" title=" " alt="" coords="191,46,413,50,413,55,191,51"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="239,84,380,125"/>
<area shape="poly" title=" " alt="" coords="192,70,225,79,223,84,190,75"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="833,5,974,46"/>
<area shape="poly" title=" " alt="" coords="785,32,817,32,817,37,785,37"/>
<area shape="poly" title=" " alt="" coords="832,20,800,19,800,14,832,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1022,35,1163,75"/>
<area shape="poly" title=" " alt="" coords="975,34,1007,39,1007,44,974,39"/>
<area shape="poly" title=" " alt="" coords="1022,60,974,60,903,63,832,60,760,46,761,41,833,55,903,58,974,55,1022,54"/>
<area shape="poly" title=" " alt="" coords="569,41,601,37,602,42,570,47"/>
<area shape="poly" title=" " alt="" coords="379,83,412,74,414,79,381,88"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a983919d376e5757bceee573e52b3c571_icgraph">
<area shape="rect" title=" " alt="" coords="1452,77,1637,148"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1437,115,1404,115,1404,110,1437,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a5ebf5f04366d7120f58430d9ba4f8c7a" name="a5ebf5f04366d7120f58430d9ba4f8c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebf5f04366d7120f58430d9ba4f8c7a">&#9670;&#160;</a></span>process_block_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::process_block_usage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>block_num</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00363">363</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  363</span>                                                                    {</div>
<div class="line"><span class="lineno">  364</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_state_object&gt;();</div>
<div class="line"><span class="lineno">  365</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  366</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(<a class="code hl_variable" href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a>, [&amp;](resource_limits_state_object&amp; <a class="code hl_struct" href="structstate.html">state</a>){</div>
<div class="line"><span class="lineno">  367</span>      <span class="comment">// apply pending usage, update virtual limits and reset the pending</span></div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>      <a class="code hl_struct" href="structstate.html">state</a>.average_block_cpu_usage.add(<a class="code hl_struct" href="structstate.html">state</a>.pending_cpu_usage, block_num, <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters.periods);</div>
<div class="line"><span class="lineno">  370</span>      <a class="code hl_struct" href="structstate.html">state</a>.update_virtual_cpu_limit(<a class="code hl_struct" href="classconfig.html">config</a>);</div>
<div class="line"><span class="lineno">  371</span>      <a class="code hl_struct" href="structstate.html">state</a>.pending_cpu_usage = 0;</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>      <a class="code hl_struct" href="structstate.html">state</a>.average_block_net_usage.add(<a class="code hl_struct" href="structstate.html">state</a>.pending_net_usage, block_num, <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters.periods);</div>
<div class="line"><span class="lineno">  374</span>      <a class="code hl_struct" href="structstate.html">state</a>.update_virtual_net_limit(<a class="code hl_struct" href="classconfig.html">config</a>);</div>
<div class="line"><span class="lineno">  375</span>      <a class="code hl_struct" href="structstate.html">state</a>.pending_net_usage = 0;</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  378</span>         dm_logger-&gt;on_update_resource_limits_state(<a class="code hl_struct" href="structstate.html">state</a>);</div>
<div class="line"><span class="lineno">  379</span>      }</div>
<div class="line"><span class="lineno">  380</span>   });</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>}</div>
<div class="ttc" id="ayubihsm__pkcs11_8c_html_a506da415c9307c897ca9be93acfe1d0f"><div class="ttname"><a href="yubihsm__pkcs11_8c.html#a506da415c9307c897ca9be93acfe1d0f">s</a></div><div class="ttdeci">char * s</div><div class="ttdef"><b>Definition</b> <a href="yubihsm__pkcs11_8c_source.html#l00524">yubihsm_pkcs11.c:524</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,218,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="644,20,812,46"/>
<area shape="poly" title=" " alt="" coords="218,27,266,27,596,27,629,27,629,33,596,32,266,32,218,33"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="266,41,407,82"/>
<area shape="poly" title=" " alt="" coords="218,44,250,48,250,53,218,49"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="860,13,1001,54"/>
<area shape="poly" title=" " alt="" coords="812,39,844,39,844,45,812,45"/>
<area shape="poly" title=" " alt="" coords="859,27,827,27,827,22,859,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1049,42,1190,83"/>
<area shape="poly" title=" " alt="" coords="1002,41,1034,47,1034,52,1001,47"/>
<area shape="poly" title=" " alt="" coords="1049,67,1001,68,930,71,859,68,787,53,788,48,860,63,930,66,1001,63,1049,62"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="455,41,596,82"/>
<area shape="poly" title=" " alt="" coords="407,58,440,58,440,64,407,64"/>
<area shape="poly" title=" " alt="" coords="596,49,628,44,629,50,597,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a5ebf5f04366d7120f58430d9ba4f8c7a_icgraph">
<area shape="rect" title=" " alt="" coords="1452,84,1664,140"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="a32baa74135a1423302de3a849dc8b40c" name="a32baa74135a1423302de3a849dc8b40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32baa74135a1423302de3a849dc8b40c">&#9670;&#160;</a></span>read_from_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::read_from_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#aaa27dacddc54cea475602788c8e7a02c">snapshot_reader_ptr</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>snapshot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00083">83</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>                                                                                      {</div>
<div class="line"><span class="lineno">   84</span>   resource_index_set::walk_indices([<span class="keyword">this</span>, &amp;snapshot]( <span class="keyword">auto</span> utils ){</div>
<div class="line"><span class="lineno">   85</span>      snapshot-&gt;read_section&lt;<span class="keyword">typename</span> <span class="keyword">decltype</span>(utils)::index_t::value_type&gt;([<span class="keyword">this</span>]( <span class="keyword">auto</span>&amp; section ) {</div>
<div class="line"><span class="lineno">   86</span>         <span class="keywordtype">bool</span> more = !section.empty();</div>
<div class="line"><span class="lineno">   87</span>         <span class="keywordflow">while</span>(more) {</div>
<div class="line"><span class="lineno">   88</span>            <span class="keyword">decltype</span>(utils)::create(_db, [<span class="keyword">this</span>, &amp;section, &amp;more]( <span class="keyword">auto</span> &amp;row ) {</div>
<div class="line"><span class="lineno">   89</span>               more = section.read_row(row, _db);</div>
<div class="line"><span class="lineno">   90</span>            });</div>
<div class="line"><span class="lineno">   91</span>         }</div>
<div class="line"><span class="lineno">   92</span>      });</div>
<div class="line"><span class="lineno">   93</span>   });</div>
<div class="line"><span class="lineno">   94</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a32baa74135a1423302de3a849dc8b40c_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a32baa74135a1423302de3a849dc8b40c_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a32baa74135a1423302de3a849dc8b40c_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a32baa74135a1423302de3a849dc8b40c_icgraph">
<area shape="rect" title=" " alt="" coords="432,5,636,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a247c87d241e707c5e482c3d6d8872a7f" title=" " alt="" coords="206,13,384,54"/>
<area shape="poly" title=" " alt="" coords="416,36,384,36,384,30,416,30"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a18bcf25847599b0f9caa6566364bb0ac" title=" " alt="" coords="5,13,158,54"/>
<area shape="poly" title=" " alt="" coords="190,36,158,36,158,30,190,30"/>
</map>
</div>

</div>
</div>
<a id="a3455e73574b3df18ee52bfc075a3a208" name="a3455e73574b3df18ee52bfc075a3a208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3455e73574b3df18ee52bfc075a3a208">&#9670;&#160;</a></span>set_account_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sysio::chain::resource_limits::resource_limits_manager::set_account_limits </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>account</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>ram_bytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>net_weight</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a></td>          <td class="paramname"><span class="paramname"><em>cpu_weight</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00244">244</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  244</span>                                                                                                                                        {</div>
<div class="line"><span class="lineno">  245</span>   <span class="comment">//const auto&amp; usage = _db.get&lt;resource_usage_object,by_owner&gt;( account );</span></div>
<div class="line"><span class="lineno">  246</span>   <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  247</span><span class="comment">    * Since we need to delay these until the next resource limiting boundary, these are created in a &quot;pending&quot;</span></div>
<div class="line"><span class="lineno">  248</span><span class="comment">    * state or adjusted in an existing &quot;pending&quot; state.  The chain controller will collapse &quot;pending&quot; state into</span></div>
<div class="line"><span class="lineno">  249</span><span class="comment">    * the actual state at the next appropriate boundary.</span></div>
<div class="line"><span class="lineno">  250</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  251</span>   <span class="keyword">auto</span> find_or_create_pending_limits = [&amp;]() -&gt; <span class="keyword">const</span> resource_limits_object&amp; {</div>
<div class="line"><span class="lineno">  252</span>      <span class="keyword">const</span> <span class="keyword">auto</span>* pending_limits = _db.<a class="code hl_function" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a">find</a>&lt;resource_limits_object, by_owner&gt;( boost::make_tuple(<span class="keyword">true</span>, account) );</div>
<div class="line"><span class="lineno">  253</span>      <span class="keywordflow">if</span> (pending_limits == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  254</span>         <span class="keyword">const</span> <span class="keyword">auto</span>&amp; limits = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_object, by_owner&gt;( boost::make_tuple(<span class="keyword">false</span>, account));</div>
<div class="line"><span class="lineno">  255</span>         <span class="keywordflow">return</span> _db.<a class="code hl_function" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7">create</a>&lt;resource_limits_object&gt;([&amp;](resource_limits_object&amp; pending_limits){</div>
<div class="line"><span class="lineno">  256</span>            pending_limits.owner = limits.owner;</div>
<div class="line"><span class="lineno">  257</span>            pending_limits.ram_bytes = limits.ram_bytes;</div>
<div class="line"><span class="lineno">  258</span>            pending_limits.net_weight = limits.net_weight;</div>
<div class="line"><span class="lineno">  259</span>            pending_limits.cpu_weight = limits.cpu_weight;</div>
<div class="line"><span class="lineno">  260</span>            pending_limits.pending = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  261</span>         });</div>
<div class="line"><span class="lineno">  262</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  263</span>         <span class="keywordflow">return</span> *pending_limits;</div>
<div class="line"><span class="lineno">  264</span>      }</div>
<div class="line"><span class="lineno">  265</span>   };</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>   <span class="comment">// update the users weights directly</span></div>
<div class="line"><span class="lineno">  268</span>   <span class="keyword">auto</span>&amp; limits = find_or_create_pending_limits();</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>   <span class="keywordtype">bool</span> decreased_limit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>   <span class="keywordflow">if</span>( ram_bytes &gt;= 0 ) {</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>      decreased_limit = ( (limits.ram_bytes &lt; 0) || (ram_bytes &lt; limits.ram_bytes) );</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  277</span><span class="comment">      if( limits.ram_bytes &lt; 0 ) {</span></div>
<div class="line"><span class="lineno">  278</span><span class="comment">         SYS_ASSERT(ram_bytes &gt;= usage.ram_usage, wasm_execution_error, &quot;converting unlimited account would result in overcommitment [commit=${c}, desired limit=${l}]&quot;, (&quot;c&quot;, usage.ram_usage)(&quot;l&quot;, ram_bytes));</span></div>
<div class="line"><span class="lineno">  279</span><span class="comment">      } else {</span></div>
<div class="line"><span class="lineno">  280</span><span class="comment">         SYS_ASSERT(ram_bytes &gt;= usage.ram_usage, wasm_execution_error, &quot;attempting to release committed ram resources [commit=${c}, desired limit=${l}]&quot;, (&quot;c&quot;, usage.ram_usage)(&quot;l&quot;, ram_bytes));</span></div>
<div class="line"><span class="lineno">  281</span><span class="comment">      }</span></div>
<div class="line"><span class="lineno">  282</span><span class="comment">      */</span></div>
<div class="line"><span class="lineno">  283</span>   }</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( limits, [&amp;]( resource_limits_object&amp; pending_limits ){</div>
<div class="line"><span class="lineno">  286</span>      pending_limits.ram_bytes = ram_bytes;</div>
<div class="line"><span class="lineno">  287</span>      pending_limits.net_weight = net_weight;</div>
<div class="line"><span class="lineno">  288</span>      pending_limits.cpu_weight = cpu_weight;</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  291</span>         dm_logger-&gt;on_set_account_limits(pending_limits);</div>
<div class="line"><span class="lineno">  292</span>      }</div>
<div class="line"><span class="lineno">  293</span>   });</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>   <span class="keywordflow">return</span> decreased_limit;</div>
<div class="line"><span class="lineno">  296</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a3455e73574b3df18ee52bfc075a3a208_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a3455e73574b3df18ee52bfc075a3a208_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a3455e73574b3df18ee52bfc075a3a208_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a3455e73574b3df18ee52bfc075a3a208_cgraph">
<area shape="rect" title="set_account_limits returns true if new ram_bytes limit is more restrictive than the previously set on..." alt="" coords="5,92,201,148"/>
<area shape="rect" href="classchainbase_1_1database.html#adc8f336b33d7013d1b0400399b16c5a7" title=" " alt="" coords="249,5,390,46"/>
<area shape="poly" title=" " alt="" coords="167,89,256,50,258,55,170,94"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="627,136,795,161"/>
<area shape="poly" title=" " alt="" coords="201,122,612,141,612,146,201,127"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="843,153,984,194"/>
<area shape="poly" title=" " alt="" coords="202,131,249,136,438,158,627,171,827,173,827,178,627,176,437,163,248,142,201,136"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="249,71,390,111"/>
<area shape="poly" title=" " alt="" coords="201,104,233,100,234,105,202,110"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="438,71,579,111"/>
<area shape="poly" title=" " alt="" coords="381,44,434,63,432,68,379,49"/>
<area shape="poly" title=" " alt="" coords="581,108,649,128,648,133,579,114"/>
<area shape="poly" title=" " alt="" coords="758,159,828,169,827,174,757,164"/>
<area shape="poly" title=" " alt="" coords="842,159,810,154,811,149,843,154"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1032,125,1173,166"/>
<area shape="poly" title=" " alt="" coords="984,161,1016,156,1017,161,985,166"/>
<area shape="poly" title=" " alt="" coords="1032,146,984,144,843,144,810,145,810,140,843,139,984,139,1032,140"/>
<area shape="poly" title=" " alt="" coords="390,88,423,88,423,94,390,94"/>
</map>
</div>

</div>
</div>
<a id="a4396d0acb70ebbd8054b13ff4c564e20" name="a4396d0acb70ebbd8054b13ff4c564e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4396d0acb70ebbd8054b13ff4c564e20">&#9670;&#160;</a></span>set_block_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::set_block_parameters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html">elastic_limit_parameters</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>cpu_limit_parameters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html">elastic_limit_parameters</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>net_limit_parameters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00109">109</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>                                                                                                                                                              {</div>
<div class="line"><span class="lineno">  110</span>   cpu_limit_parameters.validate();</div>
<div class="line"><span class="lineno">  111</span>   net_limit_parameters.validate();</div>
<div class="line"><span class="lineno">  112</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  113</span>   <span class="keywordflow">if</span>( <a class="code hl_struct" href="classconfig.html">config</a>.cpu_limit_parameters == cpu_limit_parameters &amp;&amp; <a class="code hl_struct" href="classconfig.html">config</a>.net_limit_parameters == net_limit_parameters )</div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  115</span>   _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>(<a class="code hl_struct" href="classconfig.html">config</a>, [&amp;](resource_limits_config_object&amp; c){</div>
<div class="line"><span class="lineno">  116</span>      c.cpu_limit_parameters = cpu_limit_parameters;</div>
<div class="line"><span class="lineno">  117</span>      c.net_limit_parameters = net_limit_parameters;</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>      <span class="keywordflow">if</span> (<span class="keyword">auto</span> dm_logger = _get_deep_mind_logger()) {</div>
<div class="line"><span class="lineno">  120</span>         dm_logger-&gt;on_update_resource_limits_config(c);</div>
<div class="line"><span class="lineno">  121</span>      }</div>
<div class="line"><span class="lineno">  122</span>   });</div>
<div class="line"><span class="lineno">  123</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_cgraph">
<area shape="rect" title=" " alt="" coords="5,26,220,82"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="654,13,822,38"/>
<area shape="poly" title=" " alt="" coords="220,26,267,19,366,12,466,10,639,16,639,21,466,16,366,18,268,24,221,31"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="272,33,413,74"/>
<area shape="poly" title=" " alt="" coords="220,51,256,51,256,56,220,56"/>
<area shape="rect" href="structsysio_1_1chain_1_1resource__limits_1_1elastic__limit__parameters.html#a5535b786bf4289eccf551d6b15e5c839" title=" " alt="" coords="268,98,417,154"/>
<area shape="poly" title=" " alt="" coords="204,80,253,95,252,100,203,85"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="870,5,1011,46"/>
<area shape="poly" title=" " alt="" coords="822,32,854,32,854,37,822,37"/>
<area shape="poly" title=" " alt="" coords="869,20,837,19,837,14,869,14"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1059,35,1200,75"/>
<area shape="poly" title=" " alt="" coords="1012,34,1044,39,1044,44,1011,39"/>
<area shape="poly" title=" " alt="" coords="1059,60,1011,60,940,63,869,60,797,46,798,41,870,55,940,58,1011,55,1059,54"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="465,33,606,74"/>
<area shape="poly" title=" " alt="" coords="414,51,449,51,449,56,414,56"/>
<area shape="poly" title=" " alt="" coords="606,41,638,37,639,42,607,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_a4396d0acb70ebbd8054b13ff4c564e20_icgraph">
<area shape="rect" title=" " alt="" coords="1452,84,1666,140"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a5eb5bb7961c3ae6496caca42b84ab192" title="start_block" alt="" coords="1251,92,1404,133"/>
<area shape="poly" title=" " alt="" coords="1436,115,1404,115,1404,110,1436,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#aaf795677a1a49a35ac1a819a1a157929" title=" " alt="" coords="1051,92,1203,133"/>
<area shape="poly" title=" " alt="" coords="1236,115,1204,115,1204,110,1236,110"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ad0130874bac31eb408dd6e766084b814" title=" " alt="" coords="851,63,1003,103"/>
<area shape="poly" title=" " alt="" coords="1035,102,1003,97,1004,92,1036,96"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#af15d89f9220ba97aa5c521e643746587" title=" " alt="" coords="622,120,803,161"/>
<area shape="poly" title=" " alt="" coords="1036,121,803,137,803,132,1035,116"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a2fe4194f0202db6c18bc17572b2adaa2" title=" " alt="" coords="406,177,574,218"/>
<area shape="poly" title=" " alt="" coords="1036,133,1004,139,904,159,803,175,684,188,575,196,575,190,683,182,802,170,903,154,1002,134,1035,127"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#abde6bacce9f720ad552d0e342c52d3b4" title="finalize_block" alt="" coords="636,5,789,46"/>
<area shape="poly" title=" " alt="" coords="835,61,788,49,790,43,836,56"/>
<area shape="poly" title=" " alt="" coords="836,110,792,122,791,117,835,105"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ac2d3794f1bd0ff1bd5837d8ead15d289" title=" " alt="" coords="414,63,566,103"/>
<area shape="poly" title=" " alt="" coords="835,86,567,86,567,80,835,80"/>
<area shape="poly" title=" " alt="" coords="804,22,901,29,953,37,1004,48,1052,67,1094,89,1092,94,1050,72,1002,54,952,42,901,34,804,28"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9efbc515682ae5dede91184c36af73f7" title=" " alt="" coords="5,149,158,190"/>
<area shape="poly" title=" " alt="" coords="607,148,158,169,158,163,607,143"/>
<area shape="poly" title=" " alt="" coords="616,118,566,105,568,100,617,113"/>
<area shape="poly" title=" " alt="" coords="617,168,572,179,571,174,616,162"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a9a9e4b6fe15eb93e63ac98af9f170647" title=" " alt="" coords="206,177,358,218"/>
<area shape="poly" title=" " alt="" coords="391,200,359,200,359,195,391,195"/>
<area shape="poly" title=" " alt="" coords="190,188,158,183,158,178,190,182"/>
</map>
</div>

</div>
</div>
<a id="aaa7345adbf341592a81c087c50655597" name="aaa7345adbf341592a81c087c50655597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa7345adbf341592a81c087c50655597">&#9670;&#160;</a></span>update_account_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::update_account_usage </td>
          <td>(</td>
          <td class="paramtype">const flat_set&lt; <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>accounts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>ordinal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00125">125</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>                                                                                                              {</div>
<div class="line"><span class="lineno">  126</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_struct" href="classconfig.html">config</a> = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_limits_config_object&gt;();</div>
<div class="line"><span class="lineno">  127</span>   <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> : accounts ) {</div>
<div class="line"><span class="lineno">  128</span>      <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object,by_owner&gt;( <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a> );</div>
<div class="line"><span class="lineno">  129</span>      _db.<a class="code hl_function" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4">modify</a>( usage, [&amp;]( <span class="keyword">auto</span>&amp; bu ){</div>
<div class="line"><span class="lineno">  130</span>          bu.net_usage.add( 0, time_slot, <a class="code hl_struct" href="classconfig.html">config</a>.account_net_usage_average_window );</div>
<div class="line"><span class="lineno">  131</span>          bu.cpu_usage.add( 0, time_slot, <a class="code hl_struct" href="classconfig.html">config</a>.account_cpu_usage_average_window );</div>
<div class="line"><span class="lineno">  132</span>      });</div>
<div class="line"><span class="lineno">  133</span>   }</div>
<div class="line"><span class="lineno">  134</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,226,61"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="652,20,820,46"/>
<area shape="poly" title=" " alt="" coords="226,27,274,27,604,27,637,27,637,33,604,32,274,32,226,33"/>
<area shape="rect" href="classchainbase_1_1database.html#a9ebc006075e8fc2e84357a0e068b58d4" title=" " alt="" coords="274,41,415,82"/>
<area shape="poly" title=" " alt="" coords="226,44,258,48,258,53,226,49"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="868,13,1009,54"/>
<area shape="poly" title=" " alt="" coords="820,39,852,39,852,45,820,45"/>
<area shape="poly" title=" " alt="" coords="867,27,835,27,835,22,867,22"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="1057,42,1198,83"/>
<area shape="poly" title=" " alt="" coords="1010,41,1042,47,1042,52,1009,47"/>
<area shape="poly" title=" " alt="" coords="1057,67,1009,68,938,71,867,68,795,53,796,48,868,63,938,66,1009,63,1057,62"/>
<area shape="rect" href="classchainbase_1_1database.html#afaea057692a8bbbf3f506b64c60308b6" title=" " alt="" coords="463,41,604,82"/>
<area shape="poly" title=" " alt="" coords="415,58,448,58,448,64,415,64"/>
<area shape="poly" title=" " alt="" coords="604,49,636,44,637,50,605,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_aaa7345adbf341592a81c087c50655597_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,499,61"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a43b89d301b09c599969412d7db819bd3" title=" " alt="" coords="5,13,231,54"/>
<area shape="poly" title=" " alt="" coords="263,36,231,36,231,30,263,30"/>
</map>
</div>

</div>
</div>
<a id="af72734af83f353fae77fbf837776db10" name="af72734af83f353fae77fbf837776db10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72734af83f353fae77fbf837776db10">&#9670;&#160;</a></span>verify_account_ram_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sysio::chain::resource_limits::resource_limits_manager::verify_account_ram_usage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacesysio_1_1chain.html#ac32ce8e75243f2b3f76aff0c1984f11b">account_name</a></td>          <td class="paramname"><span class="paramname"><em>accunt</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="resource__limits_8cpp_source.html#l00227">227</a> of file <a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                                                        {</div>
<div class="line"><span class="lineno">  228</span>   <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> ram_bytes; <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> net_weight; <a class="code hl_typedef" href="stdint_8h.html#a414156feea104f8f75b4ed9e3121b2f6">int64_t</a> cpu_weight;</div>
<div class="line"><span class="lineno">  229</span>   <a class="code hl_function" href="#a140981c195e4e0c5788f0aa6383c2697">get_account_limits</a>( account, ram_bytes, net_weight, cpu_weight );</div>
<div class="line"><span class="lineno">  230</span>   <span class="keyword">const</span> <span class="keyword">auto</span>&amp; usage  = _db.<a class="code hl_function" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a">get</a>&lt;resource_usage_object,by_owner&gt;( account );</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>   <span class="keywordflow">if</span>( ram_bytes &gt;= 0 ) {</div>
<div class="line"><span class="lineno">  233</span>      <a class="code hl_define" href="chain_2include_2sysio_2chain_2exceptions_8hpp.html#a40c2826a6fba35c1ffbf912bdf559792">SYS_ASSERT</a>( usage.ram_usage &lt;= <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="stdint_8h.html#aec6fcb673ff035718c238c8c9d544c47">uint64_t</a><span class="keyword">&gt;</span>(ram_bytes), ram_usage_exceeded,</div>
<div class="line"><span class="lineno">  234</span>                  <span class="stringliteral">&quot;account ${account} has insufficient ram; needs ${needs} bytes has ${available} bytes&quot;</span>,</div>
<div class="line"><span class="lineno">  235</span>                  (<span class="stringliteral">&quot;account&quot;</span>, account)(<span class="stringliteral">&quot;needs&quot;</span>,usage.ram_usage)(<span class="stringliteral">&quot;available&quot;</span>,ram_bytes)              );</div>
<div class="line"><span class="lineno">  236</span>   }</div>
<div class="line"><span class="lineno">  237</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_cgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_cgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_cgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_cgraph">
<area shape="rect" title=" " alt="" coords="5,12,177,82"/>
<area shape="rect" href="classchainbase_1_1database.html#afcfe00f81a526c1376d4f51197dd3a9a" title=" " alt="" coords="468,16,635,41"/>
<area shape="poly" title=" " alt="" coords="177,39,225,36,452,28,453,33,225,42,177,44"/>
<area shape="rect" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html#a140981c195e4e0c5788f0aa6383c2697" title=" " alt="" coords="225,51,420,107"/>
<area shape="poly" title=" " alt="" coords="177,56,210,61,209,66,176,61"/>
<area shape="rect" href="classchainbase_1_1database.html#aa5a2ca0da0092693ac49b36b7ec6817a" title=" " alt="" coords="683,33,825,74"/>
<area shape="poly" title=" " alt="" coords="599,39,668,49,667,54,598,44"/>
<area shape="poly" title=" " alt="" coords="683,39,651,34,651,29,683,34"/>
<area shape="rect" href="classchainbase_1_1database.html#a4d5297635dcf70be481d9b600da9bc13" title=" " alt="" coords="873,5,1014,46"/>
<area shape="poly" title=" " alt="" coords="824,41,857,36,858,41,825,46"/>
<area shape="poly" title=" " alt="" coords="872,26,825,24,683,24,651,25,651,20,683,19,825,19,873,20"/>
<area shape="poly" title=" " alt="" coords="420,55,475,42,477,48,421,60"/>
<area shape="poly" title=" " alt="" coords="420,71,668,56,668,61,421,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_icgraph.png" border="0" usemap="#aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_icgraph" alt=""/></div>
<map name="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_icgraph" id="aclasssysio_1_1chain_1_1resource__limits_1_1resource__limits__manager_af72734af83f353fae77fbf837776db10_icgraph">
<area shape="rect" title=" " alt="" coords="921,5,1092,76"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#ae2c30acb1a0557f6c3967c6a154f7b23" title=" " alt="" coords="681,20,873,61"/>
<area shape="poly" title=" " alt="" coords="906,43,873,43,873,38,906,38"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a01cf826f5503f482715ca2b724279cde" title=" " alt="" coords="466,20,633,61"/>
<area shape="poly" title=" " alt="" coords="666,43,634,43,634,38,666,38"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a8d08d7c15ecb706c0bd54e992019c30d" title=" " alt="" coords="206,20,418,61"/>
<area shape="poly" title=" " alt="" coords="450,43,418,43,418,38,450,38"/>
<area shape="rect" href="structsysio_1_1chain_1_1controller__impl.html#a7863870ecde398ac7def54e4814db6bc" title=" " alt="" coords="5,20,158,61"/>
<area shape="poly" title=" " alt="" coords="190,43,158,43,158,38,190,38"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/chain/include/sysio/chain/<a class="el" href="resource__limits_8hpp_source.html">resource_limits.hpp</a></li>
<li>libraries/chain/<a class="el" href="resource__limits_8cpp_source.html">resource_limits.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesysio.html">sysio</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain.html">chain</a></li><li class="navelem"><a class="el" href="namespacesysio_1_1chain_1_1resource__limits.html">resource_limits</a></li><li class="navelem"><a class="el" href="classsysio_1_1chain_1_1resource__limits_1_1resource__limits__manager.html">resource_limits_manager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
